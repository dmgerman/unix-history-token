begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|//== CheckerV2.h - Registration mechanism for checkers -----------*- C++ -*--=//
end_comment

begin_comment
comment|//
end_comment

begin_comment
comment|//                     The LLVM Compiler Infrastructure
end_comment

begin_comment
comment|//
end_comment

begin_comment
comment|// This file is distributed under the University of Illinois Open Source
end_comment

begin_comment
comment|// License. See LICENSE.TXT for details.
end_comment

begin_comment
comment|//
end_comment

begin_comment
comment|//===----------------------------------------------------------------------===//
end_comment

begin_comment
comment|//
end_comment

begin_comment
comment|//  This file defines CheckerV2, used to create and register checkers.
end_comment

begin_comment
comment|//
end_comment

begin_comment
comment|//===----------------------------------------------------------------------===//
end_comment

begin_ifndef
ifndef|#
directive|ifndef
name|LLVM_CLANG_SA_CORE_CHECKERV2
end_ifndef

begin_define
define|#
directive|define
name|LLVM_CLANG_SA_CORE_CHECKERV2
end_define

begin_include
include|#
directive|include
file|"clang/StaticAnalyzer/Core/CheckerManager.h"
end_include

begin_include
include|#
directive|include
file|"llvm/Support/Casting.h"
end_include

begin_decl_stmt
name|namespace
name|clang
block|{
name|namespace
name|ento
block|{
name|class
name|BugReporter
decl_stmt|;
name|namespace
name|check
block|{
struct|struct
name|_VoidCheck
block|{
specifier|static
name|void
name|_register
parameter_list|(
name|void
modifier|*
name|checker
parameter_list|,
name|CheckerManager
modifier|&
name|mgr
parameter_list|)
block|{ }
block|}
struct|;
name|template
operator|<
name|typename
name|DECL
operator|>
name|class
name|ASTDecl
block|{
name|template
operator|<
name|typename
name|CHECKER
operator|>
specifier|static
name|void
name|_checkDecl
argument_list|(
argument|void *checker
argument_list|,
argument|const Decl *D
argument_list|,
argument|AnalysisManager& mgr
argument_list|,
argument|BugReporter&BR
argument_list|)
block|{
operator|(
operator|(
specifier|const
name|CHECKER
operator|*
operator|)
name|checker
operator|)
operator|->
name|checkASTDecl
argument_list|(
name|llvm
operator|::
name|cast
operator|<
name|DECL
operator|>
operator|(
name|D
operator|)
argument_list|,
name|mgr
argument_list|,
name|BR
argument_list|)
block|;   }
specifier|static
name|bool
name|_handlesDecl
argument_list|(
argument|const Decl *D
argument_list|)
block|{
return|return
name|llvm
operator|::
name|isa
operator|<
name|DECL
operator|>
operator|(
name|D
operator|)
return|;
block|}
name|public
operator|:
name|template
operator|<
name|typename
name|CHECKER
operator|>
specifier|static
name|void
name|_register
argument_list|(
argument|CHECKER *checker
argument_list|,
argument|CheckerManager&mgr
argument_list|)
block|{
name|mgr
operator|.
name|_registerForDecl
argument_list|(
name|checker
argument_list|,
name|_checkDecl
operator|<
name|CHECKER
operator|>
argument_list|,
name|_handlesDecl
argument_list|)
block|;   }
expr|}
block|;
name|class
name|ASTCodeBody
block|{
name|template
operator|<
name|typename
name|CHECKER
operator|>
specifier|static
name|void
name|_checkBody
argument_list|(
argument|void *checker
argument_list|,
argument|const Decl *D
argument_list|,
argument|AnalysisManager& mgr
argument_list|,
argument|BugReporter&BR
argument_list|)
block|{
operator|(
operator|(
specifier|const
name|CHECKER
operator|*
operator|)
name|checker
operator|)
operator|->
name|checkASTCodeBody
argument_list|(
name|D
argument_list|,
name|mgr
argument_list|,
name|BR
argument_list|)
block|;   }
name|public
operator|:
name|template
operator|<
name|typename
name|CHECKER
operator|>
specifier|static
name|void
name|_register
argument_list|(
argument|CHECKER *checker
argument_list|,
argument|CheckerManager&mgr
argument_list|)
block|{
name|mgr
operator|.
name|_registerForBody
argument_list|(
name|checker
argument_list|,
name|_checkBody
operator|<
name|CHECKER
operator|>
argument_list|)
block|;   }
block|}
block|;  }
comment|// end check namespace
name|template
operator|<
name|typename
name|CHECK1
operator|,
name|typename
name|CHECK2
operator|=
name|check
operator|::
name|_VoidCheck
operator|,
name|typename
name|CHECK3
operator|=
name|check
operator|::
name|_VoidCheck
operator|,
name|typename
name|CHECK4
operator|=
name|check
operator|::
name|_VoidCheck
operator|,
name|typename
name|CHECK5
operator|=
name|check
operator|::
name|_VoidCheck
operator|,
name|typename
name|CHECK6
operator|=
name|check
operator|::
name|_VoidCheck
operator|,
name|typename
name|CHECK7
operator|=
name|check
operator|::
name|_VoidCheck
operator|,
name|typename
name|CHECK8
operator|=
name|check
operator|::
name|_VoidCheck
operator|,
name|typename
name|CHECK9
operator|=
name|check
operator|::
name|_VoidCheck
operator|,
name|typename
name|CHECK10
operator|=
name|check
operator|::
name|_VoidCheck
operator|,
name|typename
name|CHECK11
operator|=
name|check
operator|::
name|_VoidCheck
operator|,
name|typename
name|CHECK12
operator|=
name|check
operator|::
name|_VoidCheck
operator|>
name|class
name|CheckerV2
block|{
name|public
operator|:
name|template
operator|<
name|typename
name|CHECKER
operator|>
specifier|static
name|void
name|_register
argument_list|(
argument|CHECKER *checker
argument_list|,
argument|CheckerManager&mgr
argument_list|)
block|{
name|CHECK1
operator|::
name|_register
argument_list|(
name|checker
argument_list|,
name|mgr
argument_list|)
block|;
name|CHECK2
operator|::
name|_register
argument_list|(
name|checker
argument_list|,
name|mgr
argument_list|)
block|;
name|CHECK3
operator|::
name|_register
argument_list|(
name|checker
argument_list|,
name|mgr
argument_list|)
block|;
name|CHECK4
operator|::
name|_register
argument_list|(
name|checker
argument_list|,
name|mgr
argument_list|)
block|;
name|CHECK5
operator|::
name|_register
argument_list|(
name|checker
argument_list|,
name|mgr
argument_list|)
block|;
name|CHECK6
operator|::
name|_register
argument_list|(
name|checker
argument_list|,
name|mgr
argument_list|)
block|;
name|CHECK7
operator|::
name|_register
argument_list|(
name|checker
argument_list|,
name|mgr
argument_list|)
block|;
name|CHECK8
operator|::
name|_register
argument_list|(
name|checker
argument_list|,
name|mgr
argument_list|)
block|;
name|CHECK9
operator|::
name|_register
argument_list|(
name|checker
argument_list|,
name|mgr
argument_list|)
block|;
name|CHECK10
operator|::
name|_register
argument_list|(
name|checker
argument_list|,
name|mgr
argument_list|)
block|;
name|CHECK11
operator|::
name|_register
argument_list|(
name|checker
argument_list|,
name|mgr
argument_list|)
block|;
name|CHECK12
operator|::
name|_register
argument_list|(
name|checker
argument_list|,
name|mgr
argument_list|)
block|;   }
block|}
expr_stmt|;
block|}
comment|// end ento namespace
block|}
end_decl_stmt

begin_comment
comment|// end clang namespace
end_comment

begin_endif
endif|#
directive|endif
end_endif

end_unit

