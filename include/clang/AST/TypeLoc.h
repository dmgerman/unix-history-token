begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|//===--- TypeLoc.h - Type Source Info Wrapper -------------------*- C++ -*-===//
end_comment

begin_comment
comment|//
end_comment

begin_comment
comment|//                     The LLVM Compiler Infrastructure
end_comment

begin_comment
comment|//
end_comment

begin_comment
comment|// This file is distributed under the University of Illinois Open Source
end_comment

begin_comment
comment|// License. See LICENSE.TXT for details.
end_comment

begin_comment
comment|//
end_comment

begin_comment
comment|//===----------------------------------------------------------------------===//
end_comment

begin_comment
comment|//
end_comment

begin_comment
comment|//  This file defines the TypeLoc interface and subclasses.
end_comment

begin_comment
comment|//
end_comment

begin_comment
comment|//===----------------------------------------------------------------------===//
end_comment

begin_ifndef
ifndef|#
directive|ifndef
name|LLVM_CLANG_AST_TYPELOC_H
end_ifndef

begin_define
define|#
directive|define
name|LLVM_CLANG_AST_TYPELOC_H
end_define

begin_include
include|#
directive|include
file|"clang/AST/Type.h"
end_include

begin_decl_stmt
name|namespace
name|clang
block|{
name|class
name|ParmVarDecl
decl_stmt|;
name|class
name|TypeSpecLoc
decl_stmt|;
name|class
name|DeclaratorInfo
decl_stmt|;
comment|/// \brief Base wrapper for a particular "section" of type source info.
comment|///
comment|/// A client should use the TypeLoc subclasses through cast/dyn_cast in order to
comment|/// get at the actual information.
name|class
name|TypeLoc
block|{
name|protected
label|:
name|QualType
name|Ty
decl_stmt|;
name|void
modifier|*
name|Data
decl_stmt|;
name|public
label|:
name|TypeLoc
argument_list|()
operator|:
name|Data
argument_list|(
literal|0
argument_list|)
block|{ }
name|TypeLoc
argument_list|(
argument|QualType ty
argument_list|,
argument|void *opaqueData
argument_list|)
operator|:
name|Ty
argument_list|(
name|ty
argument_list|)
operator|,
name|Data
argument_list|(
argument|opaqueData
argument_list|)
block|{ }
name|bool
name|isNull
argument_list|()
specifier|const
block|{
return|return
name|Ty
operator|.
name|isNull
argument_list|()
return|;
block|}
name|operator
name|bool
argument_list|()
specifier|const
block|{
return|return
operator|!
name|isNull
argument_list|()
return|;
block|}
comment|/// \brief Returns the size of type source info data block for the given type.
specifier|static
name|unsigned
name|getFullDataSizeForType
parameter_list|(
name|QualType
name|Ty
parameter_list|)
function_decl|;
comment|/// \brief Get the type for which this source info wrapper provides
comment|/// information.
name|QualType
name|getSourceType
argument_list|()
specifier|const
block|{
return|return
name|Ty
return|;
block|}
comment|/// \brief Get the pointer where source information is stored.
name|void
operator|*
name|getOpaqueData
argument_list|()
specifier|const
block|{
return|return
name|Data
return|;
block|}
name|SourceRange
name|getSourceRange
argument_list|()
specifier|const
expr_stmt|;
comment|/// \brief Find the TypeSpecLoc that is part of this TypeLoc.
name|TypeSpecLoc
name|getTypeSpecLoc
argument_list|()
specifier|const
expr_stmt|;
comment|/// \brief Find the TypeSpecLoc that is part of this TypeLoc and return its
comment|/// SourceRange.
name|SourceRange
name|getTypeSpecRange
argument_list|()
specifier|const
expr_stmt|;
comment|/// \brief Returns the size of the type source info data block.
name|unsigned
name|getFullDataSize
argument_list|()
specifier|const
expr_stmt|;
comment|/// \brief Get the next TypeLoc pointed by this TypeLoc, e.g for "int*" the
comment|/// TypeLoc is a PointerLoc and next TypeLoc is for "int".
name|TypeLoc
name|getNextTypeLoc
argument_list|()
specifier|const
expr_stmt|;
name|friend
name|bool
name|operator
operator|==
operator|(
specifier|const
name|TypeLoc
operator|&
name|LHS
operator|,
specifier|const
name|TypeLoc
operator|&
name|RHS
operator|)
block|{
return|return
name|LHS
operator|.
name|Ty
operator|==
name|RHS
operator|.
name|Ty
operator|&&
name|LHS
operator|.
name|Data
operator|==
name|RHS
operator|.
name|Data
return|;
block|}
name|friend
name|bool
name|operator
operator|!=
operator|(
specifier|const
name|TypeLoc
operator|&
name|LHS
operator|,
specifier|const
name|TypeLoc
operator|&
name|RHS
operator|)
block|{
return|return
operator|!
operator|(
name|LHS
operator|==
name|RHS
operator|)
return|;
block|}
specifier|static
name|bool
name|classof
parameter_list|(
specifier|const
name|TypeLoc
modifier|*
name|TL
parameter_list|)
block|{
return|return
name|true
return|;
block|}
block|}
empty_stmt|;
comment|/// \brief Base wrapper of type source info data for type-spec types.
name|class
name|TypeSpecLoc
range|:
name|public
name|TypeLoc
block|{
name|public
operator|:
specifier|static
name|bool
name|classof
argument_list|(
specifier|const
name|TypeLoc
operator|*
name|TL
argument_list|)
block|;
specifier|static
name|bool
name|classof
argument_list|(
argument|const TypeSpecLoc *TL
argument_list|)
block|{
return|return
name|true
return|;
block|}
expr|}
block|;
comment|/// \brief Base wrapper of type source info data for types part of a declarator,
comment|/// excluding type-spec types.
name|class
name|DeclaratorLoc
operator|:
name|public
name|TypeLoc
block|{
name|public
operator|:
comment|/// \brief Find the TypeSpecLoc that is part of this DeclaratorLoc.
name|TypeSpecLoc
name|getTypeSpecLoc
argument_list|()
specifier|const
block|;
specifier|static
name|bool
name|classof
argument_list|(
specifier|const
name|TypeLoc
operator|*
name|TL
argument_list|)
block|;
specifier|static
name|bool
name|classof
argument_list|(
argument|const DeclaratorLoc *TL
argument_list|)
block|{
return|return
name|true
return|;
block|}
expr|}
block|;
comment|/// \brief The default wrapper for type-spec types that are not handled by
comment|/// another specific wrapper.
name|class
name|DefaultTypeSpecLoc
operator|:
name|public
name|TypeSpecLoc
block|{   struct
name|Info
block|{
name|SourceLocation
name|StartLoc
block|;   }
block|;
name|public
operator|:
name|SourceLocation
name|getStartLoc
argument_list|()
specifier|const
block|{
return|return
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|->
name|StartLoc
return|;
block|}
name|void
name|setStartLoc
argument_list|(
argument|SourceLocation Loc
argument_list|)
block|{
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|->
name|StartLoc
operator|=
name|Loc
block|;   }
name|SourceRange
name|getSourceRange
argument_list|()
specifier|const
block|{
return|return
name|SourceRange
argument_list|(
name|getStartLoc
argument_list|()
argument_list|,
name|getStartLoc
argument_list|()
argument_list|)
return|;
block|}
comment|/// \brief Returns the size of the type source info data block that is
comment|/// specific to this type.
name|unsigned
name|getLocalDataSize
argument_list|()
specifier|const
block|{
return|return
sizeof|sizeof
argument_list|(
name|Info
argument_list|)
return|;
block|}
comment|/// \brief Returns the size of the type source info data block.
name|unsigned
name|getFullDataSize
argument_list|()
specifier|const
block|{
return|return
name|getLocalDataSize
argument_list|()
return|;
block|}
specifier|static
name|bool
name|classof
argument_list|(
specifier|const
name|TypeLoc
operator|*
name|TL
argument_list|)
block|;
specifier|static
name|bool
name|classof
argument_list|(
argument|const DefaultTypeSpecLoc *TL
argument_list|)
block|{
return|return
name|true
return|;
block|}
expr|}
block|;
comment|/// \brief Wrapper for source info for typedefs.
name|class
name|TypedefLoc
operator|:
name|public
name|TypeSpecLoc
block|{   struct
name|Info
block|{
name|SourceLocation
name|NameLoc
block|;   }
block|;
name|public
operator|:
name|SourceLocation
name|getNameLoc
argument_list|()
specifier|const
block|{
return|return
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|->
name|NameLoc
return|;
block|}
name|void
name|setNameLoc
argument_list|(
argument|SourceLocation Loc
argument_list|)
block|{
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|->
name|NameLoc
operator|=
name|Loc
block|;   }
name|SourceRange
name|getSourceRange
argument_list|()
specifier|const
block|{
return|return
name|SourceRange
argument_list|(
name|getNameLoc
argument_list|()
argument_list|,
name|getNameLoc
argument_list|()
argument_list|)
return|;
block|}
name|TypedefDecl
operator|*
name|getTypedefDecl
argument_list|()
specifier|const
block|{
return|return
name|cast
operator|<
name|TypedefType
operator|>
operator|(
name|Ty
operator|)
operator|->
name|getDecl
argument_list|()
return|;
block|}
comment|/// \brief Returns the size of the type source info data block that is
comment|/// specific to this type.
name|unsigned
name|getLocalDataSize
argument_list|()
specifier|const
block|{
return|return
sizeof|sizeof
argument_list|(
name|Info
argument_list|)
return|;
block|}
comment|/// \brief Returns the size of the type source info data block.
name|unsigned
name|getFullDataSize
argument_list|()
specifier|const
block|{
return|return
name|getLocalDataSize
argument_list|()
return|;
block|}
specifier|static
name|bool
name|classof
argument_list|(
specifier|const
name|TypeLoc
operator|*
name|TL
argument_list|)
block|;
specifier|static
name|bool
name|classof
argument_list|(
argument|const TypedefLoc *TL
argument_list|)
block|{
return|return
name|true
return|;
block|}
expr|}
block|;
comment|/// \brief Wrapper for source info for ObjC interfaces.
name|class
name|ObjCInterfaceLoc
operator|:
name|public
name|TypeSpecLoc
block|{   struct
name|Info
block|{
name|SourceLocation
name|NameLoc
block|;   }
block|;
name|public
operator|:
name|SourceLocation
name|getNameLoc
argument_list|()
specifier|const
block|{
return|return
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|->
name|NameLoc
return|;
block|}
name|void
name|setNameLoc
argument_list|(
argument|SourceLocation Loc
argument_list|)
block|{
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|->
name|NameLoc
operator|=
name|Loc
block|;   }
name|SourceRange
name|getSourceRange
argument_list|()
specifier|const
block|{
return|return
name|SourceRange
argument_list|(
name|getNameLoc
argument_list|()
argument_list|,
name|getNameLoc
argument_list|()
argument_list|)
return|;
block|}
name|ObjCInterfaceDecl
operator|*
name|getIFaceDecl
argument_list|()
specifier|const
block|{
return|return
name|cast
operator|<
name|ObjCInterfaceType
operator|>
operator|(
name|Ty
operator|)
operator|->
name|getDecl
argument_list|()
return|;
block|}
comment|/// \brief Returns the size of the type source info data block that is
comment|/// specific to this type.
name|unsigned
name|getLocalDataSize
argument_list|()
specifier|const
block|{
return|return
sizeof|sizeof
argument_list|(
name|Info
argument_list|)
return|;
block|}
comment|/// \brief Returns the size of the type source info data block.
name|unsigned
name|getFullDataSize
argument_list|()
specifier|const
block|{
return|return
name|getLocalDataSize
argument_list|()
return|;
block|}
specifier|static
name|bool
name|classof
argument_list|(
specifier|const
name|TypeLoc
operator|*
name|TL
argument_list|)
block|;
specifier|static
name|bool
name|classof
argument_list|(
argument|const TypedefLoc *TL
argument_list|)
block|{
return|return
name|true
return|;
block|}
expr|}
block|;
comment|/// \brief Wrapper for source info for ObjC protocol lists.
name|class
name|ObjCProtocolListLoc
operator|:
name|public
name|TypeSpecLoc
block|{   struct
name|Info
block|{
name|SourceLocation
name|LAngleLoc
block|,
name|RAngleLoc
block|;   }
block|;
comment|// SourceLocations are stored after Info, one for each Protocol.
name|SourceLocation
operator|*
name|getProtocolLocArray
argument_list|()
specifier|const
block|{
return|return
name|reinterpret_cast
operator|<
name|SourceLocation
operator|*
operator|>
operator|(
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|+
literal|1
operator|)
return|;
block|}
name|public
operator|:
name|SourceLocation
name|getLAngleLoc
argument_list|()
specifier|const
block|{
return|return
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|->
name|LAngleLoc
return|;
block|}
name|void
name|setLAngleLoc
argument_list|(
argument|SourceLocation Loc
argument_list|)
block|{
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|->
name|LAngleLoc
operator|=
name|Loc
block|;   }
name|SourceLocation
name|getRAngleLoc
argument_list|()
specifier|const
block|{
return|return
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|->
name|RAngleLoc
return|;
block|}
name|void
name|setRAngleLoc
argument_list|(
argument|SourceLocation Loc
argument_list|)
block|{
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|->
name|RAngleLoc
operator|=
name|Loc
block|;   }
name|unsigned
name|getNumProtocols
argument_list|()
specifier|const
block|{
return|return
name|cast
operator|<
name|ObjCProtocolListType
operator|>
operator|(
name|Ty
operator|)
operator|->
name|getNumProtocols
argument_list|()
return|;
block|}
name|SourceLocation
name|getProtocolLoc
argument_list|(
argument|unsigned i
argument_list|)
specifier|const
block|{
name|assert
argument_list|(
name|i
operator|<
name|getNumProtocols
argument_list|()
operator|&&
literal|"Index is out of bounds!"
argument_list|)
block|;
return|return
name|getProtocolLocArray
argument_list|()
index|[
name|i
index|]
return|;
block|}
name|void
name|setProtocolLoc
argument_list|(
argument|unsigned i
argument_list|,
argument|SourceLocation Loc
argument_list|)
block|{
name|assert
argument_list|(
name|i
operator|<
name|getNumProtocols
argument_list|()
operator|&&
literal|"Index is out of bounds!"
argument_list|)
block|;
name|getProtocolLocArray
argument_list|()
index|[
name|i
index|]
operator|=
name|Loc
block|;   }
name|ObjCProtocolDecl
operator|*
name|getProtocol
argument_list|(
argument|unsigned i
argument_list|)
specifier|const
block|{
name|assert
argument_list|(
name|i
operator|<
name|getNumProtocols
argument_list|()
operator|&&
literal|"Index is out of bounds!"
argument_list|)
block|;
return|return
operator|*
operator|(
name|cast
operator|<
name|ObjCProtocolListType
operator|>
operator|(
name|Ty
operator|)
operator|->
name|qual_begin
argument_list|()
operator|+
name|i
operator|)
return|;
block|}
name|TypeLoc
name|getBaseTypeLoc
argument_list|()
specifier|const
block|{
name|void
operator|*
name|Next
operator|=
name|static_cast
operator|<
name|char
operator|*
operator|>
operator|(
name|Data
operator|)
operator|+
name|getLocalDataSize
argument_list|()
block|;
return|return
name|TypeLoc
argument_list|(
name|cast
operator|<
name|ObjCProtocolListType
operator|>
operator|(
name|Ty
operator|)
operator|->
name|getBaseType
argument_list|()
argument_list|,
name|Next
argument_list|)
return|;
block|}
name|SourceRange
name|getSourceRange
argument_list|()
specifier|const
block|{
return|return
name|SourceRange
argument_list|(
name|getLAngleLoc
argument_list|()
argument_list|,
name|getRAngleLoc
argument_list|()
argument_list|)
return|;
block|}
comment|/// \brief Returns the size of the type source info data block that is
comment|/// specific to this type.
name|unsigned
name|getLocalDataSize
argument_list|()
specifier|const
block|{
return|return
sizeof|sizeof
argument_list|(
name|Info
argument_list|)
operator|+
name|getNumProtocols
argument_list|()
operator|*
sizeof|sizeof
argument_list|(
name|SourceLocation
argument_list|)
return|;
block|}
comment|/// \brief Returns the size of the type source info data block.
name|unsigned
name|getFullDataSize
argument_list|()
specifier|const
block|{
return|return
name|getLocalDataSize
argument_list|()
operator|+
name|getBaseTypeLoc
argument_list|()
operator|.
name|getFullDataSize
argument_list|()
return|;
block|}
specifier|static
name|bool
name|classof
argument_list|(
specifier|const
name|TypeLoc
operator|*
name|TL
argument_list|)
block|;
specifier|static
name|bool
name|classof
argument_list|(
argument|const ObjCProtocolListLoc *TL
argument_list|)
block|{
return|return
name|true
return|;
block|}
expr|}
block|;
comment|/// \brief Wrapper for source info for pointers.
name|class
name|PointerLoc
operator|:
name|public
name|DeclaratorLoc
block|{   struct
name|Info
block|{
name|SourceLocation
name|StarLoc
block|;   }
block|;
name|public
operator|:
name|SourceLocation
name|getStarLoc
argument_list|()
specifier|const
block|{
return|return
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|->
name|StarLoc
return|;
block|}
name|void
name|setStarLoc
argument_list|(
argument|SourceLocation Loc
argument_list|)
block|{
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|->
name|StarLoc
operator|=
name|Loc
block|;   }
name|TypeLoc
name|getPointeeLoc
argument_list|()
specifier|const
block|{
name|void
operator|*
name|Next
operator|=
name|static_cast
operator|<
name|char
operator|*
operator|>
operator|(
name|Data
operator|)
operator|+
name|getLocalDataSize
argument_list|()
block|;
return|return
name|TypeLoc
argument_list|(
name|cast
operator|<
name|PointerType
operator|>
operator|(
name|Ty
operator|)
operator|->
name|getPointeeType
argument_list|()
argument_list|,
name|Next
argument_list|)
return|;
block|}
comment|/// \brief Find the TypeSpecLoc that is part of this PointerLoc.
name|TypeSpecLoc
name|getTypeSpecLoc
argument_list|()
specifier|const
block|{
return|return
name|getPointeeLoc
argument_list|()
operator|.
name|getTypeSpecLoc
argument_list|()
return|;
block|}
name|SourceRange
name|getSourceRange
argument_list|()
specifier|const
block|{
return|return
name|SourceRange
argument_list|(
name|getStarLoc
argument_list|()
argument_list|,
name|getStarLoc
argument_list|()
argument_list|)
return|;
block|}
comment|/// \brief Returns the size of the type source info data block that is
comment|/// specific to this type.
name|unsigned
name|getLocalDataSize
argument_list|()
specifier|const
block|{
return|return
sizeof|sizeof
argument_list|(
name|Info
argument_list|)
return|;
block|}
comment|/// \brief Returns the size of the type source info data block.
name|unsigned
name|getFullDataSize
argument_list|()
specifier|const
block|{
return|return
name|getLocalDataSize
argument_list|()
operator|+
name|getPointeeLoc
argument_list|()
operator|.
name|getFullDataSize
argument_list|()
return|;
block|}
specifier|static
name|bool
name|classof
argument_list|(
specifier|const
name|TypeLoc
operator|*
name|TL
argument_list|)
block|;
specifier|static
name|bool
name|classof
argument_list|(
argument|const PointerLoc *TL
argument_list|)
block|{
return|return
name|true
return|;
block|}
expr|}
block|;
comment|/// \brief Wrapper for source info for block pointers.
name|class
name|BlockPointerLoc
operator|:
name|public
name|DeclaratorLoc
block|{   struct
name|Info
block|{
name|SourceLocation
name|CaretLoc
block|;   }
block|;
name|public
operator|:
name|SourceLocation
name|getCaretLoc
argument_list|()
specifier|const
block|{
return|return
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|->
name|CaretLoc
return|;
block|}
name|void
name|setCaretLoc
argument_list|(
argument|SourceLocation Loc
argument_list|)
block|{
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|->
name|CaretLoc
operator|=
name|Loc
block|;   }
name|TypeLoc
name|getPointeeLoc
argument_list|()
specifier|const
block|{
name|void
operator|*
name|Next
operator|=
name|static_cast
operator|<
name|char
operator|*
operator|>
operator|(
name|Data
operator|)
operator|+
name|getLocalDataSize
argument_list|()
block|;
return|return
name|TypeLoc
argument_list|(
name|cast
operator|<
name|BlockPointerType
operator|>
operator|(
name|Ty
operator|)
operator|->
name|getPointeeType
argument_list|()
argument_list|,
name|Next
argument_list|)
return|;
block|}
comment|/// \brief Find the TypeSpecLoc that is part of this BlockPointerLoc.
name|TypeSpecLoc
name|getTypeSpecLoc
argument_list|()
specifier|const
block|{
return|return
name|getPointeeLoc
argument_list|()
operator|.
name|getTypeSpecLoc
argument_list|()
return|;
block|}
name|SourceRange
name|getSourceRange
argument_list|()
specifier|const
block|{
return|return
name|SourceRange
argument_list|(
name|getCaretLoc
argument_list|()
argument_list|,
name|getCaretLoc
argument_list|()
argument_list|)
return|;
block|}
comment|/// \brief Returns the size of the type source info data block that is
comment|/// specific to this type.
name|unsigned
name|getLocalDataSize
argument_list|()
specifier|const
block|{
return|return
sizeof|sizeof
argument_list|(
name|Info
argument_list|)
return|;
block|}
comment|/// \brief Returns the size of the type source info data block.
name|unsigned
name|getFullDataSize
argument_list|()
specifier|const
block|{
return|return
name|getLocalDataSize
argument_list|()
operator|+
name|getPointeeLoc
argument_list|()
operator|.
name|getFullDataSize
argument_list|()
return|;
block|}
specifier|static
name|bool
name|classof
argument_list|(
specifier|const
name|TypeLoc
operator|*
name|TL
argument_list|)
block|;
specifier|static
name|bool
name|classof
argument_list|(
argument|const BlockPointerLoc *TL
argument_list|)
block|{
return|return
name|true
return|;
block|}
expr|}
block|;
comment|/// \brief Wrapper for source info for member pointers.
name|class
name|MemberPointerLoc
operator|:
name|public
name|DeclaratorLoc
block|{   struct
name|Info
block|{
name|SourceLocation
name|StarLoc
block|;   }
block|;
name|public
operator|:
name|SourceLocation
name|getStarLoc
argument_list|()
specifier|const
block|{
return|return
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|->
name|StarLoc
return|;
block|}
name|void
name|setStarLoc
argument_list|(
argument|SourceLocation Loc
argument_list|)
block|{
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|->
name|StarLoc
operator|=
name|Loc
block|;   }
name|TypeLoc
name|getPointeeLoc
argument_list|()
specifier|const
block|{
name|void
operator|*
name|Next
operator|=
name|static_cast
operator|<
name|char
operator|*
operator|>
operator|(
name|Data
operator|)
operator|+
name|getLocalDataSize
argument_list|()
block|;
return|return
name|TypeLoc
argument_list|(
name|cast
operator|<
name|MemberPointerType
operator|>
operator|(
name|Ty
operator|)
operator|->
name|getPointeeType
argument_list|()
argument_list|,
name|Next
argument_list|)
return|;
block|}
comment|/// \brief Find the TypeSpecLoc that is part of this MemberPointerLoc.
name|TypeSpecLoc
name|getTypeSpecLoc
argument_list|()
specifier|const
block|{
return|return
name|getPointeeLoc
argument_list|()
operator|.
name|getTypeSpecLoc
argument_list|()
return|;
block|}
name|SourceRange
name|getSourceRange
argument_list|()
specifier|const
block|{
return|return
name|SourceRange
argument_list|(
name|getStarLoc
argument_list|()
argument_list|,
name|getStarLoc
argument_list|()
argument_list|)
return|;
block|}
comment|/// \brief Returns the size of the type source info data block that is
comment|/// specific to this type.
name|unsigned
name|getLocalDataSize
argument_list|()
specifier|const
block|{
return|return
sizeof|sizeof
argument_list|(
name|Info
argument_list|)
return|;
block|}
comment|/// \brief Returns the size of the type source info data block.
name|unsigned
name|getFullDataSize
argument_list|()
specifier|const
block|{
return|return
name|getLocalDataSize
argument_list|()
operator|+
name|getPointeeLoc
argument_list|()
operator|.
name|getFullDataSize
argument_list|()
return|;
block|}
specifier|static
name|bool
name|classof
argument_list|(
specifier|const
name|TypeLoc
operator|*
name|TL
argument_list|)
block|;
specifier|static
name|bool
name|classof
argument_list|(
argument|const MemberPointerLoc *TL
argument_list|)
block|{
return|return
name|true
return|;
block|}
expr|}
block|;
comment|/// \brief Wrapper for source info for references.
name|class
name|ReferenceLoc
operator|:
name|public
name|DeclaratorLoc
block|{   struct
name|Info
block|{
name|SourceLocation
name|AmpLoc
block|;   }
block|;
name|public
operator|:
name|SourceLocation
name|getAmpLoc
argument_list|()
specifier|const
block|{
return|return
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|->
name|AmpLoc
return|;
block|}
name|void
name|setAmpLoc
argument_list|(
argument|SourceLocation Loc
argument_list|)
block|{
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|->
name|AmpLoc
operator|=
name|Loc
block|;   }
name|TypeLoc
name|getPointeeLoc
argument_list|()
specifier|const
block|{
name|void
operator|*
name|Next
operator|=
name|static_cast
operator|<
name|char
operator|*
operator|>
operator|(
name|Data
operator|)
operator|+
name|getLocalDataSize
argument_list|()
block|;
return|return
name|TypeLoc
argument_list|(
name|cast
operator|<
name|ReferenceType
operator|>
operator|(
name|Ty
operator|)
operator|->
name|getPointeeType
argument_list|()
argument_list|,
name|Next
argument_list|)
return|;
block|}
comment|/// \brief Find the TypeSpecLoc that is part of this ReferenceLoc.
name|TypeSpecLoc
name|getTypeSpecLoc
argument_list|()
specifier|const
block|{
return|return
name|getPointeeLoc
argument_list|()
operator|.
name|getTypeSpecLoc
argument_list|()
return|;
block|}
name|SourceRange
name|getSourceRange
argument_list|()
specifier|const
block|{
return|return
name|SourceRange
argument_list|(
name|getAmpLoc
argument_list|()
argument_list|,
name|getAmpLoc
argument_list|()
argument_list|)
return|;
block|}
comment|/// \brief Returns the size of the type source info data block that is
comment|/// specific to this type.
name|unsigned
name|getLocalDataSize
argument_list|()
specifier|const
block|{
return|return
sizeof|sizeof
argument_list|(
name|Info
argument_list|)
return|;
block|}
comment|/// \brief Returns the size of the type source info data block.
name|unsigned
name|getFullDataSize
argument_list|()
specifier|const
block|{
return|return
name|getLocalDataSize
argument_list|()
operator|+
name|getPointeeLoc
argument_list|()
operator|.
name|getFullDataSize
argument_list|()
return|;
block|}
specifier|static
name|bool
name|classof
argument_list|(
specifier|const
name|TypeLoc
operator|*
name|TL
argument_list|)
block|;
specifier|static
name|bool
name|classof
argument_list|(
argument|const ReferenceLoc *TL
argument_list|)
block|{
return|return
name|true
return|;
block|}
expr|}
block|;
comment|/// \brief Wrapper for source info for functions.
name|class
name|FunctionLoc
operator|:
name|public
name|DeclaratorLoc
block|{   struct
name|Info
block|{
name|SourceLocation
name|LParenLoc
block|,
name|RParenLoc
block|;   }
block|;
comment|// ParmVarDecls* are stored after Info, one for each argument.
name|ParmVarDecl
operator|*
operator|*
name|getParmArray
argument_list|()
specifier|const
block|{
return|return
name|reinterpret_cast
operator|<
name|ParmVarDecl
operator|*
operator|*
operator|>
operator|(
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|+
literal|1
operator|)
return|;
block|}
name|public
operator|:
name|SourceLocation
name|getLParenLoc
argument_list|()
specifier|const
block|{
return|return
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|->
name|LParenLoc
return|;
block|}
name|void
name|setLParenLoc
argument_list|(
argument|SourceLocation Loc
argument_list|)
block|{
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|->
name|LParenLoc
operator|=
name|Loc
block|;   }
name|SourceLocation
name|getRParenLoc
argument_list|()
specifier|const
block|{
return|return
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|->
name|RParenLoc
return|;
block|}
name|void
name|setRParenLoc
argument_list|(
argument|SourceLocation Loc
argument_list|)
block|{
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|->
name|RParenLoc
operator|=
name|Loc
block|;   }
name|unsigned
name|getNumArgs
argument_list|()
specifier|const
block|{
if|if
condition|(
name|isa
operator|<
name|FunctionNoProtoType
operator|>
operator|(
name|Ty
operator|)
condition|)
return|return
literal|0
return|;
return|return
name|cast
operator|<
name|FunctionProtoType
operator|>
operator|(
name|Ty
operator|)
operator|->
name|getNumArgs
argument_list|()
return|;
block|}
name|ParmVarDecl
operator|*
name|getArg
argument_list|(
argument|unsigned i
argument_list|)
specifier|const
block|{
return|return
name|getParmArray
argument_list|()
index|[
name|i
index|]
return|;
block|}
name|void
name|setArg
argument_list|(
argument|unsigned i
argument_list|,
argument|ParmVarDecl *VD
argument_list|)
block|{
name|getParmArray
argument_list|()
index|[
name|i
index|]
operator|=
name|VD
block|; }
name|TypeLoc
name|getArgLoc
argument_list|(
argument|unsigned i
argument_list|)
specifier|const
block|;
name|TypeLoc
name|getResultLoc
argument_list|()
specifier|const
block|{
name|void
operator|*
name|Next
operator|=
name|static_cast
operator|<
name|char
operator|*
operator|>
operator|(
name|Data
operator|)
operator|+
name|getLocalDataSize
argument_list|()
block|;
return|return
name|TypeLoc
argument_list|(
name|cast
operator|<
name|FunctionType
operator|>
operator|(
name|Ty
operator|)
operator|->
name|getResultType
argument_list|()
argument_list|,
name|Next
argument_list|)
return|;
block|}
comment|/// \brief Find the TypeSpecLoc that is part of this FunctionLoc.
name|TypeSpecLoc
name|getTypeSpecLoc
argument_list|()
specifier|const
block|{
return|return
name|getResultLoc
argument_list|()
operator|.
name|getTypeSpecLoc
argument_list|()
return|;
block|}
name|SourceRange
name|getSourceRange
argument_list|()
specifier|const
block|{
return|return
name|SourceRange
argument_list|(
name|getLParenLoc
argument_list|()
argument_list|,
name|getRParenLoc
argument_list|()
argument_list|)
return|;
block|}
comment|/// \brief Returns the size of the type source info data block that is
comment|/// specific to this type.
name|unsigned
name|getLocalDataSize
argument_list|()
specifier|const
block|{
return|return
sizeof|sizeof
argument_list|(
name|Info
argument_list|)
operator|+
name|getNumArgs
argument_list|()
operator|*
sizeof|sizeof
argument_list|(
name|ParmVarDecl
operator|*
argument_list|)
return|;
block|}
comment|/// \brief Returns the size of the type source info data block.
name|unsigned
name|getFullDataSize
argument_list|()
specifier|const
block|{
return|return
name|getLocalDataSize
argument_list|()
operator|+
name|getResultLoc
argument_list|()
operator|.
name|getFullDataSize
argument_list|()
return|;
block|}
specifier|static
name|bool
name|classof
argument_list|(
specifier|const
name|TypeLoc
operator|*
name|TL
argument_list|)
block|;
specifier|static
name|bool
name|classof
argument_list|(
argument|const FunctionLoc *TL
argument_list|)
block|{
return|return
name|true
return|;
block|}
expr|}
block|;
comment|/// \brief Wrapper for source info for arrays.
name|class
name|ArrayLoc
operator|:
name|public
name|DeclaratorLoc
block|{   struct
name|Info
block|{
name|SourceLocation
name|LBracketLoc
block|,
name|RBracketLoc
block|;
name|Expr
operator|*
name|Size
block|;   }
block|;
name|public
operator|:
name|SourceLocation
name|getLBracketLoc
argument_list|()
specifier|const
block|{
return|return
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|->
name|LBracketLoc
return|;
block|}
name|void
name|setLBracketLoc
argument_list|(
argument|SourceLocation Loc
argument_list|)
block|{
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|->
name|LBracketLoc
operator|=
name|Loc
block|;   }
name|SourceLocation
name|getRBracketLoc
argument_list|()
specifier|const
block|{
return|return
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|->
name|RBracketLoc
return|;
block|}
name|void
name|setRBracketLoc
argument_list|(
argument|SourceLocation Loc
argument_list|)
block|{
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|->
name|RBracketLoc
operator|=
name|Loc
block|;   }
name|Expr
operator|*
name|getSizeExpr
argument_list|()
specifier|const
block|{
return|return
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|->
name|Size
return|;
block|}
name|void
name|setSizeExpr
argument_list|(
argument|Expr *Size
argument_list|)
block|{
name|static_cast
operator|<
name|Info
operator|*
operator|>
operator|(
name|Data
operator|)
operator|->
name|Size
operator|=
name|Size
block|;   }
name|TypeLoc
name|getElementLoc
argument_list|()
specifier|const
block|{
name|void
operator|*
name|Next
operator|=
name|static_cast
operator|<
name|char
operator|*
operator|>
operator|(
name|Data
operator|)
operator|+
name|getLocalDataSize
argument_list|()
block|;
return|return
name|TypeLoc
argument_list|(
name|cast
operator|<
name|ArrayType
operator|>
operator|(
name|Ty
operator|)
operator|->
name|getElementType
argument_list|()
argument_list|,
name|Next
argument_list|)
return|;
block|}
comment|/// \brief Find the TypeSpecLoc that is part of this ArrayLoc.
name|TypeSpecLoc
name|getTypeSpecLoc
argument_list|()
specifier|const
block|{
return|return
name|getElementLoc
argument_list|()
operator|.
name|getTypeSpecLoc
argument_list|()
return|;
block|}
name|SourceRange
name|getSourceRange
argument_list|()
specifier|const
block|{
return|return
name|SourceRange
argument_list|(
name|getLBracketLoc
argument_list|()
argument_list|,
name|getRBracketLoc
argument_list|()
argument_list|)
return|;
block|}
comment|/// \brief Returns the size of the type source info data block that is
comment|/// specific to this type.
name|unsigned
name|getLocalDataSize
argument_list|()
specifier|const
block|{
return|return
sizeof|sizeof
argument_list|(
name|Info
argument_list|)
return|;
block|}
comment|/// \brief Returns the size of the type source info data block.
name|unsigned
name|getFullDataSize
argument_list|()
specifier|const
block|{
return|return
name|getLocalDataSize
argument_list|()
operator|+
name|getElementLoc
argument_list|()
operator|.
name|getFullDataSize
argument_list|()
return|;
block|}
specifier|static
name|bool
name|classof
argument_list|(
specifier|const
name|TypeLoc
operator|*
name|TL
argument_list|)
block|;
specifier|static
name|bool
name|classof
argument_list|(
argument|const ArrayLoc *TL
argument_list|)
block|{
return|return
name|true
return|;
block|}
expr|}
block|;  }
end_decl_stmt

begin_endif
endif|#
directive|endif
end_endif

end_unit

