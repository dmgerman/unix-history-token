begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*  * This test was written by Alexander V. Lukyanov to demonstrate difference  * between ncurses 4.1 and SVR4 curses  *  * $Id: firstlast.c,v 1.2 1997/10/18 21:34:53 tom Exp $  */
end_comment

begin_include
include|#
directive|include
file|<test.priv.h>
end_include

begin_function
specifier|static
name|void
name|fill
parameter_list|(
name|WINDOW
modifier|*
name|w
parameter_list|,
specifier|const
name|char
modifier|*
name|str
parameter_list|)
block|{
specifier|const
name|char
modifier|*
name|s
decl_stmt|;
for|for
control|(
init|;
condition|;
control|)
block|{
for|for
control|(
name|s
operator|=
name|str
init|;
operator|*
name|s
condition|;
name|s
operator|++
control|)
block|{
if|if
condition|(
name|waddch
argument_list|(
name|w
argument_list|,
operator|*
name|s
argument_list|)
operator|==
name|ERR
condition|)
block|{
name|wmove
argument_list|(
name|w
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
return|return;
block|}
block|}
block|}
block|}
end_function

begin_function
name|int
name|main
parameter_list|(
name|int
name|argc
name|GCC_UNUSED
parameter_list|,
name|char
modifier|*
name|argv
index|[]
name|GCC_UNUSED
parameter_list|)
block|{
name|WINDOW
modifier|*
name|large
decl_stmt|,
modifier|*
name|small
decl_stmt|;
name|initscr
argument_list|()
expr_stmt|;
name|noecho
argument_list|()
expr_stmt|;
name|large
operator|=
name|newwin
argument_list|(
literal|20
argument_list|,
literal|60
argument_list|,
literal|2
argument_list|,
literal|10
argument_list|)
expr_stmt|;
name|small
operator|=
name|newwin
argument_list|(
literal|10
argument_list|,
literal|30
argument_list|,
literal|7
argument_list|,
literal|25
argument_list|)
expr_stmt|;
comment|/* test 1 - addch */
name|fill
argument_list|(
name|large
argument_list|,
literal|"LargeWindow"
argument_list|)
expr_stmt|;
name|refresh
argument_list|()
expr_stmt|;
name|wrefresh
argument_list|(
name|large
argument_list|)
expr_stmt|;
name|wrefresh
argument_list|(
name|small
argument_list|)
expr_stmt|;
name|mvwaddstr
argument_list|(
name|small
argument_list|,
literal|5
argument_list|,
literal|5
argument_list|,
literal|"   Test<place to change> String   "
argument_list|)
expr_stmt|;
name|wrefresh
argument_list|(
name|small
argument_list|)
expr_stmt|;
name|getch
argument_list|()
expr_stmt|;
name|touchwin
argument_list|(
name|large
argument_list|)
expr_stmt|;
name|wrefresh
argument_list|(
name|large
argument_list|)
expr_stmt|;
name|mvwaddstr
argument_list|(
name|small
argument_list|,
literal|5
argument_list|,
literal|5
argument_list|,
literal|"   Test<***************> String   "
argument_list|)
expr_stmt|;
name|wrefresh
argument_list|(
name|small
argument_list|)
expr_stmt|;
comment|/* DIFFERENCE! */
name|getch
argument_list|()
expr_stmt|;
comment|/* test 2: erase */
name|erase
argument_list|()
expr_stmt|;
name|refresh
argument_list|()
expr_stmt|;
name|getch
argument_list|()
expr_stmt|;
comment|/* test 3: clrtoeol */
name|werase
argument_list|(
name|small
argument_list|)
expr_stmt|;
name|wrefresh
argument_list|(
name|small
argument_list|)
expr_stmt|;
name|touchwin
argument_list|(
name|large
argument_list|)
expr_stmt|;
name|wrefresh
argument_list|(
name|large
argument_list|)
expr_stmt|;
name|wmove
argument_list|(
name|small
argument_list|,
literal|5
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|waddstr
argument_list|(
name|small
argument_list|,
literal|" clrtoeol>"
argument_list|)
expr_stmt|;
name|wclrtoeol
argument_list|(
name|small
argument_list|)
expr_stmt|;
name|wrefresh
argument_list|(
name|small
argument_list|)
expr_stmt|;
comment|/* DIFFERENCE! */
empty_stmt|;
name|getch
argument_list|()
expr_stmt|;
comment|/* test 4: clrtobot */
name|werase
argument_list|(
name|small
argument_list|)
expr_stmt|;
name|wrefresh
argument_list|(
name|small
argument_list|)
expr_stmt|;
name|touchwin
argument_list|(
name|large
argument_list|)
expr_stmt|;
name|wrefresh
argument_list|(
name|large
argument_list|)
expr_stmt|;
name|wmove
argument_list|(
name|small
argument_list|,
literal|5
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|waddstr
argument_list|(
name|small
argument_list|,
literal|" clrtobot>"
argument_list|)
expr_stmt|;
name|wclrtobot
argument_list|(
name|small
argument_list|)
expr_stmt|;
name|wrefresh
argument_list|(
name|small
argument_list|)
expr_stmt|;
comment|/* DIFFERENCE! */
name|getch
argument_list|()
expr_stmt|;
name|endwin
argument_list|()
expr_stmt|;
return|return
name|EXIT_SUCCESS
return|;
block|}
end_function

end_unit

