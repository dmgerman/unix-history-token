begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* infomap.c -- keymaps for Info.    $Id: infomap.c,v 1.28 2002/02/08 23:02:53 karl Exp $     Copyright (C) 1993, 97, 98, 99, 2001, 02 Free Software Foundation, Inc.     This program is free software; you can redistribute it and/or modify    it under the terms of the GNU General Public License as published by    the Free Software Foundation; either version 2, or (at your option)    any later version.     This program is distributed in the hope that it will be useful,    but WITHOUT ANY WARRANTY; without even the implied warranty of    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the    GNU General Public License for more details.     You should have received a copy of the GNU General Public License    along with this program; if not, write to the Free Software    Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.     Written by Brian Fox (bfox@ai.mit.edu). */
end_comment

begin_include
include|#
directive|include
file|"info.h"
end_include

begin_include
include|#
directive|include
file|"infomap.h"
end_include

begin_include
include|#
directive|include
file|"funs.h"
end_include

begin_include
include|#
directive|include
file|"terminal.h"
end_include

begin_if
if|#
directive|if
name|defined
argument_list|(
name|INFOKEY
argument_list|)
end_if

begin_include
include|#
directive|include
file|"infokey.h"
end_include

begin_include
include|#
directive|include
file|"variables.h"
end_include

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* INFOKEY */
end_comment

begin_comment
comment|/* Return a new keymap which has all the uppercase letters mapped to run    the function info_do_lowercase_version (). */
end_comment

begin_function
name|Keymap
name|keymap_make_keymap
parameter_list|()
block|{
name|int
name|i
decl_stmt|;
name|Keymap
name|keymap
decl_stmt|;
name|keymap
operator|=
operator|(
name|Keymap
operator|)
name|xmalloc
argument_list|(
literal|256
operator|*
sizeof|sizeof
argument_list|(
name|KEYMAP_ENTRY
argument_list|)
argument_list|)
expr_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
literal|256
condition|;
name|i
operator|++
control|)
block|{
name|keymap
index|[
name|i
index|]
operator|.
name|type
operator|=
name|ISFUNC
expr_stmt|;
name|keymap
index|[
name|i
index|]
operator|.
name|function
operator|=
operator|(
name|InfoCommand
operator|*
operator|)
name|NULL
expr_stmt|;
block|}
for|for
control|(
name|i
operator|=
literal|'A'
init|;
name|i
operator|<
operator|(
literal|'Z'
operator|+
literal|1
operator|)
condition|;
name|i
operator|++
control|)
block|{
name|keymap
index|[
name|i
index|]
operator|.
name|type
operator|=
name|ISFUNC
expr_stmt|;
if|#
directive|if
name|defined
argument_list|(
name|INFOKEY
argument_list|)
name|keymap
index|[
name|Meta
argument_list|(
name|i
argument_list|)
index|]
operator|.
name|type
operator|=
name|ISFUNC
expr_stmt|;
name|keymap
index|[
name|Meta
argument_list|(
name|i
argument_list|)
index|]
operator|.
name|function
operator|=
endif|#
directive|endif
comment|/* INFOKEY */
name|keymap
index|[
name|i
index|]
operator|.
name|function
operator|=
name|InfoCmd
argument_list|(
name|info_do_lowercase_version
argument_list|)
expr_stmt|;
block|}
return|return
operator|(
name|keymap
operator|)
return|;
block|}
end_function

begin_comment
comment|/* Return a new keymap which is a copy of MAP. */
end_comment

begin_function
name|Keymap
name|keymap_copy_keymap
parameter_list|(
name|map
parameter_list|)
name|Keymap
name|map
decl_stmt|;
block|{
name|int
name|i
decl_stmt|;
name|Keymap
name|keymap
decl_stmt|;
name|keymap
operator|=
name|keymap_make_keymap
argument_list|()
expr_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
literal|256
condition|;
name|i
operator|++
control|)
block|{
name|keymap
index|[
name|i
index|]
operator|.
name|type
operator|=
name|map
index|[
name|i
index|]
operator|.
name|type
expr_stmt|;
name|keymap
index|[
name|i
index|]
operator|.
name|function
operator|=
name|map
index|[
name|i
index|]
operator|.
name|function
expr_stmt|;
block|}
return|return
operator|(
name|keymap
operator|)
return|;
block|}
end_function

begin_comment
comment|/* Free the keymap and its descendants. */
end_comment

begin_function_decl
name|void
name|keymap_discard_keymap
parameter_list|(
name|map
parameter_list|)
function_decl|Keymap
parameter_list|(
name|map
parameter_list|)
function_decl|;
end_function_decl

begin_block
block|{
name|int
name|i
decl_stmt|;
if|if
condition|(
operator|!
name|map
condition|)
return|return;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
literal|256
condition|;
name|i
operator|++
control|)
block|{
switch|switch
condition|(
name|map
index|[
name|i
index|]
operator|.
name|type
condition|)
block|{
case|case
name|ISFUNC
case|:
break|break;
case|case
name|ISKMAP
case|:
name|keymap_discard_keymap
argument_list|(
operator|(
name|Keymap
operator|)
name|map
index|[
name|i
index|]
operator|.
name|function
argument_list|)
expr_stmt|;
break|break;
block|}
block|}
block|}
end_block

begin_comment
comment|/* Conditionally bind key sequence. */
end_comment

begin_function
name|int
name|keymap_bind_keyseq
parameter_list|(
name|map
parameter_list|,
name|keyseq
parameter_list|,
name|keyentry
parameter_list|)
name|Keymap
name|map
decl_stmt|;
specifier|const
name|unsigned
name|char
modifier|*
name|keyseq
decl_stmt|;
name|KEYMAP_ENTRY
modifier|*
name|keyentry
decl_stmt|;
block|{
name|Keymap
name|m
init|=
name|map
decl_stmt|;
specifier|const
name|unsigned
name|char
modifier|*
name|s
init|=
name|keyseq
decl_stmt|;
name|int
name|c
decl_stmt|;
if|if
condition|(
name|s
operator|==
name|NULL
operator|||
operator|*
name|s
operator|==
literal|'\0'
condition|)
return|return
literal|0
return|;
while|while
condition|(
operator|(
name|c
operator|=
operator|*
name|s
operator|++
operator|)
operator|!=
literal|'\0'
condition|)
block|{
switch|switch
condition|(
name|m
index|[
name|c
index|]
operator|.
name|type
condition|)
block|{
case|case
name|ISFUNC
case|:
if|if
condition|(
operator|!
operator|(
name|m
index|[
name|c
index|]
operator|.
name|function
operator|==
name|NULL
operator|||
operator|(
if|#
directive|if
operator|!
name|defined
argument_list|(
name|INFOKEY
argument_list|)
name|m
operator|!=
name|map
operator|&&
endif|#
directive|endif
comment|/* !INFOKEY */
name|m
index|[
name|c
index|]
operator|.
name|function
operator|==
name|InfoCmd
argument_list|(
name|info_do_lowercase_version
argument_list|)
operator|)
operator|)
condition|)
return|return
literal|0
return|;
if|if
condition|(
operator|*
name|s
operator|!=
literal|'\0'
condition|)
block|{
name|m
index|[
name|c
index|]
operator|.
name|type
operator|=
name|ISKMAP
expr_stmt|;
name|m
index|[
name|c
index|]
operator|.
name|function
operator|=
operator|(
name|InfoCommand
operator|*
operator|)
name|keymap_make_keymap
argument_list|()
expr_stmt|;
block|}
break|break;
case|case
name|ISKMAP
case|:
if|if
condition|(
operator|*
name|s
operator|==
literal|'\0'
condition|)
return|return
literal|0
return|;
break|break;
block|}
if|if
condition|(
operator|*
name|s
operator|!=
literal|'\0'
condition|)
block|{
name|m
operator|=
operator|(
name|Keymap
operator|)
name|m
index|[
name|c
index|]
operator|.
name|function
expr_stmt|;
block|}
else|else
block|{
if|#
directive|if
name|defined
argument_list|(
name|INFOKEY
argument_list|)
name|FUNCTION_KEYSEQ
modifier|*
name|k
decl_stmt|;
for|for
control|(
name|k
operator|=
name|keyentry
operator|->
name|function
operator|->
name|keys
init|;
name|k
operator|&&
name|k
operator|->
name|map
operator|!=
name|map
condition|;
name|k
operator|=
name|k
operator|->
name|next
control|)
empty_stmt|;
if|if
condition|(
operator|!
name|k
condition|)
block|{
name|FUNCTION_KEYSEQ
modifier|*
name|ks
init|=
operator|(
name|FUNCTION_KEYSEQ
operator|*
operator|)
name|xmalloc
argument_list|(
sizeof|sizeof
argument_list|(
name|FUNCTION_KEYSEQ
argument_list|)
argument_list|)
decl_stmt|;
name|ks
operator|->
name|next
operator|=
name|keyentry
operator|->
name|function
operator|->
name|keys
expr_stmt|;
name|ks
operator|->
name|map
operator|=
name|map
expr_stmt|;
name|ks
operator|->
name|keyseq
operator|=
name|xstrdup
argument_list|(
name|keyseq
argument_list|)
expr_stmt|;
name|keyentry
operator|->
name|function
operator|->
name|keys
operator|=
name|ks
expr_stmt|;
block|}
endif|#
directive|endif
comment|/* INFOKEY */
name|m
index|[
name|c
index|]
operator|=
operator|*
name|keyentry
expr_stmt|;
block|}
block|}
return|return
literal|1
return|;
block|}
end_function

begin_comment
comment|/* Initialize the standard info keymaps. */
end_comment

begin_decl_stmt
name|Keymap
name|info_keymap
init|=
name|NULL
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|Keymap
name|echo_area_keymap
init|=
name|NULL
decl_stmt|;
end_decl_stmt

begin_if
if|#
directive|if
operator|!
name|defined
argument_list|(
name|INFOKEY
argument_list|)
end_if

begin_function
specifier|static
name|void
name|initialize_emacs_like_keymaps
parameter_list|()
block|{
name|int
name|i
decl_stmt|;
name|Keymap
name|map
decl_stmt|;
if|if
condition|(
operator|!
name|info_keymap
condition|)
block|{
name|info_keymap
operator|=
name|keymap_make_keymap
argument_list|()
expr_stmt|;
name|echo_area_keymap
operator|=
name|keymap_make_keymap
argument_list|()
expr_stmt|;
block|}
name|info_keymap
index|[
name|ESC
index|]
operator|.
name|type
operator|=
name|ISKMAP
expr_stmt|;
name|info_keymap
index|[
name|ESC
index|]
operator|.
name|function
operator|=
operator|(
name|InfoCommand
operator|*
operator|)
name|keymap_make_keymap
argument_list|()
expr_stmt|;
name|info_keymap
index|[
name|Control
argument_list|(
literal|'x'
argument_list|)
index|]
operator|.
name|type
operator|=
name|ISKMAP
expr_stmt|;
name|info_keymap
index|[
name|Control
argument_list|(
literal|'x'
argument_list|)
index|]
operator|.
name|function
operator|=
operator|(
name|InfoCommand
operator|*
operator|)
name|keymap_make_keymap
argument_list|()
expr_stmt|;
comment|/* Bind the echo area insert routines.  Let's make all characters      insertable by default, regardless of which character set we might      be using.  */
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
literal|256
condition|;
name|i
operator|++
control|)
name|echo_area_keymap
index|[
name|i
index|]
operator|.
name|function
operator|=
name|ea_insert
expr_stmt|;
name|echo_area_keymap
index|[
name|ESC
index|]
operator|.
name|type
operator|=
name|ISKMAP
expr_stmt|;
name|echo_area_keymap
index|[
name|ESC
index|]
operator|.
name|function
operator|=
operator|(
name|InfoCommand
operator|*
operator|)
name|keymap_make_keymap
argument_list|()
expr_stmt|;
name|echo_area_keymap
index|[
name|Control
argument_list|(
literal|'x'
argument_list|)
index|]
operator|.
name|type
operator|=
name|ISKMAP
expr_stmt|;
name|echo_area_keymap
index|[
name|Control
argument_list|(
literal|'x'
argument_list|)
index|]
operator|.
name|function
operator|=
operator|(
name|InfoCommand
operator|*
operator|)
name|keymap_make_keymap
argument_list|()
expr_stmt|;
comment|/* Bind numeric arg functions for both echo area and info window maps. */
for|for
control|(
name|i
operator|=
literal|'0'
init|;
name|i
operator|<
literal|'9'
operator|+
literal|1
condition|;
name|i
operator|++
control|)
block|{
operator|(
operator|(
name|Keymap
operator|)
name|info_keymap
index|[
name|ESC
index|]
operator|.
name|function
operator|)
index|[
name|i
index|]
operator|.
name|function
operator|=
operator|(
operator|(
name|Keymap
operator|)
name|echo_area_keymap
index|[
name|ESC
index|]
operator|.
name|function
operator|)
index|[
name|i
index|]
operator|.
name|function
operator|=
name|info_add_digit_to_numeric_arg
expr_stmt|;
block|}
operator|(
operator|(
name|Keymap
operator|)
name|info_keymap
index|[
name|ESC
index|]
operator|.
name|function
operator|)
index|[
literal|'-'
index|]
operator|.
name|function
operator|=
operator|(
operator|(
name|Keymap
operator|)
name|echo_area_keymap
index|[
name|ESC
index|]
operator|.
name|function
operator|)
index|[
literal|'-'
index|]
operator|.
name|function
operator|=
name|info_add_digit_to_numeric_arg
expr_stmt|;
name|info_keymap
index|[
literal|'-'
index|]
operator|.
name|function
operator|=
name|info_add_digit_to_numeric_arg
expr_stmt|;
comment|/* Bind the echo area routines. */
name|map
operator|=
name|echo_area_keymap
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'a'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_beg_of_line
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'b'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_backward
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'d'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_delete
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'e'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_end_of_line
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'f'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_forward
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'g'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_abort
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'h'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_rubout
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'k'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_kill_line
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'l'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_redraw_display
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'q'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_quoted_insert
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'t'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_transpose_chars
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'u'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_universal_argument
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'y'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_yank
expr_stmt|;
name|map
index|[
name|LFD
index|]
operator|.
name|function
operator|=
name|ea_newline
expr_stmt|;
name|map
index|[
name|RET
index|]
operator|.
name|function
operator|=
name|ea_newline
expr_stmt|;
name|map
index|[
name|SPC
index|]
operator|.
name|function
operator|=
name|ea_complete
expr_stmt|;
name|map
index|[
name|TAB
index|]
operator|.
name|function
operator|=
name|ea_complete
expr_stmt|;
name|map
index|[
literal|'?'
index|]
operator|.
name|function
operator|=
name|ea_possible_completions
expr_stmt|;
ifdef|#
directive|ifdef
name|__MSDOS__
comment|/* PC users will lynch me if I don't give them their usual DEL effect...  */
name|map
index|[
name|DEL
index|]
operator|.
name|function
operator|=
name|ea_delete
expr_stmt|;
else|#
directive|else
name|map
index|[
name|DEL
index|]
operator|.
name|function
operator|=
name|ea_rubout
expr_stmt|;
endif|#
directive|endif
comment|/* Bind the echo area ESC keymap. */
name|map
operator|=
operator|(
name|Keymap
operator|)
name|echo_area_keymap
index|[
name|ESC
index|]
operator|.
name|function
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'g'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_abort
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'v'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_scroll_completions_window
expr_stmt|;
name|map
index|[
literal|'b'
index|]
operator|.
name|function
operator|=
name|ea_backward_word
expr_stmt|;
name|map
index|[
literal|'d'
index|]
operator|.
name|function
operator|=
name|ea_kill_word
expr_stmt|;
name|map
index|[
literal|'f'
index|]
operator|.
name|function
operator|=
name|ea_forward_word
expr_stmt|;
if|#
directive|if
name|defined
argument_list|(
name|NAMED_FUNCTIONS
argument_list|)
comment|/* map['x'].function = info_execute_command; */
endif|#
directive|endif
comment|/* NAMED_FUNCTIONS */
name|map
index|[
literal|'y'
index|]
operator|.
name|function
operator|=
name|ea_yank_pop
expr_stmt|;
name|map
index|[
literal|'?'
index|]
operator|.
name|function
operator|=
name|ea_possible_completions
expr_stmt|;
name|map
index|[
name|TAB
index|]
operator|.
name|function
operator|=
name|ea_tab_insert
expr_stmt|;
name|map
index|[
name|DEL
index|]
operator|.
name|function
operator|=
name|ea_backward_kill_word
expr_stmt|;
comment|/* Bind the echo area Control-x keymap. */
name|map
operator|=
operator|(
name|Keymap
operator|)
name|echo_area_keymap
index|[
name|Control
argument_list|(
literal|'x'
argument_list|)
index|]
operator|.
name|function
expr_stmt|;
name|map
index|[
literal|'o'
index|]
operator|.
name|function
operator|=
name|info_next_window
expr_stmt|;
name|map
index|[
name|DEL
index|]
operator|.
name|function
operator|=
name|ea_backward_kill_line
expr_stmt|;
comment|/* Arrow key bindings for echo area keymaps.  It seems that some      terminals do not match their termcap entries, so it's best to just      define everything with both of the usual prefixes.  */
name|map
operator|=
name|echo_area_keymap
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_ku
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'p'
argument_list|)
index|]
argument_list|)
expr_stmt|;
comment|/* up */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033OA"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'p'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033[A"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'p'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kd
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'n'
argument_list|)
index|]
argument_list|)
expr_stmt|;
comment|/* down */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033OB"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'n'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033[B"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'n'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kr
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'f'
argument_list|)
index|]
argument_list|)
expr_stmt|;
comment|/* right */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033OC"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'f'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033[C"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'f'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kl
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'b'
argument_list|)
index|]
argument_list|)
expr_stmt|;
comment|/* left */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033OD"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'b'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033[D"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'b'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kD
argument_list|,
operator|&
name|map
index|[
name|DEL
index|]
argument_list|)
expr_stmt|;
comment|/* delete */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kh
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'a'
argument_list|)
index|]
argument_list|)
expr_stmt|;
comment|/* home */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_ke
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'e'
argument_list|)
index|]
argument_list|)
expr_stmt|;
comment|/* end */
name|map
operator|=
operator|(
name|Keymap
operator|)
name|echo_area_keymap
index|[
name|ESC
index|]
operator|.
name|function
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kl
argument_list|,
operator|&
name|map
index|[
literal|'b'
index|]
argument_list|)
expr_stmt|;
comment|/* left */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033OA"
argument_list|,
operator|&
name|map
index|[
literal|'b'
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033[A"
argument_list|,
operator|&
name|map
index|[
literal|'b'
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kr
argument_list|,
operator|&
name|map
index|[
literal|'f'
index|]
argument_list|)
expr_stmt|;
comment|/* right */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033OB"
argument_list|,
operator|&
name|map
index|[
literal|'f'
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033[B"
argument_list|,
operator|&
name|map
index|[
literal|'f'
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kD
argument_list|,
operator|&
name|map
index|[
name|DEL
index|]
argument_list|)
expr_stmt|;
comment|/* delete */
name|map
operator|=
operator|(
name|Keymap
operator|)
name|echo_area_keymap
index|[
name|Control
argument_list|(
literal|'x'
argument_list|)
index|]
operator|.
name|function
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kD
argument_list|,
operator|&
name|map
index|[
name|DEL
index|]
argument_list|)
expr_stmt|;
comment|/* delete */
comment|/* Bind commands for Info window keymaps. */
name|map
operator|=
name|info_keymap
expr_stmt|;
name|map
index|[
name|TAB
index|]
operator|.
name|function
operator|=
name|info_move_to_next_xref
expr_stmt|;
name|map
index|[
name|LFD
index|]
operator|.
name|function
operator|=
name|info_select_reference_this_line
expr_stmt|;
name|map
index|[
name|RET
index|]
operator|.
name|function
operator|=
name|info_select_reference_this_line
expr_stmt|;
name|map
index|[
name|SPC
index|]
operator|.
name|function
operator|=
name|info_scroll_forward
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'a'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_beginning_of_line
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'b'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_backward_char
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'e'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_end_of_line
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'f'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_forward_char
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'g'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_abort_key
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'h'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_get_help_window
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'l'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_redraw_display
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'n'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_next_line
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'p'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_prev_line
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'r'
argument_list|)
index|]
operator|.
name|function
operator|=
name|isearch_backward
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'s'
argument_list|)
index|]
operator|.
name|function
operator|=
name|isearch_forward
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'u'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_universal_argument
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'v'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_scroll_forward_page_only
expr_stmt|;
name|map
index|[
literal|','
index|]
operator|.
name|function
operator|=
name|info_next_index_match
expr_stmt|;
name|map
index|[
literal|'/'
index|]
operator|.
name|function
operator|=
name|info_search
expr_stmt|;
for|for
control|(
name|i
operator|=
literal|'1'
init|;
name|i
operator|<
literal|'9'
operator|+
literal|1
condition|;
name|i
operator|++
control|)
name|map
index|[
name|i
index|]
operator|.
name|function
operator|=
name|info_menu_digit
expr_stmt|;
name|map
index|[
literal|'0'
index|]
operator|.
name|function
operator|=
name|info_last_menu_item
expr_stmt|;
name|map
index|[
literal|'<'
index|]
operator|.
name|function
operator|=
name|info_first_node
expr_stmt|;
name|map
index|[
literal|'>'
index|]
operator|.
name|function
operator|=
name|info_last_node
expr_stmt|;
name|map
index|[
literal|'?'
index|]
operator|.
name|function
operator|=
name|info_get_help_window
expr_stmt|;
name|map
index|[
literal|'['
index|]
operator|.
name|function
operator|=
name|info_global_prev_node
expr_stmt|;
name|map
index|[
literal|']'
index|]
operator|.
name|function
operator|=
name|info_global_next_node
expr_stmt|;
name|map
index|[
literal|'b'
index|]
operator|.
name|function
operator|=
name|info_beginning_of_node
expr_stmt|;
name|map
index|[
literal|'d'
index|]
operator|.
name|function
operator|=
name|info_dir_node
expr_stmt|;
name|map
index|[
literal|'e'
index|]
operator|.
name|function
operator|=
name|info_end_of_node
expr_stmt|;
name|map
index|[
literal|'f'
index|]
operator|.
name|function
operator|=
name|info_xref_item
expr_stmt|;
name|map
index|[
literal|'g'
index|]
operator|.
name|function
operator|=
name|info_goto_node
expr_stmt|;
name|map
index|[
literal|'G'
index|]
operator|.
name|function
operator|=
name|info_menu_sequence
expr_stmt|;
name|map
index|[
literal|'h'
index|]
operator|.
name|function
operator|=
name|info_get_info_help_node
expr_stmt|;
name|map
index|[
literal|'i'
index|]
operator|.
name|function
operator|=
name|info_index_search
expr_stmt|;
name|map
index|[
literal|'I'
index|]
operator|.
name|function
operator|=
name|info_goto_invocation_node
expr_stmt|;
name|map
index|[
literal|'l'
index|]
operator|.
name|function
operator|=
name|info_history_node
expr_stmt|;
name|map
index|[
literal|'m'
index|]
operator|.
name|function
operator|=
name|info_menu_item
expr_stmt|;
name|map
index|[
literal|'n'
index|]
operator|.
name|function
operator|=
name|info_next_node
expr_stmt|;
name|map
index|[
literal|'O'
index|]
operator|.
name|function
operator|=
name|info_goto_invocation_node
expr_stmt|;
name|map
index|[
literal|'p'
index|]
operator|.
name|function
operator|=
name|info_prev_node
expr_stmt|;
name|map
index|[
literal|'q'
index|]
operator|.
name|function
operator|=
name|info_quit
expr_stmt|;
name|map
index|[
literal|'r'
index|]
operator|.
name|function
operator|=
name|info_xref_item
expr_stmt|;
name|map
index|[
literal|'s'
index|]
operator|.
name|function
operator|=
name|info_search
expr_stmt|;
name|map
index|[
literal|'S'
index|]
operator|.
name|function
operator|=
name|info_search_case_sensitively
expr_stmt|;
name|map
index|[
literal|'t'
index|]
operator|.
name|function
operator|=
name|info_top_node
expr_stmt|;
name|map
index|[
literal|'u'
index|]
operator|.
name|function
operator|=
name|info_up_node
expr_stmt|;
name|map
index|[
name|DEL
index|]
operator|.
name|function
operator|=
name|info_scroll_backward
expr_stmt|;
comment|/* Bind members in the ESC map for Info windows. */
name|map
operator|=
operator|(
name|Keymap
operator|)
name|info_keymap
index|[
name|ESC
index|]
operator|.
name|function
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'f'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_show_footnotes
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'g'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_abort_key
expr_stmt|;
name|map
index|[
name|TAB
index|]
operator|.
name|function
operator|=
name|info_move_to_prev_xref
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'v'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_scroll_other_window
expr_stmt|;
name|map
index|[
literal|'<'
index|]
operator|.
name|function
operator|=
name|info_beginning_of_node
expr_stmt|;
name|map
index|[
literal|'>'
index|]
operator|.
name|function
operator|=
name|info_end_of_node
expr_stmt|;
name|map
index|[
literal|'b'
index|]
operator|.
name|function
operator|=
name|info_backward_word
expr_stmt|;
name|map
index|[
literal|'f'
index|]
operator|.
name|function
operator|=
name|info_forward_word
expr_stmt|;
name|map
index|[
literal|'r'
index|]
operator|.
name|function
operator|=
name|info_move_to_window_line
expr_stmt|;
name|map
index|[
literal|'v'
index|]
operator|.
name|function
operator|=
name|info_scroll_backward_page_only
expr_stmt|;
if|#
directive|if
name|defined
argument_list|(
name|NAMED_FUNCTIONS
argument_list|)
name|map
index|[
literal|'x'
index|]
operator|.
name|function
operator|=
name|info_execute_command
expr_stmt|;
endif|#
directive|endif
comment|/* NAMED_FUNCTIONS */
name|map
index|[
name|DEL
index|]
operator|.
name|function
operator|=
name|info_scroll_other_window_backward
expr_stmt|;
comment|/* Bind members in the Control-X map for Info windows. */
name|map
operator|=
operator|(
name|Keymap
operator|)
name|info_keymap
index|[
name|Control
argument_list|(
literal|'x'
argument_list|)
index|]
operator|.
name|function
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'b'
argument_list|)
index|]
operator|.
name|function
operator|=
name|list_visited_nodes
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'c'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_quit
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'f'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_view_file
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'g'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_abort_key
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'v'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_view_file
expr_stmt|;
name|map
index|[
literal|'0'
index|]
operator|.
name|function
operator|=
name|info_delete_window
expr_stmt|;
name|map
index|[
literal|'1'
index|]
operator|.
name|function
operator|=
name|info_keep_one_window
expr_stmt|;
name|map
index|[
literal|'2'
index|]
operator|.
name|function
operator|=
name|info_split_window
expr_stmt|;
name|map
index|[
literal|'^'
index|]
operator|.
name|function
operator|=
name|info_grow_window
expr_stmt|;
name|map
index|[
literal|'b'
index|]
operator|.
name|function
operator|=
name|select_visited_node
expr_stmt|;
name|map
index|[
literal|'k'
index|]
operator|.
name|function
operator|=
name|info_kill_node
expr_stmt|;
name|map
index|[
literal|'n'
index|]
operator|.
name|function
operator|=
name|info_search_next
expr_stmt|;
name|map
index|[
literal|'N'
index|]
operator|.
name|function
operator|=
name|info_search_previous
expr_stmt|;
name|map
index|[
literal|'o'
index|]
operator|.
name|function
operator|=
name|info_next_window
expr_stmt|;
name|map
index|[
literal|'t'
index|]
operator|.
name|function
operator|=
name|info_tile_windows
expr_stmt|;
name|map
index|[
literal|'w'
index|]
operator|.
name|function
operator|=
name|info_toggle_wrap
expr_stmt|;
comment|/* Arrow key bindings for Info windows keymap. */
name|map
operator|=
name|info_keymap
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kN
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'v'
argument_list|)
index|]
argument_list|)
expr_stmt|;
comment|/* pagedown */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_ku
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'p'
argument_list|)
index|]
argument_list|)
expr_stmt|;
comment|/* up */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033OA"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'p'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033[A"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'p'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kd
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'n'
argument_list|)
index|]
argument_list|)
expr_stmt|;
comment|/* down */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033OB"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'n'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033[B"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'n'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kr
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'f'
argument_list|)
index|]
argument_list|)
expr_stmt|;
comment|/* right */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033OC"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'f'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033[C"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'f'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kl
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'b'
argument_list|)
index|]
argument_list|)
expr_stmt|;
comment|/* left */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033OD"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'b'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033[D"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'b'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kh
argument_list|,
operator|&
name|map
index|[
literal|'b'
index|]
argument_list|)
expr_stmt|;
comment|/* home */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_ke
argument_list|,
operator|&
name|map
index|[
literal|'e'
index|]
argument_list|)
expr_stmt|;
comment|/* end */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kD
argument_list|,
operator|&
name|map
index|[
name|DEL
index|]
argument_list|)
expr_stmt|;
comment|/* delete */
name|map
operator|=
operator|(
name|Keymap
operator|)
name|info_keymap
index|[
name|ESC
index|]
operator|.
name|function
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kl
argument_list|,
operator|&
name|map
index|[
literal|'b'
index|]
argument_list|)
expr_stmt|;
comment|/* left */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033OA"
argument_list|,
operator|&
name|map
index|[
literal|'b'
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033[A"
argument_list|,
operator|&
name|map
index|[
literal|'b'
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kr
argument_list|,
operator|&
name|map
index|[
literal|'f'
index|]
argument_list|)
expr_stmt|;
comment|/* right */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033OB"
argument_list|,
operator|&
name|map
index|[
literal|'f'
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033[B"
argument_list|,
operator|&
name|map
index|[
literal|'f'
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kN
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'v'
argument_list|)
index|]
argument_list|)
expr_stmt|;
comment|/* pagedown */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kP
argument_list|,
operator|&
name|map
index|[
name|DEL
index|]
argument_list|)
expr_stmt|;
comment|/* pageup */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kD
argument_list|,
operator|&
name|map
index|[
name|DEL
index|]
argument_list|)
expr_stmt|;
comment|/* delete */
comment|/* The alternative to this definition of a `main map' key in the      `ESC map' section, is something like:     keymap_bind_keyseq (map, term_kP,&((KeyMap)map[ESC].function).map['v']);   */
name|keymap_bind_keyseq
argument_list|(
name|info_keymap
comment|/*sic*/
argument_list|,
name|term_kP
argument_list|,
operator|&
name|map
index|[
literal|'v'
index|]
argument_list|)
expr_stmt|;
comment|/* pageup */
block|}
end_function

begin_function
specifier|static
name|void
name|initialize_vi_like_keymaps
parameter_list|()
block|{
name|int
name|i
decl_stmt|;
name|Keymap
name|map
decl_stmt|;
if|if
condition|(
operator|!
name|info_keymap
condition|)
block|{
name|info_keymap
operator|=
name|keymap_make_keymap
argument_list|()
expr_stmt|;
name|echo_area_keymap
operator|=
name|keymap_make_keymap
argument_list|()
expr_stmt|;
block|}
name|info_keymap
index|[
name|ESC
index|]
operator|.
name|type
operator|=
name|ISKMAP
expr_stmt|;
name|info_keymap
index|[
name|ESC
index|]
operator|.
name|function
operator|=
operator|(
name|InfoCommand
operator|*
operator|)
name|keymap_make_keymap
argument_list|()
expr_stmt|;
name|info_keymap
index|[
name|Control
argument_list|(
literal|'x'
argument_list|)
index|]
operator|.
name|type
operator|=
name|ISKMAP
expr_stmt|;
name|info_keymap
index|[
name|Control
argument_list|(
literal|'x'
argument_list|)
index|]
operator|.
name|function
operator|=
operator|(
name|InfoCommand
operator|*
operator|)
name|keymap_make_keymap
argument_list|()
expr_stmt|;
comment|/* Bind the echo area insert routines. */
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
literal|256
condition|;
name|i
operator|++
control|)
name|echo_area_keymap
index|[
name|i
index|]
operator|.
name|function
operator|=
name|ea_insert
expr_stmt|;
name|echo_area_keymap
index|[
name|ESC
index|]
operator|.
name|type
operator|=
name|ISKMAP
expr_stmt|;
name|echo_area_keymap
index|[
name|ESC
index|]
operator|.
name|function
operator|=
operator|(
name|InfoCommand
operator|*
operator|)
name|keymap_make_keymap
argument_list|()
expr_stmt|;
name|echo_area_keymap
index|[
name|Control
argument_list|(
literal|'x'
argument_list|)
index|]
operator|.
name|type
operator|=
name|ISKMAP
expr_stmt|;
name|echo_area_keymap
index|[
name|Control
argument_list|(
literal|'x'
argument_list|)
index|]
operator|.
name|function
operator|=
operator|(
name|InfoCommand
operator|*
operator|)
name|keymap_make_keymap
argument_list|()
expr_stmt|;
comment|/* Bind numeric arg functions for both echo area and info window maps. */
for|for
control|(
name|i
operator|=
literal|'0'
init|;
name|i
operator|<
literal|'9'
operator|+
literal|1
condition|;
name|i
operator|++
control|)
block|{
name|info_keymap
index|[
name|i
index|]
operator|.
name|function
operator|=
operator|(
operator|(
name|Keymap
operator|)
name|echo_area_keymap
index|[
name|ESC
index|]
operator|.
name|function
operator|)
index|[
name|i
index|]
operator|.
name|function
operator|=
name|info_add_digit_to_numeric_arg
expr_stmt|;
block|}
name|info_keymap
index|[
literal|'-'
index|]
operator|.
name|function
operator|=
operator|(
operator|(
name|Keymap
operator|)
name|echo_area_keymap
index|[
name|ESC
index|]
operator|.
name|function
operator|)
index|[
literal|'-'
index|]
operator|.
name|function
operator|=
name|info_add_digit_to_numeric_arg
expr_stmt|;
comment|/* Bind the echo area routines. */
name|map
operator|=
name|echo_area_keymap
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'a'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_beg_of_line
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'b'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_backward
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'d'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_delete
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'e'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_end_of_line
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'f'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_forward
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'g'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_abort
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'h'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_rubout
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'k'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_kill_line
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'l'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_redraw_display
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'q'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_quoted_insert
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'t'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_transpose_chars
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'u'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_abort
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'v'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_quoted_insert
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'y'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_yank
expr_stmt|;
name|map
index|[
name|LFD
index|]
operator|.
name|function
operator|=
name|ea_newline
expr_stmt|;
name|map
index|[
name|RET
index|]
operator|.
name|function
operator|=
name|ea_newline
expr_stmt|;
name|map
index|[
name|SPC
index|]
operator|.
name|function
operator|=
name|ea_complete
expr_stmt|;
name|map
index|[
name|TAB
index|]
operator|.
name|function
operator|=
name|ea_complete
expr_stmt|;
name|map
index|[
literal|'?'
index|]
operator|.
name|function
operator|=
name|ea_possible_completions
expr_stmt|;
ifdef|#
directive|ifdef
name|__MSDOS__
comment|/* PC users will lynch me if I don't give them their usual DEL effect...  */
name|map
index|[
name|DEL
index|]
operator|.
name|function
operator|=
name|ea_delete
expr_stmt|;
else|#
directive|else
name|map
index|[
name|DEL
index|]
operator|.
name|function
operator|=
name|ea_rubout
expr_stmt|;
endif|#
directive|endif
comment|/* Bind the echo area ESC keymap. */
name|map
operator|=
operator|(
name|Keymap
operator|)
name|echo_area_keymap
index|[
name|ESC
index|]
operator|.
name|function
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'g'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_abort
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'h'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_backward_kill_word
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'v'
argument_list|)
index|]
operator|.
name|function
operator|=
name|ea_scroll_completions_window
expr_stmt|;
name|map
index|[
literal|'0'
index|]
operator|.
name|function
operator|=
name|ea_beg_of_line
expr_stmt|;
name|map
index|[
literal|'$'
index|]
operator|.
name|function
operator|=
name|ea_end_of_line
expr_stmt|;
name|map
index|[
literal|'b'
index|]
operator|.
name|function
operator|=
name|ea_backward_word
expr_stmt|;
name|map
index|[
literal|'d'
index|]
operator|.
name|function
operator|=
name|ea_kill_word
expr_stmt|;
name|map
index|[
literal|'f'
index|]
operator|.
name|function
operator|=
name|ea_forward_word
expr_stmt|;
name|map
index|[
literal|'h'
index|]
operator|.
name|function
operator|=
name|ea_forward
expr_stmt|;
name|map
index|[
literal|'l'
index|]
operator|.
name|function
operator|=
name|ea_backward
expr_stmt|;
name|map
index|[
literal|'w'
index|]
operator|.
name|function
operator|=
name|ea_forward_word
expr_stmt|;
name|map
index|[
literal|'x'
index|]
operator|.
name|function
operator|=
name|ea_delete
expr_stmt|;
name|map
index|[
literal|'X'
index|]
operator|.
name|function
operator|=
name|ea_kill_word
expr_stmt|;
name|map
index|[
literal|'y'
index|]
operator|.
name|function
operator|=
name|ea_yank_pop
expr_stmt|;
name|map
index|[
literal|'?'
index|]
operator|.
name|function
operator|=
name|ea_possible_completions
expr_stmt|;
name|map
index|[
name|TAB
index|]
operator|.
name|function
operator|=
name|ea_tab_insert
expr_stmt|;
name|map
index|[
name|DEL
index|]
operator|.
name|function
operator|=
name|ea_kill_word
expr_stmt|;
comment|/* Bind the echo area Control-x keymap. */
name|map
operator|=
operator|(
name|Keymap
operator|)
name|echo_area_keymap
index|[
name|Control
argument_list|(
literal|'x'
argument_list|)
index|]
operator|.
name|function
expr_stmt|;
name|map
index|[
literal|'o'
index|]
operator|.
name|function
operator|=
name|info_next_window
expr_stmt|;
name|map
index|[
name|DEL
index|]
operator|.
name|function
operator|=
name|ea_backward_kill_line
expr_stmt|;
comment|/* Arrow key bindings for echo area keymaps.  It seems that some      terminals do not match their termcap entries, so it's best to just      define everything with both of the usual prefixes.  */
name|map
operator|=
name|echo_area_keymap
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_ku
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'p'
argument_list|)
index|]
argument_list|)
expr_stmt|;
comment|/* up */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033OA"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'p'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033[A"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'p'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kd
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'n'
argument_list|)
index|]
argument_list|)
expr_stmt|;
comment|/* down */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033OB"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'n'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033[B"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'n'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kr
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'f'
argument_list|)
index|]
argument_list|)
expr_stmt|;
comment|/* right */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033OC"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'f'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033[C"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'f'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kl
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'b'
argument_list|)
index|]
argument_list|)
expr_stmt|;
comment|/* left */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033OD"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'b'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033[D"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'b'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kh
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'a'
argument_list|)
index|]
argument_list|)
expr_stmt|;
comment|/* home */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_ke
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'e'
argument_list|)
index|]
argument_list|)
expr_stmt|;
comment|/* end */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kD
argument_list|,
operator|&
name|map
index|[
name|DEL
index|]
argument_list|)
expr_stmt|;
comment|/* delete */
name|map
operator|=
operator|(
name|Keymap
operator|)
name|echo_area_keymap
index|[
name|ESC
index|]
operator|.
name|function
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kl
argument_list|,
operator|&
name|map
index|[
literal|'b'
index|]
argument_list|)
expr_stmt|;
comment|/* left */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033OA"
argument_list|,
operator|&
name|map
index|[
literal|'b'
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033[A"
argument_list|,
operator|&
name|map
index|[
literal|'b'
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kr
argument_list|,
operator|&
name|map
index|[
literal|'f'
index|]
argument_list|)
expr_stmt|;
comment|/* right */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033OB"
argument_list|,
operator|&
name|map
index|[
literal|'f'
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033[B"
argument_list|,
operator|&
name|map
index|[
literal|'f'
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kD
argument_list|,
operator|&
name|map
index|[
name|DEL
index|]
argument_list|)
expr_stmt|;
comment|/* delete */
name|map
operator|=
operator|(
name|Keymap
operator|)
name|echo_area_keymap
index|[
name|Control
argument_list|(
literal|'x'
argument_list|)
index|]
operator|.
name|function
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kD
argument_list|,
operator|&
name|map
index|[
name|DEL
index|]
argument_list|)
expr_stmt|;
comment|/* Bind commands for Info window keymaps. */
name|map
operator|=
name|info_keymap
expr_stmt|;
name|map
index|[
name|TAB
index|]
operator|.
name|function
operator|=
name|info_move_to_next_xref
expr_stmt|;
name|map
index|[
name|LFD
index|]
operator|.
name|function
operator|=
name|info_down_line
expr_stmt|;
name|map
index|[
name|RET
index|]
operator|.
name|function
operator|=
name|info_down_line
expr_stmt|;
name|map
index|[
name|SPC
index|]
operator|.
name|function
operator|=
name|info_scroll_forward
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'a'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_beginning_of_line
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'b'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_scroll_backward_page_only
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'d'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_scroll_half_screen_down
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'e'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_down_line
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'f'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_scroll_forward_page_only
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'g'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_abort_key
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'k'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_up_line
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'l'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_redraw_display
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'n'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_down_line
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'p'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_up_line
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'r'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_redraw_display
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'s'
argument_list|)
index|]
operator|.
name|function
operator|=
name|isearch_forward
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'u'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_scroll_half_screen_up
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'v'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_scroll_forward_page_only
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'y'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_up_line
expr_stmt|;
name|map
index|[
literal|','
index|]
operator|.
name|function
operator|=
name|info_next_index_match
expr_stmt|;
name|map
index|[
literal|'/'
index|]
operator|.
name|function
operator|=
name|info_search
expr_stmt|;
for|for
control|(
name|i
operator|=
literal|'1'
init|;
name|i
operator|<
literal|'9'
operator|+
literal|1
condition|;
name|i
operator|++
control|)
operator|(
operator|(
name|Keymap
operator|)
name|info_keymap
index|[
name|ESC
index|]
operator|.
name|function
operator|)
index|[
name|i
index|]
operator|.
name|function
operator|=
name|info_menu_digit
expr_stmt|;
operator|(
operator|(
name|Keymap
operator|)
name|info_keymap
index|[
name|ESC
index|]
operator|.
name|function
operator|)
index|[
literal|'0'
index|]
operator|.
name|function
operator|=
name|info_last_menu_item
expr_stmt|;
name|map
index|[
literal|'<'
index|]
operator|.
name|function
operator|=
name|info_first_node
expr_stmt|;
name|map
index|[
literal|'>'
index|]
operator|.
name|function
operator|=
name|info_last_node
expr_stmt|;
name|map
index|[
literal|'?'
index|]
operator|.
name|function
operator|=
name|info_search_backward
expr_stmt|;
name|map
index|[
literal|'['
index|]
operator|.
name|function
operator|=
name|info_global_prev_node
expr_stmt|;
name|map
index|[
literal|']'
index|]
operator|.
name|function
operator|=
name|info_global_next_node
expr_stmt|;
name|map
index|[
literal|'\''
index|]
operator|.
name|function
operator|=
name|info_history_node
expr_stmt|;
name|map
index|[
literal|'b'
index|]
operator|.
name|function
operator|=
name|info_scroll_backward
expr_stmt|;
name|map
index|[
literal|'d'
index|]
operator|.
name|function
operator|=
name|info_scroll_half_screen_down
expr_stmt|;
name|map
index|[
literal|'e'
index|]
operator|.
name|function
operator|=
name|info_down_line
expr_stmt|;
name|map
index|[
literal|'E'
index|]
operator|.
name|function
operator|=
name|info_view_file
expr_stmt|;
name|map
index|[
literal|'f'
index|]
operator|.
name|function
operator|=
name|info_scroll_forward_page_only
expr_stmt|;
name|map
index|[
literal|'F'
index|]
operator|.
name|function
operator|=
name|info_scroll_forward_page_only
expr_stmt|;
name|map
index|[
literal|'g'
index|]
operator|.
name|function
operator|=
name|info_first_node
expr_stmt|;
name|map
index|[
literal|'G'
index|]
operator|.
name|function
operator|=
name|info_last_node
expr_stmt|;
name|map
index|[
literal|'h'
index|]
operator|.
name|function
operator|=
name|info_get_help_window
expr_stmt|;
name|map
index|[
literal|'H'
index|]
operator|.
name|function
operator|=
name|info_get_help_window
expr_stmt|;
name|map
index|[
literal|'i'
index|]
operator|.
name|function
operator|=
name|info_index_search
expr_stmt|;
name|map
index|[
literal|'I'
index|]
operator|.
name|function
operator|=
name|info_goto_invocation_node
expr_stmt|;
name|map
index|[
literal|'j'
index|]
operator|.
name|function
operator|=
name|info_down_line
expr_stmt|;
name|map
index|[
literal|'k'
index|]
operator|.
name|function
operator|=
name|info_up_line
expr_stmt|;
name|map
index|[
literal|'l'
index|]
operator|.
name|function
operator|=
name|info_history_node
expr_stmt|;
name|map
index|[
literal|'m'
index|]
operator|.
name|function
operator|=
name|info_menu_item
expr_stmt|;
name|map
index|[
literal|'n'
index|]
operator|.
name|function
operator|=
name|info_search_next
expr_stmt|;
name|map
index|[
literal|'N'
index|]
operator|.
name|function
operator|=
name|info_search_previous
expr_stmt|;
name|map
index|[
literal|'O'
index|]
operator|.
name|function
operator|=
name|info_goto_invocation_node
expr_stmt|;
name|map
index|[
literal|'p'
index|]
operator|.
name|function
operator|=
name|info_prev_node
expr_stmt|;
name|map
index|[
literal|'q'
index|]
operator|.
name|function
operator|=
name|info_quit
expr_stmt|;
name|map
index|[
literal|'Q'
index|]
operator|.
name|function
operator|=
name|info_quit
expr_stmt|;
name|map
index|[
literal|'r'
index|]
operator|.
name|function
operator|=
name|info_redraw_display
expr_stmt|;
name|map
index|[
literal|'R'
index|]
operator|.
name|function
operator|=
name|info_redraw_display
expr_stmt|;
name|map
index|[
literal|'s'
index|]
operator|.
name|function
operator|=
name|info_search
expr_stmt|;
name|map
index|[
literal|'S'
index|]
operator|.
name|function
operator|=
name|info_search_case_sensitively
expr_stmt|;
name|map
index|[
literal|'t'
index|]
operator|.
name|function
operator|=
name|info_top_node
expr_stmt|;
name|map
index|[
literal|'u'
index|]
operator|.
name|function
operator|=
name|info_scroll_half_screen_up
expr_stmt|;
name|map
index|[
literal|'w'
index|]
operator|.
name|function
operator|=
name|info_scroll_backward_page_only_set_window
expr_stmt|;
name|map
index|[
literal|'y'
index|]
operator|.
name|function
operator|=
name|info_up_line
expr_stmt|;
name|map
index|[
literal|'z'
index|]
operator|.
name|function
operator|=
name|info_scroll_forward_page_only_set_window
expr_stmt|;
name|map
index|[
literal|'Z'
index|]
operator|.
name|function
operator|=
name|NULL
expr_stmt|;
comment|/* unbind, so it works to bind "ZZ" below */
name|map
index|[
name|DEL
index|]
operator|.
name|function
operator|=
name|info_scroll_backward
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kD
argument_list|,
operator|&
name|map
index|[
name|DEL
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|":q"
argument_list|,
operator|&
name|map
index|[
literal|'q'
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|":Q"
argument_list|,
operator|&
name|map
index|[
literal|'q'
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"ZZ"
argument_list|,
operator|&
name|map
index|[
literal|'q'
index|]
argument_list|)
expr_stmt|;
comment|/* Bind members in the ESC map for Info windows. */
name|map
operator|=
operator|(
name|Keymap
operator|)
name|info_keymap
index|[
name|ESC
index|]
operator|.
name|function
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'f'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_show_footnotes
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'g'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_abort_key
expr_stmt|;
name|map
index|[
name|TAB
index|]
operator|.
name|function
operator|=
name|info_move_to_prev_xref
expr_stmt|;
name|map
index|[
name|SPC
index|]
operator|.
name|function
operator|=
name|info_scroll_forward_page_only
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'v'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_scroll_other_window
expr_stmt|;
name|map
index|[
literal|'<'
index|]
operator|.
name|function
operator|=
name|info_beginning_of_node
expr_stmt|;
name|map
index|[
literal|'>'
index|]
operator|.
name|function
operator|=
name|info_end_of_node
expr_stmt|;
name|map
index|[
literal|'/'
index|]
operator|.
name|function
operator|=
name|info_search
expr_stmt|;
name|map
index|[
literal|'?'
index|]
operator|.
name|function
operator|=
name|info_search_backward
expr_stmt|;
name|map
index|[
literal|'b'
index|]
operator|.
name|function
operator|=
name|info_beginning_of_node
expr_stmt|;
name|map
index|[
literal|'d'
index|]
operator|.
name|function
operator|=
name|info_dir_node
expr_stmt|;
name|map
index|[
literal|'e'
index|]
operator|.
name|function
operator|=
name|info_end_of_node
expr_stmt|;
name|map
index|[
literal|'f'
index|]
operator|.
name|function
operator|=
name|info_xref_item
expr_stmt|;
name|map
index|[
literal|'g'
index|]
operator|.
name|function
operator|=
name|info_select_reference_this_line
expr_stmt|;
name|map
index|[
literal|'h'
index|]
operator|.
name|function
operator|=
name|info_get_info_help_node
expr_stmt|;
name|map
index|[
literal|'m'
index|]
operator|.
name|function
operator|=
name|info_menu_item
expr_stmt|;
name|map
index|[
literal|'n'
index|]
operator|.
name|function
operator|=
name|info_search
expr_stmt|;
name|map
index|[
literal|'N'
index|]
operator|.
name|function
operator|=
name|info_search_backward
expr_stmt|;
name|map
index|[
literal|'r'
index|]
operator|.
name|function
operator|=
name|isearch_backward
expr_stmt|;
name|map
index|[
literal|'s'
index|]
operator|.
name|function
operator|=
name|isearch_forward
expr_stmt|;
name|map
index|[
literal|'t'
index|]
operator|.
name|function
operator|=
name|info_top_node
expr_stmt|;
name|map
index|[
literal|'v'
index|]
operator|.
name|function
operator|=
name|info_scroll_backward_page_only
expr_stmt|;
if|#
directive|if
name|defined
argument_list|(
name|NAMED_FUNCTIONS
argument_list|)
name|map
index|[
literal|'x'
index|]
operator|.
name|function
operator|=
name|info_execute_command
expr_stmt|;
endif|#
directive|endif
comment|/* NAMED_FUNCTIONS */
name|map
index|[
name|DEL
index|]
operator|.
name|function
operator|=
name|info_scroll_other_window_backward
expr_stmt|;
comment|/* Bind members in the Control-X map for Info windows. */
name|map
operator|=
operator|(
name|Keymap
operator|)
name|info_keymap
index|[
name|Control
argument_list|(
literal|'x'
argument_list|)
index|]
operator|.
name|function
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'b'
argument_list|)
index|]
operator|.
name|function
operator|=
name|list_visited_nodes
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'c'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_quit
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'f'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_view_file
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'g'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_abort_key
expr_stmt|;
name|map
index|[
name|Control
argument_list|(
literal|'v'
argument_list|)
index|]
operator|.
name|function
operator|=
name|info_view_file
expr_stmt|;
name|map
index|[
name|LFD
index|]
operator|.
name|function
operator|=
name|info_select_reference_this_line
expr_stmt|;
name|map
index|[
name|RET
index|]
operator|.
name|function
operator|=
name|info_select_reference_this_line
expr_stmt|;
name|map
index|[
literal|'0'
index|]
operator|.
name|function
operator|=
name|info_delete_window
expr_stmt|;
name|map
index|[
literal|'1'
index|]
operator|.
name|function
operator|=
name|info_keep_one_window
expr_stmt|;
name|map
index|[
literal|'2'
index|]
operator|.
name|function
operator|=
name|info_split_window
expr_stmt|;
name|map
index|[
literal|'^'
index|]
operator|.
name|function
operator|=
name|info_grow_window
expr_stmt|;
name|map
index|[
literal|'b'
index|]
operator|.
name|function
operator|=
name|select_visited_node
expr_stmt|;
name|map
index|[
literal|'g'
index|]
operator|.
name|function
operator|=
name|info_goto_node
expr_stmt|;
name|map
index|[
literal|'i'
index|]
operator|.
name|function
operator|=
name|info_index_search
expr_stmt|;
name|map
index|[
literal|'I'
index|]
operator|.
name|function
operator|=
name|info_goto_invocation_node
expr_stmt|;
name|map
index|[
literal|'k'
index|]
operator|.
name|function
operator|=
name|info_kill_node
expr_stmt|;
name|map
index|[
literal|'n'
index|]
operator|.
name|function
operator|=
name|info_next_node
expr_stmt|;
name|map
index|[
literal|'o'
index|]
operator|.
name|function
operator|=
name|info_next_window
expr_stmt|;
name|map
index|[
literal|'O'
index|]
operator|.
name|function
operator|=
name|info_goto_invocation_node
expr_stmt|;
name|map
index|[
literal|'p'
index|]
operator|.
name|function
operator|=
name|info_prev_node
expr_stmt|;
name|map
index|[
literal|'r'
index|]
operator|.
name|function
operator|=
name|info_xref_item
expr_stmt|;
name|map
index|[
literal|'t'
index|]
operator|.
name|function
operator|=
name|info_tile_windows
expr_stmt|;
name|map
index|[
literal|'u'
index|]
operator|.
name|function
operator|=
name|info_up_node
expr_stmt|;
name|map
index|[
literal|'w'
index|]
operator|.
name|function
operator|=
name|info_toggle_wrap
expr_stmt|;
name|map
index|[
literal|','
index|]
operator|.
name|function
operator|=
name|info_next_index_match
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|info_keymap
argument_list|,
literal|":e"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'v'
argument_list|)
index|]
argument_list|)
expr_stmt|;
comment|/* Arrow key bindings for Info windows keymap. */
name|map
operator|=
name|info_keymap
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kN
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'v'
argument_list|)
index|]
argument_list|)
expr_stmt|;
comment|/* pagedown */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_ku
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'p'
argument_list|)
index|]
argument_list|)
expr_stmt|;
comment|/* up */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033OA"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'p'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033[A"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'p'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kd
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'n'
argument_list|)
index|]
argument_list|)
expr_stmt|;
comment|/* down */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033OB"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'n'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033[B"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'n'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kr
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'f'
argument_list|)
index|]
argument_list|)
expr_stmt|;
comment|/* right */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033OC"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'f'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033[C"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'f'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kl
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'b'
argument_list|)
index|]
argument_list|)
expr_stmt|;
comment|/* left */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033OD"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'b'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033[D"
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'b'
argument_list|)
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kh
argument_list|,
operator|&
name|map
index|[
literal|'b'
index|]
argument_list|)
expr_stmt|;
comment|/* home */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_ke
argument_list|,
operator|&
name|map
index|[
literal|'e'
index|]
argument_list|)
expr_stmt|;
comment|/* end */
name|map
operator|=
operator|(
name|Keymap
operator|)
name|info_keymap
index|[
name|ESC
index|]
operator|.
name|function
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kl
argument_list|,
operator|&
name|map
index|[
literal|'b'
index|]
argument_list|)
expr_stmt|;
comment|/* left */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033OA"
argument_list|,
operator|&
name|map
index|[
literal|'b'
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033[A"
argument_list|,
operator|&
name|map
index|[
literal|'b'
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kr
argument_list|,
operator|&
name|map
index|[
literal|'f'
index|]
argument_list|)
expr_stmt|;
comment|/* right */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033OB"
argument_list|,
operator|&
name|map
index|[
literal|'f'
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
literal|"\033[B"
argument_list|,
operator|&
name|map
index|[
literal|'f'
index|]
argument_list|)
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kN
argument_list|,
operator|&
name|map
index|[
name|Control
argument_list|(
literal|'v'
argument_list|)
index|]
argument_list|)
expr_stmt|;
comment|/* pagedown */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kP
argument_list|,
operator|&
name|map
index|[
name|DEL
index|]
argument_list|)
expr_stmt|;
comment|/* pageup */
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|term_kD
argument_list|,
operator|&
name|map
index|[
name|DEL
index|]
argument_list|)
expr_stmt|;
comment|/* delete */
comment|/* The alternative to this definition of a `main map' key in the      `ESC map' section, is something like:     keymap_bind_keyseq (map, term_kP,&((KeyMap)map[ESC].function).map['v']);   */
name|keymap_bind_keyseq
argument_list|(
name|info_keymap
comment|/*sic*/
argument_list|,
name|term_kP
argument_list|,
operator|&
name|map
index|[
literal|'v'
index|]
argument_list|)
expr_stmt|;
comment|/* pageup */
block|}
end_function

begin_function
name|void
name|initialize_info_keymaps
parameter_list|()
block|{
if|if
condition|(
name|vi_keys_p
condition|)
name|initialize_vi_like_keymaps
argument_list|()
expr_stmt|;
else|else
name|initialize_emacs_like_keymaps
argument_list|()
expr_stmt|;
block|}
end_function

begin_else
else|#
directive|else
end_else

begin_comment
comment|/* defined(INFOKEY) */
end_comment

begin_comment
comment|/* Make sure that we don't have too many command codes defined. */
end_comment

begin_if
if|#
directive|if
name|A_NCOMMANDS
operator|>
name|A_MAX_COMMAND
operator|+
literal|1
end_if

begin_error
error|#
directive|error
literal|"too many commands defined"
end_error

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* Initialize the keymaps from the .info keymap file. */
end_comment

begin_define
define|#
directive|define
name|NUL
value|'\0'
end_define

begin_decl_stmt
specifier|static
name|unsigned
name|char
name|default_emacs_like_info_keys
index|[]
init|=
block|{
literal|0
block|,
comment|/* suppress-default-keybindings flag */
name|TAB
block|,
name|NUL
block|,
name|A_info_move_to_next_xref
block|,
name|LFD
block|,
name|NUL
block|,
name|A_info_select_reference_this_line
block|,
name|RET
block|,
name|NUL
block|,
name|A_info_select_reference_this_line
block|,
name|SPC
block|,
name|NUL
block|,
name|A_info_scroll_forward
block|,
name|CONTROL
argument_list|(
literal|'a'
argument_list|)
block|,
name|NUL
block|,
name|A_info_beginning_of_line
block|,
name|CONTROL
argument_list|(
literal|'b'
argument_list|)
block|,
name|NUL
block|,
name|A_info_backward_char
block|,
name|CONTROL
argument_list|(
literal|'e'
argument_list|)
block|,
name|NUL
block|,
name|A_info_end_of_line
block|,
name|CONTROL
argument_list|(
literal|'f'
argument_list|)
block|,
name|NUL
block|,
name|A_info_forward_char
block|,
name|CONTROL
argument_list|(
literal|'g'
argument_list|)
block|,
name|NUL
block|,
name|A_info_abort_key
block|,
name|CONTROL
argument_list|(
literal|'h'
argument_list|)
block|,
name|NUL
block|,
name|A_info_get_help_window
block|,
name|CONTROL
argument_list|(
literal|'l'
argument_list|)
block|,
name|NUL
block|,
name|A_info_redraw_display
block|,
name|CONTROL
argument_list|(
literal|'n'
argument_list|)
block|,
name|NUL
block|,
name|A_info_next_line
block|,
name|CONTROL
argument_list|(
literal|'p'
argument_list|)
block|,
name|NUL
block|,
name|A_info_prev_line
block|,
name|CONTROL
argument_list|(
literal|'r'
argument_list|)
block|,
name|NUL
block|,
name|A_isearch_backward
block|,
name|CONTROL
argument_list|(
literal|'s'
argument_list|)
block|,
name|NUL
block|,
name|A_isearch_forward
block|,
name|CONTROL
argument_list|(
literal|'u'
argument_list|)
block|,
name|NUL
block|,
name|A_info_universal_argument
block|,
name|CONTROL
argument_list|(
literal|'v'
argument_list|)
block|,
name|NUL
block|,
name|A_info_scroll_forward_page_only
block|,
literal|','
block|,
name|NUL
block|,
name|A_info_next_index_match
block|,
literal|'/'
block|,
name|NUL
block|,
name|A_info_search
block|,
literal|'0'
block|,
name|NUL
block|,
name|A_info_last_menu_item
block|,
literal|'1'
block|,
name|NUL
block|,
name|A_info_menu_digit
block|,
literal|'2'
block|,
name|NUL
block|,
name|A_info_menu_digit
block|,
literal|'3'
block|,
name|NUL
block|,
name|A_info_menu_digit
block|,
literal|'4'
block|,
name|NUL
block|,
name|A_info_menu_digit
block|,
literal|'5'
block|,
name|NUL
block|,
name|A_info_menu_digit
block|,
literal|'6'
block|,
name|NUL
block|,
name|A_info_menu_digit
block|,
literal|'7'
block|,
name|NUL
block|,
name|A_info_menu_digit
block|,
literal|'8'
block|,
name|NUL
block|,
name|A_info_menu_digit
block|,
literal|'9'
block|,
name|NUL
block|,
name|A_info_menu_digit
block|,
literal|'<'
block|,
name|NUL
block|,
name|A_info_first_node
block|,
literal|'>'
block|,
name|NUL
block|,
name|A_info_last_node
block|,
literal|'?'
block|,
name|NUL
block|,
name|A_info_get_help_window
block|,
literal|'['
block|,
name|NUL
block|,
name|A_info_global_prev_node
block|,
literal|']'
block|,
name|NUL
block|,
name|A_info_global_next_node
block|,
literal|'b'
block|,
name|NUL
block|,
name|A_info_beginning_of_node
block|,
literal|'d'
block|,
name|NUL
block|,
name|A_info_dir_node
block|,
literal|'e'
block|,
name|NUL
block|,
name|A_info_end_of_node
block|,
literal|'f'
block|,
name|NUL
block|,
name|A_info_xref_item
block|,
literal|'g'
block|,
name|NUL
block|,
name|A_info_goto_node
block|,
literal|'G'
block|,
name|NUL
block|,
name|A_info_menu_sequence
block|,
literal|'h'
block|,
name|NUL
block|,
name|A_info_get_info_help_node
block|,
literal|'i'
block|,
name|NUL
block|,
name|A_info_index_search
block|,
literal|'l'
block|,
name|NUL
block|,
name|A_info_history_node
block|,
literal|'m'
block|,
name|NUL
block|,
name|A_info_menu_item
block|,
literal|'n'
block|,
name|NUL
block|,
name|A_info_next_node
block|,
literal|'O'
block|,
name|NUL
block|,
name|A_info_goto_invocation_node
block|,
literal|'p'
block|,
name|NUL
block|,
name|A_info_prev_node
block|,
literal|'q'
block|,
name|NUL
block|,
name|A_info_quit
block|,
literal|'r'
block|,
name|NUL
block|,
name|A_info_xref_item
block|,
literal|'s'
block|,
name|NUL
block|,
name|A_info_search
block|,
literal|'S'
block|,
name|NUL
block|,
name|A_info_search_case_sensitively
block|,
literal|'t'
block|,
name|NUL
block|,
name|A_info_top_node
block|,
literal|'u'
block|,
name|NUL
block|,
name|A_info_up_node
block|,
name|DEL
block|,
name|NUL
block|,
name|A_info_scroll_backward
block|,
name|ESC
block|,
literal|'0'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'1'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'2'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'3'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'4'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'5'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'6'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'7'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'8'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'9'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'-'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
name|CONTROL
argument_list|(
literal|'f'
argument_list|)
block|,
name|NUL
block|,
name|A_info_show_footnotes
block|,
name|ESC
block|,
name|CONTROL
argument_list|(
literal|'g'
argument_list|)
block|,
name|NUL
block|,
name|A_info_abort_key
block|,
name|ESC
block|,
name|TAB
block|,
name|NUL
block|,
name|A_info_move_to_prev_xref
block|,
name|ESC
block|,
name|CONTROL
argument_list|(
literal|'v'
argument_list|)
block|,
name|NUL
block|,
name|A_info_scroll_other_window
block|,
name|ESC
block|,
literal|'<'
block|,
name|NUL
block|,
name|A_info_beginning_of_node
block|,
name|ESC
block|,
literal|'>'
block|,
name|NUL
block|,
name|A_info_end_of_node
block|,
name|ESC
block|,
literal|'b'
block|,
name|NUL
block|,
name|A_info_backward_word
block|,
name|ESC
block|,
literal|'f'
block|,
name|NUL
block|,
name|A_info_forward_word
block|,
name|ESC
block|,
literal|'r'
block|,
name|NUL
block|,
name|A_info_move_to_window_line
block|,
name|ESC
block|,
literal|'v'
block|,
name|NUL
block|,
name|A_info_scroll_backward_page_only
block|,
name|Meta
argument_list|(
literal|'0'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'1'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'2'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'3'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'4'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'5'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'6'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'7'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'8'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'9'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'-'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
name|CONTROL
argument_list|(
literal|'f'
argument_list|)
argument_list|)
block|,
name|NUL
block|,
name|A_info_show_footnotes
block|,
name|Meta
argument_list|(
name|CONTROL
argument_list|(
literal|'g'
argument_list|)
argument_list|)
block|,
name|NUL
block|,
name|A_info_abort_key
block|,
name|Meta
argument_list|(
name|TAB
argument_list|)
block|,
name|NUL
block|,
name|A_info_move_to_prev_xref
block|,
name|Meta
argument_list|(
name|CONTROL
argument_list|(
literal|'v'
argument_list|)
argument_list|)
block|,
name|NUL
block|,
name|A_info_scroll_other_window
block|,
name|Meta
argument_list|(
literal|'<'
argument_list|)
block|,
name|NUL
block|,
name|A_info_beginning_of_node
block|,
name|Meta
argument_list|(
literal|'>'
argument_list|)
block|,
name|NUL
block|,
name|A_info_end_of_node
block|,
name|Meta
argument_list|(
literal|'b'
argument_list|)
block|,
name|NUL
block|,
name|A_info_backward_word
block|,
name|Meta
argument_list|(
literal|'f'
argument_list|)
block|,
name|NUL
block|,
name|A_info_forward_word
block|,
name|Meta
argument_list|(
literal|'r'
argument_list|)
block|,
name|NUL
block|,
name|A_info_move_to_window_line
block|,
name|Meta
argument_list|(
literal|'v'
argument_list|)
block|,
name|NUL
block|,
name|A_info_scroll_backward_page_only
block|,
if|#
directive|if
name|defined
argument_list|(
name|NAMED_FUNCTIONS
argument_list|)
name|ESC
block|,
literal|'x'
block|,
name|NUL
block|,
name|A_info_execute_command
block|,
name|Meta
argument_list|(
literal|'x'
argument_list|)
block|,
name|NUL
block|,
name|A_info_execute_command
block|,
endif|#
directive|endif
comment|/* NAMED_FUNCTIONS */
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
name|CONTROL
argument_list|(
literal|'b'
argument_list|)
block|,
name|NUL
block|,
name|A_list_visited_nodes
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
name|CONTROL
argument_list|(
literal|'c'
argument_list|)
block|,
name|NUL
block|,
name|A_info_quit
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
name|CONTROL
argument_list|(
literal|'f'
argument_list|)
block|,
name|NUL
block|,
name|A_info_view_file
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
name|CONTROL
argument_list|(
literal|'g'
argument_list|)
block|,
name|NUL
block|,
name|A_info_abort_key
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
name|CONTROL
argument_list|(
literal|'v'
argument_list|)
block|,
name|NUL
block|,
name|A_info_view_file
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'0'
block|,
name|NUL
block|,
name|A_info_delete_window
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'1'
block|,
name|NUL
block|,
name|A_info_keep_one_window
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'2'
block|,
name|NUL
block|,
name|A_info_split_window
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'^'
block|,
name|NUL
block|,
name|A_info_grow_window
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'b'
block|,
name|NUL
block|,
name|A_select_visited_node
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'k'
block|,
name|NUL
block|,
name|A_info_kill_node
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'n'
block|,
name|NUL
block|,
name|A_info_search_next
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'N'
block|,
name|NUL
block|,
name|A_info_search_previous
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'o'
block|,
name|NUL
block|,
name|A_info_next_window
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'t'
block|,
name|NUL
block|,
name|A_info_tile_windows
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'w'
block|,
name|NUL
block|,
name|A_info_toggle_wrap
block|,
comment|/*	Arrow key bindings for info keymaps.  It seems that some 	terminals do not match their termcap entries, so it's best to just 	define everything with both of the usual prefixes.  */
name|SK_ESCAPE
block|,
name|SK_PAGE_UP
block|,
name|NUL
block|,
name|A_info_scroll_backward_page_only
block|,
name|SK_ESCAPE
block|,
name|SK_PAGE_DOWN
block|,
name|NUL
block|,
name|A_info_scroll_forward_page_only
block|,
name|SK_ESCAPE
block|,
name|SK_UP_ARROW
block|,
name|NUL
block|,
name|A_info_prev_line
block|,
literal|'\033'
block|,
literal|'O'
block|,
literal|'A'
block|,
name|NUL
block|,
name|A_info_prev_line
block|,
literal|'\033'
block|,
literal|'['
block|,
literal|'A'
block|,
name|NUL
block|,
name|A_info_prev_line
block|,
name|SK_ESCAPE
block|,
name|SK_DOWN_ARROW
block|,
name|NUL
block|,
name|A_info_next_line
block|,
literal|'\033'
block|,
literal|'O'
block|,
literal|'B'
block|,
name|NUL
block|,
name|A_info_next_line
block|,
literal|'\033'
block|,
literal|'['
block|,
literal|'B'
block|,
name|NUL
block|,
name|A_info_next_line
block|,
name|SK_ESCAPE
block|,
name|SK_RIGHT_ARROW
block|,
name|NUL
block|,
name|A_info_forward_char
block|,
literal|'\033'
block|,
literal|'O'
block|,
literal|'C'
block|,
name|NUL
block|,
name|A_info_forward_char
block|,
literal|'\033'
block|,
literal|'['
block|,
literal|'C'
block|,
name|NUL
block|,
name|A_info_forward_char
block|,
name|SK_ESCAPE
block|,
name|SK_LEFT_ARROW
block|,
name|NUL
block|,
name|A_info_backward_char
block|,
literal|'\033'
block|,
literal|'O'
block|,
literal|'D'
block|,
name|NUL
block|,
name|A_info_backward_char
block|,
literal|'\033'
block|,
literal|'['
block|,
literal|'D'
block|,
name|NUL
block|,
name|A_info_backward_char
block|,
name|SK_ESCAPE
block|,
name|SK_HOME
block|,
name|NUL
block|,
name|A_info_beginning_of_node
block|,
name|SK_ESCAPE
block|,
name|SK_END
block|,
name|NUL
block|,
name|A_info_end_of_node
block|,
name|SK_ESCAPE
block|,
name|SK_DELETE
block|,
name|NUL
block|,
name|A_info_scroll_backward
block|,
name|ESC
block|,
name|SK_ESCAPE
block|,
name|SK_PAGE_UP
block|,
name|NUL
block|,
name|A_info_scroll_other_window_backward
block|,
name|ESC
block|,
name|SK_ESCAPE
block|,
name|SK_PAGE_DOWN
block|,
name|NUL
block|,
name|A_info_scroll_other_window
block|,
name|ESC
block|,
name|SK_ESCAPE
block|,
name|SK_UP_ARROW
block|,
name|NUL
block|,
name|A_info_prev_line
block|,
name|ESC
block|,
literal|'\033'
block|,
literal|'O'
block|,
literal|'A'
block|,
name|NUL
block|,
name|A_info_prev_line
block|,
name|ESC
block|,
literal|'\033'
block|,
literal|'['
block|,
literal|'A'
block|,
name|NUL
block|,
name|A_info_prev_line
block|,
name|ESC
block|,
name|SK_ESCAPE
block|,
name|SK_DOWN_ARROW
block|,
name|NUL
block|,
name|A_info_next_line
block|,
name|ESC
block|,
literal|'\033'
block|,
literal|'O'
block|,
literal|'B'
block|,
name|NUL
block|,
name|A_info_next_line
block|,
name|ESC
block|,
literal|'\033'
block|,
literal|'['
block|,
literal|'B'
block|,
name|NUL
block|,
name|A_info_next_line
block|,
name|ESC
block|,
name|SK_ESCAPE
block|,
name|SK_RIGHT_ARROW
block|,
name|NUL
block|,
name|A_info_forward_word
block|,
name|ESC
block|,
literal|'\033'
block|,
literal|'O'
block|,
literal|'C'
block|,
name|NUL
block|,
name|A_info_forward_word
block|,
name|ESC
block|,
literal|'\033'
block|,
literal|'['
block|,
literal|'C'
block|,
name|NUL
block|,
name|A_info_forward_word
block|,
name|ESC
block|,
name|SK_ESCAPE
block|,
name|SK_LEFT_ARROW
block|,
name|NUL
block|,
name|A_info_backward_word
block|,
name|ESC
block|,
literal|'\033'
block|,
literal|'O'
block|,
literal|'D'
block|,
name|NUL
block|,
name|A_info_backward_word
block|,
name|ESC
block|,
literal|'\033'
block|,
literal|'['
block|,
literal|'D'
block|,
name|NUL
block|,
name|A_info_backward_word
block|, }
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|unsigned
name|char
name|default_emacs_like_ea_keys
index|[]
init|=
block|{
literal|0
block|,
comment|/* suppress-default-keybindings flag */
name|ESC
block|,
literal|'0'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'1'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'2'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'3'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'4'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'5'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'6'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'7'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'8'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'9'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'-'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'0'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'1'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'2'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'3'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'4'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'5'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'6'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'7'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'8'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'9'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'-'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
name|CONTROL
argument_list|(
literal|'g'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_abort
block|,
name|ESC
block|,
name|CONTROL
argument_list|(
literal|'v'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_scroll_completions_window
block|,
name|ESC
block|,
literal|'b'
block|,
name|NUL
block|,
name|A_ea_backward_word
block|,
name|ESC
block|,
literal|'d'
block|,
name|NUL
block|,
name|A_ea_kill_word
block|,
name|ESC
block|,
literal|'f'
block|,
name|NUL
block|,
name|A_ea_forward_word
block|,
name|ESC
block|,
literal|'y'
block|,
name|NUL
block|,
name|A_ea_yank_pop
block|,
name|ESC
block|,
literal|'?'
block|,
name|NUL
block|,
name|A_ea_possible_completions
block|,
name|ESC
block|,
name|TAB
block|,
name|NUL
block|,
name|A_ea_tab_insert
block|,
name|ESC
block|,
name|DEL
block|,
name|NUL
block|,
name|A_ea_backward_kill_word
block|,
name|Meta
argument_list|(
name|CONTROL
argument_list|(
literal|'g'
argument_list|)
argument_list|)
block|,
name|NUL
block|,
name|A_ea_abort
block|,
name|Meta
argument_list|(
name|CONTROL
argument_list|(
literal|'v'
argument_list|)
argument_list|)
block|,
name|NUL
block|,
name|A_ea_scroll_completions_window
block|,
name|Meta
argument_list|(
literal|'b'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_backward_word
block|,
name|Meta
argument_list|(
literal|'d'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_kill_word
block|,
name|Meta
argument_list|(
literal|'f'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_forward_word
block|,
name|Meta
argument_list|(
literal|'y'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_yank_pop
block|,
name|Meta
argument_list|(
literal|'?'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_possible_completions
block|,
name|Meta
argument_list|(
name|TAB
argument_list|)
block|,
name|NUL
block|,
name|A_ea_tab_insert
block|,
name|Meta
argument_list|(
name|DEL
argument_list|)
block|,
name|NUL
block|,
name|A_ea_backward_kill_word
block|,
name|CONTROL
argument_list|(
literal|'a'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_beg_of_line
block|,
name|CONTROL
argument_list|(
literal|'b'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_backward
block|,
name|CONTROL
argument_list|(
literal|'d'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_delete
block|,
name|CONTROL
argument_list|(
literal|'e'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_end_of_line
block|,
name|CONTROL
argument_list|(
literal|'f'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_forward
block|,
name|CONTROL
argument_list|(
literal|'g'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_abort
block|,
name|CONTROL
argument_list|(
literal|'h'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_rubout
block|,
comment|/*	CONTROL('k') */
name|SK_ESCAPE
block|,
name|SK_LITERAL
block|,
name|NUL
block|,
name|A_ea_kill_line
block|,
name|CONTROL
argument_list|(
literal|'l'
argument_list|)
block|,
name|NUL
block|,
name|A_info_redraw_display
block|,
name|CONTROL
argument_list|(
literal|'q'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_quoted_insert
block|,
name|CONTROL
argument_list|(
literal|'t'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_transpose_chars
block|,
name|CONTROL
argument_list|(
literal|'u'
argument_list|)
block|,
name|NUL
block|,
name|A_info_universal_argument
block|,
name|CONTROL
argument_list|(
literal|'y'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_yank
block|,
name|LFD
block|,
name|NUL
block|,
name|A_ea_newline
block|,
name|RET
block|,
name|NUL
block|,
name|A_ea_newline
block|,
name|SPC
block|,
name|NUL
block|,
name|A_ea_complete
block|,
name|TAB
block|,
name|NUL
block|,
name|A_ea_complete
block|,
literal|'?'
block|,
name|NUL
block|,
name|A_ea_possible_completions
block|,
ifdef|#
directive|ifdef
name|__MSDOS__
comment|/* PC users will lynch me if I don't give them their usual DEL 	   effect...  */
name|DEL
block|,
name|NUL
block|,
name|A_ea_delete
block|,
else|#
directive|else
name|DEL
block|,
name|NUL
block|,
name|A_ea_rubout
block|,
endif|#
directive|endif
if|#
directive|if
name|defined
argument_list|(
name|NAMED_FUNCTIONS
argument_list|)
comment|/* 	ESC, 'x', NUL,			A_info_execute_command, */
comment|/* 	Meta('x'), NUL,			A_info_execute_command, */
endif|#
directive|endif
comment|/* NAMED_FUNCTIONS */
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'o'
block|,
name|NUL
block|,
name|A_info_next_window
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
name|DEL
block|,
name|NUL
block|,
name|A_ea_backward_kill_line
block|,
comment|/*	Arrow key bindings for echo area keymaps.  It seems that some 	terminals do not match their termcap entries, so it's best to just 	define everything with both of the usual prefixes.  */
name|SK_ESCAPE
block|,
name|SK_RIGHT_ARROW
block|,
name|NUL
block|,
name|A_ea_forward
block|,
literal|'\033'
block|,
literal|'O'
block|,
literal|'C'
block|,
name|NUL
block|,
name|A_ea_forward
block|,
literal|'\033'
block|,
literal|'['
block|,
literal|'C'
block|,
name|NUL
block|,
name|A_ea_forward
block|,
name|SK_ESCAPE
block|,
name|SK_LEFT_ARROW
block|,
name|NUL
block|,
name|A_ea_backward
block|,
literal|'\033'
block|,
literal|'O'
block|,
literal|'D'
block|,
name|NUL
block|,
name|A_ea_backward
block|,
literal|'\033'
block|,
literal|'['
block|,
literal|'D'
block|,
name|NUL
block|,
name|A_ea_backward
block|,
name|ESC
block|,
name|SK_ESCAPE
block|,
name|SK_RIGHT_ARROW
block|,
name|NUL
block|,
name|A_ea_forward_word
block|,
name|ESC
block|,
literal|'\033'
block|,
literal|'O'
block|,
literal|'C'
block|,
name|NUL
block|,
name|A_ea_forward_word
block|,
name|ESC
block|,
literal|'\033'
block|,
literal|'['
block|,
literal|'C'
block|,
name|NUL
block|,
name|A_ea_forward_word
block|,
name|ESC
block|,
name|SK_ESCAPE
block|,
name|SK_LEFT_ARROW
block|,
name|NUL
block|,
name|A_ea_backward_word
block|,
name|ESC
block|,
literal|'\033'
block|,
literal|'O'
block|,
literal|'D'
block|,
name|NUL
block|,
name|A_ea_backward_word
block|,
name|ESC
block|,
literal|'\033'
block|,
literal|'['
block|,
literal|'D'
block|,
name|NUL
block|,
name|A_ea_backward_word
block|,
ifdef|#
directive|ifdef
name|__MSDOS__
name|SK_ESCAPE
block|,
name|SK_DELETE
block|,
name|NUL
block|,
name|A_ea_delete
block|,
else|#
directive|else
name|SK_ESCAPE
block|,
name|SK_DELETE
block|,
name|NUL
block|,
name|A_ea_rubout
block|,
endif|#
directive|endif
name|SK_ESCAPE
block|,
name|SK_HOME
block|,
name|NUL
block|,
name|A_ea_beg_of_line
block|,
name|SK_ESCAPE
block|,
name|SK_END
block|,
name|NUL
block|,
name|A_ea_end_of_line
block|,
name|ESC
block|,
name|SK_ESCAPE
block|,
name|SK_DELETE
block|,
name|NUL
block|,
name|A_ea_backward_kill_word
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
name|SK_ESCAPE
block|,
name|SK_DELETE
block|,
name|NUL
block|,
name|A_ea_backward_kill_line
block|, }
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|unsigned
name|char
name|default_vi_like_info_keys
index|[]
init|=
block|{
literal|0
block|,
comment|/* suppress-default-keybindings flag */
literal|'0'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
literal|'1'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
literal|'2'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
literal|'3'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
literal|'4'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
literal|'5'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
literal|'6'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
literal|'7'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
literal|'8'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
literal|'9'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
literal|'-'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|TAB
block|,
name|NUL
block|,
name|A_info_move_to_next_xref
block|,
name|LFD
block|,
name|NUL
block|,
name|A_info_down_line
block|,
name|RET
block|,
name|NUL
block|,
name|A_info_down_line
block|,
name|SPC
block|,
name|NUL
block|,
name|A_info_scroll_forward
block|,
name|CONTROL
argument_list|(
literal|'a'
argument_list|)
block|,
name|NUL
block|,
name|A_info_beginning_of_line
block|,
name|CONTROL
argument_list|(
literal|'b'
argument_list|)
block|,
name|NUL
block|,
name|A_info_scroll_backward_page_only
block|,
name|CONTROL
argument_list|(
literal|'d'
argument_list|)
block|,
name|NUL
block|,
name|A_info_scroll_half_screen_down
block|,
name|CONTROL
argument_list|(
literal|'e'
argument_list|)
block|,
name|NUL
block|,
name|A_info_down_line
block|,
name|CONTROL
argument_list|(
literal|'f'
argument_list|)
block|,
name|NUL
block|,
name|A_info_scroll_forward_page_only
block|,
name|CONTROL
argument_list|(
literal|'g'
argument_list|)
block|,
name|NUL
block|,
name|A_info_abort_key
block|,
name|CONTROL
argument_list|(
literal|'k'
argument_list|)
block|,
name|NUL
block|,
name|A_info_up_line
block|,
name|CONTROL
argument_list|(
literal|'l'
argument_list|)
block|,
name|NUL
block|,
name|A_info_redraw_display
block|,
name|CONTROL
argument_list|(
literal|'n'
argument_list|)
block|,
name|NUL
block|,
name|A_info_down_line
block|,
name|CONTROL
argument_list|(
literal|'p'
argument_list|)
block|,
name|NUL
block|,
name|A_info_up_line
block|,
name|CONTROL
argument_list|(
literal|'r'
argument_list|)
block|,
name|NUL
block|,
name|A_info_redraw_display
block|,
name|CONTROL
argument_list|(
literal|'s'
argument_list|)
block|,
name|NUL
block|,
name|A_isearch_forward
block|,
name|CONTROL
argument_list|(
literal|'u'
argument_list|)
block|,
name|NUL
block|,
name|A_info_scroll_half_screen_up
block|,
name|CONTROL
argument_list|(
literal|'v'
argument_list|)
block|,
name|NUL
block|,
name|A_info_scroll_forward_page_only
block|,
name|CONTROL
argument_list|(
literal|'y'
argument_list|)
block|,
name|NUL
block|,
name|A_info_up_line
block|,
literal|','
block|,
name|NUL
block|,
name|A_info_next_index_match
block|,
literal|'/'
block|,
name|NUL
block|,
name|A_info_search
block|,
name|ESC
block|,
literal|'0'
block|,
name|NUL
block|,
name|A_info_last_menu_item
block|,
name|ESC
block|,
literal|'1'
block|,
name|NUL
block|,
name|A_info_menu_digit
block|,
name|ESC
block|,
literal|'2'
block|,
name|NUL
block|,
name|A_info_menu_digit
block|,
name|ESC
block|,
literal|'3'
block|,
name|NUL
block|,
name|A_info_menu_digit
block|,
name|ESC
block|,
literal|'4'
block|,
name|NUL
block|,
name|A_info_menu_digit
block|,
name|ESC
block|,
literal|'5'
block|,
name|NUL
block|,
name|A_info_menu_digit
block|,
name|ESC
block|,
literal|'6'
block|,
name|NUL
block|,
name|A_info_menu_digit
block|,
name|ESC
block|,
literal|'7'
block|,
name|NUL
block|,
name|A_info_menu_digit
block|,
name|ESC
block|,
literal|'8'
block|,
name|NUL
block|,
name|A_info_menu_digit
block|,
name|ESC
block|,
literal|'9'
block|,
name|NUL
block|,
name|A_info_menu_digit
block|,
name|Meta
argument_list|(
literal|'0'
argument_list|)
block|,
name|NUL
block|,
name|A_info_last_menu_item
block|,
name|Meta
argument_list|(
literal|'1'
argument_list|)
block|,
name|NUL
block|,
name|A_info_menu_digit
block|,
name|Meta
argument_list|(
literal|'2'
argument_list|)
block|,
name|NUL
block|,
name|A_info_menu_digit
block|,
name|Meta
argument_list|(
literal|'3'
argument_list|)
block|,
name|NUL
block|,
name|A_info_menu_digit
block|,
name|Meta
argument_list|(
literal|'4'
argument_list|)
block|,
name|NUL
block|,
name|A_info_menu_digit
block|,
name|Meta
argument_list|(
literal|'5'
argument_list|)
block|,
name|NUL
block|,
name|A_info_menu_digit
block|,
name|Meta
argument_list|(
literal|'6'
argument_list|)
block|,
name|NUL
block|,
name|A_info_menu_digit
block|,
name|Meta
argument_list|(
literal|'7'
argument_list|)
block|,
name|NUL
block|,
name|A_info_menu_digit
block|,
name|Meta
argument_list|(
literal|'8'
argument_list|)
block|,
name|NUL
block|,
name|A_info_menu_digit
block|,
name|Meta
argument_list|(
literal|'9'
argument_list|)
block|,
name|NUL
block|,
name|A_info_menu_digit
block|,
literal|'<'
block|,
name|NUL
block|,
name|A_info_first_node
block|,
literal|'>'
block|,
name|NUL
block|,
name|A_info_last_node
block|,
literal|'?'
block|,
name|NUL
block|,
name|A_info_search_backward
block|,
literal|'['
block|,
name|NUL
block|,
name|A_info_global_prev_node
block|,
literal|']'
block|,
name|NUL
block|,
name|A_info_global_next_node
block|,
literal|'\''
block|,
name|NUL
block|,
name|A_info_history_node
block|,
literal|'b'
block|,
name|NUL
block|,
name|A_info_scroll_backward
block|,
literal|'d'
block|,
name|NUL
block|,
name|A_info_scroll_half_screen_down
block|,
literal|'e'
block|,
name|NUL
block|,
name|A_info_down_line
block|,
literal|'E'
block|,
name|NUL
block|,
name|A_info_view_file
block|,
literal|':'
block|,
literal|'e'
block|,
name|NUL
block|,
name|A_info_view_file
block|,
literal|'f'
block|,
name|NUL
block|,
name|A_info_scroll_forward_page_only
block|,
literal|'F'
block|,
name|NUL
block|,
name|A_info_scroll_forward_page_only
block|,
literal|'g'
block|,
name|NUL
block|,
name|A_info_first_node
block|,
literal|'G'
block|,
name|NUL
block|,
name|A_info_last_node
block|,
literal|'h'
block|,
name|NUL
block|,
name|A_info_get_help_window
block|,
literal|'H'
block|,
name|NUL
block|,
name|A_info_get_help_window
block|,
literal|'i'
block|,
name|NUL
block|,
name|A_info_index_search
block|,
literal|'I'
block|,
name|NUL
block|,
name|A_info_goto_invocation_node
block|,
literal|'j'
block|,
name|NUL
block|,
name|A_info_down_line
block|,
literal|'k'
block|,
name|NUL
block|,
name|A_info_up_line
block|,
literal|'l'
block|,
name|NUL
block|,
name|A_info_history_node
block|,
literal|'m'
block|,
name|NUL
block|,
name|A_info_menu_item
block|,
literal|'n'
block|,
name|NUL
block|,
name|A_info_search_next
block|,
literal|'N'
block|,
name|NUL
block|,
name|A_info_search_previous
block|,
literal|'O'
block|,
name|NUL
block|,
name|A_info_goto_invocation_node
block|,
literal|'p'
block|,
name|NUL
block|,
name|A_info_prev_node
block|,
literal|'q'
block|,
name|NUL
block|,
name|A_info_quit
block|,
literal|'Q'
block|,
name|NUL
block|,
name|A_info_quit
block|,
literal|':'
block|,
literal|'q'
block|,
name|NUL
block|,
name|A_info_quit
block|,
literal|':'
block|,
literal|'Q'
block|,
name|NUL
block|,
name|A_info_quit
block|,
literal|'Z'
block|,
literal|'Z'
block|,
name|NUL
block|,
name|A_info_quit
block|,
literal|'r'
block|,
name|NUL
block|,
name|A_info_redraw_display
block|,
literal|'R'
block|,
name|NUL
block|,
name|A_info_redraw_display
block|,
literal|'s'
block|,
name|NUL
block|,
name|A_info_search
block|,
literal|'S'
block|,
name|NUL
block|,
name|A_info_search_case_sensitively
block|,
literal|'t'
block|,
name|NUL
block|,
name|A_info_top_node
block|,
literal|'u'
block|,
name|NUL
block|,
name|A_info_scroll_half_screen_up
block|,
literal|'w'
block|,
name|NUL
block|,
name|A_info_scroll_backward_page_only_set_window
block|,
literal|'y'
block|,
name|NUL
block|,
name|A_info_up_line
block|,
literal|'z'
block|,
name|NUL
block|,
name|A_info_scroll_forward_page_only_set_window
block|,
name|DEL
block|,
name|NUL
block|,
name|A_info_scroll_backward
block|,
name|ESC
block|,
name|CONTROL
argument_list|(
literal|'f'
argument_list|)
block|,
name|NUL
block|,
name|A_info_show_footnotes
block|,
name|ESC
block|,
name|CONTROL
argument_list|(
literal|'g'
argument_list|)
block|,
name|NUL
block|,
name|A_info_abort_key
block|,
name|ESC
block|,
name|TAB
block|,
name|NUL
block|,
name|A_info_move_to_prev_xref
block|,
name|ESC
block|,
name|SPC
block|,
name|NUL
block|,
name|A_info_scroll_forward_page_only
block|,
name|ESC
block|,
name|CONTROL
argument_list|(
literal|'v'
argument_list|)
block|,
name|NUL
block|,
name|A_info_scroll_other_window
block|,
name|ESC
block|,
literal|'<'
block|,
name|NUL
block|,
name|A_info_beginning_of_node
block|,
name|ESC
block|,
literal|'>'
block|,
name|NUL
block|,
name|A_info_end_of_node
block|,
name|ESC
block|,
literal|'/'
block|,
name|NUL
block|,
name|A_info_search
block|,
name|ESC
block|,
literal|'?'
block|,
name|NUL
block|,
name|A_info_search_backward
block|,
name|ESC
block|,
literal|'b'
block|,
name|NUL
block|,
name|A_info_beginning_of_node
block|,
name|ESC
block|,
literal|'d'
block|,
name|NUL
block|,
name|A_info_dir_node
block|,
name|ESC
block|,
literal|'e'
block|,
name|NUL
block|,
name|A_info_end_of_node
block|,
name|ESC
block|,
literal|'f'
block|,
name|NUL
block|,
name|A_info_xref_item
block|,
name|ESC
block|,
literal|'g'
block|,
name|NUL
block|,
name|A_info_select_reference_this_line
block|,
name|ESC
block|,
literal|'h'
block|,
name|NUL
block|,
name|A_info_get_info_help_node
block|,
name|ESC
block|,
literal|'m'
block|,
name|NUL
block|,
name|A_info_menu_item
block|,
name|ESC
block|,
literal|'n'
block|,
name|NUL
block|,
name|A_info_search
block|,
name|ESC
block|,
literal|'N'
block|,
name|NUL
block|,
name|A_info_search_backward
block|,
name|ESC
block|,
literal|'r'
block|,
name|NUL
block|,
name|A_isearch_backward
block|,
name|ESC
block|,
literal|'s'
block|,
name|NUL
block|,
name|A_isearch_forward
block|,
name|ESC
block|,
literal|'t'
block|,
name|NUL
block|,
name|A_info_top_node
block|,
name|ESC
block|,
literal|'v'
block|,
name|NUL
block|,
name|A_info_scroll_backward_page_only
block|,
if|#
directive|if
name|defined
argument_list|(
name|NAMED_FUNCTIONS
argument_list|)
name|ESC
block|,
literal|'x'
block|,
name|NUL
block|,
name|A_info_execute_command
block|,
name|Meta
argument_list|(
literal|'x'
argument_list|)
block|,
name|NUL
block|,
name|A_info_execute_command
block|,
endif|#
directive|endif
comment|/* NAMED_FUNCTIONS */
name|ESC
block|,
name|DEL
block|,
name|NUL
block|,
name|A_info_scroll_other_window_backward
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
name|CONTROL
argument_list|(
literal|'b'
argument_list|)
block|,
name|NUL
block|,
name|A_list_visited_nodes
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
name|CONTROL
argument_list|(
literal|'c'
argument_list|)
block|,
name|NUL
block|,
name|A_info_quit
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
name|CONTROL
argument_list|(
literal|'f'
argument_list|)
block|,
name|NUL
block|,
name|A_info_view_file
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
name|CONTROL
argument_list|(
literal|'g'
argument_list|)
block|,
name|NUL
block|,
name|A_info_abort_key
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
name|CONTROL
argument_list|(
literal|'v'
argument_list|)
block|,
name|NUL
block|,
name|A_info_view_file
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
name|LFD
block|,
name|NUL
block|,
name|A_info_select_reference_this_line
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
name|RET
block|,
name|NUL
block|,
name|A_info_select_reference_this_line
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'0'
block|,
name|NUL
block|,
name|A_info_delete_window
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'1'
block|,
name|NUL
block|,
name|A_info_keep_one_window
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'2'
block|,
name|NUL
block|,
name|A_info_split_window
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'^'
block|,
name|NUL
block|,
name|A_info_grow_window
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'b'
block|,
name|NUL
block|,
name|A_select_visited_node
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'g'
block|,
name|NUL
block|,
name|A_info_goto_node
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'i'
block|,
name|NUL
block|,
name|A_info_index_search
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'I'
block|,
name|NUL
block|,
name|A_info_goto_invocation_node
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'k'
block|,
name|NUL
block|,
name|A_info_kill_node
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'n'
block|,
name|NUL
block|,
name|A_info_next_node
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'o'
block|,
name|NUL
block|,
name|A_info_next_window
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'O'
block|,
name|NUL
block|,
name|A_info_goto_invocation_node
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'p'
block|,
name|NUL
block|,
name|A_info_prev_node
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'r'
block|,
name|NUL
block|,
name|A_info_xref_item
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'t'
block|,
name|NUL
block|,
name|A_info_tile_windows
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'u'
block|,
name|NUL
block|,
name|A_info_up_node
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'w'
block|,
name|NUL
block|,
name|A_info_toggle_wrap
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|','
block|,
name|NUL
block|,
name|A_info_next_index_match
block|,
comment|/*	Arrow key bindings for info keymaps.  It seems that some 	terminals do not match their termcap entries, so it's best to just 	define everything with both of the usual prefixes.  */
name|SK_ESCAPE
block|,
name|SK_PAGE_UP
block|,
name|NUL
block|,
name|A_info_scroll_backward_page_only
block|,
name|SK_ESCAPE
block|,
name|SK_PAGE_DOWN
block|,
name|NUL
block|,
name|A_info_scroll_forward_page_only
block|,
name|SK_ESCAPE
block|,
name|SK_UP_ARROW
block|,
name|NUL
block|,
name|A_info_up_line
block|,
literal|'\033'
block|,
literal|'O'
block|,
literal|'A'
block|,
name|NUL
block|,
name|A_info_up_line
block|,
literal|'\033'
block|,
literal|'['
block|,
literal|'A'
block|,
name|NUL
block|,
name|A_info_up_line
block|,
name|SK_ESCAPE
block|,
name|SK_DOWN_ARROW
block|,
name|NUL
block|,
name|A_info_down_line
block|,
literal|'\033'
block|,
literal|'O'
block|,
literal|'B'
block|,
name|NUL
block|,
name|A_info_down_line
block|,
literal|'\033'
block|,
literal|'['
block|,
literal|'B'
block|,
name|NUL
block|,
name|A_info_down_line
block|,
name|SK_ESCAPE
block|,
name|SK_RIGHT_ARROW
block|,
name|NUL
block|,
name|A_info_scroll_forward_page_only
block|,
literal|'\033'
block|,
literal|'O'
block|,
literal|'C'
block|,
name|NUL
block|,
name|A_info_scroll_forward_page_only
block|,
literal|'\033'
block|,
literal|'['
block|,
literal|'C'
block|,
name|NUL
block|,
name|A_info_scroll_forward_page_only
block|,
name|SK_ESCAPE
block|,
name|SK_LEFT_ARROW
block|,
name|NUL
block|,
name|A_info_scroll_backward_page_only
block|,
literal|'\033'
block|,
literal|'O'
block|,
literal|'D'
block|,
name|NUL
block|,
name|A_info_scroll_backward_page_only
block|,
literal|'\033'
block|,
literal|'['
block|,
literal|'D'
block|,
name|NUL
block|,
name|A_info_scroll_backward_page_only
block|,
name|SK_ESCAPE
block|,
name|SK_HOME
block|,
name|NUL
block|,
name|A_info_beginning_of_node
block|,
name|SK_ESCAPE
block|,
name|SK_END
block|,
name|NUL
block|,
name|A_info_end_of_node
block|,
name|ESC
block|,
name|SK_ESCAPE
block|,
name|SK_PAGE_DOWN
block|,
name|NUL
block|,
name|A_info_scroll_other_window
block|,
name|ESC
block|,
name|SK_ESCAPE
block|,
name|SK_PAGE_UP
block|,
name|NUL
block|,
name|A_info_scroll_other_window_backward
block|,
name|ESC
block|,
name|SK_ESCAPE
block|,
name|SK_DELETE
block|,
name|NUL
block|,
name|A_info_scroll_other_window_backward
block|,
name|ESC
block|,
name|SK_ESCAPE
block|,
name|SK_UP_ARROW
block|,
name|NUL
block|,
name|A_info_prev_node
block|,
name|ESC
block|,
literal|'\033'
block|,
literal|'O'
block|,
literal|'A'
block|,
name|NUL
block|,
name|A_info_prev_node
block|,
name|ESC
block|,
literal|'\033'
block|,
literal|'['
block|,
literal|'A'
block|,
name|NUL
block|,
name|A_info_prev_node
block|,
name|ESC
block|,
name|SK_ESCAPE
block|,
name|SK_DOWN_ARROW
block|,
name|NUL
block|,
name|A_info_next_node
block|,
name|ESC
block|,
literal|'\033'
block|,
literal|'O'
block|,
literal|'B'
block|,
name|NUL
block|,
name|A_info_next_node
block|,
name|ESC
block|,
literal|'\033'
block|,
literal|'['
block|,
literal|'B'
block|,
name|NUL
block|,
name|A_info_next_node
block|,
name|ESC
block|,
name|SK_ESCAPE
block|,
name|SK_RIGHT_ARROW
block|,
name|NUL
block|,
name|A_info_xref_item
block|,
name|ESC
block|,
literal|'\033'
block|,
literal|'O'
block|,
literal|'C'
block|,
name|NUL
block|,
name|A_info_xref_item
block|,
name|ESC
block|,
literal|'\033'
block|,
literal|'['
block|,
literal|'C'
block|,
name|NUL
block|,
name|A_info_xref_item
block|,
name|ESC
block|,
name|SK_ESCAPE
block|,
name|SK_LEFT_ARROW
block|,
name|NUL
block|,
name|A_info_beginning_of_node
block|,
name|ESC
block|,
literal|'\033'
block|,
literal|'O'
block|,
literal|'D'
block|,
name|NUL
block|,
name|A_info_beginning_of_node
block|,
name|ESC
block|,
literal|'\033'
block|,
literal|'['
block|,
literal|'D'
block|,
name|NUL
block|,
name|A_info_beginning_of_node
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
name|SK_ESCAPE
block|,
name|SK_DELETE
block|,
name|NUL
block|,
name|A_ea_backward_kill_line
block|, }
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|unsigned
name|char
name|default_vi_like_ea_keys
index|[]
init|=
block|{
literal|0
block|,
comment|/* suppress-default-keybindings flag */
name|ESC
block|,
literal|'1'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'2'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'3'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'4'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'5'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'6'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'7'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'8'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'9'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
literal|'-'
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'1'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'2'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'3'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'4'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'5'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'6'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'7'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'8'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'9'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|Meta
argument_list|(
literal|'-'
argument_list|)
block|,
name|NUL
block|,
name|A_info_add_digit_to_numeric_arg
block|,
name|ESC
block|,
name|CONTROL
argument_list|(
literal|'g'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_abort
block|,
name|ESC
block|,
name|CONTROL
argument_list|(
literal|'h'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_backward_kill_word
block|,
name|ESC
block|,
name|CONTROL
argument_list|(
literal|'v'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_scroll_completions_window
block|,
name|ESC
block|,
literal|'0'
block|,
name|NUL
block|,
name|A_ea_beg_of_line
block|,
name|ESC
block|,
literal|'$'
block|,
name|NUL
block|,
name|A_ea_end_of_line
block|,
name|ESC
block|,
literal|'b'
block|,
name|NUL
block|,
name|A_ea_backward_word
block|,
name|ESC
block|,
literal|'d'
block|,
name|NUL
block|,
name|A_ea_kill_word
block|,
name|ESC
block|,
literal|'f'
block|,
name|NUL
block|,
name|A_ea_forward_word
block|,
name|ESC
block|,
literal|'h'
block|,
name|NUL
block|,
name|A_ea_forward
block|,
name|ESC
block|,
literal|'l'
block|,
name|NUL
block|,
name|A_ea_backward
block|,
name|ESC
block|,
literal|'w'
block|,
name|NUL
block|,
name|A_ea_forward_word
block|,
name|ESC
block|,
literal|'x'
block|,
name|NUL
block|,
name|A_ea_delete
block|,
name|ESC
block|,
literal|'X'
block|,
name|NUL
block|,
name|A_ea_kill_word
block|,
name|ESC
block|,
literal|'y'
block|,
name|NUL
block|,
name|A_ea_yank_pop
block|,
name|ESC
block|,
literal|'?'
block|,
name|NUL
block|,
name|A_ea_possible_completions
block|,
name|ESC
block|,
name|TAB
block|,
name|NUL
block|,
name|A_ea_tab_insert
block|,
name|ESC
block|,
name|DEL
block|,
name|NUL
block|,
name|A_ea_kill_word
block|,
name|Meta
argument_list|(
name|CONTROL
argument_list|(
literal|'g'
argument_list|)
argument_list|)
block|,
name|NUL
block|,
name|A_ea_abort
block|,
name|Meta
argument_list|(
name|CONTROL
argument_list|(
literal|'h'
argument_list|)
argument_list|)
block|,
name|NUL
block|,
name|A_ea_backward_kill_word
block|,
name|Meta
argument_list|(
name|CONTROL
argument_list|(
literal|'v'
argument_list|)
argument_list|)
block|,
name|NUL
block|,
name|A_ea_scroll_completions_window
block|,
name|Meta
argument_list|(
literal|'0'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_beg_of_line
block|,
name|Meta
argument_list|(
literal|'$'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_end_of_line
block|,
name|Meta
argument_list|(
literal|'b'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_backward_word
block|,
name|Meta
argument_list|(
literal|'d'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_kill_word
block|,
name|Meta
argument_list|(
literal|'f'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_forward_word
block|,
name|Meta
argument_list|(
literal|'h'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_forward
block|,
name|Meta
argument_list|(
literal|'l'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_backward
block|,
name|Meta
argument_list|(
literal|'w'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_forward_word
block|,
name|Meta
argument_list|(
literal|'x'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_delete
block|,
name|Meta
argument_list|(
literal|'X'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_kill_word
block|,
name|Meta
argument_list|(
literal|'y'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_yank_pop
block|,
name|Meta
argument_list|(
literal|'?'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_possible_completions
block|,
name|Meta
argument_list|(
name|TAB
argument_list|)
block|,
name|NUL
block|,
name|A_ea_tab_insert
block|,
name|Meta
argument_list|(
name|DEL
argument_list|)
block|,
name|NUL
block|,
name|A_ea_kill_word
block|,
name|CONTROL
argument_list|(
literal|'a'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_beg_of_line
block|,
name|CONTROL
argument_list|(
literal|'b'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_backward
block|,
name|CONTROL
argument_list|(
literal|'d'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_delete
block|,
name|CONTROL
argument_list|(
literal|'e'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_end_of_line
block|,
name|CONTROL
argument_list|(
literal|'f'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_forward
block|,
name|CONTROL
argument_list|(
literal|'g'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_abort
block|,
name|CONTROL
argument_list|(
literal|'h'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_rubout
block|,
comment|/*	CONTROL('k') */
name|SK_ESCAPE
block|,
name|SK_LITERAL
block|,
name|NUL
block|,
name|A_ea_kill_line
block|,
name|CONTROL
argument_list|(
literal|'l'
argument_list|)
block|,
name|NUL
block|,
name|A_info_redraw_display
block|,
name|CONTROL
argument_list|(
literal|'q'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_quoted_insert
block|,
name|CONTROL
argument_list|(
literal|'t'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_transpose_chars
block|,
name|CONTROL
argument_list|(
literal|'u'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_abort
block|,
name|CONTROL
argument_list|(
literal|'v'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_quoted_insert
block|,
name|CONTROL
argument_list|(
literal|'y'
argument_list|)
block|,
name|NUL
block|,
name|A_ea_yank
block|,
name|LFD
block|,
name|NUL
block|,
name|A_ea_newline
block|,
name|RET
block|,
name|NUL
block|,
name|A_ea_newline
block|,
name|SPC
block|,
name|NUL
block|,
name|A_ea_complete
block|,
name|TAB
block|,
name|NUL
block|,
name|A_ea_complete
block|,
literal|'?'
block|,
name|NUL
block|,
name|A_ea_possible_completions
block|,
ifdef|#
directive|ifdef
name|__MSDOS__
comment|/* PC users will lynch me if I don't give them their usual DEL 	   effect...  */
name|DEL
block|,
name|NUL
block|,
name|A_ea_delete
block|,
else|#
directive|else
name|DEL
block|,
name|NUL
block|,
name|A_ea_rubout
block|,
endif|#
directive|endif
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
literal|'o'
block|,
name|NUL
block|,
name|A_info_next_window
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
name|DEL
block|,
name|NUL
block|,
name|A_ea_backward_kill_line
block|,
comment|/* Arrow key bindings for echo area keymaps.  It seems that some      terminals do not match their termcap entries, so it's best to just      define everything with both of the usual prefixes.  */
name|SK_ESCAPE
block|,
name|SK_RIGHT_ARROW
block|,
name|NUL
block|,
name|A_ea_forward
block|,
literal|'\033'
block|,
literal|'O'
block|,
literal|'C'
block|,
name|NUL
block|,
name|A_ea_forward
block|,
literal|'\033'
block|,
literal|'['
block|,
literal|'C'
block|,
name|NUL
block|,
name|A_ea_forward
block|,
name|SK_ESCAPE
block|,
name|SK_LEFT_ARROW
block|,
name|NUL
block|,
name|A_ea_backward
block|,
literal|'\033'
block|,
literal|'O'
block|,
literal|'D'
block|,
name|NUL
block|,
name|A_ea_backward
block|,
literal|'\033'
block|,
literal|'['
block|,
literal|'D'
block|,
name|NUL
block|,
name|A_ea_backward
block|,
name|SK_ESCAPE
block|,
name|SK_HOME
block|,
name|NUL
block|,
name|A_ea_beg_of_line
block|,
name|SK_ESCAPE
block|,
name|SK_END
block|,
name|NUL
block|,
name|A_ea_end_of_line
block|,
ifdef|#
directive|ifdef
name|__MSDOS__
name|SK_ESCAPE
block|,
name|SK_DELETE
block|,
name|NUL
block|,
name|A_ea_delete
block|,
else|#
directive|else
name|SK_DELETE
block|,
name|SK_DELETE
block|,
name|NUL
block|,
name|A_ea_rubout
block|,
endif|#
directive|endif
name|ESC
block|,
name|SK_ESCAPE
block|,
name|SK_RIGHT_ARROW
block|,
name|NUL
block|,
name|A_ea_forward_word
block|,
name|ESC
block|,
literal|'\033'
block|,
literal|'O'
block|,
literal|'C'
block|,
name|NUL
block|,
name|A_ea_forward_word
block|,
name|ESC
block|,
literal|'\033'
block|,
literal|'['
block|,
literal|'C'
block|,
name|NUL
block|,
name|A_ea_forward_word
block|,
name|ESC
block|,
name|SK_ESCAPE
block|,
name|SK_LEFT_ARROW
block|,
name|NUL
block|,
name|A_ea_backward_word
block|,
name|ESC
block|,
literal|'\033'
block|,
literal|'O'
block|,
literal|'D'
block|,
name|NUL
block|,
name|A_ea_backward_word
block|,
name|ESC
block|,
literal|'\033'
block|,
literal|'['
block|,
literal|'D'
block|,
name|NUL
block|,
name|A_ea_backward_word
block|,
name|ESC
block|,
name|SK_ESCAPE
block|,
name|SK_DELETE
block|,
name|NUL
block|,
name|A_ea_kill_word
block|,
name|CONTROL
argument_list|(
literal|'x'
argument_list|)
block|,
name|SK_ESCAPE
block|,
name|SK_DELETE
block|,
name|NUL
block|,
name|A_ea_backward_kill_line
block|, }
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|unsigned
name|char
modifier|*
name|user_info_keys
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|unsigned
name|int
name|user_info_keys_len
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|unsigned
name|char
modifier|*
name|user_ea_keys
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|unsigned
name|int
name|user_ea_keys_len
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|unsigned
name|char
modifier|*
name|user_vars
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|unsigned
name|int
name|user_vars_len
decl_stmt|;
end_decl_stmt

begin_comment
comment|/*  * Return the size of a file, or 0 if the size can't be determined.  */
end_comment

begin_function
specifier|static
name|unsigned
name|long
name|filesize
parameter_list|(
name|f
parameter_list|)
name|int
name|f
decl_stmt|;
block|{
name|long
name|pos
init|=
name|lseek
argument_list|(
name|f
argument_list|,
literal|0L
argument_list|,
name|SEEK_CUR
argument_list|)
decl_stmt|;
name|long
name|sz
init|=
operator|-
literal|1L
decl_stmt|;
if|if
condition|(
name|pos
operator|!=
operator|-
literal|1L
condition|)
block|{
name|sz
operator|=
name|lseek
argument_list|(
name|f
argument_list|,
literal|0L
argument_list|,
name|SEEK_END
argument_list|)
expr_stmt|;
name|lseek
argument_list|(
name|f
argument_list|,
name|pos
argument_list|,
name|SEEK_SET
argument_list|)
expr_stmt|;
block|}
return|return
name|sz
operator|==
operator|-
literal|1L
condition|?
literal|0L
else|:
name|sz
return|;
block|}
end_function

begin_comment
comment|/* Get an integer from a infokey file.    Integers are stored as two bytes, low order first, in radix INFOKEY_RADIX.  */
end_comment

begin_function
specifier|static
name|int
name|getint
parameter_list|(
name|sp
parameter_list|)
name|unsigned
name|char
modifier|*
modifier|*
name|sp
decl_stmt|;
block|{
name|int
name|n
decl_stmt|;
if|if
condition|(
operator|!
operator|(
operator|(
operator|*
name|sp
operator|)
index|[
literal|0
index|]
operator|<
name|INFOKEY_RADIX
operator|&&
operator|(
operator|*
name|sp
operator|)
index|[
literal|1
index|]
operator|<
name|INFOKEY_RADIX
operator|)
condition|)
return|return
operator|-
literal|1
return|;
name|n
operator|=
operator|(
operator|*
name|sp
operator|)
index|[
literal|0
index|]
operator|+
operator|(
operator|*
name|sp
operator|)
index|[
literal|1
index|]
operator|*
name|INFOKEY_RADIX
expr_stmt|;
operator|*
name|sp
operator|+=
literal|2
expr_stmt|;
return|return
name|n
return|;
block|}
end_function

begin_comment
comment|/* Fetch the contents of the standard infokey file "$HOME/.info".  Return    true if ok, false if not.  */
end_comment

begin_function
specifier|static
name|int
name|fetch_user_maps
parameter_list|()
block|{
name|char
modifier|*
name|filename
init|=
name|NULL
decl_stmt|;
name|char
modifier|*
name|homedir
decl_stmt|;
name|int
name|f
decl_stmt|;
name|unsigned
name|char
modifier|*
name|buf
decl_stmt|;
name|unsigned
name|long
name|len
decl_stmt|;
name|long
name|nread
decl_stmt|;
name|unsigned
name|char
modifier|*
name|p
decl_stmt|;
name|int
name|n
decl_stmt|;
comment|/* Find and open file. */
if|if
condition|(
operator|(
name|filename
operator|=
name|getenv
argument_list|(
literal|"INFOKEY"
argument_list|)
operator|)
operator|!=
name|NULL
condition|)
name|filename
operator|=
name|xstrdup
argument_list|(
name|filename
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
operator|(
name|homedir
operator|=
name|getenv
argument_list|(
literal|"HOME"
argument_list|)
operator|)
operator|!=
name|NULL
condition|)
block|{
name|filename
operator|=
name|xmalloc
argument_list|(
name|strlen
argument_list|(
name|homedir
argument_list|)
operator|+
literal|2
operator|+
name|strlen
argument_list|(
name|INFOKEY_FILE
argument_list|)
argument_list|)
expr_stmt|;
name|strcpy
argument_list|(
name|filename
argument_list|,
name|homedir
argument_list|)
expr_stmt|;
name|strcat
argument_list|(
name|filename
argument_list|,
literal|"/"
argument_list|)
expr_stmt|;
name|strcat
argument_list|(
name|filename
argument_list|,
name|INFOKEY_FILE
argument_list|)
expr_stmt|;
block|}
ifdef|#
directive|ifdef
name|__MSDOS__
comment|/* Poor baby, she doesn't have a HOME...  */
else|else
name|filename
operator|=
name|xstrdup
argument_list|(
name|INFOKEY_FILE
argument_list|)
expr_stmt|;
comment|/* try current directory */
endif|#
directive|endif
if|if
condition|(
name|filename
operator|==
name|NULL
operator|||
operator|(
name|f
operator|=
name|open
argument_list|(
name|filename
argument_list|,
name|O_RDONLY
argument_list|)
operator|)
operator|==
operator|(
operator|-
literal|1
operator|)
condition|)
block|{
if|if
condition|(
name|filename
condition|)
block|{
name|info_error
argument_list|(
name|filesys_error_string
argument_list|(
name|filename
argument_list|,
name|errno
argument_list|)
argument_list|)
expr_stmt|;
name|free
argument_list|(
name|filename
argument_list|)
expr_stmt|;
block|}
return|return
literal|0
return|;
block|}
name|SET_BINARY
argument_list|(
name|f
argument_list|)
expr_stmt|;
comment|/* Ensure that the file is a reasonable size. */
name|len
operator|=
name|filesize
argument_list|(
name|f
argument_list|)
expr_stmt|;
if|if
condition|(
name|len
operator|<
name|INFOKEY_NMAGIC
operator|+
literal|2
operator|||
name|len
operator|>
literal|100
operator|*
literal|1024
condition|)
block|{
comment|/* Bad file (a valid file must have at least 9 chars, and 		   more than 100 KB is a problem). */
if|if
condition|(
name|len
operator|<
name|INFOKEY_NMAGIC
operator|+
literal|2
condition|)
name|info_error
argument_list|(
name|_
argument_list|(
literal|"Ignoring invalid infokey file `%s' - too small"
argument_list|)
argument_list|,
name|filename
argument_list|)
expr_stmt|;
else|else
name|info_error
argument_list|(
name|_
argument_list|(
literal|"Ignoring invalid infokey file `%s' - too big"
argument_list|)
argument_list|,
name|filename
argument_list|)
expr_stmt|;
name|close
argument_list|(
name|f
argument_list|)
expr_stmt|;
name|free
argument_list|(
name|filename
argument_list|)
expr_stmt|;
return|return
literal|0
return|;
block|}
comment|/* Read the file into a buffer. */
name|buf
operator|=
operator|(
name|unsigned
name|char
operator|*
operator|)
name|xmalloc
argument_list|(
operator|(
name|int
operator|)
name|len
argument_list|)
expr_stmt|;
name|nread
operator|=
name|read
argument_list|(
name|f
argument_list|,
name|buf
argument_list|,
operator|(
name|unsigned
name|int
operator|)
name|len
argument_list|)
expr_stmt|;
name|close
argument_list|(
name|f
argument_list|)
expr_stmt|;
if|if
condition|(
name|nread
operator|!=
name|len
condition|)
block|{
name|info_error
argument_list|(
name|_
argument_list|(
literal|"Error reading infokey file `%s' - short read"
argument_list|)
argument_list|,
name|filename
argument_list|)
expr_stmt|;
name|free
argument_list|(
name|buf
argument_list|)
expr_stmt|;
name|free
argument_list|(
name|filename
argument_list|)
expr_stmt|;
return|return
literal|0
return|;
block|}
comment|/* Check the header, trailer, and version of the file to increase 	   our confidence that the contents are valid.  */
if|if
condition|(
name|buf
index|[
literal|0
index|]
operator|!=
name|INFOKEY_MAGIC_S0
operator|||
name|buf
index|[
literal|1
index|]
operator|!=
name|INFOKEY_MAGIC_S1
operator|||
name|buf
index|[
literal|2
index|]
operator|!=
name|INFOKEY_MAGIC_S2
operator|||
name|buf
index|[
literal|3
index|]
operator|!=
name|INFOKEY_MAGIC_S3
operator|||
name|buf
index|[
name|len
operator|-
literal|4
index|]
operator|!=
name|INFOKEY_MAGIC_E0
operator|||
name|buf
index|[
name|len
operator|-
literal|3
index|]
operator|!=
name|INFOKEY_MAGIC_E1
operator|||
name|buf
index|[
name|len
operator|-
literal|2
index|]
operator|!=
name|INFOKEY_MAGIC_E2
operator|||
name|buf
index|[
name|len
operator|-
literal|1
index|]
operator|!=
name|INFOKEY_MAGIC_E3
condition|)
block|{
name|info_error
argument_list|(
name|_
argument_list|(
literal|"Invalid infokey file `%s' (bad magic numbers) -- run infokey to update it"
argument_list|)
argument_list|,
name|filename
argument_list|)
expr_stmt|;
name|free
argument_list|(
name|filename
argument_list|)
expr_stmt|;
return|return
literal|0
return|;
block|}
if|if
condition|(
name|len
operator|<
name|INFOKEY_NMAGIC
operator|+
name|strlen
argument_list|(
name|VERSION
argument_list|)
operator|+
literal|1
operator|||
name|strcmp
argument_list|(
name|VERSION
argument_list|,
name|buf
operator|+
literal|4
argument_list|)
operator|!=
literal|0
condition|)
block|{
name|info_error
argument_list|(
name|_
argument_list|(
literal|"Your infokey file `%s' is out of date -- run infokey to update it"
argument_list|)
argument_list|,
name|filename
argument_list|)
expr_stmt|;
name|free
argument_list|(
name|filename
argument_list|)
expr_stmt|;
return|return
literal|0
return|;
block|}
comment|/* Extract the pieces.  */
for|for
control|(
name|p
operator|=
name|buf
operator|+
literal|4
operator|+
name|strlen
argument_list|(
name|VERSION
argument_list|)
operator|+
literal|1
init|;
name|p
operator|-
name|buf
operator|<
name|len
operator|-
literal|4
condition|;
name|p
operator|+=
name|n
control|)
block|{
name|int
name|s
init|=
operator|*
name|p
operator|++
decl_stmt|;
name|n
operator|=
name|getint
argument_list|(
operator|&
name|p
argument_list|)
expr_stmt|;
if|if
condition|(
name|n
operator|<
literal|0
operator|||
name|n
operator|>
name|len
operator|-
literal|4
operator|-
operator|(
name|p
operator|-
name|buf
operator|)
condition|)
block|{
name|info_error
argument_list|(
name|_
argument_list|(
literal|"Invalid infokey file `%s' (bad section length) -- run infokey to update it"
argument_list|)
argument_list|,
name|filename
argument_list|)
expr_stmt|;
name|free
argument_list|(
name|filename
argument_list|)
expr_stmt|;
return|return
literal|0
return|;
block|}
switch|switch
condition|(
name|s
condition|)
block|{
case|case
name|INFOKEY_SECTION_INFO
case|:
name|user_info_keys
operator|=
name|p
expr_stmt|;
name|user_info_keys_len
operator|=
name|n
expr_stmt|;
break|break;
case|case
name|INFOKEY_SECTION_EA
case|:
name|user_ea_keys
operator|=
name|p
expr_stmt|;
name|user_ea_keys_len
operator|=
name|n
expr_stmt|;
break|break;
case|case
name|INFOKEY_SECTION_VAR
case|:
name|user_vars
operator|=
name|p
expr_stmt|;
name|user_vars_len
operator|=
name|n
expr_stmt|;
break|break;
default|default:
name|info_error
argument_list|(
name|_
argument_list|(
literal|"Invalid infokey file `%s' (bad section code) -- run infokey to update it"
argument_list|)
argument_list|,
name|filename
argument_list|)
expr_stmt|;
name|free
argument_list|(
name|filename
argument_list|)
expr_stmt|;
return|return
literal|0
return|;
block|}
block|}
name|free
argument_list|(
name|filename
argument_list|)
expr_stmt|;
return|return
literal|1
return|;
block|}
end_function

begin_comment
comment|/* Decode special key sequences from the infokey file.  Return zero    if the key sequence includes special keys which the terminal    doesn't define.  */
end_comment

begin_function
specifier|static
name|int
name|decode_keys
parameter_list|(
name|src
parameter_list|,
name|slen
parameter_list|,
name|dst
parameter_list|,
name|dlen
parameter_list|)
name|unsigned
name|char
modifier|*
name|src
decl_stmt|;
name|unsigned
name|int
name|slen
decl_stmt|;
name|unsigned
name|char
modifier|*
name|dst
decl_stmt|;
name|unsigned
name|int
name|dlen
decl_stmt|;
block|{
name|unsigned
name|char
modifier|*
name|s
init|=
name|src
decl_stmt|;
name|unsigned
name|char
modifier|*
name|d
init|=
name|dst
decl_stmt|;
define|#
directive|define
name|To_dst
parameter_list|(
name|c
parameter_list|)
value|do { if (d - dst< dlen) *d++ = (c); } while (0)
while|while
condition|(
name|s
operator|-
name|src
operator|<
name|slen
condition|)
block|{
name|unsigned
name|char
name|c
init|=
name|ISMETA
argument_list|(
operator|*
name|s
argument_list|)
condition|?
name|UNMETA
argument_list|(
operator|*
name|s
argument_list|)
else|:
operator|*
name|s
decl_stmt|;
if|if
condition|(
name|c
operator|==
name|SK_ESCAPE
condition|)
block|{
name|unsigned
name|char
modifier|*
name|t
decl_stmt|;
specifier|static
name|char
name|lit
index|[]
init|=
block|{
name|SK_ESCAPE
block|,
name|NUL
block|}
decl_stmt|;
switch|switch
condition|(
name|s
operator|+
literal|1
operator|-
name|src
operator|<
name|slen
condition|?
name|s
index|[
literal|1
index|]
else|:
literal|'\0'
condition|)
block|{
case|case
name|SK_RIGHT_ARROW
case|:
name|t
operator|=
name|term_kr
expr_stmt|;
break|break;
case|case
name|SK_LEFT_ARROW
case|:
name|t
operator|=
name|term_kl
expr_stmt|;
break|break;
case|case
name|SK_UP_ARROW
case|:
name|t
operator|=
name|term_ku
expr_stmt|;
break|break;
case|case
name|SK_DOWN_ARROW
case|:
name|t
operator|=
name|term_kd
expr_stmt|;
break|break;
case|case
name|SK_PAGE_UP
case|:
name|t
operator|=
name|term_kP
expr_stmt|;
break|break;
case|case
name|SK_PAGE_DOWN
case|:
name|t
operator|=
name|term_kN
expr_stmt|;
break|break;
case|case
name|SK_HOME
case|:
name|t
operator|=
name|term_kh
expr_stmt|;
break|break;
case|case
name|SK_END
case|:
name|t
operator|=
name|term_ke
expr_stmt|;
break|break;
case|case
name|SK_DELETE
case|:
name|t
operator|=
name|term_kx
expr_stmt|;
break|break;
case|case
name|SK_INSERT
case|:
name|t
operator|=
name|term_ki
expr_stmt|;
break|break;
case|case
name|SK_LITERAL
case|:
default|default:
name|t
operator|=
name|lit
expr_stmt|;
break|break;
block|}
if|if
condition|(
name|t
operator|==
name|NULL
condition|)
return|return
literal|0
return|;
while|while
condition|(
operator|*
name|t
condition|)
name|To_dst
argument_list|(
name|ISMETA
argument_list|(
operator|*
name|s
argument_list|)
condition|?
name|Meta
argument_list|(
operator|*
name|t
operator|++
argument_list|)
else|:
operator|*
name|t
operator|++
argument_list|)
expr_stmt|;
name|s
operator|+=
literal|2
expr_stmt|;
block|}
else|else
block|{
if|if
condition|(
name|ISMETA
argument_list|(
operator|*
name|s
argument_list|)
condition|)
name|To_dst
argument_list|(
name|Meta
argument_list|(
operator|*
name|s
operator|++
argument_list|)
argument_list|)
expr_stmt|;
else|else
name|To_dst
argument_list|(
operator|*
name|s
operator|++
argument_list|)
expr_stmt|;
block|}
block|}
name|To_dst
argument_list|(
literal|'\0'
argument_list|)
expr_stmt|;
return|return
literal|1
return|;
undef|#
directive|undef
name|To_dst
block|}
end_function

begin_comment
comment|/* Convert an infokey file section to keymap bindings.  Return false if    the default bindings are to be suppressed.  */
end_comment

begin_function
specifier|static
name|int
name|section_to_keymaps
parameter_list|(
name|map
parameter_list|,
name|table
parameter_list|,
name|len
parameter_list|)
name|Keymap
name|map
decl_stmt|;
name|unsigned
name|char
modifier|*
name|table
decl_stmt|;
name|unsigned
name|int
name|len
decl_stmt|;
block|{
name|int
name|stop
decl_stmt|;
name|unsigned
name|char
modifier|*
name|p
decl_stmt|;
name|unsigned
name|char
modifier|*
name|seq
decl_stmt|;
name|unsigned
name|int
name|seqlen
decl_stmt|;
name|KEYMAP_ENTRY
name|ke
decl_stmt|;
enum|enum
block|{
name|getseq
block|,
name|gotseq
block|,
name|getaction
block|}
name|state
init|=
name|getseq
enum|;
name|stop
operator|=
name|len
operator|>
literal|0
condition|?
name|table
index|[
literal|0
index|]
else|:
literal|0
expr_stmt|;
for|for
control|(
name|p
operator|=
name|table
operator|+
literal|1
init|;
name|p
operator|-
name|table
operator|<
name|len
condition|;
name|p
operator|++
control|)
block|{
switch|switch
condition|(
name|state
condition|)
block|{
case|case
name|getseq
case|:
if|if
condition|(
operator|*
name|p
condition|)
block|{
name|seq
operator|=
name|p
expr_stmt|;
name|state
operator|=
name|gotseq
expr_stmt|;
block|}
break|break;
case|case
name|gotseq
case|:
if|if
condition|(
operator|!
operator|*
name|p
condition|)
block|{
name|seqlen
operator|=
name|p
operator|-
name|seq
expr_stmt|;
name|state
operator|=
name|getaction
expr_stmt|;
block|}
break|break;
case|case
name|getaction
case|:
block|{
name|unsigned
name|int
name|action
init|=
operator|*
name|p
decl_stmt|;
name|unsigned
name|char
name|keyseq
index|[
literal|256
index|]
decl_stmt|;
name|KEYMAP_ENTRY
name|ke
decl_stmt|;
name|state
operator|=
name|getseq
expr_stmt|;
comment|/* If decode_keys returns zero, it 				   means that seq includes keys which 				   the terminal doesn't support, like 				   PageDown.  In that case, don't bind 				   the key sequence.  */
if|if
condition|(
name|decode_keys
argument_list|(
name|seq
argument_list|,
name|seqlen
argument_list|,
name|keyseq
argument_list|,
sizeof|sizeof
name|keyseq
argument_list|)
condition|)
block|{
name|keyseq
index|[
sizeof|sizeof
name|keyseq
operator|-
literal|1
index|]
operator|=
literal|'\0'
expr_stmt|;
name|ke
operator|.
name|type
operator|=
name|ISFUNC
expr_stmt|;
name|ke
operator|.
name|function
operator|=
name|action
operator|<
name|A_NCOMMANDS
condition|?
operator|&
name|function_doc_array
index|[
name|action
index|]
else|:
name|NULL
expr_stmt|;
name|keymap_bind_keyseq
argument_list|(
name|map
argument_list|,
name|keyseq
argument_list|,
operator|&
name|ke
argument_list|)
expr_stmt|;
block|}
block|}
break|break;
block|}
block|}
if|if
condition|(
name|state
operator|!=
name|getseq
condition|)
name|info_error
argument_list|(
name|_
argument_list|(
literal|"Bad data in infokey file -- some key bindings ignored"
argument_list|)
argument_list|)
expr_stmt|;
return|return
operator|!
name|stop
return|;
block|}
end_function

begin_comment
comment|/* Convert an infokey file section to variable settings.  */
end_comment

begin_function
specifier|static
name|void
name|section_to_vars
parameter_list|(
name|table
parameter_list|,
name|len
parameter_list|)
name|unsigned
name|char
modifier|*
name|table
decl_stmt|;
name|unsigned
name|int
name|len
decl_stmt|;
block|{
enum|enum
block|{
name|getvar
block|,
name|gotvar
block|,
name|getval
block|,
name|gotval
block|}
name|state
init|=
name|getvar
enum|;
name|unsigned
name|char
modifier|*
name|var
init|=
name|NULL
decl_stmt|;
name|unsigned
name|char
modifier|*
name|val
init|=
name|NULL
decl_stmt|;
name|unsigned
name|char
modifier|*
name|p
decl_stmt|;
for|for
control|(
name|p
operator|=
name|table
init|;
name|p
operator|-
name|table
operator|<
name|len
condition|;
name|p
operator|++
control|)
block|{
switch|switch
condition|(
name|state
condition|)
block|{
case|case
name|getvar
case|:
if|if
condition|(
operator|*
name|p
condition|)
block|{
name|var
operator|=
name|p
expr_stmt|;
name|state
operator|=
name|gotvar
expr_stmt|;
block|}
break|break;
case|case
name|gotvar
case|:
if|if
condition|(
operator|!
operator|*
name|p
condition|)
name|state
operator|=
name|getval
expr_stmt|;
break|break;
case|case
name|getval
case|:
if|if
condition|(
operator|*
name|p
condition|)
block|{
name|val
operator|=
name|p
expr_stmt|;
name|state
operator|=
name|gotval
expr_stmt|;
block|}
break|break;
case|case
name|gotval
case|:
if|if
condition|(
operator|!
operator|*
name|p
condition|)
block|{
name|set_variable_to_value
argument_list|(
name|var
argument_list|,
name|val
argument_list|)
expr_stmt|;
name|state
operator|=
name|getvar
expr_stmt|;
block|}
break|break;
block|}
block|}
if|if
condition|(
name|state
operator|!=
name|getvar
condition|)
name|info_error
argument_list|(
name|_
argument_list|(
literal|"Bad data in infokey file -- some var settings ignored"
argument_list|)
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|initialize_info_keymaps
parameter_list|()
block|{
name|int
name|i
decl_stmt|;
name|int
name|suppress_info_default_bindings
init|=
literal|0
decl_stmt|;
name|int
name|suppress_ea_default_bindings
init|=
literal|0
decl_stmt|;
name|Keymap
name|map
decl_stmt|;
if|if
condition|(
operator|!
name|info_keymap
condition|)
block|{
name|info_keymap
operator|=
name|keymap_make_keymap
argument_list|()
expr_stmt|;
name|echo_area_keymap
operator|=
name|keymap_make_keymap
argument_list|()
expr_stmt|;
block|}
comment|/* Bind the echo area insert routines. */
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
literal|256
condition|;
name|i
operator|++
control|)
if|if
condition|(
name|isprint
argument_list|(
name|i
argument_list|)
condition|)
name|echo_area_keymap
index|[
name|i
index|]
operator|.
name|function
operator|=
name|InfoCmd
argument_list|(
name|ea_insert
argument_list|)
expr_stmt|;
comment|/* Get user-defined keys and variables.  */
if|if
condition|(
name|fetch_user_maps
argument_list|()
condition|)
block|{
if|if
condition|(
name|user_info_keys_len
operator|&&
name|user_info_keys
index|[
literal|0
index|]
condition|)
name|suppress_info_default_bindings
operator|=
literal|1
expr_stmt|;
if|if
condition|(
name|user_ea_keys_len
operator|&&
name|user_ea_keys
index|[
literal|0
index|]
condition|)
name|suppress_ea_default_bindings
operator|=
literal|1
expr_stmt|;
block|}
comment|/* Apply the default bindings, unless the user says to suppress      them.  */
if|if
condition|(
name|vi_keys_p
condition|)
block|{
if|if
condition|(
operator|!
name|suppress_info_default_bindings
condition|)
name|section_to_keymaps
argument_list|(
name|info_keymap
argument_list|,
name|default_vi_like_info_keys
argument_list|,
sizeof|sizeof
argument_list|(
name|default_vi_like_info_keys
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|suppress_ea_default_bindings
condition|)
name|section_to_keymaps
argument_list|(
name|echo_area_keymap
argument_list|,
name|default_vi_like_ea_keys
argument_list|,
sizeof|sizeof
argument_list|(
name|default_vi_like_ea_keys
argument_list|)
argument_list|)
expr_stmt|;
block|}
else|else
block|{
if|if
condition|(
operator|!
name|suppress_info_default_bindings
condition|)
name|section_to_keymaps
argument_list|(
name|info_keymap
argument_list|,
name|default_emacs_like_info_keys
argument_list|,
sizeof|sizeof
argument_list|(
name|default_emacs_like_info_keys
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|suppress_ea_default_bindings
condition|)
name|section_to_keymaps
argument_list|(
name|echo_area_keymap
argument_list|,
name|default_emacs_like_ea_keys
argument_list|,
sizeof|sizeof
argument_list|(
name|default_emacs_like_ea_keys
argument_list|)
argument_list|)
expr_stmt|;
block|}
comment|/* If the user specified custom bindings, apply them on top of the      default ones.  */
if|if
condition|(
name|user_info_keys_len
condition|)
name|section_to_keymaps
argument_list|(
name|info_keymap
argument_list|,
name|user_info_keys
argument_list|,
name|user_info_keys_len
argument_list|)
expr_stmt|;
if|if
condition|(
name|user_ea_keys_len
condition|)
name|section_to_keymaps
argument_list|(
name|echo_area_keymap
argument_list|,
name|user_ea_keys
argument_list|,
name|user_ea_keys_len
argument_list|)
expr_stmt|;
if|if
condition|(
name|user_vars_len
condition|)
name|section_to_vars
argument_list|(
name|user_vars
argument_list|,
name|user_vars_len
argument_list|)
expr_stmt|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* defined(INFOKEY) */
end_comment

end_unit

