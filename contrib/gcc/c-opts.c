begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* C/ObjC/C++ command line option handling.    Copyright (C) 2002 Free Software Foundation, Inc.    Contributed by Neil Booth.  This file is part of GCC.  GCC is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2, or (at your option) any later version.  GCC is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.  You should have received a copy of the GNU General Public License along with GCC; see the file COPYING.  If not, write to the Free Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  */
end_comment

begin_include
include|#
directive|include
file|"config.h"
end_include

begin_include
include|#
directive|include
file|"system.h"
end_include

begin_include
include|#
directive|include
file|"tree.h"
end_include

begin_include
include|#
directive|include
file|"c-common.h"
end_include

begin_include
include|#
directive|include
file|"c-pragma.h"
end_include

begin_include
include|#
directive|include
file|"flags.h"
end_include

begin_include
include|#
directive|include
file|"toplev.h"
end_include

begin_include
include|#
directive|include
file|"langhooks.h"
end_include

begin_include
include|#
directive|include
file|"tree-inline.h"
end_include

begin_include
include|#
directive|include
file|"diagnostic.h"
end_include

begin_include
include|#
directive|include
file|"intl.h"
end_include

begin_comment
comment|/* CPP's options.  */
end_comment

begin_decl_stmt
specifier|static
name|cpp_options
modifier|*
name|cpp_opts
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* Input filename.  */
end_comment

begin_decl_stmt
specifier|static
specifier|const
name|char
modifier|*
name|in_fname
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* Filename and stream for preprocessed output.  */
end_comment

begin_decl_stmt
specifier|static
specifier|const
name|char
modifier|*
name|out_fname
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|FILE
modifier|*
name|out_stream
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* Append dependencies to deps_file.  */
end_comment

begin_decl_stmt
specifier|static
name|bool
name|deps_append
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* If dependency switches (-MF etc.) have been given.  */
end_comment

begin_decl_stmt
specifier|static
name|bool
name|deps_seen
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* Dependency output file.  */
end_comment

begin_decl_stmt
specifier|static
specifier|const
name|char
modifier|*
name|deps_file
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* Number of deferred options, deferred options array size.  */
end_comment

begin_decl_stmt
specifier|static
name|size_t
name|deferred_count
decl_stmt|,
name|deferred_size
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|missing_arg
name|PARAMS
argument_list|(
operator|(
name|size_t
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|size_t
name|find_opt
name|PARAMS
argument_list|(
operator|(
specifier|const
name|char
operator|*
operator|,
name|int
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|set_Wimplicit
name|PARAMS
argument_list|(
operator|(
name|int
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|complain_wrong_lang
name|PARAMS
argument_list|(
operator|(
name|size_t
operator|,
name|int
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|write_langs
name|PARAMS
argument_list|(
operator|(
name|char
operator|*
operator|,
name|int
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|print_help
name|PARAMS
argument_list|(
operator|(
name|void
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|handle_OPT_d
name|PARAMS
argument_list|(
operator|(
specifier|const
name|char
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|set_std_cxx98
name|PARAMS
argument_list|(
operator|(
name|int
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|set_std_c89
name|PARAMS
argument_list|(
operator|(
name|int
operator|,
name|int
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|set_std_c99
name|PARAMS
argument_list|(
operator|(
name|int
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|check_deps_environment_vars
name|PARAMS
argument_list|(
operator|(
name|void
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|preprocess_file
name|PARAMS
argument_list|(
operator|(
name|void
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|handle_deferred_opts
name|PARAMS
argument_list|(
operator|(
name|void
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|sanitize_cpp_opts
name|PARAMS
argument_list|(
operator|(
name|void
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_ifndef
ifndef|#
directive|ifndef
name|STDC_0_IN_SYSTEM_HEADERS
end_ifndef

begin_define
define|#
directive|define
name|STDC_0_IN_SYSTEM_HEADERS
value|0
end_define

begin_endif
endif|#
directive|endif
end_endif

begin_define
define|#
directive|define
name|CL_C_ONLY
value|(1<< 0)
end_define

begin_comment
comment|/* Only C.  */
end_comment

begin_define
define|#
directive|define
name|CL_OBJC_ONLY
value|(1<< 1)
end_define

begin_comment
comment|/* Only ObjC.  */
end_comment

begin_define
define|#
directive|define
name|CL_CXX_ONLY
value|(1<< 2)
end_define

begin_comment
comment|/* Only C++.  */
end_comment

begin_define
define|#
directive|define
name|CL_OBJCXX_ONLY
value|(1<< 3)
end_define

begin_comment
comment|/* Only ObjC++.  */
end_comment

begin_define
define|#
directive|define
name|CL_JOINED
value|(1<< 4)
end_define

begin_comment
comment|/* If takes joined argument.  */
end_comment

begin_define
define|#
directive|define
name|CL_SEPARATE
value|(1<< 5)
end_define

begin_comment
comment|/* If takes a separate argument.  */
end_comment

begin_define
define|#
directive|define
name|CL_ARG
value|(CL_JOINED | CL_SEPARATE)
end_define

begin_define
define|#
directive|define
name|CL_C
value|(CL_C_ONLY | CL_OBJC_ONLY)
end_define

begin_define
define|#
directive|define
name|CL_OBJC
value|(CL_OBJC_ONLY | CL_OBJCXX_ONLY)
end_define

begin_define
define|#
directive|define
name|CL_CXX
value|(CL_CXX_ONLY | CL_OBJCXX_ONLY)
end_define

begin_define
define|#
directive|define
name|CL_ALL
value|(CL_C | CL_CXX)
end_define

begin_comment
comment|/* This is the list of all command line options, with the leading "-"    removed.  It must be sorted in ASCII collating order.  All options    beginning with "f" or "W" are implicitly assumed to take a "no-"    form; this form should not be listed.  The variable "on" is true if    the positive form is given, otherwise it is false.  If you don't    want to allow a "no-" form, your handler should reject "on" being    false by returning zero.  See, for example, the handling of    -ftabstop=.     If the user gives an option to a front end that doesn't support it,    an error is output, mentioning which front ends the option is valid    for.  If you don't want this, you must accept it for all front    ends, and test for the front end in the option handler.  See, for    example, the handling of -Wno-strict-prototypes for C++.     If you request an argument with CL_JOINED, CL_SEPARATE or their    combination CL_ARG, it is stored in the variable "arg", which is    guaranteed to be non-NULL and to not be an empty string.  It points    to the argument either within the argv[] vector or within one of    that vector's strings, and so the text is permanent and copies need    not be made.  Be sure to add an error message in missing_arg() if    the default is not appropriate.  */
end_comment

begin_define
define|#
directive|define
name|COMMAND_LINE_OPTIONS
define|\
value|OPT("-help",                  CL_ALL,   OPT__help)			     \   OPT("C",                      CL_ALL,   OPT_C)			     \   OPT("CC",                     CL_ALL,   OPT_CC)			     \   OPT("E",			CL_ALL,   OPT_E)			     \   OPT("H",                      CL_ALL,   OPT_H)			     \   OPT("M",                      CL_ALL,   OPT_M)			     \   OPT("MD",                     CL_ALL | CL_SEPARATE, OPT_MD)		     \   OPT("MF",                     CL_ALL | CL_ARG, OPT_MF)		     \   OPT("MG",                     CL_ALL,   OPT_MG)			     \   OPT("MM",                     CL_ALL,   OPT_MM)			     \   OPT("MMD",                    CL_ALL | CL_SEPARATE, OPT_MMD)		     \   OPT("MP",                     CL_ALL,   OPT_MP)			     \   OPT("MQ",                     CL_ALL | CL_ARG, OPT_MQ)		     \   OPT("MT",                     CL_ALL | CL_ARG, OPT_MT)		     \   OPT("P",                      CL_ALL,   OPT_P)			     \   OPT("Wabi",                   CL_CXX,   OPT_Wabi)                          \   OPT("Wall",			CL_ALL,   OPT_Wall)			     \   OPT("Wbad-function-cast",	CL_C,     OPT_Wbad_function_cast)	     \   OPT("Wcast-qual",		CL_ALL,   OPT_Wcast_qual)		     \   OPT("Wchar-subscripts",	CL_ALL,   OPT_Wchar_subscripts)		     \   OPT("Wcomment",		CL_ALL,   OPT_Wcomment)			     \   OPT("Wcomments",              CL_ALL,   OPT_Wcomments)		     \   OPT("Wconversion",		CL_ALL,   OPT_Wconversion)		     \   OPT("Wctor-dtor-privacy",	CL_CXX,   OPT_Wctor_dtor_privacy)	     \   OPT("Wdeprecated",		CL_CXX,   OPT_Wdeprecated)		     \   OPT("Wdiv-by-zero",		CL_C,     OPT_Wdiv_by_zero)		     \   OPT("Weffc++",		CL_CXX,   OPT_Weffcxx)			     \   OPT("Wendif-labels",		CL_ALL,   OPT_Wendif_labels)		     \   OPT("Werror",                 CL_ALL,   OPT_Werror)			     \   OPT("Werror-implicit-function-declaration",				     \ 	     			CL_C,     OPT_Werror_implicit_function_decl) \   OPT("Wfloat-equal",		CL_ALL,   OPT_Wfloat_equal)		     \   OPT("Wformat",		CL_ALL,   OPT_Wformat)			     \   OPT("Wformat-extra-args",	CL_ALL,   OPT_Wformat_extra_args)	     \   OPT("Wformat-nonliteral",	CL_ALL,   OPT_Wformat_nonliteral)	     \   OPT("Wformat-security",	CL_ALL,   OPT_Wformat_security)		     \   OPT("Wformat-y2k",		CL_ALL,   OPT_Wformat_y2k)		     \   OPT("Wformat-zero-length",	CL_C,     OPT_Wformat_zero_length)	     \   OPT("Wformat=",		CL_ALL | CL_JOINED, OPT_Wformat_eq)	     \   OPT("Wimplicit",		CL_ALL,   OPT_Wimplicit)		     \   OPT("Wimplicit-function-declaration",	CL_C, OPT_Wimplicit_function_decl)   \   OPT("Wimplicit-int",		CL_C,	  OPT_Wimplicit_int)		     \   OPT("Wimport",                CL_ALL,   OPT_Wimport)			     \   OPT("Wlong-long",		CL_ALL,   OPT_Wlong_long)		     \   OPT("Wmain",			CL_C,     OPT_Wmain)			     \   OPT("Wmissing-braces",	CL_ALL,   OPT_Wmissing_braces)		     \   OPT("Wmissing-declarations",	CL_C,     OPT_Wmissing_declarations)	     \   OPT("Wmissing-format-attribute",CL_ALL, OPT_Wmissing_format_attribute)     \   OPT("Wmissing-prototypes",	CL_ALL,   OPT_Wmissing_prototypes)	     \   OPT("Wmultichar",		CL_ALL,   OPT_Wmultichar)		     \   OPT("Wnested-externs",	CL_C,     OPT_Wnested_externs)		     \   OPT("Wnon-template-friend",	CL_CXX,   OPT_Wnon_template_friend)	     \   OPT("Wnon-virtual-dtor",	CL_CXX,   OPT_Wnon_virtual_dtor)	     \   OPT("Wnonnull",		CL_C,     OPT_Wnonnull)			     \   OPT("Wold-style-cast",	CL_CXX,   OPT_Wold_style_cast)		     \   OPT("Woverloaded-virtual",	CL_CXX,   OPT_Woverloaded_virtual)	     \   OPT("Wparentheses",		CL_ALL,   OPT_Wparentheses)		     \   OPT("Wpmf-conversions",	CL_CXX,   OPT_Wpmf_conversions)		     \   OPT("Wpointer-arith",		CL_ALL,   OPT_Wpointer_arith)		     \   OPT("Wprotocol",		CL_OBJC,  OPT_Wprotocol)		     \   OPT("Wredundant-decls",	CL_ALL,   OPT_Wredundant_decls)		     \   OPT("Wreorder",		CL_CXX,   OPT_Wreorder)			     \   OPT("Wreturn-type",		CL_ALL,   OPT_Wreturn_type)		     \   OPT("Wselector",		CL_OBJC,  OPT_Wselector)		     \   OPT("Wsequence-point",	CL_C,     OPT_Wsequence_point)		     \   OPT("Wsign-compare",		CL_ALL,   OPT_Wsign_compare)		     \   OPT("Wsign-promo",		CL_CXX,   OPT_Wsign_promo)		     \   OPT("Wstrict-prototypes",	CL_ALL,   OPT_Wstrict_prototypes)	     \   OPT("Wsynth",			CL_CXX,   OPT_Wsynth)			     \   OPT("Wsystem-headers",	CL_ALL,   OPT_Wsystem_headers)		     \   OPT("Wtraditional",		CL_C,     OPT_Wtraditional)		     \   OPT("Wtrigraphs",		CL_ALL,   OPT_Wtrigraphs)		     \   OPT("Wundeclared-selector",	CL_OBJC,  OPT_Wundeclared_selector)	     \   OPT("Wundef",			CL_ALL,   OPT_Wundef)			     \   OPT("Wunknown-pragmas",	CL_ALL,   OPT_Wunknown_pragmas)		     \   OPT("Wunused-macros",		CL_ALL,   OPT_Wunused_macros)		     \   OPT("Wwrite-strings",		CL_ALL,   OPT_Wwrite_strings)		     \   OPT("ansi",			CL_ALL,   OPT_ansi)			     \   OPT("d",                      CL_ALL | CL_JOINED, OPT_d)		     \   OPT("fabi-version=",          CL_CXX | CL_JOINED, OPT_fabi_version)        \   OPT("faccess-control",	CL_CXX,   OPT_faccess_control)		     \   OPT("fall-virtual",		CL_CXX,   OPT_fall_virtual)		     \   OPT("falt-external-templates",CL_CXX,   OPT_falt_external_templates)	     \   OPT("fasm",			CL_ALL,   OPT_fasm)			     \   OPT("fbuiltin",		CL_ALL,   OPT_fbuiltin)			     \   OPT("fbuiltin-",		CL_ALL | CL_JOINED, OPT_fbuiltin_)	     \   OPT("fcheck-new",		CL_CXX,   OPT_fcheck_new)		     \   OPT("fcond-mismatch",		CL_ALL,   OPT_fcond_mismatch)		     \   OPT("fconserve-space",	CL_CXX,   OPT_fconserve_space)		     \   OPT("fconst-strings",		CL_CXX,   OPT_fconst_strings)		     \   OPT("fconstant-string-class=", CL_OBJC | CL_JOINED,			     \ 					  OPT_fconstant_string_class)	     \   OPT("fdefault-inline",	CL_CXX,   OPT_fdefault_inline)		     \   OPT("fdollars-in-identifiers",CL_ALL,   OPT_fdollars_in_identifiers)	     \   OPT("fdump-",			CL_ALL | CL_JOINED, OPT_fdump)		     \   OPT("felide-constructors",	CL_CXX,   OPT_felide_constructors)	     \   OPT("fenforce-eh-specs",	CL_CXX,   OPT_fenforce_eh_specs)	     \   OPT("fenum-int-equiv",	CL_CXX,   OPT_fenum_int_equiv)		     \   OPT("fexternal-templates",	CL_CXX,   OPT_fexternal_templates)	     \   OPT("ffixed-form",		CL_C,	  OPT_ffixed_form)		     \   OPT("ffixed-line-length-",	CL_C | CL_JOINED, OPT_ffixed_line_length)    \   OPT("ffor-scope",		CL_CXX,   OPT_ffor_scope)		     \   OPT("ffreestanding",		CL_C,     OPT_ffreestanding)		     \   OPT("fgnu-keywords",		CL_CXX,   OPT_fgnu_keywords)		     \   OPT("fgnu-runtime",		CL_OBJC,  OPT_fgnu_runtime)		     \   OPT("fguiding-decls",		CL_CXX,   OPT_fguiding_decls)		     \   OPT("fhandle-exceptions",	CL_CXX,   OPT_fhandle_exceptions)	     \   OPT("fhonor-std",		CL_CXX,   OPT_fhonor_std)		     \   OPT("fhosted",		CL_C,     OPT_fhosted)			     \   OPT("fhuge-objects",		CL_CXX,   OPT_fhuge_objects)		     \   OPT("fimplement-inlines",	CL_CXX,   OPT_fimplement_inlines)	     \   OPT("fimplicit-inline-templates", CL_CXX, OPT_fimplicit_inline_templates)  \   OPT("fimplicit-templates",	CL_CXX,   OPT_fimplicit_templates)	     \   OPT("flabels-ok",		CL_CXX,   OPT_flabels_ok)		     \   OPT("fms-extensions",		CL_ALL,   OPT_fms_extensions)		     \   OPT("fname-mangling-version-",CL_CXX | CL_JOINED, OPT_fname_mangling)	     \   OPT("fnew-abi",		CL_CXX,   OPT_fnew_abi)			     \   OPT("fnext-runtime",		CL_OBJC,  OPT_fnext_runtime)		     \   OPT("fnonansi-builtins",	CL_CXX,   OPT_fnonansi_builtins)	     \   OPT("fnonnull-objects",	CL_CXX,   OPT_fnonnull_objects)		     \   OPT("foperator-names",	CL_CXX,   OPT_foperator_names)		     \   OPT("foptional-diags",	CL_CXX,   OPT_foptional_diags)		     \   OPT("fpermissive",		CL_CXX,   OPT_fpermissive)		     \   OPT("fpreprocessed",		CL_ALL,   OPT_fpreprocessed)		     \   OPT("frepo",			CL_CXX,   OPT_frepo)			     \   OPT("frtti",			CL_CXX,   OPT_frtti)			     \   OPT("fshort-double",		CL_ALL,   OPT_fshort_double)		     \   OPT("fshort-enums",		CL_ALL,   OPT_fshort_enums)		     \   OPT("fshort-wchar",		CL_ALL,   OPT_fshort_wchar)		     \   OPT("fshow-column",		CL_ALL,   OPT_fshow_column)		     \   OPT("fsigned-bitfields",	CL_ALL,   OPT_fsigned_bitfields)	     \   OPT("fsigned-char",		CL_ALL,   OPT_fsigned_char)		     \   OPT("fsquangle",		CL_CXX,   OPT_fsquangle)		     \   OPT("fstats",			CL_CXX,   OPT_fstats)			     \   OPT("fstrict-prototype",	CL_CXX,   OPT_fstrict_prototype)	     \   OPT("ftabstop=",              CL_ALL | CL_JOINED, OPT_ftabstop)	     \   OPT("ftemplate-depth-",	CL_CXX | CL_JOINED, OPT_ftemplate_depth)     \   OPT("fthis-is-variable",	CL_CXX,   OPT_fthis_is_variable)	     \   OPT("funsigned-bitfields",	CL_ALL,   OPT_funsigned_bitfields)	     \   OPT("funsigned-char",		CL_ALL,   OPT_funsigned_char)		     \   OPT("fuse-cxa-atexit",	CL_CXX,   OPT_fuse_cxa_atexit)		     \   OPT("fvtable-gc",		CL_CXX,   OPT_fvtable_gc)		     \   OPT("fvtable-thunks",		CL_CXX,   OPT_fvtable_thunks)		     \   OPT("fweak",			CL_CXX,   OPT_fweak)			     \   OPT("fxref",			CL_CXX,   OPT_fxref)			     \   OPT("gen-decls",		CL_OBJC,  OPT_gen_decls)		     \   OPT("lang-asm",		CL_C_ONLY, OPT_lang_asm)		     \   OPT("lang-objc",              CL_ALL,   OPT_lang_objc)		     \   OPT("nostdinc",               CL_ALL,   OPT_nostdinc)			     \   OPT("nostdinc++",             CL_ALL,   OPT_nostdincplusplus)		     \   OPT("o",			CL_ALL | CL_ARG, OPT_o)                      \   OPT("pedantic",		CL_ALL,   OPT_pedantic)			     \   OPT("pedantic-errors",	CL_ALL,   OPT_pedantic_errors)		     \   OPT("print-objc-runtime-info", CL_OBJC, OPT_print_objc_runtime_info)	     \   OPT("remap",			CL_ALL,   OPT_remap)                         \   OPT("std=c++98",		CL_CXX,	  OPT_std_cplusplus98)		     \   OPT("std=c89",		CL_C,     OPT_std_c89)			     \   OPT("std=c99",		CL_C,     OPT_std_c99)			     \   OPT("std=c9x",		CL_C,     OPT_std_c9x)			     \   OPT("std=gnu++98",		CL_CXX,	  OPT_std_gnuplusplus98)	     \   OPT("std=gnu89",		CL_C,     OPT_std_gnu89)		     \   OPT("std=gnu99",		CL_C,     OPT_std_gnu99)		     \   OPT("std=gnu9x",		CL_C,     OPT_std_gnu9x)		     \   OPT("std=iso9899:1990",	CL_C,     OPT_std_iso9899_1990)		     \   OPT("std=iso9899:199409",	CL_C,     OPT_std_iso9899_199409)	     \   OPT("std=iso9899:1999",	CL_C,     OPT_std_iso9899_1999)		     \   OPT("std=iso9899:199x",	CL_C,     OPT_std_iso9899_199x)		     \   OPT("traditional-cpp",	CL_ALL,   OPT_traditional_cpp)		     \   OPT("trigraphs",              CL_ALL,   OPT_trigraphs)		     \   OPT("undef",			CL_ALL,   OPT_undef)			     \   OPT("v",                      CL_ALL,   OPT_v)			     \   OPT("w",                      CL_ALL,   OPT_w)
end_define

begin_define
define|#
directive|define
name|OPT
parameter_list|(
name|text
parameter_list|,
name|flags
parameter_list|,
name|code
parameter_list|)
value|code,
end_define

begin_enum
enum|enum
name|opt_code
block|{
name|COMMAND_LINE_OPTIONS
name|N_OPTS
block|}
enum|;
end_enum

begin_undef
undef|#
directive|undef
name|OPT
end_undef

begin_struct
struct|struct
name|cl_option
block|{
specifier|const
name|char
modifier|*
name|opt_text
decl_stmt|;
name|unsigned
name|char
name|opt_len
decl_stmt|;
name|unsigned
name|char
name|flags
decl_stmt|;
name|ENUM_BITFIELD
argument_list|(
argument|opt_code
argument_list|)
name|opt_code
label|:
literal|2
operator|*
name|CHAR_BIT
expr_stmt|;
block|}
struct|;
end_struct

begin_define
define|#
directive|define
name|OPT
parameter_list|(
name|text
parameter_list|,
name|flags
parameter_list|,
name|code
parameter_list|)
value|{ text, sizeof(text) - 1, flags, code },
end_define

begin_ifdef
ifdef|#
directive|ifdef
name|HOST_EBCDIC
end_ifdef

begin_decl_stmt
specifier|static
name|struct
name|cl_option
name|cl_options
index|[]
init|=
else|#
directive|else
specifier|static
specifier|const
expr|struct
name|cl_option
name|cl_options
index|[]
operator|=
endif|#
directive|endif
block|{
name|COMMAND_LINE_OPTIONS
block|}
decl_stmt|;
end_decl_stmt

begin_undef
undef|#
directive|undef
name|OPT
end_undef

begin_undef
undef|#
directive|undef
name|COMMAND_LINE_OPTIONS
end_undef

begin_comment
comment|/* Holds switches parsed by c_common_decode_option (), but whose    handling is deffered to c_common_post_options ().  */
end_comment

begin_decl_stmt
specifier|static
name|void
name|defer_opt
name|PARAMS
argument_list|(
operator|(
expr|enum
name|opt_code
operator|,
specifier|const
name|char
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_struct
specifier|static
struct|struct
name|deferred_opt
block|{
name|enum
name|opt_code
name|code
decl_stmt|;
specifier|const
name|char
modifier|*
name|arg
decl_stmt|;
block|}
modifier|*
name|deferred_opts
struct|;
end_struct

begin_ifdef
ifdef|#
directive|ifdef
name|HOST_EBCDIC
end_ifdef

begin_decl_stmt
specifier|static
name|int
name|opt_comp
name|PARAMS
argument_list|(
operator|(
specifier|const
name|void
operator|*
operator|,
specifier|const
name|void
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* Run-time sorting of options array.  */
end_comment

begin_function
specifier|static
name|int
name|opt_comp
parameter_list|(
name|p1
parameter_list|,
name|p2
parameter_list|)
specifier|const
name|void
modifier|*
name|p1
decl_stmt|,
decl|*
name|p2
decl_stmt|;
end_function

begin_block
block|{
return|return
name|strcmp
argument_list|(
operator|(
operator|(
expr|struct
name|cl_option
operator|*
operator|)
name|p1
operator|)
operator|->
name|opt_text
argument_list|,
operator|(
operator|(
expr|struct
name|cl_option
operator|*
operator|)
name|p2
operator|)
operator|->
name|opt_text
argument_list|)
return|;
block|}
end_block

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* Complain that switch OPT_INDEX expects an argument but none was    provided.  */
end_comment

begin_function
specifier|static
name|void
name|missing_arg
parameter_list|(
name|opt_index
parameter_list|)
name|size_t
name|opt_index
decl_stmt|;
block|{
specifier|const
name|char
modifier|*
name|opt_text
init|=
name|cl_options
index|[
name|opt_index
index|]
operator|.
name|opt_text
decl_stmt|;
switch|switch
condition|(
name|cl_options
index|[
name|opt_index
index|]
operator|.
name|opt_code
condition|)
block|{
case|case
name|OPT_Wformat_eq
case|:
case|case
name|OPT_d
case|:
case|case
name|OPT_fabi_version
case|:
case|case
name|OPT_fbuiltin_
case|:
case|case
name|OPT_fdump
case|:
case|case
name|OPT_fname_mangling
case|:
case|case
name|OPT_ftabstop
case|:
case|case
name|OPT_ftemplate_depth
case|:
default|default:
name|error
argument_list|(
literal|"missing argument to \"-%s\""
argument_list|,
name|opt_text
argument_list|)
expr_stmt|;
break|break;
case|case
name|OPT_fconstant_string_class
case|:
name|error
argument_list|(
literal|"no class name specified with \"-%s\""
argument_list|,
name|opt_text
argument_list|)
expr_stmt|;
break|break;
case|case
name|OPT_MF
case|:
case|case
name|OPT_MD
case|:
case|case
name|OPT_MMD
case|:
case|case
name|OPT_o
case|:
name|error
argument_list|(
literal|"missing filename after \"-%s\""
argument_list|,
name|opt_text
argument_list|)
expr_stmt|;
break|break;
case|case
name|OPT_MQ
case|:
case|case
name|OPT_MT
case|:
name|error
argument_list|(
literal|"missing target after \"-%s\""
argument_list|,
name|opt_text
argument_list|)
expr_stmt|;
break|break;
block|}
block|}
end_function

begin_comment
comment|/* Perform a binary search to find which option the command-line INPUT    matches.  Returns its index in the option array, and N_OPTS on    failure.     Complications arise since some options can be suffixed with an    argument, and multiple complete matches can occur, e.g. -pedantic    and -pedantic-errors.  Also, some options are only accepted by some    languages.  If a switch matches for a different language and    doesn't match any alternatives for the true front end, the index of    the matched switch is returned anyway.  The caller should check for    this case.  */
end_comment

begin_function
specifier|static
name|size_t
name|find_opt
parameter_list|(
name|input
parameter_list|,
name|lang_flag
parameter_list|)
specifier|const
name|char
modifier|*
name|input
decl_stmt|;
name|int
name|lang_flag
decl_stmt|;
block|{
name|size_t
name|md
decl_stmt|,
name|mn
decl_stmt|,
name|mx
decl_stmt|;
name|size_t
name|opt_len
decl_stmt|;
name|size_t
name|result
init|=
name|N_OPTS
decl_stmt|;
name|int
name|comp
decl_stmt|;
name|mn
operator|=
literal|0
expr_stmt|;
name|mx
operator|=
name|N_OPTS
expr_stmt|;
while|while
condition|(
name|mx
operator|>
name|mn
condition|)
block|{
name|md
operator|=
operator|(
name|mn
operator|+
name|mx
operator|)
operator|/
literal|2
expr_stmt|;
name|opt_len
operator|=
name|cl_options
index|[
name|md
index|]
operator|.
name|opt_len
expr_stmt|;
name|comp
operator|=
name|strncmp
argument_list|(
name|input
argument_list|,
name|cl_options
index|[
name|md
index|]
operator|.
name|opt_text
argument_list|,
name|opt_len
argument_list|)
expr_stmt|;
if|if
condition|(
name|comp
operator|<
literal|0
condition|)
name|mx
operator|=
name|md
expr_stmt|;
elseif|else
if|if
condition|(
name|comp
operator|>
literal|0
condition|)
name|mn
operator|=
name|md
operator|+
literal|1
expr_stmt|;
else|else
block|{
comment|/* The switch matches.  It it an exact match?  */
if|if
condition|(
name|input
index|[
name|opt_len
index|]
operator|==
literal|'\0'
condition|)
return|return
name|md
return|;
else|else
block|{
name|mn
operator|=
name|md
operator|+
literal|1
expr_stmt|;
comment|/* If the switch takes no arguments this is not a proper 		 match, so we continue the search (e.g. input="stdc++" 		 match was "stdc").  */
if|if
condition|(
operator|!
operator|(
name|cl_options
index|[
name|md
index|]
operator|.
name|flags
operator|&
name|CL_JOINED
operator|)
condition|)
continue|continue;
comment|/* Is this switch valid for this front end?  */
if|if
condition|(
operator|!
operator|(
name|cl_options
index|[
name|md
index|]
operator|.
name|flags
operator|&
name|lang_flag
operator|)
condition|)
block|{
comment|/* If subsequently we don't find a better match, 		     return this and let the caller report it as a bad 		     match.  */
name|result
operator|=
name|md
expr_stmt|;
continue|continue;
block|}
comment|/* Two scenarios remain: we have the switch's argument, 		 or we match a longer option.  This can happen with 		 -iwithprefix and -withprefixbefore.  The longest 		 possible option match succeeds.  		 Scan forwards, and return an exact match.  Otherwise 		 return the longest valid option-accepting match (mx). 		 This loops at most twice with current options.  */
name|mx
operator|=
name|md
expr_stmt|;
for|for
control|(
name|md
operator|=
name|md
operator|+
literal|1
init|;
name|md
operator|<
operator|(
name|size_t
operator|)
name|N_OPTS
condition|;
name|md
operator|++
control|)
block|{
name|opt_len
operator|=
name|cl_options
index|[
name|md
index|]
operator|.
name|opt_len
expr_stmt|;
if|if
condition|(
name|strncmp
argument_list|(
name|input
argument_list|,
name|cl_options
index|[
name|md
index|]
operator|.
name|opt_text
argument_list|,
name|opt_len
argument_list|)
condition|)
break|break;
if|if
condition|(
name|input
index|[
name|opt_len
index|]
operator|==
literal|'\0'
condition|)
return|return
name|md
return|;
if|if
condition|(
name|cl_options
index|[
name|md
index|]
operator|.
name|flags
operator|&
name|lang_flag
operator|&&
name|cl_options
index|[
name|md
index|]
operator|.
name|flags
operator|&
name|CL_JOINED
condition|)
name|mx
operator|=
name|md
expr_stmt|;
block|}
return|return
name|mx
return|;
block|}
block|}
block|}
return|return
name|result
return|;
block|}
end_function

begin_comment
comment|/* Defer option CODE with argument ARG.  */
end_comment

begin_function
specifier|static
name|void
name|defer_opt
parameter_list|(
name|code
parameter_list|,
name|arg
parameter_list|)
name|enum
name|opt_code
name|code
decl_stmt|;
specifier|const
name|char
modifier|*
name|arg
decl_stmt|;
block|{
comment|/* FIXME: this should be in c_common_init_options, which should take      argc and argv.  */
if|if
condition|(
operator|!
name|deferred_opts
condition|)
block|{
specifier|extern
name|int
name|save_argc
decl_stmt|;
name|deferred_size
operator|=
name|save_argc
expr_stmt|;
name|deferred_opts
operator|=
operator|(
expr|struct
name|deferred_opt
operator|*
operator|)
name|xmalloc
argument_list|(
name|deferred_size
operator|*
sizeof|sizeof
argument_list|(
expr|struct
name|deferred_opt
argument_list|)
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
name|deferred_count
operator|==
name|deferred_size
condition|)
name|abort
argument_list|()
expr_stmt|;
name|deferred_opts
index|[
name|deferred_count
index|]
operator|.
name|code
operator|=
name|code
expr_stmt|;
name|deferred_opts
index|[
name|deferred_count
index|]
operator|.
name|arg
operator|=
name|arg
expr_stmt|;
name|deferred_count
operator|++
expr_stmt|;
block|}
end_function

begin_comment
comment|/* Common initialization before parsing options.  */
end_comment

begin_function
name|void
name|c_common_init_options
parameter_list|(
name|lang
parameter_list|)
name|enum
name|c_language_kind
name|lang
decl_stmt|;
block|{
ifdef|#
directive|ifdef
name|HOST_EBCDIC
comment|/* For non-ASCII hosts, the cl_options array needs to be sorted at      runtime.  */
name|qsort
argument_list|(
name|cl_options
argument_list|,
name|N_OPTS
argument_list|,
sizeof|sizeof
argument_list|(
expr|struct
name|cl_option
argument_list|)
argument_list|,
name|opt_comp
argument_list|)
expr_stmt|;
endif|#
directive|endif
if|#
directive|if
name|ENABLE_CHECKING
block|{
name|size_t
name|i
decl_stmt|;
for|for
control|(
name|i
operator|=
literal|1
init|;
name|i
operator|<
name|N_OPTS
condition|;
name|i
operator|++
control|)
if|if
condition|(
name|strcmp
argument_list|(
name|cl_options
index|[
name|i
operator|-
literal|1
index|]
operator|.
name|opt_text
argument_list|,
name|cl_options
index|[
name|i
index|]
operator|.
name|opt_text
argument_list|)
operator|>=
literal|0
condition|)
name|error
argument_list|(
literal|"options array incorrectly sorted: %s is before %s"
argument_list|,
name|cl_options
index|[
name|i
operator|-
literal|1
index|]
operator|.
name|opt_text
argument_list|,
name|cl_options
index|[
name|i
index|]
operator|.
name|opt_text
argument_list|)
expr_stmt|;
block|}
endif|#
directive|endif
name|c_language
operator|=
name|lang
expr_stmt|;
name|parse_in
operator|=
name|cpp_create_reader
argument_list|(
name|lang
operator|==
name|clk_c
condition|?
name|CLK_GNUC89
else|:
name|CLK_GNUCXX
argument_list|)
expr_stmt|;
name|cpp_opts
operator|=
name|cpp_get_options
argument_list|(
name|parse_in
argument_list|)
expr_stmt|;
if|if
condition|(
name|flag_objc
condition|)
name|cpp_opts
operator|->
name|objc
operator|=
literal|1
expr_stmt|;
name|flag_const_strings
operator|=
operator|(
name|lang
operator|==
name|clk_cplusplus
operator|)
expr_stmt|;
name|warn_pointer_arith
operator|=
operator|(
name|lang
operator|==
name|clk_cplusplus
operator|)
expr_stmt|;
if|if
condition|(
name|lang
operator|==
name|clk_c
condition|)
name|warn_sign_compare
operator|=
operator|-
literal|1
expr_stmt|;
block|}
end_function

begin_comment
comment|/* Handle one command-line option in (argc, argv).    Can be called multiple times, to handle multiple sets of options.    Returns number of strings consumed.  */
end_comment

begin_function
name|int
name|c_common_decode_option
parameter_list|(
name|argc
parameter_list|,
name|argv
parameter_list|)
name|int
name|argc
decl_stmt|;
name|char
modifier|*
modifier|*
name|argv
decl_stmt|;
block|{
specifier|static
specifier|const
name|int
name|lang_flags
index|[]
init|=
block|{
name|CL_C_ONLY
block|,
name|CL_C
block|,
name|CL_CXX_ONLY
block|,
name|CL_CXX
block|}
decl_stmt|;
name|size_t
name|opt_index
decl_stmt|;
specifier|const
name|char
modifier|*
name|opt
decl_stmt|,
modifier|*
name|arg
init|=
literal|0
decl_stmt|;
name|char
modifier|*
name|dup
init|=
literal|0
decl_stmt|;
name|bool
name|on
init|=
name|true
decl_stmt|;
name|int
name|result
decl_stmt|,
name|lang_flag
decl_stmt|;
specifier|const
name|struct
name|cl_option
modifier|*
name|option
decl_stmt|;
name|enum
name|opt_code
name|code
decl_stmt|;
name|opt
operator|=
name|argv
index|[
literal|0
index|]
expr_stmt|;
comment|/* Interpret "-" or a non-switch as a file name.  */
if|if
condition|(
name|opt
index|[
literal|0
index|]
operator|!=
literal|'-'
operator|||
name|opt
index|[
literal|1
index|]
operator|==
literal|'\0'
condition|)
block|{
if|if
condition|(
operator|!
name|in_fname
condition|)
name|in_fname
operator|=
name|opt
expr_stmt|;
elseif|else
if|if
condition|(
operator|!
name|out_fname
condition|)
name|out_fname
operator|=
name|opt
expr_stmt|;
else|else
block|{
name|error
argument_list|(
literal|"too many filenames given.  Type %s --help for usage"
argument_list|,
name|progname
argument_list|)
expr_stmt|;
return|return
name|argc
return|;
block|}
return|return
literal|1
return|;
block|}
comment|/* Drop the "no-" from negative switches.  */
if|if
condition|(
operator|(
name|opt
index|[
literal|1
index|]
operator|==
literal|'W'
operator|||
name|opt
index|[
literal|1
index|]
operator|==
literal|'f'
operator|)
operator|&&
name|opt
index|[
literal|2
index|]
operator|==
literal|'n'
operator|&&
name|opt
index|[
literal|3
index|]
operator|==
literal|'o'
operator|&&
name|opt
index|[
literal|4
index|]
operator|==
literal|'-'
condition|)
block|{
name|size_t
name|len
init|=
name|strlen
argument_list|(
name|opt
argument_list|)
operator|-
literal|3
decl_stmt|;
name|dup
operator|=
name|xmalloc
argument_list|(
name|len
operator|+
literal|1
argument_list|)
expr_stmt|;
name|dup
index|[
literal|0
index|]
operator|=
literal|'-'
expr_stmt|;
name|dup
index|[
literal|1
index|]
operator|=
name|opt
index|[
literal|1
index|]
expr_stmt|;
name|memcpy
argument_list|(
name|dup
operator|+
literal|2
argument_list|,
name|opt
operator|+
literal|5
argument_list|,
name|len
operator|-
literal|2
operator|+
literal|1
argument_list|)
expr_stmt|;
name|opt
operator|=
name|dup
expr_stmt|;
name|on
operator|=
name|false
expr_stmt|;
block|}
name|result
operator|=
name|cpp_handle_option
argument_list|(
name|parse_in
argument_list|,
name|argc
argument_list|,
name|argv
argument_list|)
expr_stmt|;
comment|/* Skip over '-'.  */
name|lang_flag
operator|=
name|lang_flags
index|[
operator|(
name|c_language
operator|<<
literal|1
operator|)
operator|+
name|flag_objc
index|]
expr_stmt|;
name|opt_index
operator|=
name|find_opt
argument_list|(
name|opt
operator|+
literal|1
argument_list|,
name|lang_flag
argument_list|)
expr_stmt|;
if|if
condition|(
name|opt_index
operator|==
name|N_OPTS
condition|)
goto|goto
name|done
goto|;
name|result
operator|=
literal|1
expr_stmt|;
name|option
operator|=
operator|&
name|cl_options
index|[
name|opt_index
index|]
expr_stmt|;
comment|/* Sort out any argument the switch takes.  */
if|if
condition|(
name|option
operator|->
name|flags
operator|&
name|CL_ARG
condition|)
block|{
if|if
condition|(
name|option
operator|->
name|flags
operator|&
name|CL_JOINED
condition|)
block|{
comment|/* Have arg point to the original switch.  This is because 	     some code, such as disable_builtin_function, expects its 	     argument to be persistent until the program exits.  */
name|arg
operator|=
name|argv
index|[
literal|0
index|]
operator|+
name|cl_options
index|[
name|opt_index
index|]
operator|.
name|opt_len
operator|+
literal|1
expr_stmt|;
if|if
condition|(
operator|!
name|on
condition|)
name|arg
operator|+=
name|strlen
argument_list|(
literal|"no-"
argument_list|)
expr_stmt|;
block|}
comment|/* If we don't have an argument, and CL_SEPARATE, try the next 	 argument in the vector.  */
if|if
condition|(
operator|!
name|arg
operator|||
operator|(
operator|*
name|arg
operator|==
literal|'\0'
operator|&&
name|option
operator|->
name|flags
operator|&
name|CL_SEPARATE
operator|)
condition|)
block|{
name|arg
operator|=
name|argv
index|[
literal|1
index|]
expr_stmt|;
name|result
operator|=
literal|2
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|arg
operator|||
operator|*
name|arg
operator|==
literal|'\0'
condition|)
block|{
name|missing_arg
argument_list|(
name|opt_index
argument_list|)
expr_stmt|;
name|result
operator|=
name|argc
expr_stmt|;
goto|goto
name|done
goto|;
block|}
block|}
comment|/* Complain about the wrong language after we've swallowed any      necessary extra argument.  Eventually make this a hard error      after the call to find_opt, and return argc.  */
if|if
condition|(
operator|!
operator|(
name|cl_options
index|[
name|opt_index
index|]
operator|.
name|flags
operator|&
name|lang_flag
operator|)
condition|)
block|{
name|complain_wrong_lang
argument_list|(
name|opt_index
argument_list|,
name|on
argument_list|)
expr_stmt|;
goto|goto
name|done
goto|;
block|}
switch|switch
condition|(
name|code
operator|=
name|option
operator|->
name|opt_code
condition|)
block|{
case|case
name|N_OPTS
case|:
comment|/* Shut GCC up.  */
break|break;
case|case
name|OPT__help
case|:
name|print_help
argument_list|()
expr_stmt|;
break|break;
case|case
name|OPT_C
case|:
name|cpp_opts
operator|->
name|discard_comments
operator|=
literal|0
expr_stmt|;
break|break;
case|case
name|OPT_CC
case|:
name|cpp_opts
operator|->
name|discard_comments
operator|=
literal|0
expr_stmt|;
name|cpp_opts
operator|->
name|discard_comments_in_macro_exp
operator|=
literal|0
expr_stmt|;
break|break;
case|case
name|OPT_E
case|:
name|flag_preprocess_only
operator|=
literal|1
expr_stmt|;
break|break;
case|case
name|OPT_H
case|:
name|cpp_opts
operator|->
name|print_include_names
operator|=
literal|1
expr_stmt|;
break|break;
case|case
name|OPT_M
case|:
case|case
name|OPT_MM
case|:
comment|/* When doing dependencies with -M or -MM, suppress normal 	 preprocessed output, but still do -dM etc. as software 	 depends on this.  Preprocessed output does occur if -MD, -MMD 	 or environment var dependency generation is used.  */
name|cpp_opts
operator|->
name|deps
operator|.
name|style
operator|=
operator|(
name|code
operator|==
name|OPT_M
condition|?
name|DEPS_SYSTEM
else|:
name|DEPS_USER
operator|)
expr_stmt|;
name|cpp_opts
operator|->
name|no_output
operator|=
literal|1
expr_stmt|;
name|cpp_opts
operator|->
name|inhibit_warnings
operator|=
literal|1
expr_stmt|;
break|break;
case|case
name|OPT_MD
case|:
case|case
name|OPT_MMD
case|:
name|cpp_opts
operator|->
name|deps
operator|.
name|style
operator|=
operator|(
name|code
operator|==
name|OPT_MD
condition|?
name|DEPS_SYSTEM
else|:
name|DEPS_USER
operator|)
expr_stmt|;
name|deps_file
operator|=
name|arg
expr_stmt|;
break|break;
case|case
name|OPT_MF
case|:
name|deps_seen
operator|=
name|true
expr_stmt|;
name|deps_file
operator|=
name|arg
expr_stmt|;
break|break;
case|case
name|OPT_MG
case|:
name|deps_seen
operator|=
name|true
expr_stmt|;
name|cpp_opts
operator|->
name|deps
operator|.
name|missing_files
operator|=
name|true
expr_stmt|;
break|break;
case|case
name|OPT_MP
case|:
name|deps_seen
operator|=
name|true
expr_stmt|;
name|cpp_opts
operator|->
name|deps
operator|.
name|phony_targets
operator|=
name|true
expr_stmt|;
break|break;
case|case
name|OPT_MQ
case|:
case|case
name|OPT_MT
case|:
name|deps_seen
operator|=
name|true
expr_stmt|;
name|defer_opt
argument_list|(
name|code
argument_list|,
name|arg
argument_list|)
expr_stmt|;
break|break;
case|case
name|OPT_P
case|:
name|cpp_opts
operator|->
name|no_line_commands
operator|=
literal|1
expr_stmt|;
break|break;
case|case
name|OPT_Wabi
case|:
name|warn_abi
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wall
case|:
name|set_Wunused
argument_list|(
name|on
argument_list|)
expr_stmt|;
name|set_Wformat
argument_list|(
name|on
argument_list|)
expr_stmt|;
name|set_Wimplicit
argument_list|(
name|on
argument_list|)
expr_stmt|;
name|warn_char_subscripts
operator|=
name|on
expr_stmt|;
name|warn_missing_braces
operator|=
name|on
expr_stmt|;
name|warn_parentheses
operator|=
name|on
expr_stmt|;
name|warn_return_type
operator|=
name|on
expr_stmt|;
name|warn_sequence_point
operator|=
name|on
expr_stmt|;
comment|/* Was C only.  */
if|if
condition|(
name|c_language
operator|==
name|clk_cplusplus
condition|)
name|warn_sign_compare
operator|=
name|on
expr_stmt|;
name|warn_switch
operator|=
name|on
expr_stmt|;
name|warn_strict_aliasing
operator|=
name|on
expr_stmt|;
comment|/* Only warn about unknown pragmas that are not in system 	 headers.  */
name|warn_unknown_pragmas
operator|=
name|on
expr_stmt|;
comment|/* We save the value of warn_uninitialized, since if they put 	 -Wuninitialized on the command line, we need to generate a 	 warning about not using it without also specifying -O.  */
if|if
condition|(
name|warn_uninitialized
operator|!=
literal|1
condition|)
name|warn_uninitialized
operator|=
operator|(
name|on
condition|?
literal|2
else|:
literal|0
operator|)
expr_stmt|;
if|if
condition|(
name|c_language
operator|==
name|clk_c
condition|)
comment|/* We set this to 2 here, but 1 in -Wmain, so -ffreestanding 	   can turn it off only if it's not explicit.  */
name|warn_main
operator|=
name|on
operator|*
literal|2
expr_stmt|;
else|else
block|{
comment|/* C++-specific warnings.  */
name|warn_ctor_dtor_privacy
operator|=
name|on
expr_stmt|;
name|warn_nonvdtor
operator|=
name|on
expr_stmt|;
name|warn_reorder
operator|=
name|on
expr_stmt|;
name|warn_nontemplate_friend
operator|=
name|on
expr_stmt|;
block|}
name|cpp_opts
operator|->
name|warn_trigraphs
operator|=
name|on
expr_stmt|;
name|cpp_opts
operator|->
name|warn_comments
operator|=
name|on
expr_stmt|;
name|cpp_opts
operator|->
name|warn_num_sign_change
operator|=
name|on
expr_stmt|;
name|cpp_opts
operator|->
name|warn_multichar
operator|=
name|on
expr_stmt|;
comment|/* Was C++ only.  */
break|break;
case|case
name|OPT_Wbad_function_cast
case|:
name|warn_bad_function_cast
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wcast_qual
case|:
name|warn_cast_qual
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wchar_subscripts
case|:
name|warn_char_subscripts
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wcomment
case|:
case|case
name|OPT_Wcomments
case|:
name|cpp_opts
operator|->
name|warn_comments
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wconversion
case|:
name|warn_conversion
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wctor_dtor_privacy
case|:
name|warn_ctor_dtor_privacy
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wdeprecated
case|:
name|warn_deprecated
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wdiv_by_zero
case|:
name|warn_div_by_zero
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Weffcxx
case|:
name|warn_ecpp
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wendif_labels
case|:
name|cpp_opts
operator|->
name|warn_endif_labels
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Werror
case|:
name|cpp_opts
operator|->
name|warnings_are_errors
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Werror_implicit_function_decl
case|:
if|if
condition|(
operator|!
name|on
condition|)
name|result
operator|=
literal|0
expr_stmt|;
else|else
name|mesg_implicit_function_declaration
operator|=
literal|2
expr_stmt|;
break|break;
case|case
name|OPT_Wfloat_equal
case|:
name|warn_float_equal
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wformat
case|:
name|set_Wformat
argument_list|(
name|on
argument_list|)
expr_stmt|;
break|break;
case|case
name|OPT_Wformat_eq
case|:
name|set_Wformat
argument_list|(
name|atoi
argument_list|(
name|arg
argument_list|)
argument_list|)
expr_stmt|;
break|break;
case|case
name|OPT_Wformat_extra_args
case|:
name|warn_format_extra_args
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wformat_nonliteral
case|:
name|warn_format_nonliteral
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wformat_security
case|:
name|warn_format_security
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wformat_y2k
case|:
name|warn_format_y2k
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wformat_zero_length
case|:
name|warn_format_zero_length
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wimplicit
case|:
name|set_Wimplicit
argument_list|(
name|on
argument_list|)
expr_stmt|;
break|break;
case|case
name|OPT_Wimplicit_function_decl
case|:
name|mesg_implicit_function_declaration
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wimplicit_int
case|:
name|warn_implicit_int
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wimport
case|:
name|cpp_opts
operator|->
name|warn_import
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wlong_long
case|:
name|warn_long_long
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wmain
case|:
if|if
condition|(
name|on
condition|)
name|warn_main
operator|=
literal|1
expr_stmt|;
else|else
name|warn_main
operator|=
operator|-
literal|1
expr_stmt|;
break|break;
case|case
name|OPT_Wmissing_braces
case|:
name|warn_missing_braces
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wmissing_declarations
case|:
name|warn_missing_declarations
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wmissing_format_attribute
case|:
name|warn_missing_format_attribute
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wmissing_prototypes
case|:
name|warn_missing_prototypes
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wmultichar
case|:
name|cpp_opts
operator|->
name|warn_multichar
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wnested_externs
case|:
name|warn_nested_externs
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wnon_template_friend
case|:
name|warn_nontemplate_friend
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wnon_virtual_dtor
case|:
name|warn_nonvdtor
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wnonnull
case|:
name|warn_nonnull
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wold_style_cast
case|:
name|warn_old_style_cast
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Woverloaded_virtual
case|:
name|warn_overloaded_virtual
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wparentheses
case|:
name|warn_parentheses
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wpmf_conversions
case|:
name|warn_pmf2ptr
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wpointer_arith
case|:
name|warn_pointer_arith
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wprotocol
case|:
name|warn_protocol
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wselector
case|:
name|warn_selector
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wredundant_decls
case|:
name|warn_redundant_decls
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wreorder
case|:
name|warn_reorder
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wreturn_type
case|:
name|warn_return_type
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wsequence_point
case|:
name|warn_sequence_point
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wsign_compare
case|:
name|warn_sign_compare
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wsign_promo
case|:
name|warn_sign_promo
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wstrict_prototypes
case|:
if|if
condition|(
operator|!
name|on
operator|&&
name|c_language
operator|==
name|clk_cplusplus
condition|)
name|warning
argument_list|(
literal|"-Wno-strict-prototypes is not supported in C++"
argument_list|)
expr_stmt|;
else|else
name|warn_strict_prototypes
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wsynth
case|:
name|warn_synth
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wsystem_headers
case|:
name|cpp_opts
operator|->
name|warn_system_headers
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wtraditional
case|:
name|warn_traditional
operator|=
name|on
expr_stmt|;
name|cpp_opts
operator|->
name|warn_traditional
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wtrigraphs
case|:
name|cpp_opts
operator|->
name|warn_trigraphs
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wundeclared_selector
case|:
name|warn_undeclared_selector
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wundef
case|:
name|cpp_opts
operator|->
name|warn_undef
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wunknown_pragmas
case|:
comment|/* Set to greater than 1, so that even unknown pragmas in 	 system headers will be warned about.  */
name|warn_unknown_pragmas
operator|=
name|on
operator|*
literal|2
expr_stmt|;
break|break;
case|case
name|OPT_Wunused_macros
case|:
name|cpp_opts
operator|->
name|warn_unused_macros
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_Wwrite_strings
case|:
if|if
condition|(
name|c_language
operator|==
name|clk_c
condition|)
name|flag_const_strings
operator|=
name|on
expr_stmt|;
else|else
name|warn_write_strings
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_ansi
case|:
if|if
condition|(
name|c_language
operator|==
name|clk_c
condition|)
name|set_std_c89
argument_list|(
name|false
argument_list|,
name|true
argument_list|)
expr_stmt|;
else|else
name|set_std_cxx98
argument_list|(
name|true
argument_list|)
expr_stmt|;
break|break;
case|case
name|OPT_d
case|:
name|handle_OPT_d
argument_list|(
name|arg
argument_list|)
expr_stmt|;
break|break;
case|case
name|OPT_fcond_mismatch
case|:
if|if
condition|(
name|c_language
operator|==
name|clk_c
condition|)
block|{
name|flag_cond_mismatch
operator|=
name|on
expr_stmt|;
break|break;
block|}
comment|/* Fall through.  */
case|case
name|OPT_fall_virtual
case|:
case|case
name|OPT_fenum_int_equiv
case|:
case|case
name|OPT_fguiding_decls
case|:
case|case
name|OPT_fhonor_std
case|:
case|case
name|OPT_fhuge_objects
case|:
case|case
name|OPT_flabels_ok
case|:
case|case
name|OPT_fname_mangling
case|:
case|case
name|OPT_fnew_abi
case|:
case|case
name|OPT_fnonnull_objects
case|:
case|case
name|OPT_fsquangle
case|:
case|case
name|OPT_fstrict_prototype
case|:
case|case
name|OPT_fthis_is_variable
case|:
case|case
name|OPT_fvtable_thunks
case|:
case|case
name|OPT_fxref
case|:
name|warning
argument_list|(
literal|"switch \"%s\" is no longer supported"
argument_list|,
name|argv
index|[
literal|0
index|]
argument_list|)
expr_stmt|;
break|break;
case|case
name|OPT_fabi_version
case|:
name|flag_abi_version
operator|=
name|read_integral_parameter
argument_list|(
name|arg
argument_list|,
name|argv
index|[
literal|0
index|]
argument_list|,
literal|1
argument_list|)
expr_stmt|;
break|break;
case|case
name|OPT_faccess_control
case|:
name|flag_access_control
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_falt_external_templates
case|:
name|flag_alt_external_templates
operator|=
name|on
expr_stmt|;
if|if
condition|(
name|on
condition|)
name|flag_external_templates
operator|=
name|true
expr_stmt|;
name|cp_deprecated
label|:
name|warning
argument_list|(
literal|"switch \"%s\" is deprecated, please see documentation for details"
argument_list|,
name|argv
index|[
literal|0
index|]
argument_list|)
expr_stmt|;
break|break;
case|case
name|OPT_fasm
case|:
name|flag_no_asm
operator|=
operator|!
name|on
expr_stmt|;
break|break;
case|case
name|OPT_fbuiltin
case|:
name|flag_no_builtin
operator|=
operator|!
name|on
expr_stmt|;
break|break;
case|case
name|OPT_fbuiltin_
case|:
if|if
condition|(
name|on
condition|)
name|result
operator|=
literal|0
expr_stmt|;
else|else
name|disable_builtin_function
argument_list|(
name|arg
argument_list|)
expr_stmt|;
break|break;
case|case
name|OPT_fdollars_in_identifiers
case|:
name|dollars_in_ident
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_fdump
case|:
if|if
condition|(
operator|!
name|on
operator|||
operator|!
name|dump_switch_p
argument_list|(
name|argv
index|[
literal|0
index|]
operator|+
name|strlen
argument_list|(
literal|"-f"
argument_list|)
argument_list|)
condition|)
name|result
operator|=
literal|0
expr_stmt|;
break|break;
case|case
name|OPT_ffreestanding
case|:
name|on
operator|=
operator|!
name|on
expr_stmt|;
comment|/* Fall through...  */
case|case
name|OPT_fhosted
case|:
name|flag_hosted
operator|=
name|on
expr_stmt|;
name|flag_no_builtin
operator|=
operator|!
name|on
expr_stmt|;
comment|/* warn_main will be 2 if set by -Wall, 1 if set by -Wmain */
if|if
condition|(
operator|!
name|on
operator|&&
name|warn_main
operator|==
literal|2
condition|)
name|warn_main
operator|=
literal|0
expr_stmt|;
break|break;
case|case
name|OPT_fshort_double
case|:
name|flag_short_double
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_fshort_enums
case|:
name|flag_short_enums
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_fshort_wchar
case|:
name|flag_short_wchar
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_fsigned_bitfields
case|:
name|flag_signed_bitfields
operator|=
name|on
expr_stmt|;
name|explicit_flag_signed_bitfields
operator|=
literal|1
expr_stmt|;
break|break;
case|case
name|OPT_fsigned_char
case|:
name|flag_signed_char
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_funsigned_bitfields
case|:
name|flag_signed_bitfields
operator|=
operator|!
name|on
expr_stmt|;
name|explicit_flag_signed_bitfields
operator|=
literal|1
expr_stmt|;
break|break;
case|case
name|OPT_funsigned_char
case|:
name|flag_signed_char
operator|=
operator|!
name|on
expr_stmt|;
break|break;
case|case
name|OPT_fcheck_new
case|:
name|flag_check_new
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_fconserve_space
case|:
name|flag_conserve_space
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_fconst_strings
case|:
name|flag_const_strings
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_fconstant_string_class
case|:
name|constant_string_class_name
operator|=
name|arg
expr_stmt|;
break|break;
case|case
name|OPT_fdefault_inline
case|:
name|flag_default_inline
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_felide_constructors
case|:
name|flag_elide_constructors
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_fenforce_eh_specs
case|:
name|flag_enforce_eh_specs
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_fexternal_templates
case|:
name|flag_external_templates
operator|=
name|on
expr_stmt|;
goto|goto
name|cp_deprecated
goto|;
case|case
name|OPT_ffixed_form
case|:
case|case
name|OPT_ffixed_line_length
case|:
comment|/* Fortran front end options ignored when preprocessing only.  */
if|if
condition|(
name|flag_preprocess_only
condition|)
name|result
operator|=
operator|-
literal|1
expr_stmt|;
break|break;
case|case
name|OPT_ffor_scope
case|:
name|flag_new_for_scope
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_fgnu_keywords
case|:
name|flag_no_gnu_keywords
operator|=
operator|!
name|on
expr_stmt|;
break|break;
case|case
name|OPT_fgnu_runtime
case|:
name|flag_next_runtime
operator|=
operator|!
name|on
expr_stmt|;
break|break;
case|case
name|OPT_fhandle_exceptions
case|:
name|warning
argument_list|(
literal|"-fhandle-exceptions has been renamed to -fexceptions (and is now on by default)"
argument_list|)
expr_stmt|;
name|flag_exceptions
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_fimplement_inlines
case|:
name|flag_implement_inlines
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_fimplicit_inline_templates
case|:
name|flag_implicit_inline_templates
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_fimplicit_templates
case|:
name|flag_implicit_templates
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_fms_extensions
case|:
name|flag_ms_extensions
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_fnext_runtime
case|:
name|flag_next_runtime
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_fnonansi_builtins
case|:
name|flag_no_nonansi_builtin
operator|=
operator|!
name|on
expr_stmt|;
break|break;
case|case
name|OPT_foperator_names
case|:
name|cpp_opts
operator|->
name|operator_names
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_foptional_diags
case|:
name|flag_optional_diags
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_fpermissive
case|:
name|flag_permissive
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_fpreprocessed
case|:
name|cpp_opts
operator|->
name|preprocessed
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_frepo
case|:
name|flag_use_repository
operator|=
name|on
expr_stmt|;
if|if
condition|(
name|on
condition|)
name|flag_implicit_templates
operator|=
literal|0
expr_stmt|;
break|break;
case|case
name|OPT_frtti
case|:
name|flag_rtti
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_fshow_column
case|:
name|cpp_opts
operator|->
name|show_column
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_fstats
case|:
name|flag_detailed_statistics
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_ftabstop
case|:
comment|/* Don't recognize -fno-tabstop=.  */
if|if
condition|(
operator|!
name|on
condition|)
return|return
literal|0
return|;
comment|/* It is documented that we silently ignore silly values.  */
block|{
name|char
modifier|*
name|endptr
decl_stmt|;
name|long
name|tabstop
init|=
name|strtol
argument_list|(
name|arg
argument_list|,
operator|&
name|endptr
argument_list|,
literal|10
argument_list|)
decl_stmt|;
if|if
condition|(
operator|*
name|endptr
operator|==
literal|'\0'
operator|&&
name|tabstop
operator|>=
literal|1
operator|&&
name|tabstop
operator|<=
literal|100
condition|)
name|cpp_opts
operator|->
name|tabstop
operator|=
name|tabstop
expr_stmt|;
block|}
break|break;
case|case
name|OPT_ftemplate_depth
case|:
name|max_tinst_depth
operator|=
name|read_integral_parameter
argument_list|(
name|arg
argument_list|,
name|argv
index|[
literal|0
index|]
argument_list|,
literal|0
argument_list|)
expr_stmt|;
break|break;
case|case
name|OPT_fvtable_gc
case|:
name|flag_vtable_gc
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_fuse_cxa_atexit
case|:
name|flag_use_cxa_atexit
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_fweak
case|:
name|flag_weak
operator|=
name|on
expr_stmt|;
break|break;
case|case
name|OPT_gen_decls
case|:
name|flag_gen_declaration
operator|=
literal|1
expr_stmt|;
break|break;
case|case
name|OPT_lang_asm
case|:
name|cpp_set_lang
argument_list|(
name|parse_in
argument_list|,
name|CLK_ASM
argument_list|)
expr_stmt|;
break|break;
case|case
name|OPT_lang_objc
case|:
name|cpp_opts
operator|->
name|objc
operator|=
literal|1
expr_stmt|;
break|break;
case|case
name|OPT_nostdinc
case|:
comment|/* No default include directories.  You must specify all 	 include-file directories with -I.  */
name|cpp_opts
operator|->
name|no_standard_includes
operator|=
literal|1
expr_stmt|;
break|break;
case|case
name|OPT_nostdincplusplus
case|:
comment|/* No default C++-specific include directories.  */
name|cpp_opts
operator|->
name|no_standard_cplusplus_includes
operator|=
literal|1
expr_stmt|;
break|break;
case|case
name|OPT_o
case|:
if|if
condition|(
operator|!
name|out_fname
condition|)
name|out_fname
operator|=
name|arg
expr_stmt|;
else|else
block|{
name|error
argument_list|(
literal|"output filename specified twice"
argument_list|)
expr_stmt|;
name|result
operator|=
name|argc
expr_stmt|;
block|}
break|break;
comment|/* We need to handle the -pedantic switches here, rather than in 	 c_common_post_options, so that a subsequent -Wno-endif-labels 	 is not overridden.  */
case|case
name|OPT_pedantic_errors
case|:
name|cpp_opts
operator|->
name|pedantic_errors
operator|=
literal|1
expr_stmt|;
comment|/* fall through */
case|case
name|OPT_pedantic
case|:
name|cpp_opts
operator|->
name|pedantic
operator|=
literal|1
expr_stmt|;
name|cpp_opts
operator|->
name|warn_endif_labels
operator|=
literal|1
expr_stmt|;
break|break;
case|case
name|OPT_print_objc_runtime_info
case|:
name|print_struct_values
operator|=
literal|1
expr_stmt|;
break|break;
case|case
name|OPT_remap
case|:
name|cpp_opts
operator|->
name|remap
operator|=
literal|1
expr_stmt|;
break|break;
case|case
name|OPT_std_cplusplus98
case|:
case|case
name|OPT_std_gnuplusplus98
case|:
name|set_std_cxx98
argument_list|(
name|code
operator|==
name|OPT_std_cplusplus98
comment|/* ISO */
argument_list|)
expr_stmt|;
break|break;
case|case
name|OPT_std_c89
case|:
case|case
name|OPT_std_iso9899_1990
case|:
case|case
name|OPT_std_iso9899_199409
case|:
name|set_std_c89
argument_list|(
name|code
operator|==
name|OPT_std_iso9899_199409
comment|/* c94 */
argument_list|,
name|true
comment|/* ISO */
argument_list|)
expr_stmt|;
break|break;
case|case
name|OPT_std_gnu89
case|:
name|set_std_c89
argument_list|(
name|false
comment|/* c94 */
argument_list|,
name|false
comment|/* ISO */
argument_list|)
expr_stmt|;
break|break;
case|case
name|OPT_std_c99
case|:
case|case
name|OPT_std_c9x
case|:
case|case
name|OPT_std_iso9899_1999
case|:
case|case
name|OPT_std_iso9899_199x
case|:
name|set_std_c99
argument_list|(
name|true
comment|/* ISO */
argument_list|)
expr_stmt|;
break|break;
case|case
name|OPT_std_gnu99
case|:
case|case
name|OPT_std_gnu9x
case|:
name|set_std_c99
argument_list|(
name|false
comment|/* ISO */
argument_list|)
expr_stmt|;
break|break;
case|case
name|OPT_trigraphs
case|:
name|cpp_opts
operator|->
name|trigraphs
operator|=
literal|1
expr_stmt|;
break|break;
case|case
name|OPT_traditional_cpp
case|:
name|cpp_opts
operator|->
name|traditional
operator|=
literal|1
expr_stmt|;
break|break;
case|case
name|OPT_undef
case|:
name|flag_undef
operator|=
literal|1
expr_stmt|;
break|break;
case|case
name|OPT_w
case|:
name|cpp_opts
operator|->
name|inhibit_warnings
operator|=
literal|1
expr_stmt|;
break|break;
case|case
name|OPT_v
case|:
name|cpp_opts
operator|->
name|verbose
operator|=
literal|1
expr_stmt|;
break|break;
block|}
name|done
label|:
if|if
condition|(
name|dup
condition|)
name|free
argument_list|(
name|dup
argument_list|)
expr_stmt|;
return|return
name|result
return|;
block|}
end_function

begin_comment
comment|/* Post-switch processing.  */
end_comment

begin_function
name|bool
name|c_common_post_options
parameter_list|()
block|{
comment|/* Canonicalize the input and output filenames.  */
if|if
condition|(
name|in_fname
operator|==
name|NULL
operator|||
operator|!
name|strcmp
argument_list|(
name|in_fname
argument_list|,
literal|"-"
argument_list|)
condition|)
name|in_fname
operator|=
literal|""
expr_stmt|;
if|if
condition|(
name|out_fname
operator|==
name|NULL
operator|||
operator|!
name|strcmp
argument_list|(
name|out_fname
argument_list|,
literal|"-"
argument_list|)
condition|)
name|out_fname
operator|=
literal|""
expr_stmt|;
if|if
condition|(
name|cpp_opts
operator|->
name|deps
operator|.
name|style
operator|==
name|DEPS_NONE
condition|)
name|check_deps_environment_vars
argument_list|()
expr_stmt|;
name|handle_deferred_opts
argument_list|()
expr_stmt|;
name|sanitize_cpp_opts
argument_list|()
expr_stmt|;
name|flag_inline_trees
operator|=
literal|1
expr_stmt|;
comment|/* Use tree inlining if possible.  Function instrumentation is only      done in the RTL level, so we disable tree inlining.  */
if|if
condition|(
operator|!
name|flag_instrument_function_entry_exit
condition|)
block|{
if|if
condition|(
operator|!
name|flag_no_inline
condition|)
name|flag_no_inline
operator|=
literal|1
expr_stmt|;
if|if
condition|(
name|flag_inline_functions
condition|)
block|{
name|flag_inline_trees
operator|=
literal|2
expr_stmt|;
name|flag_inline_functions
operator|=
literal|0
expr_stmt|;
block|}
block|}
comment|/* Special format checking options don't work without -Wformat; warn if      they are used.  */
if|if
condition|(
name|warn_format_y2k
operator|&&
operator|!
name|warn_format
condition|)
name|warning
argument_list|(
literal|"-Wformat-y2k ignored without -Wformat"
argument_list|)
expr_stmt|;
if|if
condition|(
name|warn_format_extra_args
operator|&&
operator|!
name|warn_format
condition|)
name|warning
argument_list|(
literal|"-Wformat-extra-args ignored without -Wformat"
argument_list|)
expr_stmt|;
if|if
condition|(
name|warn_format_zero_length
operator|&&
operator|!
name|warn_format
condition|)
name|warning
argument_list|(
literal|"-Wformat-zero-length ignored without -Wformat"
argument_list|)
expr_stmt|;
if|if
condition|(
name|warn_format_nonliteral
operator|&&
operator|!
name|warn_format
condition|)
name|warning
argument_list|(
literal|"-Wformat-nonliteral ignored without -Wformat"
argument_list|)
expr_stmt|;
if|if
condition|(
name|warn_format_security
operator|&&
operator|!
name|warn_format
condition|)
name|warning
argument_list|(
literal|"-Wformat-security ignored without -Wformat"
argument_list|)
expr_stmt|;
if|if
condition|(
name|warn_missing_format_attribute
operator|&&
operator|!
name|warn_format
condition|)
name|warning
argument_list|(
literal|"-Wmissing-format-attribute ignored without -Wformat"
argument_list|)
expr_stmt|;
comment|/* If an error has occurred in cpplib, note it so we fail      immediately.  */
name|errorcount
operator|+=
name|cpp_errors
argument_list|(
name|parse_in
argument_list|)
expr_stmt|;
return|return
name|flag_preprocess_only
return|;
block|}
end_function

begin_comment
comment|/* Preprocess the input file to out_stream.  */
end_comment

begin_function
specifier|static
name|void
name|preprocess_file
parameter_list|()
block|{
comment|/* Open the output now.  We must do so even if no_output is on,      because there may be other output than from the actual      preprocessing (e.g. from -dM).  */
if|if
condition|(
name|out_fname
index|[
literal|0
index|]
operator|==
literal|'\0'
condition|)
name|out_stream
operator|=
name|stdout
expr_stmt|;
else|else
name|out_stream
operator|=
name|fopen
argument_list|(
name|out_fname
argument_list|,
literal|"w"
argument_list|)
expr_stmt|;
if|if
condition|(
name|out_stream
operator|==
name|NULL
condition|)
name|fatal_io_error
argument_list|(
literal|"opening output file %s"
argument_list|,
name|out_fname
argument_list|)
expr_stmt|;
else|else
name|cpp_preprocess_file
argument_list|(
name|parse_in
argument_list|,
name|in_fname
argument_list|,
name|out_stream
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/* Front end initialization common to C, ObjC and C++.  */
end_comment

begin_function
specifier|const
name|char
modifier|*
name|c_common_init
parameter_list|(
name|filename
parameter_list|)
specifier|const
name|char
modifier|*
name|filename
decl_stmt|;
block|{
comment|/* Set up preprocessor arithmetic.  Must be done after call to      c_common_nodes_and_builtins for type nodes to be good.  */
name|cpp_opts
operator|->
name|precision
operator|=
name|TYPE_PRECISION
argument_list|(
name|intmax_type_node
argument_list|)
expr_stmt|;
name|cpp_opts
operator|->
name|char_precision
operator|=
name|TYPE_PRECISION
argument_list|(
name|char_type_node
argument_list|)
expr_stmt|;
name|cpp_opts
operator|->
name|int_precision
operator|=
name|TYPE_PRECISION
argument_list|(
name|integer_type_node
argument_list|)
expr_stmt|;
name|cpp_opts
operator|->
name|wchar_precision
operator|=
name|TYPE_PRECISION
argument_list|(
name|wchar_type_node
argument_list|)
expr_stmt|;
name|cpp_opts
operator|->
name|unsigned_wchar
operator|=
name|TREE_UNSIGNED
argument_list|(
name|wchar_type_node
argument_list|)
expr_stmt|;
comment|/* Register preprocessor built-ins before calls to      cpp_main_file.  */
name|cpp_get_callbacks
argument_list|(
name|parse_in
argument_list|)
operator|->
name|register_builtins
operator|=
name|cb_register_builtins
expr_stmt|;
comment|/* NULL is passed up to toplev.c and we exit quickly.  */
if|if
condition|(
name|flag_preprocess_only
condition|)
block|{
name|preprocess_file
argument_list|()
expr_stmt|;
return|return
name|NULL
return|;
block|}
comment|/* Do this before initializing pragmas, as then cpplib's hash table      has been set up.  NOTE: we are using our own file name here, not      the one supplied.  */
name|filename
operator|=
name|init_c_lex
argument_list|(
name|in_fname
argument_list|)
expr_stmt|;
name|init_pragma
argument_list|()
expr_stmt|;
return|return
name|filename
return|;
block|}
end_function

begin_comment
comment|/* Common finish hook for the C, ObjC and C++ front ends.  */
end_comment

begin_function
name|void
name|c_common_finish
parameter_list|()
block|{
name|FILE
modifier|*
name|deps_stream
init|=
name|NULL
decl_stmt|;
if|if
condition|(
name|cpp_opts
operator|->
name|deps
operator|.
name|style
operator|!=
name|DEPS_NONE
condition|)
block|{
comment|/* If -M or -MM was seen without -MF, default output to the 	 output stream.  */
if|if
condition|(
operator|!
name|deps_file
condition|)
name|deps_stream
operator|=
name|out_stream
expr_stmt|;
else|else
block|{
name|deps_stream
operator|=
name|fopen
argument_list|(
name|deps_file
argument_list|,
name|deps_append
condition|?
literal|"a"
else|:
literal|"w"
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|deps_stream
condition|)
name|fatal_io_error
argument_list|(
literal|"opening dependency file %s"
argument_list|,
name|deps_file
argument_list|)
expr_stmt|;
block|}
block|}
comment|/* For performance, avoid tearing down cpplib's internal structures      with cpp_destroy ().  */
name|errorcount
operator|+=
name|cpp_finish
argument_list|(
name|parse_in
argument_list|,
name|deps_stream
argument_list|)
expr_stmt|;
if|if
condition|(
name|deps_stream
operator|&&
name|deps_stream
operator|!=
name|out_stream
operator|&&
operator|(
name|ferror
argument_list|(
name|deps_stream
argument_list|)
operator|||
name|fclose
argument_list|(
name|deps_stream
argument_list|)
operator|)
condition|)
name|fatal_io_error
argument_list|(
literal|"closing dependency file %s"
argument_list|,
name|deps_file
argument_list|)
expr_stmt|;
if|if
condition|(
name|out_stream
operator|&&
operator|(
name|ferror
argument_list|(
name|out_stream
argument_list|)
operator|||
name|fclose
argument_list|(
name|out_stream
argument_list|)
operator|)
condition|)
name|fatal_io_error
argument_list|(
literal|"when writing output to %s"
argument_list|,
name|out_fname
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/* Either of two environment variables can specify output of    dependencies.  Their value is either "OUTPUT_FILE" or "OUTPUT_FILE    DEPS_TARGET", where OUTPUT_FILE is the file to write deps info to    and DEPS_TARGET is the target to mention in the deps.  They also    result in dependency information being appended to the output file    rather than overwriting it, and like Sun's compiler    SUNPRO_DEPENDENCIES suppresses the dependency on the main file.  */
end_comment

begin_function
specifier|static
name|void
name|check_deps_environment_vars
parameter_list|()
block|{
name|char
modifier|*
name|spec
decl_stmt|;
name|GET_ENVIRONMENT
argument_list|(
name|spec
argument_list|,
literal|"DEPENDENCIES_OUTPUT"
argument_list|)
expr_stmt|;
if|if
condition|(
name|spec
condition|)
name|cpp_opts
operator|->
name|deps
operator|.
name|style
operator|=
name|DEPS_USER
expr_stmt|;
else|else
block|{
name|GET_ENVIRONMENT
argument_list|(
name|spec
argument_list|,
literal|"SUNPRO_DEPENDENCIES"
argument_list|)
expr_stmt|;
if|if
condition|(
name|spec
condition|)
block|{
name|cpp_opts
operator|->
name|deps
operator|.
name|style
operator|=
name|DEPS_SYSTEM
expr_stmt|;
name|cpp_opts
operator|->
name|deps
operator|.
name|ignore_main_file
operator|=
name|true
expr_stmt|;
block|}
block|}
if|if
condition|(
name|spec
condition|)
block|{
comment|/* Find the space before the DEPS_TARGET, if there is one.  */
name|char
modifier|*
name|s
init|=
name|strchr
argument_list|(
name|spec
argument_list|,
literal|' '
argument_list|)
decl_stmt|;
if|if
condition|(
name|s
condition|)
block|{
comment|/* Let the caller perform MAKE quoting.  */
name|defer_opt
argument_list|(
name|OPT_MT
argument_list|,
name|s
operator|+
literal|1
argument_list|)
expr_stmt|;
operator|*
name|s
operator|=
literal|'\0'
expr_stmt|;
block|}
comment|/* Command line -MF overrides environment variables and default.  */
if|if
condition|(
operator|!
name|deps_file
condition|)
name|deps_file
operator|=
name|spec
expr_stmt|;
name|deps_append
operator|=
literal|1
expr_stmt|;
block|}
block|}
end_function

begin_comment
comment|/* Handle deferred command line switches.  */
end_comment

begin_function
specifier|static
name|void
name|handle_deferred_opts
parameter_list|()
block|{
name|size_t
name|i
decl_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|deferred_count
condition|;
name|i
operator|++
control|)
block|{
name|struct
name|deferred_opt
modifier|*
name|opt
init|=
operator|&
name|deferred_opts
index|[
name|i
index|]
decl_stmt|;
switch|switch
condition|(
name|opt
operator|->
name|code
condition|)
block|{
case|case
name|OPT_MT
case|:
case|case
name|OPT_MQ
case|:
name|cpp_add_dependency_target
argument_list|(
name|parse_in
argument_list|,
name|opt
operator|->
name|arg
argument_list|,
name|opt
operator|->
name|code
operator|==
name|OPT_MQ
argument_list|)
expr_stmt|;
break|break;
default|default:
name|abort
argument_list|()
expr_stmt|;
block|}
block|}
name|free
argument_list|(
name|deferred_opts
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/* These settings are appropriate for GCC, but not necessarily so for    cpplib as a library.  */
end_comment

begin_function
specifier|static
name|void
name|sanitize_cpp_opts
parameter_list|()
block|{
comment|/* If we don't know what style of dependencies to output, complain      if any other dependency switches have been given.  */
if|if
condition|(
name|deps_seen
operator|&&
name|cpp_opts
operator|->
name|deps
operator|.
name|style
operator|==
name|DEPS_NONE
condition|)
name|error
argument_list|(
literal|"to generate dependencies you must specify either -M or -MM"
argument_list|)
expr_stmt|;
comment|/* -dM and dependencies suppress normal output; do it here so that      the last -d[MDN] switch overrides earlier ones.  */
if|if
condition|(
name|cpp_opts
operator|->
name|dump_macros
operator|==
name|dump_only
condition|)
name|cpp_opts
operator|->
name|no_output
operator|=
literal|1
expr_stmt|;
comment|/* Disable -dD, -dN and -dI if normal output is suppressed.  Allow      -dM since at least glibc relies on -M -dM to work.  */
if|if
condition|(
name|cpp_opts
operator|->
name|no_output
condition|)
block|{
if|if
condition|(
name|cpp_opts
operator|->
name|dump_macros
operator|!=
name|dump_only
condition|)
name|cpp_opts
operator|->
name|dump_macros
operator|=
name|dump_none
expr_stmt|;
name|cpp_opts
operator|->
name|dump_includes
operator|=
literal|0
expr_stmt|;
block|}
name|cpp_opts
operator|->
name|unsigned_char
operator|=
operator|!
name|flag_signed_char
expr_stmt|;
name|cpp_opts
operator|->
name|stdc_0_in_system_headers
operator|=
name|STDC_0_IN_SYSTEM_HEADERS
expr_stmt|;
comment|/* We want -Wno-long-long to override -pedantic -std=non-c99      and/or -Wtraditional, whatever the ordering.  */
name|cpp_opts
operator|->
name|warn_long_long
operator|=
name|warn_long_long
operator|&&
operator|(
operator|(
operator|!
name|flag_isoc99
operator|&&
name|pedantic
operator|)
operator|||
name|warn_traditional
operator|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/* Set the C 89 standard (with 1994 amendments if C94, without GNU    extensions if ISO).  There is no concept of gnu94.  */
end_comment

begin_function
specifier|static
name|void
name|set_std_c89
parameter_list|(
name|c94
parameter_list|,
name|iso
parameter_list|)
name|int
name|c94
decl_stmt|,
name|iso
decl_stmt|;
block|{
name|cpp_set_lang
argument_list|(
name|parse_in
argument_list|,
name|c94
condition|?
name|CLK_STDC94
else|:
name|iso
condition|?
name|CLK_STDC89
else|:
name|CLK_GNUC89
argument_list|)
expr_stmt|;
name|flag_iso
operator|=
name|iso
expr_stmt|;
name|flag_no_asm
operator|=
name|iso
expr_stmt|;
name|flag_no_gnu_keywords
operator|=
name|iso
expr_stmt|;
name|flag_no_nonansi_builtin
operator|=
name|iso
expr_stmt|;
name|flag_noniso_default_format_attributes
operator|=
operator|!
name|iso
expr_stmt|;
name|flag_isoc94
operator|=
name|c94
expr_stmt|;
name|flag_isoc99
operator|=
literal|0
expr_stmt|;
name|flag_writable_strings
operator|=
literal|0
expr_stmt|;
block|}
end_function

begin_comment
comment|/* Set the C 99 standard (without GNU extensions if ISO).  */
end_comment

begin_function
specifier|static
name|void
name|set_std_c99
parameter_list|(
name|iso
parameter_list|)
name|int
name|iso
decl_stmt|;
block|{
name|cpp_set_lang
argument_list|(
name|parse_in
argument_list|,
name|iso
condition|?
name|CLK_STDC99
else|:
name|CLK_GNUC99
argument_list|)
expr_stmt|;
name|flag_no_asm
operator|=
name|iso
expr_stmt|;
name|flag_no_nonansi_builtin
operator|=
name|iso
expr_stmt|;
name|flag_noniso_default_format_attributes
operator|=
operator|!
name|iso
expr_stmt|;
name|flag_iso
operator|=
name|iso
expr_stmt|;
name|flag_isoc99
operator|=
literal|1
expr_stmt|;
name|flag_isoc94
operator|=
literal|1
expr_stmt|;
name|flag_writable_strings
operator|=
literal|0
expr_stmt|;
block|}
end_function

begin_comment
comment|/* Set the C++ 98 standard (without GNU extensions if ISO).  */
end_comment

begin_function
specifier|static
name|void
name|set_std_cxx98
parameter_list|(
name|iso
parameter_list|)
name|int
name|iso
decl_stmt|;
block|{
name|cpp_set_lang
argument_list|(
name|parse_in
argument_list|,
name|iso
condition|?
name|CLK_CXX98
else|:
name|CLK_GNUCXX
argument_list|)
expr_stmt|;
name|flag_no_gnu_keywords
operator|=
name|iso
expr_stmt|;
name|flag_no_nonansi_builtin
operator|=
name|iso
expr_stmt|;
name|flag_noniso_default_format_attributes
operator|=
operator|!
name|iso
expr_stmt|;
name|flag_iso
operator|=
name|iso
expr_stmt|;
block|}
end_function

begin_comment
comment|/* Handle setting implicit to ON.  */
end_comment

begin_function
specifier|static
name|void
name|set_Wimplicit
parameter_list|(
name|on
parameter_list|)
name|int
name|on
decl_stmt|;
block|{
name|warn_implicit
operator|=
name|on
expr_stmt|;
name|warn_implicit_int
operator|=
name|on
expr_stmt|;
if|if
condition|(
name|on
condition|)
block|{
if|if
condition|(
name|mesg_implicit_function_declaration
operator|!=
literal|2
condition|)
name|mesg_implicit_function_declaration
operator|=
literal|1
expr_stmt|;
block|}
else|else
name|mesg_implicit_function_declaration
operator|=
literal|0
expr_stmt|;
block|}
end_function

begin_comment
comment|/* Args to -d specify what to dump.  Silently ignore    unrecognized options; they may be aimed at toplev.c.  */
end_comment

begin_function
specifier|static
name|void
name|handle_OPT_d
parameter_list|(
name|arg
parameter_list|)
specifier|const
name|char
modifier|*
name|arg
decl_stmt|;
block|{
name|char
name|c
decl_stmt|;
while|while
condition|(
operator|(
name|c
operator|=
operator|*
name|arg
operator|++
operator|)
operator|!=
literal|'\0'
condition|)
switch|switch
condition|(
name|c
condition|)
block|{
case|case
literal|'M'
case|:
name|cpp_opts
operator|->
name|dump_macros
operator|=
name|dump_only
expr_stmt|;
break|break;
case|case
literal|'N'
case|:
name|cpp_opts
operator|->
name|dump_macros
operator|=
name|dump_names
expr_stmt|;
break|break;
case|case
literal|'D'
case|:
name|cpp_opts
operator|->
name|dump_macros
operator|=
name|dump_definitions
expr_stmt|;
break|break;
case|case
literal|'I'
case|:
name|cpp_opts
operator|->
name|dump_includes
operator|=
literal|1
expr_stmt|;
break|break;
block|}
block|}
end_function

begin_comment
comment|/* Write a slash-separated list of languages in FLAGS to BUF.  */
end_comment

begin_function
specifier|static
name|void
name|write_langs
parameter_list|(
name|buf
parameter_list|,
name|flags
parameter_list|)
name|char
modifier|*
name|buf
decl_stmt|;
name|int
name|flags
decl_stmt|;
block|{
operator|*
name|buf
operator|=
literal|'\0'
expr_stmt|;
if|if
condition|(
name|flags
operator|&
name|CL_C_ONLY
condition|)
name|strcat
argument_list|(
name|buf
argument_list|,
literal|"C"
argument_list|)
expr_stmt|;
if|if
condition|(
name|flags
operator|&
name|CL_OBJC_ONLY
condition|)
block|{
if|if
condition|(
operator|*
name|buf
condition|)
name|strcat
argument_list|(
name|buf
argument_list|,
literal|"/"
argument_list|)
expr_stmt|;
name|strcat
argument_list|(
name|buf
argument_list|,
literal|"ObjC"
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
name|flags
operator|&
name|CL_CXX_ONLY
condition|)
block|{
if|if
condition|(
operator|*
name|buf
condition|)
name|strcat
argument_list|(
name|buf
argument_list|,
literal|"/"
argument_list|)
expr_stmt|;
name|strcat
argument_list|(
name|buf
argument_list|,
literal|"C++"
argument_list|)
expr_stmt|;
block|}
block|}
end_function

begin_comment
comment|/* Complain that switch OPT_INDEX does not apply to this front end.  */
end_comment

begin_function
specifier|static
name|void
name|complain_wrong_lang
parameter_list|(
name|opt_index
parameter_list|,
name|on
parameter_list|)
name|size_t
name|opt_index
decl_stmt|;
name|int
name|on
decl_stmt|;
block|{
name|char
name|ok_langs
index|[
literal|60
index|]
decl_stmt|,
name|bad_langs
index|[
literal|60
index|]
decl_stmt|;
name|int
name|ok_flags
init|=
name|cl_options
index|[
name|opt_index
index|]
operator|.
name|flags
decl_stmt|;
name|write_langs
argument_list|(
name|ok_langs
argument_list|,
name|ok_flags
argument_list|)
expr_stmt|;
name|write_langs
argument_list|(
name|bad_langs
argument_list|,
operator|~
name|ok_flags
argument_list|)
expr_stmt|;
name|warning
argument_list|(
literal|"\"-%c%s%s\" is valid for %s but not for %s"
argument_list|,
name|cl_options
index|[
name|opt_index
index|]
operator|.
name|opt_text
index|[
literal|0
index|]
argument_list|,
name|on
condition|?
literal|""
else|:
literal|"no-"
argument_list|,
name|cl_options
index|[
name|opt_index
index|]
operator|.
name|opt_text
operator|+
literal|1
argument_list|,
name|ok_langs
argument_list|,
name|bad_langs
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/* Handle --help output.  */
end_comment

begin_function
specifier|static
name|void
name|print_help
parameter_list|()
block|{
comment|/* To keep the lines from getting too long for some compilers, limit      to about 500 characters (6 lines) per chunk.  */
name|fputs
argument_list|(
name|_
argument_list|(
literal|"\ Switches:\n\   -include<file>           Include the contents of<file> before other files\n\   -imacros<file>           Accept definition of macros in<file>\n\   -iprefix<path>           Specify<path> as a prefix for next two options\n\   -iwithprefix<dir>        Add<dir> to the end of the system include path\n\   -iwithprefixbefore<dir>  Add<dir> to the end of the main include path\n\   -isystem<dir>            Add<dir> to the start of the system include path\n\ "
argument_list|)
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
name|_
argument_list|(
literal|"\   -idirafter<dir>          Add<dir> to the end of the system include path\n\   -I<dir>                  Add<dir> to the end of the main include path\n\   -I-                       Fine-grained include path control; see info docs\n\   -nostdinc                 Do not search system include directories\n\                              (dirs specified with -isystem will still be used)\n\   -nostdinc++               Do not search system include directories for C++\n\   -o<file>                 Put output into<file>\n\ "
argument_list|)
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
name|_
argument_list|(
literal|"\   -trigraphs                Support ISO C trigraphs\n\   -std=<std name>           Specify the conformance standard; one of:\n\                             gnu89, gnu99, c89, c99, iso9899:1990,\n\                             iso9899:199409, iso9899:1999, c++98\n\   -w                        Inhibit warning messages\n\   -W[no-]trigraphs          Warn if trigraphs are encountered\n\   -W[no-]comment{s}         Warn if one comment starts inside another\n\ "
argument_list|)
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
name|_
argument_list|(
literal|"\   -W[no-]traditional        Warn about features not present in traditional C\n\   -W[no-]undef              Warn if an undefined macro is used by #if\n\   -W[no-]import             Warn about the use of the #import directive\n\ "
argument_list|)
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
name|_
argument_list|(
literal|"\   -W[no-]error              Treat all warnings as errors\n\   -W[no-]system-headers     Do not suppress warnings from system headers\n\   -W[no-]all                Enable most preprocessor warnings\n\ "
argument_list|)
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
name|_
argument_list|(
literal|"\   -M                        Generate make dependencies\n\   -MM                       As -M, but ignore system header files\n\   -MD                       Generate make dependencies and compile\n\   -MMD                      As -MD, but ignore system header files\n\   -MF<file>                Write dependency output to the given file\n\   -MG                       Treat missing header file as generated files\n\ "
argument_list|)
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
name|_
argument_list|(
literal|"\   -MP			    Generate phony targets for all headers\n\   -MQ<target>              Add a MAKE-quoted target\n\   -MT<target>              Add an unquoted target\n\ "
argument_list|)
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
name|_
argument_list|(
literal|"\   -D<macro>                 Define a<macro> with string '1' as its value\n\   -D<macro>=<val>           Define a<macro> with<val> as its value\n\   -A<question>=<answer>     Assert the<answer> to<question>\n\   -A-<question>=<answer>    Disable the<answer> to<question>\n\   -U<macro>                 Undefine<macro> \n\   -v                        Display the version number\n\ "
argument_list|)
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
name|_
argument_list|(
literal|"\   -H                        Print the name of header files as they are used\n\   -C                        Do not discard comments\n\   -dM                       Display a list of macro definitions active at end\n\   -dD                       Preserve macro definitions in output\n\   -dN                       As -dD except that only the names are preserved\n\   -dI                       Include #include directives in the output\n\ "
argument_list|)
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
name|_
argument_list|(
literal|"\   -f[no-]preprocessed       Treat the input file as already preprocessed\n\   -ftabstop=<number>        Distance between tab stops for column reporting\n\   -P                        Do not generate #line directives\n\   -remap                    Remap file names when including files\n\   --help                    Display this information\n\ "
argument_list|)
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
block|}
end_function

end_unit

