begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* POSIX threads dummy routines for systems without weak definitions.  */
end_comment

begin_comment
comment|/* Compile this one with gcc.  */
end_comment

begin_comment
comment|/* Copyright (C) 2003 Free Software Foundation, Inc.  This file is part of GCC.  GCC is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2, or (at your option) any later version.  GCC is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.  You should have received a copy of the GNU General Public License along with GCC; see the file COPYING.  If not, write to the Free Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  */
end_comment

begin_comment
comment|/* As a special exception, if you link this library with other files,    some of which are compiled with GCC, to produce an executable,    this library does not by itself cause the resulting executable    to be covered by the GNU General Public License.    This exception does not however invalidate any other reasons why    the executable file might be covered by the GNU General Public License.  */
end_comment

begin_include
include|#
directive|include
file|"tconfig.h"
end_include

begin_include
include|#
directive|include
file|"tm.h"
end_include

begin_comment
comment|/* Define so we provide weak definitions of functions used by libobjc only.  */
end_comment

begin_define
define|#
directive|define
name|_LIBOBJC_WEAK
end_define

begin_include
include|#
directive|include
file|"gthr.h"
end_include

begin_decl_stmt
name|int
name|pthread_once
argument_list|(
name|pthread_once_t
operator|*
name|once
name|ATTRIBUTE_UNUSED
argument_list|,
name|void
argument_list|(
argument|*func
argument_list|)
operator|(
name|void
operator|)
name|ATTRIBUTE_UNUSED
argument_list|)
block|{
return|return
operator|-
literal|1
return|;
block|}
end_decl_stmt

begin_decl_stmt
name|int
name|pthread_key_create
argument_list|(
name|pthread_key_t
operator|*
name|key
name|ATTRIBUTE_UNUSED
argument_list|,
name|void
argument_list|(
argument|*dtor
argument_list|)
operator|(
name|void
operator|*
operator|)
name|ATTRIBUTE_UNUSED
argument_list|)
block|{
return|return
operator|-
literal|1
return|;
block|}
end_decl_stmt

begin_function
name|int
name|pthread_key_delete
parameter_list|(
name|pthread_key_t
name|key
name|ATTRIBUTE_UNUSED
parameter_list|)
block|{
return|return
literal|0
return|;
block|}
end_function

begin_function
name|void
modifier|*
name|pthread_getspecific
parameter_list|(
name|pthread_key_t
name|key
name|ATTRIBUTE_UNUSED
parameter_list|)
block|{
return|return
literal|0
return|;
block|}
end_function

begin_function
name|int
name|pthread_setspecific
parameter_list|(
name|pthread_key_t
name|key
name|ATTRIBUTE_UNUSED
parameter_list|,
specifier|const
name|void
modifier|*
name|ptr
name|ATTRIBUTE_UNUSED
parameter_list|)
block|{
return|return
literal|0
return|;
block|}
end_function

begin_decl_stmt
name|int
name|pthread_create
argument_list|(
name|pthread_t
operator|*
name|thread
name|ATTRIBUTE_UNUSED
argument_list|,
specifier|const
name|pthread_attr_t
operator|*
name|attr
name|ATTRIBUTE_UNUSED
argument_list|,
name|void
operator|*
operator|(
operator|*
name|start_routine
operator|)
operator|(
name|void
operator|*
operator|)
name|ATTRIBUTE_UNUSED
argument_list|,
name|void
operator|*
name|arg
name|ATTRIBUTE_UNUSED
argument_list|)
block|{
return|return
literal|0
return|;
block|}
end_decl_stmt

begin_function
name|int
name|pthread_mutex_lock
parameter_list|(
name|pthread_mutex_t
modifier|*
name|mutex
name|ATTRIBUTE_UNUSED
parameter_list|)
block|{
return|return
literal|0
return|;
block|}
end_function

begin_function
name|int
name|pthread_mutex_trylock
parameter_list|(
name|pthread_mutex_t
modifier|*
name|mutex
name|ATTRIBUTE_UNUSED
parameter_list|)
block|{
return|return
literal|0
return|;
block|}
end_function

begin_function
name|int
name|pthread_mutex_unlock
parameter_list|(
name|pthread_mutex_t
modifier|*
name|mutex
name|ATTRIBUTE_UNUSED
parameter_list|)
block|{
return|return
literal|0
return|;
block|}
end_function

begin_function
name|int
name|pthread_cond_broadcast
parameter_list|(
name|pthread_cond_t
modifier|*
name|cond
name|ATTRIBUTE_UNUSED
parameter_list|)
block|{
return|return
literal|0
return|;
block|}
end_function

begin_function
name|int
name|pthread_cond_destroy
parameter_list|(
name|pthread_cond_t
modifier|*
name|cond
name|ATTRIBUTE_UNUSED
parameter_list|)
block|{
return|return
literal|0
return|;
block|}
end_function

begin_function
name|int
name|pthread_cond_init
parameter_list|(
name|pthread_cond_t
modifier|*
name|cond
name|ATTRIBUTE_UNUSED
parameter_list|,
specifier|const
name|pthread_condattr_t
modifier|*
name|attr
name|ATTRIBUTE_UNUSED
parameter_list|)
block|{
return|return
literal|0
return|;
block|}
end_function

begin_function
name|int
name|pthread_cond_signal
parameter_list|(
name|pthread_cond_t
modifier|*
name|cond
name|ATTRIBUTE_UNUSED
parameter_list|)
block|{
return|return
literal|0
return|;
block|}
end_function

begin_function
name|int
name|pthread_cond_wait
parameter_list|(
name|pthread_cond_t
modifier|*
name|cond
name|ATTRIBUTE_UNUSED
parameter_list|,
name|pthread_mutex_t
modifier|*
name|mutex
name|ATTRIBUTE_UNUSED
parameter_list|)
block|{
return|return
literal|0
return|;
block|}
end_function

begin_function
name|void
name|pthread_exit
parameter_list|(
name|void
modifier|*
name|value_ptr
name|ATTRIBUTE_UNUSED
parameter_list|)
block|{ }
end_function

begin_function
name|int
name|pthread_mutex_init
parameter_list|(
name|pthread_mutex_t
modifier|*
name|mutex
name|ATTRIBUTE_UNUSED
parameter_list|,
specifier|const
name|pthread_mutexattr_t
modifier|*
name|attr
name|ATTRIBUTE_UNUSED
parameter_list|)
block|{
return|return
literal|0
return|;
block|}
end_function

begin_function
name|int
name|pthread_mutex_destroy
parameter_list|(
name|pthread_mutex_t
modifier|*
name|mutex
name|ATTRIBUTE_UNUSED
parameter_list|)
block|{
return|return
literal|0
return|;
block|}
end_function

begin_function
name|pthread_t
name|pthread_self
parameter_list|(
name|void
parameter_list|)
block|{
return|return
operator|(
name|pthread_t
operator|)
literal|0
return|;
block|}
end_function

begin_ifdef
ifdef|#
directive|ifdef
name|_POSIX_THREAD_PRIORITY_SCHEDULING
end_ifdef

begin_function
name|int
name|sched_get_priority_max
parameter_list|(
name|int
name|policy
name|ATTRIBUTE_UNUSED
parameter_list|)
block|{
return|return
literal|0
return|;
block|}
end_function

begin_function
name|int
name|sched_get_priority_min
parameter_list|(
name|int
name|policy
name|ATTRIBUTE_UNUSED
parameter_list|)
block|{
return|return
literal|0
return|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* _POSIX_THREAD_PRIORITY_SCHEDULING */
end_comment

begin_function
name|int
name|sched_yield
parameter_list|(
name|void
parameter_list|)
block|{
return|return
literal|0
return|;
block|}
end_function

begin_function
name|int
name|pthread_attr_destroy
parameter_list|(
name|pthread_attr_t
modifier|*
name|attr
name|ATTRIBUTE_UNUSED
parameter_list|)
block|{
return|return
literal|0
return|;
block|}
end_function

begin_function
name|int
name|pthread_attr_init
parameter_list|(
name|pthread_attr_t
modifier|*
name|attr
name|ATTRIBUTE_UNUSED
parameter_list|)
block|{
return|return
literal|0
return|;
block|}
end_function

begin_function
name|int
name|pthread_attr_setdetachstate
parameter_list|(
name|pthread_attr_t
modifier|*
name|attr
name|ATTRIBUTE_UNUSED
parameter_list|,
name|int
name|detachstate
name|ATTRIBUTE_UNUSED
parameter_list|)
block|{
return|return
literal|0
return|;
block|}
end_function

begin_ifdef
ifdef|#
directive|ifdef
name|_POSIX_THREAD_PRIORITY_SCHEDULING
end_ifdef

begin_function
name|int
name|pthread_getschedparam
parameter_list|(
name|pthread_t
name|thread
name|ATTRIBUTE_UNUSED
parameter_list|,
name|int
modifier|*
name|policy
name|ATTRIBUTE_UNUSED
parameter_list|,
name|struct
name|sched_param
modifier|*
name|param
name|ATTRIBUTE_UNUSED
parameter_list|)
block|{
return|return
literal|0
return|;
block|}
end_function

begin_function
name|int
name|pthread_setschedparam
parameter_list|(
name|pthread_t
name|thread
name|ATTRIBUTE_UNUSED
parameter_list|,
name|int
name|policy
name|ATTRIBUTE_UNUSED
parameter_list|,
specifier|const
name|struct
name|sched_param
modifier|*
name|param
name|ATTRIBUTE_UNUSED
parameter_list|)
block|{
return|return
literal|0
return|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* _POSIX_THREAD_PRIORITY_SCHEDULING */
end_comment

end_unit

