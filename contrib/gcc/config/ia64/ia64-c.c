begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* Definitions of C specific functions for GNU compiler.    Copyright (C) 2002, 2003 Free Software Foundation, Inc.    Contributed by Steve Ellcey<sje@cup.hp.com>  This file is part of GCC.  GCC is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2, or (at your option) any later version.  GCC is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.  You should have received a copy of the GNU General Public License along with GCC; see the file COPYING.  If not, write to the Free Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  */
end_comment

begin_include
include|#
directive|include
file|"config.h"
end_include

begin_include
include|#
directive|include
file|"system.h"
end_include

begin_include
include|#
directive|include
file|"coretypes.h"
end_include

begin_include
include|#
directive|include
file|"tm.h"
end_include

begin_include
include|#
directive|include
file|"tree.h"
end_include

begin_include
include|#
directive|include
file|"cpplib.h"
end_include

begin_include
include|#
directive|include
file|"c-common.h"
end_include

begin_include
include|#
directive|include
file|"c-pragma.h"
end_include

begin_include
include|#
directive|include
file|"toplev.h"
end_include

begin_include
include|#
directive|include
file|"tm_p.h"
end_include

begin_function_decl
specifier|static
name|void
name|ia64_hpux_add_pragma_builtin
parameter_list|(
name|tree
name|func
parameter_list|)
function_decl|;
end_function_decl

begin_function
name|void
name|ia64_hpux_handle_builtin_pragma
parameter_list|(
name|cpp_reader
modifier|*
name|pfile
name|ATTRIBUTE_UNUSED
parameter_list|)
block|{
comment|/* #pragma builtin name, name, name */
name|enum
name|cpp_ttype
name|type
decl_stmt|;
name|tree
name|x
decl_stmt|;
name|type
operator|=
name|c_lex
argument_list|(
operator|&
name|x
argument_list|)
expr_stmt|;
while|while
condition|(
name|type
operator|==
name|CPP_NAME
condition|)
block|{
name|ia64_hpux_add_pragma_builtin
argument_list|(
name|x
argument_list|)
expr_stmt|;
name|type
operator|=
name|c_lex
argument_list|(
operator|&
name|x
argument_list|)
expr_stmt|;
if|if
condition|(
name|type
operator|==
name|CPP_COMMA
condition|)
name|type
operator|=
name|c_lex
argument_list|(
operator|&
name|x
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
name|type
operator|!=
name|CPP_EOF
condition|)
name|warning
argument_list|(
literal|"malformed #pragma builtin"
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/* List of standard math functions which do not set matherr by default    and which have a different version which does set errno and which we    want to call *if* we have seen an extern for the routine and we have    asked for strict C89 compatibility.  */
end_comment

begin_typedef
typedef|typedef
struct|struct
name|c89_mathlib_names
block|{
specifier|const
name|char
modifier|*
name|realname
decl_stmt|;
comment|/* User visible function name.  */
specifier|const
name|char
modifier|*
name|c89name
decl_stmt|;
comment|/* libm special name needed to set errno. */
block|}
name|c89_mathlib_names
typedef|;
end_typedef

begin_decl_stmt
specifier|static
specifier|const
name|c89_mathlib_names
name|c89_mathlib_name_list
index|[]
init|=
block|{
block|{
literal|"acos"
block|,
literal|"_Acos_e#"
block|}
block|,
block|{
literal|"acosd"
block|,
literal|"_Acosd_e#"
block|}
block|,
block|{
literal|"acosdf"
block|,
literal|"_Acosdf_e#"
block|}
block|,
block|{
literal|"acosdl"
block|,
literal|"_Acosdl_e#"
block|}
block|,
block|{
literal|"acosdw"
block|,
literal|"_Acosdw_e#"
block|}
block|,
block|{
literal|"acosf"
block|,
literal|"_Acosf_e#"
block|}
block|,
block|{
literal|"acosh"
block|,
literal|"_Acosh_e#"
block|}
block|,
block|{
literal|"acoshf"
block|,
literal|"_Acoshf_e#"
block|}
block|,
block|{
literal|"acoshl"
block|,
literal|"_Acoshl_e#"
block|}
block|,
block|{
literal|"acoshw"
block|,
literal|"_Acoshw_e#"
block|}
block|,
block|{
literal|"acosl"
block|,
literal|"_Acosl_e#"
block|}
block|,
block|{
literal|"acosw"
block|,
literal|"_Acosw_e#"
block|}
block|,
block|{
literal|"asin"
block|,
literal|"_Asin_e#"
block|}
block|,
block|{
literal|"asind"
block|,
literal|"_Asind_e#"
block|}
block|,
block|{
literal|"asindf"
block|,
literal|"_Asindf_e#"
block|}
block|,
block|{
literal|"asindl"
block|,
literal|"_Asindl_e#"
block|}
block|,
block|{
literal|"asindw"
block|,
literal|"_Asindw_e#"
block|}
block|,
block|{
literal|"asinf"
block|,
literal|"_Asinf_e#"
block|}
block|,
block|{
literal|"asinl"
block|,
literal|"_Asinl_e#"
block|}
block|,
block|{
literal|"asinw"
block|,
literal|"_Asinw_e#"
block|}
block|,
block|{
literal|"atanh"
block|,
literal|"_Atanh_e#"
block|}
block|,
block|{
literal|"atanhf"
block|,
literal|"_Atanhf_e#"
block|}
block|,
block|{
literal|"atanhl"
block|,
literal|"_Atanhl_e#"
block|}
block|,
block|{
literal|"atanhw"
block|,
literal|"_Atanhw_e#"
block|}
block|,
block|{
literal|"cosh"
block|,
literal|"_Cosh_e#"
block|}
block|,
block|{
literal|"coshf"
block|,
literal|"_Coshf_e#"
block|}
block|,
block|{
literal|"coshl"
block|,
literal|"_Coshl_e#"
block|}
block|,
block|{
literal|"coshw"
block|,
literal|"_Coshw_e#"
block|}
block|,
block|{
literal|"exp2"
block|,
literal|"_Exp2_e#"
block|}
block|,
block|{
literal|"exp2f"
block|,
literal|"_Exp2f_e#"
block|}
block|,
block|{
literal|"exp2l"
block|,
literal|"_Exp2l_e#"
block|}
block|,
block|{
literal|"exp2w"
block|,
literal|"_Exp2w_e#"
block|}
block|,
block|{
literal|"exp"
block|,
literal|"_Exp_e#"
block|}
block|,
block|{
literal|"expf"
block|,
literal|"_Expf_e#"
block|}
block|,
block|{
literal|"expl"
block|,
literal|"_Expl_e#"
block|}
block|,
block|{
literal|"expm1"
block|,
literal|"_Expm1_e#"
block|}
block|,
block|{
literal|"expm1f"
block|,
literal|"_Expm1f_e#"
block|}
block|,
block|{
literal|"expm1l"
block|,
literal|"_Expm1l_e#"
block|}
block|,
block|{
literal|"expm1w"
block|,
literal|"_Expm1w_e#"
block|}
block|,
block|{
literal|"expw"
block|,
literal|"_Expw_e#"
block|}
block|,
block|{
literal|"fmod"
block|,
literal|"_Fmod_e#"
block|}
block|,
block|{
literal|"fmodf"
block|,
literal|"_Fmodf_e#"
block|}
block|,
block|{
literal|"fmodl"
block|,
literal|"_Fmodl_e#"
block|}
block|,
block|{
literal|"fmodw"
block|,
literal|"_Fmodw_e#"
block|}
block|,
block|{
literal|"gamma"
block|,
literal|"_Gamma_e#"
block|}
block|,
block|{
literal|"gammaf"
block|,
literal|"_Gammaf_e#"
block|}
block|,
block|{
literal|"gammal"
block|,
literal|"_Gammal_e#"
block|}
block|,
block|{
literal|"gammaw"
block|,
literal|"_Gammaw_e#"
block|}
block|,
block|{
literal|"ldexp"
block|,
literal|"_Ldexp_e#"
block|}
block|,
block|{
literal|"ldexpf"
block|,
literal|"_Ldexpf_e#"
block|}
block|,
block|{
literal|"ldexpl"
block|,
literal|"_Ldexpl_e#"
block|}
block|,
block|{
literal|"ldexpw"
block|,
literal|"_Ldexpw_e#"
block|}
block|,
block|{
literal|"lgamma"
block|,
literal|"_Lgamma_e#"
block|}
block|,
block|{
literal|"lgammaf"
block|,
literal|"_Lgammaf_e#"
block|}
block|,
block|{
literal|"lgammal"
block|,
literal|"_Lgammal_e#"
block|}
block|,
block|{
literal|"lgammaw"
block|,
literal|"_Lgammaw_e#"
block|}
block|,
block|{
literal|"log10"
block|,
literal|"_Log10_e#"
block|}
block|,
block|{
literal|"log10f"
block|,
literal|"_Log10f_e#"
block|}
block|,
block|{
literal|"log10l"
block|,
literal|"_Log10l_e#"
block|}
block|,
block|{
literal|"log10w"
block|,
literal|"_Log10w_e#"
block|}
block|,
block|{
literal|"log1p"
block|,
literal|"_Log1p_e#"
block|}
block|,
block|{
literal|"log1pf"
block|,
literal|"_Log1pf_e#"
block|}
block|,
block|{
literal|"log1pl"
block|,
literal|"_Log1pl_e#"
block|}
block|,
block|{
literal|"log1pw"
block|,
literal|"_Log1pw_e#"
block|}
block|,
block|{
literal|"log2"
block|,
literal|"_Log2_e#"
block|}
block|,
block|{
literal|"log2f"
block|,
literal|"_Log2f_e#"
block|}
block|,
block|{
literal|"log2l"
block|,
literal|"_Log2l_e#"
block|}
block|,
block|{
literal|"log2w"
block|,
literal|"_Log2w_e#"
block|}
block|,
block|{
literal|"log"
block|,
literal|"_Log_e#"
block|}
block|,
block|{
literal|"logb"
block|,
literal|"_Logb_e#"
block|}
block|,
block|{
literal|"logbf"
block|,
literal|"_Logbf_e#"
block|}
block|,
block|{
literal|"logbl"
block|,
literal|"_Logbl_e#"
block|}
block|,
block|{
literal|"logbw"
block|,
literal|"_Logbw_e#"
block|}
block|,
block|{
literal|"logf"
block|,
literal|"_Logf_e#"
block|}
block|,
block|{
literal|"logl"
block|,
literal|"_Logl_e#"
block|}
block|,
block|{
literal|"logw"
block|,
literal|"_Logw_e#"
block|}
block|,
block|{
literal|"nextafter"
block|,
literal|"_Nextafter_e#"
block|}
block|,
block|{
literal|"nextafterf"
block|,
literal|"_Nextafterf_e#"
block|}
block|,
block|{
literal|"nextafterl"
block|,
literal|"_Nextafterl_e#"
block|}
block|,
block|{
literal|"nextafterw"
block|,
literal|"_Nextafterw_e#"
block|}
block|,
block|{
literal|"pow"
block|,
literal|"_Pow_e#"
block|}
block|,
block|{
literal|"powf"
block|,
literal|"_Powf_e#"
block|}
block|,
block|{
literal|"powl"
block|,
literal|"_Powl_e#"
block|}
block|,
block|{
literal|"poww"
block|,
literal|"_Poww_e#"
block|}
block|,
block|{
literal|"remainder"
block|,
literal|"_Remainder_e#"
block|}
block|,
block|{
literal|"remainderf"
block|,
literal|"_Remainderf_e#"
block|}
block|,
block|{
literal|"remainderl"
block|,
literal|"_Remainderl_e#"
block|}
block|,
block|{
literal|"remainderw"
block|,
literal|"_Remainderw_e#"
block|}
block|,
block|{
literal|"scalb"
block|,
literal|"_Scalb_e#"
block|}
block|,
block|{
literal|"scalbf"
block|,
literal|"_Scalbf_e#"
block|}
block|,
block|{
literal|"scalbl"
block|,
literal|"_Scalbl_e#"
block|}
block|,
block|{
literal|"scalbw"
block|,
literal|"_Scalbw_e#"
block|}
block|,
block|{
literal|"sinh"
block|,
literal|"_Sinh_e#"
block|}
block|,
block|{
literal|"sinhf"
block|,
literal|"_Sinhf_e#"
block|}
block|,
block|{
literal|"sinhl"
block|,
literal|"_Sinhl_e#"
block|}
block|,
block|{
literal|"sinhw"
block|,
literal|"_Sinhw_e#"
block|}
block|,
block|{
literal|"sqrt"
block|,
literal|"_Sqrt_e#"
block|}
block|,
block|{
literal|"sqrtf"
block|,
literal|"_Sqrtf_e#"
block|}
block|,
block|{
literal|"sqrtl"
block|,
literal|"_Sqrtl_e#"
block|}
block|,
block|{
literal|"sqrtw"
block|,
literal|"_Sqrtw_e#"
block|}
block|,
block|{
literal|"tgamma"
block|,
literal|"_Tgamma_e#"
block|}
block|,
block|{
literal|"tgammaf"
block|,
literal|"_Tgammaf_e#"
block|}
block|,
block|{
literal|"tgammal"
block|,
literal|"_Tgammal_e#"
block|}
block|,
block|{
literal|"tgammaw"
block|,
literal|"_Tgammaw_e#"
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|void
name|ia64_hpux_add_pragma_builtin
parameter_list|(
name|tree
name|func
parameter_list|)
block|{
name|size_t
name|i
decl_stmt|;
if|if
condition|(
operator|!
name|flag_isoc94
operator|&&
name|flag_iso
condition|)
block|{
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|ARRAY_SIZE
argument_list|(
name|c89_mathlib_name_list
argument_list|)
condition|;
name|i
operator|++
control|)
block|{
if|if
condition|(
operator|!
name|strcmp
argument_list|(
name|c89_mathlib_name_list
index|[
name|i
index|]
operator|.
name|realname
argument_list|,
name|IDENTIFIER_POINTER
argument_list|(
name|func
argument_list|)
argument_list|)
condition|)
block|{
name|add_to_renaming_pragma_list
argument_list|(
name|func
argument_list|,
name|get_identifier
argument_list|(
name|c89_mathlib_name_list
index|[
name|i
index|]
operator|.
name|c89name
argument_list|)
argument_list|)
expr_stmt|;
block|}
block|}
block|}
block|}
end_function

end_unit

