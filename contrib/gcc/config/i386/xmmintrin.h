begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* Copyright (C) 2002, 2003, 2004, 2005, 2006, 2007    Free Software Foundation, Inc.     This file is part of GCC.     GCC is free software; you can redistribute it and/or modify    it under the terms of the GNU General Public License as published by    the Free Software Foundation; either version 2, or (at your option)    any later version.     GCC is distributed in the hope that it will be useful,    but WITHOUT ANY WARRANTY; without even the implied warranty of    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the    GNU General Public License for more details.     You should have received a copy of the GNU General Public License    along with GCC; see the file COPYING.  If not, write to    the Free Software Foundation, 51 Franklin Street, Fifth Floor,    Boston, MA 02110-1301, USA.  */
end_comment

begin_comment
comment|/* As a special exception, if you include this header file into source    files compiled by GCC, this header file does not by itself cause    the resulting executable to be covered by the GNU General Public    License.  This exception does not however invalidate any other    reasons why the executable file might be covered by the GNU General    Public License.  */
end_comment

begin_comment
comment|/* Implemented from the specification included in the Intel C++ Compiler    User Guide and Reference, version 9.0.  */
end_comment

begin_ifndef
ifndef|#
directive|ifndef
name|_XMMINTRIN_H_INCLUDED
end_ifndef

begin_define
define|#
directive|define
name|_XMMINTRIN_H_INCLUDED
end_define

begin_ifndef
ifndef|#
directive|ifndef
name|__SSE__
end_ifndef

begin_error
error|#
directive|error
literal|"SSE instruction set not enabled"
end_error

begin_else
else|#
directive|else
end_else

begin_comment
comment|/* We need type definitions from the MMX header file.  */
end_comment

begin_include
include|#
directive|include
file|<mmintrin.h>
end_include

begin_comment
comment|/* Get _mm_malloc () and _mm_free ().  */
end_comment

begin_include
include|#
directive|include
file|<mm_malloc.h>
end_include

begin_comment
comment|/* The Intel API is flexible enough that we must allow aliasing with other    vector types, and their scalar components.  */
end_comment

begin_typedef
typedef|typedef
name|float
name|__m128
name|__attribute__
typedef|((
name|__vector_size__
typedef|(16)
operator|,
typedef|__may_alias__));
end_typedef

begin_comment
comment|/* Internal data types for implementing the intrinsics.  */
end_comment

begin_typedef
typedef|typedef
name|float
name|__v4sf
name|__attribute__
typedef|((
name|__vector_size__
typedef|(16)));
end_typedef

begin_comment
comment|/* Create a selector for use with the SHUFPS instruction.  */
end_comment

begin_define
define|#
directive|define
name|_MM_SHUFFLE
parameter_list|(
name|fp3
parameter_list|,
name|fp2
parameter_list|,
name|fp1
parameter_list|,
name|fp0
parameter_list|)
define|\
value|(((fp3)<< 6) | ((fp2)<< 4) | ((fp1)<< 2) | (fp0))
end_define

begin_comment
comment|/* Constants for use with _mm_prefetch.  */
end_comment

begin_enum
enum|enum
name|_mm_hint
block|{
name|_MM_HINT_T0
init|=
literal|3
block|,
name|_MM_HINT_T1
init|=
literal|2
block|,
name|_MM_HINT_T2
init|=
literal|1
block|,
name|_MM_HINT_NTA
init|=
literal|0
block|}
enum|;
end_enum

begin_comment
comment|/* Bits in the MXCSR.  */
end_comment

begin_define
define|#
directive|define
name|_MM_EXCEPT_MASK
value|0x003f
end_define

begin_define
define|#
directive|define
name|_MM_EXCEPT_INVALID
value|0x0001
end_define

begin_define
define|#
directive|define
name|_MM_EXCEPT_DENORM
value|0x0002
end_define

begin_define
define|#
directive|define
name|_MM_EXCEPT_DIV_ZERO
value|0x0004
end_define

begin_define
define|#
directive|define
name|_MM_EXCEPT_OVERFLOW
value|0x0008
end_define

begin_define
define|#
directive|define
name|_MM_EXCEPT_UNDERFLOW
value|0x0010
end_define

begin_define
define|#
directive|define
name|_MM_EXCEPT_INEXACT
value|0x0020
end_define

begin_define
define|#
directive|define
name|_MM_MASK_MASK
value|0x1f80
end_define

begin_define
define|#
directive|define
name|_MM_MASK_INVALID
value|0x0080
end_define

begin_define
define|#
directive|define
name|_MM_MASK_DENORM
value|0x0100
end_define

begin_define
define|#
directive|define
name|_MM_MASK_DIV_ZERO
value|0x0200
end_define

begin_define
define|#
directive|define
name|_MM_MASK_OVERFLOW
value|0x0400
end_define

begin_define
define|#
directive|define
name|_MM_MASK_UNDERFLOW
value|0x0800
end_define

begin_define
define|#
directive|define
name|_MM_MASK_INEXACT
value|0x1000
end_define

begin_define
define|#
directive|define
name|_MM_ROUND_MASK
value|0x6000
end_define

begin_define
define|#
directive|define
name|_MM_ROUND_NEAREST
value|0x0000
end_define

begin_define
define|#
directive|define
name|_MM_ROUND_DOWN
value|0x2000
end_define

begin_define
define|#
directive|define
name|_MM_ROUND_UP
value|0x4000
end_define

begin_define
define|#
directive|define
name|_MM_ROUND_TOWARD_ZERO
value|0x6000
end_define

begin_define
define|#
directive|define
name|_MM_FLUSH_ZERO_MASK
value|0x8000
end_define

begin_define
define|#
directive|define
name|_MM_FLUSH_ZERO_ON
value|0x8000
end_define

begin_define
define|#
directive|define
name|_MM_FLUSH_ZERO_OFF
value|0x0000
end_define

begin_comment
comment|/* Create a vector of zeros.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_setzero_ps
argument_list|(
name|void
argument_list|)
block|{
return|return
name|__extension__
argument_list|(
argument|__m128
argument_list|)
block|{
literal|0.0f
block|,
literal|0.0f
block|,
literal|0.0f
block|,
literal|0.0f
block|}
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Perform the respective operation on the lower SPFP (single-precision    floating-point) values of A and B; the upper three SPFP values are    passed through from A.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_add_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_addss
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_sub_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_subss
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_mul_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_mulss
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_div_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_divss
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_sqrt_ss
argument_list|(
name|__m128
name|__A
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_sqrtss
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_rcp_ss
argument_list|(
name|__m128
name|__A
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_rcpss
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_rsqrt_ss
argument_list|(
name|__m128
name|__A
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_rsqrtss
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_min_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_minss
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_max_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_maxss
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Perform the respective operation on the four SPFP values in A and B.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_add_ps
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_addps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_sub_ps
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_subps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_mul_ps
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_mulps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_div_ps
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_divps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_sqrt_ps
argument_list|(
name|__m128
name|__A
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_sqrtps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_rcp_ps
argument_list|(
name|__m128
name|__A
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_rcpps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_rsqrt_ps
argument_list|(
name|__m128
name|__A
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_rsqrtps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_min_ps
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_minps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_max_ps
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_maxps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Perform logical bit-wise operations on 128-bit values.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_and_ps
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
name|__builtin_ia32_andps
argument_list|(
name|__A
argument_list|,
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_andnot_ps
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
name|__builtin_ia32_andnps
argument_list|(
name|__A
argument_list|,
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_or_ps
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
name|__builtin_ia32_orps
argument_list|(
name|__A
argument_list|,
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_xor_ps
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
name|__builtin_ia32_xorps
argument_list|(
name|__A
argument_list|,
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Perform a comparison on the lower SPFP values of A and B.  If the    comparison is true, place a mask of all ones in the result, otherwise a    mask of zeros.  The upper three SPFP values are passed through from A.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cmpeq_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_cmpeqss
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cmplt_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_cmpltss
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cmple_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_cmpless
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cmpgt_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_movss
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__builtin_ia32_cmpltss
argument_list|(
operator|(
name|__v4sf
operator|)
name|__B
argument_list|,
operator|(
name|__v4sf
operator|)
name|__A
argument_list|)
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cmpge_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_movss
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__builtin_ia32_cmpless
argument_list|(
operator|(
name|__v4sf
operator|)
name|__B
argument_list|,
operator|(
name|__v4sf
operator|)
name|__A
argument_list|)
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cmpneq_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_cmpneqss
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cmpnlt_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_cmpnltss
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cmpnle_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_cmpnless
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cmpngt_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_movss
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__builtin_ia32_cmpnltss
argument_list|(
operator|(
name|__v4sf
operator|)
name|__B
argument_list|,
operator|(
name|__v4sf
operator|)
name|__A
argument_list|)
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cmpnge_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_movss
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__builtin_ia32_cmpnless
argument_list|(
operator|(
name|__v4sf
operator|)
name|__B
argument_list|,
operator|(
name|__v4sf
operator|)
name|__A
argument_list|)
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cmpord_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_cmpordss
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cmpunord_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_cmpunordss
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Perform a comparison on the four SPFP values of A and B.  For each    element, if the comparison is true, place a mask of all ones in the    result, otherwise a mask of zeros.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cmpeq_ps
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_cmpeqps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cmplt_ps
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_cmpltps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cmple_ps
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_cmpleps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cmpgt_ps
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_cmpgtps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cmpge_ps
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_cmpgeps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cmpneq_ps
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_cmpneqps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cmpnlt_ps
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_cmpnltps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cmpnle_ps
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_cmpnleps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cmpngt_ps
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_cmpngtps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cmpnge_ps
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_cmpngeps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cmpord_ps
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_cmpordps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cmpunord_ps
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_cmpunordps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Compare the lower SPFP values of A and B and return 1 if true    and 0 if false.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|int
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_comieq_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
name|__builtin_ia32_comieq
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|int
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_comilt_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
name|__builtin_ia32_comilt
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|int
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_comile_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
name|__builtin_ia32_comile
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|int
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_comigt_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
name|__builtin_ia32_comigt
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|int
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_comige_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
name|__builtin_ia32_comige
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|int
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_comineq_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
name|__builtin_ia32_comineq
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|int
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_ucomieq_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
name|__builtin_ia32_ucomieq
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|int
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_ucomilt_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
name|__builtin_ia32_ucomilt
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|int
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_ucomile_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
name|__builtin_ia32_ucomile
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|int
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_ucomigt_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
name|__builtin_ia32_ucomigt
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|int
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_ucomige_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
name|__builtin_ia32_ucomige
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|int
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_ucomineq_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
name|__builtin_ia32_ucomineq
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Convert the lower SPFP value to a 32-bit integer according to the current    rounding mode.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|int
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cvtss_si32
argument_list|(
name|__m128
name|__A
argument_list|)
block|{
return|return
name|__builtin_ia32_cvtss2si
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|int
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cvt_ss2si
argument_list|(
name|__m128
name|__A
argument_list|)
block|{
return|return
name|_mm_cvtss_si32
argument_list|(
name|__A
argument_list|)
return|;
block|}
end_decl_stmt

begin_ifdef
ifdef|#
directive|ifdef
name|__x86_64__
end_ifdef

begin_comment
comment|/* Convert the lower SPFP value to a 32-bit integer according to the    current rounding mode.  */
end_comment

begin_comment
comment|/* Intel intrinsic.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|long
name|long
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cvtss_si64
argument_list|(
name|__m128
name|__A
argument_list|)
block|{
return|return
name|__builtin_ia32_cvtss2si64
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Microsoft intrinsic.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|long
name|long
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cvtss_si64x
argument_list|(
name|__m128
name|__A
argument_list|)
block|{
return|return
name|__builtin_ia32_cvtss2si64
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|)
return|;
block|}
end_decl_stmt

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* Convert the two lower SPFP values to 32-bit integers according to the    current rounding mode.  Return the integers in packed form.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m64
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cvtps_pi32
argument_list|(
name|__m128
name|__A
argument_list|)
block|{
return|return
operator|(
name|__m64
operator|)
name|__builtin_ia32_cvtps2pi
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m64
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cvt_ps2pi
argument_list|(
name|__m128
name|__A
argument_list|)
block|{
return|return
name|_mm_cvtps_pi32
argument_list|(
name|__A
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Truncate the lower SPFP value to a 32-bit integer.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|int
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cvttss_si32
argument_list|(
name|__m128
name|__A
argument_list|)
block|{
return|return
name|__builtin_ia32_cvttss2si
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|int
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cvtt_ss2si
argument_list|(
name|__m128
name|__A
argument_list|)
block|{
return|return
name|_mm_cvttss_si32
argument_list|(
name|__A
argument_list|)
return|;
block|}
end_decl_stmt

begin_ifdef
ifdef|#
directive|ifdef
name|__x86_64__
end_ifdef

begin_comment
comment|/* Truncate the lower SPFP value to a 32-bit integer.  */
end_comment

begin_comment
comment|/* Intel intrinsic.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|long
name|long
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cvttss_si64
argument_list|(
name|__m128
name|__A
argument_list|)
block|{
return|return
name|__builtin_ia32_cvttss2si64
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Microsoft intrinsic.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|long
name|long
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cvttss_si64x
argument_list|(
name|__m128
name|__A
argument_list|)
block|{
return|return
name|__builtin_ia32_cvttss2si64
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|)
return|;
block|}
end_decl_stmt

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* Truncate the two lower SPFP values to 32-bit integers.  Return the    integers in packed form.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m64
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cvttps_pi32
argument_list|(
name|__m128
name|__A
argument_list|)
block|{
return|return
operator|(
name|__m64
operator|)
name|__builtin_ia32_cvttps2pi
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m64
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cvtt_ps2pi
argument_list|(
name|__m128
name|__A
argument_list|)
block|{
return|return
name|_mm_cvttps_pi32
argument_list|(
name|__A
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Convert B to a SPFP value and insert it as element zero in A.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cvtsi32_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|int
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_cvtsi2ss
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cvt_si2ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|int
name|__B
argument_list|)
block|{
return|return
name|_mm_cvtsi32_ss
argument_list|(
name|__A
argument_list|,
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_ifdef
ifdef|#
directive|ifdef
name|__x86_64__
end_ifdef

begin_comment
comment|/* Convert B to a SPFP value and insert it as element zero in A.  */
end_comment

begin_comment
comment|/* Intel intrinsic.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cvtsi64_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|long
name|long
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_cvtsi642ss
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Microsoft intrinsic.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cvtsi64x_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|long
name|long
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_cvtsi642ss
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* Convert the two 32-bit values in B to SPFP form and insert them    as the two lower elements in A.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cvtpi32_ps
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m64
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_cvtpi2ps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v2si
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cvt_pi2ps
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m64
name|__B
argument_list|)
block|{
return|return
name|_mm_cvtpi32_ps
argument_list|(
name|__A
argument_list|,
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Convert the four signed 16-bit values in A to SPFP form.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cvtpi16_ps
argument_list|(
name|__m64
name|__A
argument_list|)
block|{
name|__v4hi
name|__sign
decl_stmt|;
name|__v2si
name|__hisi
decl_stmt|,
name|__losi
decl_stmt|;
name|__v4sf
name|__r
decl_stmt|;
comment|/* This comparison against zero gives us a mask that can be used to      fill in the missing sign bits in the unpack operations below, so      that we get signed values after unpacking.  */
name|__sign
operator|=
name|__builtin_ia32_pcmpgtw
argument_list|(
operator|(
name|__v4hi
operator|)
literal|0LL
argument_list|,
operator|(
name|__v4hi
operator|)
name|__A
argument_list|)
expr_stmt|;
comment|/* Convert the four words to doublewords.  */
name|__hisi
operator|=
operator|(
name|__v2si
operator|)
name|__builtin_ia32_punpckhwd
argument_list|(
operator|(
name|__v4hi
operator|)
name|__A
argument_list|,
name|__sign
argument_list|)
expr_stmt|;
name|__losi
operator|=
operator|(
name|__v2si
operator|)
name|__builtin_ia32_punpcklwd
argument_list|(
operator|(
name|__v4hi
operator|)
name|__A
argument_list|,
name|__sign
argument_list|)
expr_stmt|;
comment|/* Convert the doublewords to floating point two at a time.  */
name|__r
operator|=
operator|(
name|__v4sf
operator|)
name|_mm_setzero_ps
argument_list|()
expr_stmt|;
name|__r
operator|=
name|__builtin_ia32_cvtpi2ps
argument_list|(
name|__r
argument_list|,
name|__hisi
argument_list|)
expr_stmt|;
name|__r
operator|=
name|__builtin_ia32_movlhps
argument_list|(
name|__r
argument_list|,
name|__r
argument_list|)
expr_stmt|;
name|__r
operator|=
name|__builtin_ia32_cvtpi2ps
argument_list|(
name|__r
argument_list|,
name|__losi
argument_list|)
expr_stmt|;
return|return
operator|(
name|__m128
operator|)
name|__r
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Convert the four unsigned 16-bit values in A to SPFP form.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cvtpu16_ps
argument_list|(
name|__m64
name|__A
argument_list|)
block|{
name|__v2si
name|__hisi
decl_stmt|,
name|__losi
decl_stmt|;
name|__v4sf
name|__r
decl_stmt|;
comment|/* Convert the four words to doublewords.  */
name|__hisi
operator|=
operator|(
name|__v2si
operator|)
name|__builtin_ia32_punpckhwd
argument_list|(
operator|(
name|__v4hi
operator|)
name|__A
argument_list|,
operator|(
name|__v4hi
operator|)
literal|0LL
argument_list|)
expr_stmt|;
name|__losi
operator|=
operator|(
name|__v2si
operator|)
name|__builtin_ia32_punpcklwd
argument_list|(
operator|(
name|__v4hi
operator|)
name|__A
argument_list|,
operator|(
name|__v4hi
operator|)
literal|0LL
argument_list|)
expr_stmt|;
comment|/* Convert the doublewords to floating point two at a time.  */
name|__r
operator|=
operator|(
name|__v4sf
operator|)
name|_mm_setzero_ps
argument_list|()
expr_stmt|;
name|__r
operator|=
name|__builtin_ia32_cvtpi2ps
argument_list|(
name|__r
argument_list|,
name|__hisi
argument_list|)
expr_stmt|;
name|__r
operator|=
name|__builtin_ia32_movlhps
argument_list|(
name|__r
argument_list|,
name|__r
argument_list|)
expr_stmt|;
name|__r
operator|=
name|__builtin_ia32_cvtpi2ps
argument_list|(
name|__r
argument_list|,
name|__losi
argument_list|)
expr_stmt|;
return|return
operator|(
name|__m128
operator|)
name|__r
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Convert the low four signed 8-bit values in A to SPFP form.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cvtpi8_ps
argument_list|(
name|__m64
name|__A
argument_list|)
block|{
name|__v8qi
name|__sign
decl_stmt|;
comment|/* This comparison against zero gives us a mask that can be used to      fill in the missing sign bits in the unpack operations below, so      that we get signed values after unpacking.  */
name|__sign
operator|=
name|__builtin_ia32_pcmpgtb
argument_list|(
operator|(
name|__v8qi
operator|)
literal|0LL
argument_list|,
operator|(
name|__v8qi
operator|)
name|__A
argument_list|)
expr_stmt|;
comment|/* Convert the four low bytes to words.  */
name|__A
operator|=
operator|(
name|__m64
operator|)
name|__builtin_ia32_punpcklbw
argument_list|(
operator|(
name|__v8qi
operator|)
name|__A
argument_list|,
name|__sign
argument_list|)
expr_stmt|;
return|return
name|_mm_cvtpi16_ps
argument_list|(
name|__A
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Convert the low four unsigned 8-bit values in A to SPFP form.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cvtpu8_ps
argument_list|(
name|__m64
name|__A
argument_list|)
block|{
name|__A
operator|=
operator|(
name|__m64
operator|)
name|__builtin_ia32_punpcklbw
argument_list|(
operator|(
name|__v8qi
operator|)
name|__A
argument_list|,
operator|(
name|__v8qi
operator|)
literal|0LL
argument_list|)
expr_stmt|;
return|return
name|_mm_cvtpu16_ps
argument_list|(
name|__A
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Convert the four signed 32-bit values in A and B to SPFP form.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cvtpi32x2_ps
argument_list|(
name|__m64
name|__A
argument_list|,
name|__m64
name|__B
argument_list|)
block|{
name|__v4sf
name|__zero
init|=
operator|(
name|__v4sf
operator|)
name|_mm_setzero_ps
argument_list|()
decl_stmt|;
name|__v4sf
name|__sfa
init|=
name|__builtin_ia32_cvtpi2ps
argument_list|(
name|__zero
argument_list|,
operator|(
name|__v2si
operator|)
name|__A
argument_list|)
decl_stmt|;
name|__v4sf
name|__sfb
init|=
name|__builtin_ia32_cvtpi2ps
argument_list|(
name|__zero
argument_list|,
operator|(
name|__v2si
operator|)
name|__B
argument_list|)
decl_stmt|;
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_movlhps
argument_list|(
name|__sfa
argument_list|,
name|__sfb
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Convert the four SPFP values in A to four signed 16-bit integers.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m64
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cvtps_pi16
argument_list|(
name|__m128
name|__A
argument_list|)
block|{
name|__v4sf
name|__hisf
init|=
operator|(
name|__v4sf
operator|)
name|__A
decl_stmt|;
name|__v4sf
name|__losf
init|=
name|__builtin_ia32_movhlps
argument_list|(
name|__hisf
argument_list|,
name|__hisf
argument_list|)
decl_stmt|;
name|__v2si
name|__hisi
init|=
name|__builtin_ia32_cvtps2pi
argument_list|(
name|__hisf
argument_list|)
decl_stmt|;
name|__v2si
name|__losi
init|=
name|__builtin_ia32_cvtps2pi
argument_list|(
name|__losf
argument_list|)
decl_stmt|;
return|return
operator|(
name|__m64
operator|)
name|__builtin_ia32_packssdw
argument_list|(
name|__hisi
argument_list|,
name|__losi
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Convert the four SPFP values in A to four signed 8-bit integers.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m64
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cvtps_pi8
argument_list|(
name|__m128
name|__A
argument_list|)
block|{
name|__v4hi
name|__tmp
init|=
operator|(
name|__v4hi
operator|)
name|_mm_cvtps_pi16
argument_list|(
name|__A
argument_list|)
decl_stmt|;
return|return
operator|(
name|__m64
operator|)
name|__builtin_ia32_packsswb
argument_list|(
name|__tmp
argument_list|,
operator|(
name|__v4hi
operator|)
literal|0LL
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Selects four specific SPFP values from A and B based on MASK.  */
end_comment

begin_if
if|#
directive|if
literal|0
end_if

begin_else
unit|static __inline __m128 __attribute__((__always_inline__)) _mm_shuffle_ps (__m128 __A, __m128 __B, int __mask) {   return (__m128) __builtin_ia32_shufps ((__v4sf)__A, (__v4sf)__B, __mask); }
else|#
directive|else
end_else

begin_define
define|#
directive|define
name|_mm_shuffle_ps
parameter_list|(
name|A
parameter_list|,
name|B
parameter_list|,
name|MASK
parameter_list|)
define|\
value|((__m128) __builtin_ia32_shufps ((__v4sf)(A), (__v4sf)(B), (MASK)))
end_define

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* Selects and interleaves the upper two SPFP values from A and B.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_unpackhi_ps
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_unpckhps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Selects and interleaves the lower two SPFP values from A and B.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_unpacklo_ps
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_unpcklps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Sets the upper two SPFP values with 64-bits of data loaded from P;    the lower two values are passed through from A.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_loadh_pi
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m64
specifier|const
operator|*
name|__P
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_loadhps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v2si
operator|*
operator|)
name|__P
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Stores the upper two SPFP values of A into P.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|void
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_storeh_pi
argument_list|(
name|__m64
operator|*
name|__P
argument_list|,
name|__m128
name|__A
argument_list|)
block|{
name|__builtin_ia32_storehps
argument_list|(
operator|(
name|__v2si
operator|*
operator|)
name|__P
argument_list|,
operator|(
name|__v4sf
operator|)
name|__A
argument_list|)
expr_stmt|;
block|}
end_decl_stmt

begin_comment
comment|/* Moves the upper two values of B into the lower two values of A.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_movehl_ps
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_movhlps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Moves the lower two values of B into the upper two values of A.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_movelh_ps
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_movlhps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Sets the lower two SPFP values with 64-bits of data loaded from P;    the upper two values are passed through from A.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_loadl_pi
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m64
specifier|const
operator|*
name|__P
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_loadlps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v2si
operator|*
operator|)
name|__P
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Stores the lower two SPFP values of A into P.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|void
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_storel_pi
argument_list|(
name|__m64
operator|*
name|__P
argument_list|,
name|__m128
name|__A
argument_list|)
block|{
name|__builtin_ia32_storelps
argument_list|(
operator|(
name|__v2si
operator|*
operator|)
name|__P
argument_list|,
operator|(
name|__v4sf
operator|)
name|__A
argument_list|)
expr_stmt|;
block|}
end_decl_stmt

begin_comment
comment|/* Creates a 4-bit mask from the most significant bits of the SPFP values.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|int
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_movemask_ps
argument_list|(
name|__m128
name|__A
argument_list|)
block|{
return|return
name|__builtin_ia32_movmskps
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Return the contents of the control register.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|unsigned
name|int
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_getcsr
argument_list|(
name|void
argument_list|)
block|{
return|return
name|__builtin_ia32_stmxcsr
argument_list|()
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Read exception bits from the control register.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|unsigned
name|int
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_MM_GET_EXCEPTION_STATE
argument_list|(
name|void
argument_list|)
block|{
return|return
name|_mm_getcsr
argument_list|()
operator|&
name|_MM_EXCEPT_MASK
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|unsigned
name|int
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_MM_GET_EXCEPTION_MASK
argument_list|(
name|void
argument_list|)
block|{
return|return
name|_mm_getcsr
argument_list|()
operator|&
name|_MM_MASK_MASK
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|unsigned
name|int
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_MM_GET_ROUNDING_MODE
argument_list|(
name|void
argument_list|)
block|{
return|return
name|_mm_getcsr
argument_list|()
operator|&
name|_MM_ROUND_MASK
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|unsigned
name|int
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_MM_GET_FLUSH_ZERO_MODE
argument_list|(
name|void
argument_list|)
block|{
return|return
name|_mm_getcsr
argument_list|()
operator|&
name|_MM_FLUSH_ZERO_MASK
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Set the control register to I.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|void
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_setcsr
argument_list|(
name|unsigned
name|int
name|__I
argument_list|)
block|{
name|__builtin_ia32_ldmxcsr
argument_list|(
name|__I
argument_list|)
expr_stmt|;
block|}
end_decl_stmt

begin_comment
comment|/* Set exception bits in the control register.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|void
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_MM_SET_EXCEPTION_STATE
argument_list|(
name|unsigned
name|int
name|__mask
argument_list|)
block|{
name|_mm_setcsr
argument_list|(
operator|(
name|_mm_getcsr
argument_list|()
operator|&
operator|~
name|_MM_EXCEPT_MASK
operator|)
operator||
name|__mask
argument_list|)
expr_stmt|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|void
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_MM_SET_EXCEPTION_MASK
argument_list|(
name|unsigned
name|int
name|__mask
argument_list|)
block|{
name|_mm_setcsr
argument_list|(
operator|(
name|_mm_getcsr
argument_list|()
operator|&
operator|~
name|_MM_MASK_MASK
operator|)
operator||
name|__mask
argument_list|)
expr_stmt|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|void
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_MM_SET_ROUNDING_MODE
argument_list|(
name|unsigned
name|int
name|__mode
argument_list|)
block|{
name|_mm_setcsr
argument_list|(
operator|(
name|_mm_getcsr
argument_list|()
operator|&
operator|~
name|_MM_ROUND_MASK
operator|)
operator||
name|__mode
argument_list|)
expr_stmt|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|void
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_MM_SET_FLUSH_ZERO_MODE
argument_list|(
name|unsigned
name|int
name|__mode
argument_list|)
block|{
name|_mm_setcsr
argument_list|(
operator|(
name|_mm_getcsr
argument_list|()
operator|&
operator|~
name|_MM_FLUSH_ZERO_MASK
operator|)
operator||
name|__mode
argument_list|)
expr_stmt|;
block|}
end_decl_stmt

begin_comment
comment|/* Create a vector with element 0 as F and the rest zero.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_set_ss
argument_list|(
name|float
name|__F
argument_list|)
block|{
return|return
name|__extension__
argument_list|(
argument|__m128
argument_list|)
operator|(
name|__v4sf
operator|)
block|{
name|__F
block|,
literal|0
block|,
literal|0
block|,
literal|0
block|}
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Create a vector with all four elements equal to F.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_set1_ps
argument_list|(
name|float
name|__F
argument_list|)
block|{
return|return
name|__extension__
argument_list|(
argument|__m128
argument_list|)
operator|(
name|__v4sf
operator|)
block|{
name|__F
block|,
name|__F
block|,
name|__F
block|,
name|__F
block|}
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_set_ps1
argument_list|(
name|float
name|__F
argument_list|)
block|{
return|return
name|_mm_set1_ps
argument_list|(
name|__F
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Create a vector with element 0 as *P and the rest zero.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_load_ss
argument_list|(
name|float
specifier|const
operator|*
name|__P
argument_list|)
block|{
return|return
name|_mm_set_ss
argument_list|(
operator|*
name|__P
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Create a vector with all four elements equal to *P.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_load1_ps
argument_list|(
name|float
specifier|const
operator|*
name|__P
argument_list|)
block|{
return|return
name|_mm_set1_ps
argument_list|(
operator|*
name|__P
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_load_ps1
argument_list|(
name|float
specifier|const
operator|*
name|__P
argument_list|)
block|{
return|return
name|_mm_load1_ps
argument_list|(
name|__P
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Load four SPFP values from P.  The address must be 16-byte aligned.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_load_ps
argument_list|(
name|float
specifier|const
operator|*
name|__P
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
operator|*
operator|(
name|__v4sf
operator|*
operator|)
name|__P
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Load four SPFP values from P.  The address need not be 16-byte aligned.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_loadu_ps
argument_list|(
name|float
specifier|const
operator|*
name|__P
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_loadups
argument_list|(
name|__P
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Load four SPFP values in reverse order.  The address must be aligned.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_loadr_ps
argument_list|(
name|float
specifier|const
operator|*
name|__P
argument_list|)
block|{
name|__v4sf
name|__tmp
init|=
operator|*
operator|(
name|__v4sf
operator|*
operator|)
name|__P
decl_stmt|;
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_shufps
argument_list|(
name|__tmp
argument_list|,
name|__tmp
argument_list|,
name|_MM_SHUFFLE
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|3
argument_list|)
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Create the vector [Z Y X W].  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_set_ps
argument_list|(
specifier|const
name|float
name|__Z
argument_list|,
specifier|const
name|float
name|__Y
argument_list|,
specifier|const
name|float
name|__X
argument_list|,
specifier|const
name|float
name|__W
argument_list|)
block|{
return|return
name|__extension__
argument_list|(
argument|__m128
argument_list|)
operator|(
name|__v4sf
operator|)
block|{
name|__W
block|,
name|__X
block|,
name|__Y
block|,
name|__Z
block|}
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Create the vector [W X Y Z].  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_setr_ps
argument_list|(
name|float
name|__Z
argument_list|,
name|float
name|__Y
argument_list|,
name|float
name|__X
argument_list|,
name|float
name|__W
argument_list|)
block|{
return|return
name|__extension__
argument_list|(
argument|__m128
argument_list|)
operator|(
name|__v4sf
operator|)
block|{
name|__Z
block|,
name|__Y
block|,
name|__X
block|,
name|__W
block|}
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Stores the lower SPFP value.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|void
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_store_ss
argument_list|(
name|float
operator|*
name|__P
argument_list|,
name|__m128
name|__A
argument_list|)
block|{
operator|*
name|__P
operator|=
name|__builtin_ia32_vec_ext_v4sf
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
literal|0
argument_list|)
expr_stmt|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|float
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_cvtss_f32
argument_list|(
name|__m128
name|__A
argument_list|)
block|{
return|return
name|__builtin_ia32_vec_ext_v4sf
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
literal|0
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Store four SPFP values.  The address must be 16-byte aligned.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|void
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_store_ps
argument_list|(
name|float
operator|*
name|__P
argument_list|,
name|__m128
name|__A
argument_list|)
block|{
operator|*
operator|(
name|__v4sf
operator|*
operator|)
name|__P
operator|=
operator|(
name|__v4sf
operator|)
name|__A
expr_stmt|;
block|}
end_decl_stmt

begin_comment
comment|/* Store four SPFP values.  The address need not be 16-byte aligned.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|void
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_storeu_ps
argument_list|(
name|float
operator|*
name|__P
argument_list|,
name|__m128
name|__A
argument_list|)
block|{
name|__builtin_ia32_storeups
argument_list|(
name|__P
argument_list|,
operator|(
name|__v4sf
operator|)
name|__A
argument_list|)
expr_stmt|;
block|}
end_decl_stmt

begin_comment
comment|/* Store the lower SPFP value across four words.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|void
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_store1_ps
argument_list|(
name|float
operator|*
name|__P
argument_list|,
name|__m128
name|__A
argument_list|)
block|{
name|__v4sf
name|__va
init|=
operator|(
name|__v4sf
operator|)
name|__A
decl_stmt|;
name|__v4sf
name|__tmp
init|=
name|__builtin_ia32_shufps
argument_list|(
name|__va
argument_list|,
name|__va
argument_list|,
name|_MM_SHUFFLE
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
argument_list|)
decl_stmt|;
name|_mm_storeu_ps
argument_list|(
name|__P
argument_list|,
name|__tmp
argument_list|)
expr_stmt|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|void
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_store_ps1
argument_list|(
name|float
operator|*
name|__P
argument_list|,
name|__m128
name|__A
argument_list|)
block|{
name|_mm_store1_ps
argument_list|(
name|__P
argument_list|,
name|__A
argument_list|)
expr_stmt|;
block|}
end_decl_stmt

begin_comment
comment|/* Store four SPFP values in reverse order.  The address must be aligned.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|void
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_storer_ps
argument_list|(
name|float
operator|*
name|__P
argument_list|,
name|__m128
name|__A
argument_list|)
block|{
name|__v4sf
name|__va
init|=
operator|(
name|__v4sf
operator|)
name|__A
decl_stmt|;
name|__v4sf
name|__tmp
init|=
name|__builtin_ia32_shufps
argument_list|(
name|__va
argument_list|,
name|__va
argument_list|,
name|_MM_SHUFFLE
argument_list|(
literal|0
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
literal|3
argument_list|)
argument_list|)
decl_stmt|;
name|_mm_store_ps
argument_list|(
name|__P
argument_list|,
name|__tmp
argument_list|)
expr_stmt|;
block|}
end_decl_stmt

begin_comment
comment|/* Sets the low SPFP value of A from the low value of B.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m128
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_move_ss
argument_list|(
name|__m128
name|__A
argument_list|,
name|__m128
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m128
operator|)
name|__builtin_ia32_movss
argument_list|(
operator|(
name|__v4sf
operator|)
name|__A
argument_list|,
operator|(
name|__v4sf
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Extracts one of the four words of A.  The selector N must be immediate.  */
end_comment

begin_if
if|#
directive|if
literal|0
end_if

begin_else
unit|static __inline int __attribute__((__always_inline__)) _mm_extract_pi16 (__m64 const __A, int const __N) {   return __builtin_ia32_vec_ext_v4hi ((__v4hi)__A, __N); }  static __inline int __attribute__((__always_inline__)) _m_pextrw (__m64 const __A, int const __N) {   return _mm_extract_pi16 (__A, __N); }
else|#
directive|else
end_else

begin_define
define|#
directive|define
name|_mm_extract_pi16
parameter_list|(
name|A
parameter_list|,
name|N
parameter_list|)
value|__builtin_ia32_vec_ext_v4hi ((__v4hi)(A), (N))
end_define

begin_define
define|#
directive|define
name|_m_pextrw
parameter_list|(
name|A
parameter_list|,
name|N
parameter_list|)
value|_mm_extract_pi16((A), (N))
end_define

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* Inserts word D into one of four words of A.  The selector N must be    immediate.  */
end_comment

begin_if
if|#
directive|if
literal|0
end_if

begin_else
unit|static __inline __m64 __attribute__((__always_inline__)) _mm_insert_pi16 (__m64 const __A, int const __D, int const __N) {   return (__m64) __builtin_ia32_vec_set_v4hi ((__v4hi)__A, __D, __N); }  static __inline __m64 __attribute__((__always_inline__)) _m_pinsrw (__m64 const __A, int const __D, int const __N) {   return _mm_insert_pi16 (__A, __D, __N); }
else|#
directive|else
end_else

begin_define
define|#
directive|define
name|_mm_insert_pi16
parameter_list|(
name|A
parameter_list|,
name|D
parameter_list|,
name|N
parameter_list|)
define|\
value|((__m64) __builtin_ia32_vec_set_v4hi ((__v4hi)(A), (D), (N)))
end_define

begin_define
define|#
directive|define
name|_m_pinsrw
parameter_list|(
name|A
parameter_list|,
name|D
parameter_list|,
name|N
parameter_list|)
value|_mm_insert_pi16((A), (D), (N))
end_define

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* Compute the element-wise maximum of signed 16-bit values.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m64
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_max_pi16
argument_list|(
name|__m64
name|__A
argument_list|,
name|__m64
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m64
operator|)
name|__builtin_ia32_pmaxsw
argument_list|(
operator|(
name|__v4hi
operator|)
name|__A
argument_list|,
operator|(
name|__v4hi
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m64
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_m_pmaxsw
argument_list|(
name|__m64
name|__A
argument_list|,
name|__m64
name|__B
argument_list|)
block|{
return|return
name|_mm_max_pi16
argument_list|(
name|__A
argument_list|,
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Compute the element-wise maximum of unsigned 8-bit values.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m64
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_max_pu8
argument_list|(
name|__m64
name|__A
argument_list|,
name|__m64
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m64
operator|)
name|__builtin_ia32_pmaxub
argument_list|(
operator|(
name|__v8qi
operator|)
name|__A
argument_list|,
operator|(
name|__v8qi
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m64
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_m_pmaxub
argument_list|(
name|__m64
name|__A
argument_list|,
name|__m64
name|__B
argument_list|)
block|{
return|return
name|_mm_max_pu8
argument_list|(
name|__A
argument_list|,
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Compute the element-wise minimum of signed 16-bit values.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m64
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_min_pi16
argument_list|(
name|__m64
name|__A
argument_list|,
name|__m64
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m64
operator|)
name|__builtin_ia32_pminsw
argument_list|(
operator|(
name|__v4hi
operator|)
name|__A
argument_list|,
operator|(
name|__v4hi
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m64
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_m_pminsw
argument_list|(
name|__m64
name|__A
argument_list|,
name|__m64
name|__B
argument_list|)
block|{
return|return
name|_mm_min_pi16
argument_list|(
name|__A
argument_list|,
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Compute the element-wise minimum of unsigned 8-bit values.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m64
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_min_pu8
argument_list|(
name|__m64
name|__A
argument_list|,
name|__m64
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m64
operator|)
name|__builtin_ia32_pminub
argument_list|(
operator|(
name|__v8qi
operator|)
name|__A
argument_list|,
operator|(
name|__v8qi
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m64
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_m_pminub
argument_list|(
name|__m64
name|__A
argument_list|,
name|__m64
name|__B
argument_list|)
block|{
return|return
name|_mm_min_pu8
argument_list|(
name|__A
argument_list|,
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Create an 8-bit mask of the signs of 8-bit values.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|int
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_movemask_pi8
argument_list|(
name|__m64
name|__A
argument_list|)
block|{
return|return
name|__builtin_ia32_pmovmskb
argument_list|(
operator|(
name|__v8qi
operator|)
name|__A
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|int
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_m_pmovmskb
argument_list|(
name|__m64
name|__A
argument_list|)
block|{
return|return
name|_mm_movemask_pi8
argument_list|(
name|__A
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Multiply four unsigned 16-bit values in A by four unsigned 16-bit values    in B and produce the high 16 bits of the 32-bit results.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m64
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_mulhi_pu16
argument_list|(
name|__m64
name|__A
argument_list|,
name|__m64
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m64
operator|)
name|__builtin_ia32_pmulhuw
argument_list|(
operator|(
name|__v4hi
operator|)
name|__A
argument_list|,
operator|(
name|__v4hi
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m64
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_m_pmulhuw
argument_list|(
name|__m64
name|__A
argument_list|,
name|__m64
name|__B
argument_list|)
block|{
return|return
name|_mm_mulhi_pu16
argument_list|(
name|__A
argument_list|,
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Return a combination of the four 16-bit values in A.  The selector    must be an immediate.  */
end_comment

begin_if
if|#
directive|if
literal|0
end_if

begin_else
unit|static __inline __m64 __attribute__((__always_inline__)) _mm_shuffle_pi16 (__m64 __A, int __N) {   return (__m64) __builtin_ia32_pshufw ((__v4hi)__A, __N); }  static __inline __m64 __attribute__((__always_inline__)) _m_pshufw (__m64 __A, int __N) {   return _mm_shuffle_pi16 (__A, __N); }
else|#
directive|else
end_else

begin_define
define|#
directive|define
name|_mm_shuffle_pi16
parameter_list|(
name|A
parameter_list|,
name|N
parameter_list|)
define|\
value|((__m64) __builtin_ia32_pshufw ((__v4hi)(A), (N)))
end_define

begin_define
define|#
directive|define
name|_m_pshufw
parameter_list|(
name|A
parameter_list|,
name|N
parameter_list|)
value|_mm_shuffle_pi16 ((A), (N))
end_define

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* Conditionally store byte elements of A into P.  The high bit of each    byte in the selector N determines whether the corresponding byte from    A is stored.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|void
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_maskmove_si64
argument_list|(
name|__m64
name|__A
argument_list|,
name|__m64
name|__N
argument_list|,
name|char
operator|*
name|__P
argument_list|)
block|{
name|__builtin_ia32_maskmovq
argument_list|(
operator|(
name|__v8qi
operator|)
name|__A
argument_list|,
operator|(
name|__v8qi
operator|)
name|__N
argument_list|,
name|__P
argument_list|)
expr_stmt|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|void
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_m_maskmovq
argument_list|(
name|__m64
name|__A
argument_list|,
name|__m64
name|__N
argument_list|,
name|char
operator|*
name|__P
argument_list|)
block|{
name|_mm_maskmove_si64
argument_list|(
name|__A
argument_list|,
name|__N
argument_list|,
name|__P
argument_list|)
expr_stmt|;
block|}
end_decl_stmt

begin_comment
comment|/* Compute the rounded averages of the unsigned 8-bit values in A and B.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m64
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_avg_pu8
argument_list|(
name|__m64
name|__A
argument_list|,
name|__m64
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m64
operator|)
name|__builtin_ia32_pavgb
argument_list|(
operator|(
name|__v8qi
operator|)
name|__A
argument_list|,
operator|(
name|__v8qi
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m64
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_m_pavgb
argument_list|(
name|__m64
name|__A
argument_list|,
name|__m64
name|__B
argument_list|)
block|{
return|return
name|_mm_avg_pu8
argument_list|(
name|__A
argument_list|,
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Compute the rounded averages of the unsigned 16-bit values in A and B.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m64
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_avg_pu16
argument_list|(
name|__m64
name|__A
argument_list|,
name|__m64
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m64
operator|)
name|__builtin_ia32_pavgw
argument_list|(
operator|(
name|__v4hi
operator|)
name|__A
argument_list|,
operator|(
name|__v4hi
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m64
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_m_pavgw
argument_list|(
name|__m64
name|__A
argument_list|,
name|__m64
name|__B
argument_list|)
block|{
return|return
name|_mm_avg_pu16
argument_list|(
name|__A
argument_list|,
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Compute the sum of the absolute differences of the unsigned 8-bit    values in A and B.  Return the value in the lower 16-bit word; the    upper words are cleared.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|__m64
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_sad_pu8
argument_list|(
name|__m64
name|__A
argument_list|,
name|__m64
name|__B
argument_list|)
block|{
return|return
operator|(
name|__m64
operator|)
name|__builtin_ia32_psadbw
argument_list|(
operator|(
name|__v8qi
operator|)
name|__A
argument_list|,
operator|(
name|__v8qi
operator|)
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_decl_stmt
specifier|static
name|__inline
name|__m64
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_m_psadbw
argument_list|(
name|__m64
name|__A
argument_list|,
name|__m64
name|__B
argument_list|)
block|{
return|return
name|_mm_sad_pu8
argument_list|(
name|__A
argument_list|,
name|__B
argument_list|)
return|;
block|}
end_decl_stmt

begin_comment
comment|/* Loads one cache line from address P to a location "closer" to the    processor.  The selector I specifies the type of prefetch operation.  */
end_comment

begin_if
if|#
directive|if
literal|0
end_if

begin_else
unit|static __inline void __attribute__((__always_inline__)) _mm_prefetch (void *__P, enum _mm_hint __I) {   __builtin_prefetch (__P, 0, __I); }
else|#
directive|else
end_else

begin_define
define|#
directive|define
name|_mm_prefetch
parameter_list|(
name|P
parameter_list|,
name|I
parameter_list|)
define|\
value|__builtin_prefetch ((P), 0, (I))
end_define

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* Stores the data in A to the address P without polluting the caches.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|void
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_stream_pi
argument_list|(
name|__m64
operator|*
name|__P
argument_list|,
name|__m64
name|__A
argument_list|)
block|{
name|__builtin_ia32_movntq
argument_list|(
operator|(
name|unsigned
name|long
name|long
operator|*
operator|)
name|__P
argument_list|,
operator|(
name|unsigned
name|long
name|long
operator|)
name|__A
argument_list|)
expr_stmt|;
block|}
end_decl_stmt

begin_comment
comment|/* Likewise.  The address must be 16-byte aligned.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|void
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_stream_ps
argument_list|(
name|float
operator|*
name|__P
argument_list|,
name|__m128
name|__A
argument_list|)
block|{
name|__builtin_ia32_movntps
argument_list|(
name|__P
argument_list|,
operator|(
name|__v4sf
operator|)
name|__A
argument_list|)
expr_stmt|;
block|}
end_decl_stmt

begin_comment
comment|/* Guarantees that every preceding store is globally visible before    any subsequent store.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|void
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_sfence
argument_list|(
name|void
argument_list|)
block|{
name|__builtin_ia32_sfence
argument_list|()
expr_stmt|;
block|}
end_decl_stmt

begin_comment
comment|/* The execution of the next instruction is delayed by an implementation    specific amount of time.  The instruction does not modify the    architectural state.  */
end_comment

begin_decl_stmt
specifier|static
name|__inline
name|void
name|__attribute__
argument_list|(
operator|(
name|__always_inline__
operator|)
argument_list|)
name|_mm_pause
argument_list|(
name|void
argument_list|)
block|{
asm|__asm__
specifier|__volatile__
asm|("rep; nop" : : );
block|}
end_decl_stmt

begin_comment
comment|/* Transpose the 4x4 matrix composed of row[0-3].  */
end_comment

begin_define
define|#
directive|define
name|_MM_TRANSPOSE4_PS
parameter_list|(
name|row0
parameter_list|,
name|row1
parameter_list|,
name|row2
parameter_list|,
name|row3
parameter_list|)
define|\
value|do {									\   __v4sf __r0 = (row0), __r1 = (row1), __r2 = (row2), __r3 = (row3);	\   __v4sf __t0 = __builtin_ia32_unpcklps (__r0, __r1);			\   __v4sf __t1 = __builtin_ia32_unpcklps (__r2, __r3);			\   __v4sf __t2 = __builtin_ia32_unpckhps (__r0, __r1);			\   __v4sf __t3 = __builtin_ia32_unpckhps (__r2, __r3);			\   (row0) = __builtin_ia32_movlhps (__t0, __t1);				\   (row1) = __builtin_ia32_movhlps (__t1, __t0);				\   (row2) = __builtin_ia32_movlhps (__t2, __t3);				\   (row3) = __builtin_ia32_movhlps (__t3, __t2);				\ } while (0)
end_define

begin_comment
comment|/* For backward source compatibility.  */
end_comment

begin_include
include|#
directive|include
file|<emmintrin.h>
end_include

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* __SSE__ */
end_comment

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* _XMMINTRIN_H_INCLUDED */
end_comment

end_unit

