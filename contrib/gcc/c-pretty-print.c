begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* Subroutines common to both C and C++ pretty-printers.    Copyright (C) 2002 Free Software Foundation, Inc.    Contributed by Gabriel Dos Reis<gdr@integrable-solutions.net>  This file is part of GCC.  GCC is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2, or (at your option) any later version.  GCC is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.  You should have received a copy of the GNU General Public License along with GCC; see the file COPYING.  If not, write to the Free Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  */
end_comment

begin_include
include|#
directive|include
file|"config.h"
end_include

begin_include
include|#
directive|include
file|"system.h"
end_include

begin_include
include|#
directive|include
file|"real.h"
end_include

begin_include
include|#
directive|include
file|"c-pretty-print.h"
end_include

begin_include
include|#
directive|include
file|"c-tree.h"
end_include

begin_comment
comment|/* literal  */
end_comment

begin_decl_stmt
specifier|static
name|void
name|pp_c_char
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|int
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|pp_c_character_literal
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|pp_c_bool_literal
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|bool
name|pp_c_enumerator
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|pp_c_integer_literal
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|pp_c_real_literal
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|pp_c_string_literal
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|pp_c_primary_expression
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* postfix-expression  */
end_comment

begin_decl_stmt
specifier|static
name|void
name|pp_c_initializer_list
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|pp_c_unary_expression
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|pp_c_multiplicative_expression
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|pp_c_additive_expression
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|pp_c_shift_expression
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|pp_c_relational_expression
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|pp_c_equality_expression
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|pp_c_and_expression
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|pp_c_exclusive_or_expression
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|pp_c_inclusive_or_expression
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|pp_c_logical_and_expression
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|pp_c_conditional_expression
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|pp_c_assignment_expression
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* declarations.  */
end_comment

begin_decl_stmt
specifier|static
name|void
name|pp_c_declaration_specifiers
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|pp_c_init_declarator
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|pp_c_declarator
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|pp_c_direct_declarator
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|pp_c_abstract_declarator
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|pp_c_specifier_qualifier_list
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|pp_c_simple_type_specifier
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|pp_c_parameter_declaration
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|pp_c_type_id
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|pp_c_storage_class_specifier
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|pp_c_function_specifier
name|PARAMS
argument_list|(
operator|(
name|c_pretty_printer
operator|,
name|tree
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_escape
end_escape

begin_comment
comment|/* Declarations.  */
end_comment

begin_comment
comment|/* Print out CV-qualifiers.  Take care of possible extensions.  */
end_comment

begin_function
name|void
name|pp_c_cv_qualifier
parameter_list|(
name|ppi
parameter_list|,
name|cv
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|int
name|cv
decl_stmt|;
block|{
if|if
condition|(
name|cv
operator|&
name|TYPE_QUAL_CONST
condition|)
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
literal|"const"
argument_list|)
expr_stmt|;
if|if
condition|(
name|cv
operator|&
name|TYPE_QUAL_VOLATILE
condition|)
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
literal|"volatile"
argument_list|)
expr_stmt|;
if|if
condition|(
name|cv
operator|&
name|TYPE_QUAL_RESTRICT
condition|)
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
name|flag_isoc99
condition|?
literal|"restrict"
else|:
literal|"__restrict__"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|pp_c_simple_type_specifier
parameter_list|(
name|ppi
parameter_list|,
name|t
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|t
decl_stmt|;
block|{
specifier|const
name|enum
name|tree_code
name|code
init|=
name|TREE_CODE
argument_list|(
name|t
argument_list|)
decl_stmt|;
switch|switch
condition|(
name|code
condition|)
block|{
case|case
name|ERROR_MARK
case|:
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
literal|"<type-error>"
argument_list|)
expr_stmt|;
break|break;
if|#
directive|if
literal|0
block|case UNKNOWN_TYPE:       pp_c_identifier (ppi, "<unkown-type>");       break;
endif|#
directive|endif
case|case
name|IDENTIFIER_NODE
case|:
name|pp_c_tree_identifier
argument_list|(
name|ppi
argument_list|,
name|t
argument_list|)
expr_stmt|;
break|break;
case|case
name|VOID_TYPE
case|:
case|case
name|BOOLEAN_TYPE
case|:
case|case
name|CHAR_TYPE
case|:
case|case
name|INTEGER_TYPE
case|:
case|case
name|REAL_TYPE
case|:
name|pp_c_tree_identifier
argument_list|(
name|ppi
argument_list|,
name|DECL_NAME
argument_list|(
name|t
argument_list|)
argument_list|)
expr_stmt|;
break|break;
case|case
name|COMPLEX_TYPE
case|:
case|case
name|VECTOR_TYPE
case|:
name|pp_c_simple_type_specifier
argument_list|(
name|ppi
argument_list|,
name|TYPE_MAIN_VARIANT
argument_list|(
name|TREE_TYPE
argument_list|(
name|t
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
name|code
operator|==
name|COMPLEX_TYPE
condition|)
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
name|flag_isoc99
condition|?
literal|"_Complex"
else|:
literal|"__complex__"
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
name|code
operator|==
name|VECTOR_TYPE
condition|)
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
literal|"__vector__"
argument_list|)
expr_stmt|;
break|break;
case|case
name|TYPE_DECL
case|:
if|if
condition|(
name|DECL_NAME
argument_list|(
name|t
argument_list|)
condition|)
name|pp_c_tree_identifier
argument_list|(
name|ppi
argument_list|,
name|DECL_NAME
argument_list|(
name|t
argument_list|)
argument_list|)
expr_stmt|;
else|else
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
literal|"<typedef-error>"
argument_list|)
expr_stmt|;
break|break;
case|case
name|UNION_TYPE
case|:
case|case
name|RECORD_TYPE
case|:
case|case
name|ENUMERAL_TYPE
case|:
if|if
condition|(
name|code
operator|==
name|UNION_TYPE
condition|)
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
literal|"union"
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
name|code
operator|==
name|RECORD_TYPE
condition|)
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
literal|"struct"
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
name|code
operator|==
name|ENUMERAL_TYPE
condition|)
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
literal|"enum"
argument_list|)
expr_stmt|;
else|else
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
literal|"<tag-error>"
argument_list|)
expr_stmt|;
if|if
condition|(
name|TYPE_NAME
argument_list|(
name|t
argument_list|)
condition|)
name|pp_c_tree_identifier
argument_list|(
name|ppi
argument_list|,
name|TYPE_NAME
argument_list|(
name|t
argument_list|)
argument_list|)
expr_stmt|;
else|else
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
literal|"<anonymous>"
argument_list|)
expr_stmt|;
break|break;
default|default:
name|pp_unsupported_tree
argument_list|(
name|ppi
argument_list|,
name|t
argument_list|)
expr_stmt|;
block|}
block|}
end_function

begin_function
specifier|static
specifier|inline
name|void
name|pp_c_specifier_qualifier_list
parameter_list|(
name|ppi
parameter_list|,
name|t
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|t
decl_stmt|;
block|{
name|pp_c_simple_type_specifier
argument_list|(
name|ppi
argument_list|,
name|TYPE_MAIN_VARIANT
argument_list|(
name|TREE_TYPE
argument_list|(
name|t
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_cv_qualifier
argument_list|(
name|ppi
argument_list|,
name|TYPE_QUALS
argument_list|(
name|t
argument_list|)
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|pp_c_abstract_declarator
parameter_list|(
name|ppi
parameter_list|,
name|t
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|t
decl_stmt|;
block|{
name|pp_unsupported_tree
argument_list|(
name|ppi
argument_list|,
name|t
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
specifier|inline
name|void
name|pp_c_type_id
parameter_list|(
name|ppi
parameter_list|,
name|t
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|t
decl_stmt|;
block|{
name|pp_c_specifier_qualifier_list
argument_list|(
name|ppi
argument_list|,
name|t
argument_list|)
expr_stmt|;
name|pp_c_abstract_declarator
argument_list|(
name|ppi
argument_list|,
name|t
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
specifier|inline
name|void
name|pp_c_storage_class_specifier
parameter_list|(
name|pp
parameter_list|,
name|t
parameter_list|)
name|c_pretty_printer
name|pp
decl_stmt|;
name|tree
name|t
decl_stmt|;
block|{
if|if
condition|(
name|TREE_CODE
argument_list|(
name|t
argument_list|)
operator|==
name|TYPE_DECL
condition|)
name|pp_c_identifier
argument_list|(
name|pp
argument_list|,
literal|"typedef"
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
name|DECL_REGISTER
argument_list|(
name|t
argument_list|)
condition|)
name|pp_c_identifier
argument_list|(
name|pp
argument_list|,
literal|"register"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
specifier|inline
name|void
name|pp_c_function_specifier
parameter_list|(
name|pp
parameter_list|,
name|t
parameter_list|)
name|c_pretty_printer
name|pp
decl_stmt|;
name|tree
name|t
decl_stmt|;
block|{
if|if
condition|(
name|TREE_CODE
argument_list|(
name|t
argument_list|)
operator|==
name|FUNCTION_DECL
operator|&&
name|DECL_DECLARED_INLINE_P
argument_list|(
name|t
argument_list|)
condition|)
name|pp_c_identifier
argument_list|(
name|pp
argument_list|,
literal|"inline"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
specifier|inline
name|void
name|pp_c_declaration_specifiers
parameter_list|(
name|pp
parameter_list|,
name|t
parameter_list|)
name|c_pretty_printer
name|pp
decl_stmt|;
name|tree
name|t
decl_stmt|;
block|{
name|pp_c_storage_class_specifier
argument_list|(
name|pp
argument_list|,
name|t
argument_list|)
expr_stmt|;
name|pp_c_function_specifier
argument_list|(
name|pp
argument_list|,
name|t
argument_list|)
expr_stmt|;
name|pp_type_specifier
argument_list|(
name|pp
argument_list|,
name|TYPE_MAIN_VARIANT
argument_list|(
name|TREE_TYPE
argument_list|(
name|t
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_cv_qualifier
argument_list|(
name|pp
argument_list|,
name|TYPE_QUALS
argument_list|(
name|TREE_TYPE
argument_list|(
name|t
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
specifier|inline
name|void
name|pp_c_direct_declarator
parameter_list|(
name|pp
parameter_list|,
name|t
parameter_list|)
name|c_pretty_printer
name|pp
decl_stmt|;
name|tree
name|t
decl_stmt|;
block|{
name|pp_unsupported_tree
argument_list|(
name|pp
argument_list|,
name|t
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
specifier|inline
name|void
name|pp_c_declarator
parameter_list|(
name|pp
parameter_list|,
name|t
parameter_list|)
name|c_pretty_printer
name|pp
decl_stmt|;
name|tree
name|t
decl_stmt|;
block|{
name|pp_unsupported_tree
argument_list|(
name|pp
argument_list|,
name|t
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
specifier|inline
name|void
name|pp_c_init_declarator
parameter_list|(
name|pp
parameter_list|,
name|t
parameter_list|)
name|c_pretty_printer
name|pp
decl_stmt|;
name|tree
name|t
decl_stmt|;
block|{
name|pp_declarator
argument_list|(
name|pp
argument_list|,
name|t
argument_list|)
expr_stmt|;
if|if
condition|(
name|DECL_INITIAL
argument_list|(
name|t
argument_list|)
condition|)
block|{
name|pp_whitespace
argument_list|(
name|pp
argument_list|)
expr_stmt|;
name|pp_equal
argument_list|(
name|pp
argument_list|)
expr_stmt|;
name|pp_whitespace
argument_list|(
name|pp
argument_list|)
expr_stmt|;
name|pp_c_initializer
argument_list|(
name|pp
argument_list|,
name|DECL_INITIAL
argument_list|(
name|t
argument_list|)
argument_list|)
expr_stmt|;
block|}
block|}
end_function

begin_function
name|void
name|pp_c_declaration
parameter_list|(
name|pp
parameter_list|,
name|t
parameter_list|)
name|c_pretty_printer
name|pp
decl_stmt|;
name|tree
name|t
decl_stmt|;
block|{
name|pp_declaration_specifiers
argument_list|(
name|pp
argument_list|,
name|t
argument_list|)
expr_stmt|;
name|pp_c_init_declarator
argument_list|(
name|pp
argument_list|,
name|t
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|pp_c_parameter_declaration
parameter_list|(
name|pp
parameter_list|,
name|t
parameter_list|)
name|c_pretty_printer
name|pp
decl_stmt|;
name|tree
name|t
decl_stmt|;
block|{
name|pp_unsupported_tree
argument_list|(
name|pp
argument_list|,
name|t
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/* Pretty-print ATTRIBUTES using GNU C extension syntax.  */
end_comment

begin_function
name|void
name|pp_c_attributes
parameter_list|(
name|pp
parameter_list|,
name|attributes
parameter_list|)
name|c_pretty_printer
name|pp
decl_stmt|;
name|tree
name|attributes
decl_stmt|;
block|{
if|if
condition|(
name|attributes
operator|==
name|NULL_TREE
condition|)
return|return;
name|pp_c_identifier
argument_list|(
name|pp
argument_list|,
literal|"__attribute__"
argument_list|)
expr_stmt|;
name|pp_c_left_paren
argument_list|(
name|pp
argument_list|)
expr_stmt|;
name|pp_c_left_paren
argument_list|(
name|pp
argument_list|)
expr_stmt|;
for|for
control|(
init|;
name|attributes
operator|!=
name|NULL_TREE
condition|;
name|attributes
operator|=
name|TREE_CHAIN
argument_list|(
name|attributes
argument_list|)
control|)
block|{
name|pp_tree_identifier
argument_list|(
name|pp
argument_list|,
name|TREE_PURPOSE
argument_list|(
name|attributes
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
name|TREE_VALUE
argument_list|(
name|attributes
argument_list|)
condition|)
block|{
name|pp_c_left_paren
argument_list|(
name|pp
argument_list|)
expr_stmt|;
name|pp_c_expression_list
argument_list|(
name|pp
argument_list|,
name|TREE_VALUE
argument_list|(
name|attributes
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_right_paren
argument_list|(
name|pp
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
name|TREE_CHAIN
argument_list|(
name|attributes
argument_list|)
condition|)
name|pp_separate_with
argument_list|(
name|pp
argument_list|,
literal|','
argument_list|)
expr_stmt|;
block|}
name|pp_c_right_paren
argument_list|(
name|pp
argument_list|)
expr_stmt|;
name|pp_c_right_paren
argument_list|(
name|pp
argument_list|)
expr_stmt|;
block|}
end_function

begin_escape
end_escape

begin_comment
comment|/* Expressions.  */
end_comment

begin_comment
comment|/* Print out a c-char.  */
end_comment

begin_function
specifier|static
name|void
name|pp_c_char
parameter_list|(
name|ppi
parameter_list|,
name|c
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|int
name|c
decl_stmt|;
block|{
switch|switch
condition|(
name|c
condition|)
block|{
case|case
name|TARGET_NEWLINE
case|:
name|pp_identifier
argument_list|(
name|ppi
argument_list|,
literal|"\\n"
argument_list|)
expr_stmt|;
break|break;
case|case
name|TARGET_TAB
case|:
name|pp_identifier
argument_list|(
name|ppi
argument_list|,
literal|"\\t"
argument_list|)
expr_stmt|;
break|break;
case|case
name|TARGET_VT
case|:
name|pp_identifier
argument_list|(
name|ppi
argument_list|,
literal|"\\v"
argument_list|)
expr_stmt|;
break|break;
case|case
name|TARGET_BS
case|:
name|pp_identifier
argument_list|(
name|ppi
argument_list|,
literal|"\\b"
argument_list|)
expr_stmt|;
break|break;
case|case
name|TARGET_CR
case|:
name|pp_identifier
argument_list|(
name|ppi
argument_list|,
literal|"\\r"
argument_list|)
expr_stmt|;
break|break;
case|case
name|TARGET_FF
case|:
name|pp_identifier
argument_list|(
name|ppi
argument_list|,
literal|"\\f"
argument_list|)
expr_stmt|;
break|break;
case|case
name|TARGET_BELL
case|:
name|pp_identifier
argument_list|(
name|ppi
argument_list|,
literal|"\\a"
argument_list|)
expr_stmt|;
break|break;
case|case
literal|'\\'
case|:
name|pp_identifier
argument_list|(
name|ppi
argument_list|,
literal|"\\\\"
argument_list|)
expr_stmt|;
break|break;
case|case
literal|'\''
case|:
name|pp_identifier
argument_list|(
name|ppi
argument_list|,
literal|"\\'"
argument_list|)
expr_stmt|;
break|break;
case|case
literal|'\"'
case|:
name|pp_identifier
argument_list|(
name|ppi
argument_list|,
literal|"\\\""
argument_list|)
expr_stmt|;
break|break;
default|default:
if|if
condition|(
name|ISPRINT
argument_list|(
name|c
argument_list|)
condition|)
name|pp_character
argument_list|(
name|ppi
argument_list|,
name|c
argument_list|)
expr_stmt|;
else|else
name|pp_format_scalar
argument_list|(
name|ppi
argument_list|,
literal|"\\%03o"
argument_list|,
operator|(
name|unsigned
operator|)
name|c
argument_list|)
expr_stmt|;
break|break;
block|}
block|}
end_function

begin_comment
comment|/* Print out a STRING literal.  */
end_comment

begin_function
specifier|static
specifier|inline
name|void
name|pp_c_string_literal
parameter_list|(
name|ppi
parameter_list|,
name|s
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|s
decl_stmt|;
block|{
specifier|const
name|char
modifier|*
name|p
init|=
name|TREE_STRING_POINTER
argument_list|(
name|s
argument_list|)
decl_stmt|;
name|int
name|n
init|=
name|TREE_STRING_LENGTH
argument_list|(
name|s
argument_list|)
operator|-
literal|1
decl_stmt|;
name|int
name|i
decl_stmt|;
name|pp_doublequote
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|n
condition|;
operator|++
name|i
control|)
name|pp_c_char
argument_list|(
name|ppi
argument_list|,
name|p
index|[
name|i
index|]
argument_list|)
expr_stmt|;
name|pp_doublequote
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/* Print out a CHARACTER literal.  */
end_comment

begin_function
specifier|static
specifier|inline
name|void
name|pp_c_character_literal
parameter_list|(
name|ppi
parameter_list|,
name|c
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|c
decl_stmt|;
block|{
name|pp_quote
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_char
argument_list|(
name|ppi
argument_list|,
name|tree_low_cst
argument_list|(
name|c
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|pp_quote
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/* Print out a BOOLEAN literal.  */
end_comment

begin_function
specifier|static
specifier|inline
name|void
name|pp_c_bool_literal
parameter_list|(
name|ppi
parameter_list|,
name|b
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|b
decl_stmt|;
block|{
if|if
condition|(
name|b
operator|==
name|boolean_false_node
operator|||
name|integer_zerop
argument_list|(
name|b
argument_list|)
condition|)
block|{
if|if
condition|(
name|c_language
operator|==
name|clk_cplusplus
condition|)
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
literal|"false"
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
name|c_language
operator|==
name|clk_c
operator|&&
name|flag_isoc99
condition|)
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
literal|"_False"
argument_list|)
expr_stmt|;
else|else
name|pp_unsupported_tree
argument_list|(
name|ppi
argument_list|,
name|b
argument_list|)
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|b
operator|==
name|boolean_true_node
condition|)
block|{
if|if
condition|(
name|c_language
operator|==
name|clk_cplusplus
condition|)
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
literal|"true"
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
name|c_language
operator|==
name|clk_c
operator|&&
name|flag_isoc99
condition|)
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
literal|"_True"
argument_list|)
expr_stmt|;
else|else
name|pp_unsupported_tree
argument_list|(
name|ppi
argument_list|,
name|b
argument_list|)
expr_stmt|;
block|}
else|else
name|pp_unsupported_tree
argument_list|(
name|ppi
argument_list|,
name|b
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/* Attempt to print out an ENUMERATOR.  Return true on success.  Else return     false; that means the value was obtained by a cast, in which case    print out the type-id part of the cast-expression -- the casted value    is then printed by pp_c_integer_literal.  */
end_comment

begin_function
specifier|static
name|bool
name|pp_c_enumerator
parameter_list|(
name|ppi
parameter_list|,
name|e
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|e
decl_stmt|;
block|{
name|tree
name|type
init|=
name|TREE_TYPE
argument_list|(
name|e
argument_list|)
decl_stmt|;
name|tree
name|value
decl_stmt|;
comment|/* Find the name of this constant.  */
for|for
control|(
name|value
operator|=
name|TYPE_VALUES
argument_list|(
name|type
argument_list|)
init|;
name|value
operator|!=
name|NULL_TREE
operator|&&
operator|!
name|tree_int_cst_equal
argument_list|(
name|TREE_VALUE
argument_list|(
name|value
argument_list|)
argument_list|,
name|e
argument_list|)
condition|;
name|value
operator|=
name|TREE_CHAIN
argument_list|(
name|value
argument_list|)
control|)
empty_stmt|;
if|if
condition|(
name|value
operator|!=
name|NULL_TREE
condition|)
name|pp_c_tree_identifier
argument_list|(
name|ppi
argument_list|,
name|TREE_PURPOSE
argument_list|(
name|value
argument_list|)
argument_list|)
expr_stmt|;
else|else
block|{
comment|/* Value must have been cast.  */
name|pp_c_left_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_type_id
argument_list|(
name|ppi
argument_list|,
name|type
argument_list|)
expr_stmt|;
name|pp_c_right_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
return|return
name|false
return|;
block|}
return|return
name|true
return|;
block|}
end_function

begin_comment
comment|/* Print out an INTEGER constant value.  */
end_comment

begin_function
specifier|static
name|void
name|pp_c_integer_literal
parameter_list|(
name|ppi
parameter_list|,
name|i
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|i
decl_stmt|;
block|{
name|tree
name|type
init|=
name|TREE_TYPE
argument_list|(
name|i
argument_list|)
decl_stmt|;
if|if
condition|(
name|type
operator|==
name|boolean_type_node
condition|)
name|pp_c_bool_literal
argument_list|(
name|ppi
argument_list|,
name|i
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
name|type
operator|==
name|char_type_node
condition|)
name|pp_c_character_literal
argument_list|(
name|ppi
argument_list|,
name|i
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
name|TREE_CODE
argument_list|(
name|type
argument_list|)
operator|==
name|ENUMERAL_TYPE
operator|&&
name|pp_c_enumerator
argument_list|(
name|ppi
argument_list|,
name|i
argument_list|)
condition|)
empty_stmt|;
else|else
block|{
if|if
condition|(
name|host_integerp
argument_list|(
name|i
argument_list|,
literal|0
argument_list|)
condition|)
name|pp_wide_integer
argument_list|(
name|ppi
argument_list|,
name|TREE_INT_CST_LOW
argument_list|(
name|i
argument_list|)
argument_list|)
expr_stmt|;
else|else
block|{
if|if
condition|(
name|tree_int_cst_sgn
argument_list|(
name|i
argument_list|)
operator|<
literal|0
condition|)
block|{
specifier|static
name|char
name|format
index|[
literal|10
index|]
decl_stmt|;
comment|/* "%x%09999x\0" */
if|if
condition|(
operator|!
name|format
index|[
literal|0
index|]
condition|)
name|sprintf
argument_list|(
name|format
argument_list|,
literal|"%%x%%0%dx"
argument_list|,
name|HOST_BITS_PER_INT
operator|/
literal|4
argument_list|)
expr_stmt|;
name|pp_c_char
argument_list|(
name|ppi
argument_list|,
literal|'-'
argument_list|)
expr_stmt|;
name|i
operator|=
name|build_int_2
argument_list|(
operator|-
name|TREE_INT_CST_LOW
argument_list|(
name|i
argument_list|)
argument_list|,
operator|~
name|TREE_INT_CST_HIGH
argument_list|(
name|i
argument_list|)
operator|+
operator|!
name|TREE_INT_CST_LOW
argument_list|(
name|i
argument_list|)
argument_list|)
expr_stmt|;
name|sprintf
argument_list|(
name|pp_buffer
argument_list|(
name|ppi
argument_list|)
operator|->
name|digit_buffer
argument_list|,
name|format
argument_list|,
name|TREE_INT_CST_HIGH
argument_list|(
name|i
argument_list|)
argument_list|,
name|TREE_INT_CST_LOW
argument_list|(
name|i
argument_list|)
argument_list|)
expr_stmt|;
name|pp_identifier
argument_list|(
name|ppi
argument_list|,
name|pp_buffer
argument_list|(
name|ppi
argument_list|)
operator|->
name|digit_buffer
argument_list|)
expr_stmt|;
block|}
block|}
block|}
block|}
end_function

begin_comment
comment|/* Print out a REAL value.  */
end_comment

begin_function
specifier|static
specifier|inline
name|void
name|pp_c_real_literal
parameter_list|(
name|ppi
parameter_list|,
name|r
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|r
decl_stmt|;
block|{
name|real_to_decimal
argument_list|(
name|pp_buffer
argument_list|(
name|ppi
argument_list|)
operator|->
name|digit_buffer
argument_list|,
operator|&
name|TREE_REAL_CST
argument_list|(
name|r
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|pp_buffer
argument_list|(
name|ppi
argument_list|)
operator|->
name|digit_buffer
argument_list|)
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|pp_identifier
argument_list|(
name|ppi
argument_list|,
name|pp_buffer
argument_list|(
name|ppi
argument_list|)
operator|->
name|digit_buffer
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|pp_c_literal
parameter_list|(
name|ppi
parameter_list|,
name|e
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|e
decl_stmt|;
block|{
switch|switch
condition|(
name|TREE_CODE
argument_list|(
name|e
argument_list|)
condition|)
block|{
case|case
name|INTEGER_CST
case|:
name|pp_c_integer_literal
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
case|case
name|REAL_CST
case|:
name|pp_c_real_literal
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
case|case
name|STRING_CST
case|:
name|pp_c_string_literal
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
default|default:
name|pp_unsupported_tree
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
block|}
block|}
end_function

begin_comment
comment|/* Pretty-print a C primary-expression.  */
end_comment

begin_function
specifier|static
name|void
name|pp_c_primary_expression
parameter_list|(
name|ppi
parameter_list|,
name|e
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|e
decl_stmt|;
block|{
switch|switch
condition|(
name|TREE_CODE
argument_list|(
name|e
argument_list|)
condition|)
block|{
case|case
name|VAR_DECL
case|:
case|case
name|PARM_DECL
case|:
case|case
name|FIELD_DECL
case|:
case|case
name|CONST_DECL
case|:
case|case
name|FUNCTION_DECL
case|:
case|case
name|LABEL_DECL
case|:
name|e
operator|=
name|DECL_NAME
argument_list|(
name|e
argument_list|)
expr_stmt|;
comment|/* Fall through.  */
case|case
name|IDENTIFIER_NODE
case|:
name|pp_c_tree_identifier
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
case|case
name|ERROR_MARK
case|:
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
literal|"<erroneous-expression>"
argument_list|)
expr_stmt|;
break|break;
case|case
name|RESULT_DECL
case|:
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
literal|"<return-value>"
argument_list|)
expr_stmt|;
break|break;
case|case
name|INTEGER_CST
case|:
case|case
name|REAL_CST
case|:
case|case
name|STRING_CST
case|:
name|pp_c_literal
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
case|case
name|TARGET_EXPR
case|:
name|pp_c_left_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
literal|"__builtin_memcpy"
argument_list|)
expr_stmt|;
name|pp_c_left_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_ampersand
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_primary_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|pp_separate_with
argument_list|(
name|ppi
argument_list|,
literal|','
argument_list|)
expr_stmt|;
name|pp_ampersand
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_initializer
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|2
argument_list|)
condition|)
block|{
name|pp_separate_with
argument_list|(
name|ppi
argument_list|,
literal|','
argument_list|)
expr_stmt|;
name|pp_c_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|2
argument_list|)
argument_list|)
expr_stmt|;
block|}
name|pp_c_right_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
case|case
name|STMT_EXPR
case|:
name|pp_c_left_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_statement
argument_list|(
name|ppi
argument_list|,
name|STMT_EXPR_STMT
argument_list|(
name|e
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_right_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
break|break;
default|default:
comment|/*  Make sure this call won't cause any infinite loop.  */
name|pp_c_left_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
name|pp_c_right_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
break|break;
block|}
block|}
end_function

begin_comment
comment|/* Print out a C initializer -- also support C compound-literals.  */
end_comment

begin_function
name|void
name|pp_c_initializer
parameter_list|(
name|ppi
parameter_list|,
name|e
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|e
decl_stmt|;
block|{
if|if
condition|(
name|TREE_CODE
argument_list|(
name|e
argument_list|)
operator|==
name|CONSTRUCTOR
condition|)
block|{
name|enum
name|tree_code
name|code
init|=
name|TREE_CODE
argument_list|(
name|TREE_TYPE
argument_list|(
name|e
argument_list|)
argument_list|)
decl_stmt|;
if|if
condition|(
name|code
operator|==
name|RECORD_TYPE
operator|||
name|code
operator|==
name|UNION_TYPE
operator|||
name|code
operator|==
name|ARRAY_TYPE
condition|)
block|{
name|pp_left_brace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_initializer_list
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
name|pp_right_brace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
block|}
else|else
name|pp_unsupported_tree
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
block|}
else|else
name|pp_assignment_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|pp_c_initializer_list
parameter_list|(
name|ppi
parameter_list|,
name|e
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|e
decl_stmt|;
block|{
name|tree
name|type
init|=
name|TREE_TYPE
argument_list|(
name|e
argument_list|)
decl_stmt|;
specifier|const
name|enum
name|tree_code
name|code
init|=
name|TREE_CODE
argument_list|(
name|type
argument_list|)
decl_stmt|;
if|if
condition|(
name|code
operator|==
name|RECORD_TYPE
operator|||
name|code
operator|==
name|UNION_TYPE
operator|||
name|code
operator|==
name|ARRAY_TYPE
condition|)
block|{
name|tree
name|init
init|=
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|1
argument_list|)
decl_stmt|;
for|for
control|(
init|;
name|init
operator|!=
name|NULL_TREE
condition|;
name|init
operator|=
name|TREE_CHAIN
argument_list|(
name|init
argument_list|)
control|)
block|{
if|if
condition|(
name|code
operator|==
name|RECORD_TYPE
operator|||
name|code
operator|==
name|UNION_TYPE
condition|)
block|{
name|pp_dot
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_primary_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_PURPOSE
argument_list|(
name|init
argument_list|)
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|pp_c_left_bracket
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
if|if
condition|(
name|TREE_PURPOSE
argument_list|(
name|init
argument_list|)
condition|)
name|pp_c_literal
argument_list|(
name|ppi
argument_list|,
name|TREE_PURPOSE
argument_list|(
name|init
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_right_bracket
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
block|}
name|pp_c_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_equal
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_initializer
argument_list|(
name|ppi
argument_list|,
name|TREE_VALUE
argument_list|(
name|init
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
name|TREE_CHAIN
argument_list|(
name|init
argument_list|)
condition|)
name|pp_separate_with
argument_list|(
name|ppi
argument_list|,
literal|','
argument_list|)
expr_stmt|;
block|}
block|}
else|else
name|pp_unsupported_tree
argument_list|(
name|ppi
argument_list|,
name|type
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|pp_c_postfix_expression
parameter_list|(
name|ppi
parameter_list|,
name|e
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|e
decl_stmt|;
block|{
name|enum
name|tree_code
name|code
init|=
name|TREE_CODE
argument_list|(
name|e
argument_list|)
decl_stmt|;
switch|switch
condition|(
name|code
condition|)
block|{
case|case
name|POSTINCREMENT_EXPR
case|:
case|case
name|POSTDECREMENT_EXPR
case|:
name|pp_postfix_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|pp_identifier
argument_list|(
name|ppi
argument_list|,
name|code
operator|==
name|POSTINCREMENT_EXPR
condition|?
literal|"++"
else|:
literal|"--"
argument_list|)
expr_stmt|;
break|break;
case|case
name|ARROW_EXPR
case|:
name|pp_postfix_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|pp_arrow
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
break|break;
case|case
name|ARRAY_REF
case|:
name|pp_postfix_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_left_bracket
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_right_bracket
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
break|break;
case|case
name|CALL_EXPR
case|:
name|pp_postfix_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_left_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_expression_list
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_right_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
break|break;
case|case
name|ABS_EXPR
case|:
case|case
name|FFS_EXPR
case|:
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
name|code
operator|==
name|ABS_EXPR
condition|?
literal|"__builtin_abs"
else|:
literal|"__builtin_ffs"
argument_list|)
expr_stmt|;
name|pp_c_left_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_right_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
break|break;
case|case
name|COMPONENT_REF
case|:
block|{
name|tree
name|object
init|=
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
decl_stmt|;
if|if
condition|(
name|TREE_CODE
argument_list|(
name|object
argument_list|)
operator|==
name|INDIRECT_REF
condition|)
block|{
name|pp_postfix_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|object
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|pp_arrow
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|pp_postfix_expression
argument_list|(
name|ppi
argument_list|,
name|object
argument_list|)
expr_stmt|;
name|pp_dot
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
block|}
name|pp_c_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
block|}
break|break;
case|case
name|COMPLEX_CST
case|:
case|case
name|VECTOR_CST
case|:
case|case
name|COMPLEX_EXPR
case|:
name|pp_c_left_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_type_id
argument_list|(
name|ppi
argument_list|,
name|TREE_TYPE
argument_list|(
name|e
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_right_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_left_brace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
if|if
condition|(
name|code
operator|==
name|COMPLEX_CST
condition|)
block|{
name|pp_c_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_REALPART
argument_list|(
name|e
argument_list|)
argument_list|)
expr_stmt|;
name|pp_separate_with
argument_list|(
name|ppi
argument_list|,
literal|','
argument_list|)
expr_stmt|;
name|pp_c_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_IMAGPART
argument_list|(
name|e
argument_list|)
argument_list|)
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|code
operator|==
name|VECTOR_CST
condition|)
name|pp_c_expression_list
argument_list|(
name|ppi
argument_list|,
name|TREE_VECTOR_CST_ELTS
argument_list|(
name|e
argument_list|)
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
name|code
operator|==
name|COMPLEX_EXPR
condition|)
block|{
name|pp_c_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|pp_separate_with
argument_list|(
name|ppi
argument_list|,
literal|','
argument_list|)
expr_stmt|;
name|pp_c_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
block|}
name|pp_right_brace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
break|break;
case|case
name|COMPOUND_LITERAL_EXPR
case|:
name|e
operator|=
name|DECL_INITIAL
argument_list|(
name|e
argument_list|)
expr_stmt|;
comment|/* Fall through.  */
case|case
name|CONSTRUCTOR
case|:
name|pp_initializer
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
if|#
directive|if
literal|0
block|case SRCLOC:       pp_left_paren (ppi);       pp_identifier (ppi, "__location__");       pp_right_paren (ppi);       pp_whitespace (ppi);       pp_left_brace (ppi);       pp_dot (ppi);       pp_identifier (ppi, "file");       pp_whitespace (ppi);       pp_equal (ppi);       pp_c_whitespace (ppi);       pp_c_expression (ppi, SRCLOC_FILE (e));       pp_separate_with (ppi, ',');       pp_dot (ppi);       pp_identifier (ppi, "line");       pp_whitespace (ppi);       pp_equal (ppi);       pp_c_whitespace (ppi);       pp_c_expression (ppi, SRCLOC_LINE (e));       pp_right_brace (ppi);       break;
endif|#
directive|endif
case|case
name|VA_ARG_EXPR
case|:
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
literal|"__builtin_va_arg"
argument_list|)
expr_stmt|;
name|pp_c_left_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_assignment_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|pp_separate_with
argument_list|(
name|ppi
argument_list|,
literal|','
argument_list|)
expr_stmt|;
name|pp_type_id
argument_list|(
name|ppi
argument_list|,
name|TREE_TYPE
argument_list|(
name|e
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_right_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
break|break;
default|default:
name|pp_primary_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
block|}
block|}
end_function

begin_comment
comment|/* Print out an expression-list; E is expected to be a TREE_LIST  */
end_comment

begin_function
name|void
name|pp_c_expression_list
parameter_list|(
name|ppi
parameter_list|,
name|e
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|e
decl_stmt|;
block|{
for|for
control|(
init|;
name|e
operator|!=
name|NULL_TREE
condition|;
name|e
operator|=
name|TREE_CHAIN
argument_list|(
name|e
argument_list|)
control|)
block|{
name|pp_c_assignment_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_VALUE
argument_list|(
name|e
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
name|TREE_CHAIN
argument_list|(
name|e
argument_list|)
condition|)
name|pp_separate_with
argument_list|(
name|ppi
argument_list|,
literal|','
argument_list|)
expr_stmt|;
block|}
block|}
end_function

begin_function
specifier|static
name|void
name|pp_c_unary_expression
parameter_list|(
name|ppi
parameter_list|,
name|e
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|e
decl_stmt|;
block|{
name|enum
name|tree_code
name|code
init|=
name|TREE_CODE
argument_list|(
name|e
argument_list|)
decl_stmt|;
switch|switch
condition|(
name|code
condition|)
block|{
case|case
name|PREINCREMENT_EXPR
case|:
case|case
name|PREDECREMENT_EXPR
case|:
name|pp_identifier
argument_list|(
name|ppi
argument_list|,
name|code
operator|==
name|PREINCREMENT_EXPR
condition|?
literal|"++"
else|:
literal|"--"
argument_list|)
expr_stmt|;
name|pp_c_unary_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
break|break;
case|case
name|ADDR_EXPR
case|:
case|case
name|INDIRECT_REF
case|:
case|case
name|CONVERT_EXPR
case|:
case|case
name|NEGATE_EXPR
case|:
case|case
name|BIT_NOT_EXPR
case|:
case|case
name|TRUTH_NOT_EXPR
case|:
case|case
name|CONJ_EXPR
case|:
if|if
condition|(
name|code
operator|==
name|ADDR_EXPR
condition|)
name|pp_ampersand
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
name|code
operator|==
name|INDIRECT_REF
condition|)
name|pp_star
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
name|code
operator|==
name|NEGATE_EXPR
condition|)
name|pp_minus
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
name|code
operator|==
name|BIT_NOT_EXPR
operator|||
name|code
operator|==
name|CONJ_EXPR
condition|)
name|pp_complement
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
name|code
operator|==
name|TRUTH_NOT_EXPR
condition|)
name|pp_exclamation
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_cast_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
break|break;
case|case
name|SIZEOF_EXPR
case|:
case|case
name|ALIGNOF_EXPR
case|:
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
name|code
operator|==
name|SIZEOF_EXPR
condition|?
literal|"sizeof"
else|:
literal|"__alignof__"
argument_list|)
expr_stmt|;
name|pp_c_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
if|if
condition|(
name|TYPE_P
argument_list|(
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
condition|)
block|{
name|pp_c_left_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_type_id
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_right_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
block|}
else|else
name|pp_c_unary_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
break|break;
case|case
name|REALPART_EXPR
case|:
case|case
name|IMAGPART_EXPR
case|:
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
name|code
operator|==
name|REALPART_EXPR
condition|?
literal|"__real__"
else|:
literal|"__imag__"
argument_list|)
expr_stmt|;
name|pp_c_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_unary_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
break|break;
default|default:
name|pp_postfix_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
block|}
block|}
end_function

begin_function
name|void
name|pp_c_cast_expression
parameter_list|(
name|ppi
parameter_list|,
name|e
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|e
decl_stmt|;
block|{
if|if
condition|(
name|TREE_CODE
argument_list|(
name|e
argument_list|)
operator|==
name|CONVERT_EXPR
operator|||
name|TREE_CODE
argument_list|(
name|e
argument_list|)
operator|==
name|FLOAT_EXPR
condition|)
block|{
name|pp_c_left_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_type_id
argument_list|(
name|ppi
argument_list|,
name|TREE_TYPE
argument_list|(
name|e
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_right_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_cast_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
block|}
else|else
name|pp_unary_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|pp_c_multiplicative_expression
parameter_list|(
name|ppi
parameter_list|,
name|e
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|e
decl_stmt|;
block|{
name|enum
name|tree_code
name|code
init|=
name|TREE_CODE
argument_list|(
name|e
argument_list|)
decl_stmt|;
switch|switch
condition|(
name|code
condition|)
block|{
case|case
name|MULT_EXPR
case|:
case|case
name|TRUNC_DIV_EXPR
case|:
case|case
name|TRUNC_MOD_EXPR
case|:
name|pp_c_multiplicative_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
if|if
condition|(
name|code
operator|==
name|MULT_EXPR
condition|)
name|pp_star
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
name|code
operator|==
name|TRUNC_DIV_EXPR
condition|)
name|pp_slash
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
else|else
name|pp_modulo
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_cast_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
break|break;
default|default:
name|pp_c_cast_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
block|}
block|}
end_function

begin_function
specifier|static
specifier|inline
name|void
name|pp_c_additive_expression
parameter_list|(
name|ppi
parameter_list|,
name|e
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|e
decl_stmt|;
block|{
name|enum
name|tree_code
name|code
init|=
name|TREE_CODE
argument_list|(
name|e
argument_list|)
decl_stmt|;
switch|switch
condition|(
name|code
condition|)
block|{
case|case
name|PLUS_EXPR
case|:
case|case
name|MINUS_EXPR
case|:
name|pp_c_additive_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
if|if
condition|(
name|code
operator|==
name|PLUS_EXPR
condition|)
name|pp_plus
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
else|else
name|pp_minus
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_multiplicative_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
break|break;
default|default:
name|pp_multiplicative_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
block|}
block|}
end_function

begin_function
specifier|static
specifier|inline
name|void
name|pp_c_shift_expression
parameter_list|(
name|ppi
parameter_list|,
name|e
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|e
decl_stmt|;
block|{
name|enum
name|tree_code
name|code
init|=
name|TREE_CODE
argument_list|(
name|e
argument_list|)
decl_stmt|;
switch|switch
condition|(
name|code
condition|)
block|{
case|case
name|LSHIFT_EXPR
case|:
case|case
name|RSHIFT_EXPR
case|:
name|pp_c_shift_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_identifier
argument_list|(
name|ppi
argument_list|,
name|code
operator|==
name|LSHIFT_EXPR
condition|?
literal|"<<"
else|:
literal|">>"
argument_list|)
expr_stmt|;
name|pp_c_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_additive_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
break|break;
default|default:
name|pp_c_additive_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
block|}
block|}
end_function

begin_function
specifier|static
name|void
name|pp_c_relational_expression
parameter_list|(
name|ppi
parameter_list|,
name|e
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|e
decl_stmt|;
block|{
name|enum
name|tree_code
name|code
init|=
name|TREE_CODE
argument_list|(
name|e
argument_list|)
decl_stmt|;
switch|switch
condition|(
name|code
condition|)
block|{
case|case
name|LT_EXPR
case|:
case|case
name|GT_EXPR
case|:
case|case
name|LE_EXPR
case|:
case|case
name|GE_EXPR
case|:
name|pp_c_relational_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
if|if
condition|(
name|code
operator|==
name|LT_EXPR
condition|)
name|pp_less
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
name|code
operator|==
name|GT_EXPR
condition|)
name|pp_greater
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
name|code
operator|==
name|LE_EXPR
condition|)
name|pp_identifier
argument_list|(
name|ppi
argument_list|,
literal|"<="
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
name|code
operator|==
name|GE_EXPR
condition|)
name|pp_identifier
argument_list|(
name|ppi
argument_list|,
literal|">="
argument_list|)
expr_stmt|;
name|pp_c_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_shift_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
break|break;
default|default:
name|pp_c_shift_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
block|}
block|}
end_function

begin_function
specifier|static
specifier|inline
name|void
name|pp_c_equality_expression
parameter_list|(
name|ppi
parameter_list|,
name|e
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|e
decl_stmt|;
block|{
name|enum
name|tree_code
name|code
init|=
name|TREE_CODE
argument_list|(
name|e
argument_list|)
decl_stmt|;
switch|switch
condition|(
name|code
condition|)
block|{
case|case
name|EQ_EXPR
case|:
case|case
name|NE_EXPR
case|:
name|pp_c_equality_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_maybe_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_identifier
argument_list|(
name|ppi
argument_list|,
name|code
operator|==
name|EQ_EXPR
condition|?
literal|"=="
else|:
literal|"!="
argument_list|)
expr_stmt|;
name|pp_c_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_relational_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
break|break;
default|default:
name|pp_c_relational_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
block|}
block|}
end_function

begin_function
specifier|static
specifier|inline
name|void
name|pp_c_and_expression
parameter_list|(
name|ppi
parameter_list|,
name|e
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|e
decl_stmt|;
block|{
if|if
condition|(
name|TREE_CODE
argument_list|(
name|e
argument_list|)
operator|==
name|BIT_AND_EXPR
condition|)
block|{
name|pp_c_and_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_maybe_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_ampersand
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_equality_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
block|}
else|else
name|pp_c_equality_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
specifier|inline
name|void
name|pp_c_exclusive_or_expression
parameter_list|(
name|ppi
parameter_list|,
name|e
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|e
decl_stmt|;
block|{
if|if
condition|(
name|TREE_CODE
argument_list|(
name|e
argument_list|)
operator|==
name|BIT_XOR_EXPR
condition|)
block|{
name|pp_c_exclusive_or_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_maybe_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_carret
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_and_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
block|}
else|else
name|pp_c_and_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
specifier|inline
name|void
name|pp_c_inclusive_or_expression
parameter_list|(
name|ppi
parameter_list|,
name|e
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|e
decl_stmt|;
block|{
if|if
condition|(
name|TREE_CODE
argument_list|(
name|e
argument_list|)
operator|==
name|BIT_IOR_EXPR
condition|)
block|{
name|pp_c_exclusive_or_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_maybe_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_bar
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_exclusive_or_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
block|}
else|else
name|pp_c_exclusive_or_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
specifier|inline
name|void
name|pp_c_logical_and_expression
parameter_list|(
name|ppi
parameter_list|,
name|e
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|e
decl_stmt|;
block|{
if|if
condition|(
name|TREE_CODE
argument_list|(
name|e
argument_list|)
operator|==
name|TRUTH_ANDIF_EXPR
condition|)
block|{
name|pp_c_logical_and_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_maybe_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_identifier
argument_list|(
name|ppi
argument_list|,
literal|"&&"
argument_list|)
expr_stmt|;
name|pp_c_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_inclusive_or_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
block|}
else|else
name|pp_c_inclusive_or_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|pp_c_logical_or_expression
parameter_list|(
name|ppi
parameter_list|,
name|e
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|e
decl_stmt|;
block|{
if|if
condition|(
name|TREE_CODE
argument_list|(
name|e
argument_list|)
operator|==
name|TRUTH_ORIF_EXPR
condition|)
block|{
name|pp_c_logical_or_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_maybe_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_identifier
argument_list|(
name|ppi
argument_list|,
literal|"||"
argument_list|)
expr_stmt|;
name|pp_c_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_logical_and_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
block|}
else|else
name|pp_c_logical_and_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|pp_c_conditional_expression
parameter_list|(
name|ppi
parameter_list|,
name|e
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|e
decl_stmt|;
block|{
if|if
condition|(
name|TREE_CODE
argument_list|(
name|e
argument_list|)
operator|==
name|COND_EXPR
condition|)
block|{
name|pp_c_logical_or_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_maybe_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_question
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_maybe_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_colon
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_conditional_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|2
argument_list|)
argument_list|)
expr_stmt|;
block|}
else|else
name|pp_c_logical_or_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/* Pretty-print a C assignment-expression.  */
end_comment

begin_function
specifier|static
name|void
name|pp_c_assignment_expression
parameter_list|(
name|ppi
parameter_list|,
name|e
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|e
decl_stmt|;
block|{
if|if
condition|(
name|TREE_CODE
argument_list|(
name|e
argument_list|)
operator|==
name|MODIFY_EXPR
operator|||
name|TREE_CODE
argument_list|(
name|e
argument_list|)
operator|==
name|INIT_EXPR
condition|)
block|{
name|pp_c_unary_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_maybe_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_equal
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_assignment_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
block|}
else|else
name|pp_c_conditional_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/* Pretty-print an expression.  */
end_comment

begin_function
name|void
name|pp_c_expression
parameter_list|(
name|ppi
parameter_list|,
name|e
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|e
decl_stmt|;
block|{
switch|switch
condition|(
name|TREE_CODE
argument_list|(
name|e
argument_list|)
condition|)
block|{
case|case
name|INTEGER_CST
case|:
name|pp_c_integer_literal
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
case|case
name|REAL_CST
case|:
name|pp_c_real_literal
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
case|case
name|STRING_CST
case|:
name|pp_c_string_literal
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
case|case
name|FUNCTION_DECL
case|:
case|case
name|VAR_DECL
case|:
case|case
name|CONST_DECL
case|:
case|case
name|PARM_DECL
case|:
case|case
name|RESULT_DECL
case|:
case|case
name|FIELD_DECL
case|:
case|case
name|LABEL_DECL
case|:
case|case
name|ERROR_MARK
case|:
case|case
name|TARGET_EXPR
case|:
case|case
name|STMT_EXPR
case|:
name|pp_c_primary_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
case|case
name|POSTINCREMENT_EXPR
case|:
case|case
name|POSTDECREMENT_EXPR
case|:
case|case
name|ARROW_EXPR
case|:
case|case
name|ARRAY_REF
case|:
case|case
name|CALL_EXPR
case|:
case|case
name|COMPONENT_REF
case|:
case|case
name|COMPLEX_CST
case|:
case|case
name|VECTOR_CST
case|:
case|case
name|ABS_EXPR
case|:
case|case
name|FFS_EXPR
case|:
case|case
name|CONSTRUCTOR
case|:
case|case
name|COMPOUND_LITERAL_EXPR
case|:
case|case
name|COMPLEX_EXPR
case|:
case|case
name|VA_ARG_EXPR
case|:
name|pp_c_postfix_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
case|case
name|CONJ_EXPR
case|:
case|case
name|ADDR_EXPR
case|:
case|case
name|INDIRECT_REF
case|:
case|case
name|NEGATE_EXPR
case|:
case|case
name|BIT_NOT_EXPR
case|:
case|case
name|TRUTH_NOT_EXPR
case|:
case|case
name|PREINCREMENT_EXPR
case|:
case|case
name|PREDECREMENT_EXPR
case|:
case|case
name|SIZEOF_EXPR
case|:
case|case
name|ALIGNOF_EXPR
case|:
case|case
name|REALPART_EXPR
case|:
case|case
name|IMAGPART_EXPR
case|:
name|pp_c_unary_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
case|case
name|CONVERT_EXPR
case|:
case|case
name|FLOAT_EXPR
case|:
name|pp_c_cast_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
case|case
name|MULT_EXPR
case|:
case|case
name|TRUNC_MOD_EXPR
case|:
case|case
name|TRUNC_DIV_EXPR
case|:
name|pp_c_multiplicative_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
case|case
name|LSHIFT_EXPR
case|:
case|case
name|RSHIFT_EXPR
case|:
name|pp_c_shift_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
case|case
name|LT_EXPR
case|:
case|case
name|GT_EXPR
case|:
case|case
name|LE_EXPR
case|:
case|case
name|GE_EXPR
case|:
name|pp_c_relational_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
case|case
name|BIT_AND_EXPR
case|:
name|pp_c_and_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
case|case
name|BIT_XOR_EXPR
case|:
name|pp_c_exclusive_or_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
case|case
name|BIT_IOR_EXPR
case|:
name|pp_c_inclusive_or_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
case|case
name|TRUTH_ANDIF_EXPR
case|:
name|pp_c_logical_and_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
case|case
name|TRUTH_ORIF_EXPR
case|:
name|pp_c_logical_or_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
case|case
name|COND_EXPR
case|:
name|pp_c_conditional_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
case|case
name|MODIFY_EXPR
case|:
case|case
name|INIT_EXPR
case|:
name|pp_c_assignment_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
case|case
name|NOP_EXPR
case|:
name|pp_c_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
break|break;
case|case
name|COMPOUND_EXPR
case|:
name|pp_c_left_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|pp_separate_with
argument_list|(
name|ppi
argument_list|,
literal|','
argument_list|)
expr_stmt|;
name|pp_assignment_expression
argument_list|(
name|ppi
argument_list|,
name|TREE_OPERAND
argument_list|(
name|e
argument_list|,
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_right_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
break|break;
default|default:
name|pp_unsupported_tree
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
break|break;
block|}
block|}
end_function

begin_escape
end_escape

begin_comment
comment|/* Statements.  */
end_comment

begin_function
name|void
name|pp_c_statement
parameter_list|(
name|ppi
parameter_list|,
name|stmt
parameter_list|)
name|c_pretty_printer
name|ppi
decl_stmt|;
name|tree
name|stmt
decl_stmt|;
block|{
specifier|const
name|enum
name|tree_code
name|code
init|=
name|TREE_CODE
argument_list|(
name|stmt
argument_list|)
decl_stmt|;
switch|switch
condition|(
name|code
condition|)
block|{
case|case
name|LABEL_STMT
case|:
case|case
name|CASE_LABEL
case|:
name|pp_newline
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
if|if
condition|(
name|code
operator|==
name|LABEL_STMT
condition|)
name|pp_tree_identifier
argument_list|(
name|ppi
argument_list|,
name|DECL_NAME
argument_list|(
name|LABEL_STMT_LABEL
argument_list|(
name|stmt
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
name|code
operator|==
name|LABEL_STMT
condition|)
block|{
if|if
condition|(
name|CASE_LOW
argument_list|(
name|stmt
argument_list|)
operator|==
name|NULL_TREE
condition|)
name|pp_identifier
argument_list|(
name|ppi
argument_list|,
literal|"default"
argument_list|)
expr_stmt|;
else|else
block|{
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
literal|"case"
argument_list|)
expr_stmt|;
name|pp_c_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_conditional_expression
argument_list|(
name|ppi
argument_list|,
name|CASE_LOW
argument_list|(
name|stmt
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
name|CASE_HIGH
argument_list|(
name|stmt
argument_list|)
condition|)
block|{
name|pp_identifier
argument_list|(
name|ppi
argument_list|,
literal|"..."
argument_list|)
expr_stmt|;
name|pp_conditional_expression
argument_list|(
name|ppi
argument_list|,
name|CASE_HIGH
argument_list|(
name|stmt
argument_list|)
argument_list|)
expr_stmt|;
block|}
block|}
block|}
name|pp_colon
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_newline_and_indent
argument_list|(
name|ppi
argument_list|,
literal|3
argument_list|)
expr_stmt|;
break|break;
case|case
name|COMPOUND_STMT
case|:
name|pp_left_brace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_newline_and_indent
argument_list|(
name|ppi
argument_list|,
literal|3
argument_list|)
expr_stmt|;
for|for
control|(
name|stmt
operator|=
name|COMPOUND_BODY
argument_list|(
name|stmt
argument_list|)
init|;
name|stmt
condition|;
name|stmt
operator|=
name|TREE_CHAIN
argument_list|(
name|stmt
argument_list|)
control|)
name|pp_c_statement
argument_list|(
name|ppi
argument_list|,
name|stmt
argument_list|)
expr_stmt|;
name|pp_newline_and_indent
argument_list|(
name|ppi
argument_list|,
operator|-
literal|3
argument_list|)
expr_stmt|;
name|pp_right_brace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_newline
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
break|break;
case|case
name|EXPR_STMT
case|:
case|case
name|CLEANUP_STMT
case|:
name|pp_newline
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_expression
argument_list|(
name|ppi
argument_list|,
name|code
operator|==
name|EXPR_STMT
condition|?
name|EXPR_STMT_EXPR
argument_list|(
name|stmt
argument_list|)
else|:
name|CLEANUP_EXPR
argument_list|(
name|stmt
argument_list|)
argument_list|)
expr_stmt|;
name|pp_semicolon
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_newline
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
break|break;
case|case
name|IF_STMT
case|:
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
literal|"if"
argument_list|)
expr_stmt|;
name|pp_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_left_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_expression
argument_list|(
name|ppi
argument_list|,
name|IF_COND
argument_list|(
name|stmt
argument_list|)
argument_list|)
expr_stmt|;
name|pp_right_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_newline_and_indent
argument_list|(
name|ppi
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|pp_statement
argument_list|(
name|ppi
argument_list|,
name|THEN_CLAUSE
argument_list|(
name|stmt
argument_list|)
argument_list|)
expr_stmt|;
name|pp_newline_and_indent
argument_list|(
name|ppi
argument_list|,
operator|-
literal|3
argument_list|)
expr_stmt|;
if|if
condition|(
name|ELSE_CLAUSE
argument_list|(
name|stmt
argument_list|)
condition|)
block|{
name|tree
name|else_clause
init|=
name|ELSE_CLAUSE
argument_list|(
name|stmt
argument_list|)
decl_stmt|;
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
literal|"else"
argument_list|)
expr_stmt|;
if|if
condition|(
name|TREE_CODE
argument_list|(
name|else_clause
argument_list|)
operator|==
name|IF_STMT
condition|)
name|pp_c_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
else|else
name|pp_newline_and_indent
argument_list|(
name|ppi
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|pp_statement
argument_list|(
name|ppi
argument_list|,
name|else_clause
argument_list|)
expr_stmt|;
if|if
condition|(
name|TREE_CODE
argument_list|(
name|else_clause
argument_list|)
operator|!=
name|IF_STMT
condition|)
name|pp_newline_and_indent
argument_list|(
name|ppi
argument_list|,
operator|-
literal|3
argument_list|)
expr_stmt|;
block|}
break|break;
case|case
name|SWITCH_STMT
case|:
name|pp_newline
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
literal|"switch"
argument_list|)
expr_stmt|;
name|pp_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_left_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_expression
argument_list|(
name|ppi
argument_list|,
name|SWITCH_COND
argument_list|(
name|stmt
argument_list|)
argument_list|)
expr_stmt|;
name|pp_right_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_newline_and_indent
argument_list|(
name|ppi
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|pp_statement
argument_list|(
name|ppi
argument_list|,
name|SWITCH_BODY
argument_list|(
name|stmt
argument_list|)
argument_list|)
expr_stmt|;
name|pp_newline_and_indent
argument_list|(
name|ppi
argument_list|,
operator|-
literal|3
argument_list|)
expr_stmt|;
break|break;
case|case
name|WHILE_STMT
case|:
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
literal|"while"
argument_list|)
expr_stmt|;
name|pp_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_left_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_expression
argument_list|(
name|ppi
argument_list|,
name|WHILE_COND
argument_list|(
name|stmt
argument_list|)
argument_list|)
expr_stmt|;
name|pp_right_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_newline_and_indent
argument_list|(
name|ppi
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|pp_statement
argument_list|(
name|ppi
argument_list|,
name|WHILE_BODY
argument_list|(
name|stmt
argument_list|)
argument_list|)
expr_stmt|;
name|pp_newline_and_indent
argument_list|(
name|ppi
argument_list|,
operator|-
literal|3
argument_list|)
expr_stmt|;
break|break;
case|case
name|DO_STMT
case|:
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
literal|"do"
argument_list|)
expr_stmt|;
name|pp_newline_and_indent
argument_list|(
name|ppi
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|pp_statement
argument_list|(
name|ppi
argument_list|,
name|DO_BODY
argument_list|(
name|stmt
argument_list|)
argument_list|)
expr_stmt|;
name|pp_newline_and_indent
argument_list|(
name|ppi
argument_list|,
operator|-
literal|3
argument_list|)
expr_stmt|;
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
literal|"while"
argument_list|)
expr_stmt|;
name|pp_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_left_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_expression
argument_list|(
name|ppi
argument_list|,
name|DO_COND
argument_list|(
name|stmt
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_right_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_semicolon
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_newline
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
break|break;
case|case
name|FOR_STMT
case|:
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
literal|"for"
argument_list|)
expr_stmt|;
name|pp_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_left_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_statement
argument_list|(
name|ppi
argument_list|,
name|FOR_INIT_STMT
argument_list|(
name|stmt
argument_list|)
argument_list|)
expr_stmt|;
name|pp_c_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
if|if
condition|(
name|FOR_COND
argument_list|(
name|stmt
argument_list|)
condition|)
name|pp_c_expression
argument_list|(
name|ppi
argument_list|,
name|FOR_COND
argument_list|(
name|stmt
argument_list|)
argument_list|)
expr_stmt|;
name|pp_semicolon
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
if|if
condition|(
name|FOR_EXPR
argument_list|(
name|stmt
argument_list|)
condition|)
name|pp_c_expression
argument_list|(
name|ppi
argument_list|,
name|FOR_EXPR
argument_list|(
name|stmt
argument_list|)
argument_list|)
expr_stmt|;
name|pp_right_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_newline_and_indent
argument_list|(
name|ppi
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|pp_statement
argument_list|(
name|ppi
argument_list|,
name|FOR_BODY
argument_list|(
name|stmt
argument_list|)
argument_list|)
expr_stmt|;
name|pp_newline_and_indent
argument_list|(
name|ppi
argument_list|,
operator|-
literal|3
argument_list|)
expr_stmt|;
break|break;
case|case
name|BREAK_STMT
case|:
case|case
name|CONTINUE_STMT
case|:
name|pp_newline
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_identifier
argument_list|(
name|ppi
argument_list|,
name|code
operator|==
name|BREAK_STMT
condition|?
literal|"break"
else|:
literal|"continue"
argument_list|)
expr_stmt|;
name|pp_semicolon
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_newline
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
break|break;
case|case
name|RETURN_STMT
case|:
case|case
name|GOTO_STMT
case|:
block|{
name|tree
name|e
init|=
name|code
operator|==
name|RETURN_STMT
condition|?
name|RETURN_STMT_EXPR
argument_list|(
name|stmt
argument_list|)
else|:
name|GOTO_DESTINATION
argument_list|(
name|stmt
argument_list|)
decl_stmt|;
name|pp_newline
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
name|code
operator|==
name|RETURN_STMT
condition|?
literal|"return"
else|:
literal|"goto"
argument_list|)
expr_stmt|;
if|if
condition|(
name|e
condition|)
name|pp_c_expression
argument_list|(
name|ppi
argument_list|,
name|e
argument_list|)
expr_stmt|;
name|pp_semicolon
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_newline
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
block|}
break|break;
case|case
name|SCOPE_STMT
case|:
if|if
condition|(
operator|!
name|SCOPE_NULLIFIED_P
argument_list|(
name|stmt
argument_list|)
operator|&&
name|SCOPE_NO_CLEANUPS_P
argument_list|(
name|stmt
argument_list|)
condition|)
block|{
if|if
condition|(
name|SCOPE_BEGIN_P
argument_list|(
name|stmt
argument_list|)
condition|)
block|{
name|pp_left_brace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_newline_and_indent
argument_list|(
name|ppi
argument_list|,
literal|3
argument_list|)
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|SCOPE_END_P
argument_list|(
name|stmt
argument_list|)
condition|)
block|{
name|pp_right_brace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_newline_and_indent
argument_list|(
name|ppi
argument_list|,
operator|-
literal|3
argument_list|)
expr_stmt|;
block|}
block|}
break|break;
case|case
name|DECL_STMT
case|:
name|pp_declaration
argument_list|(
name|ppi
argument_list|,
name|DECL_STMT_DECL
argument_list|(
name|stmt
argument_list|)
argument_list|)
expr_stmt|;
name|pp_semicolon
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_newline
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
break|break;
case|case
name|ASM_STMT
case|:
block|{
name|bool
name|has_volatile_p
init|=
name|ASM_VOLATILE_P
argument_list|(
name|stmt
argument_list|)
decl_stmt|;
name|bool
name|is_extended
init|=
name|has_volatile_p
operator|||
name|ASM_INPUTS
argument_list|(
name|stmt
argument_list|)
operator|||
name|ASM_OUTPUTS
argument_list|(
name|stmt
argument_list|)
operator|||
name|ASM_CLOBBERS
argument_list|(
name|stmt
argument_list|)
decl_stmt|;
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
name|is_extended
condition|?
literal|"__asm__"
else|:
literal|"asm"
argument_list|)
expr_stmt|;
if|if
condition|(
name|has_volatile_p
condition|)
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
literal|"__volatile__"
argument_list|)
expr_stmt|;
name|pp_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_left_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_string_literal
argument_list|(
name|ppi
argument_list|,
name|ASM_STRING
argument_list|(
name|stmt
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
name|is_extended
condition|)
block|{
name|pp_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_separate_with
argument_list|(
name|ppi
argument_list|,
literal|':'
argument_list|)
expr_stmt|;
if|if
condition|(
name|ASM_OUTPUTS
argument_list|(
name|stmt
argument_list|)
condition|)
name|pp_c_expression
argument_list|(
name|ppi
argument_list|,
name|ASM_OUTPUTS
argument_list|(
name|stmt
argument_list|)
argument_list|)
expr_stmt|;
name|pp_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_separate_with
argument_list|(
name|ppi
argument_list|,
literal|':'
argument_list|)
expr_stmt|;
if|if
condition|(
name|ASM_INPUTS
argument_list|(
name|stmt
argument_list|)
condition|)
name|pp_c_expression
argument_list|(
name|ppi
argument_list|,
name|ASM_INPUTS
argument_list|(
name|stmt
argument_list|)
argument_list|)
expr_stmt|;
name|pp_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_separate_with
argument_list|(
name|ppi
argument_list|,
literal|':'
argument_list|)
expr_stmt|;
if|if
condition|(
name|ASM_CLOBBERS
argument_list|(
name|stmt
argument_list|)
condition|)
name|pp_c_expression
argument_list|(
name|ppi
argument_list|,
name|ASM_CLOBBERS
argument_list|(
name|stmt
argument_list|)
argument_list|)
expr_stmt|;
block|}
name|pp_right_paren
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_newline
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
block|}
break|break;
case|case
name|FILE_STMT
case|:
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
literal|"__FILE__"
argument_list|)
expr_stmt|;
name|pp_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_equal
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_whitespace
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_c_identifier
argument_list|(
name|ppi
argument_list|,
name|FILE_STMT_FILENAME
argument_list|(
name|stmt
argument_list|)
argument_list|)
expr_stmt|;
name|pp_semicolon
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
name|pp_newline
argument_list|(
name|ppi
argument_list|)
expr_stmt|;
break|break;
default|default:
name|pp_unsupported_tree
argument_list|(
name|ppi
argument_list|,
name|stmt
argument_list|)
expr_stmt|;
block|}
block|}
end_function

begin_escape
end_escape

begin_comment
comment|/* Initialize the PRETTY-PRINTER for handling C codes.  */
end_comment

begin_function
name|void
name|pp_c_pretty_printer_init
parameter_list|(
name|pp
parameter_list|)
name|c_pretty_printer
name|pp
decl_stmt|;
block|{
name|pp
operator|->
name|offset_list
operator|=
literal|0
expr_stmt|;
name|pp
operator|->
name|declaration
operator|=
name|pp_c_declaration
expr_stmt|;
name|pp
operator|->
name|declaration_specifiers
operator|=
name|pp_c_declaration_specifiers
expr_stmt|;
name|pp
operator|->
name|type_specifier
operator|=
name|pp_c_simple_type_specifier
expr_stmt|;
name|pp
operator|->
name|declarator
operator|=
name|pp_c_declarator
expr_stmt|;
name|pp
operator|->
name|direct_declarator
operator|=
name|pp_c_direct_declarator
expr_stmt|;
name|pp
operator|->
name|parameter_declaration
operator|=
name|pp_c_parameter_declaration
expr_stmt|;
name|pp
operator|->
name|type_id
operator|=
name|pp_c_type_id
expr_stmt|;
name|pp
operator|->
name|statement
operator|=
name|pp_c_statement
expr_stmt|;
name|pp
operator|->
name|primary_expression
operator|=
name|pp_c_primary_expression
expr_stmt|;
name|pp
operator|->
name|postfix_expression
operator|=
name|pp_c_postfix_expression
expr_stmt|;
name|pp
operator|->
name|unary_expression
operator|=
name|pp_c_unary_expression
expr_stmt|;
name|pp
operator|->
name|initializer
operator|=
name|pp_c_initializer
expr_stmt|;
name|pp
operator|->
name|multiplicative_expression
operator|=
name|pp_c_multiplicative_expression
expr_stmt|;
name|pp
operator|->
name|conditional_expression
operator|=
name|pp_c_conditional_expression
expr_stmt|;
name|pp
operator|->
name|assignment_expression
operator|=
name|pp_c_assignment_expression
expr_stmt|;
block|}
end_function

end_unit

