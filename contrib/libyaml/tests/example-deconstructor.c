begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_include
include|#
directive|include
file|<yaml.h>
end_include

begin_include
include|#
directive|include
file|<stdlib.h>
end_include

begin_include
include|#
directive|include
file|<stdio.h>
end_include

begin_function
name|int
name|main
parameter_list|(
name|int
name|argc
parameter_list|,
name|char
modifier|*
name|argv
index|[]
parameter_list|)
block|{
name|int
name|help
init|=
literal|0
decl_stmt|;
name|int
name|canonical
init|=
literal|0
decl_stmt|;
name|int
name|unicode
init|=
literal|0
decl_stmt|;
name|int
name|k
decl_stmt|;
name|int
name|done
init|=
literal|0
decl_stmt|;
name|yaml_parser_t
name|parser
decl_stmt|;
name|yaml_emitter_t
name|emitter
decl_stmt|;
name|yaml_event_t
name|input_event
decl_stmt|;
name|yaml_event_t
name|output_event
decl_stmt|;
comment|/* Clear the objects. */
name|memset
argument_list|(
operator|&
name|parser
argument_list|,
literal|0
argument_list|,
sizeof|sizeof
argument_list|(
name|parser
argument_list|)
argument_list|)
expr_stmt|;
name|memset
argument_list|(
operator|&
name|emitter
argument_list|,
literal|0
argument_list|,
sizeof|sizeof
argument_list|(
name|emitter
argument_list|)
argument_list|)
expr_stmt|;
name|memset
argument_list|(
operator|&
name|input_event
argument_list|,
literal|0
argument_list|,
sizeof|sizeof
argument_list|(
name|input_event
argument_list|)
argument_list|)
expr_stmt|;
name|memset
argument_list|(
operator|&
name|output_event
argument_list|,
literal|0
argument_list|,
sizeof|sizeof
argument_list|(
name|output_event
argument_list|)
argument_list|)
expr_stmt|;
comment|/* Analyze command line options. */
for|for
control|(
name|k
operator|=
literal|1
init|;
name|k
operator|<
name|argc
condition|;
name|k
operator|++
control|)
block|{
if|if
condition|(
name|strcmp
argument_list|(
name|argv
index|[
name|k
index|]
argument_list|,
literal|"-h"
argument_list|)
operator|==
literal|0
operator|||
name|strcmp
argument_list|(
name|argv
index|[
name|k
index|]
argument_list|,
literal|"--help"
argument_list|)
operator|==
literal|0
condition|)
block|{
name|help
operator|=
literal|1
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|strcmp
argument_list|(
name|argv
index|[
name|k
index|]
argument_list|,
literal|"-c"
argument_list|)
operator|==
literal|0
operator|||
name|strcmp
argument_list|(
name|argv
index|[
name|k
index|]
argument_list|,
literal|"--canonical"
argument_list|)
operator|==
literal|0
condition|)
block|{
name|canonical
operator|=
literal|1
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|strcmp
argument_list|(
name|argv
index|[
name|k
index|]
argument_list|,
literal|"-u"
argument_list|)
operator|==
literal|0
operator|||
name|strcmp
argument_list|(
name|argv
index|[
name|k
index|]
argument_list|,
literal|"--unicode"
argument_list|)
operator|==
literal|0
condition|)
block|{
name|unicode
operator|=
literal|1
expr_stmt|;
block|}
else|else
block|{
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Unrecognized option: %s\n"
literal|"Try `%s --help` for more information.\n"
argument_list|,
name|argv
index|[
name|k
index|]
argument_list|,
name|argv
index|[
literal|0
index|]
argument_list|)
expr_stmt|;
return|return
literal|1
return|;
block|}
block|}
comment|/* Display the help string. */
if|if
condition|(
name|help
condition|)
block|{
name|printf
argument_list|(
literal|"%s<input\n"
literal|"or\n%s -h | --help\nDeconstruct a YAML stream\n\nOptions:\n"
literal|"-h, --help\t\tdisplay this help and exit\n"
literal|"-c, --canonical\t\toutput in the canonical YAML format\n"
literal|"-u, --unicode\t\toutput unescaped non-ASCII characters\n"
argument_list|,
name|argv
index|[
literal|0
index|]
argument_list|,
name|argv
index|[
literal|0
index|]
argument_list|)
expr_stmt|;
return|return
literal|0
return|;
block|}
comment|/* Initialize the parser and emitter objects. */
if|if
condition|(
operator|!
name|yaml_parser_initialize
argument_list|(
operator|&
name|parser
argument_list|)
condition|)
block|{
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Could not initialize the parser object\n"
argument_list|)
expr_stmt|;
return|return
literal|1
return|;
block|}
if|if
condition|(
operator|!
name|yaml_emitter_initialize
argument_list|(
operator|&
name|emitter
argument_list|)
condition|)
block|{
name|yaml_parser_delete
argument_list|(
operator|&
name|parser
argument_list|)
expr_stmt|;
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Could not inialize the emitter object\n"
argument_list|)
expr_stmt|;
return|return
literal|1
return|;
block|}
comment|/* Set the parser parameters. */
name|yaml_parser_set_input_file
argument_list|(
operator|&
name|parser
argument_list|,
name|stdin
argument_list|)
expr_stmt|;
comment|/* Set the emitter parameters. */
name|yaml_emitter_set_output_file
argument_list|(
operator|&
name|emitter
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|yaml_emitter_set_canonical
argument_list|(
operator|&
name|emitter
argument_list|,
name|canonical
argument_list|)
expr_stmt|;
name|yaml_emitter_set_unicode
argument_list|(
operator|&
name|emitter
argument_list|,
name|unicode
argument_list|)
expr_stmt|;
comment|/* Create and emit the STREAM-START event. */
if|if
condition|(
operator|!
name|yaml_stream_start_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|YAML_UTF8_ENCODING
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Create and emit the DOCUMENT-START event. */
if|if
condition|(
operator|!
name|yaml_document_start_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
name|NULL
argument_list|,
literal|0
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Create and emit the SEQUENCE-START event. */
if|if
condition|(
operator|!
name|yaml_sequence_start_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:seq"
argument_list|,
literal|1
argument_list|,
name|YAML_BLOCK_SEQUENCE_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Loop through the input events. */
while|while
condition|(
operator|!
name|done
condition|)
block|{
comment|/* Get the next event. */
if|if
condition|(
operator|!
name|yaml_parser_parse
argument_list|(
operator|&
name|parser
argument_list|,
operator|&
name|input_event
argument_list|)
condition|)
goto|goto
name|parser_error
goto|;
comment|/* Check if this is the stream end. */
if|if
condition|(
name|input_event
operator|.
name|type
operator|==
name|YAML_STREAM_END_EVENT
condition|)
block|{
name|done
operator|=
literal|1
expr_stmt|;
block|}
comment|/* Create and emit a MAPPING-START event. */
if|if
condition|(
operator|!
name|yaml_mapping_start_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:map"
argument_list|,
literal|1
argument_list|,
name|YAML_BLOCK_MAPPING_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Analyze the event. */
switch|switch
condition|(
name|input_event
operator|.
name|type
condition|)
block|{
case|case
name|YAML_STREAM_START_EVENT
case|:
comment|/* Write 'type'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"type"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write 'STREAM-START'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"STREAM-START"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Display encoding information. */
if|if
condition|(
name|input_event
operator|.
name|data
operator|.
name|stream_start
operator|.
name|encoding
condition|)
block|{
name|yaml_encoding_t
name|encoding
init|=
name|input_event
operator|.
name|data
operator|.
name|stream_start
operator|.
name|encoding
decl_stmt|;
comment|/* Write 'encoding'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"encoding"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write the stream encoding. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
operator|(
name|encoding
operator|==
name|YAML_UTF8_ENCODING
condition|?
literal|"utf-8"
else|:
name|encoding
operator|==
name|YAML_UTF16LE_ENCODING
condition|?
literal|"utf-16-le"
else|:
name|encoding
operator|==
name|YAML_UTF16BE_ENCODING
condition|?
literal|"utf-16-be"
else|:
literal|"unknown"
operator|)
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
block|}
break|break;
case|case
name|YAML_STREAM_END_EVENT
case|:
comment|/* Write 'type'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"type"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write 'STREAM-END'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"STREAM-END"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
break|break;
case|case
name|YAML_DOCUMENT_START_EVENT
case|:
comment|/* Write 'type'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"type"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write 'DOCUMENT-START'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"DOCUMENT-START"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Display the document version numbers. */
if|if
condition|(
name|input_event
operator|.
name|data
operator|.
name|document_start
operator|.
name|version_directive
condition|)
block|{
name|yaml_version_directive_t
modifier|*
name|version
init|=
name|input_event
operator|.
name|data
operator|.
name|document_start
operator|.
name|version_directive
decl_stmt|;
name|char
name|number
index|[
literal|64
index|]
decl_stmt|;
comment|/* Write 'version'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"version"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write '{'. */
if|if
condition|(
operator|!
name|yaml_mapping_start_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:map"
argument_list|,
literal|1
argument_list|,
name|YAML_FLOW_MAPPING_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write 'major'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"major"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write a number. */
name|sprintf
argument_list|(
name|number
argument_list|,
literal|"%d"
argument_list|,
name|version
operator|->
name|major
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:int"
argument_list|,
name|number
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write 'minor'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"minor"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write a number. */
name|sprintf
argument_list|(
name|number
argument_list|,
literal|"%d"
argument_list|,
name|version
operator|->
name|minor
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:int"
argument_list|,
name|number
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write '}'. */
if|if
condition|(
operator|!
name|yaml_mapping_end_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
block|}
comment|/* Display the document tag directives. */
if|if
condition|(
name|input_event
operator|.
name|data
operator|.
name|document_start
operator|.
name|tag_directives
operator|.
name|start
operator|!=
name|input_event
operator|.
name|data
operator|.
name|document_start
operator|.
name|tag_directives
operator|.
name|end
condition|)
block|{
name|yaml_tag_directive_t
modifier|*
name|tag
decl_stmt|;
comment|/* Write 'tags'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"tags"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Start a block sequence. */
if|if
condition|(
operator|!
name|yaml_sequence_start_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:seq"
argument_list|,
literal|1
argument_list|,
name|YAML_BLOCK_SEQUENCE_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
for|for
control|(
name|tag
operator|=
name|input_event
operator|.
name|data
operator|.
name|document_start
operator|.
name|tag_directives
operator|.
name|start
init|;
name|tag
operator|!=
name|input_event
operator|.
name|data
operator|.
name|document_start
operator|.
name|tag_directives
operator|.
name|end
condition|;
name|tag
operator|++
control|)
block|{
comment|/* Write '{'. */
if|if
condition|(
operator|!
name|yaml_mapping_start_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:map"
argument_list|,
literal|1
argument_list|,
name|YAML_FLOW_MAPPING_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write 'handle'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"handle"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write the tag directive handle. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
name|tag
operator|->
name|handle
argument_list|,
operator|-
literal|1
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
name|YAML_DOUBLE_QUOTED_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write 'prefix'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"prefix"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write the tag directive prefix. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
name|tag
operator|->
name|prefix
argument_list|,
operator|-
literal|1
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
name|YAML_DOUBLE_QUOTED_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write '}'. */
if|if
condition|(
operator|!
name|yaml_mapping_end_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
block|}
comment|/* End a block sequence. */
if|if
condition|(
operator|!
name|yaml_sequence_end_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
block|}
comment|/* Write 'implicit'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"implicit"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write if the document is implicit. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:bool"
argument_list|,
operator|(
name|input_event
operator|.
name|data
operator|.
name|document_start
operator|.
name|implicit
condition|?
literal|"true"
else|:
literal|"false"
operator|)
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
break|break;
case|case
name|YAML_DOCUMENT_END_EVENT
case|:
comment|/* Write 'type'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"type"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write 'DOCUMENT-END'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"DOCUMENT-END"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write 'implicit'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"implicit"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write if the document is implicit. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:bool"
argument_list|,
operator|(
name|input_event
operator|.
name|data
operator|.
name|document_end
operator|.
name|implicit
condition|?
literal|"true"
else|:
literal|"false"
operator|)
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
break|break;
case|case
name|YAML_ALIAS_EVENT
case|:
comment|/* Write 'type'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"type"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write 'ALIAS'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"ALIAS"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write 'anchor'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"anchor"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write the alias anchor. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
name|input_event
operator|.
name|data
operator|.
name|alias
operator|.
name|anchor
argument_list|,
operator|-
literal|1
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
name|YAML_DOUBLE_QUOTED_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
break|break;
case|case
name|YAML_SCALAR_EVENT
case|:
comment|/* Write 'type'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"type"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write 'SCALAR'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"SCALAR"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Display the scalar anchor. */
if|if
condition|(
name|input_event
operator|.
name|data
operator|.
name|scalar
operator|.
name|anchor
condition|)
block|{
comment|/* Write 'anchor'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"anchor"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write the scalar anchor. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
name|input_event
operator|.
name|data
operator|.
name|scalar
operator|.
name|anchor
argument_list|,
operator|-
literal|1
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
name|YAML_DOUBLE_QUOTED_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
block|}
comment|/* Display the scalar tag. */
if|if
condition|(
name|input_event
operator|.
name|data
operator|.
name|scalar
operator|.
name|tag
condition|)
block|{
comment|/* Write 'tag'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"tag"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write the scalar tag. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
name|input_event
operator|.
name|data
operator|.
name|scalar
operator|.
name|tag
argument_list|,
operator|-
literal|1
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
name|YAML_DOUBLE_QUOTED_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
block|}
comment|/* Display the scalar value. */
comment|/* Write 'value'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"value"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write the scalar value. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
name|input_event
operator|.
name|data
operator|.
name|scalar
operator|.
name|value
argument_list|,
name|input_event
operator|.
name|data
operator|.
name|scalar
operator|.
name|length
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
name|YAML_DOUBLE_QUOTED_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Display if the scalar tag is implicit. */
comment|/* Write 'implicit'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"implicit"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write '{'. */
if|if
condition|(
operator|!
name|yaml_mapping_start_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:map"
argument_list|,
literal|1
argument_list|,
name|YAML_FLOW_MAPPING_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write 'plain'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"plain"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write if the scalar is implicit in the plain style. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:bool"
argument_list|,
operator|(
name|input_event
operator|.
name|data
operator|.
name|scalar
operator|.
name|plain_implicit
condition|?
literal|"true"
else|:
literal|"false"
operator|)
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write 'quoted'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"non-plain"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write if the scalar is implicit in a non-plain style. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:bool"
argument_list|,
operator|(
name|input_event
operator|.
name|data
operator|.
name|scalar
operator|.
name|quoted_implicit
condition|?
literal|"true"
else|:
literal|"false"
operator|)
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write '}'. */
if|if
condition|(
operator|!
name|yaml_mapping_end_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Display the style information. */
if|if
condition|(
name|input_event
operator|.
name|data
operator|.
name|scalar
operator|.
name|style
condition|)
block|{
name|yaml_scalar_style_t
name|style
init|=
name|input_event
operator|.
name|data
operator|.
name|scalar
operator|.
name|style
decl_stmt|;
comment|/* Write 'style'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"style"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write the scalar style. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
operator|(
name|style
operator|==
name|YAML_PLAIN_SCALAR_STYLE
condition|?
literal|"plain"
else|:
name|style
operator|==
name|YAML_SINGLE_QUOTED_SCALAR_STYLE
condition|?
literal|"single-quoted"
else|:
name|style
operator|==
name|YAML_DOUBLE_QUOTED_SCALAR_STYLE
condition|?
literal|"double-quoted"
else|:
name|style
operator|==
name|YAML_LITERAL_SCALAR_STYLE
condition|?
literal|"literal"
else|:
name|style
operator|==
name|YAML_FOLDED_SCALAR_STYLE
condition|?
literal|"folded"
else|:
literal|"unknown"
operator|)
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
block|}
break|break;
case|case
name|YAML_SEQUENCE_START_EVENT
case|:
comment|/* Write 'type'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"type"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write 'SEQUENCE-START'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"SEQUENCE-START"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Display the sequence anchor. */
if|if
condition|(
name|input_event
operator|.
name|data
operator|.
name|sequence_start
operator|.
name|anchor
condition|)
block|{
comment|/* Write 'anchor'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"anchor"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write the sequence anchor. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
name|input_event
operator|.
name|data
operator|.
name|sequence_start
operator|.
name|anchor
argument_list|,
operator|-
literal|1
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
name|YAML_DOUBLE_QUOTED_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
block|}
comment|/* Display the sequence tag. */
if|if
condition|(
name|input_event
operator|.
name|data
operator|.
name|sequence_start
operator|.
name|tag
condition|)
block|{
comment|/* Write 'tag'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"tag"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write the sequence tag. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
name|input_event
operator|.
name|data
operator|.
name|sequence_start
operator|.
name|tag
argument_list|,
operator|-
literal|1
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
name|YAML_DOUBLE_QUOTED_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
block|}
comment|/* Write 'implicit'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"implicit"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write if the sequence tag is implicit. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:bool"
argument_list|,
operator|(
name|input_event
operator|.
name|data
operator|.
name|sequence_start
operator|.
name|implicit
condition|?
literal|"true"
else|:
literal|"false"
operator|)
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Display the style information. */
if|if
condition|(
name|input_event
operator|.
name|data
operator|.
name|sequence_start
operator|.
name|style
condition|)
block|{
name|yaml_sequence_style_t
name|style
init|=
name|input_event
operator|.
name|data
operator|.
name|sequence_start
operator|.
name|style
decl_stmt|;
comment|/* Write 'style'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"style"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write the scalar style. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
operator|(
name|style
operator|==
name|YAML_BLOCK_SEQUENCE_STYLE
condition|?
literal|"block"
else|:
name|style
operator|==
name|YAML_FLOW_SEQUENCE_STYLE
condition|?
literal|"flow"
else|:
literal|"unknown"
operator|)
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
block|}
break|break;
case|case
name|YAML_SEQUENCE_END_EVENT
case|:
comment|/* Write 'type'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"type"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write 'SEQUENCE-END'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"SEQUENCE-END"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
break|break;
case|case
name|YAML_MAPPING_START_EVENT
case|:
comment|/* Write 'type'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"type"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write 'MAPPING-START'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"MAPPING-START"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Display the mapping anchor. */
if|if
condition|(
name|input_event
operator|.
name|data
operator|.
name|mapping_start
operator|.
name|anchor
condition|)
block|{
comment|/* Write 'anchor'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"anchor"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write the mapping anchor. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
name|input_event
operator|.
name|data
operator|.
name|mapping_start
operator|.
name|anchor
argument_list|,
operator|-
literal|1
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
name|YAML_DOUBLE_QUOTED_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
block|}
comment|/* Display the mapping tag. */
if|if
condition|(
name|input_event
operator|.
name|data
operator|.
name|mapping_start
operator|.
name|tag
condition|)
block|{
comment|/* Write 'tag'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"tag"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write the mapping tag. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
name|input_event
operator|.
name|data
operator|.
name|mapping_start
operator|.
name|tag
argument_list|,
operator|-
literal|1
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
name|YAML_DOUBLE_QUOTED_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
block|}
comment|/* Write 'implicit'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"implicit"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write if the mapping tag is implicit. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:bool"
argument_list|,
operator|(
name|input_event
operator|.
name|data
operator|.
name|mapping_start
operator|.
name|implicit
condition|?
literal|"true"
else|:
literal|"false"
operator|)
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Display the style information. */
if|if
condition|(
name|input_event
operator|.
name|data
operator|.
name|mapping_start
operator|.
name|style
condition|)
block|{
name|yaml_mapping_style_t
name|style
init|=
name|input_event
operator|.
name|data
operator|.
name|mapping_start
operator|.
name|style
decl_stmt|;
comment|/* Write 'style'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"style"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write the scalar style. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
operator|(
name|style
operator|==
name|YAML_BLOCK_MAPPING_STYLE
condition|?
literal|"block"
else|:
name|style
operator|==
name|YAML_FLOW_MAPPING_STYLE
condition|?
literal|"flow"
else|:
literal|"unknown"
operator|)
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
block|}
break|break;
case|case
name|YAML_MAPPING_END_EVENT
case|:
comment|/* Write 'type'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"type"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Write 'MAPPING-END'. */
if|if
condition|(
operator|!
name|yaml_scalar_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
name|NULL
argument_list|,
literal|"tag:yaml.org,2002:str"
argument_list|,
literal|"MAPPING-END"
argument_list|,
operator|-
literal|1
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|,
name|YAML_PLAIN_SCALAR_STYLE
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
break|break;
default|default:
comment|/* It couldn't really happen. */
break|break;
block|}
comment|/* Delete the event object. */
name|yaml_event_delete
argument_list|(
operator|&
name|input_event
argument_list|)
expr_stmt|;
comment|/* Create and emit a MAPPING-END event. */
if|if
condition|(
operator|!
name|yaml_mapping_end_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
block|}
comment|/* Create and emit the SEQUENCE-END event. */
if|if
condition|(
operator|!
name|yaml_sequence_end_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Create and emit the DOCUMENT-END event. */
if|if
condition|(
operator|!
name|yaml_document_end_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|,
literal|0
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
comment|/* Create and emit the STREAM-END event. */
if|if
condition|(
operator|!
name|yaml_stream_end_event_initialize
argument_list|(
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|event_error
goto|;
if|if
condition|(
operator|!
name|yaml_emitter_emit
argument_list|(
operator|&
name|emitter
argument_list|,
operator|&
name|output_event
argument_list|)
condition|)
goto|goto
name|emitter_error
goto|;
name|yaml_parser_delete
argument_list|(
operator|&
name|parser
argument_list|)
expr_stmt|;
name|yaml_emitter_delete
argument_list|(
operator|&
name|emitter
argument_list|)
expr_stmt|;
return|return
literal|0
return|;
name|parser_error
label|:
comment|/* Display a parser error message. */
switch|switch
condition|(
name|parser
operator|.
name|error
condition|)
block|{
case|case
name|YAML_MEMORY_ERROR
case|:
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Memory error: Not enough memory for parsing\n"
argument_list|)
expr_stmt|;
break|break;
case|case
name|YAML_READER_ERROR
case|:
if|if
condition|(
name|parser
operator|.
name|problem_value
operator|!=
operator|-
literal|1
condition|)
block|{
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Reader error: %s: #%X at %d\n"
argument_list|,
name|parser
operator|.
name|problem
argument_list|,
name|parser
operator|.
name|problem_value
argument_list|,
name|parser
operator|.
name|problem_offset
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Reader error: %s at %d\n"
argument_list|,
name|parser
operator|.
name|problem
argument_list|,
name|parser
operator|.
name|problem_offset
argument_list|)
expr_stmt|;
block|}
break|break;
case|case
name|YAML_SCANNER_ERROR
case|:
if|if
condition|(
name|parser
operator|.
name|context
condition|)
block|{
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Scanner error: %s at line %d, column %d\n"
literal|"%s at line %d, column %d\n"
argument_list|,
name|parser
operator|.
name|context
argument_list|,
name|parser
operator|.
name|context_mark
operator|.
name|line
operator|+
literal|1
argument_list|,
name|parser
operator|.
name|context_mark
operator|.
name|column
operator|+
literal|1
argument_list|,
name|parser
operator|.
name|problem
argument_list|,
name|parser
operator|.
name|problem_mark
operator|.
name|line
operator|+
literal|1
argument_list|,
name|parser
operator|.
name|problem_mark
operator|.
name|column
operator|+
literal|1
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Scanner error: %s at line %d, column %d\n"
argument_list|,
name|parser
operator|.
name|problem
argument_list|,
name|parser
operator|.
name|problem_mark
operator|.
name|line
operator|+
literal|1
argument_list|,
name|parser
operator|.
name|problem_mark
operator|.
name|column
operator|+
literal|1
argument_list|)
expr_stmt|;
block|}
break|break;
case|case
name|YAML_PARSER_ERROR
case|:
if|if
condition|(
name|parser
operator|.
name|context
condition|)
block|{
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Parser error: %s at line %d, column %d\n"
literal|"%s at line %d, column %d\n"
argument_list|,
name|parser
operator|.
name|context
argument_list|,
name|parser
operator|.
name|context_mark
operator|.
name|line
operator|+
literal|1
argument_list|,
name|parser
operator|.
name|context_mark
operator|.
name|column
operator|+
literal|1
argument_list|,
name|parser
operator|.
name|problem
argument_list|,
name|parser
operator|.
name|problem_mark
operator|.
name|line
operator|+
literal|1
argument_list|,
name|parser
operator|.
name|problem_mark
operator|.
name|column
operator|+
literal|1
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Parser error: %s at line %d, column %d\n"
argument_list|,
name|parser
operator|.
name|problem
argument_list|,
name|parser
operator|.
name|problem_mark
operator|.
name|line
operator|+
literal|1
argument_list|,
name|parser
operator|.
name|problem_mark
operator|.
name|column
operator|+
literal|1
argument_list|)
expr_stmt|;
block|}
break|break;
default|default:
comment|/* Couldn't happen. */
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Internal error\n"
argument_list|)
expr_stmt|;
break|break;
block|}
name|yaml_event_delete
argument_list|(
operator|&
name|input_event
argument_list|)
expr_stmt|;
name|yaml_event_delete
argument_list|(
operator|&
name|output_event
argument_list|)
expr_stmt|;
name|yaml_parser_delete
argument_list|(
operator|&
name|parser
argument_list|)
expr_stmt|;
name|yaml_emitter_delete
argument_list|(
operator|&
name|emitter
argument_list|)
expr_stmt|;
return|return
literal|1
return|;
name|emitter_error
label|:
comment|/* Display an emitter error message. */
switch|switch
condition|(
name|emitter
operator|.
name|error
condition|)
block|{
case|case
name|YAML_MEMORY_ERROR
case|:
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Memory error: Not enough memory for emitting\n"
argument_list|)
expr_stmt|;
break|break;
case|case
name|YAML_WRITER_ERROR
case|:
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Writer error: %s\n"
argument_list|,
name|emitter
operator|.
name|problem
argument_list|)
expr_stmt|;
break|break;
case|case
name|YAML_EMITTER_ERROR
case|:
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Emitter error: %s\n"
argument_list|,
name|emitter
operator|.
name|problem
argument_list|)
expr_stmt|;
break|break;
default|default:
comment|/* Couldn't happen. */
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Internal error\n"
argument_list|)
expr_stmt|;
break|break;
block|}
name|yaml_event_delete
argument_list|(
operator|&
name|input_event
argument_list|)
expr_stmt|;
name|yaml_event_delete
argument_list|(
operator|&
name|output_event
argument_list|)
expr_stmt|;
name|yaml_parser_delete
argument_list|(
operator|&
name|parser
argument_list|)
expr_stmt|;
name|yaml_emitter_delete
argument_list|(
operator|&
name|emitter
argument_list|)
expr_stmt|;
return|return
literal|1
return|;
name|event_error
label|:
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Memory error: Not enough memory for creating an event\n"
argument_list|)
expr_stmt|;
name|yaml_event_delete
argument_list|(
operator|&
name|input_event
argument_list|)
expr_stmt|;
name|yaml_event_delete
argument_list|(
operator|&
name|output_event
argument_list|)
expr_stmt|;
name|yaml_parser_delete
argument_list|(
operator|&
name|parser
argument_list|)
expr_stmt|;
name|yaml_emitter_delete
argument_list|(
operator|&
name|emitter
argument_list|)
expr_stmt|;
return|return
literal|1
return|;
block|}
end_function

end_unit

