begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*  * UPnP WPS Device  * Copyright (c) 2000-2003 Intel Corporation  * Copyright (c) 2006-2007 Sony Corporation  * Copyright (c) 2008-2009 Atheros Communications  * Copyright (c) 2009, Jouni Malinen<j@w1.fi>  *  * See wps_upnp.c for more details on licensing and code history.  */
end_comment

begin_ifndef
ifndef|#
directive|ifndef
name|WPS_UPNP_H
end_ifndef

begin_define
define|#
directive|define
name|WPS_UPNP_H
end_define

begin_struct_decl
struct_decl|struct
name|upnp_wps_device_sm
struct_decl|;
end_struct_decl

begin_struct_decl
struct_decl|struct
name|wps_context
struct_decl|;
end_struct_decl

begin_struct_decl
struct_decl|struct
name|wps_data
struct_decl|;
end_struct_decl

begin_struct
struct|struct
name|upnp_wps_peer
block|{
name|struct
name|wps_data
modifier|*
name|wps
decl_stmt|;
block|}
struct|;
end_struct

begin_enum
enum|enum
name|upnp_wps_wlanevent_type
block|{
name|UPNP_WPS_WLANEVENT_TYPE_PROBE
init|=
literal|1
block|,
name|UPNP_WPS_WLANEVENT_TYPE_EAP
init|=
literal|2
block|}
enum|;
end_enum

begin_struct
struct|struct
name|upnp_wps_device_ctx
block|{
name|struct
name|wpabuf
modifier|*
function_decl|(
modifier|*
name|rx_req_get_device_info
function_decl|)
parameter_list|(
name|void
modifier|*
name|priv
parameter_list|,
name|struct
name|upnp_wps_peer
modifier|*
name|peer
parameter_list|)
function_decl|;
name|struct
name|wpabuf
modifier|*
function_decl|(
modifier|*
name|rx_req_put_message
function_decl|)
parameter_list|(
name|void
modifier|*
name|priv
parameter_list|,
name|struct
name|upnp_wps_peer
modifier|*
name|peer
parameter_list|,
specifier|const
name|struct
name|wpabuf
modifier|*
name|msg
parameter_list|)
function_decl|;
name|struct
name|wpabuf
modifier|*
function_decl|(
modifier|*
name|rx_req_get_ap_settings
function_decl|)
parameter_list|(
name|void
modifier|*
name|priv
parameter_list|,
specifier|const
name|struct
name|wpabuf
modifier|*
name|msg
parameter_list|)
function_decl|;
name|int
function_decl|(
modifier|*
name|rx_req_set_ap_settings
function_decl|)
parameter_list|(
name|void
modifier|*
name|priv
parameter_list|,
specifier|const
name|struct
name|wpabuf
modifier|*
name|msg
parameter_list|)
function_decl|;
name|int
function_decl|(
modifier|*
name|rx_req_del_ap_settings
function_decl|)
parameter_list|(
name|void
modifier|*
name|priv
parameter_list|,
specifier|const
name|struct
name|wpabuf
modifier|*
name|msg
parameter_list|)
function_decl|;
name|struct
name|wpabuf
modifier|*
function_decl|(
modifier|*
name|rx_req_get_sta_settings
function_decl|)
parameter_list|(
name|void
modifier|*
name|priv
parameter_list|,
specifier|const
name|struct
name|wpabuf
modifier|*
name|msg
parameter_list|)
function_decl|;
name|int
function_decl|(
modifier|*
name|rx_req_set_sta_settings
function_decl|)
parameter_list|(
name|void
modifier|*
name|priv
parameter_list|,
specifier|const
name|struct
name|wpabuf
modifier|*
name|msg
parameter_list|)
function_decl|;
name|int
function_decl|(
modifier|*
name|rx_req_del_sta_settings
function_decl|)
parameter_list|(
name|void
modifier|*
name|priv
parameter_list|,
specifier|const
name|struct
name|wpabuf
modifier|*
name|msg
parameter_list|)
function_decl|;
name|int
function_decl|(
modifier|*
name|rx_req_put_wlan_response
function_decl|)
parameter_list|(
name|void
modifier|*
name|priv
parameter_list|,
name|enum
name|upnp_wps_wlanevent_type
name|ev_type
parameter_list|,
specifier|const
name|u8
modifier|*
name|mac_addr
parameter_list|,
specifier|const
name|struct
name|wpabuf
modifier|*
name|msg
parameter_list|,
name|enum
name|wps_msg_type
name|msg_type
parameter_list|)
function_decl|;
name|int
function_decl|(
modifier|*
name|rx_req_set_selected_registrar
function_decl|)
parameter_list|(
name|void
modifier|*
name|priv
parameter_list|,
specifier|const
name|struct
name|wpabuf
modifier|*
name|msg
parameter_list|)
function_decl|;
name|int
function_decl|(
modifier|*
name|rx_req_reboot_ap
function_decl|)
parameter_list|(
name|void
modifier|*
name|priv
parameter_list|,
specifier|const
name|struct
name|wpabuf
modifier|*
name|msg
parameter_list|)
function_decl|;
name|int
function_decl|(
modifier|*
name|rx_req_reset_ap
function_decl|)
parameter_list|(
name|void
modifier|*
name|priv
parameter_list|,
specifier|const
name|struct
name|wpabuf
modifier|*
name|msg
parameter_list|)
function_decl|;
name|int
function_decl|(
modifier|*
name|rx_req_reboot_sta
function_decl|)
parameter_list|(
name|void
modifier|*
name|priv
parameter_list|,
specifier|const
name|struct
name|wpabuf
modifier|*
name|msg
parameter_list|)
function_decl|;
name|int
function_decl|(
modifier|*
name|rx_req_reset_sta
function_decl|)
parameter_list|(
name|void
modifier|*
name|priv
parameter_list|,
specifier|const
name|struct
name|wpabuf
modifier|*
name|msg
parameter_list|)
function_decl|;
block|}
struct|;
end_struct

begin_function_decl
name|struct
name|upnp_wps_device_sm
modifier|*
name|upnp_wps_device_init
parameter_list|(
name|struct
name|upnp_wps_device_ctx
modifier|*
name|ctx
parameter_list|,
name|struct
name|wps_context
modifier|*
name|wps
parameter_list|,
name|void
modifier|*
name|priv
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|upnp_wps_device_deinit
parameter_list|(
name|struct
name|upnp_wps_device_sm
modifier|*
name|sm
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|upnp_wps_device_start
parameter_list|(
name|struct
name|upnp_wps_device_sm
modifier|*
name|sm
parameter_list|,
name|char
modifier|*
name|net_if
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|upnp_wps_device_stop
parameter_list|(
name|struct
name|upnp_wps_device_sm
modifier|*
name|sm
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|upnp_wps_device_send_wlan_event
parameter_list|(
name|struct
name|upnp_wps_device_sm
modifier|*
name|sm
parameter_list|,
specifier|const
name|u8
name|from_mac_addr
index|[
name|ETH_ALEN
index|]
parameter_list|,
name|enum
name|upnp_wps_wlanevent_type
name|ev_type
parameter_list|,
specifier|const
name|struct
name|wpabuf
modifier|*
name|msg
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|upnp_wps_subscribers
parameter_list|(
name|struct
name|upnp_wps_device_sm
modifier|*
name|sm
parameter_list|)
function_decl|;
end_function_decl

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* WPS_UPNP_H */
end_comment

end_unit

