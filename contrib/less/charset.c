begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*  * Copyright (C) 1984-2007  Mark Nudelman  *  * You may distribute under the terms of either the GNU General Public  * License or the Less License, as specified in the README file.  *  * For more information about less, or for information on how to   * contact the author, see the README file.  */
end_comment

begin_comment
comment|/*  * Functions to define the character set  * and do things specific to the character set.  */
end_comment

begin_include
include|#
directive|include
file|"less.h"
end_include

begin_if
if|#
directive|if
name|HAVE_LOCALE
end_if

begin_include
include|#
directive|include
file|<locale.h>
end_include

begin_include
include|#
directive|include
file|<ctype.h>
end_include

begin_include
include|#
directive|include
file|<langinfo.h>
end_include

begin_endif
endif|#
directive|endif
end_endif

begin_include
include|#
directive|include
file|"charset.h"
end_include

begin_decl_stmt
name|public
name|int
name|utf_mode
init|=
literal|0
decl_stmt|;
end_decl_stmt

begin_comment
comment|/*  * Predefined character sets,  * selected by the LESSCHARSET environment variable.  */
end_comment

begin_struct
struct|struct
name|charset
block|{
name|char
modifier|*
name|name
decl_stmt|;
name|int
modifier|*
name|p_flag
decl_stmt|;
name|char
modifier|*
name|desc
decl_stmt|;
block|}
name|charsets
index|[]
init|=
block|{
block|{
literal|"ascii"
block|,
name|NULL
block|,
literal|"8bcccbcc18b95.b"
block|}
block|,
block|{
literal|"utf-8"
block|,
operator|&
name|utf_mode
block|,
literal|"8bcccbcc18b95.b126.bb"
block|}
block|,
block|{
literal|"iso8859"
block|,
name|NULL
block|,
literal|"8bcccbcc18b95.33b."
block|}
block|,
block|{
literal|"latin3"
block|,
name|NULL
block|,
literal|"8bcccbcc18b95.33b5.b8.b15.b4.b12.b18.b12.b."
block|}
block|,
block|{
literal|"arabic"
block|,
name|NULL
block|,
literal|"8bcccbcc18b95.33b.3b.7b2.13b.3b.b26.5b19.b"
block|}
block|,
block|{
literal|"greek"
block|,
name|NULL
block|,
literal|"8bcccbcc18b95.33b4.2b4.b3.b35.b44.b"
block|}
block|,
block|{
literal|"greek2005"
block|,
name|NULL
block|,
literal|"8bcccbcc18b95.33b14.b35.b44.b"
block|}
block|,
block|{
literal|"hebrew"
block|,
name|NULL
block|,
literal|"8bcccbcc18b95.33b.b29.32b28.2b2.b"
block|}
block|,
block|{
literal|"koi8-r"
block|,
name|NULL
block|,
literal|"8bcccbcc18b95.b."
block|}
block|,
block|{
literal|"KOI8-T"
block|,
name|NULL
block|,
literal|"8bcccbcc18b95.b8.b6.b8.b.b.5b7.3b4.b4.b3.b.b.3b."
block|}
block|,
block|{
literal|"georgianps"
block|,
name|NULL
block|,
literal|"8bcccbcc18b95.3b11.4b12.2b."
block|}
block|,
block|{
literal|"tcvn"
block|,
name|NULL
block|,
literal|"b..b...bcccbccbbb7.8b95.b48.5b."
block|}
block|,
block|{
literal|"TIS-620"
block|,
name|NULL
block|,
literal|"8bcccbcc18b95.b.4b.11b7.8b."
block|}
block|,
block|{
literal|"next"
block|,
name|NULL
block|,
literal|"8bcccbcc18b95.bb125.bb"
block|}
block|,
block|{
literal|"dos"
block|,
name|NULL
block|,
literal|"8bcccbcc12bc5b95.b."
block|}
block|,
block|{
literal|"windows-1251"
block|,
name|NULL
block|,
literal|"8bcccbcc12bc5b95.b24.b."
block|}
block|,
block|{
literal|"windows-1252"
block|,
name|NULL
block|,
literal|"8bcccbcc12bc5b95.b.b11.b.2b12.b."
block|}
block|,
block|{
literal|"windows-1255"
block|,
name|NULL
block|,
literal|"8bcccbcc12bc5b95.b.b8.b.5b9.b.4b."
block|}
block|,
block|{
literal|"ebcdic"
block|,
name|NULL
block|,
literal|"5bc6bcc7bcc41b.9b7.9b5.b..8b6.10b6.b9.7b9.8b8.17b3.3b9.7b9.8b8.6b10.b.b.b."
block|}
block|,
block|{
literal|"IBM-1047"
block|,
name|NULL
block|,
literal|"4cbcbc3b9cbccbccbb4c6bcc5b3cbbc4bc4bccbc191.b"
block|}
block|,
block|{
name|NULL
block|,
name|NULL
block|,
name|NULL
block|}
block|}
struct|;
end_struct

begin_comment
comment|/*  * Support "locale charmap"/nl_langinfo(CODESET) values, as well as others.  */
end_comment

begin_struct
struct|struct
name|cs_alias
block|{
name|char
modifier|*
name|name
decl_stmt|;
name|char
modifier|*
name|oname
decl_stmt|;
block|}
name|cs_aliases
index|[]
init|=
block|{
block|{
literal|"UTF-8"
block|,
literal|"utf-8"
block|}
block|,
block|{
literal|"ANSI_X3.4-1968"
block|,
literal|"ascii"
block|}
block|,
block|{
literal|"US-ASCII"
block|,
literal|"ascii"
block|}
block|,
block|{
literal|"latin1"
block|,
literal|"iso8859"
block|}
block|,
block|{
literal|"ISO-8859-1"
block|,
literal|"iso8859"
block|}
block|,
block|{
literal|"latin9"
block|,
literal|"iso8859"
block|}
block|,
block|{
literal|"ISO-8859-15"
block|,
literal|"iso8859"
block|}
block|,
block|{
literal|"latin2"
block|,
literal|"iso8859"
block|}
block|,
block|{
literal|"ISO-8859-2"
block|,
literal|"iso8859"
block|}
block|,
block|{
literal|"ISO-8859-3"
block|,
literal|"latin3"
block|}
block|,
block|{
literal|"latin4"
block|,
literal|"iso8859"
block|}
block|,
block|{
literal|"ISO-8859-4"
block|,
literal|"iso8859"
block|}
block|,
block|{
literal|"cyrillic"
block|,
literal|"iso8859"
block|}
block|,
block|{
literal|"ISO-8859-5"
block|,
literal|"iso8859"
block|}
block|,
block|{
literal|"ISO-8859-6"
block|,
literal|"arabic"
block|}
block|,
block|{
literal|"ISO-8859-7"
block|,
literal|"greek"
block|}
block|,
block|{
literal|"IBM9005"
block|,
literal|"greek2005"
block|}
block|,
block|{
literal|"ISO-8859-8"
block|,
literal|"hebrew"
block|}
block|,
block|{
literal|"latin5"
block|,
literal|"iso8859"
block|}
block|,
block|{
literal|"ISO-8859-9"
block|,
literal|"iso8859"
block|}
block|,
block|{
literal|"latin6"
block|,
literal|"iso8859"
block|}
block|,
block|{
literal|"ISO-8859-10"
block|,
literal|"iso8859"
block|}
block|,
block|{
literal|"latin7"
block|,
literal|"iso8859"
block|}
block|,
block|{
literal|"ISO-8859-13"
block|,
literal|"iso8859"
block|}
block|,
block|{
literal|"latin8"
block|,
literal|"iso8859"
block|}
block|,
block|{
literal|"ISO-8859-14"
block|,
literal|"iso8859"
block|}
block|,
block|{
literal|"latin10"
block|,
literal|"iso8859"
block|}
block|,
block|{
literal|"ISO-8859-16"
block|,
literal|"iso8859"
block|}
block|,
block|{
literal|"IBM437"
block|,
literal|"dos"
block|}
block|,
block|{
literal|"EBCDIC-US"
block|,
literal|"ebcdic"
block|}
block|,
block|{
literal|"IBM1047"
block|,
literal|"IBM-1047"
block|}
block|,
block|{
literal|"KOI8-R"
block|,
literal|"koi8-r"
block|}
block|,
block|{
literal|"KOI8-U"
block|,
literal|"koi8-r"
block|}
block|,
block|{
literal|"GEORGIAN-PS"
block|,
literal|"georgianps"
block|}
block|,
block|{
literal|"TCVN5712-1"
block|,
literal|"tcvn"
block|}
block|,
block|{
literal|"NEXTSTEP"
block|,
literal|"next"
block|}
block|,
block|{
literal|"windows"
block|,
literal|"windows-1252"
block|}
block|,
comment|/* backward compatibility */
block|{
literal|"CP1251"
block|,
literal|"windows-1251"
block|}
block|,
block|{
literal|"CP1252"
block|,
literal|"windows-1252"
block|}
block|,
block|{
literal|"CP1255"
block|,
literal|"windows-1255"
block|}
block|,
block|{
name|NULL
block|,
name|NULL
block|}
block|}
struct|;
end_struct

begin_define
define|#
directive|define
name|IS_BINARY_CHAR
value|01
end_define

begin_define
define|#
directive|define
name|IS_CONTROL_CHAR
value|02
end_define

begin_decl_stmt
specifier|static
name|char
name|chardef
index|[
literal|256
index|]
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|char
modifier|*
name|binfmt
init|=
name|NULL
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|char
modifier|*
name|utfbinfmt
init|=
name|NULL
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|public
name|int
name|binattr
init|=
name|AT_STANDOUT
decl_stmt|;
end_decl_stmt

begin_comment
comment|/*  * Define a charset, given a description string.  * The string consists of 256 letters,  * one for each character in the charset.  * If the string is shorter than 256 letters, missing letters  * are taken to be identical to the last one.  * A decimal number followed by a letter is taken to be a   * repetition of the letter.  *  * Each letter is one of:  *	. normal character  *	b binary character  *	c control character  */
end_comment

begin_function
specifier|static
name|void
name|ichardef
parameter_list|(
name|s
parameter_list|)
name|char
modifier|*
name|s
decl_stmt|;
block|{
specifier|register
name|char
modifier|*
name|cp
decl_stmt|;
specifier|register
name|int
name|n
decl_stmt|;
specifier|register
name|char
name|v
decl_stmt|;
name|n
operator|=
literal|0
expr_stmt|;
name|v
operator|=
literal|0
expr_stmt|;
name|cp
operator|=
name|chardef
expr_stmt|;
while|while
condition|(
operator|*
name|s
operator|!=
literal|'\0'
condition|)
block|{
switch|switch
condition|(
operator|*
name|s
operator|++
condition|)
block|{
case|case
literal|'.'
case|:
name|v
operator|=
literal|0
expr_stmt|;
break|break;
case|case
literal|'c'
case|:
name|v
operator|=
name|IS_CONTROL_CHAR
expr_stmt|;
break|break;
case|case
literal|'b'
case|:
name|v
operator|=
name|IS_BINARY_CHAR
operator||
name|IS_CONTROL_CHAR
expr_stmt|;
break|break;
case|case
literal|'0'
case|:
case|case
literal|'1'
case|:
case|case
literal|'2'
case|:
case|case
literal|'3'
case|:
case|case
literal|'4'
case|:
case|case
literal|'5'
case|:
case|case
literal|'6'
case|:
case|case
literal|'7'
case|:
case|case
literal|'8'
case|:
case|case
literal|'9'
case|:
name|n
operator|=
operator|(
literal|10
operator|*
name|n
operator|)
operator|+
operator|(
name|s
index|[
operator|-
literal|1
index|]
operator|-
literal|'0'
operator|)
expr_stmt|;
continue|continue;
default|default:
name|error
argument_list|(
literal|"invalid chardef"
argument_list|,
name|NULL_PARG
argument_list|)
expr_stmt|;
name|quit
argument_list|(
name|QUIT_ERROR
argument_list|)
expr_stmt|;
comment|/*NOTREACHED*/
block|}
do|do
block|{
if|if
condition|(
name|cp
operator|>=
name|chardef
operator|+
sizeof|sizeof
argument_list|(
name|chardef
argument_list|)
condition|)
block|{
name|error
argument_list|(
literal|"chardef longer than 256"
argument_list|,
name|NULL_PARG
argument_list|)
expr_stmt|;
name|quit
argument_list|(
name|QUIT_ERROR
argument_list|)
expr_stmt|;
comment|/*NOTREACHED*/
block|}
operator|*
name|cp
operator|++
operator|=
name|v
expr_stmt|;
block|}
do|while
condition|(
operator|--
name|n
operator|>
literal|0
condition|)
do|;
name|n
operator|=
literal|0
expr_stmt|;
block|}
while|while
condition|(
name|cp
operator|<
name|chardef
operator|+
sizeof|sizeof
argument_list|(
name|chardef
argument_list|)
condition|)
operator|*
name|cp
operator|++
operator|=
name|v
expr_stmt|;
block|}
end_function

begin_comment
comment|/*  * Define a charset, given a charset name.  * The valid charset names are listed in the "charsets" array.  */
end_comment

begin_function
specifier|static
name|int
name|icharset
parameter_list|(
name|name
parameter_list|,
name|no_error
parameter_list|)
specifier|register
name|char
modifier|*
name|name
decl_stmt|;
name|int
name|no_error
decl_stmt|;
block|{
specifier|register
name|struct
name|charset
modifier|*
name|p
decl_stmt|;
specifier|register
name|struct
name|cs_alias
modifier|*
name|a
decl_stmt|;
if|if
condition|(
name|name
operator|==
name|NULL
operator|||
operator|*
name|name
operator|==
literal|'\0'
condition|)
return|return
operator|(
literal|0
operator|)
return|;
comment|/* First see if the name is an alias. */
for|for
control|(
name|a
operator|=
name|cs_aliases
init|;
name|a
operator|->
name|name
operator|!=
name|NULL
condition|;
name|a
operator|++
control|)
block|{
if|if
condition|(
name|strcmp
argument_list|(
name|name
argument_list|,
name|a
operator|->
name|name
argument_list|)
operator|==
literal|0
condition|)
block|{
name|name
operator|=
name|a
operator|->
name|oname
expr_stmt|;
break|break;
block|}
block|}
for|for
control|(
name|p
operator|=
name|charsets
init|;
name|p
operator|->
name|name
operator|!=
name|NULL
condition|;
name|p
operator|++
control|)
block|{
if|if
condition|(
name|strcmp
argument_list|(
name|name
argument_list|,
name|p
operator|->
name|name
argument_list|)
operator|==
literal|0
condition|)
block|{
name|ichardef
argument_list|(
name|p
operator|->
name|desc
argument_list|)
expr_stmt|;
if|if
condition|(
name|p
operator|->
name|p_flag
operator|!=
name|NULL
condition|)
operator|*
operator|(
name|p
operator|->
name|p_flag
operator|)
operator|=
literal|1
expr_stmt|;
return|return
operator|(
literal|1
operator|)
return|;
block|}
block|}
if|if
condition|(
operator|!
name|no_error
condition|)
block|{
name|error
argument_list|(
literal|"invalid charset name"
argument_list|,
name|NULL_PARG
argument_list|)
expr_stmt|;
name|quit
argument_list|(
name|QUIT_ERROR
argument_list|)
expr_stmt|;
block|}
return|return
operator|(
literal|0
operator|)
return|;
block|}
end_function

begin_if
if|#
directive|if
name|HAVE_LOCALE
end_if

begin_comment
comment|/*  * Define a charset, given a locale name.  */
end_comment

begin_function
specifier|static
name|void
name|ilocale
parameter_list|()
block|{
specifier|register
name|int
name|c
decl_stmt|;
for|for
control|(
name|c
operator|=
literal|0
init|;
name|c
operator|<
operator|(
name|int
operator|)
sizeof|sizeof
argument_list|(
name|chardef
argument_list|)
condition|;
name|c
operator|++
control|)
block|{
if|if
condition|(
name|isprint
argument_list|(
name|c
argument_list|)
condition|)
name|chardef
index|[
name|c
index|]
operator|=
literal|0
expr_stmt|;
elseif|else
if|if
condition|(
name|iscntrl
argument_list|(
name|c
argument_list|)
condition|)
name|chardef
index|[
name|c
index|]
operator|=
name|IS_CONTROL_CHAR
expr_stmt|;
else|else
name|chardef
index|[
name|c
index|]
operator|=
name|IS_BINARY_CHAR
operator||
name|IS_CONTROL_CHAR
expr_stmt|;
block|}
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/*  * Define the printing format for control (or binary utf) chars.  */
end_comment

begin_function
specifier|static
name|void
name|setbinfmt
parameter_list|(
name|s
parameter_list|,
name|fmtvarptr
parameter_list|,
name|default_fmt
parameter_list|)
name|char
modifier|*
name|s
decl_stmt|;
name|char
modifier|*
modifier|*
name|fmtvarptr
decl_stmt|;
name|char
modifier|*
name|default_fmt
decl_stmt|;
block|{
if|if
condition|(
name|s
operator|&&
name|utf_mode
condition|)
block|{
comment|/* It would be too hard to account for width otherwise.  */
name|char
modifier|*
name|t
init|=
name|s
decl_stmt|;
while|while
condition|(
operator|*
name|t
condition|)
block|{
if|if
condition|(
operator|*
name|t
operator|<
literal|' '
operator|||
operator|*
name|t
operator|>
literal|'~'
condition|)
block|{
name|s
operator|=
name|default_fmt
expr_stmt|;
goto|goto
name|attr
goto|;
block|}
name|t
operator|++
expr_stmt|;
block|}
block|}
comment|/* %n is evil */
if|if
condition|(
name|s
operator|==
name|NULL
operator|||
operator|*
name|s
operator|==
literal|'\0'
operator|||
operator|(
operator|*
name|s
operator|==
literal|'*'
operator|&&
operator|(
name|s
index|[
literal|1
index|]
operator|==
literal|'\0'
operator|||
name|s
index|[
literal|2
index|]
operator|==
literal|'\0'
operator|||
name|strchr
argument_list|(
name|s
operator|+
literal|2
argument_list|,
literal|'n'
argument_list|)
operator|)
operator|)
operator|||
operator|(
operator|*
name|s
operator|!=
literal|'*'
operator|&&
name|strchr
argument_list|(
name|s
argument_list|,
literal|'n'
argument_list|)
operator|)
condition|)
name|s
operator|=
name|default_fmt
expr_stmt|;
comment|/* 	 * Select the attributes if it starts with "*". 	 */
name|attr
label|:
if|if
condition|(
operator|*
name|s
operator|==
literal|'*'
condition|)
block|{
switch|switch
condition|(
name|s
index|[
literal|1
index|]
condition|)
block|{
case|case
literal|'d'
case|:
name|binattr
operator|=
name|AT_BOLD
expr_stmt|;
break|break;
case|case
literal|'k'
case|:
name|binattr
operator|=
name|AT_BLINK
expr_stmt|;
break|break;
case|case
literal|'s'
case|:
name|binattr
operator|=
name|AT_STANDOUT
expr_stmt|;
break|break;
case|case
literal|'u'
case|:
name|binattr
operator|=
name|AT_UNDERLINE
expr_stmt|;
break|break;
default|default:
name|binattr
operator|=
name|AT_NORMAL
expr_stmt|;
break|break;
block|}
name|s
operator|+=
literal|2
expr_stmt|;
block|}
operator|*
name|fmtvarptr
operator|=
name|s
expr_stmt|;
block|}
end_function

begin_comment
comment|/*  *  */
end_comment

begin_function
specifier|static
name|void
name|set_charset
parameter_list|()
block|{
name|char
modifier|*
name|s
decl_stmt|;
comment|/* 	 * See if environment variable LESSCHARSET is defined. 	 */
name|s
operator|=
name|lgetenv
argument_list|(
literal|"LESSCHARSET"
argument_list|)
expr_stmt|;
if|if
condition|(
name|icharset
argument_list|(
name|s
argument_list|,
literal|0
argument_list|)
condition|)
return|return;
comment|/* 	 * LESSCHARSET is not defined: try LESSCHARDEF. 	 */
name|s
operator|=
name|lgetenv
argument_list|(
literal|"LESSCHARDEF"
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|!=
name|NULL
operator|&&
operator|*
name|s
operator|!=
literal|'\0'
condition|)
block|{
name|ichardef
argument_list|(
name|s
argument_list|)
expr_stmt|;
return|return;
block|}
if|#
directive|if
name|HAVE_LOCALE
ifdef|#
directive|ifdef
name|CODESET
comment|/* 	 * Try using the codeset name as the charset name. 	 */
name|s
operator|=
name|nl_langinfo
argument_list|(
name|CODESET
argument_list|)
expr_stmt|;
if|if
condition|(
name|icharset
argument_list|(
name|s
argument_list|,
literal|1
argument_list|)
condition|)
return|return;
endif|#
directive|endif
endif|#
directive|endif
if|#
directive|if
name|HAVE_STRSTR
comment|/* 	 * Check whether LC_ALL, LC_CTYPE or LANG look like UTF-8 is used. 	 */
if|if
condition|(
operator|(
name|s
operator|=
name|lgetenv
argument_list|(
literal|"LC_ALL"
argument_list|)
operator|)
operator|!=
name|NULL
operator|||
operator|(
name|s
operator|=
name|lgetenv
argument_list|(
literal|"LC_CTYPE"
argument_list|)
operator|)
operator|!=
name|NULL
operator|||
operator|(
name|s
operator|=
name|lgetenv
argument_list|(
literal|"LANG"
argument_list|)
operator|)
operator|!=
name|NULL
condition|)
block|{
if|if
condition|(
name|strstr
argument_list|(
name|s
argument_list|,
literal|"UTF-8"
argument_list|)
operator|!=
name|NULL
operator|||
name|strstr
argument_list|(
name|s
argument_list|,
literal|"utf-8"
argument_list|)
operator|!=
name|NULL
operator|||
name|strstr
argument_list|(
name|s
argument_list|,
literal|"UTF8"
argument_list|)
operator|!=
name|NULL
operator|||
name|strstr
argument_list|(
name|s
argument_list|,
literal|"utf8"
argument_list|)
operator|!=
name|NULL
condition|)
if|if
condition|(
name|icharset
argument_list|(
literal|"utf-8"
argument_list|,
literal|1
argument_list|)
condition|)
return|return;
block|}
endif|#
directive|endif
if|#
directive|if
name|HAVE_LOCALE
comment|/* 	 * Get character definitions from locale functions, 	 * rather than from predefined charset entry. 	 */
name|ilocale
argument_list|()
expr_stmt|;
if|#
directive|if
name|MSDOS_COMPILER
comment|/* 	 * Default to "dos". 	 */
operator|(
name|void
operator|)
name|icharset
argument_list|(
literal|"dos"
argument_list|,
literal|1
argument_list|)
expr_stmt|;
else|#
directive|else
comment|/* 	 * Default to "latin1". 	 */
operator|(
name|void
operator|)
name|icharset
argument_list|(
literal|"latin1"
argument_list|,
literal|1
argument_list|)
expr_stmt|;
endif|#
directive|endif
endif|#
directive|endif
block|}
end_function

begin_comment
comment|/*  * Initialize charset data structures.  */
end_comment

begin_function
name|public
name|void
name|init_charset
parameter_list|()
block|{
name|char
modifier|*
name|s
decl_stmt|;
if|#
directive|if
name|HAVE_LOCALE
name|setlocale
argument_list|(
name|LC_ALL
argument_list|,
literal|""
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|set_charset
argument_list|()
expr_stmt|;
name|s
operator|=
name|lgetenv
argument_list|(
literal|"LESSBINFMT"
argument_list|)
expr_stmt|;
name|setbinfmt
argument_list|(
name|s
argument_list|,
operator|&
name|binfmt
argument_list|,
literal|"*s<%02X>"
argument_list|)
expr_stmt|;
name|s
operator|=
name|lgetenv
argument_list|(
literal|"LESSUTFBINFMT"
argument_list|)
expr_stmt|;
name|setbinfmt
argument_list|(
name|s
argument_list|,
operator|&
name|utfbinfmt
argument_list|,
literal|"<U+%04lX>"
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/*  * Is a given character a "binary" character?  */
end_comment

begin_function
name|public
name|int
name|binary_char
parameter_list|(
name|c
parameter_list|)
name|unsigned
name|char
name|c
decl_stmt|;
block|{
name|c
operator|&=
literal|0377
expr_stmt|;
return|return
operator|(
name|chardef
index|[
name|c
index|]
operator|&
name|IS_BINARY_CHAR
operator|)
return|;
block|}
end_function

begin_comment
comment|/*  * Is a given character a "control" character?  */
end_comment

begin_function
name|public
name|int
name|control_char
parameter_list|(
name|c
parameter_list|)
name|int
name|c
decl_stmt|;
block|{
name|c
operator|&=
literal|0377
expr_stmt|;
return|return
operator|(
name|chardef
index|[
name|c
index|]
operator|&
name|IS_CONTROL_CHAR
operator|)
return|;
block|}
end_function

begin_comment
comment|/*  * Return the printable form of a character.  * For example, in the "ascii" charset '\3' is printed as "^C".  */
end_comment

begin_function
name|public
name|char
modifier|*
name|prchar
parameter_list|(
name|c
parameter_list|)
name|int
name|c
decl_stmt|;
block|{
comment|/* {{ This buffer can be overrun if LESSBINFMT is a long string. }} */
specifier|static
name|char
name|buf
index|[
literal|32
index|]
decl_stmt|;
name|c
operator|&=
literal|0377
expr_stmt|;
if|if
condition|(
operator|(
name|c
operator|<
literal|128
operator|||
operator|!
name|utf_mode
operator|)
operator|&&
operator|!
name|control_char
argument_list|(
name|c
argument_list|)
condition|)
name|SNPRINTF1
argument_list|(
name|buf
argument_list|,
sizeof|sizeof
argument_list|(
name|buf
argument_list|)
argument_list|,
literal|"%c"
argument_list|,
name|c
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
name|c
operator|==
name|ESC
condition|)
name|strcpy
argument_list|(
name|buf
argument_list|,
literal|"ESC"
argument_list|)
expr_stmt|;
if|#
directive|if
name|IS_EBCDIC_HOST
elseif|else
if|if
condition|(
operator|!
name|binary_char
argument_list|(
name|c
argument_list|)
operator|&&
name|c
operator|<
literal|64
condition|)
name|SNPRINTF1
argument_list|(
name|buf
argument_list|,
sizeof|sizeof
argument_list|(
name|buf
argument_list|)
argument_list|,
literal|"^%c"
argument_list|,
comment|/* 		 * This array roughly inverts CONTROL() #defined in less.h, 	 	 * and should be kept in sync with CONTROL() and IBM-1047.  	 	 */
literal|"@ABC.I.?...KLMNO"
literal|"PQRS.JH.XY.."
literal|"\\]^_"
literal|"......W[.....EFG"
literal|"..V....D....TU.Z"
index|[
name|c
index|]
argument_list|)
expr_stmt|;
else|#
directive|else
elseif|else
if|if
condition|(
name|c
operator|<
literal|128
operator|&&
operator|!
name|control_char
argument_list|(
name|c
operator|^
literal|0100
argument_list|)
condition|)
name|SNPRINTF1
argument_list|(
name|buf
argument_list|,
sizeof|sizeof
argument_list|(
name|buf
argument_list|)
argument_list|,
literal|"^%c"
argument_list|,
name|c
operator|^
literal|0100
argument_list|)
expr_stmt|;
endif|#
directive|endif
else|else
name|SNPRINTF1
argument_list|(
name|buf
argument_list|,
sizeof|sizeof
argument_list|(
name|buf
argument_list|)
argument_list|,
name|binfmt
argument_list|,
name|c
argument_list|)
expr_stmt|;
return|return
operator|(
name|buf
operator|)
return|;
block|}
end_function

begin_comment
comment|/*  * Return the printable form of a UTF-8 character.  */
end_comment

begin_function
name|public
name|char
modifier|*
name|prutfchar
parameter_list|(
name|ch
parameter_list|)
name|LWCHAR
name|ch
decl_stmt|;
block|{
specifier|static
name|char
name|buf
index|[
literal|32
index|]
decl_stmt|;
if|if
condition|(
name|ch
operator|==
name|ESC
condition|)
name|strcpy
argument_list|(
name|buf
argument_list|,
literal|"ESC"
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
name|ch
operator|<
literal|128
operator|&&
name|control_char
argument_list|(
name|ch
argument_list|)
condition|)
block|{
if|if
condition|(
operator|!
name|control_char
argument_list|(
name|ch
operator|^
literal|0100
argument_list|)
condition|)
name|SNPRINTF1
argument_list|(
name|buf
argument_list|,
sizeof|sizeof
argument_list|(
name|buf
argument_list|)
argument_list|,
literal|"^%c"
argument_list|,
operator|(
operator|(
name|char
operator|)
name|ch
operator|)
operator|^
literal|0100
argument_list|)
expr_stmt|;
else|else
name|SNPRINTF1
argument_list|(
name|buf
argument_list|,
sizeof|sizeof
argument_list|(
name|buf
argument_list|)
argument_list|,
name|binfmt
argument_list|,
operator|(
name|char
operator|)
name|ch
argument_list|)
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|is_ubin_char
argument_list|(
name|ch
argument_list|)
condition|)
name|SNPRINTF1
argument_list|(
name|buf
argument_list|,
sizeof|sizeof
argument_list|(
name|buf
argument_list|)
argument_list|,
name|utfbinfmt
argument_list|,
name|ch
argument_list|)
expr_stmt|;
else|else
block|{
name|int
name|len
decl_stmt|;
if|if
condition|(
name|ch
operator|>=
literal|0x80000000
condition|)
block|{
name|len
operator|=
literal|3
expr_stmt|;
name|ch
operator|=
literal|0xFFFD
expr_stmt|;
block|}
else|else
block|{
name|len
operator|=
operator|(
name|ch
operator|<
literal|0x80
operator|)
condition|?
literal|1
else|:
operator|(
name|ch
operator|<
literal|0x800
operator|)
condition|?
literal|2
else|:
operator|(
name|ch
operator|<
literal|0x10000
operator|)
condition|?
literal|3
else|:
operator|(
name|ch
operator|<
literal|0x200000
operator|)
condition|?
literal|4
else|:
operator|(
name|ch
operator|<
literal|0x4000000
operator|)
condition|?
literal|5
else|:
literal|6
expr_stmt|;
block|}
name|buf
index|[
name|len
index|]
operator|=
literal|'\0'
expr_stmt|;
if|if
condition|(
name|len
operator|==
literal|1
condition|)
operator|*
name|buf
operator|=
operator|(
name|char
operator|)
name|ch
expr_stmt|;
else|else
block|{
operator|*
name|buf
operator|=
operator|(
operator|(
literal|1
operator|<<
name|len
operator|)
operator|-
literal|1
operator|)
operator|<<
operator|(
literal|8
operator|-
name|len
operator|)
expr_stmt|;
while|while
condition|(
operator|--
name|len
operator|>
literal|0
condition|)
block|{
name|buf
index|[
name|len
index|]
operator|=
call|(
name|char
call|)
argument_list|(
literal|0x80
operator||
operator|(
name|ch
operator|&
literal|0x3F
operator|)
argument_list|)
expr_stmt|;
name|ch
operator|>>=
literal|6
expr_stmt|;
block|}
operator|*
name|buf
operator||=
name|ch
expr_stmt|;
block|}
block|}
return|return
operator|(
name|buf
operator|)
return|;
block|}
end_function

begin_comment
comment|/*  * Get the length of a UTF-8 character in bytes.  */
end_comment

begin_function
name|public
name|int
name|utf_len
parameter_list|(
name|ch
parameter_list|)
name|char
name|ch
decl_stmt|;
block|{
if|if
condition|(
operator|(
name|ch
operator|&
literal|0x80
operator|)
operator|==
literal|0
condition|)
return|return
literal|1
return|;
if|if
condition|(
operator|(
name|ch
operator|&
literal|0xE0
operator|)
operator|==
literal|0xC0
condition|)
return|return
literal|2
return|;
if|if
condition|(
operator|(
name|ch
operator|&
literal|0xF0
operator|)
operator|==
literal|0xE0
condition|)
return|return
literal|3
return|;
if|if
condition|(
operator|(
name|ch
operator|&
literal|0xF8
operator|)
operator|==
literal|0xF0
condition|)
return|return
literal|4
return|;
if|if
condition|(
operator|(
name|ch
operator|&
literal|0xFC
operator|)
operator|==
literal|0xF8
condition|)
return|return
literal|5
return|;
if|if
condition|(
operator|(
name|ch
operator|&
literal|0xFE
operator|)
operator|==
literal|0xFC
condition|)
return|return
literal|6
return|;
comment|/* Invalid UTF-8 encoding. */
return|return
literal|1
return|;
block|}
end_function

begin_comment
comment|/*  * Is a UTF-8 character well-formed?  */
end_comment

begin_function
name|public
name|int
name|is_utf8_well_formed
parameter_list|(
name|s
parameter_list|)
name|unsigned
name|char
modifier|*
name|s
decl_stmt|;
block|{
name|int
name|i
decl_stmt|;
name|int
name|len
decl_stmt|;
if|if
condition|(
name|IS_UTF8_INVALID
argument_list|(
name|s
index|[
literal|0
index|]
argument_list|)
condition|)
return|return
operator|(
literal|0
operator|)
return|;
name|len
operator|=
name|utf_len
argument_list|(
operator|(
name|char
operator|)
name|s
index|[
literal|0
index|]
argument_list|)
expr_stmt|;
if|if
condition|(
name|len
operator|==
literal|1
condition|)
return|return
operator|(
literal|1
operator|)
return|;
if|if
condition|(
name|len
operator|==
literal|2
condition|)
block|{
if|if
condition|(
name|s
index|[
literal|0
index|]
operator|<
literal|0xC2
condition|)
return|return
operator|(
literal|0
operator|)
return|;
block|}
else|else
block|{
name|unsigned
name|char
name|mask
decl_stmt|;
name|mask
operator|=
operator|(
operator|~
operator|(
operator|(
literal|1
operator|<<
operator|(
literal|8
operator|-
name|len
operator|)
operator|)
operator|-
literal|1
operator|)
operator|)
operator|&
literal|0xFF
expr_stmt|;
if|if
condition|(
name|s
index|[
literal|0
index|]
operator|==
name|mask
operator|&&
operator|(
name|s
index|[
literal|1
index|]
operator|&
name|mask
operator|)
operator|==
literal|0x80
condition|)
return|return
operator|(
literal|0
operator|)
return|;
block|}
for|for
control|(
name|i
operator|=
literal|1
init|;
name|i
operator|<
name|len
condition|;
name|i
operator|++
control|)
if|if
condition|(
operator|!
name|IS_UTF8_TRAIL
argument_list|(
name|s
index|[
name|i
index|]
argument_list|)
condition|)
return|return
operator|(
literal|0
operator|)
return|;
return|return
operator|(
literal|1
operator|)
return|;
block|}
end_function

begin_comment
comment|/*  * Get the value of a UTF-8 character.  */
end_comment

begin_function
name|public
name|LWCHAR
name|get_wchar
parameter_list|(
name|p
parameter_list|)
name|char
modifier|*
name|p
decl_stmt|;
block|{
switch|switch
condition|(
name|utf_len
argument_list|(
name|p
index|[
literal|0
index|]
argument_list|)
condition|)
block|{
case|case
literal|1
case|:
default|default:
return|return
call|(
name|LWCHAR
call|)
argument_list|(
name|p
index|[
literal|0
index|]
operator|&
literal|0xFF
argument_list|)
return|;
case|case
literal|2
case|:
return|return
call|(
name|LWCHAR
call|)
argument_list|(
operator|(
operator|(
name|p
index|[
literal|0
index|]
operator|&
literal|0x1F
operator|)
operator|<<
literal|6
operator|)
operator||
operator|(
name|p
index|[
literal|1
index|]
operator|&
literal|0x3F
operator|)
argument_list|)
return|;
case|case
literal|3
case|:
return|return
call|(
name|LWCHAR
call|)
argument_list|(
operator|(
operator|(
name|p
index|[
literal|0
index|]
operator|&
literal|0x0F
operator|)
operator|<<
literal|12
operator|)
operator||
operator|(
operator|(
name|p
index|[
literal|1
index|]
operator|&
literal|0x3F
operator|)
operator|<<
literal|6
operator|)
operator||
operator|(
name|p
index|[
literal|2
index|]
operator|&
literal|0x3F
operator|)
argument_list|)
return|;
case|case
literal|4
case|:
return|return
call|(
name|LWCHAR
call|)
argument_list|(
operator|(
operator|(
name|p
index|[
literal|0
index|]
operator|&
literal|0x07
operator|)
operator|<<
literal|18
operator|)
operator||
operator|(
operator|(
name|p
index|[
literal|1
index|]
operator|&
literal|0x3F
operator|)
operator|<<
literal|12
operator|)
operator||
operator|(
operator|(
name|p
index|[
literal|2
index|]
operator|&
literal|0x3F
operator|)
operator|<<
literal|6
operator|)
operator||
operator|(
name|p
index|[
literal|3
index|]
operator|&
literal|0x3F
operator|)
argument_list|)
return|;
case|case
literal|5
case|:
return|return
call|(
name|LWCHAR
call|)
argument_list|(
operator|(
operator|(
name|p
index|[
literal|0
index|]
operator|&
literal|0x03
operator|)
operator|<<
literal|24
operator|)
operator||
operator|(
operator|(
name|p
index|[
literal|1
index|]
operator|&
literal|0x3F
operator|)
operator|<<
literal|18
operator|)
operator||
operator|(
operator|(
name|p
index|[
literal|2
index|]
operator|&
literal|0x3F
operator|)
operator|<<
literal|12
operator|)
operator||
operator|(
operator|(
name|p
index|[
literal|3
index|]
operator|&
literal|0x3F
operator|)
operator|<<
literal|6
operator|)
operator||
operator|(
name|p
index|[
literal|4
index|]
operator|&
literal|0x3F
operator|)
argument_list|)
return|;
case|case
literal|6
case|:
return|return
call|(
name|LWCHAR
call|)
argument_list|(
operator|(
operator|(
name|p
index|[
literal|0
index|]
operator|&
literal|0x01
operator|)
operator|<<
literal|30
operator|)
operator||
operator|(
operator|(
name|p
index|[
literal|1
index|]
operator|&
literal|0x3F
operator|)
operator|<<
literal|24
operator|)
operator||
operator|(
operator|(
name|p
index|[
literal|2
index|]
operator|&
literal|0x3F
operator|)
operator|<<
literal|18
operator|)
operator||
operator|(
operator|(
name|p
index|[
literal|3
index|]
operator|&
literal|0x3F
operator|)
operator|<<
literal|12
operator|)
operator||
operator|(
operator|(
name|p
index|[
literal|4
index|]
operator|&
literal|0x3F
operator|)
operator|<<
literal|6
operator|)
operator||
operator|(
name|p
index|[
literal|5
index|]
operator|&
literal|0x3F
operator|)
argument_list|)
return|;
block|}
block|}
end_function

begin_comment
comment|/*  * Step forward or backward one character in a string.  */
end_comment

begin_function
name|public
name|LWCHAR
name|step_char
parameter_list|(
name|pp
parameter_list|,
name|dir
parameter_list|,
name|limit
parameter_list|)
name|char
modifier|*
modifier|*
name|pp
decl_stmt|;
name|signed
name|int
name|dir
decl_stmt|;
name|char
modifier|*
name|limit
decl_stmt|;
block|{
name|LWCHAR
name|ch
decl_stmt|;
name|char
modifier|*
name|p
init|=
operator|*
name|pp
decl_stmt|;
if|if
condition|(
operator|!
name|utf_mode
condition|)
block|{
comment|/* It's easy if chars are one byte. */
if|if
condition|(
name|dir
operator|>
literal|0
condition|)
name|ch
operator|=
call|(
name|LWCHAR
call|)
argument_list|(
operator|(
name|p
operator|<
name|limit
operator|)
condition|?
operator|*
name|p
operator|++
else|:
literal|0
argument_list|)
expr_stmt|;
else|else
name|ch
operator|=
call|(
name|LWCHAR
call|)
argument_list|(
operator|(
name|p
operator|>
name|limit
operator|)
condition|?
operator|*
operator|--
name|p
else|:
literal|0
argument_list|)
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|dir
operator|>
literal|0
condition|)
block|{
if|if
condition|(
name|p
operator|+
name|utf_len
argument_list|(
operator|*
name|p
argument_list|)
operator|>
name|limit
condition|)
name|ch
operator|=
literal|0
expr_stmt|;
else|else
block|{
name|ch
operator|=
name|get_wchar
argument_list|(
name|p
argument_list|)
expr_stmt|;
name|p
operator|++
expr_stmt|;
while|while
condition|(
name|IS_UTF8_TRAIL
argument_list|(
operator|*
name|p
argument_list|)
condition|)
name|p
operator|++
expr_stmt|;
block|}
block|}
else|else
block|{
while|while
condition|(
name|p
operator|>
name|limit
operator|&&
name|IS_UTF8_TRAIL
argument_list|(
name|p
index|[
operator|-
literal|1
index|]
argument_list|)
condition|)
name|p
operator|--
expr_stmt|;
if|if
condition|(
name|p
operator|>
name|limit
condition|)
name|ch
operator|=
name|get_wchar
argument_list|(
operator|--
name|p
argument_list|)
expr_stmt|;
else|else
name|ch
operator|=
literal|0
expr_stmt|;
block|}
operator|*
name|pp
operator|=
name|p
expr_stmt|;
return|return
name|ch
return|;
block|}
end_function

begin_comment
comment|/*  * Unicode characters data  */
end_comment

begin_struct
struct|struct
name|wchar_range
block|{
name|LWCHAR
name|first
decl_stmt|,
name|last
decl_stmt|;
block|}
struct|;
end_struct

begin_comment
comment|/*  * Characters with general category values  *	Mn: Mark, Nonspacing  *	Me: Mark, Enclosing  * Last synched with  *<http://www.unicode.org/Public/5.0.0/ucd/UnicodeData-5.0.0d7.txt>  *	dated 2005-11-30T00:58:48Z  */
end_comment

begin_decl_stmt
specifier|static
name|struct
name|wchar_range
name|comp_table
index|[]
init|=
block|{
block|{
literal|0x0300
block|,
literal|0x036F
block|}
comment|/* Mn */
block|,
block|{
literal|0x0483
block|,
literal|0x0486
block|}
comment|/* Mn */
block|,
block|{
literal|0x0488
block|,
literal|0x0489
block|}
comment|/* Me */
block|,
block|{
literal|0x0591
block|,
literal|0x05BD
block|}
comment|/* Mn */
block|,
block|{
literal|0x05BF
block|,
literal|0x05BF
block|}
comment|/* Mn */
block|,
block|{
literal|0x05C1
block|,
literal|0x05C2
block|}
comment|/* Mn */
block|,
block|{
literal|0x05C4
block|,
literal|0x05C5
block|}
comment|/* Mn */
block|,
block|{
literal|0x05C7
block|,
literal|0x05C7
block|}
comment|/* Mn */
block|,
block|{
literal|0x0610
block|,
literal|0x0615
block|}
comment|/* Mn */
block|,
block|{
literal|0x064B
block|,
literal|0x065E
block|}
comment|/* Mn */
block|,
block|{
literal|0x0670
block|,
literal|0x0670
block|}
comment|/* Mn */
block|,
block|{
literal|0x06D6
block|,
literal|0x06DC
block|}
comment|/* Mn */
block|,
block|{
literal|0x06DE
block|,
literal|0x06DE
block|}
comment|/* Me */
block|,
block|{
literal|0x06DF
block|,
literal|0x06E4
block|}
comment|/* Mn */
block|,
block|{
literal|0x06E7
block|,
literal|0x06E8
block|}
comment|/* Mn */
block|,
block|{
literal|0x06EA
block|,
literal|0x06ED
block|}
comment|/* Mn */
block|,
block|{
literal|0x0711
block|,
literal|0x0711
block|}
comment|/* Mn */
block|,
block|{
literal|0x0730
block|,
literal|0x074A
block|}
comment|/* Mn */
block|,
block|{
literal|0x07A6
block|,
literal|0x07B0
block|}
comment|/* Mn */
block|,
block|{
literal|0x07EB
block|,
literal|0x07F3
block|}
comment|/* Mn */
block|,
block|{
literal|0x0901
block|,
literal|0x0902
block|}
comment|/* Mn */
block|,
block|{
literal|0x093C
block|,
literal|0x093C
block|}
comment|/* Mn */
block|,
block|{
literal|0x0941
block|,
literal|0x0948
block|}
comment|/* Mn */
block|,
block|{
literal|0x094D
block|,
literal|0x094D
block|}
comment|/* Mn */
block|,
block|{
literal|0x0951
block|,
literal|0x0954
block|}
comment|/* Mn */
block|,
block|{
literal|0x0962
block|,
literal|0x0963
block|}
comment|/* Mn */
block|,
block|{
literal|0x0981
block|,
literal|0x0981
block|}
comment|/* Mn */
block|,
block|{
literal|0x09BC
block|,
literal|0x09BC
block|}
comment|/* Mn */
block|,
block|{
literal|0x09C1
block|,
literal|0x09C4
block|}
comment|/* Mn */
block|,
block|{
literal|0x09CD
block|,
literal|0x09CD
block|}
comment|/* Mn */
block|,
block|{
literal|0x09E2
block|,
literal|0x09E3
block|}
comment|/* Mn */
block|,
block|{
literal|0x0A01
block|,
literal|0x0A02
block|}
comment|/* Mn */
block|,
block|{
literal|0x0A3C
block|,
literal|0x0A3C
block|}
comment|/* Mn */
block|,
block|{
literal|0x0A41
block|,
literal|0x0A42
block|}
comment|/* Mn */
block|,
block|{
literal|0x0A47
block|,
literal|0x0A48
block|}
comment|/* Mn */
block|,
block|{
literal|0x0A4B
block|,
literal|0x0A4D
block|}
comment|/* Mn */
block|,
block|{
literal|0x0A70
block|,
literal|0x0A71
block|}
comment|/* Mn */
block|,
block|{
literal|0x0A81
block|,
literal|0x0A82
block|}
comment|/* Mn */
block|,
block|{
literal|0x0ABC
block|,
literal|0x0ABC
block|}
comment|/* Mn */
block|,
block|{
literal|0x0AC1
block|,
literal|0x0AC5
block|}
comment|/* Mn */
block|,
block|{
literal|0x0AC7
block|,
literal|0x0AC8
block|}
comment|/* Mn */
block|,
block|{
literal|0x0ACD
block|,
literal|0x0ACD
block|}
comment|/* Mn */
block|,
block|{
literal|0x0AE2
block|,
literal|0x0AE3
block|}
comment|/* Mn */
block|,
block|{
literal|0x0B01
block|,
literal|0x0B01
block|}
comment|/* Mn */
block|,
block|{
literal|0x0B3C
block|,
literal|0x0B3C
block|}
comment|/* Mn */
block|,
block|{
literal|0x0B3F
block|,
literal|0x0B3F
block|}
comment|/* Mn */
block|,
block|{
literal|0x0B41
block|,
literal|0x0B43
block|}
comment|/* Mn */
block|,
block|{
literal|0x0B4D
block|,
literal|0x0B4D
block|}
comment|/* Mn */
block|,
block|{
literal|0x0B56
block|,
literal|0x0B56
block|}
comment|/* Mn */
block|,
block|{
literal|0x0B82
block|,
literal|0x0B82
block|}
comment|/* Mn */
block|,
block|{
literal|0x0BC0
block|,
literal|0x0BC0
block|}
comment|/* Mn */
block|,
block|{
literal|0x0BCD
block|,
literal|0x0BCD
block|}
comment|/* Mn */
block|,
block|{
literal|0x0C3E
block|,
literal|0x0C40
block|}
comment|/* Mn */
block|,
block|{
literal|0x0C46
block|,
literal|0x0C48
block|}
comment|/* Mn */
block|,
block|{
literal|0x0C4A
block|,
literal|0x0C4D
block|}
comment|/* Mn */
block|,
block|{
literal|0x0C55
block|,
literal|0x0C56
block|}
comment|/* Mn */
block|,
block|{
literal|0x0CBC
block|,
literal|0x0CBC
block|}
comment|/* Mn */
block|,
block|{
literal|0x0CBF
block|,
literal|0x0CBF
block|}
comment|/* Mn */
block|,
block|{
literal|0x0CC6
block|,
literal|0x0CC6
block|}
comment|/* Mn */
block|,
block|{
literal|0x0CCC
block|,
literal|0x0CCD
block|}
comment|/* Mn */
block|,
block|{
literal|0x0CE2
block|,
literal|0x0CE3
block|}
comment|/* Mn */
block|,
block|{
literal|0x0D41
block|,
literal|0x0D43
block|}
comment|/* Mn */
block|,
block|{
literal|0x0D4D
block|,
literal|0x0D4D
block|}
comment|/* Mn */
block|,
block|{
literal|0x0DCA
block|,
literal|0x0DCA
block|}
comment|/* Mn */
block|,
block|{
literal|0x0DD2
block|,
literal|0x0DD4
block|}
comment|/* Mn */
block|,
block|{
literal|0x0DD6
block|,
literal|0x0DD6
block|}
comment|/* Mn */
block|,
block|{
literal|0x0E31
block|,
literal|0x0E31
block|}
comment|/* Mn */
block|,
block|{
literal|0x0E34
block|,
literal|0x0E3A
block|}
comment|/* Mn */
block|,
block|{
literal|0x0E47
block|,
literal|0x0E4E
block|}
comment|/* Mn */
block|,
block|{
literal|0x0EB1
block|,
literal|0x0EB1
block|}
comment|/* Mn */
block|,
block|{
literal|0x0EB4
block|,
literal|0x0EB9
block|}
comment|/* Mn */
block|,
block|{
literal|0x0EBB
block|,
literal|0x0EBC
block|}
comment|/* Mn */
block|,
block|{
literal|0x0EC8
block|,
literal|0x0ECD
block|}
comment|/* Mn */
block|,
block|{
literal|0x0F18
block|,
literal|0x0F19
block|}
comment|/* Mn */
block|,
block|{
literal|0x0F35
block|,
literal|0x0F35
block|}
comment|/* Mn */
block|,
block|{
literal|0x0F37
block|,
literal|0x0F37
block|}
comment|/* Mn */
block|,
block|{
literal|0x0F39
block|,
literal|0x0F39
block|}
comment|/* Mn */
block|,
block|{
literal|0x0F71
block|,
literal|0x0F7E
block|}
comment|/* Mn */
block|,
block|{
literal|0x0F80
block|,
literal|0x0F84
block|}
comment|/* Mn */
block|,
block|{
literal|0x0F86
block|,
literal|0x0F87
block|}
comment|/* Mn */
block|,
block|{
literal|0x0F90
block|,
literal|0x0F97
block|}
comment|/* Mn */
block|,
block|{
literal|0x0F99
block|,
literal|0x0FBC
block|}
comment|/* Mn */
block|,
block|{
literal|0x0FC6
block|,
literal|0x0FC6
block|}
comment|/* Mn */
block|,
block|{
literal|0x102D
block|,
literal|0x1030
block|}
comment|/* Mn */
block|,
block|{
literal|0x1032
block|,
literal|0x1032
block|}
comment|/* Mn */
block|,
block|{
literal|0x1036
block|,
literal|0x1037
block|}
comment|/* Mn */
block|,
block|{
literal|0x1039
block|,
literal|0x1039
block|}
comment|/* Mn */
block|,
block|{
literal|0x1058
block|,
literal|0x1059
block|}
comment|/* Mn */
block|,
block|{
literal|0x135F
block|,
literal|0x135F
block|}
comment|/* Mn */
block|,
block|{
literal|0x1712
block|,
literal|0x1714
block|}
comment|/* Mn */
block|,
block|{
literal|0x1732
block|,
literal|0x1734
block|}
comment|/* Mn */
block|,
block|{
literal|0x1752
block|,
literal|0x1753
block|}
comment|/* Mn */
block|,
block|{
literal|0x1772
block|,
literal|0x1773
block|}
comment|/* Mn */
block|,
block|{
literal|0x17B7
block|,
literal|0x17BD
block|}
comment|/* Mn */
block|,
block|{
literal|0x17C6
block|,
literal|0x17C6
block|}
comment|/* Mn */
block|,
block|{
literal|0x17C9
block|,
literal|0x17D3
block|}
comment|/* Mn */
block|,
block|{
literal|0x17DD
block|,
literal|0x17DD
block|}
comment|/* Mn */
block|,
block|{
literal|0x180B
block|,
literal|0x180D
block|}
comment|/* Mn */
block|,
block|{
literal|0x18A9
block|,
literal|0x18A9
block|}
comment|/* Mn */
block|,
block|{
literal|0x1920
block|,
literal|0x1922
block|}
comment|/* Mn */
block|,
block|{
literal|0x1927
block|,
literal|0x1928
block|}
comment|/* Mn */
block|,
block|{
literal|0x1932
block|,
literal|0x1932
block|}
comment|/* Mn */
block|,
block|{
literal|0x1939
block|,
literal|0x193B
block|}
comment|/* Mn */
block|,
block|{
literal|0x1A17
block|,
literal|0x1A18
block|}
comment|/* Mn */
block|,
block|{
literal|0x1B00
block|,
literal|0x1B03
block|}
comment|/* Mn */
block|,
block|{
literal|0x1B34
block|,
literal|0x1B34
block|}
comment|/* Mn */
block|,
block|{
literal|0x1B36
block|,
literal|0x1B3A
block|}
comment|/* Mn */
block|,
block|{
literal|0x1B3C
block|,
literal|0x1B3C
block|}
comment|/* Mn */
block|,
block|{
literal|0x1B42
block|,
literal|0x1B42
block|}
comment|/* Mn */
block|,
block|{
literal|0x1B6B
block|,
literal|0x1B73
block|}
comment|/* Mn */
block|,
block|{
literal|0x1DC0
block|,
literal|0x1DCA
block|}
comment|/* Mn */
block|,
block|{
literal|0x1DFE
block|,
literal|0x1DFF
block|}
comment|/* Mn */
block|,
block|{
literal|0x20D0
block|,
literal|0x20DC
block|}
comment|/* Mn */
block|,
block|{
literal|0x20DD
block|,
literal|0x20E0
block|}
comment|/* Me */
block|,
block|{
literal|0x20E1
block|,
literal|0x20E1
block|}
comment|/* Mn */
block|,
block|{
literal|0x20E2
block|,
literal|0x20E4
block|}
comment|/* Me */
block|,
block|{
literal|0x20E5
block|,
literal|0x20EF
block|}
comment|/* Mn */
block|,
block|{
literal|0x302A
block|,
literal|0x302F
block|}
comment|/* Mn */
block|,
block|{
literal|0x3099
block|,
literal|0x309A
block|}
comment|/* Mn */
block|,
block|{
literal|0xA806
block|,
literal|0xA806
block|}
comment|/* Mn */
block|,
block|{
literal|0xA80B
block|,
literal|0xA80B
block|}
comment|/* Mn */
block|,
block|{
literal|0xA825
block|,
literal|0xA826
block|}
comment|/* Mn */
block|,
block|{
literal|0xFB1E
block|,
literal|0xFB1E
block|}
comment|/* Mn */
block|,
block|{
literal|0xFE00
block|,
literal|0xFE0F
block|}
comment|/* Mn */
block|,
block|{
literal|0xFE20
block|,
literal|0xFE23
block|}
comment|/* Mn */
block|,
block|{
literal|0x10A01
block|,
literal|0x10A03
block|}
comment|/* Mn */
block|,
block|{
literal|0x10A05
block|,
literal|0x10A06
block|}
comment|/* Mn */
block|,
block|{
literal|0x10A0C
block|,
literal|0x10A0F
block|}
comment|/* Mn */
block|,
block|{
literal|0x10A38
block|,
literal|0x10A3A
block|}
comment|/* Mn */
block|,
block|{
literal|0x10A3F
block|,
literal|0x10A3F
block|}
comment|/* Mn */
block|,
block|{
literal|0x1D167
block|,
literal|0x1D169
block|}
comment|/* Mn */
block|,
block|{
literal|0x1D17B
block|,
literal|0x1D182
block|}
comment|/* Mn */
block|,
block|{
literal|0x1D185
block|,
literal|0x1D18B
block|}
comment|/* Mn */
block|,
block|{
literal|0x1D1AA
block|,
literal|0x1D1AD
block|}
comment|/* Mn */
block|,
block|{
literal|0x1D242
block|,
literal|0x1D244
block|}
comment|/* Mn */
block|,
block|{
literal|0xE0100
block|,
literal|0xE01EF
block|}
comment|/* Mn */
block|, }
decl_stmt|;
end_decl_stmt

begin_comment
comment|/*  * Special pairs, not ranges.  */
end_comment

begin_decl_stmt
specifier|static
name|struct
name|wchar_range
name|comb_table
index|[]
init|=
block|{
block|{
literal|0x0644
block|,
literal|0x0622
block|}
block|,
block|{
literal|0x0644
block|,
literal|0x0623
block|}
block|,
block|{
literal|0x0644
block|,
literal|0x0625
block|}
block|,
block|{
literal|0x0644
block|,
literal|0x0627
block|}
block|, }
decl_stmt|;
end_decl_stmt

begin_comment
comment|/*  * Characters with general category values  *	Cc: Other, Control  *	Cf: Other, Format  *	Cs: Other, Surrogate  *	Co: Other, Private Use  *	Cn: Other, Not Assigned  *	Zl: Separator, Line  *	Zp: Separator, Paragraph  * Last synched with  *<http://www.unicode.org/Public/5.0.0/ucd/UnicodeData-5.0.0d7.txt>  *	dated 2005-11-30T00:58:48Z  */
end_comment

begin_decl_stmt
specifier|static
name|struct
name|wchar_range
name|ubin_table
index|[]
init|=
block|{
block|{
literal|0x0000
block|,
literal|0x001F
block|}
comment|/* Cc */
block|,
block|{
literal|0x007F
block|,
literal|0x009F
block|}
comment|/* Cc */
block|,
if|#
directive|if
literal|0
block|{  0x00AD,  0x00AD}
comment|/* Cf */
block|,
endif|#
directive|endif
block|{
literal|0x0370
block|,
literal|0x0373
block|}
comment|/* Cn */
block|,
block|{
literal|0x0376
block|,
literal|0x0379
block|}
comment|/* Cn */
block|,
block|{
literal|0x037F
block|,
literal|0x0383
block|}
comment|/* Cn */
block|,
block|{
literal|0x038B
block|,
literal|0x038B
block|}
comment|/* Cn */
block|,
block|{
literal|0x038D
block|,
literal|0x038D
block|}
comment|/* Cn */
block|,
block|{
literal|0x03A2
block|,
literal|0x03A2
block|}
comment|/* Cn */
block|,
block|{
literal|0x03CF
block|,
literal|0x03CF
block|}
comment|/* Cn */
block|,
block|{
literal|0x0487
block|,
literal|0x0487
block|}
comment|/* Cn */
block|,
block|{
literal|0x0514
block|,
literal|0x0530
block|}
comment|/* Cn */
block|,
block|{
literal|0x0557
block|,
literal|0x0558
block|}
comment|/* Cn */
block|,
block|{
literal|0x0560
block|,
literal|0x0560
block|}
comment|/* Cn */
block|,
block|{
literal|0x0588
block|,
literal|0x0588
block|}
comment|/* Cn */
block|,
block|{
literal|0x058B
block|,
literal|0x0590
block|}
comment|/* Cn */
block|,
block|{
literal|0x05C8
block|,
literal|0x05CF
block|}
comment|/* Cn */
block|,
block|{
literal|0x05EB
block|,
literal|0x05EF
block|}
comment|/* Cn */
block|,
block|{
literal|0x05F5
block|,
literal|0x05FF
block|}
comment|/* Cn */
block|,
if|#
directive|if
literal|0
block|{  0x0600,  0x0603}
comment|/* Cf */
block|,
endif|#
directive|endif
block|{
literal|0x0604
block|,
literal|0x060A
block|}
comment|/* Cn */
block|,
block|{
literal|0x0616
block|,
literal|0x061A
block|}
comment|/* Cn */
block|,
block|{
literal|0x061C
block|,
literal|0x061D
block|}
comment|/* Cn */
block|,
block|{
literal|0x0620
block|,
literal|0x0620
block|}
comment|/* Cn */
block|,
block|{
literal|0x063B
block|,
literal|0x063F
block|}
comment|/* Cn */
block|,
block|{
literal|0x065F
block|,
literal|0x065F
block|}
comment|/* Cn */
block|,
if|#
directive|if
literal|0
block|{  0x06DD,  0x06DD}
comment|/* Cf */
block|,
endif|#
directive|endif
block|{
literal|0x070E
block|,
literal|0x070E
block|}
comment|/* Cn */
block|,
if|#
directive|if
literal|0
block|{  0x070F,  0x070F}
comment|/* Cf */
block|,
endif|#
directive|endif
block|{
literal|0x074B
block|,
literal|0x074C
block|}
comment|/* Cn */
block|,
block|{
literal|0x076E
block|,
literal|0x077F
block|}
comment|/* Cn */
block|,
block|{
literal|0x07B2
block|,
literal|0x07BF
block|}
comment|/* Cn */
block|,
block|{
literal|0x07FB
block|,
literal|0x0900
block|}
comment|/* Cn */
block|,
block|{
literal|0x093A
block|,
literal|0x093B
block|}
comment|/* Cn */
block|,
block|{
literal|0x094E
block|,
literal|0x094F
block|}
comment|/* Cn */
block|,
block|{
literal|0x0955
block|,
literal|0x0957
block|}
comment|/* Cn */
block|,
block|{
literal|0x0971
block|,
literal|0x097A
block|}
comment|/* Cn */
block|,
block|{
literal|0x0980
block|,
literal|0x0980
block|}
comment|/* Cn */
block|,
block|{
literal|0x0984
block|,
literal|0x0984
block|}
comment|/* Cn */
block|,
block|{
literal|0x098D
block|,
literal|0x098E
block|}
comment|/* Cn */
block|,
block|{
literal|0x0991
block|,
literal|0x0992
block|}
comment|/* Cn */
block|,
block|{
literal|0x09A9
block|,
literal|0x09A9
block|}
comment|/* Cn */
block|,
block|{
literal|0x09B1
block|,
literal|0x09B1
block|}
comment|/* Cn */
block|,
block|{
literal|0x09B3
block|,
literal|0x09B5
block|}
comment|/* Cn */
block|,
block|{
literal|0x09BA
block|,
literal|0x09BB
block|}
comment|/* Cn */
block|,
block|{
literal|0x09C5
block|,
literal|0x09C6
block|}
comment|/* Cn */
block|,
block|{
literal|0x09C9
block|,
literal|0x09CA
block|}
comment|/* Cn */
block|,
block|{
literal|0x09CF
block|,
literal|0x09D6
block|}
comment|/* Cn */
block|,
block|{
literal|0x09D8
block|,
literal|0x09DB
block|}
comment|/* Cn */
block|,
block|{
literal|0x09DE
block|,
literal|0x09DE
block|}
comment|/* Cn */
block|,
block|{
literal|0x09E4
block|,
literal|0x09E5
block|}
comment|/* Cn */
block|,
block|{
literal|0x09FB
block|,
literal|0x0A00
block|}
comment|/* Cn */
block|,
block|{
literal|0x0A04
block|,
literal|0x0A04
block|}
comment|/* Cn */
block|,
block|{
literal|0x0A0B
block|,
literal|0x0A0E
block|}
comment|/* Cn */
block|,
block|{
literal|0x0A11
block|,
literal|0x0A12
block|}
comment|/* Cn */
block|,
block|{
literal|0x0A29
block|,
literal|0x0A29
block|}
comment|/* Cn */
block|,
block|{
literal|0x0A31
block|,
literal|0x0A31
block|}
comment|/* Cn */
block|,
block|{
literal|0x0A34
block|,
literal|0x0A34
block|}
comment|/* Cn */
block|,
block|{
literal|0x0A37
block|,
literal|0x0A37
block|}
comment|/* Cn */
block|,
block|{
literal|0x0A3A
block|,
literal|0x0A3B
block|}
comment|/* Cn */
block|,
block|{
literal|0x0A3D
block|,
literal|0x0A3D
block|}
comment|/* Cn */
block|,
block|{
literal|0x0A43
block|,
literal|0x0A46
block|}
comment|/* Cn */
block|,
block|{
literal|0x0A49
block|,
literal|0x0A4A
block|}
comment|/* Cn */
block|,
block|{
literal|0x0A4E
block|,
literal|0x0A58
block|}
comment|/* Cn */
block|,
block|{
literal|0x0A5D
block|,
literal|0x0A5D
block|}
comment|/* Cn */
block|,
block|{
literal|0x0A5F
block|,
literal|0x0A65
block|}
comment|/* Cn */
block|,
block|{
literal|0x0A75
block|,
literal|0x0A80
block|}
comment|/* Cn */
block|,
block|{
literal|0x0A84
block|,
literal|0x0A84
block|}
comment|/* Cn */
block|,
block|{
literal|0x0A8E
block|,
literal|0x0A8E
block|}
comment|/* Cn */
block|,
block|{
literal|0x0A92
block|,
literal|0x0A92
block|}
comment|/* Cn */
block|,
block|{
literal|0x0AA9
block|,
literal|0x0AA9
block|}
comment|/* Cn */
block|,
block|{
literal|0x0AB1
block|,
literal|0x0AB1
block|}
comment|/* Cn */
block|,
block|{
literal|0x0AB4
block|,
literal|0x0AB4
block|}
comment|/* Cn */
block|,
block|{
literal|0x0ABA
block|,
literal|0x0ABB
block|}
comment|/* Cn */
block|,
block|{
literal|0x0AC6
block|,
literal|0x0AC6
block|}
comment|/* Cn */
block|,
block|{
literal|0x0ACA
block|,
literal|0x0ACA
block|}
comment|/* Cn */
block|,
block|{
literal|0x0ACE
block|,
literal|0x0ACF
block|}
comment|/* Cn */
block|,
block|{
literal|0x0AD1
block|,
literal|0x0ADF
block|}
comment|/* Cn */
block|,
block|{
literal|0x0AE4
block|,
literal|0x0AE5
block|}
comment|/* Cn */
block|,
block|{
literal|0x0AF0
block|,
literal|0x0AF0
block|}
comment|/* Cn */
block|,
block|{
literal|0x0AF2
block|,
literal|0x0B00
block|}
comment|/* Cn */
block|,
block|{
literal|0x0B04
block|,
literal|0x0B04
block|}
comment|/* Cn */
block|,
block|{
literal|0x0B0D
block|,
literal|0x0B0E
block|}
comment|/* Cn */
block|,
block|{
literal|0x0B11
block|,
literal|0x0B12
block|}
comment|/* Cn */
block|,
block|{
literal|0x0B29
block|,
literal|0x0B29
block|}
comment|/* Cn */
block|,
block|{
literal|0x0B31
block|,
literal|0x0B31
block|}
comment|/* Cn */
block|,
block|{
literal|0x0B34
block|,
literal|0x0B34
block|}
comment|/* Cn */
block|,
block|{
literal|0x0B3A
block|,
literal|0x0B3B
block|}
comment|/* Cn */
block|,
block|{
literal|0x0B44
block|,
literal|0x0B46
block|}
comment|/* Cn */
block|,
block|{
literal|0x0B49
block|,
literal|0x0B4A
block|}
comment|/* Cn */
block|,
block|{
literal|0x0B4E
block|,
literal|0x0B55
block|}
comment|/* Cn */
block|,
block|{
literal|0x0B58
block|,
literal|0x0B5B
block|}
comment|/* Cn */
block|,
block|{
literal|0x0B5E
block|,
literal|0x0B5E
block|}
comment|/* Cn */
block|,
block|{
literal|0x0B62
block|,
literal|0x0B65
block|}
comment|/* Cn */
block|,
block|{
literal|0x0B72
block|,
literal|0x0B81
block|}
comment|/* Cn */
block|,
block|{
literal|0x0B84
block|,
literal|0x0B84
block|}
comment|/* Cn */
block|,
block|{
literal|0x0B8B
block|,
literal|0x0B8D
block|}
comment|/* Cn */
block|,
block|{
literal|0x0B91
block|,
literal|0x0B91
block|}
comment|/* Cn */
block|,
block|{
literal|0x0B96
block|,
literal|0x0B98
block|}
comment|/* Cn */
block|,
block|{
literal|0x0B9B
block|,
literal|0x0B9B
block|}
comment|/* Cn */
block|,
block|{
literal|0x0B9D
block|,
literal|0x0B9D
block|}
comment|/* Cn */
block|,
block|{
literal|0x0BA0
block|,
literal|0x0BA2
block|}
comment|/* Cn */
block|,
block|{
literal|0x0BA5
block|,
literal|0x0BA7
block|}
comment|/* Cn */
block|,
block|{
literal|0x0BAB
block|,
literal|0x0BAD
block|}
comment|/* Cn */
block|,
block|{
literal|0x0BBA
block|,
literal|0x0BBD
block|}
comment|/* Cn */
block|,
block|{
literal|0x0BC3
block|,
literal|0x0BC5
block|}
comment|/* Cn */
block|,
block|{
literal|0x0BC9
block|,
literal|0x0BC9
block|}
comment|/* Cn */
block|,
block|{
literal|0x0BCE
block|,
literal|0x0BD6
block|}
comment|/* Cn */
block|,
block|{
literal|0x0BD8
block|,
literal|0x0BE5
block|}
comment|/* Cn */
block|,
block|{
literal|0x0BFB
block|,
literal|0x0C00
block|}
comment|/* Cn */
block|,
block|{
literal|0x0C04
block|,
literal|0x0C04
block|}
comment|/* Cn */
block|,
block|{
literal|0x0C0D
block|,
literal|0x0C0D
block|}
comment|/* Cn */
block|,
block|{
literal|0x0C11
block|,
literal|0x0C11
block|}
comment|/* Cn */
block|,
block|{
literal|0x0C29
block|,
literal|0x0C29
block|}
comment|/* Cn */
block|,
block|{
literal|0x0C34
block|,
literal|0x0C34
block|}
comment|/* Cn */
block|,
block|{
literal|0x0C3A
block|,
literal|0x0C3D
block|}
comment|/* Cn */
block|,
block|{
literal|0x0C45
block|,
literal|0x0C45
block|}
comment|/* Cn */
block|,
block|{
literal|0x0C49
block|,
literal|0x0C49
block|}
comment|/* Cn */
block|,
block|{
literal|0x0C4E
block|,
literal|0x0C54
block|}
comment|/* Cn */
block|,
block|{
literal|0x0C57
block|,
literal|0x0C5F
block|}
comment|/* Cn */
block|,
block|{
literal|0x0C62
block|,
literal|0x0C65
block|}
comment|/* Cn */
block|,
block|{
literal|0x0C70
block|,
literal|0x0C81
block|}
comment|/* Cn */
block|,
block|{
literal|0x0C84
block|,
literal|0x0C84
block|}
comment|/* Cn */
block|,
block|{
literal|0x0C8D
block|,
literal|0x0C8D
block|}
comment|/* Cn */
block|,
block|{
literal|0x0C91
block|,
literal|0x0C91
block|}
comment|/* Cn */
block|,
block|{
literal|0x0CA9
block|,
literal|0x0CA9
block|}
comment|/* Cn */
block|,
block|{
literal|0x0CB4
block|,
literal|0x0CB4
block|}
comment|/* Cn */
block|,
block|{
literal|0x0CBA
block|,
literal|0x0CBB
block|}
comment|/* Cn */
block|,
block|{
literal|0x0CC5
block|,
literal|0x0CC5
block|}
comment|/* Cn */
block|,
block|{
literal|0x0CC9
block|,
literal|0x0CC9
block|}
comment|/* Cn */
block|,
block|{
literal|0x0CCE
block|,
literal|0x0CD4
block|}
comment|/* Cn */
block|,
block|{
literal|0x0CD7
block|,
literal|0x0CDD
block|}
comment|/* Cn */
block|,
block|{
literal|0x0CDF
block|,
literal|0x0CDF
block|}
comment|/* Cn */
block|,
block|{
literal|0x0CE4
block|,
literal|0x0CE5
block|}
comment|/* Cn */
block|,
block|{
literal|0x0CF0
block|,
literal|0x0CF0
block|}
comment|/* Cn */
block|,
block|{
literal|0x0CF3
block|,
literal|0x0D01
block|}
comment|/* Cn */
block|,
block|{
literal|0x0D04
block|,
literal|0x0D04
block|}
comment|/* Cn */
block|,
block|{
literal|0x0D0D
block|,
literal|0x0D0D
block|}
comment|/* Cn */
block|,
block|{
literal|0x0D11
block|,
literal|0x0D11
block|}
comment|/* Cn */
block|,
block|{
literal|0x0D29
block|,
literal|0x0D29
block|}
comment|/* Cn */
block|,
block|{
literal|0x0D3A
block|,
literal|0x0D3D
block|}
comment|/* Cn */
block|,
block|{
literal|0x0D44
block|,
literal|0x0D45
block|}
comment|/* Cn */
block|,
block|{
literal|0x0D49
block|,
literal|0x0D49
block|}
comment|/* Cn */
block|,
block|{
literal|0x0D4E
block|,
literal|0x0D56
block|}
comment|/* Cn */
block|,
block|{
literal|0x0D58
block|,
literal|0x0D5F
block|}
comment|/* Cn */
block|,
block|{
literal|0x0D62
block|,
literal|0x0D65
block|}
comment|/* Cn */
block|,
block|{
literal|0x0D70
block|,
literal|0x0D81
block|}
comment|/* Cn */
block|,
block|{
literal|0x0D84
block|,
literal|0x0D84
block|}
comment|/* Cn */
block|,
block|{
literal|0x0D97
block|,
literal|0x0D99
block|}
comment|/* Cn */
block|,
block|{
literal|0x0DB2
block|,
literal|0x0DB2
block|}
comment|/* Cn */
block|,
block|{
literal|0x0DBC
block|,
literal|0x0DBC
block|}
comment|/* Cn */
block|,
block|{
literal|0x0DBE
block|,
literal|0x0DBF
block|}
comment|/* Cn */
block|,
block|{
literal|0x0DC7
block|,
literal|0x0DC9
block|}
comment|/* Cn */
block|,
block|{
literal|0x0DCB
block|,
literal|0x0DCE
block|}
comment|/* Cn */
block|,
block|{
literal|0x0DD5
block|,
literal|0x0DD5
block|}
comment|/* Cn */
block|,
block|{
literal|0x0DD7
block|,
literal|0x0DD7
block|}
comment|/* Cn */
block|,
block|{
literal|0x0DE0
block|,
literal|0x0DF1
block|}
comment|/* Cn */
block|,
block|{
literal|0x0DF5
block|,
literal|0x0E00
block|}
comment|/* Cn */
block|,
block|{
literal|0x0E3B
block|,
literal|0x0E3E
block|}
comment|/* Cn */
block|,
block|{
literal|0x0E5C
block|,
literal|0x0E80
block|}
comment|/* Cn */
block|,
block|{
literal|0x0E83
block|,
literal|0x0E83
block|}
comment|/* Cn */
block|,
block|{
literal|0x0E85
block|,
literal|0x0E86
block|}
comment|/* Cn */
block|,
block|{
literal|0x0E89
block|,
literal|0x0E89
block|}
comment|/* Cn */
block|,
block|{
literal|0x0E8B
block|,
literal|0x0E8C
block|}
comment|/* Cn */
block|,
block|{
literal|0x0E8E
block|,
literal|0x0E93
block|}
comment|/* Cn */
block|,
block|{
literal|0x0E98
block|,
literal|0x0E98
block|}
comment|/* Cn */
block|,
block|{
literal|0x0EA0
block|,
literal|0x0EA0
block|}
comment|/* Cn */
block|,
block|{
literal|0x0EA4
block|,
literal|0x0EA4
block|}
comment|/* Cn */
block|,
block|{
literal|0x0EA6
block|,
literal|0x0EA6
block|}
comment|/* Cn */
block|,
block|{
literal|0x0EA8
block|,
literal|0x0EA9
block|}
comment|/* Cn */
block|,
block|{
literal|0x0EAC
block|,
literal|0x0EAC
block|}
comment|/* Cn */
block|,
block|{
literal|0x0EBA
block|,
literal|0x0EBA
block|}
comment|/* Cn */
block|,
block|{
literal|0x0EBE
block|,
literal|0x0EBF
block|}
comment|/* Cn */
block|,
block|{
literal|0x0EC5
block|,
literal|0x0EC5
block|}
comment|/* Cn */
block|,
block|{
literal|0x0EC7
block|,
literal|0x0EC7
block|}
comment|/* Cn */
block|,
block|{
literal|0x0ECE
block|,
literal|0x0ECF
block|}
comment|/* Cn */
block|,
block|{
literal|0x0EDA
block|,
literal|0x0EDB
block|}
comment|/* Cn */
block|,
block|{
literal|0x0EDE
block|,
literal|0x0EFF
block|}
comment|/* Cn */
block|,
block|{
literal|0x0F48
block|,
literal|0x0F48
block|}
comment|/* Cn */
block|,
block|{
literal|0x0F6B
block|,
literal|0x0F70
block|}
comment|/* Cn */
block|,
block|{
literal|0x0F8C
block|,
literal|0x0F8F
block|}
comment|/* Cn */
block|,
block|{
literal|0x0F98
block|,
literal|0x0F98
block|}
comment|/* Cn */
block|,
block|{
literal|0x0FBD
block|,
literal|0x0FBD
block|}
comment|/* Cn */
block|,
block|{
literal|0x0FCD
block|,
literal|0x0FCE
block|}
comment|/* Cn */
block|,
block|{
literal|0x0FD2
block|,
literal|0x0FFF
block|}
comment|/* Cn */
block|,
block|{
literal|0x1022
block|,
literal|0x1022
block|}
comment|/* Cn */
block|,
block|{
literal|0x1028
block|,
literal|0x1028
block|}
comment|/* Cn */
block|,
block|{
literal|0x102B
block|,
literal|0x102B
block|}
comment|/* Cn */
block|,
block|{
literal|0x1033
block|,
literal|0x1035
block|}
comment|/* Cn */
block|,
block|{
literal|0x103A
block|,
literal|0x103F
block|}
comment|/* Cn */
block|,
block|{
literal|0x105A
block|,
literal|0x109F
block|}
comment|/* Cn */
block|,
block|{
literal|0x10C6
block|,
literal|0x10CF
block|}
comment|/* Cn */
block|,
block|{
literal|0x10FD
block|,
literal|0x10FF
block|}
comment|/* Cn */
block|,
block|{
literal|0x115A
block|,
literal|0x115E
block|}
comment|/* Cn */
block|,
block|{
literal|0x11A3
block|,
literal|0x11A7
block|}
comment|/* Cn */
block|,
block|{
literal|0x11FA
block|,
literal|0x11FF
block|}
comment|/* Cn */
block|,
block|{
literal|0x1249
block|,
literal|0x1249
block|}
comment|/* Cn */
block|,
block|{
literal|0x124E
block|,
literal|0x124F
block|}
comment|/* Cn */
block|,
block|{
literal|0x1257
block|,
literal|0x1257
block|}
comment|/* Cn */
block|,
block|{
literal|0x1259
block|,
literal|0x1259
block|}
comment|/* Cn */
block|,
block|{
literal|0x125E
block|,
literal|0x125F
block|}
comment|/* Cn */
block|,
block|{
literal|0x1289
block|,
literal|0x1289
block|}
comment|/* Cn */
block|,
block|{
literal|0x128E
block|,
literal|0x128F
block|}
comment|/* Cn */
block|,
block|{
literal|0x12B1
block|,
literal|0x12B1
block|}
comment|/* Cn */
block|,
block|{
literal|0x12B6
block|,
literal|0x12B7
block|}
comment|/* Cn */
block|,
block|{
literal|0x12BF
block|,
literal|0x12BF
block|}
comment|/* Cn */
block|,
block|{
literal|0x12C1
block|,
literal|0x12C1
block|}
comment|/* Cn */
block|,
block|{
literal|0x12C6
block|,
literal|0x12C7
block|}
comment|/* Cn */
block|,
block|{
literal|0x12D7
block|,
literal|0x12D7
block|}
comment|/* Cn */
block|,
block|{
literal|0x1311
block|,
literal|0x1311
block|}
comment|/* Cn */
block|,
block|{
literal|0x1316
block|,
literal|0x1317
block|}
comment|/* Cn */
block|,
block|{
literal|0x135B
block|,
literal|0x135E
block|}
comment|/* Cn */
block|,
block|{
literal|0x137D
block|,
literal|0x137F
block|}
comment|/* Cn */
block|,
block|{
literal|0x139A
block|,
literal|0x139F
block|}
comment|/* Cn */
block|,
block|{
literal|0x13F5
block|,
literal|0x1400
block|}
comment|/* Cn */
block|,
block|{
literal|0x1677
block|,
literal|0x167F
block|}
comment|/* Cn */
block|,
block|{
literal|0x169D
block|,
literal|0x169F
block|}
comment|/* Cn */
block|,
block|{
literal|0x16F1
block|,
literal|0x16FF
block|}
comment|/* Cn */
block|,
block|{
literal|0x170D
block|,
literal|0x170D
block|}
comment|/* Cn */
block|,
block|{
literal|0x1715
block|,
literal|0x171F
block|}
comment|/* Cn */
block|,
block|{
literal|0x1737
block|,
literal|0x173F
block|}
comment|/* Cn */
block|,
block|{
literal|0x1754
block|,
literal|0x175F
block|}
comment|/* Cn */
block|,
block|{
literal|0x176D
block|,
literal|0x176D
block|}
comment|/* Cn */
block|,
block|{
literal|0x1771
block|,
literal|0x1771
block|}
comment|/* Cn */
block|,
block|{
literal|0x1774
block|,
literal|0x177F
block|}
comment|/* Cn */
block|,
if|#
directive|if
literal|0
block|{  0x17B4,  0x17B5}
comment|/* Cf */
block|,
endif|#
directive|endif
block|{
literal|0x17DE
block|,
literal|0x17DF
block|}
comment|/* Cn */
block|,
block|{
literal|0x17EA
block|,
literal|0x17EF
block|}
comment|/* Cn */
block|,
block|{
literal|0x17FA
block|,
literal|0x17FF
block|}
comment|/* Cn */
block|,
block|{
literal|0x180F
block|,
literal|0x180F
block|}
comment|/* Cn */
block|,
block|{
literal|0x181A
block|,
literal|0x181F
block|}
comment|/* Cn */
block|,
block|{
literal|0x1878
block|,
literal|0x187F
block|}
comment|/* Cn */
block|,
block|{
literal|0x18AA
block|,
literal|0x18FF
block|}
comment|/* Cn */
block|,
block|{
literal|0x191D
block|,
literal|0x191F
block|}
comment|/* Cn */
block|,
block|{
literal|0x192C
block|,
literal|0x192F
block|}
comment|/* Cn */
block|,
block|{
literal|0x193C
block|,
literal|0x193F
block|}
comment|/* Cn */
block|,
block|{
literal|0x1941
block|,
literal|0x1943
block|}
comment|/* Cn */
block|,
block|{
literal|0x196E
block|,
literal|0x196F
block|}
comment|/* Cn */
block|,
block|{
literal|0x1975
block|,
literal|0x197F
block|}
comment|/* Cn */
block|,
block|{
literal|0x19AA
block|,
literal|0x19AF
block|}
comment|/* Cn */
block|,
block|{
literal|0x19CA
block|,
literal|0x19CF
block|}
comment|/* Cn */
block|,
block|{
literal|0x19DA
block|,
literal|0x19DD
block|}
comment|/* Cn */
block|,
block|{
literal|0x1A1C
block|,
literal|0x1A1D
block|}
comment|/* Cn */
block|,
block|{
literal|0x1A20
block|,
literal|0x1AFF
block|}
comment|/* Cn */
block|,
block|{
literal|0x1B4C
block|,
literal|0x1B4F
block|}
comment|/* Cn */
block|,
block|{
literal|0x1B7D
block|,
literal|0x1CFF
block|}
comment|/* Cn */
block|,
block|{
literal|0x1DCB
block|,
literal|0x1DFD
block|}
comment|/* Cn */
block|,
block|{
literal|0x1E9C
block|,
literal|0x1E9F
block|}
comment|/* Cn */
block|,
block|{
literal|0x1EFA
block|,
literal|0x1EFF
block|}
comment|/* Cn */
block|,
block|{
literal|0x1F16
block|,
literal|0x1F17
block|}
comment|/* Cn */
block|,
block|{
literal|0x1F1E
block|,
literal|0x1F1F
block|}
comment|/* Cn */
block|,
block|{
literal|0x1F46
block|,
literal|0x1F47
block|}
comment|/* Cn */
block|,
block|{
literal|0x1F4E
block|,
literal|0x1F4F
block|}
comment|/* Cn */
block|,
block|{
literal|0x1F58
block|,
literal|0x1F58
block|}
comment|/* Cn */
block|,
block|{
literal|0x1F5A
block|,
literal|0x1F5A
block|}
comment|/* Cn */
block|,
block|{
literal|0x1F5C
block|,
literal|0x1F5C
block|}
comment|/* Cn */
block|,
block|{
literal|0x1F5E
block|,
literal|0x1F5E
block|}
comment|/* Cn */
block|,
block|{
literal|0x1F7E
block|,
literal|0x1F7F
block|}
comment|/* Cn */
block|,
block|{
literal|0x1FB5
block|,
literal|0x1FB5
block|}
comment|/* Cn */
block|,
block|{
literal|0x1FC5
block|,
literal|0x1FC5
block|}
comment|/* Cn */
block|,
block|{
literal|0x1FD4
block|,
literal|0x1FD5
block|}
comment|/* Cn */
block|,
block|{
literal|0x1FDC
block|,
literal|0x1FDC
block|}
comment|/* Cn */
block|,
block|{
literal|0x1FF0
block|,
literal|0x1FF1
block|}
comment|/* Cn */
block|,
block|{
literal|0x1FF5
block|,
literal|0x1FF5
block|}
comment|/* Cn */
block|,
block|{
literal|0x1FFF
block|,
literal|0x1FFF
block|}
comment|/* Cn */
block|,
block|{
literal|0x200B
block|,
literal|0x200F
block|}
comment|/* Cf */
block|,
block|{
literal|0x2028
block|,
literal|0x2028
block|}
comment|/* Zl */
block|,
block|{
literal|0x2029
block|,
literal|0x2029
block|}
comment|/* Zp */
block|,
block|{
literal|0x202A
block|,
literal|0x202E
block|}
comment|/* Cf */
block|,
block|{
literal|0x2060
block|,
literal|0x2063
block|}
comment|/* Cf */
block|,
block|{
literal|0x2064
block|,
literal|0x2069
block|}
comment|/* Cn */
block|,
block|{
literal|0x206A
block|,
literal|0x206F
block|}
comment|/* Cf */
block|,
block|{
literal|0x2072
block|,
literal|0x2073
block|}
comment|/* Cn */
block|,
block|{
literal|0x208F
block|,
literal|0x208F
block|}
comment|/* Cn */
block|,
block|{
literal|0x2095
block|,
literal|0x209F
block|}
comment|/* Cn */
block|,
block|{
literal|0x20B6
block|,
literal|0x20CF
block|}
comment|/* Cn */
block|,
block|{
literal|0x20F0
block|,
literal|0x20FF
block|}
comment|/* Cn */
block|,
block|{
literal|0x214F
block|,
literal|0x2152
block|}
comment|/* Cn */
block|,
block|{
literal|0x2185
block|,
literal|0x218F
block|}
comment|/* Cn */
block|,
block|{
literal|0x23E8
block|,
literal|0x23FF
block|}
comment|/* Cn */
block|,
block|{
literal|0x2427
block|,
literal|0x243F
block|}
comment|/* Cn */
block|,
block|{
literal|0x244B
block|,
literal|0x245F
block|}
comment|/* Cn */
block|,
block|{
literal|0x269D
block|,
literal|0x269F
block|}
comment|/* Cn */
block|,
block|{
literal|0x26B3
block|,
literal|0x2700
block|}
comment|/* Cn */
block|,
block|{
literal|0x2705
block|,
literal|0x2705
block|}
comment|/* Cn */
block|,
block|{
literal|0x270A
block|,
literal|0x270B
block|}
comment|/* Cn */
block|,
block|{
literal|0x2728
block|,
literal|0x2728
block|}
comment|/* Cn */
block|,
block|{
literal|0x274C
block|,
literal|0x274C
block|}
comment|/* Cn */
block|,
block|{
literal|0x274E
block|,
literal|0x274E
block|}
comment|/* Cn */
block|,
block|{
literal|0x2753
block|,
literal|0x2755
block|}
comment|/* Cn */
block|,
block|{
literal|0x2757
block|,
literal|0x2757
block|}
comment|/* Cn */
block|,
block|{
literal|0x275F
block|,
literal|0x2760
block|}
comment|/* Cn */
block|,
block|{
literal|0x2795
block|,
literal|0x2797
block|}
comment|/* Cn */
block|,
block|{
literal|0x27B0
block|,
literal|0x27B0
block|}
comment|/* Cn */
block|,
block|{
literal|0x27BF
block|,
literal|0x27BF
block|}
comment|/* Cn */
block|,
block|{
literal|0x27CB
block|,
literal|0x27CF
block|}
comment|/* Cn */
block|,
block|{
literal|0x27EC
block|,
literal|0x27EF
block|}
comment|/* Cn */
block|,
block|{
literal|0x2B1B
block|,
literal|0x2B1F
block|}
comment|/* Cn */
block|,
block|{
literal|0x2B24
block|,
literal|0x2BFF
block|}
comment|/* Cn */
block|,
block|{
literal|0x2C2F
block|,
literal|0x2C2F
block|}
comment|/* Cn */
block|,
block|{
literal|0x2C5F
block|,
literal|0x2C5F
block|}
comment|/* Cn */
block|,
block|{
literal|0x2C6D
block|,
literal|0x2C73
block|}
comment|/* Cn */
block|,
block|{
literal|0x2C78
block|,
literal|0x2C7F
block|}
comment|/* Cn */
block|,
block|{
literal|0x2CEB
block|,
literal|0x2CF8
block|}
comment|/* Cn */
block|,
block|{
literal|0x2D26
block|,
literal|0x2D2F
block|}
comment|/* Cn */
block|,
block|{
literal|0x2D66
block|,
literal|0x2D6E
block|}
comment|/* Cn */
block|,
block|{
literal|0x2D70
block|,
literal|0x2D7F
block|}
comment|/* Cn */
block|,
block|{
literal|0x2D97
block|,
literal|0x2D9F
block|}
comment|/* Cn */
block|,
block|{
literal|0x2DA7
block|,
literal|0x2DA7
block|}
comment|/* Cn */
block|,
block|{
literal|0x2DAF
block|,
literal|0x2DAF
block|}
comment|/* Cn */
block|,
block|{
literal|0x2DB7
block|,
literal|0x2DB7
block|}
comment|/* Cn */
block|,
block|{
literal|0x2DBF
block|,
literal|0x2DBF
block|}
comment|/* Cn */
block|,
block|{
literal|0x2DC7
block|,
literal|0x2DC7
block|}
comment|/* Cn */
block|,
block|{
literal|0x2DCF
block|,
literal|0x2DCF
block|}
comment|/* Cn */
block|,
block|{
literal|0x2DD7
block|,
literal|0x2DD7
block|}
comment|/* Cn */
block|,
block|{
literal|0x2DDF
block|,
literal|0x2DFF
block|}
comment|/* Cn */
block|,
block|{
literal|0x2E18
block|,
literal|0x2E1B
block|}
comment|/* Cn */
block|,
block|{
literal|0x2E1E
block|,
literal|0x2E7F
block|}
comment|/* Cn */
block|,
block|{
literal|0x2E9A
block|,
literal|0x2E9A
block|}
comment|/* Cn */
block|,
block|{
literal|0x2EF4
block|,
literal|0x2EFF
block|}
comment|/* Cn */
block|,
block|{
literal|0x2FD6
block|,
literal|0x2FEF
block|}
comment|/* Cn */
block|,
block|{
literal|0x2FFC
block|,
literal|0x2FFF
block|}
comment|/* Cn */
block|,
block|{
literal|0x3040
block|,
literal|0x3040
block|}
comment|/* Cn */
block|,
block|{
literal|0x3097
block|,
literal|0x3098
block|}
comment|/* Cn */
block|,
block|{
literal|0x3100
block|,
literal|0x3104
block|}
comment|/* Cn */
block|,
block|{
literal|0x312D
block|,
literal|0x3130
block|}
comment|/* Cn */
block|,
block|{
literal|0x318F
block|,
literal|0x318F
block|}
comment|/* Cn */
block|,
block|{
literal|0x31B8
block|,
literal|0x31BF
block|}
comment|/* Cn */
block|,
block|{
literal|0x31D0
block|,
literal|0x31EF
block|}
comment|/* Cn */
block|,
block|{
literal|0x321F
block|,
literal|0x321F
block|}
comment|/* Cn */
block|,
block|{
literal|0x3244
block|,
literal|0x324F
block|}
comment|/* Cn */
block|,
block|{
literal|0x32FF
block|,
literal|0x32FF
block|}
comment|/* Cn */
block|,
block|{
literal|0x4DB6
block|,
literal|0x4DBF
block|}
comment|/* Cn */
block|,
block|{
literal|0x9FBC
block|,
literal|0x9FFF
block|}
comment|/* Cn */
block|,
block|{
literal|0xA48D
block|,
literal|0xA48F
block|}
comment|/* Cn */
block|,
block|{
literal|0xA4C7
block|,
literal|0xA6FF
block|}
comment|/* Cn */
block|,
block|{
literal|0xA71B
block|,
literal|0xA71F
block|}
comment|/* Cn */
block|,
block|{
literal|0xA722
block|,
literal|0xA7FF
block|}
comment|/* Cn */
block|,
block|{
literal|0xA82C
block|,
literal|0xA83F
block|}
comment|/* Cn */
block|,
block|{
literal|0xA878
block|,
literal|0xABFF
block|}
comment|/* Cn */
block|,
block|{
literal|0xD7A4
block|,
literal|0xD7FF
block|}
comment|/* Cn */
block|,
block|{
literal|0xD800
block|,
literal|0xDFFF
block|}
comment|/* Cs */
block|,
block|{
literal|0xE000
block|,
literal|0xF8FF
block|}
comment|/* Co */
block|,
block|{
literal|0xFA2E
block|,
literal|0xFA2F
block|}
comment|/* Cn */
block|,
block|{
literal|0xFA6B
block|,
literal|0xFA6F
block|}
comment|/* Cn */
block|,
block|{
literal|0xFADA
block|,
literal|0xFAFF
block|}
comment|/* Cn */
block|,
block|{
literal|0xFB07
block|,
literal|0xFB12
block|}
comment|/* Cn */
block|,
block|{
literal|0xFB18
block|,
literal|0xFB1C
block|}
comment|/* Cn */
block|,
block|{
literal|0xFB37
block|,
literal|0xFB37
block|}
comment|/* Cn */
block|,
block|{
literal|0xFB3D
block|,
literal|0xFB3D
block|}
comment|/* Cn */
block|,
block|{
literal|0xFB3F
block|,
literal|0xFB3F
block|}
comment|/* Cn */
block|,
block|{
literal|0xFB42
block|,
literal|0xFB42
block|}
comment|/* Cn */
block|,
block|{
literal|0xFB45
block|,
literal|0xFB45
block|}
comment|/* Cn */
block|,
block|{
literal|0xFBB2
block|,
literal|0xFBD2
block|}
comment|/* Cn */
block|,
block|{
literal|0xFD40
block|,
literal|0xFD4F
block|}
comment|/* Cn */
block|,
block|{
literal|0xFD90
block|,
literal|0xFD91
block|}
comment|/* Cn */
block|,
block|{
literal|0xFDC8
block|,
literal|0xFDEF
block|}
comment|/* Cn */
block|,
block|{
literal|0xFDFE
block|,
literal|0xFDFF
block|}
comment|/* Cn */
block|,
block|{
literal|0xFE1A
block|,
literal|0xFE1F
block|}
comment|/* Cn */
block|,
block|{
literal|0xFE24
block|,
literal|0xFE2F
block|}
comment|/* Cn */
block|,
block|{
literal|0xFE53
block|,
literal|0xFE53
block|}
comment|/* Cn */
block|,
block|{
literal|0xFE67
block|,
literal|0xFE67
block|}
comment|/* Cn */
block|,
block|{
literal|0xFE6C
block|,
literal|0xFE6F
block|}
comment|/* Cn */
block|,
block|{
literal|0xFE75
block|,
literal|0xFE75
block|}
comment|/* Cn */
block|,
block|{
literal|0xFEFD
block|,
literal|0xFEFE
block|}
comment|/* Cn */
block|,
block|{
literal|0xFEFF
block|,
literal|0xFEFF
block|}
comment|/* Cf */
block|,
block|{
literal|0xFF00
block|,
literal|0xFF00
block|}
comment|/* Cn */
block|,
block|{
literal|0xFFBF
block|,
literal|0xFFC1
block|}
comment|/* Cn */
block|,
block|{
literal|0xFFC8
block|,
literal|0xFFC9
block|}
comment|/* Cn */
block|,
block|{
literal|0xFFD0
block|,
literal|0xFFD1
block|}
comment|/* Cn */
block|,
block|{
literal|0xFFD8
block|,
literal|0xFFD9
block|}
comment|/* Cn */
block|,
block|{
literal|0xFFDD
block|,
literal|0xFFDF
block|}
comment|/* Cn */
block|,
block|{
literal|0xFFE7
block|,
literal|0xFFE7
block|}
comment|/* Cn */
block|,
block|{
literal|0xFFEF
block|,
literal|0xFFF8
block|}
comment|/* Cn */
block|,
block|{
literal|0xFFF9
block|,
literal|0xFFFB
block|}
comment|/* Cf */
block|,
block|{
literal|0xFFFE
block|,
literal|0xFFFF
block|}
comment|/* Cn */
block|,
block|{
literal|0x1000C
block|,
literal|0x1000C
block|}
comment|/* Cn */
block|,
block|{
literal|0x10027
block|,
literal|0x10027
block|}
comment|/* Cn */
block|,
block|{
literal|0x1003B
block|,
literal|0x1003B
block|}
comment|/* Cn */
block|,
block|{
literal|0x1003E
block|,
literal|0x1003E
block|}
comment|/* Cn */
block|,
block|{
literal|0x1004E
block|,
literal|0x1004F
block|}
comment|/* Cn */
block|,
block|{
literal|0x1005E
block|,
literal|0x1007F
block|}
comment|/* Cn */
block|,
block|{
literal|0x100FB
block|,
literal|0x100FF
block|}
comment|/* Cn */
block|,
block|{
literal|0x10103
block|,
literal|0x10106
block|}
comment|/* Cn */
block|,
block|{
literal|0x10134
block|,
literal|0x10136
block|}
comment|/* Cn */
block|,
block|{
literal|0x1018B
block|,
literal|0x102FF
block|}
comment|/* Cn */
block|,
block|{
literal|0x1031F
block|,
literal|0x1031F
block|}
comment|/* Cn */
block|,
block|{
literal|0x10324
block|,
literal|0x1032F
block|}
comment|/* Cn */
block|,
block|{
literal|0x1034B
block|,
literal|0x1037F
block|}
comment|/* Cn */
block|,
block|{
literal|0x1039E
block|,
literal|0x1039E
block|}
comment|/* Cn */
block|,
block|{
literal|0x103C4
block|,
literal|0x103C7
block|}
comment|/* Cn */
block|,
block|{
literal|0x103D6
block|,
literal|0x103FF
block|}
comment|/* Cn */
block|,
block|{
literal|0x1049E
block|,
literal|0x1049F
block|}
comment|/* Cn */
block|,
block|{
literal|0x104AA
block|,
literal|0x107FF
block|}
comment|/* Cn */
block|,
block|{
literal|0x10806
block|,
literal|0x10807
block|}
comment|/* Cn */
block|,
block|{
literal|0x10809
block|,
literal|0x10809
block|}
comment|/* Cn */
block|,
block|{
literal|0x10836
block|,
literal|0x10836
block|}
comment|/* Cn */
block|,
block|{
literal|0x10839
block|,
literal|0x1083B
block|}
comment|/* Cn */
block|,
block|{
literal|0x1083D
block|,
literal|0x1083E
block|}
comment|/* Cn */
block|,
block|{
literal|0x10840
block|,
literal|0x108FF
block|}
comment|/* Cn */
block|,
block|{
literal|0x1091A
block|,
literal|0x1091E
block|}
comment|/* Cn */
block|,
block|{
literal|0x10920
block|,
literal|0x109FF
block|}
comment|/* Cn */
block|,
block|{
literal|0x10A04
block|,
literal|0x10A04
block|}
comment|/* Cn */
block|,
block|{
literal|0x10A07
block|,
literal|0x10A0B
block|}
comment|/* Cn */
block|,
block|{
literal|0x10A14
block|,
literal|0x10A14
block|}
comment|/* Cn */
block|,
block|{
literal|0x10A18
block|,
literal|0x10A18
block|}
comment|/* Cn */
block|,
block|{
literal|0x10A34
block|,
literal|0x10A37
block|}
comment|/* Cn */
block|,
block|{
literal|0x10A3B
block|,
literal|0x10A3E
block|}
comment|/* Cn */
block|,
block|{
literal|0x10A48
block|,
literal|0x10A4F
block|}
comment|/* Cn */
block|,
block|{
literal|0x10A59
block|,
literal|0x11FFF
block|}
comment|/* Cn */
block|,
block|{
literal|0x1236F
block|,
literal|0x123FF
block|}
comment|/* Cn */
block|,
block|{
literal|0x12463
block|,
literal|0x1246F
block|}
comment|/* Cn */
block|,
block|{
literal|0x12474
block|,
literal|0x1CFFF
block|}
comment|/* Cn */
block|,
block|{
literal|0x1D0F6
block|,
literal|0x1D0FF
block|}
comment|/* Cn */
block|,
block|{
literal|0x1D127
block|,
literal|0x1D129
block|}
comment|/* Cn */
block|,
block|{
literal|0x1D173
block|,
literal|0x1D17A
block|}
comment|/* Cf */
block|,
block|{
literal|0x1D1DE
block|,
literal|0x1D1FF
block|}
comment|/* Cn */
block|,
block|{
literal|0x1D246
block|,
literal|0x1D2FF
block|}
comment|/* Cn */
block|,
block|{
literal|0x1D357
block|,
literal|0x1D35F
block|}
comment|/* Cn */
block|,
block|{
literal|0x1D372
block|,
literal|0x1D3FF
block|}
comment|/* Cn */
block|,
block|{
literal|0x1D455
block|,
literal|0x1D455
block|}
comment|/* Cn */
block|,
block|{
literal|0x1D49D
block|,
literal|0x1D49D
block|}
comment|/* Cn */
block|,
block|{
literal|0x1D4A0
block|,
literal|0x1D4A1
block|}
comment|/* Cn */
block|,
block|{
literal|0x1D4A3
block|,
literal|0x1D4A4
block|}
comment|/* Cn */
block|,
block|{
literal|0x1D4A7
block|,
literal|0x1D4A8
block|}
comment|/* Cn */
block|,
block|{
literal|0x1D4AD
block|,
literal|0x1D4AD
block|}
comment|/* Cn */
block|,
block|{
literal|0x1D4BA
block|,
literal|0x1D4BA
block|}
comment|/* Cn */
block|,
block|{
literal|0x1D4BC
block|,
literal|0x1D4BC
block|}
comment|/* Cn */
block|,
block|{
literal|0x1D4C4
block|,
literal|0x1D4C4
block|}
comment|/* Cn */
block|,
block|{
literal|0x1D506
block|,
literal|0x1D506
block|}
comment|/* Cn */
block|,
block|{
literal|0x1D50B
block|,
literal|0x1D50C
block|}
comment|/* Cn */
block|,
block|{
literal|0x1D515
block|,
literal|0x1D515
block|}
comment|/* Cn */
block|,
block|{
literal|0x1D51D
block|,
literal|0x1D51D
block|}
comment|/* Cn */
block|,
block|{
literal|0x1D53A
block|,
literal|0x1D53A
block|}
comment|/* Cn */
block|,
block|{
literal|0x1D53F
block|,
literal|0x1D53F
block|}
comment|/* Cn */
block|,
block|{
literal|0x1D545
block|,
literal|0x1D545
block|}
comment|/* Cn */
block|,
block|{
literal|0x1D547
block|,
literal|0x1D549
block|}
comment|/* Cn */
block|,
block|{
literal|0x1D551
block|,
literal|0x1D551
block|}
comment|/* Cn */
block|,
block|{
literal|0x1D6A6
block|,
literal|0x1D6A7
block|}
comment|/* Cn */
block|,
block|{
literal|0x1D7CC
block|,
literal|0x1D7CD
block|}
comment|/* Cn */
block|,
block|{
literal|0x1D800
block|,
literal|0x1FFFF
block|}
comment|/* Cn */
block|,
block|{
literal|0x2A6D7
block|,
literal|0x2F7FF
block|}
comment|/* Cn */
block|,
block|{
literal|0x2FA1E
block|,
literal|0xE0000
block|}
comment|/* Cn */
block|,
block|{
literal|0xE0001
block|,
literal|0xE0001
block|}
comment|/* Cf */
block|,
block|{
literal|0xE0002
block|,
literal|0xE001F
block|}
comment|/* Cn */
block|,
block|{
literal|0xE0020
block|,
literal|0xE007F
block|}
comment|/* Cf */
block|,
block|{
literal|0xE0080
block|,
literal|0xE00FF
block|}
comment|/* Cn */
block|,
block|{
literal|0xE01F0
block|,
literal|0xEFFFF
block|}
comment|/* Cn */
block|,
block|{
literal|0xF0000
block|,
literal|0xFFFFD
block|}
comment|/* Co */
block|,
block|{
literal|0xFFFFE
block|,
literal|0xFFFFF
block|}
comment|/* Cn */
block|,
block|{
literal|0x100000
block|,
literal|0x10FFFD
block|}
comment|/* Co */
block|,
block|{
literal|0x10FFFE
block|,
literal|0x10FFFF
block|}
comment|/* Cn */
block|,
block|{
literal|0x110000
block|,
literal|0x7FFFFFFF
block|}
comment|/* ISO 10646?? */
block|}
decl_stmt|;
end_decl_stmt

begin_comment
comment|/*  * Double width characters  *	W: East Asian Wide  *	F: East Asian Full-width  * Unassigned code points may be included when they allow ranges to be merged.  * Last synched with  *<http://www.unicode.org/Public/5.0.0/ucd/EastAsianWidth-5.0.0d2.txt>  *	dated 2005-11-08T01:32:56Z  */
end_comment

begin_decl_stmt
specifier|static
name|struct
name|wchar_range
name|wide_table
index|[]
init|=
block|{
block|{
literal|0x1100
block|,
literal|0x115F
block|}
comment|/* W */
block|,
block|{
literal|0x2329
block|,
literal|0x232A
block|}
comment|/* W */
block|,
block|{
literal|0x2E80
block|,
literal|0x2FFB
block|}
comment|/* W */
block|,
block|{
literal|0x3000
block|,
literal|0x3000
block|}
comment|/* F */
block|,
block|{
literal|0x3001
block|,
literal|0x303E
block|}
comment|/* W */
block|,
block|{
literal|0x3041
block|,
literal|0x4DB5
block|}
comment|/* W */
block|,
block|{
literal|0x4E00
block|,
literal|0x9FBB
block|}
comment|/* W */
block|,
block|{
literal|0xA000
block|,
literal|0xA4C6
block|}
comment|/* W */
block|,
block|{
literal|0xAC00
block|,
literal|0xD7A3
block|}
comment|/* W */
block|,
block|{
literal|0xF900
block|,
literal|0xFAD9
block|}
comment|/* W */
block|,
block|{
literal|0xFE10
block|,
literal|0xFE19
block|}
comment|/* W */
block|,
block|{
literal|0xFE30
block|,
literal|0xFE6B
block|}
comment|/* W */
block|,
block|{
literal|0xFF01
block|,
literal|0xFF60
block|}
comment|/* F */
block|,
block|{
literal|0xFFE0
block|,
literal|0xFFE6
block|}
comment|/* F */
block|,
block|{
literal|0x20000
block|,
literal|0x2FFFD
block|}
comment|/* W */
block|,
block|{
literal|0x30000
block|,
literal|0x3FFFD
block|}
comment|/* W */
block|, }
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|int
name|is_in_table
parameter_list|(
name|ch
parameter_list|,
name|table
parameter_list|,
name|tsize
parameter_list|)
name|LWCHAR
name|ch
decl_stmt|;
name|struct
name|wchar_range
name|table
index|[]
decl_stmt|;
name|int
name|tsize
decl_stmt|;
block|{
name|int
name|hi
decl_stmt|;
name|int
name|lo
decl_stmt|;
comment|/* Binary search in the table. */
if|if
condition|(
name|ch
operator|<
name|table
index|[
literal|0
index|]
operator|.
name|first
condition|)
return|return
literal|0
return|;
name|lo
operator|=
literal|0
expr_stmt|;
name|hi
operator|=
name|tsize
operator|-
literal|1
expr_stmt|;
while|while
condition|(
name|lo
operator|<=
name|hi
condition|)
block|{
name|int
name|mid
init|=
operator|(
name|lo
operator|+
name|hi
operator|)
operator|/
literal|2
decl_stmt|;
if|if
condition|(
name|ch
operator|>
name|table
index|[
name|mid
index|]
operator|.
name|last
condition|)
name|lo
operator|=
name|mid
operator|+
literal|1
expr_stmt|;
elseif|else
if|if
condition|(
name|ch
operator|<
name|table
index|[
name|mid
index|]
operator|.
name|first
condition|)
name|hi
operator|=
name|mid
operator|-
literal|1
expr_stmt|;
else|else
return|return
literal|1
return|;
block|}
return|return
literal|0
return|;
block|}
end_function

begin_comment
comment|/*  * Is a character a UTF-8 composing character?  * If a composing character follows any char, the two combine into one glyph.  */
end_comment

begin_function
name|public
name|int
name|is_composing_char
parameter_list|(
name|ch
parameter_list|)
name|LWCHAR
name|ch
decl_stmt|;
block|{
return|return
name|is_in_table
argument_list|(
name|ch
argument_list|,
name|comp_table
argument_list|,
operator|(
sizeof|sizeof
argument_list|(
name|comp_table
argument_list|)
operator|/
sizeof|sizeof
argument_list|(
operator|*
name|comp_table
argument_list|)
operator|)
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/*  * Should this UTF-8 character be treated as binary?  */
end_comment

begin_function
name|public
name|int
name|is_ubin_char
parameter_list|(
name|ch
parameter_list|)
name|LWCHAR
name|ch
decl_stmt|;
block|{
return|return
name|is_in_table
argument_list|(
name|ch
argument_list|,
name|ubin_table
argument_list|,
operator|(
sizeof|sizeof
argument_list|(
name|ubin_table
argument_list|)
operator|/
sizeof|sizeof
argument_list|(
operator|*
name|ubin_table
argument_list|)
operator|)
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/*  * Is this a double width UTF-8 character?  */
end_comment

begin_function
name|public
name|int
name|is_wide_char
parameter_list|(
name|ch
parameter_list|)
name|LWCHAR
name|ch
decl_stmt|;
block|{
return|return
name|is_in_table
argument_list|(
name|ch
argument_list|,
name|wide_table
argument_list|,
operator|(
sizeof|sizeof
argument_list|(
name|wide_table
argument_list|)
operator|/
sizeof|sizeof
argument_list|(
operator|*
name|wide_table
argument_list|)
operator|)
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/*  * Is a character a UTF-8 combining character?  * A combining char acts like an ordinary char, but if it follows  * a specific char (not any char), the two combine into one glyph.  */
end_comment

begin_function
name|public
name|int
name|is_combining_char
parameter_list|(
name|ch1
parameter_list|,
name|ch2
parameter_list|)
name|LWCHAR
name|ch1
decl_stmt|;
name|LWCHAR
name|ch2
decl_stmt|;
block|{
comment|/* The table is small; use linear search. */
name|int
name|i
decl_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
sizeof|sizeof
argument_list|(
name|comb_table
argument_list|)
operator|/
sizeof|sizeof
argument_list|(
operator|*
name|comb_table
argument_list|)
condition|;
name|i
operator|++
control|)
block|{
if|if
condition|(
name|ch1
operator|==
name|comb_table
index|[
name|i
index|]
operator|.
name|first
operator|&&
name|ch2
operator|==
name|comb_table
index|[
name|i
index|]
operator|.
name|last
condition|)
return|return
literal|1
return|;
block|}
return|return
literal|0
return|;
block|}
end_function

end_unit

