begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* This file is automatically generated from rep-cache-db.sql and .dist_sandbox/subversion-1.8.9/subversion/libsvn_fs_fs/token-map.h.  * Do not edit this file -- edit the source and rerun gen-make.py */
end_comment

begin_define
define|#
directive|define
name|STMT_CREATE_SCHEMA
value|0
end_define

begin_define
define|#
directive|define
name|STMT_0_INFO
value|{"STMT_CREATE_SCHEMA", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_0
define|\
value|"CREATE TABLE rep_cache ( " \   "  hash TEXT NOT NULL PRIMARY KEY, " \   "  revision INTEGER NOT NULL, " \   "  offset INTEGER NOT NULL, " \   "  size INTEGER NOT NULL, " \   "  expanded_size INTEGER NOT NULL " \   "  ); " \   "PRAGMA USER_VERSION = 1; " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_GET_REP
value|1
end_define

begin_define
define|#
directive|define
name|STMT_1_INFO
value|{"STMT_GET_REP", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_1
define|\
value|"SELECT revision, offset, size, expanded_size " \   "FROM rep_cache " \   "WHERE hash = ?1 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SET_REP
value|2
end_define

begin_define
define|#
directive|define
name|STMT_2_INFO
value|{"STMT_SET_REP", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_2
define|\
value|"INSERT OR FAIL INTO rep_cache (hash, revision, offset, size, expanded_size) " \   "VALUES (?1, ?2, ?3, ?4, ?5) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_GET_REPS_FOR_RANGE
value|3
end_define

begin_define
define|#
directive|define
name|STMT_3_INFO
value|{"STMT_GET_REPS_FOR_RANGE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_3
define|\
value|"SELECT hash, revision, offset, size, expanded_size " \   "FROM rep_cache " \   "WHERE revision>= ?1 AND revision<= ?2 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_GET_MAX_REV
value|4
end_define

begin_define
define|#
directive|define
name|STMT_4_INFO
value|{"STMT_GET_MAX_REV", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_4
define|\
value|"SELECT MAX(revision) " \   "FROM rep_cache " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DEL_REPS_YOUNGER_THAN_REV
value|5
end_define

begin_define
define|#
directive|define
name|STMT_5_INFO
value|{"STMT_DEL_REPS_YOUNGER_THAN_REV", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_5
define|\
value|"DELETE FROM rep_cache " \   "WHERE revision> ?1 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_LOCK_REP
value|6
end_define

begin_define
define|#
directive|define
name|STMT_6_INFO
value|{"STMT_LOCK_REP", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_6
define|\
value|"BEGIN TRANSACTION; " \   "INSERT INTO rep_cache VALUES ('dummy', 0, 0, 0, 0) " \   ""
end_define

begin_define
define|#
directive|define
name|REP_CACHE_DB_SQL_DECLARE_STATEMENTS
parameter_list|(
name|varname
parameter_list|)
define|\
value|static const char * const varname[] = { \     STMT_0, \     STMT_1, \     STMT_2, \     STMT_3, \     STMT_4, \     STMT_5, \     STMT_6, \     NULL \   }
end_define

begin_define
define|#
directive|define
name|REP_CACHE_DB_SQL_DECLARE_STATEMENT_INFO
parameter_list|(
name|varname
parameter_list|)
define|\
value|static const char * const varname[][2] = { \     STMT_0_INFO, \     STMT_1_INFO, \     STMT_2_INFO, \     STMT_3_INFO, \     STMT_4_INFO, \     STMT_5_INFO, \     STMT_6_INFO, \     {NULL, NULL} \   }
end_define

end_unit

