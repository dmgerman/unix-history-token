begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* This file is automatically generated from wc-queries.sql and .dist_sandbox/subversion-1.8.8/subversion/libsvn_wc/token-map.h.  * Do not edit this file -- edit the source and rerun gen-make.py */
end_comment

begin_define
define|#
directive|define
name|STMT_SELECT_NODE_INFO
value|0
end_define

begin_define
define|#
directive|define
name|STMT_0_INFO
value|{"STMT_SELECT_NODE_INFO", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_0
define|\
value|"SELECT op_depth, repos_id, repos_path, presence, kind, revision, checksum, " \   "  translated_size, changed_revision, changed_date, changed_author, depth, " \   "  symlink_target, last_mod_time, properties, moved_here, inherited_props, " \   "  moved_to " \   "FROM nodes " \   "WHERE wc_id = ?1 AND local_relpath = ?2 " \   "ORDER BY op_depth DESC " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_NODE_INFO_WITH_LOCK
value|1
end_define

begin_define
define|#
directive|define
name|STMT_1_INFO
value|{"STMT_SELECT_NODE_INFO_WITH_LOCK", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_1
define|\
value|"SELECT op_depth, nodes.repos_id, nodes.repos_path, presence, kind, revision, " \   "  checksum, translated_size, changed_revision, changed_date, changed_author, " \   "  depth, symlink_target, last_mod_time, properties, moved_here, " \   "  inherited_props, " \   "  lock_token, lock_owner, lock_comment, lock_date " \   "FROM nodes " \   "LEFT OUTER JOIN lock ON nodes.repos_id = lock.repos_id " \   "  AND nodes.repos_path = lock.repos_relpath " \   "WHERE wc_id = ?1 AND local_relpath = ?2 " \   "ORDER BY op_depth DESC " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_BASE_NODE
value|2
end_define

begin_define
define|#
directive|define
name|STMT_2_INFO
value|{"STMT_SELECT_BASE_NODE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_2
define|\
value|"SELECT repos_id, repos_path, presence, kind, revision, checksum, " \   "  translated_size, changed_revision, changed_date, changed_author, depth, " \   "  symlink_target, last_mod_time, properties, file_external " \   "FROM nodes " \   "WHERE wc_id = ?1 AND local_relpath = ?2 AND op_depth = 0 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_BASE_NODE_WITH_LOCK
value|3
end_define

begin_define
define|#
directive|define
name|STMT_3_INFO
value|{"STMT_SELECT_BASE_NODE_WITH_LOCK", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_3
define|\
value|"SELECT nodes.repos_id, nodes.repos_path, presence, kind, revision, " \   "  checksum, translated_size, changed_revision, changed_date, changed_author, " \   "  depth, symlink_target, last_mod_time, properties, file_external, " \   "  lock_token, lock_owner, lock_comment, lock_date " \   "FROM nodes " \   "LEFT OUTER JOIN lock ON nodes.repos_id = lock.repos_id " \   "  AND nodes.repos_path = lock.repos_relpath " \   "WHERE wc_id = ?1 AND local_relpath = ?2 AND op_depth = 0 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_BASE_CHILDREN_INFO
value|4
end_define

begin_define
define|#
directive|define
name|STMT_4_INFO
value|{"STMT_SELECT_BASE_CHILDREN_INFO", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_4
define|\
value|"SELECT local_relpath, nodes.repos_id, nodes.repos_path, presence, kind, " \   "  revision, depth, file_external, " \   "  lock_token, lock_owner, lock_comment, lock_date " \   "FROM nodes " \   "LEFT OUTER JOIN lock ON nodes.repos_id = lock.repos_id " \   "  AND nodes.repos_path = lock.repos_relpath " \   "WHERE wc_id = ?1 AND parent_relpath = ?2 AND op_depth = 0 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_WORKING_NODE
value|5
end_define

begin_define
define|#
directive|define
name|STMT_5_INFO
value|{"STMT_SELECT_WORKING_NODE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_5
define|\
value|"SELECT op_depth, presence, kind, checksum, translated_size, " \   "  changed_revision, changed_date, changed_author, depth, symlink_target, " \   "  repos_id, repos_path, revision, " \   "  moved_here, moved_to, last_mod_time, properties " \   "FROM nodes " \   "WHERE wc_id = ?1 AND local_relpath = ?2 AND op_depth> 0 " \   "ORDER BY op_depth DESC " \   "LIMIT 1 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_DEPTH_NODE
value|6
end_define

begin_define
define|#
directive|define
name|STMT_6_INFO
value|{"STMT_SELECT_DEPTH_NODE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_6
define|\
value|"SELECT repos_id, repos_path, presence, kind, revision, checksum, " \   "  translated_size, changed_revision, changed_date, changed_author, depth, " \   "  symlink_target, last_mod_time, properties " \   "FROM nodes " \   "WHERE wc_id = ?1 AND local_relpath = ?2 AND op_depth = ?3 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_LOWEST_WORKING_NODE
value|7
end_define

begin_define
define|#
directive|define
name|STMT_7_INFO
value|{"STMT_SELECT_LOWEST_WORKING_NODE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_7
define|\
value|"SELECT op_depth, presence, kind, moved_to " \   "FROM nodes " \   "WHERE wc_id = ?1 AND local_relpath = ?2 AND op_depth> ?3 " \   "ORDER BY op_depth " \   "LIMIT 1 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_HIGHEST_WORKING_NODE
value|8
end_define

begin_define
define|#
directive|define
name|STMT_8_INFO
value|{"STMT_SELECT_HIGHEST_WORKING_NODE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_8
define|\
value|"SELECT op_depth " \   "FROM nodes " \   "WHERE wc_id = ?1 AND local_relpath = ?2 AND op_depth< ?3 " \   "ORDER BY op_depth DESC " \   "LIMIT 1 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_ACTUAL_NODE
value|9
end_define

begin_define
define|#
directive|define
name|STMT_9_INFO
value|{"STMT_SELECT_ACTUAL_NODE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_9
define|\
value|"SELECT changelist, properties, conflict_data " \   "FROM actual_node " \   "WHERE wc_id = ?1 AND local_relpath = ?2 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_NODE_CHILDREN_INFO
value|10
end_define

begin_define
define|#
directive|define
name|STMT_10_INFO
value|{"STMT_SELECT_NODE_CHILDREN_INFO", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_10
define|\
value|"SELECT op_depth, nodes.repos_id, nodes.repos_path, presence, kind, revision, " \   "  checksum, translated_size, changed_revision, changed_date, changed_author, " \   "  depth, symlink_target, last_mod_time, properties, lock_token, lock_owner, " \   "  lock_comment, lock_date, local_relpath, moved_here, moved_to, file_external " \   "FROM nodes " \   "LEFT OUTER JOIN lock ON nodes.repos_id = lock.repos_id " \   "  AND nodes.repos_path = lock.repos_relpath AND op_depth = 0 " \   "WHERE wc_id = ?1 AND parent_relpath = ?2 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_NODE_CHILDREN_WALKER_INFO
value|11
end_define

begin_define
define|#
directive|define
name|STMT_11_INFO
value|{"STMT_SELECT_NODE_CHILDREN_WALKER_INFO", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_11
define|\
value|"SELECT local_relpath, op_depth, presence, kind " \   "FROM nodes_current " \   "WHERE wc_id = ?1 AND parent_relpath = ?2 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_ACTUAL_CHILDREN_INFO
value|12
end_define

begin_define
define|#
directive|define
name|STMT_12_INFO
value|{"STMT_SELECT_ACTUAL_CHILDREN_INFO", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_12
define|\
value|"SELECT local_relpath, changelist, properties, conflict_data " \   "FROM actual_node " \   "WHERE wc_id = ?1 AND parent_relpath = ?2 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_REPOSITORY_BY_ID
value|13
end_define

begin_define
define|#
directive|define
name|STMT_13_INFO
value|{"STMT_SELECT_REPOSITORY_BY_ID", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_13
define|\
value|"SELECT root, uuid FROM repository WHERE id = ?1 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_WCROOT_NULL
value|14
end_define

begin_define
define|#
directive|define
name|STMT_14_INFO
value|{"STMT_SELECT_WCROOT_NULL", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_14
define|\
value|"SELECT id FROM wcroot WHERE local_abspath IS NULL " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_REPOSITORY
value|15
end_define

begin_define
define|#
directive|define
name|STMT_15_INFO
value|{"STMT_SELECT_REPOSITORY", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_15
define|\
value|"SELECT id FROM repository WHERE root = ?1 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_REPOSITORY
value|16
end_define

begin_define
define|#
directive|define
name|STMT_16_INFO
value|{"STMT_INSERT_REPOSITORY", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_16
define|\
value|"INSERT INTO repository (root, uuid) VALUES (?1, ?2) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_NODE
value|17
end_define

begin_define
define|#
directive|define
name|STMT_17_INFO
value|{"STMT_INSERT_NODE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_17
define|\
value|"INSERT OR REPLACE INTO nodes ( " \   "  wc_id, local_relpath, op_depth, parent_relpath, repos_id, repos_path, " \   "  revision, presence, depth, kind, changed_revision, changed_date, " \   "  changed_author, checksum, properties, translated_size, last_mod_time, " \   "  dav_cache, symlink_target, file_external, moved_to, moved_here, " \   "  inherited_props) " \   "VALUES (?1, ?2, ?3, ?4, ?5, ?6, ?7, ?8, ?9, ?10, ?11, ?12, ?13, ?14, " \   "        ?15, ?16, ?17, ?18, ?19, ?20, ?21, ?22, ?23) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_BASE_PRESENT
value|18
end_define

begin_define
define|#
directive|define
name|STMT_18_INFO
value|{"STMT_SELECT_BASE_PRESENT", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_18
define|\
value|"SELECT local_relpath, kind FROM nodes n " \   "WHERE wc_id = ?1 AND (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "  AND op_depth = 0 " \   "  AND presence in ('normal', 'incomplete') " \   "  AND NOT EXISTS(SELECT 1 FROM NODES w " \   "                 WHERE w.wc_id = ?1 AND w.local_relpath = n.local_relpath " \   "                   AND op_depth> 0) " \   "ORDER BY local_relpath DESC " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_WORKING_PRESENT
value|19
end_define

begin_define
define|#
directive|define
name|STMT_19_INFO
value|{"STMT_SELECT_WORKING_PRESENT", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_19
define|\
value|"SELECT local_relpath, kind, checksum, translated_size, last_mod_time " \   "FROM nodes n " \   "WHERE wc_id = ?1 " \   "  AND (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "  AND presence in ('normal', 'incomplete') " \   "  AND op_depth = (SELECT MAX(op_depth) " \   "                  FROM NODES w " \   "                  WHERE w.wc_id = ?1 " \   "                    AND w.local_relpath = n.local_relpath) " \   "ORDER BY local_relpath DESC " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_NODE_RECURSIVE
value|20
end_define

begin_define
define|#
directive|define
name|STMT_20_INFO
value|{"STMT_DELETE_NODE_RECURSIVE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_20
define|\
value|"DELETE FROM NODES " \   "WHERE wc_id = ?1 " \   "  AND (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_NODE
value|21
end_define

begin_define
define|#
directive|define
name|STMT_21_INFO
value|{"STMT_DELETE_NODE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_21
define|\
value|"DELETE " \   "FROM NODES " \   "WHERE wc_id = ?1 AND local_relpath = ?2 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_ACTUAL_FOR_BASE_RECURSIVE
value|22
end_define

begin_define
define|#
directive|define
name|STMT_22_INFO
value|{"STMT_DELETE_ACTUAL_FOR_BASE_RECURSIVE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_22
define|\
value|"DELETE FROM actual_node " \   "WHERE wc_id = ?1 AND (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "  AND EXISTS(SELECT 1 FROM NODES b " \   "             WHERE b.wc_id = ?1 " \   "               AND b.local_relpath = actual_node.local_relpath " \   "               AND op_depth = 0) " \   "  AND NOT EXISTS(SELECT 1 FROM NODES w " \   "                 WHERE w.wc_id = ?1 " \   "                   AND w.local_relpath = actual_node.local_relpath " \   "                   AND op_depth> 0 " \   "                   AND presence in ('normal', 'incomplete', 'not-present')) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_WORKING_BASE_DELETE
value|23
end_define

begin_define
define|#
directive|define
name|STMT_23_INFO
value|{"STMT_DELETE_WORKING_BASE_DELETE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_23
define|\
value|"DELETE FROM nodes " \   "WHERE wc_id = ?1 AND (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "  AND presence = 'base-deleted' " \   "  AND op_depth> 0 " \   "  AND op_depth = (SELECT MIN(op_depth) FROM nodes n " \   "                    WHERE n.wc_id = ?1 " \   "                      AND n.local_relpath = nodes.local_relpath " \   "                      AND op_depth> 0) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_WORKING_RECURSIVE
value|24
end_define

begin_define
define|#
directive|define
name|STMT_24_INFO
value|{"STMT_DELETE_WORKING_RECURSIVE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_24
define|\
value|"DELETE FROM nodes " \   "WHERE wc_id = ?1 AND (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "  AND op_depth> 0 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_BASE_RECURSIVE
value|25
end_define

begin_define
define|#
directive|define
name|STMT_25_INFO
value|{"STMT_DELETE_BASE_RECURSIVE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_25
define|\
value|"DELETE FROM nodes " \   "WHERE wc_id = ?1 AND (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "  AND op_depth = 0 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_WORKING_OP_DEPTH
value|26
end_define

begin_define
define|#
directive|define
name|STMT_26_INFO
value|{"STMT_DELETE_WORKING_OP_DEPTH", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_26
define|\
value|"DELETE FROM nodes " \   "WHERE wc_id = ?1 " \   "  AND (local_relpath = ?2 OR (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   "  AND op_depth = ?3 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_WORKING_OP_DEPTH_ABOVE
value|27
end_define

begin_define
define|#
directive|define
name|STMT_27_INFO
value|{"STMT_DELETE_WORKING_OP_DEPTH_ABOVE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_27
define|\
value|"DELETE FROM nodes " \   "WHERE wc_id = ?1 " \   "  AND (local_relpath = ?2 OR (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   "  AND op_depth> ?3 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_LOCAL_RELPATH_OP_DEPTH
value|28
end_define

begin_define
define|#
directive|define
name|STMT_28_INFO
value|{"STMT_SELECT_LOCAL_RELPATH_OP_DEPTH", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_28
define|\
value|"SELECT local_relpath " \   "FROM nodes " \   "WHERE wc_id = ?1 " \   "  AND (local_relpath = ?2 OR (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   "  AND op_depth = ?3 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_CHILDREN_OP_DEPTH
value|29
end_define

begin_define
define|#
directive|define
name|STMT_29_INFO
value|{"STMT_SELECT_CHILDREN_OP_DEPTH", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_29
define|\
value|"SELECT local_relpath, kind " \   "FROM nodes " \   "WHERE wc_id = ?1 " \   "  AND (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "  AND op_depth = ?3 " \   "ORDER BY local_relpath DESC " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_COPY_NODE_MOVE
value|30
end_define

begin_define
define|#
directive|define
name|STMT_30_INFO
value|{"STMT_COPY_NODE_MOVE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_30
define|\
value|"INSERT OR REPLACE INTO nodes ( " \   "    wc_id, local_relpath, op_depth, parent_relpath, repos_id, repos_path, " \   "    revision, presence, depth, kind, changed_revision, changed_date, " \   "    changed_author, checksum, properties, translated_size, last_mod_time, " \   "    symlink_target, moved_here, moved_to ) " \   "SELECT " \   "    wc_id, ?4 , ?5 , ?6 , " \   "    repos_id, " \   "    repos_path, revision, presence, depth, kind, changed_revision, " \   "    changed_date, changed_author, checksum, properties, translated_size, " \   "    last_mod_time, symlink_target, 1, " \   "    (SELECT dst.moved_to FROM nodes AS dst " \   "                         WHERE dst.wc_id = ?1 " \   "                         AND dst.local_relpath = ?4 " \   "                         AND dst.op_depth = ?5) " \   "FROM nodes " \   "WHERE wc_id = ?1 AND local_relpath = ?2 AND op_depth = ?3 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_OP_DEPTH_CHILDREN
value|31
end_define

begin_define
define|#
directive|define
name|STMT_31_INFO
value|{"STMT_SELECT_OP_DEPTH_CHILDREN", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_31
define|\
value|"SELECT local_relpath, kind FROM nodes " \   "WHERE wc_id = ?1 " \   "  AND parent_relpath = ?2 " \   "  AND op_depth = ?3 " \   "  AND presence != 'base-deleted' " \   "  AND file_external is NULL " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_GE_OP_DEPTH_CHILDREN
value|32
end_define

begin_define
define|#
directive|define
name|STMT_32_INFO
value|{"STMT_SELECT_GE_OP_DEPTH_CHILDREN", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_32
define|\
value|"SELECT 1 FROM nodes " \   "WHERE wc_id = ?1 AND parent_relpath = ?2 " \   "  AND (op_depth> ?3 OR (op_depth = ?3 AND presence != 'base-deleted')) " \   "UNION ALL " \   "SELECT 1 FROM ACTUAL_NODE a " \   "WHERE wc_id = ?1 AND parent_relpath = ?2 " \   "  AND NOT EXISTS (SELECT 1 FROM nodes n " \   "                   WHERE wc_id = ?1 AND n.local_relpath = a.local_relpath) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_SHADOWED_RECURSIVE
value|33
end_define

begin_define
define|#
directive|define
name|STMT_33_INFO
value|{"STMT_DELETE_SHADOWED_RECURSIVE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_33
define|\
value|"DELETE FROM nodes " \   "WHERE wc_id = ?1 " \   "  AND (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "  AND (op_depth< ?3 " \   "       OR (op_depth = ?3 AND presence = 'base-deleted')) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_CLEAR_MOVED_TO_FROM_DEST
value|34
end_define

begin_define
define|#
directive|define
name|STMT_34_INFO
value|{"STMT_CLEAR_MOVED_TO_FROM_DEST", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_34
define|\
value|"UPDATE NODES SET moved_to = NULL " \   "WHERE wc_id = ?1 " \   "  AND moved_to = ?2 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_NOT_PRESENT_DESCENDANTS
value|35
end_define

begin_define
define|#
directive|define
name|STMT_35_INFO
value|{"STMT_SELECT_NOT_PRESENT_DESCENDANTS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_35
define|\
value|"SELECT local_relpath FROM nodes " \   "WHERE wc_id = ?1 AND op_depth = ?3 " \   "  AND (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "  AND presence = 'not-present' " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_COMMIT_DESCENDANTS_TO_BASE
value|36
end_define

begin_define
define|#
directive|define
name|STMT_36_INFO
value|{"STMT_COMMIT_DESCENDANTS_TO_BASE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_36
define|\
value|"UPDATE NODES SET op_depth = 0, " \   "                 repos_id = ?4, " \   "                 repos_path = ?5 || SUBSTR(local_relpath, LENGTH(?2)+1), " \   "                 revision = ?6, " \   "                 dav_cache = NULL, " \   "                 moved_here = NULL, " \   "                 presence = CASE presence " \   "                              WHEN 'normal' THEN 'normal' " \   "                              WHEN 'excluded' THEN 'excluded' " \   "                              ELSE 'not-present' " \   "                            END " \   "WHERE wc_id = ?1 " \   "  AND (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "  AND op_depth = ?3 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_NODE_CHILDREN
value|37
end_define

begin_define
define|#
directive|define
name|STMT_37_INFO
value|{"STMT_SELECT_NODE_CHILDREN", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_37
define|\
value|"SELECT local_relpath FROM nodes " \   "WHERE wc_id = ?1 AND parent_relpath = ?2 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_WORKING_CHILDREN
value|38
end_define

begin_define
define|#
directive|define
name|STMT_38_INFO
value|{"STMT_SELECT_WORKING_CHILDREN", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_38
define|\
value|"SELECT local_relpath FROM nodes " \   "WHERE wc_id = ?1 AND parent_relpath = ?2 " \   "  AND (op_depth> (SELECT MAX(op_depth) FROM nodes " \   "                   WHERE wc_id = ?1 AND local_relpath = ?2) " \   "       OR " \   "       (op_depth = (SELECT MAX(op_depth) FROM nodes " \   "                    WHERE wc_id = ?1 AND local_relpath = ?2) " \   "        AND presence != 'base-deleted')) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_NODE_PROPS
value|39
end_define

begin_define
define|#
directive|define
name|STMT_39_INFO
value|{"STMT_SELECT_NODE_PROPS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_39
define|\
value|"SELECT properties, presence FROM nodes " \   "WHERE wc_id = ?1 AND local_relpath = ?2 " \   "ORDER BY op_depth DESC " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_ACTUAL_PROPS
value|40
end_define

begin_define
define|#
directive|define
name|STMT_40_INFO
value|{"STMT_SELECT_ACTUAL_PROPS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_40
define|\
value|"SELECT properties FROM actual_node " \   "WHERE wc_id = ?1 AND local_relpath = ?2 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPDATE_ACTUAL_PROPS
value|41
end_define

begin_define
define|#
directive|define
name|STMT_41_INFO
value|{"STMT_UPDATE_ACTUAL_PROPS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_41
define|\
value|"UPDATE actual_node SET properties = ?3 " \   "WHERE wc_id = ?1 AND local_relpath = ?2 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_ACTUAL_PROPS
value|42
end_define

begin_define
define|#
directive|define
name|STMT_42_INFO
value|{"STMT_INSERT_ACTUAL_PROPS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_42
define|\
value|"INSERT INTO actual_node (wc_id, local_relpath, parent_relpath, properties) " \   "VALUES (?1, ?2, ?3, ?4) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_LOCK
value|43
end_define

begin_define
define|#
directive|define
name|STMT_43_INFO
value|{"STMT_INSERT_LOCK", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_43
define|\
value|"INSERT OR REPLACE INTO lock " \   "(repos_id, repos_relpath, lock_token, lock_owner, lock_comment, " \   " lock_date) " \   "VALUES (?1, ?2, ?3, ?4, ?5, ?6) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_BASE_NODE_LOCK_TOKENS_RECURSIVE
value|44
end_define

begin_define
define|#
directive|define
name|STMT_44_INFO
value|{"STMT_SELECT_BASE_NODE_LOCK_TOKENS_RECURSIVE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_44
define|\
value|"SELECT nodes.repos_id, nodes.repos_path, lock_token " \   "FROM nodes " \   "LEFT JOIN lock ON nodes.repos_id = lock.repos_id " \   "  AND nodes.repos_path = lock.repos_relpath " \   "WHERE wc_id = ?1 AND op_depth = 0 " \   "  AND (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_WCROOT
value|45
end_define

begin_define
define|#
directive|define
name|STMT_45_INFO
value|{"STMT_INSERT_WCROOT", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_45
define|\
value|"INSERT INTO wcroot (local_abspath) " \   "VALUES (?1) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPDATE_BASE_NODE_DAV_CACHE
value|46
end_define

begin_define
define|#
directive|define
name|STMT_46_INFO
value|{"STMT_UPDATE_BASE_NODE_DAV_CACHE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_46
define|\
value|"UPDATE nodes SET dav_cache = ?3 " \   "WHERE wc_id = ?1 AND local_relpath = ?2 AND op_depth = 0 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_BASE_DAV_CACHE
value|47
end_define

begin_define
define|#
directive|define
name|STMT_47_INFO
value|{"STMT_SELECT_BASE_DAV_CACHE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_47
define|\
value|"SELECT dav_cache FROM nodes " \   "WHERE wc_id = ?1 AND local_relpath = ?2 AND op_depth = 0 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_DELETION_INFO
value|48
end_define

begin_define
define|#
directive|define
name|STMT_48_INFO
value|{"STMT_SELECT_DELETION_INFO", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_48
define|\
value|"SELECT (SELECT b.presence FROM nodes AS b " \   "         WHERE b.wc_id = ?1 AND b.local_relpath = ?2 AND b.op_depth = 0), " \   "       work.presence, work.op_depth " \   "FROM nodes_current AS work " \   "WHERE work.wc_id = ?1 AND work.local_relpath = ?2 AND work.op_depth> 0 " \   "LIMIT 1 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_DELETION_INFO_SCAN
value|49
end_define

begin_define
define|#
directive|define
name|STMT_49_INFO
value|{"STMT_SELECT_DELETION_INFO_SCAN", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_49
define|\
value|"SELECT (SELECT b.presence FROM nodes AS b " \   "         WHERE b.wc_id = ?1 AND b.local_relpath = ?2 AND b.op_depth = 0), " \   "       work.presence, work.op_depth, moved.moved_to " \   "FROM nodes_current AS work " \   "LEFT OUTER JOIN nodes AS moved " \   "  ON moved.wc_id = work.wc_id " \   " AND moved.local_relpath = work.local_relpath " \   " AND moved.moved_to IS NOT NULL " \   "WHERE work.wc_id = ?1 AND work.local_relpath = ?2 AND work.op_depth> 0 " \   "LIMIT 1 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_OP_DEPTH_MOVED_TO
value|50
end_define

begin_define
define|#
directive|define
name|STMT_50_INFO
value|{"STMT_SELECT_OP_DEPTH_MOVED_TO", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_50
define|\
value|"SELECT op_depth, moved_to, repos_path, revision " \   "FROM nodes " \   "WHERE wc_id = ?1 AND local_relpath = ?2 " \   " AND op_depth<= (SELECT MIN(op_depth) FROM nodes " \   "                  WHERE wc_id = ?1 AND local_relpath = ?2 AND op_depth> ?3) " \   "ORDER BY op_depth DESC " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_MOVED_TO
value|51
end_define

begin_define
define|#
directive|define
name|STMT_51_INFO
value|{"STMT_SELECT_MOVED_TO", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_51
define|\
value|"SELECT moved_to " \   "FROM nodes " \   "WHERE wc_id = ?1 AND local_relpath = ?2 AND op_depth = ?3 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_MOVED_HERE
value|52
end_define

begin_define
define|#
directive|define
name|STMT_52_INFO
value|{"STMT_SELECT_MOVED_HERE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_52
define|\
value|"SELECT moved_here, presence, repos_path, revision " \   "FROM nodes " \   "WHERE wc_id = ?1 AND local_relpath = ?2 AND op_depth>= ?3 " \   "ORDER BY op_depth " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_MOVED_BACK
value|53
end_define

begin_define
define|#
directive|define
name|STMT_53_INFO
value|{"STMT_SELECT_MOVED_BACK", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_53
define|\
value|"SELECT u.local_relpath, " \   "       u.presence, u.repos_id, u.repos_path, u.revision, " \   "       l.presence, l.repos_id, l.repos_path, l.revision, " \   "       u.moved_here, u.moved_to " \   "FROM nodes u " \   "LEFT OUTER JOIN nodes l ON l.wc_id = ?1 " \   "                       AND l.local_relpath = u.local_relpath " \   "                       AND l.op_depth = ?3 " \   "WHERE u.wc_id = ?1 " \   "  AND u.local_relpath = ?2 " \   "  AND u.op_depth = ?4 " \   "UNION ALL " \   "SELECT u.local_relpath, " \   "       u.presence, u.repos_id, u.repos_path, u.revision, " \   "       l.presence, l.repos_id, l.repos_path, l.revision, " \   "       u.moved_here, NULL " \   "FROM nodes u " \   "LEFT OUTER JOIN nodes l ON l.wc_id=?1 " \   "                       AND l.local_relpath=u.local_relpath " \   "                       AND l.op_depth=?3 " \   "WHERE u.wc_id = ?1 " \   "  AND (((u.local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((u.local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "  AND u.op_depth = ?4 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_MOVED_BACK
value|54
end_define

begin_define
define|#
directive|define
name|STMT_54_INFO
value|{"STMT_DELETE_MOVED_BACK", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_54
define|\
value|"DELETE FROM nodes " \   "WHERE wc_id = ?1 " \   "  AND (local_relpath = ?2 " \   "       OR (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   "  AND op_depth = ?3 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_LOCK
value|55
end_define

begin_define
define|#
directive|define
name|STMT_55_INFO
value|{"STMT_DELETE_LOCK", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_55
define|\
value|"DELETE FROM lock " \   "WHERE repos_id = ?1 AND repos_relpath = ?2 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_LOCK_RECURSIVELY
value|56
end_define

begin_define
define|#
directive|define
name|STMT_56_INFO
value|{"STMT_DELETE_LOCK_RECURSIVELY", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_56
define|\
value|"DELETE FROM lock " \   "WHERE repos_id = ?1 AND (repos_relpath = ?2 OR (((repos_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((repos_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_CLEAR_BASE_NODE_RECURSIVE_DAV_CACHE
value|57
end_define

begin_define
define|#
directive|define
name|STMT_57_INFO
value|{"STMT_CLEAR_BASE_NODE_RECURSIVE_DAV_CACHE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_57
define|\
value|"UPDATE nodes SET dav_cache = NULL " \   "WHERE dav_cache IS NOT NULL AND wc_id = ?1 AND op_depth = 0 " \   "  AND (local_relpath = ?2 " \   "       OR (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_RECURSIVE_UPDATE_NODE_REPO
value|58
end_define

begin_define
define|#
directive|define
name|STMT_58_INFO
value|{"STMT_RECURSIVE_UPDATE_NODE_REPO", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_58
define|\
value|"UPDATE nodes SET repos_id = ?4, dav_cache = NULL " \   "WHERE (wc_id = ?1 AND local_relpath = ?2 AND repos_id = ?3) " \   "   OR (wc_id = ?1 AND (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "       AND repos_id = ?3) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPDATE_LOCK_REPOS_ID
value|59
end_define

begin_define
define|#
directive|define
name|STMT_59_INFO
value|{"STMT_UPDATE_LOCK_REPOS_ID", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_59
define|\
value|"UPDATE lock SET repos_id = ?2 " \   "WHERE repos_id = ?1 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPDATE_NODE_FILEINFO
value|60
end_define

begin_define
define|#
directive|define
name|STMT_60_INFO
value|{"STMT_UPDATE_NODE_FILEINFO", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_60
define|\
value|"UPDATE nodes SET translated_size = ?3, last_mod_time = ?4 " \   "WHERE wc_id = ?1 AND local_relpath = ?2 " \   "  AND op_depth = (SELECT MAX(op_depth) FROM nodes " \   "                  WHERE wc_id = ?1 AND local_relpath = ?2) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_ACTUAL_CONFLICT
value|61
end_define

begin_define
define|#
directive|define
name|STMT_61_INFO
value|{"STMT_INSERT_ACTUAL_CONFLICT", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_61
define|\
value|"INSERT INTO actual_node (wc_id, local_relpath, conflict_data, parent_relpath) " \   "VALUES (?1, ?2, ?3, ?4) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPDATE_ACTUAL_CONFLICT
value|62
end_define

begin_define
define|#
directive|define
name|STMT_62_INFO
value|{"STMT_UPDATE_ACTUAL_CONFLICT", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_62
define|\
value|"UPDATE actual_node SET conflict_data = ?3 " \   "WHERE wc_id = ?1 AND local_relpath = ?2 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPDATE_ACTUAL_CHANGELISTS
value|63
end_define

begin_define
define|#
directive|define
name|STMT_63_INFO
value|{"STMT_UPDATE_ACTUAL_CHANGELISTS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_63
define|\
value|"UPDATE actual_node SET changelist = ?3 " \   "WHERE wc_id = ?1 " \   "  AND (local_relpath = ?2 OR (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   "  AND local_relpath = (SELECT local_relpath FROM targets_list AS t " \   "                       WHERE wc_id = ?1 " \   "                         AND t.local_relpath = actual_node.local_relpath " \   "                         AND kind = 'file') " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPDATE_ACTUAL_CLEAR_CHANGELIST
value|64
end_define

begin_define
define|#
directive|define
name|STMT_64_INFO
value|{"STMT_UPDATE_ACTUAL_CLEAR_CHANGELIST", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_64
define|\
value|"UPDATE actual_node SET changelist = NULL " \   " WHERE wc_id = ?1 AND local_relpath = ?2 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_MARK_SKIPPED_CHANGELIST_DIRS
value|65
end_define

begin_define
define|#
directive|define
name|STMT_65_INFO
value|{"STMT_MARK_SKIPPED_CHANGELIST_DIRS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_65
define|\
value|"INSERT INTO changelist_list (wc_id, local_relpath, notify, changelist) " \   "SELECT wc_id, local_relpath, 7, ?3 " \   "FROM targets_list " \   "WHERE wc_id = ?1 " \   "  AND (local_relpath = ?2 OR (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   "  AND kind = 'dir' " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_RESET_ACTUAL_WITH_CHANGELIST
value|66
end_define

begin_define
define|#
directive|define
name|STMT_66_INFO
value|{"STMT_RESET_ACTUAL_WITH_CHANGELIST", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_66
define|\
value|"REPLACE INTO actual_node ( " \   "  wc_id, local_relpath, parent_relpath, changelist) " \   "VALUES (?1, ?2, ?3, ?4) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_CREATE_CHANGELIST_LIST
value|67
end_define

begin_define
define|#
directive|define
name|STMT_67_INFO
value|{"STMT_CREATE_CHANGELIST_LIST", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_67
define|\
value|"DROP TABLE IF EXISTS changelist_list; " \   "CREATE TEMPORARY TABLE changelist_list ( " \   "  wc_id  INTEGER NOT NULL, " \   "  local_relpath TEXT NOT NULL, " \   "  notify INTEGER NOT NULL, " \   "  changelist TEXT NOT NULL, " \   "  PRIMARY KEY (wc_id, local_relpath, notify DESC) " \   ") " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_CREATE_CHANGELIST_TRIGGER
value|68
end_define

begin_define
define|#
directive|define
name|STMT_68_INFO
value|{"STMT_CREATE_CHANGELIST_TRIGGER", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_68
define|\
value|"DROP TRIGGER IF EXISTS   trigger_changelist_list_change; " \   "CREATE TEMPORARY TRIGGER trigger_changelist_list_change " \   "BEFORE UPDATE ON actual_node " \   "WHEN old.changelist IS NOT new.changelist " \   "BEGIN " \   "  INSERT INTO changelist_list(wc_id, local_relpath, notify, changelist) " \   "  SELECT old.wc_id, old.local_relpath, 27, old.changelist " \   "   WHERE old.changelist is NOT NULL; " \   "  INSERT INTO changelist_list(wc_id, local_relpath, notify, changelist) " \   "  SELECT new.wc_id, new.local_relpath, 26, new.changelist " \   "   WHERE new.changelist IS NOT NULL; " \   "END " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_FINALIZE_CHANGELIST
value|69
end_define

begin_define
define|#
directive|define
name|STMT_69_INFO
value|{"STMT_FINALIZE_CHANGELIST", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_69
define|\
value|"DROP TRIGGER trigger_changelist_list_change; " \   "DROP TABLE changelist_list; " \   "DROP TABLE targets_list " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_CHANGELIST_LIST
value|70
end_define

begin_define
define|#
directive|define
name|STMT_70_INFO
value|{"STMT_SELECT_CHANGELIST_LIST", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_70
define|\
value|"SELECT wc_id, local_relpath, notify, changelist " \   "FROM changelist_list " \   "ORDER BY wc_id, local_relpath ASC, notify DESC " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_CREATE_TARGETS_LIST
value|71
end_define

begin_define
define|#
directive|define
name|STMT_71_INFO
value|{"STMT_CREATE_TARGETS_LIST", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_71
define|\
value|"DROP TABLE IF EXISTS targets_list; " \   "CREATE TEMPORARY TABLE targets_list ( " \   "  wc_id  INTEGER NOT NULL, " \   "  local_relpath TEXT NOT NULL, " \   "  parent_relpath TEXT, " \   "  kind TEXT NOT NULL, " \   "  PRIMARY KEY (wc_id, local_relpath) " \   "  ); " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DROP_TARGETS_LIST
value|72
end_define

begin_define
define|#
directive|define
name|STMT_72_INFO
value|{"STMT_DROP_TARGETS_LIST", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_72
define|\
value|"DROP TABLE targets_list " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_TARGET
value|73
end_define

begin_define
define|#
directive|define
name|STMT_73_INFO
value|{"STMT_INSERT_TARGET", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_73
define|\
value|"INSERT INTO targets_list(wc_id, local_relpath, parent_relpath, kind) " \   "SELECT wc_id, local_relpath, parent_relpath, kind " \   "FROM nodes_current " \   "WHERE wc_id = ?1 " \   "  AND local_relpath = ?2 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_TARGET_DEPTH_FILES
value|74
end_define

begin_define
define|#
directive|define
name|STMT_74_INFO
value|{"STMT_INSERT_TARGET_DEPTH_FILES", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_74
define|\
value|"INSERT INTO targets_list(wc_id, local_relpath, parent_relpath, kind) " \   "SELECT wc_id, local_relpath, parent_relpath, kind " \   "FROM nodes_current " \   "WHERE wc_id = ?1 " \   "  AND parent_relpath = ?2 " \   "  AND kind = 'file' " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_TARGET_DEPTH_IMMEDIATES
value|75
end_define

begin_define
define|#
directive|define
name|STMT_75_INFO
value|{"STMT_INSERT_TARGET_DEPTH_IMMEDIATES", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_75
define|\
value|"INSERT INTO targets_list(wc_id, local_relpath, parent_relpath, kind) " \   "SELECT wc_id, local_relpath, parent_relpath, kind " \   "FROM nodes_current " \   "WHERE wc_id = ?1 " \   "  AND parent_relpath = ?2 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_TARGET_DEPTH_INFINITY
value|76
end_define

begin_define
define|#
directive|define
name|STMT_76_INFO
value|{"STMT_INSERT_TARGET_DEPTH_INFINITY", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_76
define|\
value|"INSERT INTO targets_list(wc_id, local_relpath, parent_relpath, kind) " \   "SELECT wc_id, local_relpath, parent_relpath, kind " \   "FROM nodes_current " \   "WHERE wc_id = ?1 " \   "  AND (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_TARGET_WITH_CHANGELIST
value|77
end_define

begin_define
define|#
directive|define
name|STMT_77_INFO
value|{"STMT_INSERT_TARGET_WITH_CHANGELIST", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_77
define|\
value|"INSERT INTO targets_list(wc_id, local_relpath, parent_relpath, kind) " \   "SELECT N.wc_id, N.local_relpath, N.parent_relpath, N.kind " \   "  FROM actual_node AS A JOIN nodes_current AS N " \   "    ON A.wc_id = N.wc_id AND A.local_relpath = N.local_relpath " \   " WHERE N.wc_id = ?1 " \   "   AND N.local_relpath = ?2 " \   "   AND A.changelist = ?3 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_TARGET_WITH_CHANGELIST_DEPTH_FILES
value|78
end_define

begin_define
define|#
directive|define
name|STMT_78_INFO
value|{"STMT_INSERT_TARGET_WITH_CHANGELIST_DEPTH_FILES", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_78
define|\
value|"INSERT INTO targets_list(wc_id, local_relpath, parent_relpath, kind) " \   "SELECT N.wc_id, N.local_relpath, N.parent_relpath, N.kind " \   "  FROM actual_node AS A JOIN nodes_current AS N " \   "    ON A.wc_id = N.wc_id AND A.local_relpath = N.local_relpath " \   " WHERE N.wc_id = ?1 " \   "   AND N.parent_relpath = ?2 " \   "   AND kind = 'file' " \   "   AND A.changelist = ?3 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_TARGET_WITH_CHANGELIST_DEPTH_IMMEDIATES
value|79
end_define

begin_define
define|#
directive|define
name|STMT_79_INFO
value|{"STMT_INSERT_TARGET_WITH_CHANGELIST_DEPTH_IMMEDIATES", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_79
define|\
value|"INSERT INTO targets_list(wc_id, local_relpath, parent_relpath, kind) " \   "SELECT N.wc_id, N.local_relpath, N.parent_relpath, N.kind " \   "  FROM actual_node AS A JOIN nodes_current AS N " \   "    ON A.wc_id = N.wc_id AND A.local_relpath = N.local_relpath " \   " WHERE N.wc_id = ?1 " \   "   AND N.parent_relpath = ?2 " \   "  AND A.changelist = ?3 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_TARGET_WITH_CHANGELIST_DEPTH_INFINITY
value|80
end_define

begin_define
define|#
directive|define
name|STMT_80_INFO
value|{"STMT_INSERT_TARGET_WITH_CHANGELIST_DEPTH_INFINITY", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_80
define|\
value|"INSERT INTO targets_list(wc_id, local_relpath, parent_relpath, kind) " \   "SELECT N.wc_id, N.local_relpath, N.parent_relpath, N.kind " \   "  FROM actual_node AS A JOIN nodes_current AS N " \   "    ON A.wc_id = N.wc_id AND A.local_relpath = N.local_relpath " \   " WHERE N.wc_id = ?1 " \   "   AND (((N.local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((N.local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "   AND A.changelist = ?3 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_ACTUAL_EMPTIES
value|81
end_define

begin_define
define|#
directive|define
name|STMT_81_INFO
value|{"STMT_INSERT_ACTUAL_EMPTIES", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_81
define|\
value|"INSERT OR IGNORE INTO actual_node ( " \   "     wc_id, local_relpath, parent_relpath) " \   "SELECT wc_id, local_relpath, parent_relpath " \   "FROM targets_list " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_ACTUAL_EMPTY
value|82
end_define

begin_define
define|#
directive|define
name|STMT_82_INFO
value|{"STMT_DELETE_ACTUAL_EMPTY", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_82
define|\
value|"DELETE FROM actual_node " \   "WHERE wc_id = ?1 AND local_relpath = ?2 " \   "  AND properties IS NULL " \   "  AND conflict_data IS NULL " \   "  AND changelist IS NULL " \   "  AND text_mod IS NULL " \   "  AND older_checksum IS NULL " \   "  AND right_checksum IS NULL " \   "  AND left_checksum IS NULL " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_ACTUAL_EMPTIES
value|83
end_define

begin_define
define|#
directive|define
name|STMT_83_INFO
value|{"STMT_DELETE_ACTUAL_EMPTIES", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_83
define|\
value|"DELETE FROM actual_node " \   "WHERE wc_id = ?1 " \   "  AND (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "  AND properties IS NULL " \   "  AND conflict_data IS NULL " \   "  AND changelist IS NULL " \   "  AND text_mod IS NULL " \   "  AND older_checksum IS NULL " \   "  AND right_checksum IS NULL " \   "  AND left_checksum IS NULL " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_BASE_NODE
value|84
end_define

begin_define
define|#
directive|define
name|STMT_84_INFO
value|{"STMT_DELETE_BASE_NODE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_84
define|\
value|"DELETE FROM nodes " \   "WHERE wc_id = ?1 AND local_relpath = ?2 AND op_depth = 0 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_WORKING_NODE
value|85
end_define

begin_define
define|#
directive|define
name|STMT_85_INFO
value|{"STMT_DELETE_WORKING_NODE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_85
define|\
value|"DELETE FROM nodes " \   "WHERE wc_id = ?1 AND local_relpath = ?2 " \   "  AND op_depth = (SELECT MAX(op_depth) FROM nodes " \   "                  WHERE wc_id = ?1 AND local_relpath = ?2 AND op_depth> 0) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_LOWEST_WORKING_NODE
value|86
end_define

begin_define
define|#
directive|define
name|STMT_86_INFO
value|{"STMT_DELETE_LOWEST_WORKING_NODE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_86
define|\
value|"DELETE FROM nodes " \   "WHERE wc_id = ?1 AND local_relpath = ?2 " \   "  AND op_depth = (SELECT MIN(op_depth) FROM nodes " \   "                  WHERE wc_id = ?1 AND local_relpath = ?2 AND op_depth> ?3) " \   "  AND presence = 'base-deleted' " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_ALL_LAYERS
value|87
end_define

begin_define
define|#
directive|define
name|STMT_87_INFO
value|{"STMT_DELETE_ALL_LAYERS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_87
define|\
value|"DELETE FROM nodes " \   "WHERE wc_id = ?1 AND local_relpath = ?2 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_NODES_ABOVE_DEPTH_RECURSIVE
value|88
end_define

begin_define
define|#
directive|define
name|STMT_88_INFO
value|{"STMT_DELETE_NODES_ABOVE_DEPTH_RECURSIVE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_88
define|\
value|"DELETE FROM nodes " \   "WHERE wc_id = ?1 " \   "  AND (local_relpath = ?2 " \   "       OR (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   "  AND op_depth>= ?3 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_ACTUAL_NODE
value|89
end_define

begin_define
define|#
directive|define
name|STMT_89_INFO
value|{"STMT_DELETE_ACTUAL_NODE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_89
define|\
value|"DELETE FROM actual_node " \   "WHERE wc_id = ?1 AND local_relpath = ?2 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_ACTUAL_NODE_RECURSIVE
value|90
end_define

begin_define
define|#
directive|define
name|STMT_90_INFO
value|{"STMT_DELETE_ACTUAL_NODE_RECURSIVE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_90
define|\
value|"DELETE FROM actual_node " \   "WHERE wc_id = ?1 " \   "  AND (local_relpath = ?2 " \   "       OR (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_ACTUAL_NODE_LEAVING_CHANGELIST
value|91
end_define

begin_define
define|#
directive|define
name|STMT_91_INFO
value|{"STMT_DELETE_ACTUAL_NODE_LEAVING_CHANGELIST", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_91
define|\
value|"DELETE FROM actual_node " \   "WHERE wc_id = ?1 " \   "  AND local_relpath = ?2 " \   "  AND (changelist IS NULL " \   "       OR NOT EXISTS (SELECT 1 FROM nodes_current c " \   "                      WHERE c.wc_id = ?1 AND c.local_relpath = ?2 " \   "                        AND c.kind = 'file')) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_ACTUAL_NODE_LEAVING_CHANGELIST_RECURSIVE
value|92
end_define

begin_define
define|#
directive|define
name|STMT_92_INFO
value|{"STMT_DELETE_ACTUAL_NODE_LEAVING_CHANGELIST_RECURSIVE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_92
define|\
value|"DELETE FROM actual_node " \   "WHERE wc_id = ?1 " \   "  AND (local_relpath = ?2 " \   "       OR (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   "  AND (changelist IS NULL " \   "       OR NOT EXISTS (SELECT 1 FROM nodes_current c " \   "                      WHERE c.wc_id = ?1 " \   "                        AND c.local_relpath = actual_node.local_relpath " \   "                        AND c.kind = 'file')) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_CLEAR_ACTUAL_NODE_LEAVING_CHANGELIST
value|93
end_define

begin_define
define|#
directive|define
name|STMT_93_INFO
value|{"STMT_CLEAR_ACTUAL_NODE_LEAVING_CHANGELIST", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_93
define|\
value|"UPDATE actual_node " \   "SET properties = NULL, " \   "    text_mod = NULL, " \   "    conflict_data = NULL, " \   "    tree_conflict_data = NULL, " \   "    older_checksum = NULL, " \   "    left_checksum = NULL, " \   "    right_checksum = NULL " \   "WHERE wc_id = ?1 AND local_relpath = ?2 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_CLEAR_ACTUAL_NODE_LEAVING_CHANGELIST_RECURSIVE
value|94
end_define

begin_define
define|#
directive|define
name|STMT_94_INFO
value|{"STMT_CLEAR_ACTUAL_NODE_LEAVING_CHANGELIST_RECURSIVE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_94
define|\
value|"UPDATE actual_node " \   "SET properties = NULL, " \   "    text_mod = NULL, " \   "    conflict_data = NULL, " \   "    tree_conflict_data = NULL, " \   "    older_checksum = NULL, " \   "    left_checksum = NULL, " \   "    right_checksum = NULL " \   "WHERE wc_id = ?1 " \   "  AND (local_relpath = ?2 " \   "       OR (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPDATE_NODE_BASE_DEPTH
value|95
end_define

begin_define
define|#
directive|define
name|STMT_95_INFO
value|{"STMT_UPDATE_NODE_BASE_DEPTH", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_95
define|\
value|"UPDATE nodes SET depth = ?3 " \   "WHERE wc_id = ?1 AND local_relpath = ?2 AND op_depth = 0 " \   "  AND kind='dir' " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPDATE_NODE_BASE_PRESENCE
value|96
end_define

begin_define
define|#
directive|define
name|STMT_96_INFO
value|{"STMT_UPDATE_NODE_BASE_PRESENCE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_96
define|\
value|"UPDATE nodes SET presence = ?3 " \   "WHERE wc_id = ?1 AND local_relpath = ?2 AND op_depth = 0 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPDATE_BASE_NODE_PRESENCE_REVNUM_AND_REPOS_PATH
value|97
end_define

begin_define
define|#
directive|define
name|STMT_97_INFO
value|{"STMT_UPDATE_BASE_NODE_PRESENCE_REVNUM_AND_REPOS_PATH", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_97
define|\
value|"UPDATE nodes SET presence = ?3, revision = ?4, repos_path = ?5 " \   "WHERE wc_id = ?1 AND local_relpath = ?2 AND op_depth = 0 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_LOOK_FOR_WORK
value|98
end_define

begin_define
define|#
directive|define
name|STMT_98_INFO
value|{"STMT_LOOK_FOR_WORK", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_98
define|\
value|"SELECT id FROM work_queue LIMIT 1 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_WORK_ITEM
value|99
end_define

begin_define
define|#
directive|define
name|STMT_99_INFO
value|{"STMT_INSERT_WORK_ITEM", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_99
define|\
value|"INSERT INTO work_queue (work) VALUES (?1) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_WORK_ITEM
value|100
end_define

begin_define
define|#
directive|define
name|STMT_100_INFO
value|{"STMT_SELECT_WORK_ITEM", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_100
define|\
value|"SELECT id, work FROM work_queue ORDER BY id LIMIT 1 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_WORK_ITEM
value|101
end_define

begin_define
define|#
directive|define
name|STMT_101_INFO
value|{"STMT_DELETE_WORK_ITEM", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_101
define|\
value|"DELETE FROM work_queue WHERE id = ?1 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_OR_IGNORE_PRISTINE
value|102
end_define

begin_define
define|#
directive|define
name|STMT_102_INFO
value|{"STMT_INSERT_OR_IGNORE_PRISTINE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_102
define|\
value|"INSERT OR IGNORE INTO pristine (checksum, md5_checksum, size, refcount) " \   "VALUES (?1, ?2, ?3, 0) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_PRISTINE
value|103
end_define

begin_define
define|#
directive|define
name|STMT_103_INFO
value|{"STMT_INSERT_PRISTINE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_103
define|\
value|"INSERT INTO pristine (checksum, md5_checksum, size, refcount) " \   "VALUES (?1, ?2, ?3, 0) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_PRISTINE
value|104
end_define

begin_define
define|#
directive|define
name|STMT_104_INFO
value|{"STMT_SELECT_PRISTINE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_104
define|\
value|"SELECT md5_checksum " \   "FROM pristine " \   "WHERE checksum = ?1 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_PRISTINE_SIZE
value|105
end_define

begin_define
define|#
directive|define
name|STMT_105_INFO
value|{"STMT_SELECT_PRISTINE_SIZE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_105
define|\
value|"SELECT size " \   "FROM pristine " \   "WHERE checksum = ?1 LIMIT 1 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_PRISTINE_BY_MD5
value|106
end_define

begin_define
define|#
directive|define
name|STMT_106_INFO
value|{"STMT_SELECT_PRISTINE_BY_MD5", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_106
define|\
value|"SELECT checksum " \   "FROM pristine " \   "WHERE md5_checksum = ?1 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_UNREFERENCED_PRISTINES
value|107
end_define

begin_define
define|#
directive|define
name|STMT_107_INFO
value|{"STMT_SELECT_UNREFERENCED_PRISTINES", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_107
define|\
value|"SELECT checksum " \   "FROM pristine " \   "WHERE refcount = 0 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_PRISTINE_IF_UNREFERENCED
value|108
end_define

begin_define
define|#
directive|define
name|STMT_108_INFO
value|{"STMT_DELETE_PRISTINE_IF_UNREFERENCED", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_108
define|\
value|"DELETE FROM pristine " \   "WHERE checksum = ?1 AND refcount = 0 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_COPY_PRISTINES
value|109
end_define

begin_define
define|#
directive|define
name|STMT_109_INFO
value|{"STMT_SELECT_COPY_PRISTINES", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_109
define|\
value|"SELECT n.checksum, md5_checksum, size " \   "FROM nodes_current n " \   "LEFT JOIN pristine p ON n.checksum = p.checksum " \   "WHERE wc_id = ?1 " \   "  AND n.local_relpath = ?2 " \   "  AND n.checksum IS NOT NULL " \   "UNION ALL " \   "SELECT n.checksum, md5_checksum, size " \   "FROM nodes n " \   "LEFT JOIN pristine p ON n.checksum = p.checksum " \   "WHERE wc_id = ?1 " \   "  AND (((n.local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((n.local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "  AND op_depth>= " \   "      (SELECT MAX(op_depth) FROM nodes WHERE wc_id = ?1 AND local_relpath = ?2) " \   "  AND n.checksum IS NOT NULL " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_VACUUM
value|110
end_define

begin_define
define|#
directive|define
name|STMT_110_INFO
value|{"STMT_VACUUM", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_110
define|\
value|"VACUUM " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_CONFLICT_VICTIMS
value|111
end_define

begin_define
define|#
directive|define
name|STMT_111_INFO
value|{"STMT_SELECT_CONFLICT_VICTIMS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_111
define|\
value|"SELECT local_relpath, conflict_data " \   "FROM actual_node " \   "WHERE wc_id = ?1 AND parent_relpath = ?2 AND " \   "  NOT (conflict_data IS NULL) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_WC_LOCK
value|112
end_define

begin_define
define|#
directive|define
name|STMT_112_INFO
value|{"STMT_INSERT_WC_LOCK", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_112
define|\
value|"INSERT INTO wc_lock (wc_id, local_dir_relpath, locked_levels) " \   "VALUES (?1, ?2, ?3) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_WC_LOCK
value|113
end_define

begin_define
define|#
directive|define
name|STMT_113_INFO
value|{"STMT_SELECT_WC_LOCK", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_113
define|\
value|"SELECT locked_levels FROM wc_lock " \   "WHERE wc_id = ?1 AND local_dir_relpath = ?2 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_ANCESTOR_WCLOCKS
value|114
end_define

begin_define
define|#
directive|define
name|STMT_114_INFO
value|{"STMT_SELECT_ANCESTOR_WCLOCKS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_114
define|\
value|"SELECT local_dir_relpath, locked_levels FROM wc_lock " \   "WHERE wc_id = ?1 " \   "  AND ((local_dir_relpath>= ?3 AND local_dir_relpath<= ?2) " \   "       OR local_dir_relpath = '') " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_WC_LOCK
value|115
end_define

begin_define
define|#
directive|define
name|STMT_115_INFO
value|{"STMT_DELETE_WC_LOCK", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_115
define|\
value|"DELETE FROM wc_lock " \   "WHERE wc_id = ?1 AND local_dir_relpath = ?2 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_FIND_WC_LOCK
value|116
end_define

begin_define
define|#
directive|define
name|STMT_116_INFO
value|{"STMT_FIND_WC_LOCK", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_116
define|\
value|"SELECT local_dir_relpath FROM wc_lock " \   "WHERE wc_id = ?1 " \   "  AND (((local_dir_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_dir_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_WC_LOCK_ORPHAN
value|117
end_define

begin_define
define|#
directive|define
name|STMT_117_INFO
value|{"STMT_DELETE_WC_LOCK_ORPHAN", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_117
define|\
value|"DELETE FROM wc_lock " \   "WHERE wc_id = ?1 AND local_dir_relpath = ?2 " \   "AND NOT EXISTS (SELECT 1 FROM nodes " \   "                 WHERE nodes.wc_id = ?1 " \   "                   AND nodes.local_relpath = wc_lock.local_dir_relpath) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_WC_LOCK_ORPHAN_RECURSIVE
value|118
end_define

begin_define
define|#
directive|define
name|STMT_118_INFO
value|{"STMT_DELETE_WC_LOCK_ORPHAN_RECURSIVE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_118
define|\
value|"DELETE FROM wc_lock " \   "WHERE wc_id = ?1 " \   "  AND (local_dir_relpath = ?2 " \   "       OR (((local_dir_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_dir_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   "  AND NOT EXISTS (SELECT 1 FROM nodes " \   "                   WHERE nodes.wc_id = ?1 " \   "                     AND nodes.local_relpath = wc_lock.local_dir_relpath) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_APPLY_CHANGES_TO_BASE_NODE
value|119
end_define

begin_define
define|#
directive|define
name|STMT_119_INFO
value|{"STMT_APPLY_CHANGES_TO_BASE_NODE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_119
define|\
value|"INSERT OR REPLACE INTO nodes ( " \   "  wc_id, local_relpath, op_depth, parent_relpath, repos_id, repos_path, " \   "  revision, presence, depth, kind, changed_revision, changed_date, " \   "  changed_author, checksum, properties, dav_cache, symlink_target, " \   "  inherited_props, file_external ) " \   "VALUES (?1, ?2, 0, " \   "        ?3, ?4, ?5, ?6, ?7, ?8, ?9, ?10, ?11, ?12, ?13, ?14, ?15, ?16, ?17, " \   "        (SELECT file_external FROM nodes " \   "          WHERE wc_id = ?1 " \   "            AND local_relpath = ?2 " \   "            AND op_depth = 0)) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSTALL_WORKING_NODE_FOR_DELETE
value|120
end_define

begin_define
define|#
directive|define
name|STMT_120_INFO
value|{"STMT_INSTALL_WORKING_NODE_FOR_DELETE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_120
define|\
value|"INSERT OR REPLACE INTO nodes ( " \   "    wc_id, local_relpath, op_depth, " \   "    parent_relpath, presence, kind) " \   "VALUES(?1, ?2, ?3, ?4, 'base-deleted', ?5) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_NO_LOWER_LAYER
value|121
end_define

begin_define
define|#
directive|define
name|STMT_121_INFO
value|{"STMT_DELETE_NO_LOWER_LAYER", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_121
define|\
value|"DELETE FROM nodes " \   " WHERE wc_id = ?1 " \   "   AND (local_relpath = ?2 OR (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   "   AND op_depth = ?3 " \   "   AND NOT EXISTS (SELECT 1 FROM nodes n " \   "                    WHERE n.wc_id = ?1 " \   "                    AND n.local_relpath = nodes.local_relpath " \   "                    AND n.op_depth = ?4 " \   "                    AND n.presence IN ('normal', 'incomplete')) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_REPLACE_WITH_BASE_DELETED
value|122
end_define

begin_define
define|#
directive|define
name|STMT_122_INFO
value|{"STMT_REPLACE_WITH_BASE_DELETED", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_122
define|\
value|"INSERT OR REPLACE INTO nodes (wc_id, local_relpath, op_depth, parent_relpath, " \   "                              kind, moved_to, presence) " \   "SELECT wc_id, local_relpath, op_depth, parent_relpath, " \   "       kind, moved_to, 'base-deleted' " \   "  FROM nodes " \   " WHERE wc_id = ?1 " \   "   AND (local_relpath = ?2 OR (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   "   AND op_depth = ?3 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_DELETE_FROM_NODE_RECURSIVE
value|123
end_define

begin_define
define|#
directive|define
name|STMT_123_INFO
value|{"STMT_INSERT_DELETE_FROM_NODE_RECURSIVE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_123
define|\
value|"INSERT INTO nodes ( " \   "    wc_id, local_relpath, op_depth, parent_relpath, presence, kind) " \   "SELECT wc_id, local_relpath, ?4 , parent_relpath, 'base-deleted', " \   "       kind " \   "FROM nodes " \   "WHERE wc_id = ?1 " \   "  AND (local_relpath = ?2 " \   "       OR (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   "  AND op_depth = ?3 " \   "  AND presence NOT IN ('base-deleted', 'not-present', 'excluded', 'server-excluded') " \   "  AND file_external IS NULL " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_WORKING_NODE_FROM_BASE_COPY
value|124
end_define

begin_define
define|#
directive|define
name|STMT_124_INFO
value|{"STMT_INSERT_WORKING_NODE_FROM_BASE_COPY", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_124
define|\
value|"INSERT INTO nodes ( " \   "    wc_id, local_relpath, op_depth, parent_relpath, repos_id, repos_path, " \   "    revision, presence, depth, kind, changed_revision, changed_date, " \   "    changed_author, checksum, properties, translated_size, last_mod_time, " \   "    symlink_target ) " \   "SELECT wc_id, local_relpath, ?3 , parent_relpath, repos_id, " \   "    repos_path, revision, presence, depth, kind, changed_revision, " \   "    changed_date, changed_author, checksum, properties, translated_size, " \   "    last_mod_time, symlink_target " \   "FROM nodes " \   "WHERE wc_id = ?1 AND local_relpath = ?2 AND op_depth = 0 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_DELETE_FROM_BASE
value|125
end_define

begin_define
define|#
directive|define
name|STMT_125_INFO
value|{"STMT_INSERT_DELETE_FROM_BASE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_125
define|\
value|"INSERT INTO nodes ( " \   "    wc_id, local_relpath, op_depth, parent_relpath, presence, kind) " \   "SELECT wc_id, local_relpath, ?3 , parent_relpath, " \   "    'base-deleted', kind " \   "FROM nodes " \   "WHERE wc_id = ?1 AND local_relpath = ?2 AND op_depth = 0 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPDATE_OP_DEPTH_INCREASE_RECURSIVE
value|126
end_define

begin_define
define|#
directive|define
name|STMT_126_INFO
value|{"STMT_UPDATE_OP_DEPTH_INCREASE_RECURSIVE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_126
define|\
value|"UPDATE nodes SET op_depth = ?3 + 1 " \   "WHERE wc_id = ?1 " \   " AND (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   " AND op_depth = ?3 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPDATE_OP_DEPTH_RECURSIVE
value|127
end_define

begin_define
define|#
directive|define
name|STMT_127_INFO
value|{"STMT_UPDATE_OP_DEPTH_RECURSIVE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_127
define|\
value|"UPDATE nodes SET op_depth = ?4, moved_here = NULL " \   "WHERE wc_id = ?1 " \   " AND (local_relpath = ?2 OR (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   " AND op_depth = ?3 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DOES_NODE_EXIST
value|128
end_define

begin_define
define|#
directive|define
name|STMT_128_INFO
value|{"STMT_DOES_NODE_EXIST", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_128
define|\
value|"SELECT 1 FROM nodes WHERE wc_id = ?1 AND local_relpath = ?2 " \   "LIMIT 1 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_HAS_SERVER_EXCLUDED_DESCENDANTS
value|129
end_define

begin_define
define|#
directive|define
name|STMT_129_INFO
value|{"STMT_HAS_SERVER_EXCLUDED_DESCENDANTS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_129
define|\
value|"SELECT local_relpath FROM nodes " \   "WHERE wc_id = ?1 " \   "  AND (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "  AND op_depth = 0 AND presence = 'server-excluded' " \   "LIMIT 1 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_ALL_EXCLUDED_DESCENDANTS
value|130
end_define

begin_define
define|#
directive|define
name|STMT_130_INFO
value|{"STMT_SELECT_ALL_EXCLUDED_DESCENDANTS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_130
define|\
value|"SELECT local_relpath FROM nodes " \   "WHERE wc_id = ?1 " \   "  AND (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "  AND op_depth = 0 " \   "  AND (presence = 'server-excluded' OR presence = 'excluded') " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_WORKING_NODE_COPY_FROM
value|131
end_define

begin_define
define|#
directive|define
name|STMT_131_INFO
value|{"STMT_INSERT_WORKING_NODE_COPY_FROM", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_131
define|\
value|"INSERT OR REPLACE INTO nodes ( " \   "    wc_id, local_relpath, op_depth, parent_relpath, repos_id, " \   "    repos_path, revision, presence, depth, moved_here, kind, changed_revision, " \   "    changed_date, changed_author, checksum, properties, translated_size, " \   "    last_mod_time, symlink_target, moved_to ) " \   "SELECT wc_id, ?3 , ?4 , ?5 , " \   "    repos_id, repos_path, revision, ?6 , depth, " \   "    ?7, kind, changed_revision, changed_date, " \   "    changed_author, checksum, properties, translated_size, " \   "    last_mod_time, symlink_target, " \   "    (SELECT dst.moved_to FROM nodes AS dst " \   "                         WHERE dst.wc_id = ?1 " \   "                         AND dst.local_relpath = ?3 " \   "                         AND dst.op_depth = ?4) " \   "FROM nodes_current " \   "WHERE wc_id = ?1 AND local_relpath = ?2 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_WORKING_NODE_COPY_FROM_DEPTH
value|132
end_define

begin_define
define|#
directive|define
name|STMT_132_INFO
value|{"STMT_INSERT_WORKING_NODE_COPY_FROM_DEPTH", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_132
define|\
value|"INSERT OR REPLACE INTO nodes ( " \   "    wc_id, local_relpath, op_depth, parent_relpath, repos_id, " \   "    repos_path, revision, presence, depth, moved_here, kind, changed_revision, " \   "    changed_date, changed_author, checksum, properties, translated_size, " \   "    last_mod_time, symlink_target, moved_to ) " \   "SELECT wc_id, ?3 , ?4 , ?5 , " \   "    repos_id, repos_path, revision, ?6 , depth, " \   "    ?8 , kind, changed_revision, changed_date, " \   "    changed_author, checksum, properties, translated_size, " \   "    last_mod_time, symlink_target, " \   "    (SELECT dst.moved_to FROM nodes AS dst " \   "                         WHERE dst.wc_id = ?1 " \   "                         AND dst.local_relpath = ?3 " \   "                         AND dst.op_depth = ?4) " \   "FROM nodes " \   "WHERE wc_id = ?1 AND local_relpath = ?2 AND op_depth = ?7 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPDATE_BASE_REVISION
value|133
end_define

begin_define
define|#
directive|define
name|STMT_133_INFO
value|{"STMT_UPDATE_BASE_REVISION", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_133
define|\
value|"UPDATE nodes SET revision = ?3 " \   "WHERE wc_id = ?1 AND local_relpath = ?2 AND op_depth = 0 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPDATE_BASE_REPOS
value|134
end_define

begin_define
define|#
directive|define
name|STMT_134_INFO
value|{"STMT_UPDATE_BASE_REPOS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_134
define|\
value|"UPDATE nodes SET repos_id = ?3, repos_path = ?4 " \   "WHERE wc_id = ?1 AND local_relpath = ?2 AND op_depth = 0 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_ACTUAL_HAS_CHILDREN
value|135
end_define

begin_define
define|#
directive|define
name|STMT_135_INFO
value|{"STMT_ACTUAL_HAS_CHILDREN", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_135
define|\
value|"SELECT 1 FROM actual_node " \   "WHERE wc_id = ?1 AND parent_relpath = ?2 " \   "LIMIT 1 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_EXTERNAL
value|136
end_define

begin_define
define|#
directive|define
name|STMT_136_INFO
value|{"STMT_INSERT_EXTERNAL", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_136
define|\
value|"INSERT OR REPLACE INTO externals ( " \   "    wc_id, local_relpath, parent_relpath, presence, kind, def_local_relpath, " \   "    repos_id, def_repos_relpath, def_operational_revision, def_revision) " \   "VALUES (?1, ?2, ?3, ?4, ?5, ?6, ?7, ?8, ?9, ?10) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_EXTERNAL_INFO
value|137
end_define

begin_define
define|#
directive|define
name|STMT_137_INFO
value|{"STMT_SELECT_EXTERNAL_INFO", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_137
define|\
value|"SELECT presence, kind, def_local_relpath, repos_id, " \   "    def_repos_relpath, def_operational_revision, def_revision " \   "FROM externals WHERE wc_id = ?1 AND local_relpath = ?2 " \   "LIMIT 1 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_FILE_EXTERNALS
value|138
end_define

begin_define
define|#
directive|define
name|STMT_138_INFO
value|{"STMT_DELETE_FILE_EXTERNALS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_138
define|\
value|"DELETE FROM nodes " \   "WHERE wc_id = ?1 " \   "  AND (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "  AND op_depth = 0 " \   "  AND file_external IS NOT NULL " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_FILE_EXTERNAL_REGISTATIONS
value|139
end_define

begin_define
define|#
directive|define
name|STMT_139_INFO
value|{"STMT_DELETE_FILE_EXTERNAL_REGISTATIONS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_139
define|\
value|"DELETE FROM externals " \   "WHERE wc_id = ?1 " \   "  AND (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "  AND kind != 'dir' " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_EXTERNAL_REGISTATIONS
value|140
end_define

begin_define
define|#
directive|define
name|STMT_140_INFO
value|{"STMT_DELETE_EXTERNAL_REGISTATIONS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_140
define|\
value|"DELETE FROM externals " \   "WHERE wc_id = ?1 " \   "  AND (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_COMMITTABLE_EXTERNALS_BELOW
value|141
end_define

begin_define
define|#
directive|define
name|STMT_141_INFO
value|{"STMT_SELECT_COMMITTABLE_EXTERNALS_BELOW", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_141
define|\
value|"SELECT local_relpath, kind, def_repos_relpath, " \   "  (SELECT root FROM repository AS r WHERE r.id = e.repos_id) " \   "FROM externals e " \   "WHERE wc_id = ?1 " \   "  AND (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "  AND def_revision IS NULL " \   "  AND repos_id = (SELECT repos_id " \   "                  FROM nodes AS n " \   "                  WHERE n.wc_id = ?1 " \   "                    AND n.local_relpath = '' " \   "                    AND n.op_depth = 0) " \   "  AND ((kind='dir') " \   "       OR EXISTS (SELECT 1 FROM nodes " \   "                  WHERE nodes.wc_id = e.wc_id " \   "                  AND nodes.local_relpath = e.parent_relpath)) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_COMMITTABLE_EXTERNALS_IMMEDIATELY_BELOW
value|142
end_define

begin_define
define|#
directive|define
name|STMT_142_INFO
value|{"STMT_SELECT_COMMITTABLE_EXTERNALS_IMMEDIATELY_BELOW", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_142
define|\
value|"SELECT local_relpath, kind, def_repos_relpath, " \   "  (SELECT root FROM repository AS r WHERE r.id = e.repos_id) " \   "FROM externals e " \   "WHERE wc_id = ?1 " \   "  AND (((e.local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((e.local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "  AND parent_relpath = ?2 " \   "  AND def_revision IS NULL " \   "  AND repos_id = (SELECT repos_id " \   "                    FROM nodes AS n " \   "                    WHERE n.wc_id = ?1 " \   "                      AND n.local_relpath = '' " \   "                      AND n.op_depth = 0) " \   "  AND ((kind='dir') " \   "       OR EXISTS (SELECT 1 FROM nodes " \   "                  WHERE nodes.wc_id = e.wc_id " \   "                  AND nodes.local_relpath = e.parent_relpath)) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_EXTERNALS_DEFINED
value|143
end_define

begin_define
define|#
directive|define
name|STMT_143_INFO
value|{"STMT_SELECT_EXTERNALS_DEFINED", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_143
define|\
value|"SELECT local_relpath, def_local_relpath " \   "FROM externals " \   "WHERE (wc_id = ?1 AND def_local_relpath = ?2) " \   "   OR (wc_id = ?1 AND (((def_local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((def_local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_EXTERNAL
value|144
end_define

begin_define
define|#
directive|define
name|STMT_144_INFO
value|{"STMT_DELETE_EXTERNAL", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_144
define|\
value|"DELETE FROM externals " \   "WHERE wc_id = ?1 AND local_relpath = ?2 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_EXTERNAL_PROPERTIES
value|145
end_define

begin_define
define|#
directive|define
name|STMT_145_INFO
value|{"STMT_SELECT_EXTERNAL_PROPERTIES", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_145
define|\
value|"SELECT IFNULL((SELECT properties FROM actual_node a " \   "               WHERE a.wc_id = ?1 AND A.local_relpath = n.local_relpath), " \   "              properties), " \   "       local_relpath, depth " \   "FROM nodes_current n " \   "WHERE wc_id = ?1 AND local_relpath = ?2 " \   "  AND kind = 'dir' AND presence IN ('normal', 'incomplete') " \   "UNION ALL " \   "SELECT IFNULL((SELECT properties FROM actual_node a " \   "               WHERE a.wc_id = ?1 AND A.local_relpath = n.local_relpath), " \   "              properties), " \   "       local_relpath, depth " \   "FROM nodes_current n " \   "WHERE wc_id = ?1 AND (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "  AND kind = 'dir' AND presence IN ('normal', 'incomplete') " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_CURRENT_PROPS_RECURSIVE
value|146
end_define

begin_define
define|#
directive|define
name|STMT_146_INFO
value|{"STMT_SELECT_CURRENT_PROPS_RECURSIVE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_146
define|\
value|"SELECT IFNULL((SELECT properties FROM actual_node a " \   "               WHERE a.wc_id = ?1 AND A.local_relpath = n.local_relpath), " \   "              properties), " \   "       local_relpath " \   "FROM nodes_current n " \   "WHERE (wc_id = ?1 AND local_relpath = ?2) " \   "   OR (wc_id = ?1 AND (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_PRAGMA_LOCKING_MODE
value|147
end_define

begin_define
define|#
directive|define
name|STMT_147_INFO
value|{"STMT_PRAGMA_LOCKING_MODE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_147
define|\
value|"PRAGMA locking_mode = exclusive " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_ACTUAL_NODE
value|148
end_define

begin_define
define|#
directive|define
name|STMT_148_INFO
value|{"STMT_INSERT_ACTUAL_NODE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_148
define|\
value|"INSERT OR REPLACE INTO actual_node ( " \   "  wc_id, local_relpath, parent_relpath, properties, changelist, conflict_data) " \   "VALUES (?1, ?2, ?3, ?4, ?5, ?6) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPDATE_ACTUAL_CONFLICT_DATA
value|149
end_define

begin_define
define|#
directive|define
name|STMT_149_INFO
value|{"STMT_UPDATE_ACTUAL_CONFLICT_DATA", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_149
define|\
value|"UPDATE actual_node SET conflict_data = ?3 " \   "WHERE wc_id = ?1 AND local_relpath = ?2 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_ACTUAL_CONFLICT_DATA
value|150
end_define

begin_define
define|#
directive|define
name|STMT_150_INFO
value|{"STMT_INSERT_ACTUAL_CONFLICT_DATA", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_150
define|\
value|"INSERT INTO actual_node (wc_id, local_relpath, conflict_data, parent_relpath) " \   "VALUES (?1, ?2, ?3, ?4) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_ALL_FILES
value|151
end_define

begin_define
define|#
directive|define
name|STMT_151_INFO
value|{"STMT_SELECT_ALL_FILES", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_151
define|\
value|"SELECT local_relpath FROM nodes_current " \   "WHERE wc_id = ?1 AND parent_relpath = ?2 AND kind = 'file' " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPDATE_NODE_PROPS
value|152
end_define

begin_define
define|#
directive|define
name|STMT_152_INFO
value|{"STMT_UPDATE_NODE_PROPS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_152
define|\
value|"UPDATE nodes SET properties = ?4 " \   "WHERE wc_id = ?1 AND local_relpath = ?2 AND op_depth = ?3 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_PRAGMA_TABLE_INFO_NODES
value|153
end_define

begin_define
define|#
directive|define
name|STMT_153_INFO
value|{"STMT_PRAGMA_TABLE_INFO_NODES", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_153
define|\
value|"PRAGMA table_info(\"NODES\") " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_CREATE_TARGET_PROP_CACHE
value|154
end_define

begin_define
define|#
directive|define
name|STMT_154_INFO
value|{"STMT_CREATE_TARGET_PROP_CACHE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_154
define|\
value|"DROP TABLE IF EXISTS target_prop_cache; " \   "CREATE TEMPORARY TABLE target_prop_cache ( " \   "  local_relpath TEXT NOT NULL PRIMARY KEY, " \   "  kind TEXT NOT NULL, " \   "  properties BLOB " \   "); " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_CACHE_TARGET_PROPS
value|155
end_define

begin_define
define|#
directive|define
name|STMT_155_INFO
value|{"STMT_CACHE_TARGET_PROPS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_155
define|\
value|"INSERT INTO target_prop_cache(local_relpath, kind, properties) " \   " SELECT n.local_relpath, n.kind, " \   "        IFNULL((SELECT properties FROM actual_node AS a " \   "                 WHERE a.wc_id = n.wc_id " \   "                   AND a.local_relpath = n.local_relpath), " \   "               n.properties) " \   "   FROM targets_list AS t " \   "   JOIN nodes AS n " \   "     ON n.wc_id = ?1 " \   "    AND n.local_relpath = t.local_relpath " \   "    AND n.op_depth = (SELECT MAX(op_depth) FROM nodes AS n3 " \   "                      WHERE n3.wc_id = ?1 " \   "                        AND n3.local_relpath = t.local_relpath) " \   "  WHERE t.wc_id = ?1 " \   "    AND (presence='normal' OR presence='incomplete') " \   "  ORDER BY t.local_relpath " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_CACHE_TARGET_PRISTINE_PROPS
value|156
end_define

begin_define
define|#
directive|define
name|STMT_156_INFO
value|{"STMT_CACHE_TARGET_PRISTINE_PROPS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_156
define|\
value|"INSERT INTO target_prop_cache(local_relpath, kind, properties) " \   " SELECT n.local_relpath, n.kind, " \   "        CASE n.presence " \   "          WHEN 'base-deleted' " \   "          THEN (SELECT properties FROM nodes AS p " \   "                 WHERE p.wc_id = n.wc_id " \   "                   AND p.local_relpath = n.local_relpath " \   "                   AND p.op_depth< n.op_depth " \   "                 ORDER BY p.op_depth DESC ) " \   "          ELSE properties END " \   "  FROM targets_list AS t " \   "  JOIN nodes AS n " \   "    ON n.wc_id = ?1 " \   "   AND n.local_relpath = t.local_relpath " \   "   AND n.op_depth = (SELECT MAX(op_depth) FROM nodes AS n3 " \   "                     WHERE n3.wc_id = ?1 " \   "                       AND n3.local_relpath = t.local_relpath) " \   "  WHERE t.wc_id = ?1 " \   "    AND (presence = 'normal' " \   "         OR presence = 'incomplete' " \   "         OR presence = 'base-deleted') " \   "  ORDER BY t.local_relpath " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_ALL_TARGET_PROP_CACHE
value|157
end_define

begin_define
define|#
directive|define
name|STMT_157_INFO
value|{"STMT_SELECT_ALL_TARGET_PROP_CACHE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_157
define|\
value|"SELECT local_relpath, properties FROM target_prop_cache " \   "ORDER BY local_relpath " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DROP_TARGET_PROP_CACHE
value|158
end_define

begin_define
define|#
directive|define
name|STMT_158_INFO
value|{"STMT_DROP_TARGET_PROP_CACHE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_158
define|\
value|"DROP TABLE target_prop_cache; " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_CREATE_REVERT_LIST
value|159
end_define

begin_define
define|#
directive|define
name|STMT_159_INFO
value|{"STMT_CREATE_REVERT_LIST", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_159
define|\
value|"DROP TABLE IF EXISTS revert_list; " \   "CREATE TEMPORARY TABLE revert_list ( " \   "   local_relpath TEXT NOT NULL, " \   "   actual INTEGER NOT NULL, " \   "   conflict_data BLOB, " \   "   notify INTEGER, " \   "   op_depth INTEGER, " \   "   repos_id INTEGER, " \   "   kind TEXT, " \   "   PRIMARY KEY (local_relpath, actual) " \   "   ); " \   "DROP TRIGGER IF EXISTS   trigger_revert_list_nodes; " \   "CREATE TEMPORARY TRIGGER trigger_revert_list_nodes " \   "BEFORE DELETE ON nodes " \   "BEGIN " \   "   INSERT OR REPLACE INTO revert_list(local_relpath, actual, op_depth, " \   "                                      repos_id, kind) " \   "   SELECT OLD.local_relpath, 0, OLD.op_depth, OLD.repos_id, OLD.kind; " \   "END; " \   "DROP TRIGGER IF EXISTS   trigger_revert_list_actual_delete; " \   "CREATE TEMPORARY TRIGGER trigger_revert_list_actual_delete " \   "BEFORE DELETE ON actual_node " \   "BEGIN " \   "   INSERT OR REPLACE INTO revert_list(local_relpath, actual, conflict_data, " \   "                                      notify) " \   "   SELECT OLD.local_relpath, 1, OLD.conflict_data, " \   "          CASE " \   "            WHEN OLD.properties IS NOT NULL " \   "            THEN 1 " \   "            WHEN NOT EXISTS(SELECT 1 FROM NODES n " \   "                            WHERE n.wc_id = OLD.wc_id " \   "                              AND n.local_relpath = OLD.local_relpath) " \   "            THEN 1 " \   "            ELSE NULL " \   "          END; " \   "END; " \   "DROP TRIGGER IF EXISTS   trigger_revert_list_actual_update; " \   "CREATE TEMPORARY TRIGGER trigger_revert_list_actual_update " \   "BEFORE UPDATE ON actual_node " \   "BEGIN " \   "   INSERT OR REPLACE INTO revert_list(local_relpath, actual, conflict_data, " \   "                                      notify) " \   "   SELECT OLD.local_relpath, 1, OLD.conflict_data, " \   "          CASE " \   "            WHEN OLD.properties IS NOT NULL " \   "            THEN 1 " \   "            WHEN NOT EXISTS(SELECT 1 FROM NODES n " \   "                            WHERE n.wc_id = OLD.wc_id " \   "                              AND n.local_relpath = OLD.local_relpath) " \   "            THEN 1 " \   "            ELSE NULL " \   "          END; " \   "END " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DROP_REVERT_LIST_TRIGGERS
value|160
end_define

begin_define
define|#
directive|define
name|STMT_160_INFO
value|{"STMT_DROP_REVERT_LIST_TRIGGERS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_160
define|\
value|"DROP TRIGGER trigger_revert_list_nodes; " \   "DROP TRIGGER trigger_revert_list_actual_delete; " \   "DROP TRIGGER trigger_revert_list_actual_update " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_REVERT_LIST
value|161
end_define

begin_define
define|#
directive|define
name|STMT_161_INFO
value|{"STMT_SELECT_REVERT_LIST", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_161
define|\
value|"SELECT actual, notify, kind, op_depth, repos_id, conflict_data " \   "FROM revert_list " \   "WHERE local_relpath = ?1 " \   "ORDER BY actual DESC " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_REVERT_LIST_COPIED_CHILDREN
value|162
end_define

begin_define
define|#
directive|define
name|STMT_162_INFO
value|{"STMT_SELECT_REVERT_LIST_COPIED_CHILDREN", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_162
define|\
value|"SELECT local_relpath, kind " \   "FROM revert_list " \   "WHERE (((local_relpath)> (CASE (?1) WHEN '' THEN '' ELSE (?1) || '/' END)) AND ((local_relpath)< CASE (?1) WHEN '' THEN X'FFFF' ELSE (?1) || '0' END)) " \   "  AND op_depth>= ?2 " \   "  AND repos_id IS NOT NULL " \   "ORDER BY local_relpath " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_REVERT_LIST
value|163
end_define

begin_define
define|#
directive|define
name|STMT_163_INFO
value|{"STMT_DELETE_REVERT_LIST", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_163
define|\
value|"DELETE FROM revert_list WHERE local_relpath = ?1 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_REVERT_LIST_RECURSIVE
value|164
end_define

begin_define
define|#
directive|define
name|STMT_164_INFO
value|{"STMT_SELECT_REVERT_LIST_RECURSIVE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_164
define|\
value|"SELECT DISTINCT local_relpath " \   "FROM revert_list " \   "WHERE (local_relpath = ?1 " \   "       OR (((local_relpath)> (CASE (?1) WHEN '' THEN '' ELSE (?1) || '/' END)) AND ((local_relpath)< CASE (?1) WHEN '' THEN X'FFFF' ELSE (?1) || '0' END))) " \   "  AND (notify OR actual = 0) " \   "ORDER BY local_relpath " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DELETE_REVERT_LIST_RECURSIVE
value|165
end_define

begin_define
define|#
directive|define
name|STMT_165_INFO
value|{"STMT_DELETE_REVERT_LIST_RECURSIVE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_165
define|\
value|"DELETE FROM revert_list " \   "WHERE (local_relpath = ?1 " \   "       OR (((local_relpath)> (CASE (?1) WHEN '' THEN '' ELSE (?1) || '/' END)) AND ((local_relpath)< CASE (?1) WHEN '' THEN X'FFFF' ELSE (?1) || '0' END))) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_DROP_REVERT_LIST
value|166
end_define

begin_define
define|#
directive|define
name|STMT_166_INFO
value|{"STMT_DROP_REVERT_LIST", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_166
define|\
value|"DROP TABLE IF EXISTS revert_list " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_CREATE_DELETE_LIST
value|167
end_define

begin_define
define|#
directive|define
name|STMT_167_INFO
value|{"STMT_CREATE_DELETE_LIST", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_167
define|\
value|"DROP TABLE IF EXISTS delete_list; " \   "CREATE TEMPORARY TABLE delete_list ( " \   "   local_relpath TEXT PRIMARY KEY NOT NULL UNIQUE " \   "   ) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_DELETE_LIST
value|168
end_define

begin_define
define|#
directive|define
name|STMT_168_INFO
value|{"STMT_INSERT_DELETE_LIST", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_168
define|\
value|"INSERT INTO delete_list(local_relpath) " \   "SELECT local_relpath FROM nodes AS n " \   "WHERE wc_id = ?1 " \   "  AND (local_relpath = ?2 " \   "       OR (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   "  AND op_depth>= ?3 " \   "  AND op_depth = (SELECT MAX(s.op_depth) FROM nodes AS s " \   "                  WHERE s.wc_id = ?1 " \   "                    AND s.local_relpath = n.local_relpath) " \   "  AND presence NOT IN ('base-deleted', 'not-present', 'excluded', 'server-excluded') " \   "  AND file_external IS NULL " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_DELETE_LIST
value|169
end_define

begin_define
define|#
directive|define
name|STMT_169_INFO
value|{"STMT_SELECT_DELETE_LIST", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_169
define|\
value|"SELECT local_relpath FROM delete_list " \   "ORDER BY local_relpath " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_FINALIZE_DELETE
value|170
end_define

begin_define
define|#
directive|define
name|STMT_170_INFO
value|{"STMT_FINALIZE_DELETE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_170
define|\
value|"DROP TABLE IF EXISTS delete_list " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_CREATE_UPDATE_MOVE_LIST
value|171
end_define

begin_define
define|#
directive|define
name|STMT_171_INFO
value|{"STMT_CREATE_UPDATE_MOVE_LIST", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_171
define|\
value|"DROP TABLE IF EXISTS update_move_list; " \   "CREATE TEMPORARY TABLE update_move_list ( " \   "  local_relpath TEXT PRIMARY KEY NOT NULL UNIQUE, " \   "  action INTEGER NOT NULL, " \   "  kind  INTEGER NOT NULL, " \   "  content_state INTEGER NOT NULL, " \   "  prop_state  INTEGER NOT NULL " \   "  ) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSERT_UPDATE_MOVE_LIST
value|172
end_define

begin_define
define|#
directive|define
name|STMT_172_INFO
value|{"STMT_INSERT_UPDATE_MOVE_LIST", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_172
define|\
value|"INSERT INTO update_move_list(local_relpath, action, kind, content_state, " \   "  prop_state) " \   "VALUES (?1, ?2, ?3, ?4, ?5) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_UPDATE_MOVE_LIST
value|173
end_define

begin_define
define|#
directive|define
name|STMT_173_INFO
value|{"STMT_SELECT_UPDATE_MOVE_LIST", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_173
define|\
value|"SELECT local_relpath, action, kind, content_state, prop_state " \   "FROM update_move_list " \   "ORDER BY local_relpath " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_FINALIZE_UPDATE_MOVE
value|174
end_define

begin_define
define|#
directive|define
name|STMT_174_INFO
value|{"STMT_FINALIZE_UPDATE_MOVE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_174
define|\
value|"DROP TABLE IF EXISTS update_move_list " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_MIN_MAX_REVISIONS
value|175
end_define

begin_define
define|#
directive|define
name|STMT_175_INFO
value|{"STMT_SELECT_MIN_MAX_REVISIONS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_175
define|\
value|"SELECT MIN(revision), MAX(revision), " \   "       MIN(changed_revision), MAX(changed_revision) FROM nodes " \   "  WHERE wc_id = ?1 " \   "    AND (local_relpath = ?2 " \   "         OR (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   "    AND presence IN ('normal', 'incomplete') " \   "    AND file_external IS NULL " \   "    AND op_depth = 0 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_HAS_SPARSE_NODES
value|176
end_define

begin_define
define|#
directive|define
name|STMT_176_INFO
value|{"STMT_HAS_SPARSE_NODES", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_176
define|\
value|"SELECT 1 FROM nodes " \   "WHERE wc_id = ?1 " \   "  AND (local_relpath = ?2 " \   "       OR (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   "  AND op_depth = 0 " \   "  AND (presence IN ('server-excluded', 'excluded') " \   "        OR depth NOT IN ('infinity', 'unknown')) " \   "  AND file_external IS NULL " \   "LIMIT 1 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SUBTREE_HAS_TREE_MODIFICATIONS
value|177
end_define

begin_define
define|#
directive|define
name|STMT_177_INFO
value|{"STMT_SUBTREE_HAS_TREE_MODIFICATIONS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_177
define|\
value|"SELECT 1 FROM nodes " \   "WHERE wc_id = ?1 " \   "  AND (local_relpath = ?2 " \   "       OR (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   "  AND op_depth> 0 " \   "LIMIT 1 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SUBTREE_HAS_PROP_MODIFICATIONS
value|178
end_define

begin_define
define|#
directive|define
name|STMT_178_INFO
value|{"STMT_SUBTREE_HAS_PROP_MODIFICATIONS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_178
define|\
value|"SELECT 1 FROM actual_node " \   "WHERE wc_id = ?1 " \   "  AND (local_relpath = ?2 " \   "       OR (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   "  AND properties IS NOT NULL " \   "LIMIT 1 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_HAS_SWITCHED
value|179
end_define

begin_define
define|#
directive|define
name|STMT_179_INFO
value|{"STMT_HAS_SWITCHED", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_179
define|\
value|"SELECT 1 " \   "FROM nodes " \   "WHERE wc_id = ?1 " \   "  AND (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "  AND op_depth = 0 " \   "  AND file_external IS NULL " \   "  AND presence IN ('normal', 'incomplete') " \   "  AND repos_path IS NOT (CASE WHEN (?2) = '' THEN (CASE WHEN (?3) = '' THEN (local_relpath) WHEN (local_relpath) = '' THEN (?3) ELSE (?3) || '/' || (local_relpath) END) WHEN (?3) = '' THEN (CASE WHEN (?2) = '' THEN (local_relpath)  WHEN SUBSTR((local_relpath), 1, LENGTH(?2)) = (?2)  THEN CASE WHEN LENGTH(?2) = LENGTH(local_relpath) THEN '' WHEN SUBSTR((local_relpath), LENGTH(?2)+1, 1) = '/' THEN SUBSTR((local_relpath), LENGTH(?2)+2) END END) WHEN SUBSTR((local_relpath), 1, LENGTH(?2)) = (?2) THEN CASE WHEN LENGTH(?2) = LENGTH(local_relpath) THEN (?3) WHEN SUBSTR((local_relpath), LENGTH(?2)+1, 1) = '/' THEN (?3) || SUBSTR((local_relpath), LENGTH(?2)+1) END END) " \   "LIMIT 1 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_BASE_FILES_RECURSIVE
value|180
end_define

begin_define
define|#
directive|define
name|STMT_180_INFO
value|{"STMT_SELECT_BASE_FILES_RECURSIVE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_180
define|\
value|"SELECT local_relpath, translated_size, last_mod_time FROM nodes AS n " \   "WHERE wc_id = ?1 " \   "  AND (local_relpath = ?2 " \   "       OR (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   "  AND op_depth = 0 " \   "  AND kind='file' " \   "  AND presence='normal' " \   "  AND file_external IS NULL " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_MOVED_FROM_RELPATH
value|181
end_define

begin_define
define|#
directive|define
name|STMT_181_INFO
value|{"STMT_SELECT_MOVED_FROM_RELPATH", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_181
define|\
value|"SELECT local_relpath, op_depth FROM nodes " \   "WHERE wc_id = ?1 AND moved_to = ?2 AND op_depth> 0 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPDATE_MOVED_TO_RELPATH
value|182
end_define

begin_define
define|#
directive|define
name|STMT_182_INFO
value|{"STMT_UPDATE_MOVED_TO_RELPATH", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_182
define|\
value|"UPDATE nodes SET moved_to = ?4 " \   "WHERE wc_id = ?1 AND local_relpath = ?2 AND op_depth = ?3 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_CLEAR_MOVED_TO_RELPATH
value|183
end_define

begin_define
define|#
directive|define
name|STMT_183_INFO
value|{"STMT_CLEAR_MOVED_TO_RELPATH", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_183
define|\
value|"UPDATE nodes SET moved_to = NULL " \   "WHERE wc_id = ?1 AND local_relpath = ?2 AND op_depth = ?3 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_CLEAR_MOVED_HERE_RECURSIVE
value|184
end_define

begin_define
define|#
directive|define
name|STMT_184_INFO
value|{"STMT_CLEAR_MOVED_HERE_RECURSIVE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_184
define|\
value|"UPDATE nodes SET moved_here = NULL " \   "WHERE wc_id = ?1 " \   " AND (local_relpath = ?2 OR (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   " AND op_depth = ?3 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_MOVED_HERE_CHILDREN
value|185
end_define

begin_define
define|#
directive|define
name|STMT_185_INFO
value|{"STMT_SELECT_MOVED_HERE_CHILDREN", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_185
define|\
value|"SELECT moved_to, local_relpath FROM nodes " \   "WHERE wc_id = ?1 AND op_depth> 0 " \   "  AND (((moved_to)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((moved_to)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_MOVED_FOR_DELETE
value|186
end_define

begin_define
define|#
directive|define
name|STMT_186_INFO
value|{"STMT_SELECT_MOVED_FOR_DELETE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_186
define|\
value|"SELECT local_relpath, moved_to, op_depth FROM nodes " \   "WHERE wc_id = ?1 " \   "  AND (local_relpath = ?2 OR (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   "  AND moved_to IS NOT NULL " \   "  AND op_depth>= (SELECT MAX(op_depth) FROM nodes o " \   "                    WHERE o.wc_id = ?1 " \   "                      AND o.local_relpath = ?2) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPDATE_MOVED_TO_DESCENDANTS
value|187
end_define

begin_define
define|#
directive|define
name|STMT_187_INFO
value|{"STMT_UPDATE_MOVED_TO_DESCENDANTS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_187
define|\
value|"UPDATE nodes SET moved_to = (CASE WHEN (?2) = '' THEN (CASE WHEN (?3) = '' THEN (moved_to) WHEN (moved_to) = '' THEN (?3) ELSE (?3) || '/' || (moved_to) END) WHEN (?3) = '' THEN (CASE WHEN (?2) = '' THEN (moved_to)  WHEN SUBSTR((moved_to), 1, LENGTH(?2)) = (?2)  THEN CASE WHEN LENGTH(?2) = LENGTH(moved_to) THEN '' WHEN SUBSTR((moved_to), LENGTH(?2)+1, 1) = '/' THEN SUBSTR((moved_to), LENGTH(?2)+2) END END) WHEN SUBSTR((moved_to), 1, LENGTH(?2)) = (?2) THEN CASE WHEN LENGTH(?2) = LENGTH(moved_to) THEN (?3) WHEN SUBSTR((moved_to), LENGTH(?2)+1, 1) = '/' THEN (?3) || SUBSTR((moved_to), LENGTH(?2)+1) END END) " \   " WHERE wc_id = ?1 " \   "   AND (((moved_to)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((moved_to)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_CLEAR_MOVED_TO_DESCENDANTS
value|188
end_define

begin_define
define|#
directive|define
name|STMT_188_INFO
value|{"STMT_CLEAR_MOVED_TO_DESCENDANTS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_188
define|\
value|"UPDATE nodes SET moved_to = NULL " \   " WHERE wc_id = ?1 " \   "   AND (((moved_to)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((moved_to)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_MOVED_PAIR2
value|189
end_define

begin_define
define|#
directive|define
name|STMT_189_INFO
value|{"STMT_SELECT_MOVED_PAIR2", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_189
define|\
value|"SELECT local_relpath, moved_to, op_depth FROM nodes " \   "WHERE wc_id = ?1 " \   "  AND (local_relpath = ?2 OR (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   "  AND moved_to IS NOT NULL " \   "  AND NOT (((moved_to)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((moved_to)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "  AND op_depth>= (SELECT MAX(op_depth) FROM nodes o " \   "                    WHERE o.wc_id = ?1 " \   "                      AND o.local_relpath = ?2) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_MOVED_PAIR3
value|190
end_define

begin_define
define|#
directive|define
name|STMT_190_INFO
value|{"STMT_SELECT_MOVED_PAIR3", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_190
define|\
value|"SELECT local_relpath, moved_to, op_depth, kind FROM nodes " \   "WHERE wc_id = ?1 AND local_relpath = ?2 AND op_depth> ?3 " \   "  AND moved_to IS NOT NULL " \   "UNION ALL " \   "SELECT local_relpath, moved_to, op_depth, kind FROM nodes " \   "WHERE wc_id = ?1 " \   "  AND (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "  AND op_depth> ?3 " \   "  AND moved_to IS NOT NULL " \   "ORDER BY local_relpath, op_depth " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_MOVED_OUTSIDE
value|191
end_define

begin_define
define|#
directive|define
name|STMT_191_INFO
value|{"STMT_SELECT_MOVED_OUTSIDE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_191
define|\
value|"SELECT local_relpath, moved_to, op_depth FROM nodes " \   "WHERE wc_id = ?1 " \   "  AND (local_relpath = ?2 OR (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   "  AND op_depth>= ?3 " \   "  AND moved_to IS NOT NULL " \   "  AND NOT (((moved_to)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((moved_to)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_OP_DEPTH_MOVED_PAIR
value|192
end_define

begin_define
define|#
directive|define
name|STMT_192_INFO
value|{"STMT_SELECT_OP_DEPTH_MOVED_PAIR", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_192
define|\
value|"SELECT n.local_relpath, n.moved_to, " \   "       (SELECT o.repos_path FROM nodes AS o " \   "        WHERE o.wc_id = n.wc_id " \   "          AND o.local_relpath = n.local_relpath " \   "          AND o.op_depth< ?3 ORDER BY o.op_depth DESC LIMIT 1) " \   "FROM nodes AS n " \   "WHERE n.wc_id = ?1 " \   "  AND (((n.local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((n.local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "  AND n.op_depth = ?3 " \   "  AND n.moved_to IS NOT NULL " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_MOVED_DESCENDANTS
value|193
end_define

begin_define
define|#
directive|define
name|STMT_193_INFO
value|{"STMT_SELECT_MOVED_DESCENDANTS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_193
define|\
value|"SELECT n.local_relpath, h.moved_to " \   "FROM nodes n, nodes h " \   "WHERE n.wc_id = ?1 " \   "  AND h.wc_id = ?1 " \   "  AND (((n.local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((n.local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "  AND h.local_relpath = n.local_relpath " \   "  AND n.op_depth = ?3 " \   "  AND h.op_depth = (SELECT MIN(o.op_depth) " \   "                    FROM nodes o " \   "                    WHERE o.wc_id = ?1 " \   "                      AND o.local_relpath = n.local_relpath " \   "                      AND o.op_depth> ?3) " \   "  AND h.moved_to IS NOT NULL " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_COMMIT_UPDATE_ORIGIN
value|194
end_define

begin_define
define|#
directive|define
name|STMT_194_INFO
value|{"STMT_COMMIT_UPDATE_ORIGIN", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_194
define|\
value|"UPDATE nodes SET repos_id = ?4, " \   "                 repos_path = ?5 || SUBSTR(local_relpath, LENGTH(?2)+1), " \   "                 revision = ?6 " \   "WHERE wc_id = ?1 " \   "  AND (local_relpath = ?2 " \   "       OR (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END))) " \   "  AND op_depth = ?3 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_HAS_LAYER_BETWEEN
value|195
end_define

begin_define
define|#
directive|define
name|STMT_195_INFO
value|{"STMT_HAS_LAYER_BETWEEN", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_195
define|\
value|"SELECT 1 FROM NODES " \   "WHERE wc_id = ?1 AND local_relpath = ?2 AND op_depth> ?3 AND op_depth< ?4 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_REPOS_PATH_REVISION
value|196
end_define

begin_define
define|#
directive|define
name|STMT_196_INFO
value|{"STMT_SELECT_REPOS_PATH_REVISION", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_196
define|\
value|"SELECT local_relpath, repos_path, revision FROM nodes " \   "WHERE wc_id = ?1 " \   "  AND (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "  AND op_depth = 0 " \   "ORDER BY local_relpath " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_HAS_NON_FILE_CHILDREN
value|197
end_define

begin_define
define|#
directive|define
name|STMT_197_INFO
value|{"STMT_SELECT_HAS_NON_FILE_CHILDREN", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_197
define|\
value|"SELECT 1 FROM nodes " \   "WHERE wc_id = ?1 AND parent_relpath = ?2 AND op_depth = 0 AND kind != 'file' " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_HAS_GRANDCHILDREN
value|198
end_define

begin_define
define|#
directive|define
name|STMT_198_INFO
value|{"STMT_SELECT_HAS_GRANDCHILDREN", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_198
define|\
value|"SELECT 1 FROM nodes " \   "WHERE wc_id = ?1 " \   "  AND (((parent_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((parent_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "  AND op_depth = 0 " \   "  AND file_external IS NULL " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_ALL_NODES
value|199
end_define

begin_define
define|#
directive|define
name|STMT_199_INFO
value|{"STMT_SELECT_ALL_NODES", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_199
define|\
value|"SELECT op_depth, local_relpath, parent_relpath, file_external FROM nodes " \   "WHERE wc_id = ?1 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_IPROPS
value|200
end_define

begin_define
define|#
directive|define
name|STMT_200_INFO
value|{"STMT_SELECT_IPROPS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_200
define|\
value|"SELECT inherited_props FROM nodes " \   "WHERE wc_id = ?1 " \   "  AND local_relpath = ?2 " \   "  AND op_depth = 0 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPDATE_IPROP
value|201
end_define

begin_define
define|#
directive|define
name|STMT_201_INFO
value|{"STMT_UPDATE_IPROP", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_201
define|\
value|"UPDATE nodes " \   "SET inherited_props = ?3 " \   "WHERE (wc_id = ?1 AND local_relpath = ?2 AND op_depth = 0) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_IPROPS_NODE
value|202
end_define

begin_define
define|#
directive|define
name|STMT_202_INFO
value|{"STMT_SELECT_IPROPS_NODE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_202
define|\
value|"SELECT local_relpath, repos_path FROM nodes " \   "WHERE wc_id = ?1 " \   "  AND local_relpath = ?2 " \   "  AND op_depth = 0 " \   "  AND (inherited_props not null) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_IPROPS_RECURSIVE
value|203
end_define

begin_define
define|#
directive|define
name|STMT_203_INFO
value|{"STMT_SELECT_IPROPS_RECURSIVE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_203
define|\
value|"SELECT local_relpath, repos_path FROM nodes " \   "WHERE wc_id = ?1 " \   "  AND (((local_relpath)> (CASE (?2) WHEN '' THEN '' ELSE (?2) || '/' END)) AND ((local_relpath)< CASE (?2) WHEN '' THEN X'FFFF' ELSE (?2) || '0' END)) " \   "  AND op_depth = 0 " \   "  AND (inherited_props not null) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_SELECT_IPROPS_CHILDREN
value|204
end_define

begin_define
define|#
directive|define
name|STMT_204_INFO
value|{"STMT_SELECT_IPROPS_CHILDREN", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_204
define|\
value|"SELECT local_relpath, repos_path FROM nodes " \   "WHERE wc_id = ?1 " \   "  AND parent_relpath = ?2 " \   "  AND op_depth = 0 " \   "  AND (inherited_props not null) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_CREATE_SCHEMA
value|205
end_define

begin_define
define|#
directive|define
name|STMT_205_INFO
value|{"STMT_CREATE_SCHEMA", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_205
define|\
value|"CREATE TABLE REPOSITORY ( " \   "  id INTEGER PRIMARY KEY AUTOINCREMENT, " \   "  root  TEXT UNIQUE NOT NULL, " \   "  uuid  TEXT NOT NULL " \   "  ); " \   "CREATE INDEX I_UUID ON REPOSITORY (uuid); " \   "CREATE INDEX I_ROOT ON REPOSITORY (root); " \   "CREATE TABLE WCROOT ( " \   "  id  INTEGER PRIMARY KEY AUTOINCREMENT, " \   "  local_abspath  TEXT UNIQUE " \   "  ); " \   "CREATE UNIQUE INDEX I_LOCAL_ABSPATH ON WCROOT (local_abspath); " \   "CREATE TABLE PRISTINE ( " \   "  checksum  TEXT NOT NULL PRIMARY KEY, " \   "  compression  INTEGER, " \   "  size  INTEGER NOT NULL, " \   "  refcount  INTEGER NOT NULL, " \   "  md5_checksum  TEXT NOT NULL " \   "  ); " \   "CREATE INDEX I_PRISTINE_MD5 ON PRISTINE (md5_checksum); " \   "CREATE TABLE ACTUAL_NODE ( " \   "  wc_id  INTEGER NOT NULL REFERENCES WCROOT (id), " \   "  local_relpath  TEXT NOT NULL, " \   "  parent_relpath  TEXT, " \   "  properties  BLOB, " \   "  conflict_old  TEXT, " \   "  conflict_new  TEXT, " \   "  conflict_working  TEXT, " \   "  prop_reject  TEXT, " \   "  changelist  TEXT, " \   "  text_mod  TEXT, " \   "  tree_conflict_data  TEXT, " \   "  conflict_data  BLOB, " \   "  older_checksum  TEXT REFERENCES PRISTINE (checksum), " \   "  left_checksum  TEXT REFERENCES PRISTINE (checksum), " \   "  right_checksum  TEXT REFERENCES PRISTINE (checksum), " \   "  PRIMARY KEY (wc_id, local_relpath) " \   "  ); " \   "CREATE UNIQUE INDEX I_ACTUAL_PARENT ON ACTUAL_NODE (wc_id, parent_relpath, " \   "                                                    local_relpath); " \   "CREATE TABLE LOCK ( " \   "  repos_id  INTEGER NOT NULL REFERENCES REPOSITORY (id), " \   "  repos_relpath  TEXT NOT NULL, " \   "  lock_token  TEXT NOT NULL, " \   "  lock_owner  TEXT, " \   "  lock_comment  TEXT, " \   "  lock_date  INTEGER, " \   "  PRIMARY KEY (repos_id, repos_relpath) " \   "  ); " \   "CREATE TABLE WORK_QUEUE ( " \   "  id  INTEGER PRIMARY KEY AUTOINCREMENT, " \   "  work  BLOB NOT NULL " \   "  ); " \   "CREATE TABLE WC_LOCK ( " \   "  wc_id  INTEGER NOT NULL  REFERENCES WCROOT (id), " \   "  local_dir_relpath  TEXT NOT NULL, " \   "  locked_levels  INTEGER NOT NULL DEFAULT -1, " \   "  PRIMARY KEY (wc_id, local_dir_relpath) " \   " ); " \   "PRAGMA user_version = " \   APR_STRINGIFY(SVN_WC__VERSION) \   "; " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_CREATE_NODES
value|206
end_define

begin_define
define|#
directive|define
name|STMT_206_INFO
value|{"STMT_CREATE_NODES", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_206
define|\
value|"CREATE TABLE NODES ( " \   "  wc_id  INTEGER NOT NULL REFERENCES WCROOT (id), " \   "  local_relpath  TEXT NOT NULL, " \   "  op_depth INTEGER NOT NULL, " \   "  parent_relpath  TEXT, " \   "  repos_id  INTEGER REFERENCES REPOSITORY (id), " \   "  repos_path  TEXT, " \   "  revision  INTEGER, " \   "  presence  TEXT NOT NULL, " \   "  moved_here  INTEGER, " \   "  moved_to  TEXT, " \   "  kind  TEXT NOT NULL, " \   "  properties  BLOB, " \   "  depth  TEXT, " \   "  checksum  TEXT REFERENCES PRISTINE (checksum), " \   "  symlink_target  TEXT, " \   "  changed_revision  INTEGER, " \   "  changed_date      INTEGER, " \   "  changed_author    TEXT, " \   "  translated_size  INTEGER, " \   "  last_mod_time  INTEGER, " \   "  dav_cache  BLOB, " \   "  file_external  INTEGER, " \   "  inherited_props  BLOB, " \   "  PRIMARY KEY (wc_id, local_relpath, op_depth) " \   "  ); " \   "CREATE UNIQUE INDEX I_NODES_PARENT ON NODES (wc_id, parent_relpath, " \   "                                             local_relpath, op_depth); " \   "CREATE UNIQUE INDEX I_NODES_MOVED ON NODES (wc_id, moved_to, op_depth); " \   "CREATE VIEW NODES_CURRENT AS " \   "  SELECT * FROM nodes AS n " \   "    WHERE op_depth = (SELECT MAX(op_depth) FROM nodes AS n2 " \   "                      WHERE n2.wc_id = n.wc_id " \   "                        AND n2.local_relpath = n.local_relpath); " \   "CREATE VIEW NODES_BASE AS " \   "  SELECT * FROM nodes " \   "  WHERE op_depth = 0; " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_CREATE_NODES_TRIGGERS
value|207
end_define

begin_define
define|#
directive|define
name|STMT_207_INFO
value|{"STMT_CREATE_NODES_TRIGGERS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_207
define|\
value|"CREATE TRIGGER nodes_insert_trigger " \   "AFTER INSERT ON nodes " \   "WHEN NEW.checksum IS NOT NULL " \   "BEGIN " \   "  UPDATE pristine SET refcount = refcount + 1 " \   "  WHERE checksum = NEW.checksum; " \   "END; " \   "CREATE TRIGGER nodes_delete_trigger " \   "AFTER DELETE ON nodes " \   "WHEN OLD.checksum IS NOT NULL " \   "BEGIN " \   "  UPDATE pristine SET refcount = refcount - 1 " \   "  WHERE checksum = OLD.checksum; " \   "END; " \   "CREATE TRIGGER nodes_update_checksum_trigger " \   "AFTER UPDATE OF checksum ON nodes " \   "WHEN NEW.checksum IS NOT OLD.checksum " \   "BEGIN " \   "  UPDATE pristine SET refcount = refcount + 1 " \   "  WHERE checksum = NEW.checksum; " \   "  UPDATE pristine SET refcount = refcount - 1 " \   "  WHERE checksum = OLD.checksum; " \   "END; " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_CREATE_EXTERNALS
value|208
end_define

begin_define
define|#
directive|define
name|STMT_208_INFO
value|{"STMT_CREATE_EXTERNALS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_208
define|\
value|"CREATE TABLE EXTERNALS ( " \   "  wc_id  INTEGER NOT NULL REFERENCES WCROOT (id), " \   "  local_relpath  TEXT NOT NULL, " \   "  parent_relpath  TEXT NOT NULL, " \   "  repos_id  INTEGER NOT NULL REFERENCES REPOSITORY (id), " \   "  presence  TEXT NOT NULL, " \   "  kind  TEXT NOT NULL, " \   "  def_local_relpath         TEXT NOT NULL, " \   "  def_repos_relpath         TEXT NOT NULL, " \   "  def_operational_revision  TEXT, " \   "  def_revision              TEXT, " \   "  PRIMARY KEY (wc_id, local_relpath) " \   "); " \   "CREATE UNIQUE INDEX I_EXTERNALS_DEFINED ON EXTERNALS (wc_id, " \   "                                                      def_local_relpath, " \   "                                                      local_relpath); " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_INSTALL_SCHEMA_STATISTICS
value|209
end_define

begin_define
define|#
directive|define
name|STMT_209_INFO
value|{"STMT_INSTALL_SCHEMA_STATISTICS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_209
define|\
value|"ANALYZE sqlite_master; " \   "INSERT OR REPLACE INTO sqlite_stat1(tbl, idx, stat) VALUES " \   "    ('NODES', 'sqlite_autoindex_NODES_1',               '8000 8000 2 1'); " \   "INSERT OR REPLACE INTO sqlite_stat1(tbl, idx, stat) VALUES " \   "    ('NODES', 'I_NODES_PARENT',                         '8000 8000 10 2 1'); " \   "INSERT OR REPLACE INTO sqlite_stat1(tbl, idx, stat) VALUES " \   "    ('NODES', 'I_NODES_MOVED',                          '8000 8000 1 1'); " \   "INSERT OR REPLACE INTO sqlite_stat1(tbl, idx, stat) VALUES " \   "    ('ACTUAL_NODE', 'sqlite_autoindex_ACTUAL_NODE_1',   '8000 8000 1'); " \   "INSERT OR REPLACE INTO sqlite_stat1(tbl, idx, stat) VALUES " \   "    ('ACTUAL_NODE', 'I_ACTUAL_PARENT',                  '8000 8000 10 1'); " \   "INSERT OR REPLACE INTO sqlite_stat1(tbl, idx, stat) VALUES " \   "    ('LOCK', 'sqlite_autoindex_LOCK_1',                 '100 100 1'); " \   "INSERT OR REPLACE INTO sqlite_stat1(tbl, idx, stat) VALUES " \   "    ('WC_LOCK', 'sqlite_autoindex_WC_LOCK_1',           '100 100 1'); " \   "ANALYZE sqlite_master; " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPGRADE_TO_20
value|210
end_define

begin_define
define|#
directive|define
name|STMT_210_INFO
value|{"STMT_UPGRADE_TO_20", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_210
define|\
value|"UPDATE BASE_NODE SET checksum = (SELECT checksum FROM pristine " \   "                                 WHERE md5_checksum = BASE_NODE.checksum) " \   "WHERE EXISTS (SELECT 1 FROM pristine WHERE md5_checksum = BASE_NODE.checksum); " \   "UPDATE WORKING_NODE SET checksum = (SELECT checksum FROM pristine " \   "                                    WHERE md5_checksum = WORKING_NODE.checksum) " \   "WHERE EXISTS (SELECT 1 FROM pristine " \   "              WHERE md5_checksum = WORKING_NODE.checksum); " \   "INSERT INTO NODES ( " \   "       wc_id, local_relpath, op_depth, parent_relpath, " \   "       repos_id, repos_path, revision, " \   "       presence, depth, moved_here, moved_to, kind, " \   "       changed_revision, changed_date, changed_author, " \   "       checksum, properties, translated_size, last_mod_time, " \   "       dav_cache, symlink_target, file_external ) " \   "SELECT wc_id, local_relpath, 0 , parent_relpath, " \   "       repos_id, repos_relpath, revnum, " \   "       presence, depth, NULL , NULL , kind, " \   "       changed_rev, changed_date, changed_author, " \   "       checksum, properties, translated_size, last_mod_time, " \   "       dav_cache, symlink_target, file_external " \   "FROM BASE_NODE; " \   "INSERT INTO NODES ( " \   "       wc_id, local_relpath, op_depth, parent_relpath, " \   "       repos_id, repos_path, revision, " \   "       presence, depth, moved_here, moved_to, kind, " \   "       changed_revision, changed_date, changed_author, " \   "       checksum, properties, translated_size, last_mod_time, " \   "       dav_cache, symlink_target, file_external ) " \   "SELECT wc_id, local_relpath, 2 , parent_relpath, " \   "       copyfrom_repos_id, copyfrom_repos_path, copyfrom_revnum, " \   "       presence, depth, NULL , NULL , kind, " \   "       changed_rev, changed_date, changed_author, " \   "       checksum, properties, translated_size, last_mod_time, " \   "       NULL , symlink_target, NULL " \   "FROM WORKING_NODE; " \   "DROP TABLE BASE_NODE; " \   "DROP TABLE WORKING_NODE; " \   "PRAGMA user_version = 20; " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPGRADE_TO_21
value|211
end_define

begin_define
define|#
directive|define
name|STMT_211_INFO
value|{"STMT_UPGRADE_TO_21", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_211
define|\
value|"PRAGMA user_version = 21; " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPGRADE_21_SELECT_OLD_TREE_CONFLICT
value|212
end_define

begin_define
define|#
directive|define
name|STMT_212_INFO
value|{"STMT_UPGRADE_21_SELECT_OLD_TREE_CONFLICT", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_212
define|\
value|"SELECT wc_id, local_relpath, tree_conflict_data " \   "FROM actual_node " \   "WHERE tree_conflict_data IS NOT NULL " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPGRADE_21_ERASE_OLD_CONFLICTS
value|213
end_define

begin_define
define|#
directive|define
name|STMT_213_INFO
value|{"STMT_UPGRADE_21_ERASE_OLD_CONFLICTS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_213
define|\
value|"UPDATE actual_node SET tree_conflict_data = NULL " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPGRADE_TO_22
value|214
end_define

begin_define
define|#
directive|define
name|STMT_214_INFO
value|{"STMT_UPGRADE_TO_22", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_214
define|\
value|"UPDATE actual_node SET tree_conflict_data = conflict_data; " \   "UPDATE actual_node SET conflict_data = NULL; " \   "PRAGMA user_version = 22; " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPGRADE_TO_23
value|215
end_define

begin_define
define|#
directive|define
name|STMT_215_INFO
value|{"STMT_UPGRADE_TO_23", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_215
define|\
value|"PRAGMA user_version = 23; " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPGRADE_23_HAS_WORKING_NODES
value|216
end_define

begin_define
define|#
directive|define
name|STMT_216_INFO
value|{"STMT_UPGRADE_23_HAS_WORKING_NODES", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_216
define|\
value|"SELECT 1 FROM nodes WHERE op_depth> 0 " \   "LIMIT 1 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPGRADE_TO_24
value|217
end_define

begin_define
define|#
directive|define
name|STMT_217_INFO
value|{"STMT_UPGRADE_TO_24", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_217
define|\
value|"UPDATE pristine SET refcount = " \   "  (SELECT COUNT(*) FROM nodes " \   "   WHERE checksum = pristine.checksum ); " \   "PRAGMA user_version = 24; " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPGRADE_TO_25
value|218
end_define

begin_define
define|#
directive|define
name|STMT_218_INFO
value|{"STMT_UPGRADE_TO_25", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_218
define|\
value|"DROP VIEW IF EXISTS NODES_CURRENT; " \   "CREATE VIEW NODES_CURRENT AS " \   "  SELECT * FROM nodes " \   "    JOIN (SELECT wc_id, local_relpath, MAX(op_depth) AS op_depth FROM nodes " \   "          GROUP BY wc_id, local_relpath) AS filter " \   "    ON nodes.wc_id = filter.wc_id " \   "      AND nodes.local_relpath = filter.local_relpath " \   "      AND nodes.op_depth = filter.op_depth; " \   "PRAGMA user_version = 25; " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPGRADE_TO_26
value|219
end_define

begin_define
define|#
directive|define
name|STMT_219_INFO
value|{"STMT_UPGRADE_TO_26", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_219
define|\
value|"DROP VIEW IF EXISTS NODES_BASE; " \   "CREATE VIEW NODES_BASE AS " \   "  SELECT * FROM nodes " \   "  WHERE op_depth = 0; " \   "PRAGMA user_version = 26; " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPGRADE_TO_27
value|220
end_define

begin_define
define|#
directive|define
name|STMT_220_INFO
value|{"STMT_UPGRADE_TO_27", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_220
define|\
value|"PRAGMA user_version = 27; " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPGRADE_27_HAS_ACTUAL_NODES_CONFLICTS
value|221
end_define

begin_define
define|#
directive|define
name|STMT_221_INFO
value|{"STMT_UPGRADE_27_HAS_ACTUAL_NODES_CONFLICTS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_221
define|\
value|"SELECT 1 FROM actual_node " \   "WHERE NOT ((prop_reject IS NULL) AND (conflict_old IS NULL) " \   "           AND (conflict_new IS NULL) AND (conflict_working IS NULL) " \   "           AND (tree_conflict_data IS NULL)) " \   "LIMIT 1 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPGRADE_TO_28
value|222
end_define

begin_define
define|#
directive|define
name|STMT_222_INFO
value|{"STMT_UPGRADE_TO_28", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_222
define|\
value|"UPDATE NODES SET checksum = (SELECT checksum FROM pristine " \   "                             WHERE md5_checksum = nodes.checksum) " \   "WHERE EXISTS (SELECT 1 FROM pristine WHERE md5_checksum = nodes.checksum); " \   "PRAGMA user_version = 28; " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPGRADE_TO_29
value|223
end_define

begin_define
define|#
directive|define
name|STMT_223_INFO
value|{"STMT_UPGRADE_TO_29", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_223
define|\
value|"DROP TRIGGER IF EXISTS nodes_update_checksum_trigger; " \   "DROP TRIGGER IF EXISTS nodes_insert_trigger; " \   "DROP TRIGGER IF EXISTS nodes_delete_trigger; " \   "CREATE TRIGGER nodes_update_checksum_trigger " \   "AFTER UPDATE OF checksum ON nodes " \   "WHEN NEW.checksum IS NOT OLD.checksum " \   "BEGIN " \   "  UPDATE pristine SET refcount = refcount + 1 " \   "  WHERE checksum = NEW.checksum; " \   "  UPDATE pristine SET refcount = refcount - 1 " \   "  WHERE checksum = OLD.checksum; " \   "END; " \   "CREATE TRIGGER nodes_insert_trigger " \   "AFTER INSERT ON nodes " \   "WHEN NEW.checksum IS NOT NULL " \   "BEGIN " \   "  UPDATE pristine SET refcount = refcount + 1 " \   "  WHERE checksum = NEW.checksum; " \   "END; " \   "CREATE TRIGGER nodes_delete_trigger " \   "AFTER DELETE ON nodes " \   "WHEN OLD.checksum IS NOT NULL " \   "BEGIN " \   "  UPDATE pristine SET refcount = refcount - 1 " \   "  WHERE checksum = OLD.checksum; " \   "END; " \   "PRAGMA user_version = 29; " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPGRADE_TO_30
value|224
end_define

begin_define
define|#
directive|define
name|STMT_224_INFO
value|{"STMT_UPGRADE_TO_30", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_224
define|\
value|"CREATE UNIQUE INDEX IF NOT EXISTS I_NODES_MOVED " \   "ON NODES (wc_id, moved_to, op_depth); " \   "CREATE INDEX IF NOT EXISTS I_PRISTINE_MD5 ON PRISTINE (md5_checksum); " \   "UPDATE nodes SET presence = \"server-excluded\" WHERE presence = \"absent\"; " \   "UPDATE nodes SET file_external=1 WHERE file_external IS NOT NULL; " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPGRADE_30_SELECT_CONFLICT_SEPARATE
value|225
end_define

begin_define
define|#
directive|define
name|STMT_225_INFO
value|{"STMT_UPGRADE_30_SELECT_CONFLICT_SEPARATE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_225
define|\
value|"SELECT wc_id, local_relpath, " \   "  conflict_old, conflict_working, conflict_new, prop_reject, tree_conflict_data " \   "FROM actual_node " \   "WHERE conflict_old IS NOT NULL " \   "   OR conflict_working IS NOT NULL " \   "   OR conflict_new IS NOT NULL " \   "   OR prop_reject IS NOT NULL " \   "   OR tree_conflict_data IS NOT NULL " \   "ORDER by wc_id, local_relpath " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPGRADE_30_SET_CONFLICT
value|226
end_define

begin_define
define|#
directive|define
name|STMT_226_INFO
value|{"STMT_UPGRADE_30_SET_CONFLICT", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_226
define|\
value|"UPDATE actual_node SET conflict_data = ?3, conflict_old = NULL, " \   "  conflict_working = NULL, conflict_new = NULL, prop_reject = NULL, " \   "  tree_conflict_data = NULL " \   "WHERE wc_id = ?1 and local_relpath = ?2 " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPGRADE_TO_31_ALTER_TABLE
value|227
end_define

begin_define
define|#
directive|define
name|STMT_227_INFO
value|{"STMT_UPGRADE_TO_31_ALTER_TABLE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_227
define|\
value|"ALTER TABLE NODES ADD COLUMN inherited_props BLOB; " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPGRADE_TO_31_FINALIZE
value|228
end_define

begin_define
define|#
directive|define
name|STMT_228_INFO
value|{"STMT_UPGRADE_TO_31_FINALIZE", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_228
define|\
value|"DROP INDEX IF EXISTS I_ACTUAL_CHANGELIST; " \   "DROP INDEX IF EXISTS I_EXTERNALS_PARENT; " \   "DROP INDEX I_NODES_PARENT; " \   "CREATE UNIQUE INDEX I_NODES_PARENT ON NODES (wc_id, parent_relpath, " \   "                                             local_relpath, op_depth); " \   "DROP INDEX I_ACTUAL_PARENT; " \   "CREATE UNIQUE INDEX I_ACTUAL_PARENT ON ACTUAL_NODE (wc_id, parent_relpath, " \   "                                                    local_relpath); " \   "PRAGMA user_version = 31; " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPGRADE_31_SELECT_WCROOT_NODES
value|229
end_define

begin_define
define|#
directive|define
name|STMT_229_INFO
value|{"STMT_UPGRADE_31_SELECT_WCROOT_NODES", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_229
define|\
value|"SELECT l.wc_id, l.local_relpath FROM nodes as l " \   "LEFT OUTER JOIN nodes as r " \   "ON l.wc_id = r.wc_id " \   "   AND r.local_relpath = l.parent_relpath " \   "   AND r.op_depth = 0 " \   "WHERE l.op_depth = 0 " \   "  AND l.repos_path != '' " \   "  AND ((l.repos_id IS NOT r.repos_id) " \   "       OR (l.repos_path IS NOT (CASE WHEN (r.local_relpath) = '' THEN (CASE WHEN (r.repos_path) = '' THEN (l.local_relpath) WHEN (l.local_relpath) = '' THEN (r.repos_path) ELSE (r.repos_path) || '/' || (l.local_relpath) END) WHEN (r.repos_path) = '' THEN (CASE WHEN (r.local_relpath) = '' THEN (l.local_relpath)  WHEN SUBSTR((l.local_relpath), 1, LENGTH(r.local_relpath)) = (r.local_relpath)  THEN CASE WHEN LENGTH(r.local_relpath) = LENGTH(l.local_relpath) THEN '' WHEN SUBSTR((l.local_relpath), LENGTH(r.local_relpath)+1, 1) = '/' THEN SUBSTR((l.local_relpath), LENGTH(r.local_relpath)+2) END END) WHEN SUBSTR((l.local_relpath), 1, LENGTH(r.local_relpath)) = (r.local_relpath) THEN CASE WHEN LENGTH(r.local_relpath) = LENGTH(l.local_relpath) THEN (r.repos_path) WHEN SUBSTR((l.local_relpath), LENGTH(r.local_relpath)+1, 1) = '/' THEN (r.repos_path) || SUBSTR((l.local_relpath), LENGTH(r.local_relpath)+1) END END))) " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_UPGRADE_TO_32
value|230
end_define

begin_define
define|#
directive|define
name|STMT_230_INFO
value|{"STMT_UPGRADE_TO_32", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_230
define|\
value|"DROP INDEX IF EXISTS I_ACTUAL_CHANGELIST; " \   "DROP INDEX IF EXISTS I_EXTERNALS_PARENT; " \   "CREATE INDEX I_EXTERNALS_PARENT ON EXTERNALS (wc_id, parent_relpath); " \   "DROP INDEX I_NODES_PARENT; " \   "CREATE UNIQUE INDEX I_NODES_PARENT ON NODES (wc_id, parent_relpath, " \   "                                             local_relpath, op_depth); " \   "DROP INDEX I_ACTUAL_PARENT; " \   "CREATE UNIQUE INDEX I_ACTUAL_PARENT ON ACTUAL_NODE (wc_id, parent_relpath, " \   "                                                    local_relpath); " \   "-- format: YYY " \   ""
end_define

begin_define
define|#
directive|define
name|WC_QUERIES_SQL_99
define|\
value|"CREATE TABLE ACTUAL_NODE_BACKUP ( " \   "  wc_id  INTEGER NOT NULL, " \   "  local_relpath  TEXT NOT NULL, " \   "  parent_relpath  TEXT, " \   "  properties  BLOB, " \   "  conflict_old  TEXT, " \   "  conflict_new  TEXT, " \   "  conflict_working  TEXT, " \   "  prop_reject  TEXT, " \   "  changelist  TEXT, " \   "  text_mod  TEXT " \   "  ); " \   "INSERT INTO ACTUAL_NODE_BACKUP SELECT " \   "  wc_id, local_relpath, parent_relpath, properties, conflict_old, " \   "  conflict_new, conflict_working, prop_reject, changelist, text_mod " \   "FROM ACTUAL_NODE; " \   "DROP TABLE ACTUAL_NODE; " \   "CREATE TABLE ACTUAL_NODE ( " \   "  wc_id  INTEGER NOT NULL REFERENCES WCROOT (id), " \   "  local_relpath  TEXT NOT NULL, " \   "  parent_relpath  TEXT, " \   "  properties  BLOB, " \   "  conflict_old  TEXT, " \   "  conflict_new  TEXT, " \   "  conflict_working  TEXT, " \   "  prop_reject  TEXT, " \   "  changelist  TEXT, " \   "  text_mod  TEXT, " \   "  PRIMARY KEY (wc_id, local_relpath) " \   "  ); " \   "CREATE UNIQUE INDEX I_ACTUAL_PARENT ON ACTUAL_NODE (wc_id, parent_relpath, " \   "                                                    local_relpath); " \   "INSERT INTO ACTUAL_NODE SELECT " \   "  wc_id, local_relpath, parent_relpath, properties, conflict_old, " \   "  conflict_new, conflict_working, prop_reject, changelist, text_mod " \   "FROM ACTUAL_NODE_BACKUP; " \   "DROP TABLE ACTUAL_NODE_BACKUP; " \   ""
end_define

begin_define
define|#
directive|define
name|STMT_VERIFICATION_TRIGGERS
value|231
end_define

begin_define
define|#
directive|define
name|STMT_231_INFO
value|{"STMT_VERIFICATION_TRIGGERS", NULL}
end_define

begin_define
define|#
directive|define
name|STMT_231
define|\
value|"CREATE TEMPORARY TRIGGER no_repository_updates BEFORE UPDATE ON repository " \   "BEGIN " \   "  SELECT RAISE(FAIL, 'Updates to REPOSITORY are not allowed.'); " \   "END; " \   "CREATE TEMPORARY TRIGGER validation_01 BEFORE INSERT ON nodes " \   "WHEN NOT ((new.local_relpath = '' AND new.parent_relpath IS NULL) " \   "          OR (relpath_depth(new.local_relpath) " \   "              = relpath_depth(new.parent_relpath) + 1)) " \   "BEGIN " \   "  SELECT RAISE(FAIL, 'WC DB validity check 01 failed'); " \   "END; " \   "CREATE TEMPORARY TRIGGER validation_02 BEFORE INSERT ON nodes " \   "WHEN NOT new.op_depth<= relpath_depth(new.local_relpath) " \   "BEGIN " \   "  SELECT RAISE(FAIL, 'WC DB validity check 02 failed'); " \   "END; " \   "CREATE TEMPORARY TRIGGER validation_03 BEFORE INSERT ON nodes " \   "WHEN NOT ( " \   "    (new.op_depth = relpath_depth(new.local_relpath)) " \   "    OR " \   "    (EXISTS (SELECT 1 FROM nodes " \   "              WHERE wc_id = new.wc_id AND op_depth = new.op_depth " \   "                AND local_relpath = new.parent_relpath)) " \   "  ) " \   " AND NOT (new.file_external IS NOT NULL AND new.op_depth = 0) " \   "BEGIN " \   "  SELECT RAISE(FAIL, 'WC DB validity check 03 failed'); " \   "END; " \   "CREATE TEMPORARY TRIGGER validation_04 BEFORE INSERT ON actual_node " \   "WHEN NOT (new.local_relpath = '' " \   "          OR EXISTS (SELECT 1 FROM nodes " \   "                       WHERE wc_id = new.wc_id " \   "                         AND local_relpath = new.parent_relpath)) " \   "BEGIN " \   "  SELECT RAISE(FAIL, 'WC DB validity check 04 failed'); " \   "END; " \   ""
end_define

begin_define
define|#
directive|define
name|WC_QUERIES_SQL_DECLARE_STATEMENTS
parameter_list|(
name|varname
parameter_list|)
define|\
value|static const char * const varname[] = { \     STMT_0, \     STMT_1, \     STMT_2, \     STMT_3, \     STMT_4, \     STMT_5, \     STMT_6, \     STMT_7, \     STMT_8, \     STMT_9, \     STMT_10, \     STMT_11, \     STMT_12, \     STMT_13, \     STMT_14, \     STMT_15, \     STMT_16, \     STMT_17, \     STMT_18, \     STMT_19, \     STMT_20, \     STMT_21, \     STMT_22, \     STMT_23, \     STMT_24, \     STMT_25, \     STMT_26, \     STMT_27, \     STMT_28, \     STMT_29, \     STMT_30, \     STMT_31, \     STMT_32, \     STMT_33, \     STMT_34, \     STMT_35, \     STMT_36, \     STMT_37, \     STMT_38, \     STMT_39, \     STMT_40, \     STMT_41, \     STMT_42, \     STMT_43, \     STMT_44, \     STMT_45, \     STMT_46, \     STMT_47, \     STMT_48, \     STMT_49, \     STMT_50, \     STMT_51, \     STMT_52, \     STMT_53, \     STMT_54, \     STMT_55, \     STMT_56, \     STMT_57, \     STMT_58, \     STMT_59, \     STMT_60, \     STMT_61, \     STMT_62, \     STMT_63, \     STMT_64, \     STMT_65, \     STMT_66, \     STMT_67, \     STMT_68, \     STMT_69, \     STMT_70, \     STMT_71, \     STMT_72, \     STMT_73, \     STMT_74, \     STMT_75, \     STMT_76, \     STMT_77, \     STMT_78, \     STMT_79, \     STMT_80, \     STMT_81, \     STMT_82, \     STMT_83, \     STMT_84, \     STMT_85, \     STMT_86, \     STMT_87, \     STMT_88, \     STMT_89, \     STMT_90, \     STMT_91, \     STMT_92, \     STMT_93, \     STMT_94, \     STMT_95, \     STMT_96, \     STMT_97, \     STMT_98, \     STMT_99, \     STMT_100, \     STMT_101, \     STMT_102, \     STMT_103, \     STMT_104, \     STMT_105, \     STMT_106, \     STMT_107, \     STMT_108, \     STMT_109, \     STMT_110, \     STMT_111, \     STMT_112, \     STMT_113, \     STMT_114, \     STMT_115, \     STMT_116, \     STMT_117, \     STMT_118, \     STMT_119, \     STMT_120, \     STMT_121, \     STMT_122, \     STMT_123, \     STMT_124, \     STMT_125, \     STMT_126, \     STMT_127, \     STMT_128, \     STMT_129, \     STMT_130, \     STMT_131, \     STMT_132, \     STMT_133, \     STMT_134, \     STMT_135, \     STMT_136, \     STMT_137, \     STMT_138, \     STMT_139, \     STMT_140, \     STMT_141, \     STMT_142, \     STMT_143, \     STMT_144, \     STMT_145, \     STMT_146, \     STMT_147, \     STMT_148, \     STMT_149, \     STMT_150, \     STMT_151, \     STMT_152, \     STMT_153, \     STMT_154, \     STMT_155, \     STMT_156, \     STMT_157, \     STMT_158, \     STMT_159, \     STMT_160, \     STMT_161, \     STMT_162, \     STMT_163, \     STMT_164, \     STMT_165, \     STMT_166, \     STMT_167, \     STMT_168, \     STMT_169, \     STMT_170, \     STMT_171, \     STMT_172, \     STMT_173, \     STMT_174, \     STMT_175, \     STMT_176, \     STMT_177, \     STMT_178, \     STMT_179, \     STMT_180, \     STMT_181, \     STMT_182, \     STMT_183, \     STMT_184, \     STMT_185, \     STMT_186, \     STMT_187, \     STMT_188, \     STMT_189, \     STMT_190, \     STMT_191, \     STMT_192, \     STMT_193, \     STMT_194, \     STMT_195, \     STMT_196, \     STMT_197, \     STMT_198, \     STMT_199, \     STMT_200, \     STMT_201, \     STMT_202, \     STMT_203, \     STMT_204, \     STMT_205, \     STMT_206, \     STMT_207, \     STMT_208, \     STMT_209, \     STMT_210, \     STMT_211, \     STMT_212, \     STMT_213, \     STMT_214, \     STMT_215, \     STMT_216, \     STMT_217, \     STMT_218, \     STMT_219, \     STMT_220, \     STMT_221, \     STMT_222, \     STMT_223, \     STMT_224, \     STMT_225, \     STMT_226, \     STMT_227, \     STMT_228, \     STMT_229, \     STMT_230, \     STMT_231, \     NULL \   }
end_define

begin_define
define|#
directive|define
name|WC_QUERIES_SQL_DECLARE_STATEMENT_INFO
parameter_list|(
name|varname
parameter_list|)
define|\
value|static const char * const varname[][2] = { \     STMT_0_INFO, \     STMT_1_INFO, \     STMT_2_INFO, \     STMT_3_INFO, \     STMT_4_INFO, \     STMT_5_INFO, \     STMT_6_INFO, \     STMT_7_INFO, \     STMT_8_INFO, \     STMT_9_INFO, \     STMT_10_INFO, \     STMT_11_INFO, \     STMT_12_INFO, \     STMT_13_INFO, \     STMT_14_INFO, \     STMT_15_INFO, \     STMT_16_INFO, \     STMT_17_INFO, \     STMT_18_INFO, \     STMT_19_INFO, \     STMT_20_INFO, \     STMT_21_INFO, \     STMT_22_INFO, \     STMT_23_INFO, \     STMT_24_INFO, \     STMT_25_INFO, \     STMT_26_INFO, \     STMT_27_INFO, \     STMT_28_INFO, \     STMT_29_INFO, \     STMT_30_INFO, \     STMT_31_INFO, \     STMT_32_INFO, \     STMT_33_INFO, \     STMT_34_INFO, \     STMT_35_INFO, \     STMT_36_INFO, \     STMT_37_INFO, \     STMT_38_INFO, \     STMT_39_INFO, \     STMT_40_INFO, \     STMT_41_INFO, \     STMT_42_INFO, \     STMT_43_INFO, \     STMT_44_INFO, \     STMT_45_INFO, \     STMT_46_INFO, \     STMT_47_INFO, \     STMT_48_INFO, \     STMT_49_INFO, \     STMT_50_INFO, \     STMT_51_INFO, \     STMT_52_INFO, \     STMT_53_INFO, \     STMT_54_INFO, \     STMT_55_INFO, \     STMT_56_INFO, \     STMT_57_INFO, \     STMT_58_INFO, \     STMT_59_INFO, \     STMT_60_INFO, \     STMT_61_INFO, \     STMT_62_INFO, \     STMT_63_INFO, \     STMT_64_INFO, \     STMT_65_INFO, \     STMT_66_INFO, \     STMT_67_INFO, \     STMT_68_INFO, \     STMT_69_INFO, \     STMT_70_INFO, \     STMT_71_INFO, \     STMT_72_INFO, \     STMT_73_INFO, \     STMT_74_INFO, \     STMT_75_INFO, \     STMT_76_INFO, \     STMT_77_INFO, \     STMT_78_INFO, \     STMT_79_INFO, \     STMT_80_INFO, \     STMT_81_INFO, \     STMT_82_INFO, \     STMT_83_INFO, \     STMT_84_INFO, \     STMT_85_INFO, \     STMT_86_INFO, \     STMT_87_INFO, \     STMT_88_INFO, \     STMT_89_INFO, \     STMT_90_INFO, \     STMT_91_INFO, \     STMT_92_INFO, \     STMT_93_INFO, \     STMT_94_INFO, \     STMT_95_INFO, \     STMT_96_INFO, \     STMT_97_INFO, \     STMT_98_INFO, \     STMT_99_INFO, \     STMT_100_INFO, \     STMT_101_INFO, \     STMT_102_INFO, \     STMT_103_INFO, \     STMT_104_INFO, \     STMT_105_INFO, \     STMT_106_INFO, \     STMT_107_INFO, \     STMT_108_INFO, \     STMT_109_INFO, \     STMT_110_INFO, \     STMT_111_INFO, \     STMT_112_INFO, \     STMT_113_INFO, \     STMT_114_INFO, \     STMT_115_INFO, \     STMT_116_INFO, \     STMT_117_INFO, \     STMT_118_INFO, \     STMT_119_INFO, \     STMT_120_INFO, \     STMT_121_INFO, \     STMT_122_INFO, \     STMT_123_INFO, \     STMT_124_INFO, \     STMT_125_INFO, \     STMT_126_INFO, \     STMT_127_INFO, \     STMT_128_INFO, \     STMT_129_INFO, \     STMT_130_INFO, \     STMT_131_INFO, \     STMT_132_INFO, \     STMT_133_INFO, \     STMT_134_INFO, \     STMT_135_INFO, \     STMT_136_INFO, \     STMT_137_INFO, \     STMT_138_INFO, \     STMT_139_INFO, \     STMT_140_INFO, \     STMT_141_INFO, \     STMT_142_INFO, \     STMT_143_INFO, \     STMT_144_INFO, \     STMT_145_INFO, \     STMT_146_INFO, \     STMT_147_INFO, \     STMT_148_INFO, \     STMT_149_INFO, \     STMT_150_INFO, \     STMT_151_INFO, \     STMT_152_INFO, \     STMT_153_INFO, \     STMT_154_INFO, \     STMT_155_INFO, \     STMT_156_INFO, \     STMT_157_INFO, \     STMT_158_INFO, \     STMT_159_INFO, \     STMT_160_INFO, \     STMT_161_INFO, \     STMT_162_INFO, \     STMT_163_INFO, \     STMT_164_INFO, \     STMT_165_INFO, \     STMT_166_INFO, \     STMT_167_INFO, \     STMT_168_INFO, \     STMT_169_INFO, \     STMT_170_INFO, \     STMT_171_INFO, \     STMT_172_INFO, \     STMT_173_INFO, \     STMT_174_INFO, \     STMT_175_INFO, \     STMT_176_INFO, \     STMT_177_INFO, \     STMT_178_INFO, \     STMT_179_INFO, \     STMT_180_INFO, \     STMT_181_INFO, \     STMT_182_INFO, \     STMT_183_INFO, \     STMT_184_INFO, \     STMT_185_INFO, \     STMT_186_INFO, \     STMT_187_INFO, \     STMT_188_INFO, \     STMT_189_INFO, \     STMT_190_INFO, \     STMT_191_INFO, \     STMT_192_INFO, \     STMT_193_INFO, \     STMT_194_INFO, \     STMT_195_INFO, \     STMT_196_INFO, \     STMT_197_INFO, \     STMT_198_INFO, \     STMT_199_INFO, \     STMT_200_INFO, \     STMT_201_INFO, \     STMT_202_INFO, \     STMT_203_INFO, \     STMT_204_INFO, \     STMT_205_INFO, \     STMT_206_INFO, \     STMT_207_INFO, \     STMT_208_INFO, \     STMT_209_INFO, \     STMT_210_INFO, \     STMT_211_INFO, \     STMT_212_INFO, \     STMT_213_INFO, \     STMT_214_INFO, \     STMT_215_INFO, \     STMT_216_INFO, \     STMT_217_INFO, \     STMT_218_INFO, \     STMT_219_INFO, \     STMT_220_INFO, \     STMT_221_INFO, \     STMT_222_INFO, \     STMT_223_INFO, \     STMT_224_INFO, \     STMT_225_INFO, \     STMT_226_INFO, \     STMT_227_INFO, \     STMT_228_INFO, \     STMT_229_INFO, \     STMT_230_INFO, \     STMT_231_INFO, \     {NULL, NULL} \   }
end_define

end_unit

