begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/**  * @copyright  * ====================================================================  *    Licensed to the Apache Software Foundation (ASF) under one  *    or more contributor license agreements.  See the NOTICE file  *    distributed with this work for additional information  *    regarding copyright ownership.  The ASF licenses this file  *    to you under the Apache License, Version 2.0 (the  *    "License"); you may not use this file except in compliance  *    with the License.  You may obtain a copy of the License at  *  *      http://www.apache.org/licenses/LICENSE-2.0  *  *    Unless required by applicable law or agreed to in writing,  *    software distributed under the License is distributed on an  *    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY  *    KIND, either express or implied.  See the License for the  *    specific language governing permissions and limitations  *    under the License.  * ====================================================================  * @endcopyright  *  * @file svn_wc.h  * @brief Subversion's working copy library  *  * Requires:  *            - A working copy  *  * Provides:  *            - Ability to manipulate working copy's versioned data.  *            - Ability to manipulate working copy's administrative files.  *  * Used By:  *            - Clients.  *  * Notes:  *            The 'path' parameters to most of the older functions can be  *            absolute or relative (relative to current working  *            directory).  If there are any cases where they are  *            relative to the path associated with the  *            'svn_wc_adm_access_t *adm_access' baton passed along with the  *            path, those cases should be explicitly documented, and if they  *            are not, please fix it. All new functions introduced since  *            Subversion 1.7 require absolute paths, unless explicitly  *            documented otherwise.  *  *            Starting with Subversion 1.7, several arguments are re-ordered  *            to be more consistent through the api. The common ordering used  *            is:  *  *            Firsts:  *              - Output arguments  *            Then:  *              - Working copy context  *              - Local abspath  *            Followed by:  *              - Function specific arguments  *              - Specific callbacks with their batons  *            Finally:  *              - Generic callbacks (with baton) from directly functional to  *                just observing:  *                  - svn_wc_conflict_resolver_func2_t  *                  - svn_wc_external_update_t  *                  - svn_cancel_func_t  *                  - svn_wc_notify_func2_t  *              - Result pool  *              - Scratch pool.  */
end_comment

begin_ifndef
ifndef|#
directive|ifndef
name|SVN_WC_H
end_ifndef

begin_define
define|#
directive|define
name|SVN_WC_H
end_define

begin_include
include|#
directive|include
file|<apr.h>
end_include

begin_include
include|#
directive|include
file|<apr_pools.h>
end_include

begin_include
include|#
directive|include
file|<apr_tables.h>
end_include

begin_include
include|#
directive|include
file|<apr_hash.h>
end_include

begin_include
include|#
directive|include
file|<apr_time.h>
end_include

begin_include
include|#
directive|include
file|<apr_file_io.h>
end_include

begin_include
include|#
directive|include
file|"svn_types.h"
end_include

begin_include
include|#
directive|include
file|"svn_string.h"
end_include

begin_include
include|#
directive|include
file|"svn_checksum.h"
end_include

begin_include
include|#
directive|include
file|"svn_io.h"
end_include

begin_include
include|#
directive|include
file|"svn_delta.h"
end_include

begin_comment
comment|/* for svn_stream_t */
end_comment

begin_include
include|#
directive|include
file|"svn_opt.h"
end_include

begin_include
include|#
directive|include
file|"svn_ra.h"
end_include

begin_comment
comment|/* for svn_ra_reporter_t type */
end_comment

begin_ifdef
ifdef|#
directive|ifdef
name|__cplusplus
end_ifdef

begin_extern
extern|extern
literal|"C"
block|{
endif|#
directive|endif
comment|/* __cplusplus */
comment|/**  * Get libsvn_wc version information.  *  * @since New in 1.1.  */
specifier|const
name|svn_version_t
modifier|*
name|svn_wc_version
parameter_list|(
name|void
parameter_list|)
function_decl|;
comment|/**  * @defgroup svn_wc  Working copy management  * @{  */
comment|/** Flags for use with svn_wc_translated_file2() and svn_wc_translated_stream().  *  * @defgroup translate_flags Translation flags  * @{  */
comment|/** Translate from Normal Form.    *    * The working copy text bases and repository files are stored    * in normal form.  Some files' contents - or ever representation -    * differs between the working copy and the normal form.  This flag    * specifies to take the latter form as input and transform it    * to the former.    *    * Either this flag or #SVN_WC_TRANSLATE_TO_NF should be specified,    * but not both.    */
define|#
directive|define
name|SVN_WC_TRANSLATE_FROM_NF
value|0x00000000
comment|/** Translate to Normal Form.    *    * Either this flag or #SVN_WC_TRANSLATE_FROM_NF should be specified,    * but not both.    */
define|#
directive|define
name|SVN_WC_TRANSLATE_TO_NF
value|0x00000001
comment|/** Force repair of eol styles, making sure the output file consistently    * contains the one eol style as specified by the svn:eol-style    * property and the required translation direction.    *    */
define|#
directive|define
name|SVN_WC_TRANSLATE_FORCE_EOL_REPAIR
value|0x00000002
comment|/** Don't register a pool cleanup to delete the output file */
define|#
directive|define
name|SVN_WC_TRANSLATE_NO_OUTPUT_CLEANUP
value|0x00000004
comment|/** Guarantee a new file is created on successful return.    * The default shortcuts translation by returning the path    * of the untranslated file when no translation is required.    */
define|#
directive|define
name|SVN_WC_TRANSLATE_FORCE_COPY
value|0x00000008
comment|/** Use a non-wc-local tmp directory for creating output files,    * instead of in the working copy admin tmp area which is the default.    *    * @since New in 1.4.    */
define|#
directive|define
name|SVN_WC_TRANSLATE_USE_GLOBAL_TMP
value|0x00000010
comment|/** @} */
comment|/**  * @defgroup svn_wc_context  Working copy context  * @{  */
comment|/** The context for all working copy interactions.  *  * This is the client-facing datastructure API consumers are required  * to create and use when interacting with a working copy.  Multiple  * contexts can be created for the same working copy simultaneously, within  * the same process or different processes.  Context mutexing will be handled  * internally by the working copy library.  *  * @note: #svn_wc_context_t should be passed by non-const pointer in all  * APIs, even for read-only operations, as it contains mutable data (caching,  * etc.).  *  * @since New in 1.7.  */
typedef|typedef
name|struct
name|svn_wc_context_t
name|svn_wc_context_t
typedef|;
comment|/** Create a context for the working copy, and return it in @a *wc_ctx.  This  * context is not associated with a particular working copy, but as operations  * are performed, will load the appropriate working copy information.  *  * @a config should hold the various configuration options that may apply to  * this context.  It should live at least as long as @a result_pool.  It may  * be @c NULL.  *  * The context will be allocated in @a result_pool, and will use @a  * result_pool for any internal allocations requiring the same longevity as  * the context.  The context will be automatically destroyed, and its  * resources released, when @a result_pool is cleared, or it may be manually  * destroyed by invoking svn_wc_context_destroy().  *  * Use @a scratch_pool for temporary allocations.  It may be cleared  * immediately upon returning from this function.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_context_create
parameter_list|(
name|svn_wc_context_t
modifier|*
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|svn_config_t
modifier|*
name|config
parameter_list|,
name|apr_pool_t
modifier|*
name|result_pool
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Destroy the working copy context described by @a wc_ctx, releasing any  * acquired resources.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_context_destroy
parameter_list|(
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|)
function_decl|;
comment|/** @} */
comment|/**  * Locking/Opening/Closing using adm access batons.  *  * @defgroup svn_wc_adm_access Adm access batons (deprecated)  * @{  */
comment|/** Baton for access to a working copy administrative area.  *  * Access batons can be grouped into sets, by passing an existing open  * baton when opening a new baton.  Given one baton in a set, other batons  * may be retrieved.  This allows an entire hierarchy to be locked, and  * then the set of batons can be passed around by passing a single baton.  *  * @deprecated Provided for backward compatibility with the 1.6 API.  *    New code should use a #svn_wc_context_t object to access the working  *    copy.  */
typedef|typedef
name|struct
name|svn_wc_adm_access_t
name|svn_wc_adm_access_t
typedef|;
comment|/**  * Return, in @a *adm_access, a pointer to a new access baton for the working  * copy administrative area associated with the directory @a path.  If  * @a write_lock is TRUE the baton will include a write lock, otherwise the  * baton can only be used for read access.  If @a path refers to a directory  * that is already write locked then the error #SVN_ERR_WC_LOCKED will be  * returned.  The error #SVN_ERR_WC_NOT_DIRECTORY will be returned if  * @a path is not a versioned directory.  *  * If @a associated is an open access baton then @a adm_access will be added  * to the set containing @a associated.  @a associated can be @c NULL, in  * which case @a adm_access is the start of a new set.  *  * @a levels_to_lock specifies how far to lock.  Zero means just the specified  * directory.  Any negative value means to lock the entire working copy  * directory hierarchy under @a path.  A positive value indicates the number of  * levels of directories to lock -- 1 means just immediate subdirectories, 2  * means immediate subdirectories and their subdirectories, etc.  All the  * access batons will become part of the set containing @a adm_access.  This  * is an all-or-nothing option, if it is not possible to lock all the  * requested directories then an error will be returned and @a adm_access will  * be invalid, with the exception that subdirectories of @a path that are  * missing from the physical filesystem will not be locked and will not cause  * an error.  The error #SVN_ERR_WC_LOCKED will be returned if a  * subdirectory of @a path is already write locked.  *  * If @a cancel_func is non-NULL, call it with @a cancel_baton to determine  * if the client has canceled the operation.  *  * @a pool will be used to allocate memory for the baton and any subsequently  * cached items.  If @a adm_access has not been closed when the pool is  * cleared, it will be closed automatically at that point, and removed from  * its set.  A baton closed in this way will not remove physical locks from  * the working copy if cleanup is required.  *  * The first baton in a set, with @a associated passed as @c NULL, must have  * the longest lifetime of all the batons in the set.  This implies it must be  * the root of the hierarchy.  *  * @since New in 1.2.  * @deprecated Provided for backward compatibility with the 1.6 API.  *    Callers should use a #svn_wc_context_t object to access the working  *    copy.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_adm_open3
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|associated
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_boolean_t
name|write_lock
parameter_list|,
name|int
name|levels_to_lock
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_adm_open3(), but without cancellation support.  *  * @deprecated Provided for backward compatibility with the 1.1 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_adm_open2
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|associated
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_boolean_t
name|write_lock
parameter_list|,
name|int
name|levels_to_lock
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_adm_open2(), but with @a tree_lock instead of  * @a levels_to_lock.  @a levels_to_lock is set to -1 if @a tree_lock  * is @c TRUE, else 0.  *  * @deprecated Provided for backward compatibility with the 1.0 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_adm_open
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|associated
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_boolean_t
name|write_lock
parameter_list|,
name|svn_boolean_t
name|tree_lock
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Checks the working copy to determine the node type of @a path.  If  * @a path is a versioned directory then the behaviour is like that of  * svn_wc_adm_open3(), otherwise, if @a path is a file or does not  * exist, then the behaviour is like that of svn_wc_adm_open3() with  * @a path replaced by the parent directory of @a path.  If @a path is  * an unversioned directory, the behaviour is also like that of  * svn_wc_adm_open3() on the parent, except that if the open fails,  * then the returned #SVN_ERR_WC_NOT_DIRECTORY error refers to @a path,  * not to @a path's parent.  *  * @since New in 1.2.  * @deprecated Provided for backward compatibility with the 1.6 API.  *    Callers should use a #svn_wc_context_t object to access the working  *    copy.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_adm_probe_open3
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|associated
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_boolean_t
name|write_lock
parameter_list|,
name|int
name|levels_to_lock
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_adm_probe_open3() without the cancel  * functionality.  *  * @deprecated Provided for backward compatibility with the 1.1 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_adm_probe_open2
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|associated
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_boolean_t
name|write_lock
parameter_list|,
name|int
name|levels_to_lock
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_adm_probe_open2(), but with @a tree_lock instead of  * @a levels_to_lock.  @a levels_to_lock is set to -1 if @a tree_lock  * is @c TRUE, else 0.  *  * @deprecated Provided for backward compatibility with the 1.0 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_adm_probe_open
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|associated
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_boolean_t
name|write_lock
parameter_list|,
name|svn_boolean_t
name|tree_lock
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Open access batons for @a path and return in @a *anchor_access and  * @a *target the anchor and target required to drive an editor.  Return  * in @a *target_access the access baton for the target, which may be the  * same as @a *anchor_access (in which case @a *target is the empty  * string, never NULL).  All the access batons will be in the  * @a *anchor_access set.  *  * @a levels_to_lock determines the levels_to_lock used when opening  * @a path if @a path is a versioned directory, @a levels_to_lock is  * ignored otherwise.  If @a write_lock is @c TRUE the access batons  * will hold write locks.  *  * If @a cancel_func is non-NULL, call it with @a cancel_baton to determine  * if the client has canceled the operation.  *  * This function is essentially a combination of svn_wc_adm_open3() and  * svn_wc_get_actual_target(), with the emphasis on reducing physical IO.  *  * @since New in 1.2.  * @deprecated Provided for backward compatibility with the 1.6 API.  *    Callers should use a #svn_wc_context_t object to access the working  *    copy.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_adm_open_anchor
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
modifier|*
name|anchor_access
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
modifier|*
name|target_access
parameter_list|,
specifier|const
name|char
modifier|*
modifier|*
name|target
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_boolean_t
name|write_lock
parameter_list|,
name|int
name|levels_to_lock
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Return, in @a *adm_access, a pointer to an existing access baton associated  * with @a path.  @a path must be a directory that is locked as part of the  * set containing the @a associated access baton.  *  * If the requested access baton is marked as missing in, or is simply  * absent from, @a associated, return #SVN_ERR_WC_NOT_LOCKED.  *  * @a pool is used only for local processing, it is not used for the batons.  *  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_adm_retrieve
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|associated
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Check the working copy to determine the node type of @a path.  If  * @a path is a versioned directory then the behaviour is like that of  * svn_wc_adm_retrieve(), otherwise, if @a path is a file, an unversioned  * directory, or does not exist, then the behaviour is like that of  * svn_wc_adm_retrieve() with @a path replaced by the parent directory of  * @a path.  *  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_adm_probe_retrieve
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|associated
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Try various ways to obtain an access baton for @a path.  *  * First, try to obtain @a *adm_access via svn_wc_adm_probe_retrieve(),  * but if this fails because @a associated can't give a baton for  * @a path or @a path's parent, then try svn_wc_adm_probe_open3(),  * this time passing @a write_lock and @a levels_to_lock.  If there is  * still no access because @a path is not a versioned directory, then  * just set @a *adm_access to NULL and return success.  But if it is  * because @a path is locked, then return the error #SVN_ERR_WC_LOCKED,  * and the effect on @a *adm_access is undefined.  (Or if the attempt  * fails for any other reason, return the corresponding error, and the  * effect on @a *adm_access is also undefined.)  *  * If svn_wc_adm_probe_open3() succeeds, then add @a *adm_access to  * @a associated.  *  * If @a cancel_func is non-NULL, call it with @a cancel_baton to determine  * if the client has canceled the operation.  *  * Use @a pool only for local processing, not to allocate @a *adm_access.  *  * @since New in 1.2.  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_adm_probe_try3
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|associated
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_boolean_t
name|write_lock
parameter_list|,
name|int
name|levels_to_lock
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_adm_probe_try3() without the cancel  * functionality.  *  * @deprecated Provided for backward compatibility with the 1.1 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_adm_probe_try2
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|associated
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_boolean_t
name|write_lock
parameter_list|,
name|int
name|levels_to_lock
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_adm_probe_try2(), but with @a tree_lock instead of  * @a levels_to_lock.  @a levels_to_lock is set to -1 if @a tree_lock  * is @c TRUE, else 0.  *  * @deprecated Provided for backward compatibility with the 1.0 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_adm_probe_try
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|associated
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_boolean_t
name|write_lock
parameter_list|,
name|svn_boolean_t
name|tree_lock
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Give up the access baton @a adm_access, and its lock if any. This will  * recursively close any batons in the same set that are direct  * subdirectories of @a adm_access.  Any physical locks will be removed from  * the working copy.  Lock removal is unconditional, there is no check to  * determine if cleanup is required.  *  * Any temporary allocations are performed using @a scratch_pool.  *  * @since New in 1.6  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_adm_close2
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_adm_close2(), but with the internal pool of @a adm_access  * used for temporary allocations.  *  * @deprecated Provided for backward compatibility with the 1.5 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_adm_close
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|)
function_decl|;
comment|/** Return the path used to open the access baton @a adm_access.  *  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
specifier|const
name|char
modifier|*
name|svn_wc_adm_access_path
parameter_list|(
specifier|const
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|)
function_decl|;
comment|/** Return the pool used by access baton @a adm_access.  *  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|apr_pool_t
modifier|*
name|svn_wc_adm_access_pool
parameter_list|(
specifier|const
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|)
function_decl|;
comment|/** Return @c TRUE is the access baton @a adm_access has a write lock,  * @c FALSE otherwise. Compared to svn_wc_locked() this is a cheap, fast  * function that doesn't access the filesystem.  *  * @deprecated Provided for backward compatibility with the 1.6 API.  * New code should use svn_wc_locked2() instead.  */
name|SVN_DEPRECATED
name|svn_boolean_t
name|svn_wc_adm_locked
parameter_list|(
specifier|const
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|)
function_decl|;
comment|/** @} */
comment|/** Gets up to two booleans indicating whether a path is locked for  * writing.  *  * @a locked_here is set to TRUE when a write lock on @a local_abspath  * exists in @a wc_ctx. @a locked is set to TRUE when there is a  * write_lock on @a local_abspath  *  * @a locked_here and/or @a locked can be NULL when you are not  * interested in a specific value  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_locked2
parameter_list|(
name|svn_boolean_t
modifier|*
name|locked_here
parameter_list|,
name|svn_boolean_t
modifier|*
name|locked
parameter_list|,
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Set @a *locked to non-zero if @a path is locked, else set it to zero.  *  * New code should use svn_wc_locked2() instead.  *  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_locked
parameter_list|(
name|svn_boolean_t
modifier|*
name|locked
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * @defgroup svn_wc_adm_dir_name Name of Subversion's admin dir  * @{  */
comment|/** The default name of the administrative subdirectory.  *  * Ideally, this would be completely private to wc internals (in fact,  * it used to be that adm_subdir() in adm_files.c was the only function  * who knew the adm subdir's name).  However, import wants to protect  * against importing administrative subdirs, so now the name is a  * matter of public record.  *  * @deprecated Provided for backward compatibility with the 1.2 API.  */
define|#
directive|define
name|SVN_WC_ADM_DIR_NAME
value|".svn"
comment|/**  * Return @c TRUE if @a name is the name of the WC administrative  * directory.  Use @a pool for any temporary allocations.  Only works  * with base directory names, not paths or URIs.  *  * For compatibility, the default name (.svn) will always be treated  * as an admin dir name, even if the working copy is actually using an  * alternative name.  *  * @since New in 1.3.  */
name|svn_boolean_t
name|svn_wc_is_adm_dir
parameter_list|(
specifier|const
name|char
modifier|*
name|name
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Return the name of the administrative directory.  * Use @a pool for any temporary allocations.  *  * The returned pointer will refer to either a statically allocated  * string, or to a string allocated in @a pool.  *  * @since New in 1.3.  */
specifier|const
name|char
modifier|*
name|svn_wc_get_adm_dir
parameter_list|(
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Use @a name for the administrative directory in the working copy.  * Use @a pool for any temporary allocations.  *  * The list of valid names is limited.  Currently only ".svn" (the  * default) and "_svn" are allowed.  *  * @note This function changes global (per-process) state and must be  * called in a single-threaded context during the initialization of a  * Subversion client.  *  * @since New in 1.3.  */
name|svn_error_t
modifier|*
name|svn_wc_set_adm_dir
parameter_list|(
specifier|const
name|char
modifier|*
name|name
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** @} */
comment|/**  * @defgroup svn_wc_externals Externals  * @{  */
comment|/** Callback for external definitions updates  *  * @a local_abspath is the path on which the external definition was found.  * @a old_val and @a new_val are the before and after values of the  * SVN_PROP_EXTERNALS property.  @a depth is the ambient depth of the  * working copy directory at @a local_abspath.  *  * @since New in 1.7. */
typedef|typedef
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|svn_wc_external_update_t
function_decl|)
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
specifier|const
name|svn_string_t
modifier|*
name|old_val
parameter_list|,
specifier|const
name|svn_string_t
modifier|*
name|new_val
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Traversal information is information gathered by a working copy  * crawl or update.  For example, the before and after values of the  * svn:externals property are important after an update, and since  * we're traversing the working tree anyway (a complete traversal  * during the initial crawl, and a traversal of changed paths during  * the checkout/update/switch), it makes sense to gather the  * property's values then instead of making a second pass.  *  * New code should use the svn_wc_external_update_t callback instead.  *  * @deprecated Provided for backward compatibility with the 1.6 API.  */
typedef|typedef
name|struct
name|svn_wc_traversal_info_t
name|svn_wc_traversal_info_t
typedef|;
comment|/** Return a new, empty traversal info object, allocated in @a pool.  *  * New code should use the svn_wc_external_update_t callback instead.  *  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_wc_traversal_info_t
modifier|*
name|svn_wc_init_traversal_info
parameter_list|(
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Set @a *externals_old and @a *externals_new to hash tables representing  * changes to values of the svn:externals property on directories  * traversed by @a traversal_info.  *  * @a traversal_info is obtained from svn_wc_init_traversal_info(), but is  * only useful after it has been passed through another function, such  * as svn_wc_crawl_revisions(), svn_wc_get_update_editor(),  * svn_wc_get_switch_editor(), etc.  *  * Each hash maps<tt>const char *</tt> directory names onto  *<tt>const char *</tt> values of the externals property for that directory.  * The dir names are full paths -- that is, anchor plus target, not target  * alone. The values are not parsed, they are simply copied raw, and are  * never NULL: directories that acquired or lost the property are  * simply omitted from the appropriate table.  Directories whose value  * of the property did not change show the same value in each hash.  *  * The hashes, keys, and values have the same lifetime as @a traversal_info.  *  * New code should use the svn_wc_external_update_t callback instead.  *  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|void
name|svn_wc_edited_externals
parameter_list|(
name|apr_hash_t
modifier|*
modifier|*
name|externals_old
parameter_list|,
name|apr_hash_t
modifier|*
modifier|*
name|externals_new
parameter_list|,
name|svn_wc_traversal_info_t
modifier|*
name|traversal_info
parameter_list|)
function_decl|;
comment|/** Set @a *depths to a hash table mapping<tt>const char *</tt>  * directory names (directories traversed by @a traversal_info) to  *<tt>const char *</tt> values (the depths of those directories, as  * converted by svn_depth_to_word()).  *  * @a traversal_info is obtained from svn_wc_init_traversal_info(), but is  * only useful after it has been passed through another function, such  * as svn_wc_crawl_revisions(), svn_wc_get_update_editor(),  * svn_wc_get_switch_editor(), etc.  *  * The dir names are full paths -- that is, anchor plus target, not target  * alone.  The values are not allocated, they are static constant strings.  * Although the values are never NULL, not all directories traversed  * are necessarily listed.  For example, directories which did not  * have an svn:externals property set or modified are not included.  *  * The hashes and keys have the same lifetime as @a traversal_info.  *  * New code should use the svn_wc_external_update_t callback instead.  *  * @since New in 1.5.  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|void
name|svn_wc_traversed_depths
parameter_list|(
name|apr_hash_t
modifier|*
modifier|*
name|depths
parameter_list|,
name|svn_wc_traversal_info_t
modifier|*
name|traversal_info
parameter_list|)
function_decl|;
comment|/** One external item.  This usually represents one line from an  * svn:externals description but with the path and URL  * canonicalized.  *  * In order to avoid backwards compatibility problems clients should use  * svn_wc_external_item2_create() to allocate and initialize this structure  * instead of doing so themselves.  *  * @since New in 1.5.  */
typedef|typedef
struct|struct
name|svn_wc_external_item2_t
block|{
comment|/** The name of the subdirectory into which this external should be       checked out.  This is relative to the parent directory that       holds this external item.  (Note that these structs are often       stored in hash tables with the target dirs as keys, so this       field will often be redundant.) */
specifier|const
name|char
modifier|*
name|target_dir
decl_stmt|;
comment|/** Where to check out from. This is possibly a relative external URL, as    * allowed in externals definitions, but without the peg revision. */
specifier|const
name|char
modifier|*
name|url
decl_stmt|;
comment|/** What revision to check out.  The only valid kinds for this are       svn_opt_revision_number, svn_opt_revision_date, and       svn_opt_revision_head. */
name|svn_opt_revision_t
name|revision
decl_stmt|;
comment|/** The peg revision to use when checking out.  The only valid kinds are       svn_opt_revision_number, svn_opt_revision_date, and       svn_opt_revision_head. */
name|svn_opt_revision_t
name|peg_revision
decl_stmt|;
block|}
name|svn_wc_external_item2_t
typedef|;
comment|/**  * Initialize an external item.  * Set @a *item to an external item object, allocated in @a pool.  *  * In order to avoid backwards compatibility problems, this function  * is used to initialize and allocate the #svn_wc_external_item2_t  * structure rather than doing so explicitly, as the size of this  * structure may change in the future.  *  * The current implementation never returns error, but callers should  * still check for error, for compatibility with future versions.  *  * @since New in 1.8.  */
name|svn_error_t
modifier|*
name|svn_wc_external_item2_create
parameter_list|(
name|svn_wc_external_item2_t
modifier|*
modifier|*
name|item
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Same as svn_wc_external_item2_create() except the pointer to the new  * empty item is 'const' which is stupid since the next thing you need to do  * is fill in its fields.  *  * @deprecated Provided for backward compatibility with the 1.7 API.  * @since New in 1.5.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_external_item_create
parameter_list|(
specifier|const
name|svn_wc_external_item2_t
modifier|*
modifier|*
name|item
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Return a duplicate of @a item, allocated in @a pool.  No part of the new  * item will be shared with @a item.  *  * @since New in 1.5.  */
name|svn_wc_external_item2_t
modifier|*
name|svn_wc_external_item2_dup
parameter_list|(
specifier|const
name|svn_wc_external_item2_t
modifier|*
name|item
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * One external item.  Similar to svn_wc_external_item2_t, except  * @a revision is interpreted as both the operational revision and the  * peg revision.  *  * @deprecated Provided for backward compatibility with the 1.4 API.  */
typedef|typedef
struct|struct
name|svn_wc_external_item_t
block|{
comment|/** Same as #svn_wc_external_item2_t.target_dir */
specifier|const
name|char
modifier|*
name|target_dir
decl_stmt|;
comment|/** Same as #svn_wc_external_item2_t.url */
specifier|const
name|char
modifier|*
name|url
decl_stmt|;
comment|/** Same as #svn_wc_external_item2_t.revision */
name|svn_opt_revision_t
name|revision
decl_stmt|;
block|}
name|svn_wc_external_item_t
typedef|;
comment|/**  * Return a duplicate of @a item, allocated in @a pool.  No part of the new  * item will be shared with @a item.  *  * @since New in 1.3.  *  * @deprecated Provided for backward compatibility with the 1.4 API.  */
name|SVN_DEPRECATED
name|svn_wc_external_item_t
modifier|*
name|svn_wc_external_item_dup
parameter_list|(
specifier|const
name|svn_wc_external_item_t
modifier|*
name|item
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * If @a externals_p is non-NULL, set @a *externals_p to an array of  * #svn_wc_external_item2_t * objects based on @a desc.  *  * If the format of @a desc is invalid, don't touch @a *externals_p and  * return #SVN_ERR_CLIENT_INVALID_EXTERNALS_DESCRIPTION.  Thus, if  * you just want to check the validity of an externals description,  * and don't care about the parsed result, pass NULL for @a externals_p.  *  * The format of @a desc is the same as for values of the directory  * property #SVN_PROP_EXTERNALS.  Look there for more details.  *  * If @a canonicalize_url is @c TRUE, canonicalize the @a url member  * of those objects.  If the @a url member refers to an absolute URL,  * it will be canonicalized as URL consistent with the way URLs are  * canonicalized throughout the Subversion API.  If, however, the  * @a url member makes use of the recognized (SVN-specific) relative  * URL syntax for svn:externals, "canonicalization" is an ill-defined  * concept which may even result in munging the relative URL syntax  * beyond recognition.  You've been warned.  *  * Allocate the table, keys, and values in @a pool.  *  * Use @a parent_directory only in constructing error strings.  *  * @since New in 1.5.  */
name|svn_error_t
modifier|*
name|svn_wc_parse_externals_description3
parameter_list|(
name|apr_array_header_t
modifier|*
modifier|*
name|externals_p
parameter_list|,
specifier|const
name|char
modifier|*
name|parent_directory
parameter_list|,
specifier|const
name|char
modifier|*
name|desc
parameter_list|,
name|svn_boolean_t
name|canonicalize_url
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_parse_externals_description3() with @a  * canonicalize_url set to @c TRUE, but returns an array of  * #svn_wc_external_item_t * objects instead of  * #svn_wc_external_item2_t * objects  *  * @since New in 1.1.  *  * @deprecated Provided for backward compatibility with the 1.4 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_parse_externals_description2
parameter_list|(
name|apr_array_header_t
modifier|*
modifier|*
name|externals_p
parameter_list|,
specifier|const
name|char
modifier|*
name|parent_directory
parameter_list|,
specifier|const
name|char
modifier|*
name|desc
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_parse_externals_description2(), but returns the  * parsed externals in a hash instead of an array.  This function  * should not be used, as storing the externals in a hash causes their  * order of evaluation to be not easily identifiable.  *  * @deprecated Provided for backward compatibility with the 1.0 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_parse_externals_description
parameter_list|(
name|apr_hash_t
modifier|*
modifier|*
name|externals_p
parameter_list|,
specifier|const
name|char
modifier|*
name|parent_directory
parameter_list|,
specifier|const
name|char
modifier|*
name|desc
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** @} */
comment|/**  * @defgroup svn_wc_notifications Notification callback handling  * @{  *  * In many cases, the WC library will scan a working copy and make  * changes. The caller usually wants to know when each of these changes  * has been made, so that it can display some kind of notification to  * the user.  *  * These notifications have a standard callback function type, which  * takes the path of the file that was affected, and a caller-  * supplied baton.  *  * @note The callback is a 'void' return -- this is a simple  * reporting mechanism, rather than an opportunity for the caller to  * alter the operation of the WC library.  *  * @note Some of the actions are used across several  * different Subversion commands.  For example, the update actions are  * also used for checkouts, switches, and merges.  */
comment|/** The type of action occurring. */
typedef|typedef
enum|enum
name|svn_wc_notify_action_t
block|{
comment|/** Adding a path to revision control. */
name|svn_wc_notify_add
init|=
literal|0
block|,
comment|/** Copying a versioned path. */
name|svn_wc_notify_copy
block|,
comment|/** Deleting a versioned path. */
name|svn_wc_notify_delete
block|,
comment|/** Restoring a missing path from the pristine text-base. */
name|svn_wc_notify_restore
block|,
comment|/** Reverting a modified path. */
name|svn_wc_notify_revert
block|,
comment|/** A revert operation has failed. */
name|svn_wc_notify_failed_revert
block|,
comment|/** Resolving a conflict. */
name|svn_wc_notify_resolved
block|,
comment|/** Skipping a path. */
name|svn_wc_notify_skip
block|,
comment|/** Got a delete in an update. */
name|svn_wc_notify_update_delete
block|,
comment|/** Got an add in an update. */
name|svn_wc_notify_update_add
block|,
comment|/** Got any other action in an update. */
name|svn_wc_notify_update_update
block|,
comment|/** The last notification in an update (including updates of externals). */
name|svn_wc_notify_update_completed
block|,
comment|/** Updating an external module. */
name|svn_wc_notify_update_external
block|,
comment|/** The last notification in a status (including status on externals). */
name|svn_wc_notify_status_completed
block|,
comment|/** Running status on an external module. */
name|svn_wc_notify_status_external
block|,
comment|/** Committing a modification. */
name|svn_wc_notify_commit_modified
block|,
comment|/** Committing an addition. */
name|svn_wc_notify_commit_added
block|,
comment|/** Committing a deletion. */
name|svn_wc_notify_commit_deleted
block|,
comment|/** Committing a replacement. */
name|svn_wc_notify_commit_replaced
block|,
comment|/** Transmitting post-fix text-delta data for a file. */
name|svn_wc_notify_commit_postfix_txdelta
block|,
comment|/** Processed a single revision's blame. */
name|svn_wc_notify_blame_revision
block|,
comment|/** Locking a path. @since New in 1.2. */
name|svn_wc_notify_locked
block|,
comment|/** Unlocking a path. @since New in 1.2. */
name|svn_wc_notify_unlocked
block|,
comment|/** Failed to lock a path. @since New in 1.2. */
name|svn_wc_notify_failed_lock
block|,
comment|/** Failed to unlock a path. @since New in 1.2. */
name|svn_wc_notify_failed_unlock
block|,
comment|/** Tried adding a path that already exists. @since New in 1.5. */
name|svn_wc_notify_exists
block|,
comment|/** Changelist name set. @since New in 1.5. */
name|svn_wc_notify_changelist_set
block|,
comment|/** Changelist name cleared. @since New in 1.5. */
name|svn_wc_notify_changelist_clear
block|,
comment|/** Warn user that a path has moved from one changelist to another.       @since New in 1.5.       @deprecated As of 1.7, separate clear and set notifications are sent. */
name|svn_wc_notify_changelist_moved
block|,
comment|/** A merge operation (to path) has begun.  See #svn_wc_notify_t.merge_range.       @since New in 1.5. */
name|svn_wc_notify_merge_begin
block|,
comment|/** A merge operation (to path) from a foreign repository has begun.       See #svn_wc_notify_t.merge_range.  @since New in 1.5. */
name|svn_wc_notify_foreign_merge_begin
block|,
comment|/** Replace notification. @since New in 1.5. */
name|svn_wc_notify_update_replace
block|,
comment|/** Property added. @since New in 1.6. */
name|svn_wc_notify_property_added
block|,
comment|/** Property updated. @since New in 1.6. */
name|svn_wc_notify_property_modified
block|,
comment|/** Property deleted. @since New in 1.6. */
name|svn_wc_notify_property_deleted
block|,
comment|/** Nonexistent property deleted. @since New in 1.6. */
name|svn_wc_notify_property_deleted_nonexistent
block|,
comment|/** Revprop set. @since New in 1.6. */
name|svn_wc_notify_revprop_set
block|,
comment|/** Revprop deleted. @since New in 1.6. */
name|svn_wc_notify_revprop_deleted
block|,
comment|/** The last notification in a merge. @since New in 1.6. */
name|svn_wc_notify_merge_completed
block|,
comment|/** The path is a tree-conflict victim of the intended action (*not*    * a persistent tree-conflict from an earlier operation, but *this*    * operation caused the tree-conflict). @since New in 1.6. */
name|svn_wc_notify_tree_conflict
block|,
comment|/** The path is a subdirectory referenced in an externals definition    * which is unable to be operated on.  @since New in 1.6. */
name|svn_wc_notify_failed_external
block|,
comment|/** Starting an update operation.  @since New in 1.7. */
name|svn_wc_notify_update_started
block|,
comment|/** An update tried to add a file or directory at a path where    * a separate working copy was found.  @since New in 1.7. */
name|svn_wc_notify_update_skip_obstruction
block|,
comment|/** An explicit update tried to update a file or directory that    * doesn't live in the repository and can't be brought in.    * @since New in 1.7. */
name|svn_wc_notify_update_skip_working_only
block|,
comment|/** An update tried to update a file or directory to which access could    * not be obtained. @since New in 1.7. */
name|svn_wc_notify_update_skip_access_denied
block|,
comment|/** An update operation removed an external working copy.    * @since New in 1.7. */
name|svn_wc_notify_update_external_removed
block|,
comment|/** A node below an existing node was added during update.    * @since New in 1.7. */
name|svn_wc_notify_update_shadowed_add
block|,
comment|/** A node below an existing node was updated during update.    * @since New in 1.7. */
name|svn_wc_notify_update_shadowed_update
block|,
comment|/** A node below an existing node was deleted during update.    * @since New in 1.7. */
name|svn_wc_notify_update_shadowed_delete
block|,
comment|/** The mergeinfo on path was updated.  @since New in 1.7. */
name|svn_wc_notify_merge_record_info
block|,
comment|/** A working copy directory was upgraded to the latest format.    * @since New in 1.7. */
name|svn_wc_notify_upgraded_path
block|,
comment|/** Mergeinfo describing a merge was recorded.    * @since New in 1.7. */
name|svn_wc_notify_merge_record_info_begin
block|,
comment|/** Mergeinfo was removed due to elision.    * @since New in 1.7. */
name|svn_wc_notify_merge_elide_info
block|,
comment|/** A file in the working copy was patched.    * @since New in 1.7. */
name|svn_wc_notify_patch
block|,
comment|/** A hunk from a patch was applied.    * @since New in 1.7. */
name|svn_wc_notify_patch_applied_hunk
block|,
comment|/** A hunk from a patch was rejected.    * @since New in 1.7. */
name|svn_wc_notify_patch_rejected_hunk
block|,
comment|/** A hunk from a patch was found to already be applied.    * @since New in 1.7. */
name|svn_wc_notify_patch_hunk_already_applied
block|,
comment|/** Committing a non-overwriting copy (path is the target of the    * copy, not the source).    * @since New in 1.7. */
name|svn_wc_notify_commit_copied
block|,
comment|/** Committing an overwriting (replace) copy (path is the target of    * the copy, not the source).    * @since New in 1.7. */
name|svn_wc_notify_commit_copied_replaced
block|,
comment|/** The server has instructed the client to follow a URL    * redirection.    * @since New in 1.7. */
name|svn_wc_notify_url_redirect
block|,
comment|/** The operation was attempted on a path which doesn't exist.    * @since New in 1.7. */
name|svn_wc_notify_path_nonexistent
block|,
comment|/** Removing a path by excluding it.    * @since New in 1.7. */
name|svn_wc_notify_exclude
block|,
comment|/** Operation failed because the node remains in conflict    * @since New in 1.7. */
name|svn_wc_notify_failed_conflict
block|,
comment|/** Operation failed because an added node is missing    * @since New in 1.7. */
name|svn_wc_notify_failed_missing
block|,
comment|/** Operation failed because a node is out of date    * @since New in 1.7. */
name|svn_wc_notify_failed_out_of_date
block|,
comment|/** Operation failed because an added parent is not selected    * @since New in 1.7. */
name|svn_wc_notify_failed_no_parent
block|,
comment|/** Operation failed because a node is locked by another user and/or    * working copy.  @since New in 1.7. */
name|svn_wc_notify_failed_locked
block|,
comment|/** Operation failed because the operation was forbidden by the server.    * @since New in 1.7. */
name|svn_wc_notify_failed_forbidden_by_server
block|,
comment|/** The operation skipped the path because it was conflicted.    * @since New in 1.7. */
name|svn_wc_notify_skip_conflicted
block|,
comment|/** Just the lock on a file was removed during update.    * @since New in 1.8. */
name|svn_wc_notify_update_broken_lock
block|,
comment|/** Operation failed because a node is obstructed.    * @since New in 1.8. */
name|svn_wc_notify_failed_obstruction
block|,
comment|/** Conflict resolver is starting.    * This can be used by clients to detect when to display conflict summary    * information, for example.    * @since New in 1.8. */
name|svn_wc_notify_conflict_resolver_starting
block|,
comment|/** Conflict resolver is done.    * This can be used by clients to detect when to display conflict summary    * information, for example.    * @since New in 1.8. */
name|svn_wc_notify_conflict_resolver_done
block|,
comment|/** The current operation left local changes of something that was deleted    * The changes are available on (and below) the notified path    * @since New in 1.8. */
name|svn_wc_notify_left_local_modifications
block|,
comment|/** A copy from a foreign repository has started    * @since New in 1.8. */
name|svn_wc_notify_foreign_copy_begin
block|,
comment|/** A move in the working copy has been broken, i.e. degraded into a    * copy + delete. The notified path is the move source (the deleted path).    * ### TODO: Provide path to move destination as well?    * @since New in 1.8. */
name|svn_wc_notify_move_broken
block|}
name|svn_wc_notify_action_t
typedef|;
comment|/** The type of notification that is occurring. */
typedef|typedef
enum|enum
name|svn_wc_notify_state_t
block|{
name|svn_wc_notify_state_inapplicable
init|=
literal|0
block|,
comment|/** Notifier doesn't know or isn't saying. */
name|svn_wc_notify_state_unknown
block|,
comment|/** The state did not change. */
name|svn_wc_notify_state_unchanged
block|,
comment|/** The item wasn't present. */
name|svn_wc_notify_state_missing
block|,
comment|/** An unversioned item obstructed work. */
name|svn_wc_notify_state_obstructed
block|,
comment|/** Pristine state was modified. */
name|svn_wc_notify_state_changed
block|,
comment|/** Modified state had mods merged in. */
name|svn_wc_notify_state_merged
block|,
comment|/** Modified state got conflicting mods. */
name|svn_wc_notify_state_conflicted
block|,
comment|/** The source to copy the file from is missing. */
name|svn_wc_notify_state_source_missing
block|}
name|svn_wc_notify_state_t
typedef|;
comment|/**  * What happened to a lock during an operation.  *  * @since New in 1.2.  */
typedef|typedef
enum|enum
name|svn_wc_notify_lock_state_t
block|{
name|svn_wc_notify_lock_state_inapplicable
init|=
literal|0
block|,
name|svn_wc_notify_lock_state_unknown
block|,
comment|/** The lock wasn't changed. */
name|svn_wc_notify_lock_state_unchanged
block|,
comment|/** The item was locked. */
name|svn_wc_notify_lock_state_locked
block|,
comment|/** The item was unlocked. */
name|svn_wc_notify_lock_state_unlocked
block|}
name|svn_wc_notify_lock_state_t
typedef|;
comment|/**  * Structure used in the #svn_wc_notify_func2_t function.  *  * @c kind, @c content_state, @c prop_state and @c lock_state are from  * after @c action, not before.  *  * @note If @c action is #svn_wc_notify_update_completed, then @c path has  * already been installed, so it is legitimate for an implementation of  * #svn_wc_notify_func2_t to examine @c path in the working copy.  *  * @note The purpose of the @c kind, @c mime_type, @c content_state, and  * @c prop_state fields is to provide "for free" information that an  * implementation is likely to want, and which it would otherwise be  * forced to deduce via expensive operations such as reading entries  * and properties.  However, if the caller does not have this  * information, it will simply pass the corresponding `*_unknown'  * values, and it is up to the implementation how to handle that  * (i.e., whether to attempt deduction, or just to punt and  * give a less informative notification).  *  * @note Callers of notification functions should use svn_wc_create_notify()  * or svn_wc_create_notify_url() to create structures of this type to allow  * for extensibility.  *  * @since New in 1.2.  */
typedef|typedef
struct|struct
name|svn_wc_notify_t
block|{
comment|/** Path, either absolute or relative to the current working directory    * (i.e., not relative to an anchor).  @c path is "." or another valid path    * value for compatibility reasons when the real target is a url that    * is available in @c url. */
specifier|const
name|char
modifier|*
name|path
decl_stmt|;
comment|/** Action that describes what happened to #svn_wc_notify_t.path. */
name|svn_wc_notify_action_t
name|action
decl_stmt|;
comment|/** Node kind of @c path. */
name|svn_node_kind_t
name|kind
decl_stmt|;
comment|/** If non-NULL, indicates the mime-type of @c path.    * It is always @c NULL for directories. */
specifier|const
name|char
modifier|*
name|mime_type
decl_stmt|;
comment|/** Points to the lock structure received from the repository when    * @c action is #svn_wc_notify_locked.  For other actions, it is    * @c NULL. */
specifier|const
name|svn_lock_t
modifier|*
name|lock
decl_stmt|;
comment|/** Points to an error describing the reason for the failure when @c    * action is one of the following: #svn_wc_notify_failed_lock,    * #svn_wc_notify_failed_unlock, #svn_wc_notify_failed_external.    * Is @c NULL otherwise. */
name|svn_error_t
modifier|*
name|err
decl_stmt|;
comment|/** The type of notification that is occurring about node content. */
name|svn_wc_notify_state_t
name|content_state
decl_stmt|;
comment|/** The type of notification that is occurring about node properties. */
name|svn_wc_notify_state_t
name|prop_state
decl_stmt|;
comment|/** Reflects the addition or removal of a lock token in the working copy. */
name|svn_wc_notify_lock_state_t
name|lock_state
decl_stmt|;
comment|/** When @c action is #svn_wc_notify_update_completed, target revision    * of the update, or #SVN_INVALID_REVNUM if not available; when @c    * action is #svn_wc_notify_blame_revision, processed revision; Since    * Subversion 1.7 when action is #svn_wc_notify_update_update or    * #svn_wc_notify_update_add, the target revision.    * In all other cases, it is #SVN_INVALID_REVNUM.    */
name|svn_revnum_t
name|revision
decl_stmt|;
comment|/** If @c action pertains to a changelist, this is the changelist name.    * In all other cases, it is @c NULL.  @since New in 1.5 */
specifier|const
name|char
modifier|*
name|changelist_name
decl_stmt|;
comment|/** When @c action is #svn_wc_notify_merge_begin or    * #svn_wc_notify_foreign_merge_begin or    * #svn_wc_notify_merge_record_info_begin, and both the    * left and right sides of the merge are from the same URL.  In all    * other cases, it is @c NULL.  @since New in 1.5 */
name|svn_merge_range_t
modifier|*
name|merge_range
decl_stmt|;
comment|/** Similar to @c path, but if non-NULL the notification is about a url.    * @since New in 1.6 */
specifier|const
name|char
modifier|*
name|url
decl_stmt|;
comment|/** If non-NULL, specifies an absolute path prefix that can be subtracted    * from the start of the absolute path in @c path or @c url.  Its purpose    * is to allow notification to remove a common prefix from all the paths    * displayed for an operation.  @since New in 1.6 */
specifier|const
name|char
modifier|*
name|path_prefix
decl_stmt|;
comment|/** If @c action relates to properties, specifies the name of the property.    * @since New in 1.6 */
specifier|const
name|char
modifier|*
name|prop_name
decl_stmt|;
comment|/** If @c action is #svn_wc_notify_blame_revision, contains a list of    * revision properties for the specified revision    * @since New in 1.6 */
name|apr_hash_t
modifier|*
name|rev_props
decl_stmt|;
comment|/** If @c action is #svn_wc_notify_update_update or    * #svn_wc_notify_update_add, contains the revision before the update.    * In all other cases, it is #SVN_INVALID_REVNUM.    * @since New in 1.7 */
name|svn_revnum_t
name|old_revision
decl_stmt|;
comment|/** These fields are used by svn patch to identify the    * hunk the notification is for. They are line-based    * offsets and lengths parsed from the unidiff hunk header.    * @since New in 1.7. */
comment|/* @{ */
name|svn_linenum_t
name|hunk_original_start
decl_stmt|;
name|svn_linenum_t
name|hunk_original_length
decl_stmt|;
name|svn_linenum_t
name|hunk_modified_start
decl_stmt|;
name|svn_linenum_t
name|hunk_modified_length
decl_stmt|;
comment|/* @} */
comment|/** The line at which a hunk was matched (and applied).    * @since New in 1.7. */
name|svn_linenum_t
name|hunk_matched_line
decl_stmt|;
comment|/** The fuzz factor the hunk was applied with.    * @since New in 1.7 */
name|svn_linenum_t
name|hunk_fuzz
decl_stmt|;
comment|/* NOTE: Add new fields at the end to preserve binary compatibility.      Also, if you add fields here, you have to update svn_wc_create_notify      and svn_wc_dup_notify. */
block|}
name|svn_wc_notify_t
typedef|;
comment|/**  * Allocate an #svn_wc_notify_t structure in @a pool, initialize and return  * it.  *  * Set the @c path field of the created struct to @a path, and @c action to  * @a action.  Set all other fields to their @c _unknown, @c NULL or  * invalid value, respectively. Make only a shallow copy of the pointer  * @a path.  *  * @since New in 1.2.  */
name|svn_wc_notify_t
modifier|*
name|svn_wc_create_notify
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_notify_action_t
name|action
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Allocate an #svn_wc_notify_t structure in @a pool, initialize and return  * it.  *  * Set the @c url field of the created struct to @a url, @c path to "." and @c  * action to @a action.  Set all other fields to their @c _unknown, @c NULL or  * invalid value, respectively. Make only a shallow copy of the pointer  * @a url.  *  * @since New in 1.6.  */
name|svn_wc_notify_t
modifier|*
name|svn_wc_create_notify_url
parameter_list|(
specifier|const
name|char
modifier|*
name|url
parameter_list|,
name|svn_wc_notify_action_t
name|action
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Return a deep copy of @a notify, allocated in @a pool.  *  * @since New in 1.2.  */
name|svn_wc_notify_t
modifier|*
name|svn_wc_dup_notify
parameter_list|(
specifier|const
name|svn_wc_notify_t
modifier|*
name|notify
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Notify the world that @a notify->action has happened to @a notify->path.  *  * Recommendation: callers of #svn_wc_notify_func2_t should avoid  * invoking it multiple times on the same path within a given  * operation, and implementations should not bother checking for such  * duplicate calls.  For example, in an update, the caller should not  * invoke the notify func on receiving a prop change and then again  * on receiving a text change.  Instead, wait until all changes have  * been received, and then invoke the notify func once (from within  * an #svn_delta_editor_t's close_file(), for example), passing  * the appropriate @a notify->content_state and @a notify->prop_state flags.  *  * @since New in 1.2.  */
typedef|typedef
name|void
function_decl|(
modifier|*
name|svn_wc_notify_func2_t
function_decl|)
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
specifier|const
name|svn_wc_notify_t
modifier|*
name|notify
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to #svn_wc_notify_func2_t, but takes the information as arguments  * instead of struct fields.  *  * @deprecated Provided for backward compatibility with the 1.1 API.  */
typedef|typedef
name|void
function_decl|(
modifier|*
name|svn_wc_notify_func_t
function_decl|)
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_notify_action_t
name|action
parameter_list|,
name|svn_node_kind_t
name|kind
parameter_list|,
specifier|const
name|char
modifier|*
name|mime_type
parameter_list|,
name|svn_wc_notify_state_t
name|content_state
parameter_list|,
name|svn_wc_notify_state_t
name|prop_state
parameter_list|,
name|svn_revnum_t
name|revision
parameter_list|)
function_decl|;
comment|/** @} */
comment|/**  * Interactive conflict handling  *  * @defgroup svn_wc_conflict Conflict callback functionality  * @{  *  * This API gives a Subversion client application the opportunity to  * define a callback that allows the user to resolve conflicts  * interactively during updates and merges.  *  * If a conflict is discovered, libsvn_wc invokes the callback with an  * #svn_wc_conflict_description_t.  This structure describes the  * path in conflict, whether it's a text or property conflict, and may  * also present up to three files that can be used to resolve the  * conflict (perhaps by launching an editor or 3rd-party merging  * tool).  The structure also provides a possible fourth file (@c  * merged_file) which, if not NULL, represents libsvn_wc's attempt to  * contextually merge the first three files.  (Note that libsvn_wc  * will not attempt to merge a file that it believes is binary, and it  * will only attempt to merge property values it believes to be a  * series of multi-line text.)  *  * When the callback is finished interacting with the user, it  * responds by returning a #svn_wc_conflict_result_t.  This  * structure indicates whether the user wants to postpone the conflict  * for later (allowing libsvn_wc to mark the path "conflicted" as  * usual), or whether the user wants libsvn_wc to use one of the four  * files as the "final" state for resolving the conflict immediately.  *  * Note that the callback is at liberty (and encouraged) to merge the  * three files itself.  If it does so, it signals this to libsvn_wc by  * returning a choice of #svn_wc_conflict_choose_merged.  To return  * the 'final' merged file to libsvn_wc, the callback has the option of  * either:  *  *    - editing the original @c merged_file in-place  *  *        or, if libsvn_wc never supplied a merged_file in the  *        description structure (i.e. passed NULL for that field),  *  *    - return the merged file in the #svn_wc_conflict_result_t.  *  */
comment|/** The type of action being attempted on an object.  *  * @since New in 1.5.  */
typedef|typedef
enum|enum
name|svn_wc_conflict_action_t
block|{
name|svn_wc_conflict_action_edit
block|,
comment|/**< attempting to change text or props */
name|svn_wc_conflict_action_add
block|,
comment|/**< attempting to add object */
name|svn_wc_conflict_action_delete
block|,
comment|/**< attempting to delete object */
name|svn_wc_conflict_action_replace
comment|/**< attempting to replace object,                                        @since New in 1.7 */
block|}
name|svn_wc_conflict_action_t
typedef|;
comment|/** The pre-existing condition which is causing a state of conflict.  *  * @since New in 1.5.  */
typedef|typedef
enum|enum
name|svn_wc_conflict_reason_t
block|{
comment|/** Local edits are already present */
name|svn_wc_conflict_reason_edited
block|,
comment|/** Another object is in the way */
name|svn_wc_conflict_reason_obstructed
block|,
comment|/** Object is already schedule-delete */
name|svn_wc_conflict_reason_deleted
block|,
comment|/** Object is unknown or missing */
name|svn_wc_conflict_reason_missing
block|,
comment|/** Object is unversioned */
name|svn_wc_conflict_reason_unversioned
block|,
comment|/** Object is already added or schedule-add. @since New in 1.6. */
name|svn_wc_conflict_reason_added
block|,
comment|/** Object is already replaced. @since New in 1.7. */
name|svn_wc_conflict_reason_replaced
block|,
comment|/** Object is moved away. @since New in 1.8. */
name|svn_wc_conflict_reason_moved_away
block|,
comment|/** Object is moved here. @since New in 1.8. */
name|svn_wc_conflict_reason_moved_here
block|}
name|svn_wc_conflict_reason_t
typedef|;
comment|/** The type of conflict being described by an  * #svn_wc_conflict_description2_t (see below).  *  * @since New in 1.5.  */
typedef|typedef
enum|enum
name|svn_wc_conflict_kind_t
block|{
comment|/** textual conflict (on a file) */
name|svn_wc_conflict_kind_text
block|,
comment|/** property conflict (on a file or dir) */
name|svn_wc_conflict_kind_property
block|,
comment|/** tree conflict (on a dir) @since New in 1.6. */
name|svn_wc_conflict_kind_tree
block|}
name|svn_wc_conflict_kind_t
typedef|;
comment|/** The user operation that exposed a conflict.  *  * @since New in 1.6.  */
typedef|typedef
enum|enum
name|svn_wc_operation_t
block|{
name|svn_wc_operation_none
init|=
literal|0
block|,
name|svn_wc_operation_update
block|,
name|svn_wc_operation_switch
block|,
name|svn_wc_operation_merge
block|}
name|svn_wc_operation_t
typedef|;
comment|/** Info about one of the conflicting versions of a node. Each field may  * have its respective null/invalid/unknown value if the corresponding  * information is not relevant or not available.  *  * @todo Consider making some or all of the info mandatory, to reduce  * complexity.  *  * @note Fields may be added to the end of this structure in future  * versions.  Therefore, to preserve binary compatibility, users  * should not directly allocate structures of this type.  *  * @see svn_wc_conflict_version_create()  * @see svn_wc_conflict_version_dup()  *  * @since New in 1.6. */
typedef|typedef
struct|struct
name|svn_wc_conflict_version_t
block|{
comment|/** @name Where to find this node version in a repository */
comment|/**@{*/
comment|/** URL of repository root */
specifier|const
name|char
modifier|*
name|repos_url
decl_stmt|;
comment|/** revision at which to look up path_in_repos */
name|svn_revnum_t
name|peg_rev
decl_stmt|;
comment|/** path within repos; must not start with '/' */
comment|/* ### should have been called repos_relpath, but we can't change this. */
specifier|const
name|char
modifier|*
name|path_in_repos
decl_stmt|;
comment|/** @} */
comment|/** The node kind.  Can be any kind, including 'none' or 'unknown'. */
name|svn_node_kind_t
name|node_kind
decl_stmt|;
comment|/** UUID of the repository (or NULL if unknown.)    * @since New in 1.8. */
specifier|const
name|char
modifier|*
name|repos_uuid
decl_stmt|;
comment|/* @todo Add metadata about a local copy of the node, if and when    * we store one. */
comment|/* Remember to update svn_wc_conflict_version_create() and    * svn_wc_conflict_version_dup() in case you add fields to this struct. */
block|}
name|svn_wc_conflict_version_t
typedef|;
comment|/**  * Allocate an #svn_wc_conflict_version_t structure in @a pool,  * initialize to contain a conflict origin, and return it.  *  * Set the @c repos_url field of the created struct to @a repos_root_url,  * the @c path_in_repos field to @a repos_relpath, the @c peg_rev field to  * @a revision and the @c node_kind to @a kind. Make only shallow  * copies of the pointer arguments.  *  * @a repos_root_url, @a repos_relpath and @a revision must be valid,  * non-null values. @a repos_uuid should be a valid UUID, but can be  * NULL if unknown. @a kind can be any kind, even 'none' or 'unknown'.  *  * @since New in 1.8.  */
name|svn_wc_conflict_version_t
modifier|*
name|svn_wc_conflict_version_create2
parameter_list|(
specifier|const
name|char
modifier|*
name|repos_root_url
parameter_list|,
specifier|const
name|char
modifier|*
name|repos_uuid
parameter_list|,
specifier|const
name|char
modifier|*
name|repos_relpath
parameter_list|,
name|svn_revnum_t
name|revision
parameter_list|,
name|svn_node_kind_t
name|kind
parameter_list|,
name|apr_pool_t
modifier|*
name|result_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_conflict_version_create2(), but doesn't set all  * required values.  *  * @since New in 1.6.  * @deprecated Provided for backward compatibility with the 1.7 API.  */
name|SVN_DEPRECATED
name|svn_wc_conflict_version_t
modifier|*
name|svn_wc_conflict_version_create
parameter_list|(
specifier|const
name|char
modifier|*
name|repos_url
parameter_list|,
specifier|const
name|char
modifier|*
name|path_in_repos
parameter_list|,
name|svn_revnum_t
name|peg_rev
parameter_list|,
name|svn_node_kind_t
name|node_kind
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Return a duplicate of @a version, allocated in @a pool.  * No part of the new version will be shared with @a version.  *  * @since New in 1.6.  */
name|svn_wc_conflict_version_t
modifier|*
name|svn_wc_conflict_version_dup
parameter_list|(
specifier|const
name|svn_wc_conflict_version_t
modifier|*
name|version
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** A struct that describes a conflict that has occurred in the  * working copy.  *  * The conflict described by this structure is one of:  *   - a conflict on the content of the file node @a local_abspath  *   - a conflict on the property @a property_name of @a local_abspath  *   - a tree conflict, of which @a local_abspath is the victim  * Be aware that the victim of a tree conflict can be a non-existent node.  * The three kinds of conflict are distinguished by @a kind.  *  * @note Fields may be added to the end of this structure in future  * versions.  Therefore, to preserve binary compatibility, users  * should not directly allocate structures of this type but should use  * svn_wc_conflict_description_create_text2() or  * svn_wc_conflict_description_create_prop2() or  * svn_wc_conflict_description_create_tree2() instead.  *  * @since New in 1.7.  */
typedef|typedef
struct|struct
name|svn_wc_conflict_description2_t
block|{
comment|/** The path that is in conflict (for a tree conflict, it is the victim) */
specifier|const
name|char
modifier|*
name|local_abspath
decl_stmt|;
comment|/** The node type of the path being operated on (for a tree conflict,    *  ### which version?) */
name|svn_node_kind_t
name|node_kind
decl_stmt|;
comment|/** What sort of conflict are we describing? */
name|svn_wc_conflict_kind_t
name|kind
decl_stmt|;
comment|/** The name of the property whose conflict is being described.    *  (Only if @a kind is 'property'; else undefined.) */
specifier|const
name|char
modifier|*
name|property_name
decl_stmt|;
comment|/** Whether svn thinks ('my' version of) @c path is a 'binary' file.    *  (Only if @c kind is 'text', else undefined.) */
name|svn_boolean_t
name|is_binary
decl_stmt|;
comment|/** The svn:mime-type property of ('my' version of) @c path, if available,    *  else NULL.    *  (Only if @c kind is 'text', else undefined.) */
specifier|const
name|char
modifier|*
name|mime_type
decl_stmt|;
comment|/** The action being attempted on the conflicted node or property.    *  (When @c kind is 'text', this action must be 'edit'.) */
name|svn_wc_conflict_action_t
name|action
decl_stmt|;
comment|/** The state of the target node or property, relative to its merge-left    *  source, that is the reason for the conflict.    *  (When @c kind is 'text', this reason must be 'edited'.) */
name|svn_wc_conflict_reason_t
name|reason
decl_stmt|;
comment|/** If this is text-conflict and involves the merging of two files    * descended from a common ancestor, here are the paths of up to    * four fulltext files that can be used to interactively resolve the    * conflict.    *    * @a base_abspath, @a their_abspath and @a my_abspath are absolute    * paths.    *    * ### Is @a merged_file relative to some directory, or absolute?    *    * All four files will be in repository-normal form -- LF    * line endings and contracted keywords.  (If any of these files are    * not available, they default to NULL.)    *    * On the other hand, if this is a property-conflict, then these    * paths represent temporary files that contain the three different    * property-values in conflict.  The fourth path (@c merged_file)    * may or may not be NULL;  if set, it represents libsvn_wc's    * attempt to merge the property values together.  (Remember that    * property values are technically binary values, and thus can't    * always be merged.)    */
specifier|const
name|char
modifier|*
name|base_abspath
decl_stmt|;
comment|/* common ancestor of the two files being merged */
comment|/** their version of the file */
comment|/* ### BH: For properties this field contains the reference to              the property rejection (.prej) file */
specifier|const
name|char
modifier|*
name|their_abspath
decl_stmt|;
comment|/** my locally-edited version of the file */
specifier|const
name|char
modifier|*
name|my_abspath
decl_stmt|;
comment|/** merged version; may contain conflict markers */
specifier|const
name|char
modifier|*
name|merged_file
decl_stmt|;
comment|/** The operation that exposed the conflict.    * Used only for tree conflicts.    */
name|svn_wc_operation_t
name|operation
decl_stmt|;
comment|/** Info on the "merge-left source" or "older" version of incoming change. */
specifier|const
name|svn_wc_conflict_version_t
modifier|*
name|src_left_version
decl_stmt|;
comment|/** Info on the "merge-right source" or "their" version of incoming change. */
specifier|const
name|svn_wc_conflict_version_t
modifier|*
name|src_right_version
decl_stmt|;
comment|/* Remember to adjust svn_wc__conflict_description2_dup()    * if you add new fields to this struct. */
block|}
name|svn_wc_conflict_description2_t
typedef|;
comment|/** Similar to #svn_wc_conflict_description2_t, but with relative paths and  * adm_access batons.  Passed to #svn_wc_conflict_resolver_func_t.  *  * @since New in 1.5.  * @deprecated Provided for backward compatibility with the 1.6 API.  */
typedef|typedef
struct|struct
name|svn_wc_conflict_description_t
block|{
comment|/** The path that is in conflict (for a tree conflict, it is the victim) */
specifier|const
name|char
modifier|*
name|path
decl_stmt|;
comment|/** The node type of the path being operated on (for a tree conflict,    *  ### which version?) */
name|svn_node_kind_t
name|node_kind
decl_stmt|;
comment|/** What sort of conflict are we describing? */
name|svn_wc_conflict_kind_t
name|kind
decl_stmt|;
comment|/** The name of the property whose conflict is being described.    *  (Only if @a kind is 'property'; else undefined.) */
specifier|const
name|char
modifier|*
name|property_name
decl_stmt|;
comment|/** Whether svn thinks ('my' version of) @c path is a 'binary' file.    *  (Only if @c kind is 'text', else undefined.) */
name|svn_boolean_t
name|is_binary
decl_stmt|;
comment|/** The svn:mime-type property of ('my' version of) @c path, if available,    *  else NULL.    *  (Only if @c kind is 'text', else undefined.) */
specifier|const
name|char
modifier|*
name|mime_type
decl_stmt|;
comment|/** If not NULL, an open working copy access baton to either the    *  path itself (if @c path is a directory), or to the parent    *  directory (if @c path is a file.)    *  For a tree conflict, this will always be an access baton    *  to the parent directory of the path, even if the path is    *  a directory. */
name|svn_wc_adm_access_t
modifier|*
name|access
decl_stmt|;
comment|/** The action being attempted on the conflicted node or property.    *  (When @c kind is 'text', this action must be 'edit'.) */
name|svn_wc_conflict_action_t
name|action
decl_stmt|;
comment|/** The state of the target node or property, relative to its merge-left    *  source, that is the reason for the conflict.    *  (When @c kind is 'text', this reason must be 'edited'.) */
name|svn_wc_conflict_reason_t
name|reason
decl_stmt|;
comment|/** If this is text-conflict and involves the merging of two files    * descended from a common ancestor, here are the paths of up to    * four fulltext files that can be used to interactively resolve the    * conflict.  All four files will be in repository-normal form -- LF    * line endings and contracted keywords.  (If any of these files are    * not available, they default to NULL.)    *    * On the other hand, if this is a property-conflict, then these    * paths represent temporary files that contain the three different    * property-values in conflict.  The fourth path (@c merged_file)    * may or may not be NULL;  if set, it represents libsvn_wc's    * attempt to merge the property values together.  (Remember that    * property values are technically binary values, and thus can't    * always be merged.)    */
specifier|const
name|char
modifier|*
name|base_file
decl_stmt|;
comment|/* common ancestor of the two files being merged */
comment|/** their version of the file */
specifier|const
name|char
modifier|*
name|their_file
decl_stmt|;
comment|/** my locally-edited version of the file */
specifier|const
name|char
modifier|*
name|my_file
decl_stmt|;
comment|/** merged version; may contain conflict markers */
specifier|const
name|char
modifier|*
name|merged_file
decl_stmt|;
comment|/** The operation that exposed the conflict.    * Used only for tree conflicts.    *    * @since New in 1.6.    */
name|svn_wc_operation_t
name|operation
decl_stmt|;
comment|/** Info on the "merge-left source" or "older" version of incoming change.    * @since New in 1.6. */
name|svn_wc_conflict_version_t
modifier|*
name|src_left_version
decl_stmt|;
comment|/** Info on the "merge-right source" or "their" version of incoming change.    * @since New in 1.6. */
name|svn_wc_conflict_version_t
modifier|*
name|src_right_version
decl_stmt|;
block|}
name|svn_wc_conflict_description_t
typedef|;
comment|/**  * Allocate an #svn_wc_conflict_description_t structure in @a result_pool,  * initialize to represent a text conflict, and return it.  *  * Set the @c local_abspath field of the created struct to @a local_abspath  * (which must be an absolute path), the @c kind field to  * #svn_wc_conflict_kind_text, the @c node_kind to #svn_node_file,  * the @c action to #svn_wc_conflict_action_edit, and the @c reason to  * #svn_wc_conflict_reason_edited.  *  * @note It is the caller's responsibility to set the other required fields  * (such as the four file names and @c mime_type and @c is_binary).  *  * @since New in 1.7.  */
name|svn_wc_conflict_description2_t
modifier|*
name|svn_wc_conflict_description_create_text2
parameter_list|(
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|apr_pool_t
modifier|*
name|result_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_conflict_description_create_text2(), but returns  * a #svn_wc_conflict_description_t *.  *  * @since New in 1.6.  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_wc_conflict_description_t
modifier|*
name|svn_wc_conflict_description_create_text
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Allocate an #svn_wc_conflict_description_t structure in @a result_pool,  * initialize to represent a property conflict, and return it.  *  * Set the @c local_abspath field of the created struct to @a local_abspath  * (which must be an absolute path), the @c kind field  * to #svn_wc_conflict_kind_property, the @c node_kind to @a node_kind, and  * the @c property_name to @a property_name.  *  * @note: It is the caller's responsibility to set the other required fields  * (such as the four file names and @c action and @c reason).  *  * @since New in 1.7.  */
name|svn_wc_conflict_description2_t
modifier|*
name|svn_wc_conflict_description_create_prop2
parameter_list|(
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|svn_node_kind_t
name|node_kind
parameter_list|,
specifier|const
name|char
modifier|*
name|property_name
parameter_list|,
name|apr_pool_t
modifier|*
name|result_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_conflict_descriptor_create_prop(), but returns  * a #svn_wc_conflict_description_t *.  *  * @since New in 1.6.  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_wc_conflict_description_t
modifier|*
name|svn_wc_conflict_description_create_prop
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_node_kind_t
name|node_kind
parameter_list|,
specifier|const
name|char
modifier|*
name|property_name
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Allocate an #svn_wc_conflict_description_t structure in @a pool,  * initialize to represent a tree conflict, and return it.  *  * Set the @c local_abspath field of the created struct to @a local_abspath  * (which must be an absolute path), the @c kind field to  * #svn_wc_conflict_kind_tree, the @c node_kind to @a node_kind, the @c  * operation to @a operation, the @c src_left_version field to  * @a src_left_version, and the @c src_right_version field to  * @a src_right_version.  *  * @note: It is the caller's responsibility to set the other required fields  * (such as the four file names and @c action and @c reason).  *  * @since New in 1.7.  */
name|svn_wc_conflict_description2_t
modifier|*
name|svn_wc_conflict_description_create_tree2
parameter_list|(
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|svn_node_kind_t
name|node_kind
parameter_list|,
name|svn_wc_operation_t
name|operation
parameter_list|,
specifier|const
name|svn_wc_conflict_version_t
modifier|*
name|src_left_version
parameter_list|,
specifier|const
name|svn_wc_conflict_version_t
modifier|*
name|src_right_version
parameter_list|,
name|apr_pool_t
modifier|*
name|result_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_conflict_description_create_tree(), but returns  * a #svn_wc_conflict_description_t *.  *  * @since New in 1.6.  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_wc_conflict_description_t
modifier|*
name|svn_wc_conflict_description_create_tree
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_node_kind_t
name|node_kind
parameter_list|,
name|svn_wc_operation_t
name|operation
parameter_list|,
comment|/* non-const */
name|svn_wc_conflict_version_t
modifier|*
name|src_left_version
parameter_list|,
comment|/* non-const */
name|svn_wc_conflict_version_t
modifier|*
name|src_right_version
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Return a duplicate of @a conflict, allocated in @a result_pool.  * A deep copy of all members will be made.  *  * @since New in 1.7.  */
name|svn_wc_conflict_description2_t
modifier|*
name|svn_wc__conflict_description2_dup
parameter_list|(
specifier|const
name|svn_wc_conflict_description2_t
modifier|*
name|conflict
parameter_list|,
name|apr_pool_t
modifier|*
name|result_pool
parameter_list|)
function_decl|;
comment|/** The way in which the conflict callback chooses a course of action.  *  * @since New in 1.5.  */
typedef|typedef
enum|enum
name|svn_wc_conflict_choice_t
block|{
comment|/** Don't resolve the conflict now.  Let libsvn_wc mark the path      'conflicted', so user can run 'svn resolved' later. */
name|svn_wc_conflict_choose_postpone
block|,
comment|/** If there were files to choose from, select one as a way of      resolving the conflict here and now.  libsvn_wc will then do the      work of "installing" the chosen file.   */
name|svn_wc_conflict_choose_base
block|,
comment|/**< original version */
name|svn_wc_conflict_choose_theirs_full
block|,
comment|/**< incoming version */
name|svn_wc_conflict_choose_mine_full
block|,
comment|/**< own version */
name|svn_wc_conflict_choose_theirs_conflict
block|,
comment|/**< incoming (for conflicted hunks) */
name|svn_wc_conflict_choose_mine_conflict
block|,
comment|/**< own (for conflicted hunks) */
name|svn_wc_conflict_choose_merged
block|,
comment|/**< merged version */
comment|/* @since New in 1.8. */
name|svn_wc_conflict_choose_unspecified
comment|/**< undecided */
block|}
name|svn_wc_conflict_choice_t
typedef|;
comment|/** The final result returned by #svn_wc_conflict_resolver_func_t.  *  * @note Fields may be added to the end of this structure in future  * versions.  Therefore, to preserve binary compatibility, users  * should not directly allocate structures of this type.  Instead,  * construct this structure using svn_wc_create_conflict_result()  * below.  *  * @since New in 1.5.  */
typedef|typedef
struct|struct
name|svn_wc_conflict_result_t
block|{
comment|/** A choice to either delay the conflict resolution or select a       particular file to resolve the conflict. */
name|svn_wc_conflict_choice_t
name|choice
decl_stmt|;
comment|/** If not NULL, this is a path to a file which contains the client's       (or more likely, the user's) merging of the three values in       conflict.  libsvn_wc accepts this file if (and only if) @c choice       is set to #svn_wc_conflict_choose_merged.*/
specifier|const
name|char
modifier|*
name|merged_file
decl_stmt|;
comment|/** If true, save a backup copy of merged_file (or the original       merged_file from the conflict description, if merged_file is       NULL) in the user's working copy. */
name|svn_boolean_t
name|save_merged
decl_stmt|;
block|}
name|svn_wc_conflict_result_t
typedef|;
comment|/**  * Allocate an #svn_wc_conflict_result_t structure in @a pool,  * initialize and return it.  *  * Set the @c choice field of the structure to @a choice, and @c  * merged_file to @a merged_file.  Set all other fields to their @c  * _unknown, @c NULL or invalid value, respectively. Make only a shallow  * copy of the pointer argument @a merged_file.  *  * @since New in 1.5.  */
name|svn_wc_conflict_result_t
modifier|*
name|svn_wc_create_conflict_result
parameter_list|(
name|svn_wc_conflict_choice_t
name|choice
parameter_list|,
specifier|const
name|char
modifier|*
name|merged_file
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** A callback used in merge, update and switch for resolving conflicts  * during the application of a tree delta to a working copy.  *  * @a description describes the exact nature of the conflict, and  * provides information to help resolve it.  @a baton is a closure  * object; it should be provided by the implementation, and passed by  * the caller.  When finished, the callback signals its resolution by  * returning a structure in @a *result, which should be allocated in  * @a result_pool.  (See #svn_wc_conflict_result_t.)  @a scratch_pool  * should be used for any temporary allocations.  *  * The values #svn_wc_conflict_choose_mine_conflict and  * #svn_wc_conflict_choose_theirs_conflict are not legal for conflicts  * in binary files or binary properties.  *  * Implementations of this callback are free to present the conflict  * using any user interface.  This may include simple contextual  * conflicts in a file's text or properties, or more complex  * 'tree'-based conflicts related to obstructed additions, deletions,  * and edits.  The callback implementation is free to decide which  * sorts of conflicts to handle; it's also free to decide which types  * of conflicts are automatically resolvable and which require user  * interaction.  *  * @since New in 1.7.  */
typedef|typedef
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|svn_wc_conflict_resolver_func2_t
function_decl|)
parameter_list|(
name|svn_wc_conflict_result_t
modifier|*
modifier|*
name|result
parameter_list|,
specifier|const
name|svn_wc_conflict_description2_t
modifier|*
name|description
parameter_list|,
name|void
modifier|*
name|baton
parameter_list|,
name|apr_pool_t
modifier|*
name|result_pool
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Similar to #svn_wc_conflict_resolver_func2_t, but using  * #svn_wc_conflict_description_t instead of  * #svn_wc_conflict_description2_t  *  * @since New in 1.5.  * @deprecated Provided for backward compatibility with the 1.6 API.  */
typedef|typedef
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|svn_wc_conflict_resolver_func_t
function_decl|)
parameter_list|(
name|svn_wc_conflict_result_t
modifier|*
modifier|*
name|result
parameter_list|,
specifier|const
name|svn_wc_conflict_description_t
modifier|*
name|description
parameter_list|,
name|void
modifier|*
name|baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** @} */
comment|/**  * A callback vtable invoked by our diff-editors, as they receive diffs  * from the server. 'svn diff' and 'svn merge' implement their own versions  * of this vtable.  *  * Common parameters:  *  * If @a state is non-NULL, set @a *state to the state of the item  * after the operation has been performed.  (In practice, this is only  * useful with merge, not diff; diff callbacks will probably set  * @a *state to #svn_wc_notify_state_unknown, since they do not change  * the state and therefore do not bother to know the state after the  * operation.)  By default, @a state refers to the item's content  * state.  Functions concerned with property state have separate  * @a contentstate and @a propstate arguments.  *  * If @a tree_conflicted is non-NULL, set @a *tree_conflicted to true if  * this operation caused a tree conflict, else to false. (Like with @a  * state, this is only useful with merge, not diff; diff callbacks  * should set this to false.)  *  * @since New in 1.7.  */
typedef|typedef
struct|struct
name|svn_wc_diff_callbacks4_t
block|{
comment|/**    * This function is called before @a file_changed to allow callbacks to    * skip the most expensive processing of retrieving the file data.    *    */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|file_opened
function_decl|)
parameter_list|(
name|svn_boolean_t
modifier|*
name|tree_conflicted
parameter_list|,
name|svn_boolean_t
modifier|*
name|skip
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_revnum_t
name|rev
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/**    * A file @a path has changed.  If @a tmpfile2 is non-NULL, the    * contents have changed and those changes can be seen by comparing    * @a tmpfile1 and @a tmpfile2, which represent @a rev1 and @a rev2 of    * the file, respectively.    *    * If known, the @c svn:mime-type value of each file is passed into    * @a mimetype1 and @a mimetype2;  either or both of the values can    * be NULL.  The implementor can use this information to decide if    * (or how) to generate differences.    *    * @a propchanges is an array of (#svn_prop_t) structures. If it contains    * any elements, the original list of properties is provided in    * @a originalprops, which is a hash of #svn_string_t values, keyed on the    * property name.    *    */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|file_changed
function_decl|)
parameter_list|(
name|svn_wc_notify_state_t
modifier|*
name|contentstate
parameter_list|,
name|svn_wc_notify_state_t
modifier|*
name|propstate
parameter_list|,
name|svn_boolean_t
modifier|*
name|tree_conflicted
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
specifier|const
name|char
modifier|*
name|tmpfile1
parameter_list|,
specifier|const
name|char
modifier|*
name|tmpfile2
parameter_list|,
name|svn_revnum_t
name|rev1
parameter_list|,
name|svn_revnum_t
name|rev2
parameter_list|,
specifier|const
name|char
modifier|*
name|mimetype1
parameter_list|,
specifier|const
name|char
modifier|*
name|mimetype2
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|propchanges
parameter_list|,
name|apr_hash_t
modifier|*
name|originalprops
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/**    * A file @a path was added.  The contents can be seen by comparing    * @a tmpfile1 and @a tmpfile2, which represent @a rev1 and @a rev2    * of the file, respectively.  (If either file is empty, the rev    * will be 0.)    *    * If known, the @c svn:mime-type value of each file is passed into    * @a mimetype1 and @a mimetype2;  either or both of the values can    * be NULL.  The implementor can use this information to decide if    * (or how) to generate differences.    *    * @a propchanges is an array of (#svn_prop_t) structures.  If it contains    * any elements, the original list of properties is provided in    * @a originalprops, which is a hash of #svn_string_t values, keyed on the    * property name.    * If @a copyfrom_path is non-@c NULL, this add has history (i.e., is a    * copy), and the origin of the copy may be recorded as    * @a copyfrom_path under @a copyfrom_revision.    */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|file_added
function_decl|)
parameter_list|(
name|svn_wc_notify_state_t
modifier|*
name|contentstate
parameter_list|,
name|svn_wc_notify_state_t
modifier|*
name|propstate
parameter_list|,
name|svn_boolean_t
modifier|*
name|tree_conflicted
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
specifier|const
name|char
modifier|*
name|tmpfile1
parameter_list|,
specifier|const
name|char
modifier|*
name|tmpfile2
parameter_list|,
name|svn_revnum_t
name|rev1
parameter_list|,
name|svn_revnum_t
name|rev2
parameter_list|,
specifier|const
name|char
modifier|*
name|mimetype1
parameter_list|,
specifier|const
name|char
modifier|*
name|mimetype2
parameter_list|,
specifier|const
name|char
modifier|*
name|copyfrom_path
parameter_list|,
name|svn_revnum_t
name|copyfrom_revision
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|propchanges
parameter_list|,
name|apr_hash_t
modifier|*
name|originalprops
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/**    * A file @a path was deleted.  The [loss of] contents can be seen by    * comparing @a tmpfile1 and @a tmpfile2.  @a originalprops provides    * the properties of the file.    * ### Some existing callers include WC "entry props" in @a originalprops.    *    * If known, the @c svn:mime-type value of each file is passed into    * @a mimetype1 and @a mimetype2;  either or both of the values can    * be NULL.  The implementor can use this information to decide if    * (or how) to generate differences.    */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|file_deleted
function_decl|)
parameter_list|(
name|svn_wc_notify_state_t
modifier|*
name|state
parameter_list|,
name|svn_boolean_t
modifier|*
name|tree_conflicted
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
specifier|const
name|char
modifier|*
name|tmpfile1
parameter_list|,
specifier|const
name|char
modifier|*
name|tmpfile2
parameter_list|,
specifier|const
name|char
modifier|*
name|mimetype1
parameter_list|,
specifier|const
name|char
modifier|*
name|mimetype2
parameter_list|,
name|apr_hash_t
modifier|*
name|originalprops
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/**    * A directory @a path was deleted.    */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|dir_deleted
function_decl|)
parameter_list|(
name|svn_wc_notify_state_t
modifier|*
name|state
parameter_list|,
name|svn_boolean_t
modifier|*
name|tree_conflicted
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/**    * A directory @a path has been opened.  @a rev is the revision that the    * directory came from.    *    * This function is called for any existing directory @a path before any    * of the callbacks are called for a child of @a path.    *    * If the callback returns @c TRUE in @a *skip_children, children    * of this directory will be skipped.    */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|dir_opened
function_decl|)
parameter_list|(
name|svn_boolean_t
modifier|*
name|tree_conflicted
parameter_list|,
name|svn_boolean_t
modifier|*
name|skip
parameter_list|,
name|svn_boolean_t
modifier|*
name|skip_children
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_revnum_t
name|rev
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/**    * A directory @a path was added.  @a rev is the revision that the    * directory came from.    *    * This function is called for any new directory @a path before any    * of the callbacks are called for a child of @a path.    *    * If @a copyfrom_path is non-@c NULL, this add has history (i.e., is a    * copy), and the origin of the copy may be recorded as    * @a copyfrom_path under @a copyfrom_revision.    */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|dir_added
function_decl|)
parameter_list|(
name|svn_wc_notify_state_t
modifier|*
name|state
parameter_list|,
name|svn_boolean_t
modifier|*
name|tree_conflicted
parameter_list|,
name|svn_boolean_t
modifier|*
name|skip
parameter_list|,
name|svn_boolean_t
modifier|*
name|skip_children
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_revnum_t
name|rev
parameter_list|,
specifier|const
name|char
modifier|*
name|copyfrom_path
parameter_list|,
name|svn_revnum_t
name|copyfrom_revision
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/**    * A list of property changes (@a propchanges) was applied to the    * directory @a path.    *    * The array is a list of (#svn_prop_t) structures.    *    * @a dir_was_added is set to #TRUE if the directory was added, and    * to #FALSE if the directory pre-existed.    */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|dir_props_changed
function_decl|)
parameter_list|(
name|svn_wc_notify_state_t
modifier|*
name|propstate
parameter_list|,
name|svn_boolean_t
modifier|*
name|tree_conflicted
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_boolean_t
name|dir_was_added
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|propchanges
parameter_list|,
name|apr_hash_t
modifier|*
name|original_props
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/**    * A directory @a path which has been opened with @a dir_opened or @a    * dir_added has been closed.    *    * @a dir_was_added is set to #TRUE if the directory was added, and    * to #FALSE if the directory pre-existed.    */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|dir_closed
function_decl|)
parameter_list|(
name|svn_wc_notify_state_t
modifier|*
name|contentstate
parameter_list|,
name|svn_wc_notify_state_t
modifier|*
name|propstate
parameter_list|,
name|svn_boolean_t
modifier|*
name|tree_conflicted
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_boolean_t
name|dir_was_added
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
block|}
name|svn_wc_diff_callbacks4_t
typedef|;
comment|/**  * Similar to #svn_wc_diff_callbacks4_t, but without @a copyfrom_path and  * @a copyfrom_revision arguments to @c file_added and @c dir_added functions.  *  * @since New in 1.6.  * @deprecated Provided for backward compatibility with the 1.6 API.  */
typedef|typedef
struct|struct
name|svn_wc_diff_callbacks3_t
block|{
comment|/** The same as #svn_wc_diff_callbacks4_t.file_changed. */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|file_changed
function_decl|)
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_notify_state_t
modifier|*
name|contentstate
parameter_list|,
name|svn_wc_notify_state_t
modifier|*
name|propstate
parameter_list|,
name|svn_boolean_t
modifier|*
name|tree_conflicted
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
specifier|const
name|char
modifier|*
name|tmpfile1
parameter_list|,
specifier|const
name|char
modifier|*
name|tmpfile2
parameter_list|,
name|svn_revnum_t
name|rev1
parameter_list|,
name|svn_revnum_t
name|rev2
parameter_list|,
specifier|const
name|char
modifier|*
name|mimetype1
parameter_list|,
specifier|const
name|char
modifier|*
name|mimetype2
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|propchanges
parameter_list|,
name|apr_hash_t
modifier|*
name|originalprops
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|)
function_decl|;
comment|/** Similar to #svn_wc_diff_callbacks4_t.file_added but without    * @a copyfrom_path and @a copyfrom_revision arguments. */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|file_added
function_decl|)
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_notify_state_t
modifier|*
name|contentstate
parameter_list|,
name|svn_wc_notify_state_t
modifier|*
name|propstate
parameter_list|,
name|svn_boolean_t
modifier|*
name|tree_conflicted
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
specifier|const
name|char
modifier|*
name|tmpfile1
parameter_list|,
specifier|const
name|char
modifier|*
name|tmpfile2
parameter_list|,
name|svn_revnum_t
name|rev1
parameter_list|,
name|svn_revnum_t
name|rev2
parameter_list|,
specifier|const
name|char
modifier|*
name|mimetype1
parameter_list|,
specifier|const
name|char
modifier|*
name|mimetype2
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|propchanges
parameter_list|,
name|apr_hash_t
modifier|*
name|originalprops
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|)
function_decl|;
comment|/** The same as #svn_wc_diff_callbacks4_t.file_deleted. */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|file_deleted
function_decl|)
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_notify_state_t
modifier|*
name|state
parameter_list|,
name|svn_boolean_t
modifier|*
name|tree_conflicted
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
specifier|const
name|char
modifier|*
name|tmpfile1
parameter_list|,
specifier|const
name|char
modifier|*
name|tmpfile2
parameter_list|,
specifier|const
name|char
modifier|*
name|mimetype1
parameter_list|,
specifier|const
name|char
modifier|*
name|mimetype2
parameter_list|,
name|apr_hash_t
modifier|*
name|originalprops
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|)
function_decl|;
comment|/** Similar to #svn_wc_diff_callbacks4_t.dir_added but without    * @a copyfrom_path and @a copyfrom_revision arguments. */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|dir_added
function_decl|)
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_notify_state_t
modifier|*
name|state
parameter_list|,
name|svn_boolean_t
modifier|*
name|tree_conflicted
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_revnum_t
name|rev
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|)
function_decl|;
comment|/** The same as #svn_wc_diff_callbacks4_t.dir_deleted. */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|dir_deleted
function_decl|)
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_notify_state_t
modifier|*
name|state
parameter_list|,
name|svn_boolean_t
modifier|*
name|tree_conflicted
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|)
function_decl|;
comment|/** The same as #svn_wc_diff_callbacks4_t.dir_props_changed. */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|dir_props_changed
function_decl|)
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_notify_state_t
modifier|*
name|propstate
parameter_list|,
name|svn_boolean_t
modifier|*
name|tree_conflicted
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|propchanges
parameter_list|,
name|apr_hash_t
modifier|*
name|original_props
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|)
function_decl|;
comment|/** The same as #svn_wc_diff_callbacks4_t.dir_opened. */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|dir_opened
function_decl|)
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_boolean_t
modifier|*
name|tree_conflicted
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_revnum_t
name|rev
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|)
function_decl|;
comment|/** The same as #svn_wc_diff_callbacks4_t.dir_closed. */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|dir_closed
function_decl|)
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_notify_state_t
modifier|*
name|contentstate
parameter_list|,
name|svn_wc_notify_state_t
modifier|*
name|propstate
parameter_list|,
name|svn_boolean_t
modifier|*
name|tree_conflicted
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|)
function_decl|;
block|}
name|svn_wc_diff_callbacks3_t
typedef|;
comment|/**  * Similar to #svn_wc_diff_callbacks3_t, but without the @c dir_opened  * and @c dir_closed functions, and without the @a tree_conflicted argument  * to the functions.  *  * @deprecated Provided for backward compatibility with the 1.2 API.  */
typedef|typedef
struct|struct
name|svn_wc_diff_callbacks2_t
block|{
comment|/** The same as @c file_changed in #svn_wc_diff_callbacks3_t. */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|file_changed
function_decl|)
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_notify_state_t
modifier|*
name|contentstate
parameter_list|,
name|svn_wc_notify_state_t
modifier|*
name|propstate
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
specifier|const
name|char
modifier|*
name|tmpfile1
parameter_list|,
specifier|const
name|char
modifier|*
name|tmpfile2
parameter_list|,
name|svn_revnum_t
name|rev1
parameter_list|,
name|svn_revnum_t
name|rev2
parameter_list|,
specifier|const
name|char
modifier|*
name|mimetype1
parameter_list|,
specifier|const
name|char
modifier|*
name|mimetype2
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|propchanges
parameter_list|,
name|apr_hash_t
modifier|*
name|originalprops
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|)
function_decl|;
comment|/** The same as @c file_added in #svn_wc_diff_callbacks3_t. */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|file_added
function_decl|)
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_notify_state_t
modifier|*
name|contentstate
parameter_list|,
name|svn_wc_notify_state_t
modifier|*
name|propstate
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
specifier|const
name|char
modifier|*
name|tmpfile1
parameter_list|,
specifier|const
name|char
modifier|*
name|tmpfile2
parameter_list|,
name|svn_revnum_t
name|rev1
parameter_list|,
name|svn_revnum_t
name|rev2
parameter_list|,
specifier|const
name|char
modifier|*
name|mimetype1
parameter_list|,
specifier|const
name|char
modifier|*
name|mimetype2
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|propchanges
parameter_list|,
name|apr_hash_t
modifier|*
name|originalprops
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|)
function_decl|;
comment|/** The same as @c file_deleted in #svn_wc_diff_callbacks3_t. */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|file_deleted
function_decl|)
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_notify_state_t
modifier|*
name|state
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
specifier|const
name|char
modifier|*
name|tmpfile1
parameter_list|,
specifier|const
name|char
modifier|*
name|tmpfile2
parameter_list|,
specifier|const
name|char
modifier|*
name|mimetype1
parameter_list|,
specifier|const
name|char
modifier|*
name|mimetype2
parameter_list|,
name|apr_hash_t
modifier|*
name|originalprops
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|)
function_decl|;
comment|/** The same as @c dir_added in #svn_wc_diff_callbacks3_t. */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|dir_added
function_decl|)
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_notify_state_t
modifier|*
name|state
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_revnum_t
name|rev
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|)
function_decl|;
comment|/** The same as @c dir_deleted in #svn_wc_diff_callbacks3_t. */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|dir_deleted
function_decl|)
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_notify_state_t
modifier|*
name|state
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|)
function_decl|;
comment|/** The same as @c dir_props_changed in #svn_wc_diff_callbacks3_t. */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|dir_props_changed
function_decl|)
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_notify_state_t
modifier|*
name|state
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|propchanges
parameter_list|,
name|apr_hash_t
modifier|*
name|original_props
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|)
function_decl|;
block|}
name|svn_wc_diff_callbacks2_t
typedef|;
comment|/**  * Similar to #svn_wc_diff_callbacks2_t, but with file additions/content  * changes and property changes split into different functions.  *  * @deprecated Provided for backward compatibility with the 1.1 API.  */
typedef|typedef
struct|struct
name|svn_wc_diff_callbacks_t
block|{
comment|/** Similar to @c file_changed in #svn_wc_diff_callbacks2_t, but without    * property change information.  @a tmpfile2 is never NULL. @a state applies    * to the file contents. */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|file_changed
function_decl|)
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_notify_state_t
modifier|*
name|state
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
specifier|const
name|char
modifier|*
name|tmpfile1
parameter_list|,
specifier|const
name|char
modifier|*
name|tmpfile2
parameter_list|,
name|svn_revnum_t
name|rev1
parameter_list|,
name|svn_revnum_t
name|rev2
parameter_list|,
specifier|const
name|char
modifier|*
name|mimetype1
parameter_list|,
specifier|const
name|char
modifier|*
name|mimetype2
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|)
function_decl|;
comment|/** Similar to @c file_added in #svn_wc_diff_callbacks2_t, but without    * property change information.  @a *state applies to the file contents. */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|file_added
function_decl|)
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_notify_state_t
modifier|*
name|state
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
specifier|const
name|char
modifier|*
name|tmpfile1
parameter_list|,
specifier|const
name|char
modifier|*
name|tmpfile2
parameter_list|,
name|svn_revnum_t
name|rev1
parameter_list|,
name|svn_revnum_t
name|rev2
parameter_list|,
specifier|const
name|char
modifier|*
name|mimetype1
parameter_list|,
specifier|const
name|char
modifier|*
name|mimetype2
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|)
function_decl|;
comment|/** Similar to @c file_deleted in #svn_wc_diff_callbacks2_t, but without    * the properties. */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|file_deleted
function_decl|)
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_notify_state_t
modifier|*
name|state
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
specifier|const
name|char
modifier|*
name|tmpfile1
parameter_list|,
specifier|const
name|char
modifier|*
name|tmpfile2
parameter_list|,
specifier|const
name|char
modifier|*
name|mimetype1
parameter_list|,
specifier|const
name|char
modifier|*
name|mimetype2
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|)
function_decl|;
comment|/** The same as @c dir_added in #svn_wc_diff_callbacks2_t. */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|dir_added
function_decl|)
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_notify_state_t
modifier|*
name|state
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_revnum_t
name|rev
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|)
function_decl|;
comment|/** The same as @c dir_deleted in #svn_wc_diff_callbacks2_t. */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|dir_deleted
function_decl|)
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_notify_state_t
modifier|*
name|state
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|)
function_decl|;
comment|/** Similar to @c dir_props_changed in #svn_wc_diff_callbacks2_t, but this    * function is called for files as well as directories. */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|props_changed
function_decl|)
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_wc_notify_state_t
modifier|*
name|state
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|propchanges
parameter_list|,
name|apr_hash_t
modifier|*
name|original_props
parameter_list|,
name|void
modifier|*
name|diff_baton
parameter_list|)
function_decl|;
block|}
name|svn_wc_diff_callbacks_t
typedef|;
comment|/* Asking questions about a working copy. */
comment|/** Set @a *wc_format to @a local_abspath's working copy format version  * number if @a local_abspath is a valid working copy directory, else set it  * to 0.  *  * Return error @c APR_ENOENT if @a local_abspath does not exist at all.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_check_wc2
parameter_list|(
name|int
modifier|*
name|wc_format
parameter_list|,
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_check_wc2(), but with a relative path and no supplied  * working copy context.  *  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_check_wc
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|int
modifier|*
name|wc_format
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Set @a *has_binary_prop to @c TRUE iff @a path has been marked  * with a property indicating that it is non-text (in other words, binary).  * @a adm_access is an access baton set that contains @a path.  *  * @deprecated Provided for backward compatibility with the 1.6 API. As a  * replacement for this functionality, @see svn_mime_type_is_binary and  * #SVN_PROP_MIME_TYPE.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_has_binary_prop
parameter_list|(
name|svn_boolean_t
modifier|*
name|has_binary_prop
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/* Detecting modification. */
comment|/** Set @a *modified_p to non-zero if @a local_abspath's text is modified  * with regard to the base revision, else set @a *modified_p to zero.  * @a local_abspath is the absolute path to the file.  *  * This function uses some heuristics to avoid byte-by-byte comparisons  * against the base text (eg. file size and its modification time).  *  * If @a local_abspath does not exist, consider it unmodified.  If it exists  * but is not under revision control (not even scheduled for  * addition), return the error #SVN_ERR_ENTRY_NOT_FOUND.  *  * @a unused is ignored.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_text_modified_p2
parameter_list|(
name|svn_boolean_t
modifier|*
name|modified_p
parameter_list|,
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|svn_boolean_t
name|unused
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_text_modified_p2(), but with a relative path and  * adm_access baton?  *  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_text_modified_p
parameter_list|(
name|svn_boolean_t
modifier|*
name|modified_p
parameter_list|,
specifier|const
name|char
modifier|*
name|filename
parameter_list|,
name|svn_boolean_t
name|force_comparison
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Set @a *modified_p to non-zero if @a path's properties are modified  * with regard to the base revision, else set @a modified_p to zero.  * @a adm_access must be an access baton for @a path.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_props_modified_p2
parameter_list|(
name|svn_boolean_t
modifier|*
name|modified_p
parameter_list|,
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_props_modified_p2(), but with a relative path and  * adm_access baton.  *  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_props_modified_p
parameter_list|(
name|svn_boolean_t
modifier|*
name|modified_p
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**
comment|* @defgroup svn_wc_entries Entries and status (deprecated)  * @{  */
comment|/** The schedule states an entry can be in.  * @deprecated Provided for backward compatibility with the 1.6 API. */
typedef|typedef
enum|enum
name|svn_wc_schedule_t
block|{
comment|/** Nothing special here */
name|svn_wc_schedule_normal
block|,
comment|/** Slated for addition */
name|svn_wc_schedule_add
block|,
comment|/** Slated for deletion */
name|svn_wc_schedule_delete
block|,
comment|/** Slated for replacement (delete + add) */
name|svn_wc_schedule_replace
block|}
name|svn_wc_schedule_t
typedef|;
comment|/**  * Values for the working_size field in svn_wc_entry_t  * when it isn't set to the actual size value of the unchanged  * working file.  *  *  The value of the working size is unknown (hasn't been  *  calculated and stored in the past for whatever reason).  *  * @since New in 1.5  * @deprecated Provided for backward compatibility with the 1.6 API.  */
define|#
directive|define
name|SVN_WC_ENTRY_WORKING_SIZE_UNKNOWN
value|(-1)
comment|/** A working copy entry -- that is, revision control information about  * one versioned entity.  *  * @deprecated Provided for backward compatibility with the 1.6 API.  */
comment|/* SVN_DEPRECATED */
typedef|typedef
struct|struct
name|svn_wc_entry_t
block|{
comment|/* IMPORTANT: If you extend this structure, add new fields to the end. */
comment|/* General Attributes */
comment|/** entry's name */
specifier|const
name|char
modifier|*
name|name
decl_stmt|;
comment|/** base revision */
name|svn_revnum_t
name|revision
decl_stmt|;
comment|/** url in repository */
specifier|const
name|char
modifier|*
name|url
decl_stmt|;
comment|/** canonical repository URL or NULL if not known */
specifier|const
name|char
modifier|*
name|repos
decl_stmt|;
comment|/** repository uuid */
specifier|const
name|char
modifier|*
name|uuid
decl_stmt|;
comment|/** node kind (file, dir, ...) */
name|svn_node_kind_t
name|kind
decl_stmt|;
comment|/* State information */
comment|/** scheduling (add, delete, replace ...) */
name|svn_wc_schedule_t
name|schedule
decl_stmt|;
comment|/** in a copied state (possibly because the entry is a child of a    *  path that is #svn_wc_schedule_add or #svn_wc_schedule_replace,    *  when the entry itself is #svn_wc_schedule_normal).    *  COPIED is true for nodes under a directory that was copied, but    *  COPYFROM_URL is null there. They are both set for the root    *  destination of the copy.    */
name|svn_boolean_t
name|copied
decl_stmt|;
comment|/** The directory containing this entry had a versioned child of this    * name, but this entry represents a different revision or a switched    * path at which no item exists in the repository. This typically    * arises from committing or updating to a deletion of this entry    * without committing or updating the parent directory.    *    * The schedule can be 'normal' or 'add'. */
name|svn_boolean_t
name|deleted
decl_stmt|;
comment|/** absent -- we know an entry of this name exists, but that's all       (usually this happens because of authz restrictions)  */
name|svn_boolean_t
name|absent
decl_stmt|;
comment|/** for THIS_DIR entry, implies whole entries file is incomplete */
name|svn_boolean_t
name|incomplete
decl_stmt|;
comment|/** copyfrom location */
specifier|const
name|char
modifier|*
name|copyfrom_url
decl_stmt|;
comment|/** copyfrom revision */
name|svn_revnum_t
name|copyfrom_rev
decl_stmt|;
comment|/** old version of conflicted file. A file basename, relative to the    * user's directory that the THIS_DIR entry refers to. */
specifier|const
name|char
modifier|*
name|conflict_old
decl_stmt|;
comment|/** new version of conflicted file. A file basename, relative to the    * user's directory that the THIS_DIR entry refers to. */
specifier|const
name|char
modifier|*
name|conflict_new
decl_stmt|;
comment|/** working version of conflicted file. A file basename, relative to the    * user's directory that the THIS_DIR entry refers to. */
specifier|const
name|char
modifier|*
name|conflict_wrk
decl_stmt|;
comment|/** property reject file. A file basename, relative to the user's    * directory that the THIS_DIR entry refers to. */
specifier|const
name|char
modifier|*
name|prejfile
decl_stmt|;
comment|/** last up-to-date time for text contents (0 means no information available)    */
name|apr_time_t
name|text_time
decl_stmt|;
comment|/** last up-to-date time for properties (0 means no information available)    *    * @deprecated This value will always be 0 in version 1.4 and later.    */
name|apr_time_t
name|prop_time
decl_stmt|;
comment|/** Hex MD5 checksum for the untranslated text base file,    * can be @c NULL for backwards compatibility.    */
specifier|const
name|char
modifier|*
name|checksum
decl_stmt|;
comment|/* "Entry props" */
comment|/** last revision this was changed */
name|svn_revnum_t
name|cmt_rev
decl_stmt|;
comment|/** last date this was changed */
name|apr_time_t
name|cmt_date
decl_stmt|;
comment|/** last commit author of this item */
specifier|const
name|char
modifier|*
name|cmt_author
decl_stmt|;
comment|/** lock token or NULL if path not locked in this WC    * @since New in 1.2.    */
specifier|const
name|char
modifier|*
name|lock_token
decl_stmt|;
comment|/** lock owner, or NULL if not locked in this WC    * @since New in 1.2.    */
specifier|const
name|char
modifier|*
name|lock_owner
decl_stmt|;
comment|/** lock comment or NULL if not locked in this WC or no comment    * @since New in 1.2.    */
specifier|const
name|char
modifier|*
name|lock_comment
decl_stmt|;
comment|/** Lock creation date or 0 if not locked in this WC    * @since New in 1.2.    */
name|apr_time_t
name|lock_creation_date
decl_stmt|;
comment|/** Whether this entry has any working properties.    * False if this information is not stored in the entry.    *    * @since New in 1.4. */
name|svn_boolean_t
name|has_props
decl_stmt|;
comment|/** Whether this entry has property modifications.    *    * @note For working copies in older formats, this flag is not valid.    *    * @see svn_wc_props_modified_p().    *    * @since New in 1.4. */
name|svn_boolean_t
name|has_prop_mods
decl_stmt|;
comment|/** A space-separated list of all properties whose presence/absence is cached    * in this entry.    *    * @see @c present_props.    *    * @since New in 1.4.    * @deprecated This value will always be "" in version 1.7 and later. */
specifier|const
name|char
modifier|*
name|cachable_props
decl_stmt|;
comment|/** Cached property existence for this entry.    * This is a space-separated list of property names.  If a name exists in    * @c cachable_props but not in this list, this entry does not have that    * property.  If a name exists in both lists, the property is present on this    * entry.    *    * @since New in 1.4.    * @deprecated This value will always be "" in version 1.7 and later. */
specifier|const
name|char
modifier|*
name|present_props
decl_stmt|;
comment|/** which changelist this item is part of, or NULL if not part of any.    * @since New in 1.5.    */
specifier|const
name|char
modifier|*
name|changelist
decl_stmt|;
comment|/** Size of the file after being translated into local    * representation, or #SVN_WC_ENTRY_WORKING_SIZE_UNKNOWN if    * unknown.    *    * @since New in 1.5.    */
name|apr_off_t
name|working_size
decl_stmt|;
comment|/** Whether a local copy of this entry should be kept in the working copy    * after a deletion has been committed,  Only valid for the this-dir entry    * when it is scheduled for deletion.    *    * @since New in 1.5. */
name|svn_boolean_t
name|keep_local
decl_stmt|;
comment|/** The depth of this entry.    *    * ### It's a bit annoying that we only use this on this_dir    * ### entries, yet it will exist (with value svn_depth_infinity) on    * ### all entries.  Maybe some future extensibility would make this    * ### field meaningful on entries besides this_dir.    *    * @since New in 1.5. */
name|svn_depth_t
name|depth
decl_stmt|;
comment|/** Serialized data for all of the tree conflicts detected in this_dir.    *    * @since New in 1.6. */
specifier|const
name|char
modifier|*
name|tree_conflict_data
decl_stmt|;
comment|/** The entry is a intra-repository file external and this is the    * repository root relative path to the file specified in the    * externals definition, otherwise NULL if the entry is not a file    * external.    *    * @since New in 1.6. */
specifier|const
name|char
modifier|*
name|file_external_path
decl_stmt|;
comment|/** The entry is a intra-repository file external and this is the    * peg revision number specified in the externals definition.  This    * field is only valid when the file_external_path field is    * non-NULL.  The only permissible values are    * svn_opt_revision_unspecified if the entry is not an external,    * svn_opt_revision_head if the external revision is unspecified or    * specified with -r HEAD or svn_opt_revision_number for a specific    * revision number.    *    * @since New in 1.6. */
name|svn_opt_revision_t
name|file_external_peg_rev
decl_stmt|;
comment|/** The entry is an intra-repository file external and this is the    * operative revision number specified in the externals definition.    * This field is only valid when the file_external_path field is    * non-NULL.  The only permissible values are    * svn_opt_revision_unspecified if the entry is not an external,    * svn_opt_revision_head if the external revision is unspecified or    * specified with -r HEAD or svn_opt_revision_number for a specific    * revision number.    *    * @since New in 1.6. */
name|svn_opt_revision_t
name|file_external_rev
decl_stmt|;
comment|/* IMPORTANT: If you extend this structure, check the following functions in    * subversion/libsvn_wc/entries.c, to see if you need to extend them as well.    *    * svn_wc__atts_to_entry()    * svn_wc_entry_dup()    * alloc_entry()    * read_entry()    * write_entry()    * fold_entry()    */
block|}
name|svn_wc_entry_t
typedef|;
comment|/** How an entries file's owner dir is named in the entries file.  * @deprecated Provided for backward compatibility with the 1.6 API. */
define|#
directive|define
name|SVN_WC_ENTRY_THIS_DIR
value|""
comment|/** Set @a *entry to an entry for @a path, allocated in the access baton pool.  * If @a show_hidden is TRUE, return the entry even if it's in 'excluded',  * 'deleted' or 'absent' state. Excluded entries are those with their depth  * set to #svn_depth_exclude. If @a path is not under revision control, or  * if entry is hidden, not scheduled for re-addition, and @a show_hidden is @c  * FALSE, then set @a *entry to @c NULL.  *  * @a *entry should not be modified, since doing so modifies the entries  * cache in @a adm_access without changing the entries file on disk.  *  * If @a path is not a directory then @a adm_access must be an access baton  * for the parent directory of @a path.  To avoid needing to know whether  * @a path is a directory or not, if @a path is a directory @a adm_access  * can still be an access baton for the parent of @a path so long as the  * access baton for @a path itself is in the same access baton set.  *  * @a path can be relative or absolute but must share the same base used  * to open @a adm_access.  *  * Note that it is possible for @a path to be absent from disk but still  * under revision control; and conversely, it is possible for @a path to  * be present, but not under revision control.  *  * Use @a pool only for local processing.  *  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_entry
parameter_list|(
specifier|const
name|svn_wc_entry_t
modifier|*
modifier|*
name|entry
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_boolean_t
name|show_hidden
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Parse the `entries' file for @a adm_access and return a hash @a entries,  * whose keys are (<tt>const char *</tt>) entry names and values are  * (<tt>svn_wc_entry_t *</tt>).  The hash @a entries, and its keys and  * values, are allocated from the pool used to open the @a adm_access  * baton (that's how the entries caching works).  @a pool is used for  * transient allocations.  *  * Entries that are in a 'excluded', 'deleted' or 'absent' state (and not  * scheduled for re-addition) are not returned in the hash, unless  * @a show_hidden is TRUE. Excluded entries are those with their depth set to  * #svn_depth_exclude.  *  * @par Important:  * The @a entries hash is the entries cache in @a adm_access  * and so usually the hash itself, the keys and the values should be treated  * as read-only.  If any of these are modified then it is the caller's  * responsibility to ensure that the entries file on disk is updated.  Treat  * the hash values as type (<tt>const svn_wc_entry_t *</tt>) if you wish to  * avoid accidental modification.  Modifying the schedule member is a  * particularly bad idea, as the entries writing process relies on having  * access to the original schedule.  Use a duplicate entry to modify the  * schedule.  *  * @par Important:  * Only the entry structures representing files and  * #SVN_WC_ENTRY_THIS_DIR contain complete information.  The entry  * structures representing subdirs have only the `kind' and `state'  * fields filled in.  If you want info on a subdir, you must use this  * routine to open its @a path and read the #SVN_WC_ENTRY_THIS_DIR  * structure, or call svn_wc_entry() on its @a path.  *  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_entries_read
parameter_list|(
name|apr_hash_t
modifier|*
modifier|*
name|entries
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_boolean_t
name|show_hidden
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Return a duplicate of @a entry, allocated in @a pool.  No part of the new  * entry will be shared with @a entry.  *  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_wc_entry_t
modifier|*
name|svn_wc_entry_dup
parameter_list|(
specifier|const
name|svn_wc_entry_t
modifier|*
name|entry
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** @} */
comment|/**  * This struct contains information about a working copy node.  *  * @note Fields may be added to the end of this structure in future  * versions.  Therefore, users shouldn't allocate structures of this  * type, to preserve binary compatibility.  *  * @since New in 1.7.  */
typedef|typedef
struct|struct
name|svn_wc_info_t
block|{
comment|/** The schedule of this item    * ### Do we still need schedule? */
name|svn_wc_schedule_t
name|schedule
decl_stmt|;
comment|/** If copied, the URL from which the copy was made, else @c NULL. */
specifier|const
name|char
modifier|*
name|copyfrom_url
decl_stmt|;
comment|/** If copied, the revision from which the copy was made,    * else #SVN_INVALID_REVNUM. */
name|svn_revnum_t
name|copyfrom_rev
decl_stmt|;
comment|/** The checksum of the node, if it is a file. */
specifier|const
name|svn_checksum_t
modifier|*
name|checksum
decl_stmt|;
comment|/** A changelist the item is in, @c NULL if this node is not in a    * changelist. */
specifier|const
name|char
modifier|*
name|changelist
decl_stmt|;
comment|/** The depth of the item, see #svn_depth_t */
name|svn_depth_t
name|depth
decl_stmt|;
comment|/**    * The size of the file after being translated into its local    * representation, or #SVN_INVALID_FILESIZE if unknown.    * Not applicable for directories.    */
name|svn_filesize_t
name|recorded_size
decl_stmt|;
comment|/**    * The time at which the file had the recorded size recorded_size and was    * considered unmodified. */
name|apr_time_t
name|recorded_time
decl_stmt|;
comment|/** Array of const svn_wc_conflict_description2_t * which contains info    * on any conflict of which this node is a victim. Otherwise NULL.  */
specifier|const
name|apr_array_header_t
modifier|*
name|conflicts
decl_stmt|;
comment|/** The local absolute path of the working copy root.  */
specifier|const
name|char
modifier|*
name|wcroot_abspath
decl_stmt|;
comment|/** The path the node was moved from, if it was moved here. Else NULL.    * @since New in 1.8. */
specifier|const
name|char
modifier|*
name|moved_from_abspath
decl_stmt|;
comment|/** The path the node was moved to, if it was moved away. Else NULL.    * @since New in 1.8. */
specifier|const
name|char
modifier|*
name|moved_to_abspath
decl_stmt|;
block|}
name|svn_wc_info_t
typedef|;
comment|/**  * Return a duplicate of @a info, allocated in @a pool. No part of the new  * structure will be shared with @a info.  *  * @since New in 1.7.  */
name|svn_wc_info_t
modifier|*
name|svn_wc_info_dup
parameter_list|(
specifier|const
name|svn_wc_info_t
modifier|*
name|info
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Given @a local_abspath in a dir under version control, decide if it is  * in a state of conflict; return the answers in @a *text_conflicted_p, @a  * *prop_conflicted_p, and @a *tree_conflicted_p.  If one or two of the  * answers are uninteresting, simply pass @c NULL pointers for those.  *  * If @a local_abspath is unversioned or does not exist, return  * #SVN_ERR_WC_PATH_NOT_FOUND.  *  * If the @a local_abspath has corresponding text conflict files (with suffix  * .mine, .theirs, etc.) that cannot be found, assume that the text conflict  * has been resolved by the user and return @c FALSE in @a  * *text_conflicted_p.  *  * Similarly, if a property conflicts file (.prej suffix) is said to exist,  * but it cannot be found, assume that the property conflicts have been  * resolved by the user and return @c FALSE in @a *prop_conflicted_p.  *  * @a *tree_conflicted_p can't be auto-resolved in this fashion.  An  * explicit `resolved' is needed.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_conflicted_p3
parameter_list|(
name|svn_boolean_t
modifier|*
name|text_conflicted_p
parameter_list|,
name|svn_boolean_t
modifier|*
name|prop_conflicted_p
parameter_list|,
name|svn_boolean_t
modifier|*
name|tree_conflicted_p
parameter_list|,
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_conflicted_p3(), but with a path/adm_access parameter  * pair in place of a wc_ctx/local_abspath pair.  *  * @since New in 1.6.  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_conflicted_p2
parameter_list|(
name|svn_boolean_t
modifier|*
name|text_conflicted_p
parameter_list|,
name|svn_boolean_t
modifier|*
name|prop_conflicted_p
parameter_list|,
name|svn_boolean_t
modifier|*
name|tree_conflicted_p
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Given a @a dir_path under version control, decide if one of its entries  * (@a entry) is in a state of conflict; return the answers in @a  * text_conflicted_p and @a prop_conflicted_p. These pointers must not be  * null.  *  * If the @a entry mentions that text conflict files (with suffix .mine,  * .theirs, etc.) exist, but they cannot be found, assume the text conflict  * has been resolved by the user and return FALSE in @a *text_conflicted_p.  *  * Similarly, if the @a entry mentions that a property conflicts file (.prej  * suffix) exists, but it cannot be found, assume the property conflicts  * have been resolved by the user and return FALSE in @a *prop_conflicted_p.  *  * The @a entry is not updated.  *  * @deprecated Provided for backward compatibility with the 1.5 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_conflicted_p
parameter_list|(
name|svn_boolean_t
modifier|*
name|text_conflicted_p
parameter_list|,
name|svn_boolean_t
modifier|*
name|prop_conflicted_p
parameter_list|,
specifier|const
name|char
modifier|*
name|dir_path
parameter_list|,
specifier|const
name|svn_wc_entry_t
modifier|*
name|entry
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Set @a *url and @a *rev to the ancestor URL and revision for @a path,  * allocating in @a pool.  @a adm_access must be an access baton for @a path.  *  * If @a url or @a rev is NULL, then ignore it (just don't return the  * corresponding information).  *  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_get_ancestry
parameter_list|(
name|char
modifier|*
modifier|*
name|url
parameter_list|,
name|svn_revnum_t
modifier|*
name|rev
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** A callback vtable invoked by the generic entry-walker function.  * @since New in 1.5.  */
typedef|typedef
struct|struct
name|svn_wc_entry_callbacks2_t
block|{
comment|/** An @a entry was found at @a path. */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|found_entry
function_decl|)
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
specifier|const
name|svn_wc_entry_t
modifier|*
name|entry
parameter_list|,
name|void
modifier|*
name|walk_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Handle the error @a err encountered while processing @a path.    * Wrap or squelch @a err as desired, and return an #svn_error_t    * *, or #SVN_NO_ERROR.    */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|handle_error
function_decl|)
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_error_t
modifier|*
name|err
parameter_list|,
name|void
modifier|*
name|walk_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
block|}
name|svn_wc_entry_callbacks2_t
typedef|;
comment|/** @deprecated Provided for backward compatibility with the 1.4 API. */
typedef|typedef
struct|struct
name|svn_wc_entry_callbacks_t
block|{
comment|/** An @a entry was found at @a path. */
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|found_entry
function_decl|)
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
specifier|const
name|svn_wc_entry_t
modifier|*
name|entry
parameter_list|,
name|void
modifier|*
name|walk_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
block|}
name|svn_wc_entry_callbacks_t
typedef|;
comment|/**  * A generic entry-walker.  *  * Do a potentially recursive depth-first entry-walk beginning on  * @a path, which can be a file or dir.  Call callbacks in  * @a walk_callbacks, passing @a walk_baton to each.  Use @a pool for  * looping, recursion, and to allocate all entries returned.  * @a adm_access must be an access baton for @a path.  The pool  * passed to @a walk_callbacks is a temporary subpool of @a pool.  *  * If @a depth is #svn_depth_empty, invoke the callbacks on @a path  * and return without recursing further.  If #svn_depth_files, do  * the same and invoke the callbacks on file children (if any) of  * @a path, then return.  If #svn_depth_immediates, do the preceding  * but also invoke callbacks on immediate subdirectories, then return.  * If #svn_depth_infinity, recurse fully starting from @a path.  *  * If @a cancel_func is non-NULL, call it with @a cancel_baton to determine  * if the client has canceled the operation.  *  * Like our other entries interfaces, entries that are in a 'excluded',  * 'deleted' or 'absent' state (and not scheduled for re-addition) are not  * discovered, unless @a show_hidden is TRUE. Excluded entries are those with  * their depth set to #svn_depth_exclude.  *  * When a new directory is entered, #SVN_WC_ENTRY_THIS_DIR will always  * be returned first.  *  * @note Callers should be aware that each directory will be  * returned *twice*:  first as an entry within its parent, and  * subsequently as the '.' entry within itself.  The two calls can be  * distinguished by looking for #SVN_WC_ENTRY_THIS_DIR in the 'name'  * field of the entry.  *  * @since New in 1.5.  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_walk_entries3
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
specifier|const
name|svn_wc_entry_callbacks2_t
modifier|*
name|walk_callbacks
parameter_list|,
name|void
modifier|*
name|walk_baton
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|svn_boolean_t
name|show_hidden
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_walk_entries3(), but without cancellation support  * or error handling from @a walk_callbacks, and with @a depth always  * set to #svn_depth_infinity.  *  * @since New in 1.2.  * @deprecated Provided for backward compatibility with the 1.4 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_walk_entries2
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
specifier|const
name|svn_wc_entry_callbacks_t
modifier|*
name|walk_callbacks
parameter_list|,
name|void
modifier|*
name|walk_baton
parameter_list|,
name|svn_boolean_t
name|show_hidden
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_walk_entries2(), but without cancellation support.  *  * @deprecated Provided for backward compatibility with the 1.1 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_walk_entries
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
specifier|const
name|svn_wc_entry_callbacks_t
modifier|*
name|walk_callbacks
parameter_list|,
name|void
modifier|*
name|walk_baton
parameter_list|,
name|svn_boolean_t
name|show_hidden
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Mark missing @a path as 'deleted' in its @a parent's list of  * entries.  @a path should be a directory that is both deleted (via  * svn_wc_delete4) and removed (via a system call).  This function  * should only be called during post-commit processing following a  * successful commit editor drive.  *  * Return #SVN_ERR_WC_PATH_FOUND if @a path isn't actually missing.  *  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_mark_missing_deleted
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|parent
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Ensure that an administrative area exists for @a local_abspath, so  * that @a local_abspath is a working copy subdir based on @a url at @a  * revision, with depth @a depth, and with repository UUID @a repos_uuid  * and repository root URL @a repos_root_url.  *  * @a depth must be a definite depth, it cannot be #svn_depth_unknown.  * @a repos_uuid and @a repos_root_url MUST NOT be @c NULL, and  * @a repos_root_url must be a prefix of @a url.  *  * If the administrative area does not exist, then create it and  * initialize it to an unlocked state.  *  * If the administrative area already exists then the given @a url  * must match the URL in the administrative area and the given  * @a revision must match the BASE of the working copy dir unless  * the admin directory is scheduled for deletion or the  * #SVN_ERR_WC_OBSTRUCTED_UPDATE error will be returned.  *  * Do not ensure existence of @a local_abspath itself; if @a local_abspath  * does not exist, return error.  *  * Use @a scratch_pool for temporary allocations.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_ensure_adm4
parameter_list|(
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
specifier|const
name|char
modifier|*
name|url
parameter_list|,
specifier|const
name|char
modifier|*
name|repos_root_url
parameter_list|,
specifier|const
name|char
modifier|*
name|repos_uuid
parameter_list|,
name|svn_revnum_t
name|revision
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_ensure_adm4(), but without the wc context parameter.  *  * @note the @a uuid and @a repos parameters were documented as allowing  * @c NULL to be passed. Beginning with 1.7, this will return an error,  * contrary to prior documented behavior: see 'notes/api-errata/1.7/wc005.txt'.  *  * @since New in 1.5.  * @deprecated Provided for backwards compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_ensure_adm3
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
specifier|const
name|char
modifier|*
name|uuid
parameter_list|,
specifier|const
name|char
modifier|*
name|url
parameter_list|,
specifier|const
name|char
modifier|*
name|repos
parameter_list|,
name|svn_revnum_t
name|revision
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_ensure_adm3(), but with @a depth set to  * #svn_depth_infinity.  *  * See the note on svn_wc_ensure_adm3() regarding the @a repos and @a uuid  * parameters.  *  * @since New in 1.3.  * @deprecated Provided for backwards compatibility with the 1.4 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_ensure_adm2
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
specifier|const
name|char
modifier|*
name|uuid
parameter_list|,
specifier|const
name|char
modifier|*
name|url
parameter_list|,
specifier|const
name|char
modifier|*
name|repos
parameter_list|,
name|svn_revnum_t
name|revision
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_ensure_adm2(), but with @a repos set to @c NULL.  *  * @note as of 1.7, this function always returns #SVN_ERR_BAD_URL since  * the @a repos parameter may not be @c NULL.  *  * @deprecated Provided for backwards compatibility with the 1.2 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_ensure_adm
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
specifier|const
name|char
modifier|*
name|uuid
parameter_list|,
specifier|const
name|char
modifier|*
name|url
parameter_list|,
name|svn_revnum_t
name|revision
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Set the repository root URL of @a path to @a repos, if possible.  *  * Before Subversion 1.7 there could be working copy directories that  * didn't have a stored repository root in some specific circumstances.  * This function allowed setting this root later.  *  * Since Subversion 1.7 this function just returns #SVN_NO_ERROR.  *  * @since New in 1.3.  * @deprecated Provided for backwards compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_maybe_set_repos_root
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
specifier|const
name|char
modifier|*
name|repos
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * @defgroup svn_wc_status Working copy status.  * @{  *  * We have three functions for getting working copy status: one function  * for getting the status of exactly one thing, another for  * getting the statuses of (potentially) multiple things and a third for  * getting the working copy out-of-dateness with respect to the repository.  *  * Why do we have two different functions for getting working copy status?  * The concept of depth, as explained in the documentation for  * svn_depth_t, may be useful in understanding this.  Suppose we're  * getting the status of directory D:  *  * To offer all three levels, we could have one unified function,  * taking a `depth' parameter.  Unfortunately, because this function  * would have to handle multiple return values as well as the single  * return value case, getting the status of just one entity would  * become cumbersome: you'd have to roll through a hash to find one  * lone status.  *  * So we have svn_wc_status3() for depth-empty (just D itself), and  * svn_wc_walk_status() for depth-immediates and depth-infinity,  * since the latter two involve multiple return values. And for  * out-of-dateness information we have svn_wc_get_status_editor5().  */
comment|/** The type of status for the working copy. */
enum|enum
name|svn_wc_status_kind
block|{
comment|/** does not exist */
name|svn_wc_status_none
init|=
literal|1
block|,
comment|/** is not a versioned thing in this wc */
name|svn_wc_status_unversioned
block|,
comment|/** exists, but uninteresting */
name|svn_wc_status_normal
block|,
comment|/** is scheduled for addition */
name|svn_wc_status_added
block|,
comment|/** under v.c., but is missing */
name|svn_wc_status_missing
block|,
comment|/** scheduled for deletion */
name|svn_wc_status_deleted
block|,
comment|/** was deleted and then re-added */
name|svn_wc_status_replaced
block|,
comment|/** text or props have been modified */
name|svn_wc_status_modified
block|,
comment|/** local mods received repos mods (### unused) */
name|svn_wc_status_merged
block|,
comment|/** local mods received conflicting repos mods */
name|svn_wc_status_conflicted
block|,
comment|/** is unversioned but configured to be ignored */
name|svn_wc_status_ignored
block|,
comment|/** an unversioned resource is in the way of the versioned resource */
name|svn_wc_status_obstructed
block|,
comment|/** an unversioned directory path populated by an svn:externals         property; this status is not used for file externals */
name|svn_wc_status_external
block|,
comment|/** a directory doesn't contain a complete entries list */
name|svn_wc_status_incomplete
block|}
enum|;
comment|/**  * Structure for holding the "status" of a working copy item.  *  * @note Fields may be added to the end of this structure in future  * versions.  Therefore, to preserve binary compatibility, users  * should not directly allocate structures of this type.  *  * @since New in 1.7.  */
typedef|typedef
struct|struct
name|svn_wc_status3_t
block|{
comment|/** The kind of node as recorded in the working copy */
name|svn_node_kind_t
name|kind
decl_stmt|;
comment|/** The depth of the node as recorded in the working copy    * (#svn_depth_unknown for files or when no depth is set) */
name|svn_depth_t
name|depth
decl_stmt|;
comment|/** The actual size of the working file on disk, or SVN_INVALID_FILESIZE    * if unknown (or if the item isn't a file at all). */
name|svn_filesize_t
name|filesize
decl_stmt|;
comment|/** If the path is under version control, versioned is TRUE, otherwise    * FALSE. */
name|svn_boolean_t
name|versioned
decl_stmt|;
comment|/** Set to TRUE if the item is the victim of a conflict. */
name|svn_boolean_t
name|conflicted
decl_stmt|;
comment|/** The status of the node itself. In order of precedence: Obstructions,    * structural changes, text changes. */
name|enum
name|svn_wc_status_kind
name|node_status
decl_stmt|;
comment|/** The status of the entry's text. */
name|enum
name|svn_wc_status_kind
name|text_status
decl_stmt|;
comment|/** The status of the entry's properties. */
name|enum
name|svn_wc_status_kind
name|prop_status
decl_stmt|;
comment|/** a file or directory can be 'copied' if it's scheduled for    * addition-with-history (or part of a subtree that is scheduled as such.).    */
name|svn_boolean_t
name|copied
decl_stmt|;
comment|/** Base revision. */
name|svn_revnum_t
name|revision
decl_stmt|;
comment|/** Last revision this was changed */
name|svn_revnum_t
name|changed_rev
decl_stmt|;
comment|/** Date of last commit. */
name|apr_time_t
name|changed_date
decl_stmt|;
comment|/** Last commit author of this item */
specifier|const
name|char
modifier|*
name|changed_author
decl_stmt|;
comment|/** The URL of the repository */
specifier|const
name|char
modifier|*
name|repos_root_url
decl_stmt|;
comment|/** The UUID of the repository */
specifier|const
name|char
modifier|*
name|repos_uuid
decl_stmt|;
comment|/** The in-repository path relative to the repository root. */
specifier|const
name|char
modifier|*
name|repos_relpath
decl_stmt|;
comment|/** a file or directory can be 'switched' if the switch command has been    * used.  If this is TRUE, then file_external will be FALSE.    */
name|svn_boolean_t
name|switched
decl_stmt|;
comment|/** This directory has a working copy lock */
name|svn_boolean_t
name|locked
decl_stmt|;
comment|/** The repository file lock. (Values of path, token, owner, comment    * and are available if a lock is present) */
specifier|const
name|svn_lock_t
modifier|*
name|lock
decl_stmt|;
comment|/** Which changelist this item is part of, or NULL if not part of any. */
specifier|const
name|char
modifier|*
name|changelist
decl_stmt|;
comment|/**    * @defgroup svn_wc_status_ood WC out-of-date info from the repository    * @{    *    * When the working copy item is out-of-date compared to the    * repository, the following fields represent the state of the    * youngest revision of the item in the repository.  If the working    * copy is not out of date, the fields are initialized as described    * below.    */
comment|/** Set to the node kind of the youngest commit, or #svn_node_none    * if not out of date. */
name|svn_node_kind_t
name|ood_kind
decl_stmt|;
comment|/** The status of the node, based on the text status if the node has no    * restructuring changes */
name|enum
name|svn_wc_status_kind
name|repos_node_status
decl_stmt|;
comment|/** The entry's text status in the repository. */
name|enum
name|svn_wc_status_kind
name|repos_text_status
decl_stmt|;
comment|/** The entry's property status in the repository. */
name|enum
name|svn_wc_status_kind
name|repos_prop_status
decl_stmt|;
comment|/** The entry's lock in the repository, if any. */
specifier|const
name|svn_lock_t
modifier|*
name|repos_lock
decl_stmt|;
comment|/** Set to the youngest committed revision, or #SVN_INVALID_REVNUM    * if not out of date. */
name|svn_revnum_t
name|ood_changed_rev
decl_stmt|;
comment|/** Set to the most recent commit date, or @c 0 if not out of date. */
name|apr_time_t
name|ood_changed_date
decl_stmt|;
comment|/** Set to the user name of the youngest commit, or @c NULL if not    * out of date or non-existent.  Because a non-existent @c    * svn:author property has the same behavior as an out-of-date    * working copy, examine @c ood_last_cmt_rev to determine whether    * the working copy is out of date. */
specifier|const
name|char
modifier|*
name|ood_changed_author
decl_stmt|;
comment|/** @} */
comment|/** Set to the local absolute path that this node was moved from, if this    * file or directory has been moved here locally and is the root of that    * move. Otherwise set to NULL.    *    * This will be NULL for moved-here nodes that are just part of a subtree    * that was moved along (and are not themselves a root of a different move    * operation).    *    * @since New in 1.8. */
specifier|const
name|char
modifier|*
name|moved_from_abspath
decl_stmt|;
comment|/** Set to the local absolute path that this node was moved to, if this file    * or directory has been moved away locally and corresponds to the root    * of the destination side of the move. Otherwise set to NULL.    *    * Note: Saying just "root" here could be misleading. For example:    *   svn mv A AA;    *   svn mv AA/B BB;    * creates a situation where A/B is moved-to BB, but one could argue that    * the move source's root actually was AA/B. Note that, as far as the    * working copy is concerned, above case is exactly identical to:    *   svn mv A/B BB;    *   svn mv A AA;    * In both situations, @a moved_to_abspath would be set for nodes A (moved    * to AA) and A/B (moved to BB), only.    *    * This will be NULL for moved-away nodes that were just part of a subtree    * that was moved along (and are not themselves a root of a different move    * operation).    *    * @since New in 1.8. */
specifier|const
name|char
modifier|*
name|moved_to_abspath
decl_stmt|;
comment|/** @c TRUE iff the item is a file brought in by an svn:externals definition.    * @since New in 1.8. */
name|svn_boolean_t
name|file_external
decl_stmt|;
comment|/* NOTE! Please update svn_wc_dup_status3() when adding new fields here. */
block|}
name|svn_wc_status3_t
typedef|;
comment|/**  * ### All diffs are not yet known.  * Same as svn_wc_status3_t, but without the #svn_boolean_t 'versioned'  * field. Instead an item that is not versioned has the 'entry' field set to  * @c NULL.  *  * @since New in 1.2.  * @deprecated Provided for backward compatibility with the 1.6 API.  */
typedef|typedef
struct|struct
name|svn_wc_status2_t
block|{
comment|/** Can be @c NULL if not under version control. */
specifier|const
name|svn_wc_entry_t
modifier|*
name|entry
decl_stmt|;
comment|/** The status of the entry itself, including its text if it is a file. */
name|enum
name|svn_wc_status_kind
name|text_status
decl_stmt|;
comment|/** The status of the entry's properties. */
name|enum
name|svn_wc_status_kind
name|prop_status
decl_stmt|;
comment|/** a directory can be 'locked' if a working copy update was interrupted. */
name|svn_boolean_t
name|locked
decl_stmt|;
comment|/** a file or directory can be 'copied' if it's scheduled for    * addition-with-history (or part of a subtree that is scheduled as such.).    */
name|svn_boolean_t
name|copied
decl_stmt|;
comment|/** a file or directory can be 'switched' if the switch command has been    * used.  If this is TRUE, then file_external will be FALSE.    */
name|svn_boolean_t
name|switched
decl_stmt|;
comment|/** The entry's text status in the repository. */
name|enum
name|svn_wc_status_kind
name|repos_text_status
decl_stmt|;
comment|/** The entry's property status in the repository. */
name|enum
name|svn_wc_status_kind
name|repos_prop_status
decl_stmt|;
comment|/** The entry's lock in the repository, if any. */
name|svn_lock_t
modifier|*
name|repos_lock
decl_stmt|;
comment|/** Set to the URI (actual or expected) of the item.    * @since New in 1.3    */
specifier|const
name|char
modifier|*
name|url
decl_stmt|;
comment|/**    * @defgroup svn_wc_status_ood WC out-of-date info from the repository    * @{    *    * When the working copy item is out-of-date compared to the    * repository, the following fields represent the state of the    * youngest revision of the item in the repository.  If the working    * copy is not out of date, the fields are initialized as described    * below.    */
comment|/** Set to the youngest committed revision, or #SVN_INVALID_REVNUM    * if not out of date.    * @since New in 1.3    */
name|svn_revnum_t
name|ood_last_cmt_rev
decl_stmt|;
comment|/** Set to the most recent commit date, or @c 0 if not out of date.    * @since New in 1.3    */
name|apr_time_t
name|ood_last_cmt_date
decl_stmt|;
comment|/** Set to the node kind of the youngest commit, or #svn_node_none    * if not out of date.    * @since New in 1.3    */
name|svn_node_kind_t
name|ood_kind
decl_stmt|;
comment|/** Set to the user name of the youngest commit, or @c NULL if not    * out of date or non-existent.  Because a non-existent @c    * svn:author property has the same behavior as an out-of-date    * working copy, examine @c ood_last_cmt_rev to determine whether    * the working copy is out of date.    * @since New in 1.3    */
specifier|const
name|char
modifier|*
name|ood_last_cmt_author
decl_stmt|;
comment|/** @} */
comment|/** Non-NULL if the entry is the victim of a tree conflict.    * @since New in 1.6    */
name|svn_wc_conflict_description_t
modifier|*
name|tree_conflict
decl_stmt|;
comment|/** If the item is a file that was added to the working copy with an    * svn:externals; if file_external is TRUE, then switched is always    * FALSE.    * @since New in 1.6    */
name|svn_boolean_t
name|file_external
decl_stmt|;
comment|/** The actual status of the text compared to the pristine base of the    * file. This value isn't masked by other working copy statuses.    * @c pristine_text_status is #svn_wc_status_none if this value was    * not calculated during the status walk.    * @since New in 1.6    */
name|enum
name|svn_wc_status_kind
name|pristine_text_status
decl_stmt|;
comment|/** The actual status of the properties compared to the pristine base of    * the node. This value isn't masked by other working copy statuses.    * @c pristine_prop_status is #svn_wc_status_none if this value was    * not calculated during the status walk.    * @since New in 1.6    */
name|enum
name|svn_wc_status_kind
name|pristine_prop_status
decl_stmt|;
block|}
name|svn_wc_status2_t
typedef|;
comment|/**  * Same as #svn_wc_status2_t, but without the #svn_lock_t 'repos_lock', const char 'url', #svn_revnum_t 'ood_last_cmt_rev', apr_time_t 'ood_last_cmt_date', #svn_node_kind_t 'ood_kind', const char 'ood_last_cmt_author', #svn_wc_conflict_description_t 'tree_conflict', #svn_boolean_t 'file_external', #svn_wc_status_kind 'pristine_text_status', and #svn_wc_status_kind 'pristine_prop_status' fields.  *  * @deprecated Provided for backward compatibility with the 1.1 API.  */
typedef|typedef
struct|struct
name|svn_wc_status_t
block|{
comment|/** Can be @c NULL if not under version control. */
specifier|const
name|svn_wc_entry_t
modifier|*
name|entry
decl_stmt|;
comment|/** The status of the entries text. */
name|enum
name|svn_wc_status_kind
name|text_status
decl_stmt|;
comment|/** The status of the entries properties. */
name|enum
name|svn_wc_status_kind
name|prop_status
decl_stmt|;
comment|/** a directory can be 'locked' if a working copy update was interrupted. */
name|svn_boolean_t
name|locked
decl_stmt|;
comment|/** a file or directory can be 'copied' if it's scheduled for    * addition-with-history (or part of a subtree that is scheduled as such.).    */
name|svn_boolean_t
name|copied
decl_stmt|;
comment|/** a file or directory can be 'switched' if the switch command has been    * used.    */
name|svn_boolean_t
name|switched
decl_stmt|;
comment|/** The entry's text status in the repository. */
name|enum
name|svn_wc_status_kind
name|repos_text_status
decl_stmt|;
comment|/** The entry's property status in the repository. */
name|enum
name|svn_wc_status_kind
name|repos_prop_status
decl_stmt|;
block|}
name|svn_wc_status_t
typedef|;
comment|/**  * Return a deep copy of the @a orig_stat status structure, allocated  * in @a pool.  *  * @since New in 1.7.  */
name|svn_wc_status3_t
modifier|*
name|svn_wc_dup_status3
parameter_list|(
specifier|const
name|svn_wc_status3_t
modifier|*
name|orig_stat
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Same as svn_wc_dup_status3(), but for older svn_wc_status_t structures.  *  * @since New in 1.2  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_wc_status2_t
modifier|*
name|svn_wc_dup_status2
parameter_list|(
specifier|const
name|svn_wc_status2_t
modifier|*
name|orig_stat
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Same as svn_wc_dup_status2(), but for older svn_wc_status_t structures.  *  * @deprecated Provided for backward compatibility with the 1.1 API.  */
name|SVN_DEPRECATED
name|svn_wc_status_t
modifier|*
name|svn_wc_dup_status
parameter_list|(
specifier|const
name|svn_wc_status_t
modifier|*
name|orig_stat
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Fill @a *status for @a local_abspath, allocating in @a result_pool.  * Use @a scratch_pool for temporary allocations.  *  * Here are some things to note about the returned structure.  A quick  * examination of the @c status->text_status after a successful return of  * this function can reveal the following things:  *  *    - #svn_wc_status_none : @a local_abspath is not versioned, and is  *                            not present on disk  *  *    - #svn_wc_status_missing : @a local_abspath is versioned, but is  *                               missing from the working copy.  *  *    - #svn_wc_status_unversioned : @a local_abspath is not versioned,  *                                   but is present on disk and not being  *                                   ignored (see above).  *  * The other available results for the @c text_status field are more  * straightforward in their meanings.  See the comments on the  * #svn_wc_status_kind structure for some hints.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_status3
parameter_list|(
name|svn_wc_status3_t
modifier|*
modifier|*
name|status
parameter_list|,
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|apr_pool_t
modifier|*
name|result_pool
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_status3(), but with a adm_access baton and absolute  * path.  *  * @since New in 1.2.  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_status2
parameter_list|(
name|svn_wc_status2_t
modifier|*
modifier|*
name|status
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  *  Same as svn_wc_status2(), but for older svn_wc_status_t structures.  *  * @deprecated Provided for backward compatibility with the 1.1 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_status
parameter_list|(
name|svn_wc_status_t
modifier|*
modifier|*
name|status
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * A callback for reporting a @a status about @a local_abspath.  *  * @a baton is a closure object; it should be provided by the  * implementation, and passed by the caller.  *  * @a scratch_pool will be cleared between invocations to the callback.  *  * @since New in 1.7.  */
typedef|typedef
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|svn_wc_status_func4_t
function_decl|)
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
specifier|const
name|svn_wc_status3_t
modifier|*
name|status
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/**  * Same as svn_wc_status_func4_t, but with a non-const status and a relative  * path.  *  * @since New in 1.6.  * @deprecated Provided for backward compatibility with the 1.6 API.  */
typedef|typedef
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|svn_wc_status_func3_t
function_decl|)
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_status2_t
modifier|*
name|status
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Same as svn_wc_status_func3_t, but without a provided pool or  * the ability to propagate errors.  *  * @since New in 1.2.  * @deprecated Provided for backward compatibility with the 1.5 API.  */
typedef|typedef
name|void
function_decl|(
modifier|*
name|svn_wc_status_func2_t
function_decl|)
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_status2_t
modifier|*
name|status
parameter_list|)
function_decl|;
comment|/**  *  Same as svn_wc_status_func2_t, but for older svn_wc_status_t structures.  *  * @deprecated Provided for backward compatibility with the 1.1 API.  */
typedef|typedef
name|void
function_decl|(
modifier|*
name|svn_wc_status_func_t
function_decl|)
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_status_t
modifier|*
name|status
parameter_list|)
function_decl|;
comment|/**  * Walk the working copy status of @a local_abspath using @a wc_ctx, by  * creating #svn_wc_status3_t structures and sending these through  * @a status_func / @a status_baton.  *  *  * Assuming the target is a directory, then:  *  *   - If @a get_all is FALSE, then only locally-modified entries will be  *     returned.  If TRUE, then all entries will be returned.  *  *   - If @a ignore_text_mods is TRUE, then the walk will not check for  *     modified files.  Any #svn_wc_status3_t structures returned for files  *     will always have a text_status field set to svn_wc_status_normal.  *     If @a ignore_text_mods is FALSE, the walk checks for text changes  *     and returns #svn_wc_status3_t structures describing any changes.  *  *   - If @a depth is #svn_depth_empty, a status structure will  *     be returned for the target only; if #svn_depth_files, for the  *     target and its immediate file children; if  *     #svn_depth_immediates, for the target and its immediate  *     children; if #svn_depth_infinity, for the target and  *     everything underneath it, fully recursively.  *  *     If @a depth is #svn_depth_unknown, take depths from the  *     working copy and behave as above in each directory's case.  *  *     If the given @a depth is incompatible with the depth found in a  *     working copy directory, the found depth always governs.  *  * If @a no_ignore is set, statuses that would typically be ignored  * will instead be reported.  *  * @a ignore_patterns is an array of file patterns matching  * unversioned files to ignore for the purposes of status reporting,  * or @c NULL if the default set of ignorable file patterns should be used.  *  * If @a cancel_func is non-NULL, call it with @a cancel_baton while walking  * to determine if the client has canceled the operation.  *  * This function uses @a scratch_pool for temporary allocations.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_walk_status
parameter_list|(
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|svn_boolean_t
name|get_all
parameter_list|,
name|svn_boolean_t
name|no_ignore
parameter_list|,
name|svn_boolean_t
name|ignore_text_mods
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|ignore_patterns
parameter_list|,
name|svn_wc_status_func4_t
name|status_func
parameter_list|,
name|void
modifier|*
name|status_baton
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/**  * DEPRECATED -- please use APIs from svn_client.h  *  * ---  *  * Set @a *editor and @a *edit_baton to an editor that generates  * #svn_wc_status3_t structures and sends them through @a status_func /  * @a status_baton.  @a anchor_abspath is a working copy directory  * directory which will be used as the root of our editor.  If @a  * target_basename is not "", it represents a node in the @a anchor_abspath  * which is the subject of the editor drive (otherwise, the @a  * anchor_abspath is the subject).  *  * If @a set_locks_baton is non-@c NULL, it will be set to a baton that can  * be used in a call to the svn_wc_status_set_repos_locks() function.  *  * Callers drive this editor to describe working copy out-of-dateness  * with respect to the repository.  If this information is not  * available or not desired, callers should simply call the  * close_edit() function of the @a editor vtable.  *  * If the editor driver calls @a editor's set_target_revision() vtable  * function, then when the edit drive is completed, @a *edit_revision  * will contain the revision delivered via that interface.  *  * Assuming the target is a directory, then:  *  *   - If @a get_all is FALSE, then only locally-modified entries will be  *     returned.  If TRUE, then all entries will be returned.  *  *   - If @a depth is #svn_depth_empty, a status structure will  *     be returned for the target only; if #svn_depth_files, for the  *     target and its immediate file children; if  *     #svn_depth_immediates, for the target and its immediate  *     children; if #svn_depth_infinity, for the target and  *     everything underneath it, fully recursively.  *  *     If @a depth is #svn_depth_unknown, take depths from the  *     working copy and behave as above in each directory's case.  *  *     If the given @a depth is incompatible with the depth found in a  *     working copy directory, the found depth always governs.  *  * If @a no_ignore is set, statuses that would typically be ignored  * will instead be reported.  *  * @a ignore_patterns is an array of file patterns matching  * unversioned files to ignore for the purposes of status reporting,  * or @c NULL if the default set of ignorable file patterns should be used.  *  * If @a cancel_func is non-NULL, call it with @a cancel_baton while building  * the @a statushash to determine if the client has canceled the operation.  *  * If @a depth_as_sticky is set handle @a depth like when depth_is_sticky is  * passed for updating. This will show excluded nodes show up as added in the  * repository.  *  * If @a server_performs_filtering is TRUE, assume that the server handles  * the ambient depth filtering, so this doesn't have to be handled in the  * editor.  *  * Allocate the editor itself in @a result_pool, and use @a scratch_pool  * for temporary allocations. The editor will do its temporary allocations  * in a subpool of @a result_pool.  *  * @since New in 1.7.  * @deprecated Provided for backward compatibility with the 1.7 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_get_status_editor5
parameter_list|(
specifier|const
name|svn_delta_editor_t
modifier|*
modifier|*
name|editor
parameter_list|,
name|void
modifier|*
modifier|*
name|edit_baton
parameter_list|,
name|void
modifier|*
modifier|*
name|set_locks_baton
parameter_list|,
name|svn_revnum_t
modifier|*
name|edit_revision
parameter_list|,
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|anchor_abspath
parameter_list|,
specifier|const
name|char
modifier|*
name|target_basename
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|svn_boolean_t
name|get_all
parameter_list|,
name|svn_boolean_t
name|no_ignore
parameter_list|,
name|svn_boolean_t
name|depth_as_sticky
parameter_list|,
name|svn_boolean_t
name|server_performs_filtering
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|ignore_patterns
parameter_list|,
name|svn_wc_status_func4_t
name|status_func
parameter_list|,
name|void
modifier|*
name|status_baton
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|result_pool
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/**  * Same as svn_wc_get_status_editor5, but using #svn_wc_status_func3_t  * instead of #svn_wc_status_func4_t. And @a server_performs_filtering  * always set to #TRUE.  *  * This also uses a single pool parameter, stating that all temporary  * allocations are performed in manually constructed/destroyed subpool.  *  * @since New in 1.6.  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_get_status_editor4
parameter_list|(
specifier|const
name|svn_delta_editor_t
modifier|*
modifier|*
name|editor
parameter_list|,
name|void
modifier|*
modifier|*
name|edit_baton
parameter_list|,
name|void
modifier|*
modifier|*
name|set_locks_baton
parameter_list|,
name|svn_revnum_t
modifier|*
name|edit_revision
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|anchor
parameter_list|,
specifier|const
name|char
modifier|*
name|target
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|svn_boolean_t
name|get_all
parameter_list|,
name|svn_boolean_t
name|no_ignore
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|ignore_patterns
parameter_list|,
name|svn_wc_status_func3_t
name|status_func
parameter_list|,
name|void
modifier|*
name|status_baton
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_traversal_info_t
modifier|*
name|traversal_info
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Same as svn_wc_get_status_editor4(), but using #svn_wc_status_func2_t  * instead of #svn_wc_status_func3_t.  *  * @since New in 1.5.  * @deprecated Provided for backward compatibility with the 1.5 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_get_status_editor3
parameter_list|(
specifier|const
name|svn_delta_editor_t
modifier|*
modifier|*
name|editor
parameter_list|,
name|void
modifier|*
modifier|*
name|edit_baton
parameter_list|,
name|void
modifier|*
modifier|*
name|set_locks_baton
parameter_list|,
name|svn_revnum_t
modifier|*
name|edit_revision
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|anchor
parameter_list|,
specifier|const
name|char
modifier|*
name|target
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|svn_boolean_t
name|get_all
parameter_list|,
name|svn_boolean_t
name|no_ignore
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|ignore_patterns
parameter_list|,
name|svn_wc_status_func2_t
name|status_func
parameter_list|,
name|void
modifier|*
name|status_baton
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_traversal_info_t
modifier|*
name|traversal_info
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Like svn_wc_get_status_editor3(), but with @a ignore_patterns  * provided from the corresponding value in @a config, and @a recurse  * instead of @a depth.  If @a recurse is TRUE, behave as if for  * #svn_depth_infinity; else if @a recurse is FALSE, behave as if for  * #svn_depth_immediates.  *  * @since New in 1.2.  * @deprecated Provided for backward compatibility with the 1.4 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_get_status_editor2
parameter_list|(
specifier|const
name|svn_delta_editor_t
modifier|*
modifier|*
name|editor
parameter_list|,
name|void
modifier|*
modifier|*
name|edit_baton
parameter_list|,
name|void
modifier|*
modifier|*
name|set_locks_baton
parameter_list|,
name|svn_revnum_t
modifier|*
name|edit_revision
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|anchor
parameter_list|,
specifier|const
name|char
modifier|*
name|target
parameter_list|,
name|apr_hash_t
modifier|*
name|config
parameter_list|,
name|svn_boolean_t
name|recurse
parameter_list|,
name|svn_boolean_t
name|get_all
parameter_list|,
name|svn_boolean_t
name|no_ignore
parameter_list|,
name|svn_wc_status_func2_t
name|status_func
parameter_list|,
name|void
modifier|*
name|status_baton
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_traversal_info_t
modifier|*
name|traversal_info
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Same as svn_wc_get_status_editor2(), but with @a set_locks_baton set  * to @c NULL, and taking a deprecated svn_wc_status_func_t argument.  *  * @deprecated Provided for backward compatibility with the 1.1 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_get_status_editor
parameter_list|(
specifier|const
name|svn_delta_editor_t
modifier|*
modifier|*
name|editor
parameter_list|,
name|void
modifier|*
modifier|*
name|edit_baton
parameter_list|,
name|svn_revnum_t
modifier|*
name|edit_revision
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|anchor
parameter_list|,
specifier|const
name|char
modifier|*
name|target
parameter_list|,
name|apr_hash_t
modifier|*
name|config
parameter_list|,
name|svn_boolean_t
name|recurse
parameter_list|,
name|svn_boolean_t
name|get_all
parameter_list|,
name|svn_boolean_t
name|no_ignore
parameter_list|,
name|svn_wc_status_func_t
name|status_func
parameter_list|,
name|void
modifier|*
name|status_baton
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_traversal_info_t
modifier|*
name|traversal_info
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Associate @a locks, a hash table mapping<tt>const char*</tt>  * absolute repository paths to<tt>svn_lock_t</tt> objects, with a  * @a set_locks_baton returned by an earlier call to  * svn_wc_get_status_editor3().  @a repos_root is the repository root URL.  * Perform all allocations in @a pool.  *  * @note @a locks will not be copied, so it must be valid throughout the  * edit.  @a pool must also not be destroyed or cleared before the edit is  * finished.  *  * @since New in 1.2.  */
name|svn_error_t
modifier|*
name|svn_wc_status_set_repos_locks
parameter_list|(
name|void
modifier|*
name|set_locks_baton
parameter_list|,
name|apr_hash_t
modifier|*
name|locks
parameter_list|,
specifier|const
name|char
modifier|*
name|repos_root
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** @} */
comment|/**  * Copy @a src_abspath to @a dst_abspath, and schedule @a dst_abspath  * for addition to the repository, remembering the copy history. @a wc_ctx  * is used for accessing the working copy and must contain a write lock for  * the parent directory of @a dst_abspath,  *  * If @a metadata_only is TRUE then this is a database-only operation and  * the working directories and files are not copied.  *  * @a src_abspath must be a file or directory under version control;  * the parent of @a dst_abspath must be a directory under version control  * in the same working copy; @a dst_abspath will be the name of the copied  * item, and it must not exist already if @a metadata_only is FALSE.  Note that  * when @a src points to a versioned file, the working file doesn't  * necessarily exist in which case its text-base is used instead.  *  * If @a cancel_func is non-NULL, call it with @a cancel_baton at  * various points during the operation.  If it returns an error  * (typically #SVN_ERR_CANCELLED), return that error immediately.  *  * If @a notify_func is non-NULL, call it with @a notify_baton and the path  * of the root node (only) of the destination.  *  * Use @a scratch_pool for temporary allocations.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_copy3
parameter_list|(
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|src_abspath
parameter_list|,
specifier|const
name|char
modifier|*
name|dst_abspath
parameter_list|,
name|svn_boolean_t
name|metadata_only
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_copy3(), but takes access batons and a relative path  * and a basename instead of absolute paths and a working copy context.  *  * @since New in 1.2.  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_copy2
parameter_list|(
specifier|const
name|char
modifier|*
name|src
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|dst_parent
parameter_list|,
specifier|const
name|char
modifier|*
name|dst_basename
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_copy2(), but takes an #svn_wc_notify_func_t instead.  *  * @deprecated Provided for backward compatibility with the 1.1 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_copy
parameter_list|(
specifier|const
name|char
modifier|*
name|src
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|dst_parent
parameter_list|,
specifier|const
name|char
modifier|*
name|dst_basename
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_notify_func_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Move @a src_abspath to @a dst_abspath, by scheduling @a dst_abspath  * for addition to the repository, remembering the history. Mark @a src_abspath  * as deleted after moving.@a wc_ctx is used for accessing the working copy and  * must contain a write lock for the parent directory of @a src_abspath and  * @a dst_abspath.  *  * If @a metadata_only is TRUE then this is a database-only operation and  * the working directories and files are not changed.  *  * @a src_abspath must be a file or directory under version control;  * the parent of @a dst_abspath must be a directory under version control  * in the same working copy; @a dst_abspath will be the name of the copied  * item, and it must not exist already if @a metadata_only is FALSE.  Note that  * when @a src points to a versioned file, the working file doesn't  * necessarily exist in which case its text-base is used instead.  *  * If @a cancel_func is non-NULL, call it with @a cancel_baton at  * various points during the operation.  If it returns an error  * (typically #SVN_ERR_CANCELLED), return that error immediately.  *  * If @a notify_func is non-NULL, call it with @a notify_baton and the path  * of the root node (only) of the destination.  *  * Use @a scratch_pool for temporary allocations.  *  * @since New in 1.7.  * @deprecated Provided for backward compatibility with the 1.7 API.  * @see svn_client_move7()  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_move
parameter_list|(
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|src_abspath
parameter_list|,
specifier|const
name|char
modifier|*
name|dst_abspath
parameter_list|,
name|svn_boolean_t
name|metadata_only
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/**  * Schedule @a local_abspath for deletion.  It will be deleted from the  * repository on the next commit.  If @a local_abspath refers to a  * directory, then a recursive deletion will occur. @a wc_ctx must hold  * a write lock for the parent of @a local_abspath, @a local_abspath itself  * and everything below @a local_abspath.  *  * If @a keep_local is FALSE, this function immediately deletes all files,  * modified and unmodified, versioned and of @a delete_unversioned is TRUE,  * unversioned from the working copy.  * It also immediately deletes unversioned directories and directories that  * are scheduled to be added below @a local_abspath.  Only versioned may  * remain in the working copy, these get deleted by the update following  * the commit.  *  * If @a keep_local is TRUE, all files and directories will be kept in the  * working copy (and will become unversioned on the next commit).  *  * If @a delete_unversioned_target is TRUE and @a local_abspath is not  * versioned, @a local_abspath will be handled as an added files without  * history. So it will be deleted if @a keep_local is FALSE. If @a  * delete_unversioned is FALSE and @a local_abspath is not versioned a  * #SVN_ERR_WC_PATH_NOT_FOUND error will be returned.  *  * If @a cancel_func is non-NULL, call it with @a cancel_baton at  * various points during the operation.  If it returns an error  * (typically #SVN_ERR_CANCELLED), return that error immediately.  *  * For each path marked for deletion, @a notify_func will be called with  * the @a notify_baton and that path. The @a notify_func callback may be  * @c NULL if notification is not needed.  *  * Use @a scratch_pool for temporary allocations.  It may be cleared  * immediately upon returning from this function.  *  * @since New in 1.7.  */
comment|/* ### BH: Maybe add a delete_switched flag that allows deny switched             nodes like file externals? */
name|svn_error_t
modifier|*
name|svn_wc_delete4
parameter_list|(
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|svn_boolean_t
name|keep_local
parameter_list|,
name|svn_boolean_t
name|delete_unversioned_target
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_delete4, but uses an access baton and relative path  * instead of a working copy context and absolute path. @a adm_access  * must hold a write lock for the parent of @a path.  *  * @c delete_unversioned_target will always be set to TRUE.  *  * @since New in 1.5.  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_delete3
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|svn_boolean_t
name|keep_local
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_delete3(), but with @a keep_local always set to FALSE.  *  * @deprecated Provided for backward compatibility with the 1.4 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_delete2
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_delete2(), but takes an #svn_wc_notify_func_t instead.  *  * @deprecated Provided for backward compatibility with the 1.1 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_delete
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_notify_func_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Schedule the single node that exists on disk at @a local_abspath for  * addition to the working copy.  The added node will have the properties  * provided in @a props, or none if that is NULL.  *  * Check and canonicalize the properties in the same way as  * svn_wc_prop_set4().  Return an error and don't add the node if the  * properties are not valid on this node.  Unlike svn_wc_prop_set4()  * there is no option to skip some of the checks and canonicalizations.  *  * ### The error code on validity check failure should be specified, and  *     preferably should be a single code.  *  * The versioned state of the parent path must be a modifiable directory,  * and the versioned state of @a local_abspath must be either nonexistent or  * deleted; if deleted, the new node will be a replacement.  *  * If @a local_abspath does not exist as file, directory or symlink, return  * #SVN_ERR_WC_PATH_NOT_FOUND.  *  * ### TODO: Split into add_dir, add_file, add_symlink?  *  * @since New in 1.8.  */
name|svn_error_t
modifier|*
name|svn_wc_add_from_disk2
parameter_list|(
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
specifier|const
name|apr_hash_t
modifier|*
name|props
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_add_from_disk2(), but always passes NULL for @a  * props.  *  * This is a replacement for svn_wc_add4() case 2a (which see for  * details).   * @see svn_wc_add4()  *  * @since New in 1.7.  * @deprecated Provided for backward compatibility with the 1.7 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_add_from_disk
parameter_list|(
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/**  * Put @a local_abspath under version control by registering it as addition  * or copy in the database containing its parent. The new node is scheduled  * for addition to the repository below its parent node.  *  * 1) If the node is already versioned, it MUST BE the root of a separate  * working copy from the same repository as the parent WC. The new node  * and anything below it will be scheduled for addition inside the parent  * working copy as a copy of the original location. The separate working  * copy will be integrated by this step. In this case, which is only used  * by code like that of "svn cp URL@rev path" @a copyfrom_url and  * @a copyfrom_rev MUST BE the url and revision of @a local_abspath  * in the separate working copy.  *  * 2a) If the node was not versioned before it will be scheduled as a local  * addition or 2b) if @a copyfrom_url and @a copyfrom_rev are set as a copy  * of that location. In this last case the function doesn't set the pristine  * version (of a file) and/or pristine properties, which callers should  * handle via different APIs. Usually it is easier to call  * svn_wc_add_repos_file4() (### or a possible svn_wc_add_repos_dir()) than  * using this variant.  *  * If @a local_abspath does not exist as file, directory or symlink, return  * #SVN_ERR_WC_PATH_NOT_FOUND.  *  * If @a local_abspath is an unversioned directory, record @a depth on it;  * otherwise, ignore @a depth. (Use #svn_depth_infinity unless you exactly  * know what you are doing, or you may create an unexpected sparse working  * copy)  *  * If @a cancel_func is non-NULL, call it with @a cancel_baton at  * various points during the operation.  If it returns an error  * (typically #SVN_ERR_CANCELLED), return that error immediately.  *  * When the @a local_abspath has been added, then @a notify_func will be  * called (if it is not @c NULL) with the @a notify_baton and the path.  *  * @note Case 1 is deprecated. Consider doing a WC-to-WC copy instead.  * @note For case 2a, prefer svn_wc_add_from_disk().  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_add4
parameter_list|(
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
specifier|const
name|char
modifier|*
name|copyfrom_url
parameter_list|,
name|svn_revnum_t
name|copyfrom_rev
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_add4(), but with an access baton  * and relative path instead of a context and absolute path.  * @since New in 1.6.  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_add3
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|parent_access
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
specifier|const
name|char
modifier|*
name|copyfrom_url
parameter_list|,
name|svn_revnum_t
name|copyfrom_rev
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_add3(), but with the @a depth parameter always  * #svn_depth_infinity.  *  * @since New in 1.2.  * @deprecated Provided for backward compatibility with the 1.5 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_add2
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|parent_access
parameter_list|,
specifier|const
name|char
modifier|*
name|copyfrom_url
parameter_list|,
name|svn_revnum_t
name|copyfrom_rev
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_add2(), but takes an #svn_wc_notify_func_t instead.  *  * @deprecated Provided for backward compatibility with the 1.1 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_add
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|parent_access
parameter_list|,
specifier|const
name|char
modifier|*
name|copyfrom_url
parameter_list|,
name|svn_revnum_t
name|copyfrom_rev
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_notify_func_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Add a file to a working copy at @a local_abspath, obtaining the  * text-base's contents from @a new_base_contents, the wc file's  * content from @a new_contents, its unmodified properties from @a  * new_base_props and its actual properties from @a new_props. Use  * @a wc_ctx for accessing the working copy.  *  * The unmodified text and props normally come from the repository  * file represented by the copyfrom args, see below.  The new file  * will be marked as copy.  *  * @a new_contents and @a new_props may be NULL, in which case  * the working copy text and props are taken from the base files with  * appropriate translation of the file's content.  *  * @a new_contents must be provided in Normal Form. This is required  * in order to pass both special and non-special files through a stream.  *  * @a wc_ctx must contain a write lock for the parent of @a local_abspath.  *  * If @a copyfrom_url is non-NULL, then @a copyfrom_rev must be a  * valid revision number, and together they are the copyfrom history  * for the new file.  *  * The @a cancel_func and @a cancel_baton are a standard cancellation  * callback, or NULL if no callback is needed. @a notify_func and  * @a notify_baton are a notification callback, and (if not NULL)  * will be notified of the addition of this file.  *  * Use @a scratch_pool for temporary allocations.  *  * ### This function is very redundant with svn_wc_add().  Ideally,  * we'd merge them, so that svn_wc_add() would just take optional  * new_props and optional copyfrom information.  That way it could be  * used for both 'svn add somefilesittingonmydisk' and for adding  * files from repositories, with or without copyfrom history.  *  * The problem with this Ideal Plan is that svn_wc_add() also takes  * care of recursive URL-rewriting.  There's a whole comment in its  * doc string about how that's really weird, outside its core mission,  * etc, etc.  So another part of the Ideal Plan is that that  * functionality of svn_wc_add() would move into a separate function.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_add_repos_file4
parameter_list|(
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|svn_stream_t
modifier|*
name|new_base_contents
parameter_list|,
name|svn_stream_t
modifier|*
name|new_contents
parameter_list|,
name|apr_hash_t
modifier|*
name|new_base_props
parameter_list|,
name|apr_hash_t
modifier|*
name|new_props
parameter_list|,
specifier|const
name|char
modifier|*
name|copyfrom_url
parameter_list|,
name|svn_revnum_t
name|copyfrom_rev
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_add_repos_file4, but uses access batons and a  * relative path instead of a working copy context and absolute path.  *  * ### NOTE: the notification callback/baton is not yet used.  *  * @since New in 1.6.  * @deprecated Provided for compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_add_repos_file3
parameter_list|(
specifier|const
name|char
modifier|*
name|dst_path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_stream_t
modifier|*
name|new_base_contents
parameter_list|,
name|svn_stream_t
modifier|*
name|new_contents
parameter_list|,
name|apr_hash_t
modifier|*
name|new_base_props
parameter_list|,
name|apr_hash_t
modifier|*
name|new_props
parameter_list|,
specifier|const
name|char
modifier|*
name|copyfrom_url
parameter_list|,
name|svn_revnum_t
name|copyfrom_rev
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Same as svn_wc_add_repos_file3(), except that it has pathnames rather  * than streams for the text base, and actual text, and has no cancellation.  *  * @since New in 1.4.  * @deprecated Provided for compatibility with the 1.5 API  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_add_repos_file2
parameter_list|(
specifier|const
name|char
modifier|*
name|dst_path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
specifier|const
name|char
modifier|*
name|new_text_base_path
parameter_list|,
specifier|const
name|char
modifier|*
name|new_text_path
parameter_list|,
name|apr_hash_t
modifier|*
name|new_base_props
parameter_list|,
name|apr_hash_t
modifier|*
name|new_props
parameter_list|,
specifier|const
name|char
modifier|*
name|copyfrom_url
parameter_list|,
name|svn_revnum_t
name|copyfrom_rev
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Same as svn_wc_add_repos_file3(), except that it doesn't have the  * BASE arguments or cancellation.  *  * @deprecated Provided for compatibility with the 1.3 API  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_add_repos_file
parameter_list|(
specifier|const
name|char
modifier|*
name|dst_path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
specifier|const
name|char
modifier|*
name|new_text_path
parameter_list|,
name|apr_hash_t
modifier|*
name|new_props
parameter_list|,
specifier|const
name|char
modifier|*
name|copyfrom_url
parameter_list|,
name|svn_revnum_t
name|copyfrom_rev
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Remove @a local_abspath from revision control.  @a wc_ctx must  * hold a write lock on the parent of @a local_abspath, or if that is a  * WC root then on @a local_abspath itself.  *  * If @a local_abspath is a file, all its info will be removed from the  * administrative area.  If @a local_abspath is a directory, then the  * administrative area will be deleted, along with *all* the administrative  * areas anywhere in the tree below @a adm_access.  *  * Normally, only administrative data is removed.  However, if  * @a destroy_wf is TRUE, then all working file(s) and dirs are deleted  * from disk as well.  When called with @a destroy_wf, any locally  * modified files will *not* be deleted, and the special error  * #SVN_ERR_WC_LEFT_LOCAL_MOD might be returned.  (Callers only need to  * check for this special return value if @a destroy_wf is TRUE.)  *  * If @a instant_error is TRUE, then return  * #SVN_ERR_WC_LEFT_LOCAL_MOD the instant a locally modified file is  * encountered.  Otherwise, leave locally modified files in place and  * return the error only after all the recursion is complete.  *  * If @a cancel_func is non-NULL, call it with @a cancel_baton at  * various points during the removal.  If it returns an error  * (typically #SVN_ERR_CANCELLED), return that error immediately.  *  * WARNING:  This routine is exported for careful, measured use by  * libsvn_client.  Do *not* call this routine unless you really  * understand what the heck you're doing.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_remove_from_revision_control2
parameter_list|(
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|svn_boolean_t
name|destroy_wf
parameter_list|,
name|svn_boolean_t
name|instant_error
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_remove_from_revision_control2() but with a name  * and access baton.  *  * WARNING:  This routine was exported for careful, measured use by  * libsvn_client.  Do *not* call this routine unless you really  * understand what the heck you're doing.  *  * @deprecated Provided for compatibility with the 1.6 API  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_remove_from_revision_control
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
specifier|const
name|char
modifier|*
name|name
parameter_list|,
name|svn_boolean_t
name|destroy_wf
parameter_list|,
name|svn_boolean_t
name|instant_error
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Assuming @a local_abspath is under version control or a tree conflict  * victim and in a state of conflict, then take @a local_abspath *out*  * of this state.  If @a resolve_text is TRUE then any text conflict is  * resolved, if @a resolve_tree is TRUE then any tree conflicts are  * resolved. If @a resolve_prop is set to "" all property conflicts are  * resolved, if it is set to any other string value, conflicts on that  * specific property are resolved and when resolve_prop is NULL, no  * property conflicts are resolved.  *  * If @a depth is #svn_depth_empty, act only on @a local_abspath; if  * #svn_depth_files, resolve @a local_abspath and its conflicted file  * children (if any); if #svn_depth_immediates, resolve @a local_abspath  * and all its immediate conflicted children (both files and directories,  * if any); if #svn_depth_infinity, resolve @a local_abspath and every  * conflicted file or directory anywhere beneath it.  *  * If @a conflict_choice is #svn_wc_conflict_choose_base, resolve the  * conflict with the old file contents; if  * #svn_wc_conflict_choose_mine_full, use the original working contents;  * if #svn_wc_conflict_choose_theirs_full, the new contents; and if  * #svn_wc_conflict_choose_merged, don't change the contents at all,  * just remove the conflict status, which is the pre-1.5 behavior.  *  * #svn_wc_conflict_choose_theirs_conflict and  * #svn_wc_conflict_choose_mine_conflict are not legal for binary  * files or properties.  *  * @a wc_ctx is a working copy context, with a write lock, for @a  * local_abspath.  *  * Needless to say, this function doesn't touch conflict markers or  * anything of that sort -- only a human can semantically resolve a  * conflict.  Instead, this function simply marks a file as "having  * been resolved", clearing the way for a commit.  *  * The implementation details are opaque, as our "conflicted" criteria  * might change over time.  (At the moment, this routine removes the  * three fulltext 'backup' files and any .prej file created in a conflict,  * and modifies @a local_abspath's entry.)  *  * If @a local_abspath is not under version control and not a tree  * conflict, return #SVN_ERR_ENTRY_NOT_FOUND. If @a path isn't in a  * state of conflict to begin with, do nothing, and return #SVN_NO_ERROR.  *  * If @c local_abspath was successfully taken out of a state of conflict,  * report this information to @c notify_func (if non-@c NULL.)  If only  * text, only property, or only tree conflict resolution was requested,  * and it was successful, then success gets reported.  *  * Temporary allocations will be performed in @a scratch_pool.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_resolved_conflict5
parameter_list|(
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|svn_boolean_t
name|resolve_text
parameter_list|,
specifier|const
name|char
modifier|*
name|resolve_prop
parameter_list|,
name|svn_boolean_t
name|resolve_tree
parameter_list|,
name|svn_wc_conflict_choice_t
name|conflict_choice
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_resolved_conflict5, but takes an absolute path  * and an access baton. This version doesn't support resolving a specific  * property.conflict.  *  * @since New in 1.6.  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_resolved_conflict4
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_boolean_t
name|resolve_text
parameter_list|,
name|svn_boolean_t
name|resolve_props
parameter_list|,
name|svn_boolean_t
name|resolve_tree
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|svn_wc_conflict_choice_t
name|conflict_choice
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_resolved_conflict4(), but without tree-conflict  * resolution support.  *  * @since New in 1.5.  * @deprecated Provided for backward compatibility with the 1.5 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_resolved_conflict3
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_boolean_t
name|resolve_text
parameter_list|,
name|svn_boolean_t
name|resolve_props
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|svn_wc_conflict_choice_t
name|conflict_choice
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_resolved_conflict3(), but without automatic conflict  * resolution support, and with @a depth set according to @a recurse:  * if @a recurse is TRUE, @a depth is #svn_depth_infinity, else it is  * #svn_depth_files.  *  * @since New in 1.2.  * @deprecated Provided for backward compatibility with the 1.4 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_resolved_conflict2
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_boolean_t
name|resolve_text
parameter_list|,
name|svn_boolean_t
name|resolve_props
parameter_list|,
name|svn_boolean_t
name|recurse
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_resolved_conflict2(), but takes an  * svn_wc_notify_func_t and doesn't have cancellation support.  *  * @deprecated Provided for backward compatibility with the 1.1 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_resolved_conflict
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_boolean_t
name|resolve_text
parameter_list|,
name|svn_boolean_t
name|resolve_props
parameter_list|,
name|svn_boolean_t
name|recurse
parameter_list|,
name|svn_wc_notify_func_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/* Commits. */
comment|/**  * Storage type for queued post-commit data.  *  * @since New in 1.5.  */
typedef|typedef
name|struct
name|svn_wc_committed_queue_t
name|svn_wc_committed_queue_t
typedef|;
comment|/**  * Create a queue for use with svn_wc_queue_committed() and  * svn_wc_process_committed_queue().  *  * The returned queue and all further allocations required for queuing  * new items will also be done from @a pool.  *  * @since New in 1.5.  */
name|svn_wc_committed_queue_t
modifier|*
name|svn_wc_committed_queue_create
parameter_list|(
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Queue committed items to be processed later by  * svn_wc_process_committed_queue2().  *  * Record in @a queue that @a local_abspath will need to be bumped  * after a commit succeeds.  *  * If non-NULL, @a wcprop_changes is an array of<tt>svn_prop_t *</tt>  * changes to wc properties; if an #svn_prop_t->value is NULL, then  * that property is deleted.  *   ### [JAF]  No, a prop whose value is NULL is ignored, not deleted.  This  *   ### seems to be not a set of changes but rather the new complete set of  *   ### props.  And it's renamed to 'new_dav_cache' inside; why?  *  * If @a remove_lock is @c TRUE, any entryprops related to a repository  * lock will be removed.  *  * If @a remove_changelist is @c TRUE, any association with a  * changelist will be removed.  *  *  * If @a sha1_checksum is non-NULL, use it to identify the node's pristine  * text.  *  * If @a recurse is TRUE and @a local_abspath is a directory, then bump every  * versioned object at or under @a local_abspath.  This is usually done for  * copied trees.  *  * ### In the present implementation, if a recursive directory item is in  *     the queue, then any children (at any depth) of that directory that  *     are also in the queue as separate items will get:  *       'wcprop_changes' = NULL;  *       'remove_lock' = FALSE;  *       'remove_changelist' from the recursive parent item;  *     and any children (at any depth) of that directory that are NOT in  *     the queue as separate items will get:  *       'wcprop_changes' = NULL;  *       'remove_lock' = FALSE;  *       'remove_changelist' from the recursive parent item;  *  * @note the @a recurse parameter should be used with extreme care since  * it will bump ALL nodes under the directory, regardless of their  * actual inclusion in the new revision.  *  * All pointer data passed to this function (@a local_abspath,  * @a wcprop_changes and the checksums) should remain valid until the  * queue has been processed by svn_wc_process_committed_queue2().  *  * Temporary allocations will be performed in @a scratch_pool, and persistent  * allocations will use the same pool as @a queue used when it was created.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_queue_committed3
parameter_list|(
name|svn_wc_committed_queue_t
modifier|*
name|queue
parameter_list|,
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|svn_boolean_t
name|recurse
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|wcprop_changes
parameter_list|,
name|svn_boolean_t
name|remove_lock
parameter_list|,
name|svn_boolean_t
name|remove_changelist
parameter_list|,
specifier|const
name|svn_checksum_t
modifier|*
name|sha1_checksum
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Same as svn_wc_queue_committed3() except @a path doesn't have to be an  * abspath and @a adm_access is unused and a SHA-1 checksum cannot be  * specified.  *  * @since New in 1.6.  *  * @deprecated Provided for backwards compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_queue_committed2
parameter_list|(
name|svn_wc_committed_queue_t
modifier|*
name|queue
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_boolean_t
name|recurse
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|wcprop_changes
parameter_list|,
name|svn_boolean_t
name|remove_lock
parameter_list|,
name|svn_boolean_t
name|remove_changelist
parameter_list|,
specifier|const
name|svn_checksum_t
modifier|*
name|md5_checksum
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Same as svn_wc_queue_committed2() but the @a queue parameter has an  * extra indirection and @a digest is supplied instead of a checksum type.  *  * @note despite the extra indirection, this function does NOT allocate  *   the queue for you. svn_wc_committed_queue_create() must be called.  *  * @since New in 1.5  *  * @deprecated Provided for backwards compatibility with 1.5  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_queue_committed
parameter_list|(
name|svn_wc_committed_queue_t
modifier|*
modifier|*
name|queue
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_boolean_t
name|recurse
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|wcprop_changes
parameter_list|,
name|svn_boolean_t
name|remove_lock
parameter_list|,
name|svn_boolean_t
name|remove_changelist
parameter_list|,
specifier|const
name|unsigned
name|char
modifier|*
name|digest
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Bump all items in @a queue to @a new_revnum after a commit succeeds.  * @a rev_date and @a rev_author are the (server-side) date and author  * of the new revision; one or both may be @c NULL.  *  * If @a cancel_func is non-NULL, call it with @a cancel_baton to determine  * if the client wants to cancel the operation.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_process_committed_queue2
parameter_list|(
name|svn_wc_committed_queue_t
modifier|*
name|queue
parameter_list|,
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
name|svn_revnum_t
name|new_revnum
parameter_list|,
specifier|const
name|char
modifier|*
name|rev_date
parameter_list|,
specifier|const
name|char
modifier|*
name|rev_author
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** @see svn_wc_process_committed_queue2()  *  * @since New in 1.5.  * @deprecated Provided for backwards compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_process_committed_queue
parameter_list|(
name|svn_wc_committed_queue_t
modifier|*
name|queue
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_revnum_t
name|new_revnum
parameter_list|,
specifier|const
name|char
modifier|*
name|rev_date
parameter_list|,
specifier|const
name|char
modifier|*
name|rev_author
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * @note this function has improper expectations around the operation and  *   execution of other parts of the Subversion WC library. The resulting  *   coupling makes this interface near-impossible to support. Documentation  *   has been removed, as a result.  *  * @deprecated Use the svn_wc_committed_queue_* functions instead. Provided  *   for backwards compatibility with the 1.5 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_process_committed4
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_boolean_t
name|recurse
parameter_list|,
name|svn_revnum_t
name|new_revnum
parameter_list|,
specifier|const
name|char
modifier|*
name|rev_date
parameter_list|,
specifier|const
name|char
modifier|*
name|rev_author
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|wcprop_changes
parameter_list|,
name|svn_boolean_t
name|remove_lock
parameter_list|,
name|svn_boolean_t
name|remove_changelist
parameter_list|,
specifier|const
name|unsigned
name|char
modifier|*
name|digest
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** @see svn_wc_process_committed4()  *  * @deprecated Use the svn_wc_committed_queue_* functions instead. Provided  *   for backwards compatibility with the 1.4 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_process_committed3
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_boolean_t
name|recurse
parameter_list|,
name|svn_revnum_t
name|new_revnum
parameter_list|,
specifier|const
name|char
modifier|*
name|rev_date
parameter_list|,
specifier|const
name|char
modifier|*
name|rev_author
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|wcprop_changes
parameter_list|,
name|svn_boolean_t
name|remove_lock
parameter_list|,
specifier|const
name|unsigned
name|char
modifier|*
name|digest
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** @see svn_wc_process_committed4()  *  * @deprecated Use the svn_wc_committed_queue_* functions instead. Provided  *   for backwards compatibility with the 1.3 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_process_committed2
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_boolean_t
name|recurse
parameter_list|,
name|svn_revnum_t
name|new_revnum
parameter_list|,
specifier|const
name|char
modifier|*
name|rev_date
parameter_list|,
specifier|const
name|char
modifier|*
name|rev_author
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|wcprop_changes
parameter_list|,
name|svn_boolean_t
name|remove_lock
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** @see svn_wc_process_committed4()  *  * @deprecated Use the svn_wc_committed_queue_* functions instead. Provided  *   for backward compatibility with the 1.1 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_process_committed
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_boolean_t
name|recurse
parameter_list|,
name|svn_revnum_t
name|new_revnum
parameter_list|,
specifier|const
name|char
modifier|*
name|rev_date
parameter_list|,
specifier|const
name|char
modifier|*
name|rev_author
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|wcprop_changes
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Do a depth-first crawl in a working copy, beginning at @a local_abspath,  * using @a wc_ctx for accessing the working copy.  *  * Communicate the `state' of the working copy's revisions and depths  * to @a reporter/@a report_baton.  Obviously, if @a local_abspath is a  * file instead of a directory, this depth-first crawl will be a short one.  *  * No locks or logs are created, nor are any animals harmed in the  * process unless @a restore_files is TRUE.  No cleanup is necessary.  *  * After all revisions are reported, @a reporter->finish_report() is  * called, which immediately causes the RA layer to update the working  * copy.  Thus the return value may very well reflect the result of  * the update!  *  * If @a depth is #svn_depth_empty, then report state only for  * @a path itself.  If #svn_depth_files, do the same and include  * immediate file children of @a path.  If #svn_depth_immediates,  * then behave as if for #svn_depth_files but also report the  * property states of immediate subdirectories.  If @a depth is  * #svn_depth_infinity, then report state fully recursively.  All  * descents are only as deep as @a path's own depth permits, of  * course.  If @a depth is #svn_depth_unknown, then just use  * #svn_depth_infinity, which in practice means depth of @a path.  *  * Iff @a honor_depth_exclude is TRUE, the crawler will report paths  * whose ambient depth is #svn_depth_exclude as being excluded, and  * thus prevent the server from pushing update data for those paths;  * therefore, don't set this flag if you wish to pull in excluded paths.  * Note that #svn_depth_exclude on the target @a path is never  * honored, even if @a honor_depth_exclude is TRUE, because we need to  * be able to explicitly pull in a target.  For example, if this is  * the working copy...  *  *    svn co greek_tree_repos wc_dir  *    svn up --set-depth exclude wc_dir/A/B/E  # now A/B/E is excluded  *  * ...then 'svn up wc_dir/A/B' would report E as excluded (assuming  * @a honor_depth_exclude is TRUE), but 'svn up wc_dir/A/B/E' would  * not, because the latter is trying to explicitly pull in E.  In  * general, we never report the update target as excluded.  *  * Iff @a depth_compatibility_trick is TRUE, then set the @c start_empty  * flag on @a reporter->set_path() and @a reporter->link_path() calls  * as necessary to trick a pre-1.5 (i.e., depth-unaware) server into  * sending back all the items the client might need to upgrade a  * working copy from a shallower depth to a deeper one.  *  * If @a restore_files is TRUE, then unexpectedly missing working files  * will be restored from the administrative directory's cache. For each  * file restored, the @a notify_func function will be called with the  * @a notify_baton and the path of the restored file. @a notify_func may  * be @c NULL if this notification is not required.  If @a  * use_commit_times is TRUE, then set restored files' timestamps to  * their last-commit-times.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_crawl_revisions5
parameter_list|(
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
specifier|const
name|svn_ra_reporter3_t
modifier|*
name|reporter
parameter_list|,
name|void
modifier|*
name|report_baton
parameter_list|,
name|svn_boolean_t
name|restore_files
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|svn_boolean_t
name|honor_depth_exclude
parameter_list|,
name|svn_boolean_t
name|depth_compatibility_trick
parameter_list|,
name|svn_boolean_t
name|use_commit_times
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_crawl_revisions5, but with a relative path and  * access baton instead of an absolute path and wc_ctx.  *  * Passes NULL for @a cancel_func and @a cancel_baton.  *  * @since New in 1.6.  * @deprecated Provided for compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_crawl_revisions4
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
specifier|const
name|svn_ra_reporter3_t
modifier|*
name|reporter
parameter_list|,
name|void
modifier|*
name|report_baton
parameter_list|,
name|svn_boolean_t
name|restore_files
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|svn_boolean_t
name|honor_depth_exclude
parameter_list|,
name|svn_boolean_t
name|depth_compatibility_trick
parameter_list|,
name|svn_boolean_t
name|use_commit_times
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|svn_wc_traversal_info_t
modifier|*
name|traversal_info
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_crawl_revisions4, but with @a honor_depth_exclude always  * set to false.  *  * @deprecated Provided for compatibility with the 1.5 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_crawl_revisions3
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
specifier|const
name|svn_ra_reporter3_t
modifier|*
name|reporter
parameter_list|,
name|void
modifier|*
name|report_baton
parameter_list|,
name|svn_boolean_t
name|restore_files
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|svn_boolean_t
name|depth_compatibility_trick
parameter_list|,
name|svn_boolean_t
name|use_commit_times
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|svn_wc_traversal_info_t
modifier|*
name|traversal_info
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_crawl_revisions3, but taking svn_ra_reporter2_t  * instead of svn_ra_reporter3_t, and therefore only able to report  * #svn_depth_infinity for depths; and taking @a recurse instead of @a  * depth; and with @a depth_compatibility_trick always false.  *  * @deprecated Provided for compatibility with the 1.4 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_crawl_revisions2
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
specifier|const
name|svn_ra_reporter2_t
modifier|*
name|reporter
parameter_list|,
name|void
modifier|*
name|report_baton
parameter_list|,
name|svn_boolean_t
name|restore_files
parameter_list|,
name|svn_boolean_t
name|recurse
parameter_list|,
name|svn_boolean_t
name|use_commit_times
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|svn_wc_traversal_info_t
modifier|*
name|traversal_info
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_crawl_revisions2(), but takes an #svn_wc_notify_func_t  * and a #svn_ra_reporter_t instead.  *  * @deprecated Provided for backward compatibility with the 1.1 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_crawl_revisions
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
specifier|const
name|svn_ra_reporter_t
modifier|*
name|reporter
parameter_list|,
name|void
modifier|*
name|report_baton
parameter_list|,
name|svn_boolean_t
name|restore_files
parameter_list|,
name|svn_boolean_t
name|recurse
parameter_list|,
name|svn_boolean_t
name|use_commit_times
parameter_list|,
name|svn_wc_notify_func_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|svn_wc_traversal_info_t
modifier|*
name|traversal_info
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * @defgroup svn_wc_roots Working copy roots  * @{  */
comment|/** If @a is_wcroot is not @c NULL, set @a *is_wcroot to @c TRUE if @a  * local_abspath is the root of the working copy, otherwise to @c FALSE.  *  * If @a is_switched is not @c NULL, set @a *is_switched to @c TRUE if @a  * local_abspath is not the root of the working copy, and switched against its  * parent.  *  * If @a kind is not @c NULL, set @a *kind to the node kind of @a  * local_abspath.  *  * Use @a scratch_pool for any temporary allocations.  *  * @since New in 1.8.  */
name|svn_error_t
modifier|*
name|svn_wc_check_root
parameter_list|(
name|svn_boolean_t
modifier|*
name|is_wcroot
parameter_list|,
name|svn_boolean_t
modifier|*
name|is_switched
parameter_list|,
name|svn_node_kind_t
modifier|*
name|kind
parameter_list|,
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Set @a *wc_root to @c TRUE if @a local_abspath represents a "working copy  * root", @c FALSE otherwise. Here, @a local_abspath is a "working copy root"  * if its parent directory is not a WC or if it is switched. Also, a deleted  * tree-conflict victim is considered a "working copy root" because it has no  * URL.  *  * If @a local_abspath is not found, return the error #SVN_ERR_ENTRY_NOT_FOUND.  *  * Use @a scratch_pool for any temporary allocations.  *  * @note For legacy reasons only a directory can be a wc-root. However, this  * function will also set wc_root to @c TRUE for a switched file.  *  * @since New in 1.7.  * @deprecated Provided for backward compatibility with the 1.7 API. Consider  * using svn_wc_check_root() instead.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_is_wc_root2
parameter_list|(
name|svn_boolean_t
modifier|*
name|wc_root
parameter_list|,
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_is_wc_root2(), but with an access baton and relative  * path.  *  * @note If @a path is '', this function will always return @c TRUE.  *  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_is_wc_root
parameter_list|(
name|svn_boolean_t
modifier|*
name|wc_root
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** @} */
comment|/* Updates. */
comment|/** Conditionally split @a path into an @a anchor and @a target for the  * purpose of updating and committing.  *  * @a anchor is the directory at which the update or commit editor  * should be rooted.  *  * @a target is the actual subject (relative to the @a anchor) of the  * update/commit, or "" if the @a anchor itself is the subject.  *  * Allocate @a anchor and @a target in @a result_pool; @a scratch_pool  * is used for temporary allocations.  *  * @note Even though this API uses a #svn_wc_context_t, it accepts a  * (possibly) relative path and returns a (possibly) relative path in  * @a *anchor.  The reason being that the outputs are generally used to  * open access batons, and such opening currently requires relative paths.  * In the long-run, I expect this API to be removed from 1.7, due to the  * remove of access batons, but for the time being, the #svn_wc_context_t  * parameter allows us to avoid opening a duplicate database, just for this  * function.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_get_actual_target2
parameter_list|(
specifier|const
name|char
modifier|*
modifier|*
name|anchor
parameter_list|,
specifier|const
name|char
modifier|*
modifier|*
name|target
parameter_list|,
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|apr_pool_t
modifier|*
name|result_pool
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_get_actual_target2(), but without the wc context, and  * with a absolute path.  *  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_get_actual_target
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
specifier|const
name|char
modifier|*
modifier|*
name|anchor
parameter_list|,
specifier|const
name|char
modifier|*
modifier|*
name|target
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * @defgroup svn_wc_update_switch Update and switch (update-like functionality)  * @{  */
comment|/**  * A simple callback type to wrap svn_ra_get_file();  see that  * docstring for more information.  *  * This technique allows libsvn_client to 'wrap' svn_ra_get_file() and  * pass it down into libsvn_wc functions, thus allowing the WC layer  * to legally call the RA function via (blind) callback.  *  * @since New in 1.5  * @deprecated Provided for backward compatibility with the 1.6 API.  */
typedef|typedef
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|svn_wc_get_file_t
function_decl|)
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_revnum_t
name|revision
parameter_list|,
name|svn_stream_t
modifier|*
name|stream
parameter_list|,
name|svn_revnum_t
modifier|*
name|fetched_rev
parameter_list|,
name|apr_hash_t
modifier|*
modifier|*
name|props
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * A simple callback type to wrap svn_ra_get_dir2() for avoiding issue #3569,  * where a directory is updated to a revision without some of its children  * recorded in the working copy. A future update won't bring these files in  * because the repository assumes they are already there.  *  * We really only need the names of the dirents for a not-present marking,  * but we also store the node-kind if we receive one.  *  * @a *dirents should be set to a hash mapping<tt>const char *</tt> child  * names, to<tt>const svn_dirent_t *</tt> instances.  *  * @since New in 1.7.  */
typedef|typedef
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|svn_wc_dirents_func_t
function_decl|)
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
name|apr_hash_t
modifier|*
modifier|*
name|dirents
parameter_list|,
specifier|const
name|char
modifier|*
name|repos_root_url
parameter_list|,
specifier|const
name|char
modifier|*
name|repos_relpath
parameter_list|,
name|apr_pool_t
modifier|*
name|result_pool
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/**  * DEPRECATED -- please use APIs from svn_client.h  *  * ---  *  * Set @a *editor and @a *edit_baton to an editor and baton for updating a  * working copy.  *  * @a anchor_abspath is a local working copy directory, with a fully recursive  * write lock in @a wc_ctx, which will be used as the root of our editor.  *  * @a target_basename is the entry in @a anchor_abspath that will actually be  * updated, or the empty string if all of @a anchor_abspath should be updated.  *  * The editor invokes @a notify_func with @a notify_baton as the update  * progresses, if @a notify_func is non-NULL.  *  * If @a cancel_func is non-NULL, the editor will invoke @a cancel_func with  * @a cancel_baton as the update progresses to see if it should continue.  *  * If @a conflict_func is non-NULL, then invoke it with @a  * conflict_baton whenever a conflict is encountered, giving the  * callback a chance to resolve the conflict before the editor takes  * more drastic measures (such as marking a file conflicted, or  * bailing out of the update).  *  * If @a external_func is non-NULL, then invoke it with @a external_baton  * whenever external changes are encountered, giving the callback a chance  * to store the external information for processing.  *  * If @a diff3_cmd is non-NULL, then use it as the diff3 command for  * any merging; otherwise, use the built-in merge code.  *  * @a preserved_exts is an array of filename patterns which, when  * matched against the extensions of versioned files, determine for  * which such files any related generated conflict files will preserve  * the original file's extension as their own.  If a file's extension  * does not match any of the patterns in @a preserved_exts (which is  * certainly the case if @a preserved_exts is @c NULL or empty),  * generated conflict files will carry Subversion's custom extensions.  *  * @a target_revision is a pointer to a revision location which, after  * successful completion of the drive of this editor, will be  * populated with the revision to which the working copy was updated.  *  * If @a use_commit_times is TRUE, then all edited/added files will  * have their working timestamp set to the last-committed-time.  If  * FALSE, the working files will be touched with the 'now' time.  *  * If @a allow_unver_obstructions is TRUE, then allow unversioned  * obstructions when adding a path.  *  * If @a adds_as_modification is TRUE, a local addition at the same path  * as an incoming addition of the same node kind results in a normal node  * with a possible local modification, instead of a tree conflict.  *  * If @a depth is #svn_depth_infinity, update fully recursively.  * Else if it is #svn_depth_immediates, update the uppermost  * directory, its file entries, and the presence or absence of  * subdirectories (but do not descend into the subdirectories).  * Else if it is #svn_depth_files, update the uppermost directory  * and its immediate file entries, but not subdirectories.  * Else if it is #svn_depth_empty, update exactly the uppermost  * target, and don't touch its entries.  *  * If @a depth_is_sticky is set and @a depth is not  * #svn_depth_unknown, then in addition to updating PATHS, also set  * their sticky ambient depth value to @a depth.  *  * If @a server_performs_filtering is TRUE, assume that the server handles  * the ambient depth filtering, so this doesn't have to be handled in the  * editor.  *  * If @a clean_checkout is TRUE, assume that we are checking out into an  * empty directory, and so bypass a number of conflict checks that are  * unnecessary in this case.  *  * If @a fetch_dirents_func is not NULL, the update editor may call this  * callback, when asked to perform a depth restricted update. It will do this  * before returning the editor to allow using the primary ra session for this.  *  * @since New in 1.7.  * @deprecated Provided for backward compatibility with the 1.7 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_get_update_editor4
parameter_list|(
specifier|const
name|svn_delta_editor_t
modifier|*
modifier|*
name|editor
parameter_list|,
name|void
modifier|*
modifier|*
name|edit_baton
parameter_list|,
name|svn_revnum_t
modifier|*
name|target_revision
parameter_list|,
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|anchor_abspath
parameter_list|,
specifier|const
name|char
modifier|*
name|target_basename
parameter_list|,
name|svn_boolean_t
name|use_commit_times
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|svn_boolean_t
name|depth_is_sticky
parameter_list|,
name|svn_boolean_t
name|allow_unver_obstructions
parameter_list|,
name|svn_boolean_t
name|adds_as_modification
parameter_list|,
name|svn_boolean_t
name|server_performs_filtering
parameter_list|,
name|svn_boolean_t
name|clean_checkout
parameter_list|,
specifier|const
name|char
modifier|*
name|diff3_cmd
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|preserved_exts
parameter_list|,
name|svn_wc_dirents_func_t
name|fetch_dirents_func
parameter_list|,
name|void
modifier|*
name|fetch_dirents_baton
parameter_list|,
name|svn_wc_conflict_resolver_func2_t
name|conflict_func
parameter_list|,
name|void
modifier|*
name|conflict_baton
parameter_list|,
name|svn_wc_external_update_t
name|external_func
parameter_list|,
name|void
modifier|*
name|external_baton
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|result_pool
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_get_update_editor4, but uses access batons and relative  * path instead of a working copy context-abspath pair and  * svn_wc_traversal_info_t instead of an externals callback.  Also,  * @a fetch_func and @a fetch_baton are ignored.  *  * If @a ti is non-NULL, record traversal info in @a ti, for use by  * post-traversal accessors such as svn_wc_edited_externals().  *  * All locks, both those in @a anchor and newly acquired ones, will be  * released when the editor driver calls @c close_edit.  *  * Always sets @a adds_as_modification to TRUE, @a server_performs_filtering  * and @a clean_checkout to FALSE.  *  * Uses a svn_wc_conflict_resolver_func_t conflict resolver instead of a  * svn_wc_conflict_resolver_func2_t.  *  * This function assumes that @a diff3_cmd is path encoded. Later versions  * assume utf-8.  *  * Always passes a null dirent function.  *  * @since New in 1.5.  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_get_update_editor3
parameter_list|(
name|svn_revnum_t
modifier|*
name|target_revision
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|anchor
parameter_list|,
specifier|const
name|char
modifier|*
name|target
parameter_list|,
name|svn_boolean_t
name|use_commit_times
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|svn_boolean_t
name|depth_is_sticky
parameter_list|,
name|svn_boolean_t
name|allow_unver_obstructions
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_conflict_resolver_func_t
name|conflict_func
parameter_list|,
name|void
modifier|*
name|conflict_baton
parameter_list|,
name|svn_wc_get_file_t
name|fetch_func
parameter_list|,
name|void
modifier|*
name|fetch_baton
parameter_list|,
specifier|const
name|char
modifier|*
name|diff3_cmd
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|preserved_exts
parameter_list|,
specifier|const
name|svn_delta_editor_t
modifier|*
modifier|*
name|editor
parameter_list|,
name|void
modifier|*
modifier|*
name|edit_baton
parameter_list|,
name|svn_wc_traversal_info_t
modifier|*
name|ti
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_get_update_editor3() but with the @a  * allow_unver_obstructions parameter always set to FALSE, @a  * conflict_func and baton set to NULL, @a fetch_func and baton set to  * NULL, @a preserved_exts set to NULL, @a depth_is_sticky set to  * FALSE, and @a depth set according to @a recurse: if @a recurse is  * TRUE, pass #svn_depth_infinity, if FALSE, pass #svn_depth_files.  *  * @deprecated Provided for backward compatibility with the 1.4 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_get_update_editor2
parameter_list|(
name|svn_revnum_t
modifier|*
name|target_revision
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|anchor
parameter_list|,
specifier|const
name|char
modifier|*
name|target
parameter_list|,
name|svn_boolean_t
name|use_commit_times
parameter_list|,
name|svn_boolean_t
name|recurse
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
specifier|const
name|char
modifier|*
name|diff3_cmd
parameter_list|,
specifier|const
name|svn_delta_editor_t
modifier|*
modifier|*
name|editor
parameter_list|,
name|void
modifier|*
modifier|*
name|edit_baton
parameter_list|,
name|svn_wc_traversal_info_t
modifier|*
name|ti
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_get_update_editor2(), but takes an svn_wc_notify_func_t  * instead.  *  * @deprecated Provided for backward compatibility with the 1.1 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_get_update_editor
parameter_list|(
name|svn_revnum_t
modifier|*
name|target_revision
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|anchor
parameter_list|,
specifier|const
name|char
modifier|*
name|target
parameter_list|,
name|svn_boolean_t
name|use_commit_times
parameter_list|,
name|svn_boolean_t
name|recurse
parameter_list|,
name|svn_wc_notify_func_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
specifier|const
name|char
modifier|*
name|diff3_cmd
parameter_list|,
specifier|const
name|svn_delta_editor_t
modifier|*
modifier|*
name|editor
parameter_list|,
name|void
modifier|*
modifier|*
name|edit_baton
parameter_list|,
name|svn_wc_traversal_info_t
modifier|*
name|ti
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * DEPRECATED -- please use APIs from svn_client.h  *  * ---  *  * A variant of svn_wc_get_update_editor4().  *  * Set @a *editor and @a *edit_baton to an editor and baton for "switching"  * a working copy to a new @a switch_url.  (Right now, this URL must be  * within the same repository that the working copy already comes  * from.)  @a switch_url must not be @c NULL.  *  * All other parameters behave as for svn_wc_get_update_editor4().  *  * @since New in 1.7.  * @deprecated Provided for backward compatibility with the 1.7 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_get_switch_editor4
parameter_list|(
specifier|const
name|svn_delta_editor_t
modifier|*
modifier|*
name|editor
parameter_list|,
name|void
modifier|*
modifier|*
name|edit_baton
parameter_list|,
name|svn_revnum_t
modifier|*
name|target_revision
parameter_list|,
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|anchor_abspath
parameter_list|,
specifier|const
name|char
modifier|*
name|target_basename
parameter_list|,
specifier|const
name|char
modifier|*
name|switch_url
parameter_list|,
name|svn_boolean_t
name|use_commit_times
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|svn_boolean_t
name|depth_is_sticky
parameter_list|,
name|svn_boolean_t
name|allow_unver_obstructions
parameter_list|,
name|svn_boolean_t
name|server_performs_filtering
parameter_list|,
specifier|const
name|char
modifier|*
name|diff3_cmd
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|preserved_exts
parameter_list|,
name|svn_wc_dirents_func_t
name|fetch_dirents_func
parameter_list|,
name|void
modifier|*
name|fetch_dirents_baton
parameter_list|,
name|svn_wc_conflict_resolver_func2_t
name|conflict_func
parameter_list|,
name|void
modifier|*
name|conflict_baton
parameter_list|,
name|svn_wc_external_update_t
name|external_func
parameter_list|,
name|void
modifier|*
name|external_baton
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|result_pool
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_get_switch_editor4, but uses access batons and relative  * path instead of a working copy context and svn_wc_traversal_info_t instead  * of an externals callback.  *  * If @a ti is non-NULL, record traversal info in @a ti, for use by  * post-traversal accessors such as svn_wc_edited_externals().  *  * All locks, both those in @a anchor and newly acquired ones, will be  * released when the editor driver calls @c close_edit.  *  * Always sets @a server_performs_filtering to FALSE.  *  * Uses a svn_wc_conflict_resolver_func_t conflict resolver instead of a  * svn_wc_conflict_resolver_func2_t.  *  * This function assumes that @a diff3_cmd is path encoded. Later versions  * assume utf-8.  *  * @since New in 1.5.  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_get_switch_editor3
parameter_list|(
name|svn_revnum_t
modifier|*
name|target_revision
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|anchor
parameter_list|,
specifier|const
name|char
modifier|*
name|target
parameter_list|,
specifier|const
name|char
modifier|*
name|switch_url
parameter_list|,
name|svn_boolean_t
name|use_commit_times
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|svn_boolean_t
name|depth_is_sticky
parameter_list|,
name|svn_boolean_t
name|allow_unver_obstructions
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_conflict_resolver_func_t
name|conflict_func
parameter_list|,
name|void
modifier|*
name|conflict_baton
parameter_list|,
specifier|const
name|char
modifier|*
name|diff3_cmd
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|preserved_exts
parameter_list|,
specifier|const
name|svn_delta_editor_t
modifier|*
modifier|*
name|editor
parameter_list|,
name|void
modifier|*
modifier|*
name|edit_baton
parameter_list|,
name|svn_wc_traversal_info_t
modifier|*
name|ti
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_get_switch_editor3() but with the  * @a allow_unver_obstructions parameter always set to FALSE,  * @a preserved_exts set to NULL, @a conflict_func and baton set to NULL,  * @a depth_is_sticky set to FALSE, and @a depth set according to @a  * recurse: if @a recurse is TRUE, pass #svn_depth_infinity, if  * FALSE, pass #svn_depth_files.  *  * @deprecated Provided for backward compatibility with the 1.4 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_get_switch_editor2
parameter_list|(
name|svn_revnum_t
modifier|*
name|target_revision
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|anchor
parameter_list|,
specifier|const
name|char
modifier|*
name|target
parameter_list|,
specifier|const
name|char
modifier|*
name|switch_url
parameter_list|,
name|svn_boolean_t
name|use_commit_times
parameter_list|,
name|svn_boolean_t
name|recurse
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
specifier|const
name|char
modifier|*
name|diff3_cmd
parameter_list|,
specifier|const
name|svn_delta_editor_t
modifier|*
modifier|*
name|editor
parameter_list|,
name|void
modifier|*
modifier|*
name|edit_baton
parameter_list|,
name|svn_wc_traversal_info_t
modifier|*
name|ti
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_get_switch_editor2(), but takes an  * #svn_wc_notify_func_t instead.  *  * @deprecated Provided for backward compatibility with the 1.1 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_get_switch_editor
parameter_list|(
name|svn_revnum_t
modifier|*
name|target_revision
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|anchor
parameter_list|,
specifier|const
name|char
modifier|*
name|target
parameter_list|,
specifier|const
name|char
modifier|*
name|switch_url
parameter_list|,
name|svn_boolean_t
name|use_commit_times
parameter_list|,
name|svn_boolean_t
name|recurse
parameter_list|,
name|svn_wc_notify_func_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
specifier|const
name|char
modifier|*
name|diff3_cmd
parameter_list|,
specifier|const
name|svn_delta_editor_t
modifier|*
modifier|*
name|editor
parameter_list|,
name|void
modifier|*
modifier|*
name|edit_baton
parameter_list|,
name|svn_wc_traversal_info_t
modifier|*
name|ti
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** @} */
comment|/**  * @defgroup svn_wc_properties Properties  * @{  */
comment|/** Set @a *props to a hash table mapping<tt>char *</tt> names onto  *<tt>svn_string_t *</tt> values for all the regular properties of  * @a local_abspath.  Allocate the table, names, and values in  * @a result_pool.  If the node has no properties, then an empty hash  * is returned.  Use @a wc_ctx to access the working copy, and @a  * scratch_pool for temporary allocations.  *  * If the node does not exist, #SVN_ERR_WC_PATH_NOT_FOUND is returned.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_prop_list2
parameter_list|(
name|apr_hash_t
modifier|*
modifier|*
name|props
parameter_list|,
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|apr_pool_t
modifier|*
name|result_pool
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_prop_list2() but with a #svn_wc_adm_access_t /  * relative path parameter pair.  *  * @deprecated Provided for backwards compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_prop_list
parameter_list|(
name|apr_hash_t
modifier|*
modifier|*
name|props
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Return the set of "pristine" properties for @a local_abspath.  *  * There are node states where properties do not make sense. For these  * cases, NULL will be returned in @a *props. Otherwise, a hash table  * will always be returned (but may be empty, indicating no properties).  *  * If the node is locally-added, then @a *props will be set to NULL since  * pristine properties are undefined. Note: if this addition is replacing a  * previously-deleted node, then the replaced node's properties are not  * available until the addition is reverted.  *  * If the node has been copied (from another node in the repository), then  * the pristine properties will correspond to those original properties.  *  * If the node is locally-deleted, these properties will correspond to  * the BASE node's properties, as checked-out from the repository. Note: if  * this deletion is a child of a copy, then the pristine properties will  * correspond to that copy's properties, not any potential BASE node. The  * BASE node's properties will not be accessible until the copy is reverted.  *  * Nodes that are incomplete, excluded, absent, or not present at the  * node's revision will return NULL in @a props.  *  * If the node is not versioned, SVN_ERR_WC_PATH_NOT_FOUND will be returned.  *  * @a props will be allocated in @a result_pool, and all temporary  * allocations will be performed in @a scratch_pool.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_get_pristine_props
parameter_list|(
name|apr_hash_t
modifier|*
modifier|*
name|props
parameter_list|,
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|apr_pool_t
modifier|*
name|result_pool
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Set @a *value to the value of property @a name for @a local_abspath,  * allocating @a *value in @a result_pool.  If no such prop, set @a *value  * to @c NULL. @a name may be a regular or wc property; if it is an  * entry property, return the error #SVN_ERR_BAD_PROP_KIND.  @a wc_ctx  * is used to access the working copy.  *  * If @a local_abspath is not a versioned path, return  * #SVN_ERR_WC_PATH_NOT_FOUND  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_prop_get2
parameter_list|(
specifier|const
name|svn_string_t
modifier|*
modifier|*
name|value
parameter_list|,
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
specifier|const
name|char
modifier|*
name|name
parameter_list|,
name|apr_pool_t
modifier|*
name|result_pool
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_prop_get2(), but with a #svn_wc_adm_access_t /  * relative path parameter pair.  *  * When @a path is not versioned, set @a *value to NULL.  *  * @deprecated Provided for backwards compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_prop_get
parameter_list|(
specifier|const
name|svn_string_t
modifier|*
modifier|*
name|value
parameter_list|,
specifier|const
name|char
modifier|*
name|name
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Set property @a name to @a value for @a local_abspath, or if @a value is  * NULL, remove property @a name from @a local_abspath.  Use @a wc_ctx to  * access @a local_abspath.  *  * @a name may be a regular property or a "wc property".  If @a name is  * an "entry property", return the error #SVN_ERR_BAD_PROP_KIND (even if  * @a skip_checks is TRUE).  *  * If @a name is a "wc property", then just update the WC DAV cache for  * @a local_abspath with @a name and @a value.  In this case, @a depth  * must be #svn_depth_empty.  *  * The rest of this description applies when @a name is a regular property.  *  * If @a name is a name in the reserved "svn:" name space, and @a value is  * non-null, then canonicalize the property value and check the property  * name and value as documented for svn_wc_canonicalize_svn_prop().  * @a skip_checks controls the level of checking as documented there.  *  * Return an error if the canonicalization or the check fails.  * The error will be either #SVN_ERR_ILLEGAL_TARGET (if the  * property is not appropriate for @a path), or  * #SVN_ERR_BAD_MIME_TYPE (if @a name is "svn:mime-type", but @a value  * is not a valid mime-type).  * ### That is not currently right -- several other errors can be raised.  *  * @a depth follows the usual semantics for depth.  *  * @a changelist_filter is an array of<tt>const char *</tt> changelist  * names, used as a restrictive filter on items whose properties are  * set; that is, don't set properties on any item unless it's a member  * of one of those changelists.  If @a changelist_filter is empty (or  * altogether @c NULL), no changelist filtering occurs.  *  * If @a cancel_func is non-NULL, then it will be invoked (with the  * @a cancel_baton value passed) during the processing of the property  * set (i.e. when @a depth indicates some amount of recursion).  *  * For each file or directory operated on, @a notify_func will be called  * with its path and the @a notify_baton.  @a notify_func may be @c NULL  * if you are not interested in this information.  *  * Use @a scratch_pool for temporary allocation.  *  * @note If the caller is setting both svn:mime-type and svn:eol-style in  * separate calls, and @a skip_checks is false, there is an ordering  * dependency between them, as the validity check for svn:eol-style makes  * use of the current value of svn:mime-type.  *  * ### The error code on validity check failure should be specified, and  *     should be a single code or a very small set of possibilities.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_prop_set4
parameter_list|(
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
specifier|const
name|char
modifier|*
name|name
parameter_list|,
specifier|const
name|svn_string_t
modifier|*
name|value
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|svn_boolean_t
name|skip_checks
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|changelist_filter
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_prop_set4(), but with a #svn_wc_adm_access_t /  * relative path parameter pair, no @a depth parameter, no changelist  * filtering (for the depth-based property setting), and no cancellation.  *  * @since New in 1.6.  * @deprecated Provided for backwards compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_prop_set3
parameter_list|(
specifier|const
name|char
modifier|*
name|name
parameter_list|,
specifier|const
name|svn_string_t
modifier|*
name|value
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_boolean_t
name|skip_checks
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Like svn_wc_prop_set3(), but without the notification callbacks.  *  * @since New in 1.2.  * @deprecated Provided for backwards compatibility with the 1.5 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_prop_set2
parameter_list|(
specifier|const
name|char
modifier|*
name|name
parameter_list|,
specifier|const
name|svn_string_t
modifier|*
name|value
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_boolean_t
name|skip_checks
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Like svn_wc_prop_set2(), but with @a skip_checks always FALSE.  *  * @deprecated Provided for backward compatibility with the 1.1 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_prop_set
parameter_list|(
specifier|const
name|char
modifier|*
name|name
parameter_list|,
specifier|const
name|svn_string_t
modifier|*
name|value
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Return TRUE iff @a name is a 'normal' property name.  'Normal' is  * defined as a user-visible and user-tweakable property that shows up  * when you fetch a proplist.  *  * The function currently parses the namespace like so:  *  *   - 'svn:wc:'  ==>  a wcprop, stored/accessed separately via different API.  *  *   - 'svn:entry:' ==> an "entry" prop, shunted into the 'entries' file.  *  * If these patterns aren't found, then the property is assumed to be  * Normal.  */
name|svn_boolean_t
name|svn_wc_is_normal_prop
parameter_list|(
specifier|const
name|char
modifier|*
name|name
parameter_list|)
function_decl|;
comment|/** Return TRUE iff @a name is a 'wc' property name. */
name|svn_boolean_t
name|svn_wc_is_wc_prop
parameter_list|(
specifier|const
name|char
modifier|*
name|name
parameter_list|)
function_decl|;
comment|/** Return TRUE iff @a name is a 'entry' property name. */
name|svn_boolean_t
name|svn_wc_is_entry_prop
parameter_list|(
specifier|const
name|char
modifier|*
name|name
parameter_list|)
function_decl|;
comment|/** Callback type used by #svn_wc_canonicalize_svn_prop.  *  * If @a mime_type is non-null, it sets @a *mime_type to the value of  * #SVN_PROP_MIME_TYPE for the path passed to  * #svn_wc_canonicalize_svn_prop (allocated from @a pool).  If @a  * stream is non-null, it writes the contents of the file to @a  * stream.  *  * (Currently, this is used if you are attempting to set the  * #SVN_PROP_EOL_STYLE property, to make sure that the value matches  * the mime type and contents.)  *  * @since New in 1.5.  */
typedef|typedef
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|svn_wc_canonicalize_svn_prop_get_file_t
function_decl|)
parameter_list|(
specifier|const
name|svn_string_t
modifier|*
modifier|*
name|mime_type
parameter_list|,
name|svn_stream_t
modifier|*
name|stream
parameter_list|,
name|void
modifier|*
name|baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Canonicalize the value of an svn:* property @a propname with  * value @a propval.  *  * If the property is not appropriate for a node of kind @a kind, or  * is otherwise invalid, throw an error.  Otherwise, set @a *propval_p  * to a canonicalized version of the property value.  *  * The exact set of canonicalizations and checks may vary across different  * versions of this API.  Currently:  *  *   - svn:executable  *   - svn:needs-lock  *   - svn:special  *     - set the value to '*'  *  *   - svn:keywords  *     - strip leading and trailing white space  *  *   - svn:ignore  *   - svn:global-ignores  *   - svn:auto-props  *     - add a final a newline character if missing  *  *   - svn:externals  *     - add a final a newline character if missing  *     - check for valid syntax  *     - check for no duplicate entries  *  *   - svn:mergeinfo  *     - canonicalize  *     - check for validity  *  * Also, unless @a skip_some_checks is TRUE:  *  *   - svn:eol-style  *     - strip leading and trailing white space  *     - check value is recognized  *     - check file content has a self-consistent EOL style  *       (but not necessarily that it matches @a propval)  *  *   - svn:mime-type  *     - strip white space  *     - check for reasonable syntax  *  * The EOL-style check (if not skipped) requires access to the contents and  * MIME type of the target if it is a file.  It will call @a prop_getter with  * @a getter_baton.  The callback must set the MIME type and/or write the  * contents of the file to the given stream.  If @a skip_some_checks is true,  * then @a prop_getter is not used and may be NULL.  *  * @a path should be the path of the file in question; it is only used  * for error messages.  *  * ### The error code on validity check failure should be specified, and  *     should be a single code or a very small set of possibilities.  *  * ### This is not actually related to the WC, but it does need to call  * ### svn_wc_parse_externals_description3.  *  * @since New in 1.5.  */
name|svn_error_t
modifier|*
name|svn_wc_canonicalize_svn_prop
parameter_list|(
specifier|const
name|svn_string_t
modifier|*
modifier|*
name|propval_p
parameter_list|,
specifier|const
name|char
modifier|*
name|propname
parameter_list|,
specifier|const
name|svn_string_t
modifier|*
name|propval
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_node_kind_t
name|kind
parameter_list|,
name|svn_boolean_t
name|skip_some_checks
parameter_list|,
name|svn_wc_canonicalize_svn_prop_get_file_t
name|prop_getter
parameter_list|,
name|void
modifier|*
name|getter_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** @} */
comment|/**  * @defgroup svn_wc_diffs Diffs  * @{  */
comment|/**  * DEPRECATED -- please use APIs from svn_client.h  *  * ---  *  * Return an @a editor/@a edit_baton for diffing a working copy against the  * repository. The editor is allocated in @a result_pool; temporary  * calculations are performed in @a scratch_pool.  *  * This editor supports diffing either the actual files and properties in the  * working copy (when @a use_text_base is #FALSE), or the current pristine  * information (when @a use_text_base is #TRUE) against the editor driver.  *  * @a anchor_abspath/@a target represent the base of the hierarchy to be  * compared. The diff callback paths will be relative to this path.  *  * Diffs will be reported as valid relpaths, with @a anchor_abspath being  * the root ("").  *  * @a callbacks/@a callback_baton is the callback table to use.  *  * If @a depth is #svn_depth_empty, just diff exactly @a target or  * @a anchor_path if @a target is empty.  If #svn_depth_files then do the same  * and for top-level file entries as well (if any).  If  * #svn_depth_immediates, do the same as #svn_depth_files but also diff  * top-level subdirectories at #svn_depth_empty.  If #svn_depth_infinity,  * then diff fully recursively.  *  * @a ignore_ancestry determines whether paths that have discontinuous node  * ancestry are treated as delete/add or as simple modifications.  If  * @a ignore_ancestry is @c FALSE, then any discontinuous node ancestry will  * result in the diff given as a full delete followed by an add.  *  * @a show_copies_as_adds determines whether paths added with history will  * appear as a diff against their copy source, or whether such paths will  * appear as if they were newly added in their entirety.  * @a show_copies_as_adds implies not @a ignore_ancestry.  *  * If @a use_git_diff_format is TRUE, copied paths will be treated as added  * if they weren't modified after being copied. This allows the callbacks  * to generate appropriate --git diff headers for such files.  * @a use_git_diff_format implies @a show_copies_as_adds, and as such implies  * not @a ignore_ancestry.  *  * Normally, the difference from repository->working_copy is shown.  * If @a reverse_order is TRUE, then show working_copy->repository diffs.  *  * If @a cancel_func is non-NULL, it will be used along with @a cancel_baton  * to periodically check if the client has canceled the operation.  *  * @a changelist_filter is an array of<tt>const char *</tt> changelist  * names, used as a restrictive filter on items whose differences are  * reported; that is, don't generate diffs about any item unless  * it's a member of one of those changelists.  If @a changelist_filter is  * empty (or altogether @c NULL), no changelist filtering occurs.  *   * If @a server_performs_filtering is TRUE, assume that the server handles  * the ambient depth filtering, so this doesn't have to be handled in the  * editor.  *  * @since New in 1.7.  * @deprecated Provided for backward compatibility with the 1.7 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_get_diff_editor6
parameter_list|(
specifier|const
name|svn_delta_editor_t
modifier|*
modifier|*
name|editor
parameter_list|,
name|void
modifier|*
modifier|*
name|edit_baton
parameter_list|,
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|anchor_abspath
parameter_list|,
specifier|const
name|char
modifier|*
name|target
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|svn_boolean_t
name|ignore_ancestry
parameter_list|,
name|svn_boolean_t
name|show_copies_as_adds
parameter_list|,
name|svn_boolean_t
name|use_git_diff_format
parameter_list|,
name|svn_boolean_t
name|use_text_base
parameter_list|,
name|svn_boolean_t
name|reverse_order
parameter_list|,
name|svn_boolean_t
name|server_performs_filtering
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|changelist_filter
parameter_list|,
specifier|const
name|svn_wc_diff_callbacks4_t
modifier|*
name|callbacks
parameter_list|,
name|void
modifier|*
name|callback_baton
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|result_pool
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_get_diff_editor6(), but with an access baton and relative  * path. @a server_performs_filtering always true and with a  * #svn_wc_diff_callbacks3_t instead of #svn_wc_diff_callbacks4_t,  * @a show_copies_as_adds, and @a use_git_diff_format set to @c FALSE.  *  * Diffs will be reported as below the relative path stored in @a anchor.  *  * @since New in 1.6.  *  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_get_diff_editor5
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|anchor
parameter_list|,
specifier|const
name|char
modifier|*
name|target
parameter_list|,
specifier|const
name|svn_wc_diff_callbacks3_t
modifier|*
name|callbacks
parameter_list|,
name|void
modifier|*
name|callback_baton
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|svn_boolean_t
name|ignore_ancestry
parameter_list|,
name|svn_boolean_t
name|use_text_base
parameter_list|,
name|svn_boolean_t
name|reverse_order
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|changelist_filter
parameter_list|,
specifier|const
name|svn_delta_editor_t
modifier|*
modifier|*
name|editor
parameter_list|,
name|void
modifier|*
modifier|*
name|edit_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_get_diff_editor5(), but with an  * #svn_wc_diff_callbacks2_t instead of #svn_wc_diff_callbacks3_t.  *  * @deprecated Provided for backward compatibility with the 1.5 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_get_diff_editor4
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|anchor
parameter_list|,
specifier|const
name|char
modifier|*
name|target
parameter_list|,
specifier|const
name|svn_wc_diff_callbacks2_t
modifier|*
name|callbacks
parameter_list|,
name|void
modifier|*
name|callback_baton
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|svn_boolean_t
name|ignore_ancestry
parameter_list|,
name|svn_boolean_t
name|use_text_base
parameter_list|,
name|svn_boolean_t
name|reverse_order
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|changelist_filter
parameter_list|,
specifier|const
name|svn_delta_editor_t
modifier|*
modifier|*
name|editor
parameter_list|,
name|void
modifier|*
modifier|*
name|edit_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_get_diff_editor4(), but with @a changelist_filter  * passed as @c NULL, and @a depth set to #svn_depth_infinity if @a  * recurse is TRUE, or #svn_depth_files if @a recurse is FALSE.  *  * @deprecated Provided for backward compatibility with the 1.4 API.   * @since New in 1.2.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_get_diff_editor3
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|anchor
parameter_list|,
specifier|const
name|char
modifier|*
name|target
parameter_list|,
specifier|const
name|svn_wc_diff_callbacks2_t
modifier|*
name|callbacks
parameter_list|,
name|void
modifier|*
name|callback_baton
parameter_list|,
name|svn_boolean_t
name|recurse
parameter_list|,
name|svn_boolean_t
name|ignore_ancestry
parameter_list|,
name|svn_boolean_t
name|use_text_base
parameter_list|,
name|svn_boolean_t
name|reverse_order
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
specifier|const
name|svn_delta_editor_t
modifier|*
modifier|*
name|editor
parameter_list|,
name|void
modifier|*
modifier|*
name|edit_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_get_diff_editor3(), but with an  * #svn_wc_diff_callbacks_t instead of #svn_wc_diff_callbacks2_t.  *  * @deprecated Provided for backward compatibility with the 1.1 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_get_diff_editor2
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|anchor
parameter_list|,
specifier|const
name|char
modifier|*
name|target
parameter_list|,
specifier|const
name|svn_wc_diff_callbacks_t
modifier|*
name|callbacks
parameter_list|,
name|void
modifier|*
name|callback_baton
parameter_list|,
name|svn_boolean_t
name|recurse
parameter_list|,
name|svn_boolean_t
name|ignore_ancestry
parameter_list|,
name|svn_boolean_t
name|use_text_base
parameter_list|,
name|svn_boolean_t
name|reverse_order
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
specifier|const
name|svn_delta_editor_t
modifier|*
modifier|*
name|editor
parameter_list|,
name|void
modifier|*
modifier|*
name|edit_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_get_diff_editor2(), but with @a ignore_ancestry  * always set to @c FALSE.  *  * @deprecated Provided for backward compatibility with the 1.0 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_get_diff_editor
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|anchor
parameter_list|,
specifier|const
name|char
modifier|*
name|target
parameter_list|,
specifier|const
name|svn_wc_diff_callbacks_t
modifier|*
name|callbacks
parameter_list|,
name|void
modifier|*
name|callback_baton
parameter_list|,
name|svn_boolean_t
name|recurse
parameter_list|,
name|svn_boolean_t
name|use_text_base
parameter_list|,
name|svn_boolean_t
name|reverse_order
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
specifier|const
name|svn_delta_editor_t
modifier|*
modifier|*
name|editor
parameter_list|,
name|void
modifier|*
modifier|*
name|edit_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Compare working copy against the text-base.  *  * @a target_abspath represents the base of the hierarchy to be compared.  *  * @a callbacks/@a callback_baton is the callback table to use when two  * files are to be compared.  *  * If @a depth is #svn_depth_empty, just diff exactly @a target_path.  * If #svn_depth_files then do the same  * and for top-level file entries as well (if any).  If  * #svn_depth_immediates, do the same as #svn_depth_files but also diff  * top-level subdirectories at #svn_depth_empty.  If #svn_depth_infinity,  * then diff fully recursively.  *  * @a ignore_ancestry determines whether paths that have discontinuous node  * ancestry are treated as delete/add or as simple modifications.  If  * @a ignore_ancestry is @c FALSE, then any discontinuous node ancestry will  * result in the diff given as a full delete followed by an add.  *  * @a show_copies_as_adds determines whether paths added with history will  * appear as a diff against their copy source, or whether such paths will  * appear as if they were newly added in their entirety.  *  * If @a use_git_diff_format is TRUE, copied paths will be treated as added  * if they weren't modified after being copied. This allows the callbacks  * to generate appropriate --git diff headers for such files.  *  * @a changelist_filter is an array of<tt>const char *</tt> changelist  * names, used as a restrictive filter on items whose differences are  * reported; that is, don't generate diffs about any item unless  * it's a member of one of those changelists.  If @a changelist_filter is  * empty (or altogether @c NULL), no changelist filtering occurs.  *  * If @a cancel_func is non-NULL, invoke it with @a cancel_baton at various  * points during the operation.  If it returns an error (typically  * #SVN_ERR_CANCELLED), return that error immediately.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_diff6
parameter_list|(
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|target_abspath
parameter_list|,
specifier|const
name|svn_wc_diff_callbacks4_t
modifier|*
name|callbacks
parameter_list|,
name|void
modifier|*
name|callback_baton
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|svn_boolean_t
name|ignore_ancestry
parameter_list|,
name|svn_boolean_t
name|show_copies_as_adds
parameter_list|,
name|svn_boolean_t
name|use_git_diff_format
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|changelist_filter
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_diff6(), but with a #svn_wc_diff_callbacks3_t argument  * instead of #svn_wc_diff_callbacks4_t, @a show_copies_as_adds,  * and @a use_git_diff_format set to * @c FALSE.  * It also doesn't allow specifying a cancel function.  *  * @since New in 1.6.  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_diff5
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|anchor
parameter_list|,
specifier|const
name|char
modifier|*
name|target
parameter_list|,
specifier|const
name|svn_wc_diff_callbacks3_t
modifier|*
name|callbacks
parameter_list|,
name|void
modifier|*
name|callback_baton
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|svn_boolean_t
name|ignore_ancestry
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|changelist_filter
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_diff5(), but with a #svn_wc_diff_callbacks2_t argument  * instead of #svn_wc_diff_callbacks3_t.  *  * @since New in 1.5.  * @deprecated Provided for backward compatibility with the 1.5 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_diff4
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|anchor
parameter_list|,
specifier|const
name|char
modifier|*
name|target
parameter_list|,
specifier|const
name|svn_wc_diff_callbacks2_t
modifier|*
name|callbacks
parameter_list|,
name|void
modifier|*
name|callback_baton
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|svn_boolean_t
name|ignore_ancestry
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|changelist_filter
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_diff4(), but with @a changelist_filter passed @c NULL,  * and @a depth set to #svn_depth_infinity if @a recurse is TRUE, or  * #svn_depth_files if @a recurse is FALSE.  *  * @since New in 1.2.  * @deprecated Provided for backward compatibility with the 1.4 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_diff3
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|anchor
parameter_list|,
specifier|const
name|char
modifier|*
name|target
parameter_list|,
specifier|const
name|svn_wc_diff_callbacks2_t
modifier|*
name|callbacks
parameter_list|,
name|void
modifier|*
name|callback_baton
parameter_list|,
name|svn_boolean_t
name|recurse
parameter_list|,
name|svn_boolean_t
name|ignore_ancestry
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_diff3(), but with a #svn_wc_diff_callbacks_t argument  * instead of #svn_wc_diff_callbacks2_t.  *  * @since New in 1.1.  * @deprecated Provided for backward compatibility with the 1.1 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_diff2
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|anchor
parameter_list|,
specifier|const
name|char
modifier|*
name|target
parameter_list|,
specifier|const
name|svn_wc_diff_callbacks_t
modifier|*
name|callbacks
parameter_list|,
name|void
modifier|*
name|callback_baton
parameter_list|,
name|svn_boolean_t
name|recurse
parameter_list|,
name|svn_boolean_t
name|ignore_ancestry
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_diff2(), but with @a ignore_ancestry always set  * to @c FALSE.  *  * @deprecated Provided for backward compatibility with the 1.0 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_diff
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|anchor
parameter_list|,
specifier|const
name|char
modifier|*
name|target
parameter_list|,
specifier|const
name|svn_wc_diff_callbacks_t
modifier|*
name|callbacks
parameter_list|,
name|void
modifier|*
name|callback_baton
parameter_list|,
name|svn_boolean_t
name|recurse
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Given a @a local_abspath to a file or directory under version control,  * discover any local changes made to properties and/or the set of 'pristine'  * properties.  @a wc_ctx will be used to access the working copy.  *  * If @a propchanges is non-@c NULL, return these changes as an array of  * #svn_prop_t structures stored in @a *propchanges.  The structures and  * array will be allocated in @a result_pool.  If there are no local property  * modifications on @a local_abspath, then set @a *propchanges will be empty.  *  * If @a original_props is non-@c NULL, then set @a *original_props to  * hashtable (<tt>const char *name</tt> -><tt>const svn_string_t *value</tt>)  * that represents the 'pristine' property list of @a path.  This hashtable is  * allocated in @a result_pool.  *  * Use @a scratch_pool for temporary allocations.  */
name|svn_error_t
modifier|*
name|svn_wc_get_prop_diffs2
parameter_list|(
name|apr_array_header_t
modifier|*
modifier|*
name|propchanges
parameter_list|,
name|apr_hash_t
modifier|*
modifier|*
name|original_props
parameter_list|,
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|apr_pool_t
modifier|*
name|result_pool
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_get_prop_diffs2(), but with a #svn_wc_adm_access_t /  * relative path parameter pair.  *  * @deprecated Provided for backwards compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_get_prop_diffs
parameter_list|(
name|apr_array_header_t
modifier|*
modifier|*
name|propchanges
parameter_list|,
name|apr_hash_t
modifier|*
modifier|*
name|original_props
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** @} */
comment|/**  * @defgroup svn_wc_merging Merging  * @{  */
comment|/** The outcome of a merge carried out (or tried as a dry-run) by  * svn_wc_merge()  */
typedef|typedef
enum|enum
name|svn_wc_merge_outcome_t
block|{
comment|/** The working copy is (or would be) unchanged.  The changes to be     * merged were already present in the working copy     */
name|svn_wc_merge_unchanged
block|,
comment|/** The working copy has been (or would be) changed. */
name|svn_wc_merge_merged
block|,
comment|/** The working copy has been (or would be) changed, but there was (or     * would be) a conflict     */
name|svn_wc_merge_conflict
block|,
comment|/** No merge was performed, probably because the target file was     * either absent or not under version control.     */
name|svn_wc_merge_no_merge
block|}
name|svn_wc_merge_outcome_t
typedef|;
comment|/** Given absolute paths to three fulltexts, merge the differences between  * @a left_abspath and @a right_abspath into @a target_abspath.  * It may help to know that @a left_abspath, @a right_abspath and @a  * target_abspath correspond to "OLDER", "YOURS", and "MINE",  * respectively, in the diff3 documentation.  *  * @a wc_ctx should contain a write lock for the directory containing @a  * target_abspath.  *  * This function assumes that @a left_abspath and @a right_abspath are  * in repository-normal form (linefeeds, with keywords contracted); if  * necessary, @a target_abspath is temporarily converted to this form to  * receive the changes, then translated back again.  *  * If @a target_abspath is absent, or present but not under version  * control, then set @a *merge_content_outcome to #svn_wc_merge_no_merge and  * return success without merging anything.  (The reasoning is that if  * the file is not versioned, then it is probably unrelated to the  * changes being considered, so they should not be merged into it.  * Furthermore, merging into an unversioned file is a lossy operation.)  *  * @a dry_run determines whether the working copy is modified.  When it  * is @c FALSE the merge will cause @a target_abspath to be modified, when  * it is @c TRUE the merge will be carried out to determine the result but  * @a target_abspath will not be modified.  *  * If @a diff3_cmd is non-NULL, then use it as the diff3 command for  * any merging; otherwise, use the built-in merge code.  If @a  * merge_options is non-NULL, either pass its elements to @a diff3_cmd or  * parse it and use as options to the internal merge code (see  * svn_diff_file_options_parse()).  @a merge_options must contain  *<tt>const char *</tt> elements.  *  * If @a merge_props_state is non-NULL, merge @a prop_diff into the  * working properties before merging the text.  (If @a merge_props_state  * is NULL, do not merge any property changes; in this case, @a prop_diff  * is only used to help determine the text merge result.)  Handle any  * conflicts as described for svn_wc_merge_props3(), with the parameters  * @a dry_run, @a conflict_func and @a conflict_baton.  Return the  * outcome of the property merge in @a *merge_props_state.  *  * The outcome of the text merge is returned in @a *merge_content_outcome. If  * there is a conflict and @a dry_run is @c FALSE, then attempt to call @a  * conflict_func with @a conflict_baton (if non-NULL).  If the  * conflict callback cannot resolve the conflict, then:  *  *   * Put conflict markers around the conflicting regions in  *     @a target_abspath, labeled with @a left_label, @a right_label, and  *     @a target_label.  (If any of these labels are @c NULL, default  *     values will be used.)  *  *   * Copy @a left_abspath, @a right_abspath, and the original @a  *     target_abspath to unique names in the same directory as @a  *     target_abspath, ending with the suffixes ".LEFT_LABEL", ".RIGHT_LABEL",  *     and ".TARGET_LABEL" respectively.  *  *   * Mark @a target_abspath as "text-conflicted", and track the above  *     mentioned backup files as well.  *  *   * If @a left_version and/or @a right_version are not NULL, provide  *     these values to the conflict handler and track these while the conflict  *     exists.  *  * Binary case:  *  *  If @a target_abspath is a binary file, then no merging is attempted,  *  the merge is deemed to be a conflict.  If @a dry_run is @c FALSE the  *  working @a target_abspath is untouched, and copies of @a left_abspath and  *  @a right_abspath are created next to it using @a left_label and  *  @a right_label. @a target_abspath is marked as "text-conflicted", and  *  begins tracking the two backup files and the version information.  *  * If @a dry_run is @c TRUE no files are changed.  The outcome of the merge  * is returned in @a *merge_content_outcome.  * ### (and what about @a *merge_props_state?)  *  * ### BH: Two kinds of outcome is not how it should be.  *  * ### For text, we report the outcome as 'merged' if there was some  *     incoming change that we dealt with (even if we decided to no-op?)  *     but the callers then convert this outcome into a notification  *     of 'merged' only if there was already a local modification;  *     otherwise they notify it as simply 'updated'.  But for props  *     we report a notify state of 'merged' here if there was an  *     incoming change regardless of the local-mod state.  Inconsistent.  *  * Use @a scratch_pool for any temporary allocation.  *  * @since New in 1.8.  */
name|svn_error_t
modifier|*
name|svn_wc_merge5
parameter_list|(
name|enum
name|svn_wc_merge_outcome_t
modifier|*
name|merge_content_outcome
parameter_list|,
name|enum
name|svn_wc_notify_state_t
modifier|*
name|merge_props_state
parameter_list|,
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|left_abspath
parameter_list|,
specifier|const
name|char
modifier|*
name|right_abspath
parameter_list|,
specifier|const
name|char
modifier|*
name|target_abspath
parameter_list|,
specifier|const
name|char
modifier|*
name|left_label
parameter_list|,
specifier|const
name|char
modifier|*
name|right_label
parameter_list|,
specifier|const
name|char
modifier|*
name|target_label
parameter_list|,
specifier|const
name|svn_wc_conflict_version_t
modifier|*
name|left_version
parameter_list|,
specifier|const
name|svn_wc_conflict_version_t
modifier|*
name|right_version
parameter_list|,
name|svn_boolean_t
name|dry_run
parameter_list|,
specifier|const
name|char
modifier|*
name|diff3_cmd
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|merge_options
parameter_list|,
name|apr_hash_t
modifier|*
name|original_props
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|prop_diff
parameter_list|,
name|svn_wc_conflict_resolver_func2_t
name|conflict_func
parameter_list|,
name|void
modifier|*
name|conflict_baton
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_merge5() but with @a merge_props_state and @a  * original_props always passed as NULL.  *  * Unlike svn_wc_merge5(), this function doesn't merge property  * changes.  Callers of this function must first use  * svn_wc_merge_props3() to get this functionality.  *  * @since New in 1.7.  * @deprecated Provided for backwards compatibility with the 1.7 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_merge4
parameter_list|(
name|enum
name|svn_wc_merge_outcome_t
modifier|*
name|merge_outcome
parameter_list|,
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|left_abspath
parameter_list|,
specifier|const
name|char
modifier|*
name|right_abspath
parameter_list|,
specifier|const
name|char
modifier|*
name|target_abspath
parameter_list|,
specifier|const
name|char
modifier|*
name|left_label
parameter_list|,
specifier|const
name|char
modifier|*
name|right_label
parameter_list|,
specifier|const
name|char
modifier|*
name|target_label
parameter_list|,
specifier|const
name|svn_wc_conflict_version_t
modifier|*
name|left_version
parameter_list|,
specifier|const
name|svn_wc_conflict_version_t
modifier|*
name|right_version
parameter_list|,
name|svn_boolean_t
name|dry_run
parameter_list|,
specifier|const
name|char
modifier|*
name|diff3_cmd
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|merge_options
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|prop_diff
parameter_list|,
name|svn_wc_conflict_resolver_func2_t
name|conflict_func
parameter_list|,
name|void
modifier|*
name|conflict_baton
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_merge4() but takes relative paths and an access  * baton. It doesn't support a cancel function or tracking origin version  * information.  *  * Uses a svn_wc_conflict_resolver_func_t conflict resolver instead of a  * svn_wc_conflict_resolver_func2_t.  *  * This function assumes that @a diff3_cmd is path encoded. Later versions  * assume utf-8.  *  * @since New in 1.5.  * @deprecated Provided for backwards compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_merge3
parameter_list|(
name|enum
name|svn_wc_merge_outcome_t
modifier|*
name|merge_outcome
parameter_list|,
specifier|const
name|char
modifier|*
name|left
parameter_list|,
specifier|const
name|char
modifier|*
name|right
parameter_list|,
specifier|const
name|char
modifier|*
name|merge_target
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
specifier|const
name|char
modifier|*
name|left_label
parameter_list|,
specifier|const
name|char
modifier|*
name|right_label
parameter_list|,
specifier|const
name|char
modifier|*
name|target_label
parameter_list|,
name|svn_boolean_t
name|dry_run
parameter_list|,
specifier|const
name|char
modifier|*
name|diff3_cmd
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|merge_options
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|prop_diff
parameter_list|,
name|svn_wc_conflict_resolver_func_t
name|conflict_func
parameter_list|,
name|void
modifier|*
name|conflict_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_merge3(), but with @a prop_diff, @a  * conflict_func, @a conflict_baton set to NULL.  *  * @deprecated Provided for backwards compatibility with the 1.4 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_merge2
parameter_list|(
name|enum
name|svn_wc_merge_outcome_t
modifier|*
name|merge_outcome
parameter_list|,
specifier|const
name|char
modifier|*
name|left
parameter_list|,
specifier|const
name|char
modifier|*
name|right
parameter_list|,
specifier|const
name|char
modifier|*
name|merge_target
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
specifier|const
name|char
modifier|*
name|left_label
parameter_list|,
specifier|const
name|char
modifier|*
name|right_label
parameter_list|,
specifier|const
name|char
modifier|*
name|target_label
parameter_list|,
name|svn_boolean_t
name|dry_run
parameter_list|,
specifier|const
name|char
modifier|*
name|diff3_cmd
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|merge_options
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_merge2(), but with @a merge_options set to NULL.  *  * @deprecated Provided for backwards compatibility with the 1.3 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_merge
parameter_list|(
specifier|const
name|char
modifier|*
name|left
parameter_list|,
specifier|const
name|char
modifier|*
name|right
parameter_list|,
specifier|const
name|char
modifier|*
name|merge_target
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
specifier|const
name|char
modifier|*
name|left_label
parameter_list|,
specifier|const
name|char
modifier|*
name|right_label
parameter_list|,
specifier|const
name|char
modifier|*
name|target_label
parameter_list|,
name|svn_boolean_t
name|dry_run
parameter_list|,
name|enum
name|svn_wc_merge_outcome_t
modifier|*
name|merge_outcome
parameter_list|,
specifier|const
name|char
modifier|*
name|diff3_cmd
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Given a @a local_abspath under version control, merge an array of @a  * propchanges into the path's existing properties.  @a propchanges is  * an array of #svn_prop_t objects, and @a baseprops is a hash  * representing the original set of properties that @a propchanges is  * working against.  @a wc_ctx contains a lock for @a local_abspath.  *  * Only the working properties will be changed.  *  * If @a state is non-NULL, set @a *state to the state of the properties  * after the merge.  *  * If a conflict is found when merging a property, and @a dry_run is  * false and @a conflict_func is not null, then call @a conflict_func  * with @a conflict_baton and a description of the conflict.  If any  * conflicts are not resolved by such callbacks, describe the unresolved  * conflicts in a temporary .prej file (or append to an already-existing  * .prej file) and mark the path as conflicted in the WC DB.  *  * If @a cancel_func is non-NULL, invoke it with @a cancel_baton at various  * points during the operation.  If it returns an error (typically  * #SVN_ERR_CANCELLED), return that error immediately.  *  * If @a local_abspath is not under version control, return the error  * #SVN_ERR_WC_PATH_NOT_FOUND and don't touch anyone's properties.  *  * If @a local_abspath has a status in which it doesn't have properties  * (E.g. deleted) return the error SVN_ERR_WC_PATH_UNEXPECTED_STATUS.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_merge_props3
parameter_list|(
name|svn_wc_notify_state_t
modifier|*
name|state
parameter_list|,
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
specifier|const
name|svn_wc_conflict_version_t
modifier|*
name|left_version
parameter_list|,
specifier|const
name|svn_wc_conflict_version_t
modifier|*
name|right_version
parameter_list|,
name|apr_hash_t
modifier|*
name|baseprops
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|propchanges
parameter_list|,
name|svn_boolean_t
name|dry_run
parameter_list|,
name|svn_wc_conflict_resolver_func2_t
name|conflict_func
parameter_list|,
name|void
modifier|*
name|conflict_baton
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_merge_props3, but takes an access baton and relative  * path, no cancel_function, and no left and right version.  *  * This function has the @a base_merge parameter which (when TRUE) will  * apply @a propchanges to this node's pristine set of properties. This  * functionality is not supported since API version 1.7 and will give an  * error if requested (unless @a dry_run is TRUE). For details see  * 'notes/api-errata/1.7/wc006.txt'.  *  * Uses a svn_wc_conflict_resolver_func_t conflict resolver instead of a  * svn_wc_conflict_resolver_func2_t.  *  * For compatibility reasons this function returns  * #SVN_ERR_UNVERSIONED_RESOURCE, when svn_wc_merge_props3 would return either  * #SVN_ERR_WC_PATH_NOT_FOUND or #SVN_ERR_WC_PATH_UNEXPECTED_STATUS.  *  * @since New in 1.5. The base_merge option is not supported since 1.7.  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_merge_props2
parameter_list|(
name|svn_wc_notify_state_t
modifier|*
name|state
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|apr_hash_t
modifier|*
name|baseprops
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|propchanges
parameter_list|,
name|svn_boolean_t
name|base_merge
parameter_list|,
name|svn_boolean_t
name|dry_run
parameter_list|,
name|svn_wc_conflict_resolver_func_t
name|conflict_func
parameter_list|,
name|void
modifier|*
name|conflict_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Same as svn_wc_merge_props2(), but with a @a conflict_func (and  * baton) of NULL.  *  * @since New in 1.3. The base_merge option is not supported since 1.7.  * @deprecated Provided for backward compatibility with the 1.4 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_merge_props
parameter_list|(
name|svn_wc_notify_state_t
modifier|*
name|state
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|apr_hash_t
modifier|*
name|baseprops
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|propchanges
parameter_list|,
name|svn_boolean_t
name|base_merge
parameter_list|,
name|svn_boolean_t
name|dry_run
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_merge_props(), but no baseprops are given.  * Instead, it's assumed that the incoming propchanges are based  * against the working copy's own baseprops.  While this assumption is  * correct for 'svn update', it's incorrect for 'svn merge', and can  * cause flawed behavior.  (See issue #2035.)  *  * @since The base_merge option is not supported since 1.7.  * @deprecated Provided for backward compatibility with the 1.2 API.  * Replaced by svn_wc_merge_props().  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_merge_prop_diffs
parameter_list|(
name|svn_wc_notify_state_t
modifier|*
name|state
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|propchanges
parameter_list|,
name|svn_boolean_t
name|base_merge
parameter_list|,
name|svn_boolean_t
name|dry_run
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** @} */
comment|/** Given a @a path to a wc file, return in @a *contents a readonly stream to  * the pristine contents of the file that would serve as base content for the  * next commit. That means:  *  * When there is no change in node history scheduled, i.e. when there are only  * local text-mods, prop-mods or a delete, return the last checked-out or  * updated-/switched-to contents of the file.  *  * If the file is simply added or replaced (no copy-/move-here involved),  * set @a *contents to @c NULL.  *  * When the file has been locally copied-/moved-here, return the contents of  * the copy/move source (even if the copy-/move-here replaces a locally  * deleted file).  *  * If @a local_abspath refers to an unversioned or non-existing path, return  * @c SVN_ERR_WC_PATH_NOT_FOUND. Use @a wc_ctx to access the working copy.  * @a contents may not be @c NULL (unlike @a *contents).  *  * @since New in 1.7. */
name|svn_error_t
modifier|*
name|svn_wc_get_pristine_contents2
parameter_list|(
name|svn_stream_t
modifier|*
modifier|*
name|contents
parameter_list|,
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|apr_pool_t
modifier|*
name|result_pool
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_get_pristine_contents2, but takes no working copy  * context and a path that can be relative  *  * @since New in 1.6.  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_get_pristine_contents
parameter_list|(
name|svn_stream_t
modifier|*
modifier|*
name|contents
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|apr_pool_t
modifier|*
name|result_pool
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Set @a *pristine_path to the path of the "normal" pristine text file for  * the versioned file @a path.  *  * If @a path does not have a pristine text, set @a *pristine_path to a path where  * nothing exists on disk (in a directory that does exist).  *  * @note: Before version 1.7, the behaviour in that case was to provide the  * path where the pristine text *would be* if it were present.  The new  * behaviour is intended to provide backward compatibility for callers that  * open or test the provided path immediately, and not for callers that  * store the path for later use.  *  * @deprecated Provided for backwards compatibility with the 1.5 API.  * Callers should use svn_wc_get_pristine_contents() instead.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_get_pristine_copy_path
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
specifier|const
name|char
modifier|*
modifier|*
name|pristine_path
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Recurse from @a local_abspath, cleaning up unfinished log business.  Perform  * any temporary allocations in @a scratch_pool.  Any working copy locks under  * @a local_abspath will be taken over and then cleared by this function.  *  * WARNING: there is no mechanism that will protect locks that are still being  * used.  *  * If @a cancel_func is non-NULL, invoke it with @a cancel_baton at various  * points during the operation.  If it returns an error (typically  * #SVN_ERR_CANCELLED), return that error immediately.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_cleanup3
parameter_list|(
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_cleanup3() but uses relative paths and creates its own  * #svn_wc_context_t.  *  * @since New in 1.2.  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_cleanup2
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
specifier|const
name|char
modifier|*
name|diff3_cmd
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_cleanup2(). @a optional_adm_access is an historic  * relic and not used, it may be NULL.  *  * @deprecated Provided for backward compatibility with the 1.1 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_cleanup
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|optional_adm_access
parameter_list|,
specifier|const
name|char
modifier|*
name|diff3_cmd
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Callback for retrieving a repository root for a url from upgrade.  *  * Called by svn_wc_upgrade() when no repository root and/or repository  * uuid are recorded in the working copy. For normal Subversion 1.5 and  * later working copies, this callback will not be used.  *  * @since New in 1.7.  */
typedef|typedef
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|svn_wc_upgrade_get_repos_info_t
function_decl|)
parameter_list|(
specifier|const
name|char
modifier|*
modifier|*
name|repos_root
parameter_list|,
specifier|const
name|char
modifier|*
modifier|*
name|repos_uuid
parameter_list|,
name|void
modifier|*
name|baton
parameter_list|,
specifier|const
name|char
modifier|*
name|url
parameter_list|,
name|apr_pool_t
modifier|*
name|result_pool
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/**  * Upgrade the working copy at @a local_abspath to the latest metadata  * storage format.  @a local_abspath should be an absolute path to the  * root of the working copy.  *  * If @a cancel_func is non-NULL, invoke it with @a cancel_baton at  * various points during the operation.  If it returns an error  * (typically #SVN_ERR_CANCELLED), return that error immediately.  *  * For each directory converted, @a notify_func will be called with  * in @a notify_baton action #svn_wc_notify_upgraded_path and as path  * the path of the upgraded directory. @a notify_func may be @c NULL  * if this notification is not needed.  *  * If the old working copy doesn't contain a repository root and/or  * repository uuid, @a repos_info_func (if non-NULL) will be called  * with @a repos_info_baton to provide the missing information.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_upgrade
parameter_list|(
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|svn_wc_upgrade_get_repos_info_t
name|repos_info_func
parameter_list|,
name|void
modifier|*
name|repos_info_baton
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Relocation validation callback typedef.  *  * Called for each relocated file/directory.  @a uuid, if non-NULL, contains  * the expected repository UUID, @a url contains the tentative URL.  *  * @a baton is a closure object; it should be provided by the  * implementation, and passed by the caller.  *  * If @a root_url is passed, then the implementation should make sure that  * @a url is the repository root.  * @a pool may be used for temporary allocations.  *  * @since New in 1.5.  */
typedef|typedef
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|svn_wc_relocation_validator3_t
function_decl|)
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
specifier|const
name|char
modifier|*
name|uuid
parameter_list|,
specifier|const
name|char
modifier|*
name|url
parameter_list|,
specifier|const
name|char
modifier|*
name|root_url
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Similar to #svn_wc_relocation_validator3_t, but with  * the @a root argument.  *  * If @a root is TRUE, then the implementation should make sure that @a url  * is the repository root.  Else, it can be a URL inside the repository.  *  * @deprecated Provided for backwards compatibility with the 1.4 API.  */
typedef|typedef
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|svn_wc_relocation_validator2_t
function_decl|)
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
specifier|const
name|char
modifier|*
name|uuid
parameter_list|,
specifier|const
name|char
modifier|*
name|url
parameter_list|,
name|svn_boolean_t
name|root
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Similar to #svn_wc_relocation_validator2_t, but without  * the @a root and @a pool arguments.  @a uuid will not be NULL in this version  * of the function.  *  * @deprecated Provided for backwards compatibility with the 1.3 API.  */
typedef|typedef
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|svn_wc_relocation_validator_t
function_decl|)
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
specifier|const
name|char
modifier|*
name|uuid
parameter_list|,
specifier|const
name|char
modifier|*
name|url
parameter_list|)
function_decl|;
comment|/** Recursively change repository references at @a wcroot_abspath  * (which is the root directory of a working copy).  The pre-change  * URL should begin with @a from, and the post-change URL will begin  * with @a to.  @a validator (and its baton, @a validator_baton), will  * be called for the newly generated base URL and calculated repo  * root.  *  * @a wc_ctx is an working copy context.  *  * @a scratch_pool will be used for temporary allocations.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_relocate4
parameter_list|(
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|wcroot_abspath
parameter_list|,
specifier|const
name|char
modifier|*
name|from
parameter_list|,
specifier|const
name|char
modifier|*
name|to
parameter_list|,
name|svn_wc_relocation_validator3_t
name|validator
parameter_list|,
name|void
modifier|*
name|validator_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_relocate4(), but with a #svn_wc_adm_access_t /  * relative path parameter pair.  *  * @note As of the 1.7 API, @a path is required to be a working copy  * root directory, and @a recurse is required to be TRUE.  *  * @since New in 1.5.  * @deprecated Provided for limited backwards compatibility with the  * 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_relocate3
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
specifier|const
name|char
modifier|*
name|from
parameter_list|,
specifier|const
name|char
modifier|*
name|to
parameter_list|,
name|svn_boolean_t
name|recurse
parameter_list|,
name|svn_wc_relocation_validator3_t
name|validator
parameter_list|,
name|void
modifier|*
name|validator_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_relocate3(), but uses #svn_wc_relocation_validator2_t.  *  * @since New in 1.4.  * @deprecated Provided for backwards compatibility with the 1.4 API. */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_relocate2
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
specifier|const
name|char
modifier|*
name|from
parameter_list|,
specifier|const
name|char
modifier|*
name|to
parameter_list|,
name|svn_boolean_t
name|recurse
parameter_list|,
name|svn_wc_relocation_validator2_t
name|validator
parameter_list|,
name|void
modifier|*
name|validator_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_relocate2(), but uses #svn_wc_relocation_validator_t.  *  * @deprecated Provided for backwards compatibility with the 1.3 API. */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_relocate
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
specifier|const
name|char
modifier|*
name|from
parameter_list|,
specifier|const
name|char
modifier|*
name|to
parameter_list|,
name|svn_boolean_t
name|recurse
parameter_list|,
name|svn_wc_relocation_validator_t
name|validator
parameter_list|,
name|void
modifier|*
name|validator_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Revert changes to @a local_abspath.  Perform necessary allocations in  * @a scratch_pool.  *  * @a wc_ctx contains the necessary locks required for performing the  * operation.  *  * If @a depth is #svn_depth_empty, revert just @a path (if a  * directory, then revert just the properties on that directory).  * Else if #svn_depth_files, revert @a path and any files  * directly under @a path if it is directory.  Else if  * #svn_depth_immediates, revert all of the preceding plus  * properties on immediate subdirectories; else if #svn_depth_infinity,  * revert path and everything under it fully recursively.  *  * @a changelist_filter is an array of<tt>const char *</tt> changelist  * names, used as a restrictive filter on items reverted; that is,  * don't revert any item unless it's a member of one of those  * changelists.  If @a changelist_filter is empty (or altogether @c NULL),  * no changelist filtering occurs.  *  * If @a cancel_func is non-NULL, call it with @a cancel_baton at  * various points during the reversion process.  If it returns an  * error (typically #SVN_ERR_CANCELLED), return that error  * immediately.  *  * If @a use_commit_times is TRUE, then all reverted working-files  * will have their timestamp set to the last-committed-time.  If  * FALSE, the reverted working-files will be touched with the 'now' time.  *  * For each item reverted, @a notify_func will be called with @a notify_baton  * and the path of the reverted item. @a notify_func may be @c NULL if this  * notification is not needed.  *  * If @a path is not under version control, return the error  * #SVN_ERR_UNVERSIONED_RESOURCE.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_revert4
parameter_list|(
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|svn_boolean_t
name|use_commit_times
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|changelist_filter
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_revert4() but takes a relative path and access baton.  *  * @since New in 1.5.  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_revert3
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|parent_access
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|svn_boolean_t
name|use_commit_times
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|changelist_filter
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_revert3(), but with @a changelist_filter passed as @c  * NULL, and @a depth set according to @a recursive: if @a recursive  * is TRUE, @a depth is #svn_depth_infinity; if FALSE, @a depth is  * #svn_depth_empty.  *  * @note Most APIs map @a recurse==FALSE to @a depth==svn_depth_files;  * revert is deliberately different.  *  * @since New in 1.2.  * @deprecated Provided for backward compatibility with the 1.4 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_revert2
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|parent_access
parameter_list|,
name|svn_boolean_t
name|recursive
parameter_list|,
name|svn_boolean_t
name|use_commit_times
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_revert2(), but takes an #svn_wc_notify_func_t instead.  *  * @deprecated Provided for backward compatibility with the 1.1 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_revert
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|parent_access
parameter_list|,
name|svn_boolean_t
name|recursive
parameter_list|,
name|svn_boolean_t
name|use_commit_times
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_notify_func_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Restores a missing node, @a local_abspath using the @a wc_ctx. Records  * the new last modified time of the file for status processing.  *  * If @a use_commit_times is TRUE, then set restored files' timestamps  * to their last-commit-times.  *  * Returns SVN_ERROR_WC_PATH_NOT_FOUND if LOCAL_ABSPATH is not versioned and  * SVN_ERROR_WC_PATH_UNEXPECTED_STATUS if LOCAL_ABSPATH is in a status where  * it can't be restored.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_restore
parameter_list|(
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|svn_boolean_t
name|use_commit_times
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/* Tmp files */
comment|/** Create a unique temporary file in administrative tmp/ area of  * directory @a path.  Return a handle in @a *fp and the path  * in @a *new_name. Either @a fp or @a new_name can be NULL.  *  * The flags will be<tt>APR_WRITE | APR_CREATE | APR_EXCL</tt> and  * optionally @c APR_DELONCLOSE (if the @a delete_when argument is  * set to #svn_io_file_del_on_close).  *  * This means that as soon as @a fp is closed, the tmp file will vanish.  *  * @since New in 1.4  * @deprecated For compatibility with 1.6 API  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_create_tmp_file2
parameter_list|(
name|apr_file_t
modifier|*
modifier|*
name|fp
parameter_list|,
specifier|const
name|char
modifier|*
modifier|*
name|new_name
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_io_file_del_t
name|delete_when
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Same as svn_wc_create_tmp_file2(), but with @a new_name set to @c NULL,  * and without the ability to delete the file on pool cleanup.  *  * @deprecated For compatibility with 1.3 API  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_create_tmp_file
parameter_list|(
name|apr_file_t
modifier|*
modifier|*
name|fp
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_boolean_t
name|delete_on_close
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * @defgroup svn_wc_translate EOL conversion and keyword expansion  * @{  */
comment|/** Set @a xlated_path to a translated copy of @a src  * or to @a src itself if no translation is necessary.  * That is, if @a versioned_file's properties indicate newline conversion or  * keyword expansion, point @a *xlated_path to a copy of @a src  * whose newlines and keywords are converted using the translation  * as requested by @a flags.  *  * If @a cancel_func is non-NULL, call it with @a cancel_baton to determine  * if the client has canceled the operation.  *  * When translating to the normal form, inconsistent eol styles will be  * repaired when appropriate for the given setting.  When translating  * from normal form, no EOL repair is performed (consistency is assumed).  * This behaviour can be overridden by specifying  * #SVN_WC_TRANSLATE_FORCE_EOL_REPAIR.  *  * The caller can explicitly request a new file to be returned by setting the  * #SVN_WC_TRANSLATE_FORCE_COPY flag in @a flags.  *  * This function is generally used to get a file that can be compared  * meaningfully against @a versioned_file's text base, if  * @c SVN_WC_TRANSLATE_TO_NF is specified, against @a versioned_file itself  * if @c SVN_WC_TRANSLATE_FROM_NF is specified.  *  * If a new output file is created, it is created in the temp file area  * belonging to @a versioned_file.  By default it will be deleted at pool  * cleanup.  If @c SVN_WC_TRANSLATE_NO_OUTPUT_CLEANUP is specified, the  * default pool cleanup handler to remove @a *xlated_path is not registered.  * If the input file is returned as the output, its lifetime is not  * specified.  *  * If an error is returned, the effect on @a *xlated_path is undefined.  *  * @since New in 1.4  * @deprecated Provided for compatibility with the 1.6 API  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_translated_file2
parameter_list|(
specifier|const
name|char
modifier|*
modifier|*
name|xlated_path
parameter_list|,
specifier|const
name|char
modifier|*
name|src
parameter_list|,
specifier|const
name|char
modifier|*
name|versioned_file
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|apr_uint32_t
name|flags
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Same as svn_wc_translated_file2, but will never clean up  * temporary files.  *  * @deprecated Provided for compatibility with the 1.3 API  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_translated_file
parameter_list|(
specifier|const
name|char
modifier|*
modifier|*
name|xlated_p
parameter_list|,
specifier|const
name|char
modifier|*
name|vfile
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_boolean_t
name|force_repair
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Returns a @a stream allocated in @a pool with access to the given  * @a path taking the file properties from @a versioned_file using  * @a adm_access.  *  * If @a flags includes #SVN_WC_TRANSLATE_FROM_NF, the stream will  * translate from Normal Form to working copy form while writing to  * @a path; stream read operations are not supported.  * Conversely, if @a flags includes #SVN_WC_TRANSLATE_TO_NF, the stream will  * translate from working copy form to Normal Form while reading from  * @a path; stream write operations are not supported.  *  * The @a flags are the same constants as those used for  * svn_wc_translated_file2().  *  * @since New in 1.5.  * @deprecated Provided for compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_translated_stream
parameter_list|(
name|svn_stream_t
modifier|*
modifier|*
name|stream
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
specifier|const
name|char
modifier|*
name|versioned_file
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|apr_uint32_t
name|flags
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** @} */
comment|/**  * @defgroup svn_wc_deltas Text/Prop Deltas Using an Editor  * @{  */
comment|/** Send the local modifications for versioned file @a local_abspath (with  * matching @a file_baton) through @a editor, then close @a file_baton  * afterwards.  Use @a scratch_pool for any temporary allocation.  *  * If @a new_text_base_md5_checksum is non-NULL, set  * @a *new_text_base_md5_checksum to the MD5 checksum of (@a local_abspath  * translated to repository-normal form), allocated in @a result_pool.  *  * If @a new_text_base_sha1_checksum in non-NULL, store a copy of (@a  * local_abspath translated to repository-normal form) in the pristine text  * store, and set @a *new_text_base_sha1_checksum to its SHA-1 checksum.  *  * If @a fulltext, send the untranslated copy of @a local_abspath through  * @a editor as full-text; else send it as svndiff against the current text  * base.  *  * If sending a diff, and the recorded checksum for @a local_abspath's  * text-base does not match the current actual checksum, then remove the tmp  * copy (and set @a *tempfile to NULL if appropriate), and return the  * error #SVN_ERR_WC_CORRUPT_TEXT_BASE.  *  * @note This is intended for use with both infix and postfix  * text-delta styled editor drivers.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_transmit_text_deltas3
parameter_list|(
specifier|const
name|svn_checksum_t
modifier|*
modifier|*
name|new_text_base_md5_checksum
parameter_list|,
specifier|const
name|svn_checksum_t
modifier|*
modifier|*
name|new_text_base_sha1_checksum
parameter_list|,
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|svn_boolean_t
name|fulltext
parameter_list|,
specifier|const
name|svn_delta_editor_t
modifier|*
name|editor
parameter_list|,
name|void
modifier|*
name|file_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|result_pool
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_transmit_text_deltas3(), but with a relative path  * and adm_access baton, and the checksum output is an MD5 digest instead of  * two svn_checksum_t objects.  *  * If @a tempfile is non-NULL, make a copy of @a path with keywords  * and eol translated to repository-normal form, and set @a *tempfile to the  * absolute path to this copy, allocated in @a result_pool.  The copy will  * be in the temporary-text-base directory.  Do not clean up the copy;  * caller can do that.  (The purpose of handing back the tmp copy is that it  * is usually about to become the new text base anyway, but the installation  * of the new text base is outside the scope of this function.)  *  * @since New in 1.4.  * @deprecated Provided for backwards compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_transmit_text_deltas2
parameter_list|(
specifier|const
name|char
modifier|*
modifier|*
name|tempfile
parameter_list|,
name|unsigned
name|char
name|digest
index|[]
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_boolean_t
name|fulltext
parameter_list|,
specifier|const
name|svn_delta_editor_t
modifier|*
name|editor
parameter_list|,
name|void
modifier|*
name|file_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_transmit_text_deltas2(), but with @a digest set to NULL.  *  * @deprecated Provided for backwards compatibility with the 1.3 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_transmit_text_deltas
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_boolean_t
name|fulltext
parameter_list|,
specifier|const
name|svn_delta_editor_t
modifier|*
name|editor
parameter_list|,
name|void
modifier|*
name|file_baton
parameter_list|,
specifier|const
name|char
modifier|*
modifier|*
name|tempfile
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Given a @a local_abspath, transmit all local property  * modifications using the appropriate @a editor method (in conjunction  * with @a baton). Use @a scratch_pool for any temporary allocation.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_transmit_prop_deltas2
parameter_list|(
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
specifier|const
name|svn_delta_editor_t
modifier|*
name|editor
parameter_list|,
name|void
modifier|*
name|baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_transmit_prop_deltas2(), but with a relative path,  * adm_access baton and tempfile.  *  * If a temporary file remains after this function is finished, the  * path to that file is returned in @a *tempfile (so the caller can  * clean this up if it wishes to do so).  *  * @note Starting version 1.5, no tempfile will ever be returned  *       anymore.  If @a *tempfile is passed, its value is set to @c NULL.  *  * @deprecated Provided for backwards compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_transmit_prop_deltas
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
specifier|const
name|svn_wc_entry_t
modifier|*
name|entry
parameter_list|,
specifier|const
name|svn_delta_editor_t
modifier|*
name|editor
parameter_list|,
name|void
modifier|*
name|baton
parameter_list|,
specifier|const
name|char
modifier|*
modifier|*
name|tempfile
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** @} */
comment|/**  * @defgroup svn_wc_ignore Ignoring unversioned files and directories  * @{  */
comment|/** Get the run-time configured list of ignore patterns from the  * #svn_config_t's in the @a config hash, and store them in @a *patterns.  * Allocate @a *patterns and its contents in @a pool.  */
name|svn_error_t
modifier|*
name|svn_wc_get_default_ignores
parameter_list|(
name|apr_array_header_t
modifier|*
modifier|*
name|patterns
parameter_list|,
name|apr_hash_t
modifier|*
name|config
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Get the list of ignore patterns from the #svn_config_t's in the  * @a config hash and the local ignore patterns from the directory  * at @a local_abspath, using @a wc_ctx, and store them in @a *patterns.  * Allocate @a *patterns and its contents in @a result_pool, use @a  * scratch_pool for temporary allocations.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_get_ignores2
parameter_list|(
name|apr_array_header_t
modifier|*
modifier|*
name|patterns
parameter_list|,
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|apr_hash_t
modifier|*
name|config
parameter_list|,
name|apr_pool_t
modifier|*
name|result_pool
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_get_ignores2(), but with a #svn_wc_adm_access_t  * parameter in place of #svn_wc_context_t and @c local_abspath parameters.  *  * @since New in 1.3.  * @deprecated Provided for backwards compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_get_ignores
parameter_list|(
name|apr_array_header_t
modifier|*
modifier|*
name|patterns
parameter_list|,
name|apr_hash_t
modifier|*
name|config
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Return TRUE iff @a str matches any of the elements of @a list, a  * list of zero or more ignore patterns.  *  * @since New in 1.5.  */
name|svn_boolean_t
name|svn_wc_match_ignore_list
parameter_list|(
specifier|const
name|char
modifier|*
name|str
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|list
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** @} */
comment|/**  * @defgroup svn_wc_repos_locks Repository locks  * @{  */
comment|/** Add @a lock to the working copy for @a local_abspath.  If @a  * local_abspath is read-only, due to locking properties, make it writable.  * Perform temporary allocations in @a scratch_pool.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_add_lock2
parameter_list|(
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|abspath
parameter_list|,
specifier|const
name|svn_lock_t
modifier|*
name|lock
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_add_lock2(), but with a #svn_wc_adm_access_t /  * relative path parameter pair.  *  * @deprecated Provided for backward compatibility with the 1.6 API.  * @since New in 1.2.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_add_lock
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
specifier|const
name|svn_lock_t
modifier|*
name|lock
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Remove any lock from @a local_abspath.  If @a local_abspath has a  * lock and the locking so specifies, make the file read-only.  Don't  * return an error if @a local_abspath didn't have a lock.  Perform temporary  * allocations in @a scratch_pool.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_remove_lock2
parameter_list|(
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/**  * Similar to svn_wc_remove_lock2(), but with a #svn_wc_adm_access_t /  * relative path parameter pair.  *  * @deprecated Provided for backward compatibility with the 1.6 API.  * @since New in 1.2.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_remove_lock
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** @} */
comment|/** A structure to report a summary of a working copy, including the  * mix of revisions found within it, whether any parts are switched or  * locally modified, and whether it is a sparse checkout.  *  * @note Fields may be added to the end of this structure in future  * versions.  Therefore, to preserve binary compatibility, users  * should not directly allocate structures of this type.  *  * @since New in 1.4  */
typedef|typedef
struct|struct
name|svn_wc_revision_status_t
block|{
name|svn_revnum_t
name|min_rev
decl_stmt|;
comment|/**< Lowest revision found */
name|svn_revnum_t
name|max_rev
decl_stmt|;
comment|/**< Highest revision found */
name|svn_boolean_t
name|switched
decl_stmt|;
comment|/**< Is anything switched? */
name|svn_boolean_t
name|modified
decl_stmt|;
comment|/**< Is anything modified? */
comment|/** Whether any WC paths are at a depth other than #svn_depth_infinity.    * @since New in 1.5.    */
name|svn_boolean_t
name|sparse_checkout
decl_stmt|;
block|}
name|svn_wc_revision_status_t
typedef|;
comment|/** Set @a *result_p to point to a new #svn_wc_revision_status_t structure  * containing a summary of the revision range and status of the working copy  * at @a local_abspath (not including "externals").  @a local_abspath must  * be absolute. Return SVN_ERR_WC_PATH_NOT_FOUND if @a local_abspath is not  * a working copy path.  *  * Set @a (*result_p)->min_rev and @a (*result_p)->max_rev respectively to the  * lowest and highest revision numbers in the working copy.  If @a committed  * is TRUE, summarize the last-changed revisions, else the base revisions.  *  * Set @a (*result_p)->switched to indicate whether any item in the WC is  * switched relative to its parent.  If @a trail_url is non-NULL, use it to  * determine if @a local_abspath itself is switched.  It should be any trailing  * portion of @a local_abspath's expected URL, long enough to include any parts  * that the caller considers might be changed by a switch.  If it does not  * match the end of @a local_abspath's actual URL, then report a "switched"  * status.  *  * Set @a (*result_p)->modified to indicate whether any item is locally  * modified.  *  * If @a cancel_func is non-NULL, call it with @a cancel_baton to determine  * if the client has canceled the operation.  *  * Allocate *result_p in @a result_pool, use @a scratch_pool for temporary  * allocations.  *  * @a wc_ctx should be a valid working copy context.  *  * @since New in 1.7  */
name|svn_error_t
modifier|*
name|svn_wc_revision_status2
parameter_list|(
name|svn_wc_revision_status_t
modifier|*
modifier|*
name|result_p
parameter_list|,
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
specifier|const
name|char
modifier|*
name|trail_url
parameter_list|,
name|svn_boolean_t
name|committed
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|result_pool
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_revision_status2(), but with a (possibly) local  * path and no wc_ctx parameter.  *  * @since New in 1.4.  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_revision_status
parameter_list|(
name|svn_wc_revision_status_t
modifier|*
modifier|*
name|result_p
parameter_list|,
specifier|const
name|char
modifier|*
name|wc_path
parameter_list|,
specifier|const
name|char
modifier|*
name|trail_url
parameter_list|,
name|svn_boolean_t
name|committed
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * Set @a local_abspath's 'changelist' attribute to @a changelist iff  * @a changelist is not @c NULL; otherwise, remove any current  * changelist assignment from @a local_abspath.  @a changelist may not  * be the empty string.  Recurse to @a depth.  *  * @a changelist_filter is an array of<tt>const char *</tt> changelist  * names, used as a restrictive filter on items whose changelist  * assignments are adjusted; that is, don't tweak the changeset of any  * item unless it's currently a member of one of those changelists.  * If @a changelist_filter is empty (or altogether @c NULL), no changelist  * filtering occurs.  *  * If @a cancel_func is not @c NULL, call it with @a cancel_baton to  * determine if the client has canceled the operation.  *  * If @a notify_func is not @c NULL, call it with @a notify_baton to  * report the change (using notification types  * #svn_wc_notify_changelist_set and #svn_wc_notify_changelist_clear).  *  * Use @a scratch_pool for temporary allocations.  *  * @note For now, directories are NOT allowed to be associated with  * changelists; there is confusion about whether they should behave  * as depth-0 or depth-infinity objects.  If @a local_abspath is a directory,  * return an error.  *  * @note This metadata is purely a client-side "bookkeeping"  * convenience, and is entirely managed by the working copy.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_set_changelist2
parameter_list|(
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
specifier|const
name|char
modifier|*
name|changelist
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|changelist_filter
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_set_changelist2(), but with an access baton and  * relative path.  *  * @since New in 1.5.  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_set_changelist
parameter_list|(
specifier|const
name|char
modifier|*
name|path
parameter_list|,
specifier|const
name|char
modifier|*
name|changelist
parameter_list|,
name|svn_wc_adm_access_t
modifier|*
name|adm_access
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * The callback type used by svn_wc_get_changelists() and  * svn_client_get_changelists().  *  * On each invocation, @a path is a newly discovered member of the  * changelist, and @a baton is a private function closure.  *  * @since New in 1.5.  */
typedef|typedef
name|svn_error_t
modifier|*
function_decl|(
modifier|*
name|svn_changelist_receiver_t
function_decl|)
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
specifier|const
name|char
modifier|*
name|path
parameter_list|,
specifier|const
name|char
modifier|*
name|changelist
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/**  * ### TODO: Doc string, please.  *  * @since New in 1.7.  */
name|svn_error_t
modifier|*
name|svn_wc_get_changelists
parameter_list|(
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
specifier|const
name|apr_array_header_t
modifier|*
name|changelist_filter
parameter_list|,
name|svn_changelist_receiver_t
name|callback_func
parameter_list|,
name|void
modifier|*
name|callback_baton
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Crop @a local_abspath according to @a depth.  *  * Remove any item that exceeds the boundary of @a depth (relative to  * @a local_abspath) from revision control.  Leave modified items behind  * (unversioned), while removing unmodified ones completely.  *  * @a depth can be svn_depth_empty, svn_depth_files or svn_depth_immediates.  * Excluding nodes is handled by svn_wc_exclude().  *  * If @a local_abspath starts out with a shallower depth than @a depth,  * do not upgrade it to @a depth (that would not be cropping); however, do  * check children and crop them appropriately according to @a depth.  *  * Returns immediately with an #SVN_ERR_UNSUPPORTED_FEATURE error if @a  * local_abspath is not a directory, or if @a depth is not restrictive  * (e.g., #svn_depth_infinity).  *  * @a wc_ctx contains a tree lock, for the local path to the working copy  * which will be used as the root of this operation.  *  * If @a cancel_func is not @c NULL, call it with @a cancel_baton at  * various points to determine if the client has canceled the operation.  *  * If @a notify_func is not @c NULL, call it with @a notify_baton to  * report changes as they are made.  *  * @since New in 1.7  */
name|svn_error_t
modifier|*
name|svn_wc_crop_tree2
parameter_list|(
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_crop_tree2(), but uses an access baton and target.  *  * svn_wc_crop_tree() also allows #svn_depth_exclude, which is now  * handled via svn_wc_exclude()  *  * @a target is a basename in @a anchor or "" for @a anchor itself.  *  * @since New in 1.6  * @deprecated Provided for backward compatibility with the 1.6 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_crop_tree
parameter_list|(
name|svn_wc_adm_access_t
modifier|*
name|anchor
parameter_list|,
specifier|const
name|char
modifier|*
name|target
parameter_list|,
name|svn_depth_t
name|depth
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|pool
parameter_list|)
function_decl|;
comment|/** Remove the local node for @a local_abspath from the working copy and  * add an excluded node placeholder in its place.  *  * This feature is only supported for unmodified nodes. An  * #SVN_ERR_UNSUPPORTED_FEATURE error is returned if the node can't be  * excluded in its current state.  *  * @a wc_ctx contains a tree lock, for the local path to the working copy  * which will be used as the root of this operation  *  * If @a notify_func is not @c NULL, call it with @a notify_baton to  * report changes as they are made.  *  * If @a cancel_func is not @c NULL, call it with @a cancel_baton at  * various points to determine if the client has canceled the operation.  *  *  * @since New in 1.7  */
name|svn_error_t
modifier|*
name|svn_wc_exclude
parameter_list|(
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|svn_cancel_func_t
name|cancel_func
parameter_list|,
name|void
modifier|*
name|cancel_baton
parameter_list|,
name|svn_wc_notify_func2_t
name|notify_func
parameter_list|,
name|void
modifier|*
name|notify_baton
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** @} */
comment|/**  * Set @a kind to the #svn_node_kind_t of @a abspath.  Use @a wc_ctx to access  * the working copy, and @a scratch_pool for all temporary allocations.  *  * If @a abspath is not under version control, set @a kind to #svn_node_none.  *  * If @a show_hidden and @a show_deleted are both @c FALSE, the kind of  * scheduled for delete, administrative only 'not present' and excluded  * nodes is reported as #svn_node_none. This is recommended as a check  * for 'is there a versioned file or directory here?'  *  * If @a show_deleted is FALSE, but @a show_hidden is @c TRUE then only  * scheduled for delete and administrative only 'not present' nodes are  * reported as #svn_node_none. This is recommended as check for  * 'Can I add a node here?'  *  * If @a show_deleted is TRUE, but @a show_hidden is FALSE, then only  * administrative only 'not present' nodes and excluded nodes are reported as  * #svn_node_none. This behavior is the behavior bescribed as 'hidden'  * before Subversion 1.7.  *  * If @a show_hidden and @a show_deleted are both @c TRUE all nodes are  * reported.  *  * @since New in 1.8.  */
name|svn_error_t
modifier|*
name|svn_wc_read_kind2
parameter_list|(
name|svn_node_kind_t
modifier|*
name|kind
parameter_list|,
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|local_abspath
parameter_list|,
name|svn_boolean_t
name|show_deleted
parameter_list|,
name|svn_boolean_t
name|show_hidden
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** Similar to svn_wc_read_kind2() but with @a show_deleted always  * passed as TRUE.  *  * @since New in 1.7.  * @deprecated Provided for backward compatibility with the 1.7 API.  */
name|SVN_DEPRECATED
name|svn_error_t
modifier|*
name|svn_wc_read_kind
parameter_list|(
name|svn_node_kind_t
modifier|*
name|kind
parameter_list|,
name|svn_wc_context_t
modifier|*
name|wc_ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|abspath
parameter_list|,
name|svn_boolean_t
name|show_hidden
parameter_list|,
name|apr_pool_t
modifier|*
name|scratch_pool
parameter_list|)
function_decl|;
comment|/** @} */
ifdef|#
directive|ifdef
name|__cplusplus
block|}
end_extern

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* __cplusplus */
end_comment

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* SVN_WC_H */
end_comment

end_unit

