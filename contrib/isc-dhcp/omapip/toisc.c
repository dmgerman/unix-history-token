begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* toisc.c     Convert non-ISC result codes to ISC result codes. */
end_comment

begin_comment
comment|/*  * Copyright (c) 2001 Internet Software Consortium.  * All rights reserved.  *  * Redistribution and use in source and binary forms, with or without  * modification, are permitted provided that the following conditions  * are met:  *  * 1. Redistributions of source code must retain the above copyright  *    notice, this list of conditions and the following disclaimer.  * 2. Redistributions in binary form must reproduce the above copyright  *    notice, this list of conditions and the following disclaimer in the  *    documentation and/or other materials provided with the distribution.  * 3. Neither the name of The Internet Software Consortium nor the names  *    of its contributors may be used to endorse or promote products derived  *    from this software without specific prior written permission.  *  * THIS SOFTWARE IS PROVIDED BY THE INTERNET SOFTWARE CONSORTIUM AND  * CONTRIBUTORS ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES,  * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE  * DISCLAIMED.  IN NO EVENT SHALL THE INTERNET SOFTWARE CONSORTIUM OR  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,  * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT  * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF  * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND  * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,  * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT  * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF  * SUCH DAMAGE.  *  * This software has been written for the Internet Software Consortium  * by Ted Lemon in cooperation with Vixie Enterprises and Nominum, Inc.  * To learn more about the Internet Software Consortium, see  * ``http://www.isc.org/''.  To learn more about Vixie Enterprises,  * see ``http://www.vix.com''.   To learn more about Nominum, Inc., see  * ``http://www.nominum.com''.  */
end_comment

begin_include
include|#
directive|include
file|<omapip/omapip_p.h>
end_include

begin_include
include|#
directive|include
file|"arpa/nameser.h"
end_include

begin_include
include|#
directive|include
file|"minires/minires.h"
end_include

begin_function
name|isc_result_t
name|ns_rcode_to_isc
parameter_list|(
name|int
name|nsr
parameter_list|)
block|{
switch|switch
condition|(
name|nsr
condition|)
block|{
case|case
name|ns_r_noerror
case|:
return|return
name|ISC_R_SUCCESS
return|;
case|case
name|ns_r_formerr
case|:
return|return
name|ISC_R_FORMERR
return|;
case|case
name|ns_r_servfail
case|:
return|return
name|ISC_R_SERVFAIL
return|;
case|case
name|ns_r_nxdomain
case|:
return|return
name|ISC_R_NXDOMAIN
return|;
case|case
name|ns_r_notimpl
case|:
return|return
name|ISC_R_NOTIMPL
return|;
case|case
name|ns_r_refused
case|:
return|return
name|ISC_R_REFUSED
return|;
case|case
name|ns_r_yxdomain
case|:
return|return
name|ISC_R_YXDOMAIN
return|;
case|case
name|ns_r_yxrrset
case|:
return|return
name|ISC_R_YXRRSET
return|;
case|case
name|ns_r_nxrrset
case|:
return|return
name|ISC_R_NXRRSET
return|;
case|case
name|ns_r_notauth
case|:
return|return
name|ISC_R_NOTAUTH
return|;
case|case
name|ns_r_notzone
case|:
return|return
name|ISC_R_NOTZONE
return|;
case|case
name|ns_r_badsig
case|:
return|return
name|ISC_R_BADSIG
return|;
case|case
name|ns_r_badkey
case|:
return|return
name|ISC_R_BADKEY
return|;
case|case
name|ns_r_badtime
case|:
return|return
name|ISC_R_BADTIME
return|;
default|default:
empty_stmt|;
block|}
return|return
name|ISC_R_UNEXPECTED
return|;
block|}
end_function

begin_function
name|isc_result_t
name|uerr2isc
parameter_list|(
name|int
name|err
parameter_list|)
block|{
switch|switch
condition|(
name|err
condition|)
block|{
case|case
name|EPERM
case|:
return|return
name|ISC_R_NOPERM
return|;
case|case
name|ENOENT
case|:
return|return
name|ISC_R_NOTFOUND
return|;
case|case
name|ESRCH
case|:
return|return
name|ISC_R_NOTFOUND
return|;
case|case
name|EIO
case|:
return|return
name|ISC_R_IOERROR
return|;
case|case
name|ENXIO
case|:
return|return
name|ISC_R_NOTFOUND
return|;
case|case
name|E2BIG
case|:
return|return
name|ISC_R_NOSPACE
return|;
case|case
name|ENOEXEC
case|:
return|return
name|ISC_R_FORMERR
return|;
case|case
name|ECHILD
case|:
return|return
name|ISC_R_NOTFOUND
return|;
case|case
name|ENOMEM
case|:
return|return
name|ISC_R_NOMEMORY
return|;
case|case
name|EACCES
case|:
return|return
name|ISC_R_NOPERM
return|;
case|case
name|EFAULT
case|:
return|return
name|ISC_R_INVALIDARG
return|;
case|case
name|EEXIST
case|:
return|return
name|ISC_R_EXISTS
return|;
case|case
name|EINVAL
case|:
return|return
name|ISC_R_INVALIDARG
return|;
case|case
name|ENOTTY
case|:
return|return
name|ISC_R_INVALIDARG
return|;
case|case
name|EFBIG
case|:
return|return
name|ISC_R_NOSPACE
return|;
case|case
name|ENOSPC
case|:
return|return
name|ISC_R_NOSPACE
return|;
case|case
name|EROFS
case|:
return|return
name|ISC_R_NOPERM
return|;
case|case
name|EMLINK
case|:
return|return
name|ISC_R_NOSPACE
return|;
case|case
name|EPIPE
case|:
return|return
name|ISC_R_NOTCONNECTED
return|;
case|case
name|EINPROGRESS
case|:
return|return
name|ISC_R_ALREADYRUNNING
return|;
case|case
name|EALREADY
case|:
return|return
name|ISC_R_ALREADYRUNNING
return|;
case|case
name|ENOTSOCK
case|:
return|return
name|ISC_R_INVALIDFILE
return|;
case|case
name|EDESTADDRREQ
case|:
return|return
name|ISC_R_DESTADDRREQ
return|;
case|case
name|EMSGSIZE
case|:
return|return
name|ISC_R_NOSPACE
return|;
case|case
name|EPROTOTYPE
case|:
return|return
name|ISC_R_INVALIDARG
return|;
case|case
name|ENOPROTOOPT
case|:
return|return
name|ISC_R_NOTIMPLEMENTED
return|;
case|case
name|EPROTONOSUPPORT
case|:
return|return
name|ISC_R_NOTIMPLEMENTED
return|;
case|case
name|ESOCKTNOSUPPORT
case|:
return|return
name|ISC_R_NOTIMPLEMENTED
return|;
case|case
name|EOPNOTSUPP
case|:
return|return
name|ISC_R_NOTIMPLEMENTED
return|;
case|case
name|EPFNOSUPPORT
case|:
return|return
name|ISC_R_NOTIMPLEMENTED
return|;
case|case
name|EAFNOSUPPORT
case|:
return|return
name|ISC_R_NOTIMPLEMENTED
return|;
case|case
name|EADDRINUSE
case|:
return|return
name|ISC_R_ADDRINUSE
return|;
case|case
name|EADDRNOTAVAIL
case|:
return|return
name|ISC_R_ADDRNOTAVAIL
return|;
case|case
name|ENETDOWN
case|:
return|return
name|ISC_R_NETDOWN
return|;
case|case
name|ENETUNREACH
case|:
return|return
name|ISC_R_NETUNREACH
return|;
case|case
name|ECONNABORTED
case|:
return|return
name|ISC_R_TIMEDOUT
return|;
case|case
name|ECONNRESET
case|:
return|return
name|ISC_R_CONNRESET
return|;
case|case
name|ENOBUFS
case|:
return|return
name|ISC_R_NOSPACE
return|;
case|case
name|EISCONN
case|:
return|return
name|ISC_R_ALREADYRUNNING
return|;
case|case
name|ENOTCONN
case|:
return|return
name|ISC_R_NOTCONNECTED
return|;
case|case
name|ESHUTDOWN
case|:
return|return
name|ISC_R_SHUTTINGDOWN
return|;
case|case
name|ETIMEDOUT
case|:
return|return
name|ISC_R_TIMEDOUT
return|;
case|case
name|ECONNREFUSED
case|:
return|return
name|ISC_R_CONNREFUSED
return|;
case|case
name|EHOSTDOWN
case|:
return|return
name|ISC_R_HOSTDOWN
return|;
case|case
name|EHOSTUNREACH
case|:
return|return
name|ISC_R_HOSTUNREACH
return|;
ifdef|#
directive|ifdef
name|EDQUOT
case|case
name|EDQUOT
case|:
return|return
name|ISC_R_QUOTA
return|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|EBADRPC
case|case
name|EBADRPC
case|:
return|return
name|ISC_R_NOTIMPLEMENTED
return|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|ERPCMISMATCH
case|case
name|ERPCMISMATCH
case|:
return|return
name|ISC_R_VERSIONMISMATCH
return|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|EPROGMISMATCH
case|case
name|EPROGMISMATCH
case|:
return|return
name|ISC_R_VERSIONMISMATCH
return|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|EAUTH
case|case
name|EAUTH
case|:
return|return
name|ISC_R_NOTAUTH
return|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|ENEEDAUTH
case|case
name|ENEEDAUTH
case|:
return|return
name|ISC_R_NOTAUTH
return|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|EOVERFLOW
case|case
name|EOVERFLOW
case|:
return|return
name|ISC_R_NOSPACE
return|;
endif|#
directive|endif
block|}
return|return
name|ISC_R_UNEXPECTED
return|;
block|}
end_function

begin_function
name|ns_rcode
name|isc_rcode_to_ns
parameter_list|(
name|isc_result_t
name|isc
parameter_list|)
block|{
switch|switch
condition|(
name|isc
condition|)
block|{
case|case
name|ISC_R_SUCCESS
case|:
return|return
name|ns_r_noerror
return|;
case|case
name|ISC_R_FORMERR
case|:
return|return
name|ns_r_formerr
return|;
case|case
name|ISC_R_SERVFAIL
case|:
return|return
name|ns_r_servfail
return|;
case|case
name|ISC_R_NXDOMAIN
case|:
return|return
name|ns_r_nxdomain
return|;
case|case
name|ISC_R_NOTIMPL
case|:
return|return
name|ns_r_notimpl
return|;
case|case
name|ISC_R_REFUSED
case|:
return|return
name|ns_r_refused
return|;
case|case
name|ISC_R_YXDOMAIN
case|:
return|return
name|ns_r_yxdomain
return|;
case|case
name|ISC_R_YXRRSET
case|:
return|return
name|ns_r_yxrrset
return|;
case|case
name|ISC_R_NXRRSET
case|:
return|return
name|ns_r_nxrrset
return|;
case|case
name|ISC_R_NOTAUTH
case|:
return|return
name|ns_r_notauth
return|;
case|case
name|ISC_R_NOTZONE
case|:
return|return
name|ns_r_notzone
return|;
case|case
name|ISC_R_BADSIG
case|:
return|return
name|ns_r_badsig
return|;
case|case
name|ISC_R_BADKEY
case|:
return|return
name|ns_r_badkey
return|;
case|case
name|ISC_R_BADTIME
case|:
return|return
name|ns_r_badtime
return|;
default|default:
empty_stmt|;
block|}
return|return
name|ns_r_servfail
return|;
block|}
end_function

end_unit

