begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* score-datadep.h -- Score Instructions data dependency table    Copyright 2006 Free Software Foundation, Inc.    Contributed by:     Mei Ligang (ligang@sunnorth.com.cn)    Pei-Lin Tsai (pltsai@sunplus.com)     This file is part of GAS, the GNU Assembler.     GAS is free software; you can redistribute it and/or modify    it under the terms of the GNU General Public License as published by    the Free Software Foundation; either version 2, or (at your option)    any later version.     GAS is distributed in the hope that it will be useful,    but WITHOUT ANY WARRANTY; without even the implied warranty of    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the    GNU General Public License for more details.     You should have received a copy of the GNU General Public License    along with GAS; see the file COPYING.  If not, write to the Free    Software Foundation, Inc., 51 Franklin Street - Fifth Floor,    Boston, MA 02110-1301, USA.  */
end_comment

begin_ifndef
ifndef|#
directive|ifndef
name|SCORE_DATA_DEPENDENCY_H
end_ifndef

begin_define
define|#
directive|define
name|SCORE_DATA_DEPENDENCY_H
end_define

begin_define
define|#
directive|define
name|INSN_NAME_LEN
value|16
end_define

begin_enum
enum|enum
name|insn_type_for_dependency
block|{
name|D_pce
block|,
name|D_cond_br
block|,
name|D_cond_mv
block|,
name|D_cached
block|,
name|D_cachei
block|,
name|D_ldst
block|,
name|D_ldcombine
block|,
name|D_mtcr
block|,
name|D_mfcr
block|,
name|D_mfsr
block|,
name|D_mftlb
block|,
name|D_mtptlb
block|,
name|D_mtrtlb
block|,
name|D_stlb
block|,
name|D_all_insn
block|}
enum|;
end_enum

begin_struct
struct|struct
name|insn_to_dependency
block|{
name|char
modifier|*
name|insn_name
decl_stmt|;
name|enum
name|insn_type_for_dependency
name|type
decl_stmt|;
block|}
struct|;
end_struct

begin_struct
struct|struct
name|data_dependency
block|{
name|enum
name|insn_type_for_dependency
name|pre_insn_type
decl_stmt|;
name|char
name|pre_reg
index|[
literal|6
index|]
decl_stmt|;
name|enum
name|insn_type_for_dependency
name|cur_insn_type
decl_stmt|;
name|char
name|cur_reg
index|[
literal|6
index|]
decl_stmt|;
name|int
name|bubblenum_7
decl_stmt|;
name|int
name|bubblenum_5
decl_stmt|;
name|int
name|warn_or_error
decl_stmt|;
comment|/* warning - 0; error - 1  */
block|}
struct|;
end_struct

begin_decl_stmt
specifier|static
specifier|const
name|struct
name|insn_to_dependency
name|insn_to_dependency_table
index|[]
init|=
block|{
comment|/* pce instruction.  */
block|{
literal|"pce"
block|,
name|D_pce
block|}
block|,
comment|/* conditional branch instruction.  */
block|{
literal|"bcs"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bcc"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bgtu"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bleu"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"beq"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bne"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bgt"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"ble"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bge"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"blt"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bmi"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bpl"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bvs"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bvc"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bcsl"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bccl"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bgtul"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bleul"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"beql"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bnel"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bgtl"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"blel"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bgel"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bltl"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bmil"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bpll"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bvsl"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bvcl"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bcs!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bcc!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bgtu!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bleu!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"beq!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bne!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bgt!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"ble!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bge!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"blt!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bmi!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bpl!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bvs!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"bvc!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brcs"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brcc"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brgtu"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brleu"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"breq"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brne"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brgt"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brle"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brge"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brlt"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brmi"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brpl"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brvs"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brvc"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brcsl"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brccl"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brgtul"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brleul"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"breql"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brnel"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brgtl"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brlel"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brgel"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brltl"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brmil"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brpll"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brvsl"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brvcl"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brcs!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brcc!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brgtu!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brleu!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"breq!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brne!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brgt!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brle!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brge!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brlt!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brmi!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brpl!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brvs!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brvc!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brcsl!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brccl!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brgtul!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brleul!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"breql!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brnel!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brgtl!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brlel!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brgel!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brltl!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brmil!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brpll!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brvsl!"
block|,
name|D_cond_br
block|}
block|,
block|{
literal|"brvcl!"
block|,
name|D_cond_br
block|}
block|,
comment|/* conditional move instruction.  */
block|{
literal|"mvcs"
block|,
name|D_cond_mv
block|}
block|,
block|{
literal|"mvcc"
block|,
name|D_cond_mv
block|}
block|,
block|{
literal|"mvgtu"
block|,
name|D_cond_mv
block|}
block|,
block|{
literal|"mvleu"
block|,
name|D_cond_mv
block|}
block|,
block|{
literal|"mveq"
block|,
name|D_cond_mv
block|}
block|,
block|{
literal|"mvne"
block|,
name|D_cond_mv
block|}
block|,
block|{
literal|"mvgt"
block|,
name|D_cond_mv
block|}
block|,
block|{
literal|"mvle"
block|,
name|D_cond_mv
block|}
block|,
block|{
literal|"mvge"
block|,
name|D_cond_mv
block|}
block|,
block|{
literal|"mvlt"
block|,
name|D_cond_mv
block|}
block|,
block|{
literal|"mvmi"
block|,
name|D_cond_mv
block|}
block|,
block|{
literal|"mvpl"
block|,
name|D_cond_mv
block|}
block|,
block|{
literal|"mvvs"
block|,
name|D_cond_mv
block|}
block|,
block|{
literal|"mvvc"
block|,
name|D_cond_mv
block|}
block|,
comment|/* move spectial instruction.  */
block|{
literal|"mtcr"
block|,
name|D_mtcr
block|}
block|,
block|{
literal|"mftlb"
block|,
name|D_mftlb
block|}
block|,
block|{
literal|"mtptlb"
block|,
name|D_mtptlb
block|}
block|,
block|{
literal|"mtrtlb"
block|,
name|D_mtrtlb
block|}
block|,
block|{
literal|"stlb"
block|,
name|D_stlb
block|}
block|,
block|{
literal|"mfcr"
block|,
name|D_mfcr
block|}
block|,
block|{
literal|"mfsr"
block|,
name|D_mfsr
block|}
block|,
comment|/* cache instruction.  */
block|{
literal|"cache 8"
block|,
name|D_cached
block|}
block|,
block|{
literal|"cache 9"
block|,
name|D_cached
block|}
block|,
block|{
literal|"cache 10"
block|,
name|D_cached
block|}
block|,
block|{
literal|"cache 11"
block|,
name|D_cached
block|}
block|,
block|{
literal|"cache 12"
block|,
name|D_cached
block|}
block|,
block|{
literal|"cache 13"
block|,
name|D_cached
block|}
block|,
block|{
literal|"cache 14"
block|,
name|D_cached
block|}
block|,
block|{
literal|"cache 24"
block|,
name|D_cached
block|}
block|,
block|{
literal|"cache 26"
block|,
name|D_cached
block|}
block|,
block|{
literal|"cache 27"
block|,
name|D_cached
block|}
block|,
block|{
literal|"cache 29"
block|,
name|D_cached
block|}
block|,
block|{
literal|"cache 30"
block|,
name|D_cached
block|}
block|,
block|{
literal|"cache 31"
block|,
name|D_cached
block|}
block|,
block|{
literal|"cache 0"
block|,
name|D_cachei
block|}
block|,
block|{
literal|"cache 1"
block|,
name|D_cachei
block|}
block|,
block|{
literal|"cache 2"
block|,
name|D_cachei
block|}
block|,
block|{
literal|"cache 3"
block|,
name|D_cachei
block|}
block|,
block|{
literal|"cache 4"
block|,
name|D_cachei
block|}
block|,
block|{
literal|"cache 16"
block|,
name|D_cachei
block|}
block|,
block|{
literal|"cache 17"
block|,
name|D_cachei
block|}
block|,
comment|/* load/store instruction.  */
block|{
literal|"lb"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"lbu"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"lbu!"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"lbup!"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"lh"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"lhu"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"lh!"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"lhp!"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"lw"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"lw!"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"lwp!"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"sb"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"sb!"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"sbp!"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"sh"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"sh!"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"shp!"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"sw"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"sw!"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"swp!"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"alw"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"asw"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"push!"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"pushhi!"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"pop!"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"pophi!"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"ldc1"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"ldc2"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"ldc3"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"stc1"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"stc2"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"stc3"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"scb"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"scw"
block|,
name|D_ldst
block|}
block|,
block|{
literal|"sce"
block|,
name|D_ldst
block|}
block|,
comment|/* load combine instruction.  */
block|{
literal|"lcb"
block|,
name|D_ldcombine
block|}
block|,
block|{
literal|"lcw"
block|,
name|D_ldcombine
block|}
block|,
block|{
literal|"lce"
block|,
name|D_ldcombine
block|}
block|, }
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
specifier|const
name|struct
name|data_dependency
name|data_dependency_table
index|[]
init|=
block|{
comment|/* Condition register.  */
block|{
name|D_mtcr
block|,
literal|"cr1"
block|,
name|D_pce
block|,
literal|""
block|,
literal|2
block|,
literal|1
block|,
literal|1
block|}
block|,
block|{
name|D_mtcr
block|,
literal|"cr1"
block|,
name|D_cond_br
block|,
literal|""
block|,
literal|1
block|,
literal|0
block|,
literal|1
block|}
block|,
block|{
name|D_mtcr
block|,
literal|"cr1"
block|,
name|D_cond_mv
block|,
literal|""
block|,
literal|1
block|,
literal|0
block|,
literal|1
block|}
block|,
comment|/* Status regiser.  */
block|{
name|D_mtcr
block|,
literal|"cr0"
block|,
name|D_all_insn
block|,
literal|""
block|,
literal|5
block|,
literal|4
block|,
literal|0
block|}
block|,
comment|/* CCR regiser.  */
block|{
name|D_mtcr
block|,
literal|"cr4"
block|,
name|D_all_insn
block|,
literal|""
block|,
literal|6
block|,
literal|5
block|,
literal|0
block|}
block|,
comment|/* EntryHi/EntryLo register.  */
block|{
name|D_mftlb
block|,
literal|""
block|,
name|D_mtptlb
block|,
literal|""
block|,
literal|1
block|,
literal|1
block|,
literal|1
block|}
block|,
block|{
name|D_mftlb
block|,
literal|""
block|,
name|D_mtrtlb
block|,
literal|""
block|,
literal|1
block|,
literal|1
block|,
literal|1
block|}
block|,
block|{
name|D_mftlb
block|,
literal|""
block|,
name|D_stlb
block|,
literal|""
block|,
literal|1
block|,
literal|1
block|,
literal|1
block|}
block|,
block|{
name|D_mftlb
block|,
literal|""
block|,
name|D_mfcr
block|,
literal|"cr11"
block|,
literal|1
block|,
literal|1
block|,
literal|1
block|}
block|,
block|{
name|D_mftlb
block|,
literal|""
block|,
name|D_mfcr
block|,
literal|"cr12"
block|,
literal|1
block|,
literal|1
block|,
literal|1
block|}
block|,
comment|/* Index register.  */
block|{
name|D_stlb
block|,
literal|""
block|,
name|D_mtptlb
block|,
literal|""
block|,
literal|1
block|,
literal|1
block|,
literal|1
block|}
block|,
block|{
name|D_stlb
block|,
literal|""
block|,
name|D_mftlb
block|,
literal|""
block|,
literal|1
block|,
literal|1
block|,
literal|1
block|}
block|,
block|{
name|D_stlb
block|,
literal|""
block|,
name|D_mfcr
block|,
literal|"cr8"
block|,
literal|2
block|,
literal|2
block|,
literal|1
block|}
block|,
comment|/* Cache.  */
block|{
name|D_cached
block|,
literal|""
block|,
name|D_ldst
block|,
literal|""
block|,
literal|1
block|,
literal|1
block|,
literal|0
block|}
block|,
block|{
name|D_cached
block|,
literal|""
block|,
name|D_ldcombine
block|,
literal|""
block|,
literal|1
block|,
literal|1
block|,
literal|0
block|}
block|,
block|{
name|D_cachei
block|,
literal|""
block|,
name|D_all_insn
block|,
literal|""
block|,
literal|5
block|,
literal|4
block|,
literal|0
block|}
block|,
comment|/* Load combine.  */
block|{
name|D_ldcombine
block|,
literal|""
block|,
name|D_mfsr
block|,
literal|"sr1"
block|,
literal|3
block|,
literal|3
block|,
literal|1
block|}
block|, }
decl_stmt|;
end_decl_stmt

begin_endif
endif|#
directive|endif
end_endif

end_unit

