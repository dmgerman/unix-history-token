begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* Copyright 1998, 1999, 2000, 2001 Free Software Foundation, Inc.    Contributed by David Mosberger-Tang<davidm@hpl.hp.com>  This file is part of BFD, the Binary File Descriptor library.  This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.  This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.  You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  */
end_comment

begin_comment
comment|/* Logically, this code should be part of libopcode but since some of    the operand insertion/extraction functions help bfd to implement    relocations, this code is included as part of cpu-ia64.c.  This    avoids circular dependencies between libopcode and libbfd and also    obviates the need for applications to link in libopcode when all    they really want is libbfd.     --davidm Mon Apr 13 22:14:02 1998 */
end_comment

begin_include
include|#
directive|include
file|"../opcodes/ia64-opc.h"
end_include

begin_define
define|#
directive|define
name|NELEMS
parameter_list|(
name|a
parameter_list|)
value|((int) (sizeof (a) / sizeof ((a)[0])))
end_define

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ins_rsvd
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
name|ATTRIBUTE_UNUSED
parameter_list|,
name|ia64_insn
name|value
name|ATTRIBUTE_UNUSED
parameter_list|,
name|ia64_insn
modifier|*
name|code
name|ATTRIBUTE_UNUSED
parameter_list|)
block|{
return|return
literal|"internal error---this shouldn't happen"
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ext_rsvd
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
name|ATTRIBUTE_UNUSED
parameter_list|,
name|ia64_insn
name|code
name|ATTRIBUTE_UNUSED
parameter_list|,
name|ia64_insn
modifier|*
name|valuep
name|ATTRIBUTE_UNUSED
parameter_list|)
block|{
return|return
literal|"internal error---this shouldn't happen"
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ins_const
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
name|ATTRIBUTE_UNUSED
parameter_list|,
name|ia64_insn
name|value
name|ATTRIBUTE_UNUSED
parameter_list|,
name|ia64_insn
modifier|*
name|code
name|ATTRIBUTE_UNUSED
parameter_list|)
block|{
return|return
literal|0
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ext_const
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
name|ATTRIBUTE_UNUSED
parameter_list|,
name|ia64_insn
name|code
name|ATTRIBUTE_UNUSED
parameter_list|,
name|ia64_insn
modifier|*
name|valuep
name|ATTRIBUTE_UNUSED
parameter_list|)
block|{
return|return
literal|0
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ins_reg
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|value
parameter_list|,
name|ia64_insn
modifier|*
name|code
parameter_list|)
block|{
if|if
condition|(
name|value
operator|>=
literal|1u
operator|<<
name|self
operator|->
name|field
index|[
literal|0
index|]
operator|.
name|bits
condition|)
return|return
literal|"register number out of range"
return|;
operator|*
name|code
operator||=
name|value
operator|<<
name|self
operator|->
name|field
index|[
literal|0
index|]
operator|.
name|shift
expr_stmt|;
return|return
literal|0
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ext_reg
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|code
parameter_list|,
name|ia64_insn
modifier|*
name|valuep
parameter_list|)
block|{
operator|*
name|valuep
operator|=
operator|(
operator|(
name|code
operator|>>
name|self
operator|->
name|field
index|[
literal|0
index|]
operator|.
name|shift
operator|)
operator|&
operator|(
operator|(
literal|1u
operator|<<
name|self
operator|->
name|field
index|[
literal|0
index|]
operator|.
name|bits
operator|)
operator|-
literal|1
operator|)
operator|)
expr_stmt|;
return|return
literal|0
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ins_immu
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|value
parameter_list|,
name|ia64_insn
modifier|*
name|code
parameter_list|)
block|{
name|ia64_insn
name|new
init|=
literal|0
decl_stmt|;
name|int
name|i
decl_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|NELEMS
argument_list|(
name|self
operator|->
name|field
argument_list|)
operator|&&
name|self
operator|->
name|field
index|[
name|i
index|]
operator|.
name|bits
condition|;
operator|++
name|i
control|)
block|{
name|new
operator||=
operator|(
operator|(
name|value
operator|&
operator|(
operator|(
operator|(
operator|(
name|ia64_insn
operator|)
literal|1
operator|)
operator|<<
name|self
operator|->
name|field
index|[
name|i
index|]
operator|.
name|bits
operator|)
operator|-
literal|1
operator|)
operator|)
operator|<<
name|self
operator|->
name|field
index|[
name|i
index|]
operator|.
name|shift
operator|)
expr_stmt|;
name|value
operator|>>=
name|self
operator|->
name|field
index|[
name|i
index|]
operator|.
name|bits
expr_stmt|;
block|}
if|if
condition|(
name|value
condition|)
return|return
literal|"integer operand out of range"
return|;
operator|*
name|code
operator||=
name|new
expr_stmt|;
return|return
literal|0
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ext_immu
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|code
parameter_list|,
name|ia64_insn
modifier|*
name|valuep
parameter_list|)
block|{
name|BFD_HOST_U_64_BIT
name|value
init|=
literal|0
decl_stmt|;
name|int
name|i
decl_stmt|,
name|bits
init|=
literal|0
decl_stmt|,
name|total
init|=
literal|0
decl_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|NELEMS
argument_list|(
name|self
operator|->
name|field
argument_list|)
operator|&&
name|self
operator|->
name|field
index|[
name|i
index|]
operator|.
name|bits
condition|;
operator|++
name|i
control|)
block|{
name|bits
operator|=
name|self
operator|->
name|field
index|[
name|i
index|]
operator|.
name|bits
expr_stmt|;
name|value
operator||=
operator|(
operator|(
name|code
operator|>>
name|self
operator|->
name|field
index|[
name|i
index|]
operator|.
name|shift
operator|)
operator|&
operator|(
operator|(
operator|(
operator|(
name|BFD_HOST_U_64_BIT
operator|)
literal|1
operator|)
operator|<<
name|bits
operator|)
operator|-
literal|1
operator|)
operator|)
operator|<<
name|total
expr_stmt|;
name|total
operator|+=
name|bits
expr_stmt|;
block|}
operator|*
name|valuep
operator|=
name|value
expr_stmt|;
return|return
literal|0
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ins_immus8
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|value
parameter_list|,
name|ia64_insn
modifier|*
name|code
parameter_list|)
block|{
if|if
condition|(
name|value
operator|&
literal|0x7
condition|)
return|return
literal|"value not an integer multiple of 8"
return|;
return|return
name|ins_immu
argument_list|(
name|self
argument_list|,
name|value
operator|>>
literal|3
argument_list|,
name|code
argument_list|)
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ext_immus8
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|code
parameter_list|,
name|ia64_insn
modifier|*
name|valuep
parameter_list|)
block|{
specifier|const
name|char
modifier|*
name|result
decl_stmt|;
name|result
operator|=
name|ext_immu
argument_list|(
name|self
argument_list|,
name|code
argument_list|,
name|valuep
argument_list|)
expr_stmt|;
if|if
condition|(
name|result
condition|)
return|return
name|result
return|;
operator|*
name|valuep
operator|=
operator|*
name|valuep
operator|<<
literal|3
expr_stmt|;
return|return
literal|0
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ins_imms_scaled
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|value
parameter_list|,
name|ia64_insn
modifier|*
name|code
parameter_list|,
name|int
name|scale
parameter_list|)
block|{
name|BFD_HOST_64_BIT
name|svalue
init|=
name|value
decl_stmt|,
name|sign_bit
init|=
literal|0
decl_stmt|;
name|ia64_insn
name|new
init|=
literal|0
decl_stmt|;
name|int
name|i
decl_stmt|;
name|svalue
operator|>>=
name|scale
expr_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|NELEMS
argument_list|(
name|self
operator|->
name|field
argument_list|)
operator|&&
name|self
operator|->
name|field
index|[
name|i
index|]
operator|.
name|bits
condition|;
operator|++
name|i
control|)
block|{
name|new
operator||=
operator|(
operator|(
name|svalue
operator|&
operator|(
operator|(
operator|(
operator|(
name|ia64_insn
operator|)
literal|1
operator|)
operator|<<
name|self
operator|->
name|field
index|[
name|i
index|]
operator|.
name|bits
operator|)
operator|-
literal|1
operator|)
operator|)
operator|<<
name|self
operator|->
name|field
index|[
name|i
index|]
operator|.
name|shift
operator|)
expr_stmt|;
name|sign_bit
operator|=
operator|(
name|svalue
operator|>>
operator|(
name|self
operator|->
name|field
index|[
name|i
index|]
operator|.
name|bits
operator|-
literal|1
operator|)
operator|)
operator|&
literal|1
expr_stmt|;
name|svalue
operator|>>=
name|self
operator|->
name|field
index|[
name|i
index|]
operator|.
name|bits
expr_stmt|;
block|}
if|if
condition|(
operator|(
operator|!
name|sign_bit
operator|&&
name|svalue
operator|!=
literal|0
operator|)
operator|||
operator|(
name|sign_bit
operator|&&
name|svalue
operator|!=
operator|-
literal|1
operator|)
condition|)
return|return
literal|"integer operand out of range"
return|;
operator|*
name|code
operator||=
name|new
expr_stmt|;
return|return
literal|0
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ext_imms_scaled
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|code
parameter_list|,
name|ia64_insn
modifier|*
name|valuep
parameter_list|,
name|int
name|scale
parameter_list|)
block|{
name|int
name|i
decl_stmt|,
name|bits
init|=
literal|0
decl_stmt|,
name|total
init|=
literal|0
decl_stmt|,
name|shift
decl_stmt|;
name|BFD_HOST_64_BIT
name|val
init|=
literal|0
decl_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|NELEMS
argument_list|(
name|self
operator|->
name|field
argument_list|)
operator|&&
name|self
operator|->
name|field
index|[
name|i
index|]
operator|.
name|bits
condition|;
operator|++
name|i
control|)
block|{
name|bits
operator|=
name|self
operator|->
name|field
index|[
name|i
index|]
operator|.
name|bits
expr_stmt|;
name|val
operator||=
operator|(
operator|(
name|code
operator|>>
name|self
operator|->
name|field
index|[
name|i
index|]
operator|.
name|shift
operator|)
operator|&
operator|(
operator|(
operator|(
operator|(
name|BFD_HOST_U_64_BIT
operator|)
literal|1
operator|)
operator|<<
name|bits
operator|)
operator|-
literal|1
operator|)
operator|)
operator|<<
name|total
expr_stmt|;
name|total
operator|+=
name|bits
expr_stmt|;
block|}
comment|/* sign extend: */
name|shift
operator|=
literal|8
operator|*
sizeof|sizeof
argument_list|(
name|val
argument_list|)
operator|-
name|total
expr_stmt|;
name|val
operator|=
operator|(
name|val
operator|<<
name|shift
operator|)
operator|>>
name|shift
expr_stmt|;
operator|*
name|valuep
operator|=
operator|(
name|val
operator|<<
name|scale
operator|)
expr_stmt|;
return|return
literal|0
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ins_imms
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|value
parameter_list|,
name|ia64_insn
modifier|*
name|code
parameter_list|)
block|{
return|return
name|ins_imms_scaled
argument_list|(
name|self
argument_list|,
name|value
argument_list|,
name|code
argument_list|,
literal|0
argument_list|)
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ins_immsu4
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|value
parameter_list|,
name|ia64_insn
modifier|*
name|code
parameter_list|)
block|{
if|if
condition|(
name|value
operator|==
operator|(
name|BFD_HOST_U_64_BIT
operator|)
literal|0x100000000
condition|)
name|value
operator|=
literal|0
expr_stmt|;
else|else
name|value
operator|=
operator|(
operator|(
operator|(
name|BFD_HOST_64_BIT
operator|)
name|value
operator|<<
literal|32
operator|)
operator|>>
literal|32
operator|)
expr_stmt|;
return|return
name|ins_imms_scaled
argument_list|(
name|self
argument_list|,
name|value
argument_list|,
name|code
argument_list|,
literal|0
argument_list|)
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ext_imms
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|code
parameter_list|,
name|ia64_insn
modifier|*
name|valuep
parameter_list|)
block|{
return|return
name|ext_imms_scaled
argument_list|(
name|self
argument_list|,
name|code
argument_list|,
name|valuep
argument_list|,
literal|0
argument_list|)
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ins_immsm1
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|value
parameter_list|,
name|ia64_insn
modifier|*
name|code
parameter_list|)
block|{
operator|--
name|value
expr_stmt|;
return|return
name|ins_imms_scaled
argument_list|(
name|self
argument_list|,
name|value
argument_list|,
name|code
argument_list|,
literal|0
argument_list|)
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ins_immsm1u4
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|value
parameter_list|,
name|ia64_insn
modifier|*
name|code
parameter_list|)
block|{
if|if
condition|(
name|value
operator|==
operator|(
name|BFD_HOST_U_64_BIT
operator|)
literal|0x100000000
condition|)
name|value
operator|=
literal|0
expr_stmt|;
else|else
name|value
operator|=
operator|(
operator|(
operator|(
name|BFD_HOST_64_BIT
operator|)
name|value
operator|<<
literal|32
operator|)
operator|>>
literal|32
operator|)
expr_stmt|;
operator|--
name|value
expr_stmt|;
return|return
name|ins_imms_scaled
argument_list|(
name|self
argument_list|,
name|value
argument_list|,
name|code
argument_list|,
literal|0
argument_list|)
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ext_immsm1
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|code
parameter_list|,
name|ia64_insn
modifier|*
name|valuep
parameter_list|)
block|{
specifier|const
name|char
modifier|*
name|res
init|=
name|ext_imms_scaled
argument_list|(
name|self
argument_list|,
name|code
argument_list|,
name|valuep
argument_list|,
literal|0
argument_list|)
decl_stmt|;
operator|++
operator|*
name|valuep
expr_stmt|;
return|return
name|res
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ins_imms1
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|value
parameter_list|,
name|ia64_insn
modifier|*
name|code
parameter_list|)
block|{
return|return
name|ins_imms_scaled
argument_list|(
name|self
argument_list|,
name|value
argument_list|,
name|code
argument_list|,
literal|1
argument_list|)
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ext_imms1
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|code
parameter_list|,
name|ia64_insn
modifier|*
name|valuep
parameter_list|)
block|{
return|return
name|ext_imms_scaled
argument_list|(
name|self
argument_list|,
name|code
argument_list|,
name|valuep
argument_list|,
literal|1
argument_list|)
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ins_imms4
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|value
parameter_list|,
name|ia64_insn
modifier|*
name|code
parameter_list|)
block|{
return|return
name|ins_imms_scaled
argument_list|(
name|self
argument_list|,
name|value
argument_list|,
name|code
argument_list|,
literal|4
argument_list|)
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ext_imms4
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|code
parameter_list|,
name|ia64_insn
modifier|*
name|valuep
parameter_list|)
block|{
return|return
name|ext_imms_scaled
argument_list|(
name|self
argument_list|,
name|code
argument_list|,
name|valuep
argument_list|,
literal|4
argument_list|)
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ins_imms16
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|value
parameter_list|,
name|ia64_insn
modifier|*
name|code
parameter_list|)
block|{
return|return
name|ins_imms_scaled
argument_list|(
name|self
argument_list|,
name|value
argument_list|,
name|code
argument_list|,
literal|16
argument_list|)
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ext_imms16
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|code
parameter_list|,
name|ia64_insn
modifier|*
name|valuep
parameter_list|)
block|{
return|return
name|ext_imms_scaled
argument_list|(
name|self
argument_list|,
name|code
argument_list|,
name|valuep
argument_list|,
literal|16
argument_list|)
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ins_cimmu
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|value
parameter_list|,
name|ia64_insn
modifier|*
name|code
parameter_list|)
block|{
name|ia64_insn
name|mask
init|=
operator|(
operator|(
operator|(
name|ia64_insn
operator|)
literal|1
operator|)
operator|<<
name|self
operator|->
name|field
index|[
literal|0
index|]
operator|.
name|bits
operator|)
operator|-
literal|1
decl_stmt|;
return|return
name|ins_immu
argument_list|(
name|self
argument_list|,
name|value
operator|^
name|mask
argument_list|,
name|code
argument_list|)
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ext_cimmu
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|code
parameter_list|,
name|ia64_insn
modifier|*
name|valuep
parameter_list|)
block|{
specifier|const
name|char
modifier|*
name|result
decl_stmt|;
name|ia64_insn
name|mask
decl_stmt|;
name|mask
operator|=
operator|(
operator|(
operator|(
name|ia64_insn
operator|)
literal|1
operator|)
operator|<<
name|self
operator|->
name|field
index|[
literal|0
index|]
operator|.
name|bits
operator|)
operator|-
literal|1
expr_stmt|;
name|result
operator|=
name|ext_immu
argument_list|(
name|self
argument_list|,
name|code
argument_list|,
name|valuep
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|result
condition|)
block|{
name|mask
operator|=
operator|(
operator|(
operator|(
name|ia64_insn
operator|)
literal|1
operator|)
operator|<<
name|self
operator|->
name|field
index|[
literal|0
index|]
operator|.
name|bits
operator|)
operator|-
literal|1
expr_stmt|;
operator|*
name|valuep
operator|^=
name|mask
expr_stmt|;
block|}
return|return
name|result
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ins_cnt
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|value
parameter_list|,
name|ia64_insn
modifier|*
name|code
parameter_list|)
block|{
operator|--
name|value
expr_stmt|;
if|if
condition|(
name|value
operator|>=
operator|(
operator|(
name|BFD_HOST_U_64_BIT
operator|)
literal|1
operator|)
operator|<<
name|self
operator|->
name|field
index|[
literal|0
index|]
operator|.
name|bits
condition|)
return|return
literal|"count out of range"
return|;
operator|*
name|code
operator||=
name|value
operator|<<
name|self
operator|->
name|field
index|[
literal|0
index|]
operator|.
name|shift
expr_stmt|;
return|return
literal|0
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ext_cnt
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|code
parameter_list|,
name|ia64_insn
modifier|*
name|valuep
parameter_list|)
block|{
operator|*
name|valuep
operator|=
operator|(
operator|(
name|code
operator|>>
name|self
operator|->
name|field
index|[
literal|0
index|]
operator|.
name|shift
operator|)
operator|&
operator|(
operator|(
operator|(
operator|(
name|BFD_HOST_U_64_BIT
operator|)
literal|1
operator|)
operator|<<
name|self
operator|->
name|field
index|[
literal|0
index|]
operator|.
name|bits
operator|)
operator|-
literal|1
operator|)
operator|)
operator|+
literal|1
expr_stmt|;
return|return
literal|0
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ins_cnt2b
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|value
parameter_list|,
name|ia64_insn
modifier|*
name|code
parameter_list|)
block|{
operator|--
name|value
expr_stmt|;
if|if
condition|(
name|value
operator|>
literal|2
condition|)
return|return
literal|"count must be in range 1..3"
return|;
operator|*
name|code
operator||=
name|value
operator|<<
name|self
operator|->
name|field
index|[
literal|0
index|]
operator|.
name|shift
expr_stmt|;
return|return
literal|0
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ext_cnt2b
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|code
parameter_list|,
name|ia64_insn
modifier|*
name|valuep
parameter_list|)
block|{
operator|*
name|valuep
operator|=
operator|(
operator|(
name|code
operator|>>
name|self
operator|->
name|field
index|[
literal|0
index|]
operator|.
name|shift
operator|)
operator|&
literal|0x3
operator|)
operator|+
literal|1
expr_stmt|;
return|return
literal|0
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ins_cnt2c
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|value
parameter_list|,
name|ia64_insn
modifier|*
name|code
parameter_list|)
block|{
switch|switch
condition|(
name|value
condition|)
block|{
case|case
literal|0
case|:
name|value
operator|=
literal|0
expr_stmt|;
break|break;
case|case
literal|7
case|:
name|value
operator|=
literal|1
expr_stmt|;
break|break;
case|case
literal|15
case|:
name|value
operator|=
literal|2
expr_stmt|;
break|break;
case|case
literal|16
case|:
name|value
operator|=
literal|3
expr_stmt|;
break|break;
default|default:
return|return
literal|"count must be 0, 7, 15, or 16"
return|;
block|}
operator|*
name|code
operator||=
name|value
operator|<<
name|self
operator|->
name|field
index|[
literal|0
index|]
operator|.
name|shift
expr_stmt|;
return|return
literal|0
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ext_cnt2c
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|code
parameter_list|,
name|ia64_insn
modifier|*
name|valuep
parameter_list|)
block|{
name|ia64_insn
name|value
decl_stmt|;
name|value
operator|=
operator|(
name|code
operator|>>
name|self
operator|->
name|field
index|[
literal|0
index|]
operator|.
name|shift
operator|)
operator|&
literal|0x3
expr_stmt|;
switch|switch
condition|(
name|value
condition|)
block|{
case|case
literal|0
case|:
name|value
operator|=
literal|0
expr_stmt|;
break|break;
case|case
literal|1
case|:
name|value
operator|=
literal|7
expr_stmt|;
break|break;
case|case
literal|2
case|:
name|value
operator|=
literal|15
expr_stmt|;
break|break;
case|case
literal|3
case|:
name|value
operator|=
literal|16
expr_stmt|;
break|break;
block|}
operator|*
name|valuep
operator|=
name|value
expr_stmt|;
return|return
literal|0
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ins_inc3
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|value
parameter_list|,
name|ia64_insn
modifier|*
name|code
parameter_list|)
block|{
name|BFD_HOST_64_BIT
name|val
init|=
name|value
decl_stmt|;
name|BFD_HOST_U_64_BIT
name|sign
init|=
literal|0
decl_stmt|;
if|if
condition|(
name|val
operator|<
literal|0
condition|)
block|{
name|sign
operator|=
literal|0x4
expr_stmt|;
name|value
operator|=
operator|-
name|value
expr_stmt|;
block|}
switch|switch
condition|(
name|value
condition|)
block|{
case|case
literal|1
case|:
name|value
operator|=
literal|3
expr_stmt|;
break|break;
case|case
literal|4
case|:
name|value
operator|=
literal|2
expr_stmt|;
break|break;
case|case
literal|8
case|:
name|value
operator|=
literal|1
expr_stmt|;
break|break;
case|case
literal|16
case|:
name|value
operator|=
literal|0
expr_stmt|;
break|break;
default|default:
return|return
literal|"count must be +/- 1, 4, 8, or 16"
return|;
block|}
operator|*
name|code
operator||=
operator|(
name|sign
operator||
name|value
operator|)
operator|<<
name|self
operator|->
name|field
index|[
literal|0
index|]
operator|.
name|shift
expr_stmt|;
return|return
literal|0
return|;
block|}
end_function

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|ext_inc3
parameter_list|(
specifier|const
name|struct
name|ia64_operand
modifier|*
name|self
parameter_list|,
name|ia64_insn
name|code
parameter_list|,
name|ia64_insn
modifier|*
name|valuep
parameter_list|)
block|{
name|BFD_HOST_64_BIT
name|val
decl_stmt|;
name|int
name|negate
decl_stmt|;
name|val
operator|=
operator|(
name|code
operator|>>
name|self
operator|->
name|field
index|[
literal|0
index|]
operator|.
name|shift
operator|)
operator|&
literal|0x7
expr_stmt|;
name|negate
operator|=
name|val
operator|&
literal|0x4
expr_stmt|;
switch|switch
condition|(
name|val
operator|&
literal|0x3
condition|)
block|{
case|case
literal|0
case|:
name|val
operator|=
literal|16
expr_stmt|;
break|break;
case|case
literal|1
case|:
name|val
operator|=
literal|8
expr_stmt|;
break|break;
case|case
literal|2
case|:
name|val
operator|=
literal|4
expr_stmt|;
break|break;
case|case
literal|3
case|:
name|val
operator|=
literal|1
expr_stmt|;
break|break;
block|}
if|if
condition|(
name|negate
condition|)
name|val
operator|=
operator|-
name|val
expr_stmt|;
operator|*
name|valuep
operator|=
name|val
expr_stmt|;
return|return
literal|0
return|;
block|}
end_function

begin_define
define|#
directive|define
name|CST
value|IA64_OPND_CLASS_CST
end_define

begin_define
define|#
directive|define
name|REG
value|IA64_OPND_CLASS_REG
end_define

begin_define
define|#
directive|define
name|IND
value|IA64_OPND_CLASS_IND
end_define

begin_define
define|#
directive|define
name|ABS
value|IA64_OPND_CLASS_ABS
end_define

begin_define
define|#
directive|define
name|REL
value|IA64_OPND_CLASS_REL
end_define

begin_define
define|#
directive|define
name|SDEC
value|IA64_OPND_FLAG_DECIMAL_SIGNED
end_define

begin_define
define|#
directive|define
name|UDEC
value|IA64_OPND_FLAG_DECIMAL_UNSIGNED
end_define

begin_decl_stmt
specifier|const
name|struct
name|ia64_operand
name|elf64_ia64_operands
index|[
name|IA64_OPND_COUNT
index|]
init|=
block|{
comment|/* constants: */
block|{
name|CST
block|,
name|ins_const
block|,
name|ext_const
block|,
literal|"NIL"
block|,
block|{
block|{
literal|0
block|,
literal|0
block|}
block|}
block|,
literal|0
block|,
literal|"<none>"
block|}
block|,
block|{
name|CST
block|,
name|ins_const
block|,
name|ext_const
block|,
literal|"ar.ccv"
block|,
block|{
block|{
literal|0
block|,
literal|0
block|}
block|}
block|,
literal|0
block|,
literal|"ar.ccv"
block|}
block|,
block|{
name|CST
block|,
name|ins_const
block|,
name|ext_const
block|,
literal|"ar.pfs"
block|,
block|{
block|{
literal|0
block|,
literal|0
block|}
block|}
block|,
literal|0
block|,
literal|"ar.pfs"
block|}
block|,
block|{
name|CST
block|,
name|ins_const
block|,
name|ext_const
block|,
literal|"1"
block|,
block|{
block|{
literal|0
block|,
literal|0
block|}
block|}
block|,
literal|0
block|,
literal|"1"
block|}
block|,
block|{
name|CST
block|,
name|ins_const
block|,
name|ext_const
block|,
literal|"8"
block|,
block|{
block|{
literal|0
block|,
literal|0
block|}
block|}
block|,
literal|0
block|,
literal|"8"
block|}
block|,
block|{
name|CST
block|,
name|ins_const
block|,
name|ext_const
block|,
literal|"16"
block|,
block|{
block|{
literal|0
block|,
literal|0
block|}
block|}
block|,
literal|0
block|,
literal|"16"
block|}
block|,
block|{
name|CST
block|,
name|ins_const
block|,
name|ext_const
block|,
literal|"r0"
block|,
block|{
block|{
literal|0
block|,
literal|0
block|}
block|}
block|,
literal|0
block|,
literal|"r0"
block|}
block|,
block|{
name|CST
block|,
name|ins_const
block|,
name|ext_const
block|,
literal|"ip"
block|,
block|{
block|{
literal|0
block|,
literal|0
block|}
block|}
block|,
literal|0
block|,
literal|"ip"
block|}
block|,
block|{
name|CST
block|,
name|ins_const
block|,
name|ext_const
block|,
literal|"pr"
block|,
block|{
block|{
literal|0
block|,
literal|0
block|}
block|}
block|,
literal|0
block|,
literal|"pr"
block|}
block|,
block|{
name|CST
block|,
name|ins_const
block|,
name|ext_const
block|,
literal|"pr.rot"
block|,
block|{
block|{
literal|0
block|,
literal|0
block|}
block|}
block|,
literal|0
block|,
literal|"pr.rot"
block|}
block|,
block|{
name|CST
block|,
name|ins_const
block|,
name|ext_const
block|,
literal|"psr"
block|,
block|{
block|{
literal|0
block|,
literal|0
block|}
block|}
block|,
literal|0
block|,
literal|"psr"
block|}
block|,
block|{
name|CST
block|,
name|ins_const
block|,
name|ext_const
block|,
literal|"psr.l"
block|,
block|{
block|{
literal|0
block|,
literal|0
block|}
block|}
block|,
literal|0
block|,
literal|"psr.l"
block|}
block|,
block|{
name|CST
block|,
name|ins_const
block|,
name|ext_const
block|,
literal|"psr.um"
block|,
block|{
block|{
literal|0
block|,
literal|0
block|}
block|}
block|,
literal|0
block|,
literal|"psr.um"
block|}
block|,
comment|/* register operands: */
block|{
name|REG
block|,
name|ins_reg
block|,
name|ext_reg
block|,
literal|"ar"
block|,
block|{
block|{
literal|7
block|,
literal|20
block|}
block|}
block|,
literal|0
block|,
comment|/* AR3 */
literal|"an application register"
block|}
block|,
block|{
name|REG
block|,
name|ins_reg
block|,
name|ext_reg
block|,
literal|"b"
block|,
block|{
block|{
literal|3
block|,
literal|6
block|}
block|}
block|,
literal|0
block|,
comment|/* B1 */
literal|"a branch register"
block|}
block|,
block|{
name|REG
block|,
name|ins_reg
block|,
name|ext_reg
block|,
literal|"b"
block|,
block|{
block|{
literal|3
block|,
literal|13
block|}
block|}
block|,
literal|0
block|,
comment|/* B2 */
literal|"a branch register"
block|}
block|,
block|{
name|REG
block|,
name|ins_reg
block|,
name|ext_reg
block|,
literal|"cr"
block|,
block|{
block|{
literal|7
block|,
literal|20
block|}
block|}
block|,
literal|0
block|,
comment|/* CR */
literal|"a control register"
block|}
block|,
block|{
name|REG
block|,
name|ins_reg
block|,
name|ext_reg
block|,
literal|"f"
block|,
block|{
block|{
literal|7
block|,
literal|6
block|}
block|}
block|,
literal|0
block|,
comment|/* F1 */
literal|"a floating-point register"
block|}
block|,
block|{
name|REG
block|,
name|ins_reg
block|,
name|ext_reg
block|,
literal|"f"
block|,
block|{
block|{
literal|7
block|,
literal|13
block|}
block|}
block|,
literal|0
block|,
comment|/* F2 */
literal|"a floating-point register"
block|}
block|,
block|{
name|REG
block|,
name|ins_reg
block|,
name|ext_reg
block|,
literal|"f"
block|,
block|{
block|{
literal|7
block|,
literal|20
block|}
block|}
block|,
literal|0
block|,
comment|/* F3 */
literal|"a floating-point register"
block|}
block|,
block|{
name|REG
block|,
name|ins_reg
block|,
name|ext_reg
block|,
literal|"f"
block|,
block|{
block|{
literal|7
block|,
literal|27
block|}
block|}
block|,
literal|0
block|,
comment|/* F4 */
literal|"a floating-point register"
block|}
block|,
block|{
name|REG
block|,
name|ins_reg
block|,
name|ext_reg
block|,
literal|"p"
block|,
block|{
block|{
literal|6
block|,
literal|6
block|}
block|}
block|,
literal|0
block|,
comment|/* P1 */
literal|"a predicate register"
block|}
block|,
block|{
name|REG
block|,
name|ins_reg
block|,
name|ext_reg
block|,
literal|"p"
block|,
block|{
block|{
literal|6
block|,
literal|27
block|}
block|}
block|,
literal|0
block|,
comment|/* P2 */
literal|"a predicate register"
block|}
block|,
block|{
name|REG
block|,
name|ins_reg
block|,
name|ext_reg
block|,
literal|"r"
block|,
block|{
block|{
literal|7
block|,
literal|6
block|}
block|}
block|,
literal|0
block|,
comment|/* R1 */
literal|"a general register"
block|}
block|,
block|{
name|REG
block|,
name|ins_reg
block|,
name|ext_reg
block|,
literal|"r"
block|,
block|{
block|{
literal|7
block|,
literal|13
block|}
block|}
block|,
literal|0
block|,
comment|/* R2 */
literal|"a general register"
block|}
block|,
block|{
name|REG
block|,
name|ins_reg
block|,
name|ext_reg
block|,
literal|"r"
block|,
block|{
block|{
literal|7
block|,
literal|20
block|}
block|}
block|,
literal|0
block|,
comment|/* R3 */
literal|"a general register"
block|}
block|,
block|{
name|REG
block|,
name|ins_reg
block|,
name|ext_reg
block|,
literal|"r"
block|,
block|{
block|{
literal|2
block|,
literal|20
block|}
block|}
block|,
literal|0
block|,
comment|/* R3_2 */
literal|"a general register r0-r3"
block|}
block|,
comment|/* indirect operands: */
block|{
name|IND
block|,
name|ins_reg
block|,
name|ext_reg
block|,
literal|"cpuid"
block|,
block|{
block|{
literal|7
block|,
literal|20
block|}
block|}
block|,
literal|0
block|,
comment|/* CPUID_R3 */
literal|"a cpuid register"
block|}
block|,
block|{
name|IND
block|,
name|ins_reg
block|,
name|ext_reg
block|,
literal|"dbr"
block|,
block|{
block|{
literal|7
block|,
literal|20
block|}
block|}
block|,
literal|0
block|,
comment|/* DBR_R3 */
literal|"a dbr register"
block|}
block|,
block|{
name|IND
block|,
name|ins_reg
block|,
name|ext_reg
block|,
literal|"dtr"
block|,
block|{
block|{
literal|7
block|,
literal|20
block|}
block|}
block|,
literal|0
block|,
comment|/* DTR_R3 */
literal|"a dtr register"
block|}
block|,
block|{
name|IND
block|,
name|ins_reg
block|,
name|ext_reg
block|,
literal|"itr"
block|,
block|{
block|{
literal|7
block|,
literal|20
block|}
block|}
block|,
literal|0
block|,
comment|/* ITR_R3 */
literal|"an itr register"
block|}
block|,
block|{
name|IND
block|,
name|ins_reg
block|,
name|ext_reg
block|,
literal|"ibr"
block|,
block|{
block|{
literal|7
block|,
literal|20
block|}
block|}
block|,
literal|0
block|,
comment|/* IBR_R3 */
literal|"an ibr register"
block|}
block|,
block|{
name|IND
block|,
name|ins_reg
block|,
name|ext_reg
block|,
literal|""
block|,
block|{
block|{
literal|7
block|,
literal|20
block|}
block|}
block|,
literal|0
block|,
comment|/* MR3 */
literal|"an indirect memory address"
block|}
block|,
block|{
name|IND
block|,
name|ins_reg
block|,
name|ext_reg
block|,
literal|"msr"
block|,
block|{
block|{
literal|7
block|,
literal|20
block|}
block|}
block|,
literal|0
block|,
comment|/* MSR_R3 */
literal|"an msr register"
block|}
block|,
block|{
name|IND
block|,
name|ins_reg
block|,
name|ext_reg
block|,
literal|"pkr"
block|,
block|{
block|{
literal|7
block|,
literal|20
block|}
block|}
block|,
literal|0
block|,
comment|/* PKR_R3 */
literal|"a pkr register"
block|}
block|,
block|{
name|IND
block|,
name|ins_reg
block|,
name|ext_reg
block|,
literal|"pmc"
block|,
block|{
block|{
literal|7
block|,
literal|20
block|}
block|}
block|,
literal|0
block|,
comment|/* PMC_R3 */
literal|"a pmc register"
block|}
block|,
block|{
name|IND
block|,
name|ins_reg
block|,
name|ext_reg
block|,
literal|"pmd"
block|,
block|{
block|{
literal|7
block|,
literal|20
block|}
block|}
block|,
literal|0
block|,
comment|/* PMD_R3 */
literal|"a pmd register"
block|}
block|,
block|{
name|IND
block|,
name|ins_reg
block|,
name|ext_reg
block|,
literal|"rr"
block|,
block|{
block|{
literal|7
block|,
literal|20
block|}
block|}
block|,
literal|0
block|,
comment|/* RR_R3 */
literal|"an rr register"
block|}
block|,
comment|/* immediate operands: */
block|{
name|ABS
block|,
name|ins_cimmu
block|,
name|ext_cimmu
block|,
literal|0
block|,
block|{
block|{
literal|5
block|,
literal|20
block|}
block|}
block|,
name|UDEC
block|,
comment|/* CCNT5 */
literal|"a 5-bit count (0-31)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_cnt
block|,
name|ext_cnt
block|,
literal|0
block|,
block|{
block|{
literal|2
block|,
literal|27
block|}
block|}
block|,
name|UDEC
block|,
comment|/* CNT2a */
literal|"a 2-bit count (1-4)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_cnt2b
block|,
name|ext_cnt2b
block|,
literal|0
block|,
block|{
block|{
literal|2
block|,
literal|27
block|}
block|}
block|,
name|UDEC
block|,
comment|/* CNT2b */
literal|"a 2-bit count (1-3)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_cnt2c
block|,
name|ext_cnt2c
block|,
literal|0
block|,
block|{
block|{
literal|2
block|,
literal|30
block|}
block|}
block|,
name|UDEC
block|,
comment|/* CNT2c */
literal|"a count (0, 7, 15, or 16)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_immu
block|,
name|ext_immu
block|,
literal|0
block|,
block|{
block|{
literal|5
block|,
literal|14
block|}
block|}
block|,
name|UDEC
block|,
comment|/* CNT5 */
literal|"a 5-bit count (0-31)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_immu
block|,
name|ext_immu
block|,
literal|0
block|,
block|{
block|{
literal|6
block|,
literal|27
block|}
block|}
block|,
name|UDEC
block|,
comment|/* CNT6 */
literal|"a 6-bit count (0-63)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_cimmu
block|,
name|ext_cimmu
block|,
literal|0
block|,
block|{
block|{
literal|6
block|,
literal|20
block|}
block|}
block|,
name|UDEC
block|,
comment|/* CPOS6a */
literal|"a 6-bit bit pos (0-63)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_cimmu
block|,
name|ext_cimmu
block|,
literal|0
block|,
block|{
block|{
literal|6
block|,
literal|14
block|}
block|}
block|,
name|UDEC
block|,
comment|/* CPOS6b */
literal|"a 6-bit bit pos (0-63)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_cimmu
block|,
name|ext_cimmu
block|,
literal|0
block|,
block|{
block|{
literal|6
block|,
literal|31
block|}
block|}
block|,
name|UDEC
block|,
comment|/* CPOS6c */
literal|"a 6-bit bit pos (0-63)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_imms
block|,
name|ext_imms
block|,
literal|0
block|,
block|{
block|{
literal|1
block|,
literal|36
block|}
block|}
block|,
name|SDEC
block|,
comment|/* IMM1 */
literal|"a 1-bit integer (-1, 0)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_immu
block|,
name|ext_immu
block|,
literal|0
block|,
block|{
block|{
literal|2
block|,
literal|13
block|}
block|}
block|,
name|UDEC
block|,
comment|/* IMMU2 */
literal|"a 2-bit unsigned (0-3)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_immu
block|,
name|ext_immu
block|,
literal|0
block|,
block|{
block|{
literal|7
block|,
literal|13
block|}
block|}
block|,
literal|0
block|,
comment|/* IMMU7a */
literal|"a 7-bit unsigned (0-127)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_immu
block|,
name|ext_immu
block|,
literal|0
block|,
block|{
block|{
literal|7
block|,
literal|20
block|}
block|}
block|,
literal|0
block|,
comment|/* IMMU7b */
literal|"a 7-bit unsigned (0-127)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_immu
block|,
name|ext_immu
block|,
literal|0
block|,
block|{
block|{
literal|7
block|,
literal|13
block|}
block|}
block|,
name|UDEC
block|,
comment|/* SOF */
literal|"a frame size (register count)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_immu
block|,
name|ext_immu
block|,
literal|0
block|,
block|{
block|{
literal|7
block|,
literal|20
block|}
block|}
block|,
name|UDEC
block|,
comment|/* SOL */
literal|"a local register count"
block|}
block|,
block|{
name|ABS
block|,
name|ins_immus8
block|,
name|ext_immus8
block|,
literal|0
block|,
block|{
block|{
literal|4
block|,
literal|27
block|}
block|}
block|,
name|UDEC
block|,
comment|/* SOR */
literal|"a rotating register count (integer multiple of 8)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_imms
block|,
name|ext_imms
block|,
literal|0
block|,
comment|/* IMM8 */
block|{
block|{
literal|7
block|,
literal|13
block|}
block|,
block|{
literal|1
block|,
literal|36
block|}
block|}
block|,
name|SDEC
block|,
literal|"an 8-bit integer (-128-127)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_immsu4
block|,
name|ext_imms
block|,
literal|0
block|,
comment|/* IMM8U4 */
block|{
block|{
literal|7
block|,
literal|13
block|}
block|,
block|{
literal|1
block|,
literal|36
block|}
block|}
block|,
name|SDEC
block|,
literal|"an 8-bit signed integer for 32-bit unsigned compare (-128-127)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_immsm1
block|,
name|ext_immsm1
block|,
literal|0
block|,
comment|/* IMM8M1 */
block|{
block|{
literal|7
block|,
literal|13
block|}
block|,
block|{
literal|1
block|,
literal|36
block|}
block|}
block|,
name|SDEC
block|,
literal|"an 8-bit integer (-127-128)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_immsm1u4
block|,
name|ext_immsm1
block|,
literal|0
block|,
comment|/* IMM8M1U4 */
block|{
block|{
literal|7
block|,
literal|13
block|}
block|,
block|{
literal|1
block|,
literal|36
block|}
block|}
block|,
name|SDEC
block|,
literal|"an 8-bit integer for 32-bit unsigned compare (-127-(-1),1-128,0x100000000)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_immsm1
block|,
name|ext_immsm1
block|,
literal|0
block|,
comment|/* IMM8M1U8 */
block|{
block|{
literal|7
block|,
literal|13
block|}
block|,
block|{
literal|1
block|,
literal|36
block|}
block|}
block|,
name|SDEC
block|,
literal|"an 8-bit integer for 64-bit unsigned compare (-127-(-1),1-128,0x10000000000000000)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_immu
block|,
name|ext_immu
block|,
literal|0
block|,
block|{
block|{
literal|2
block|,
literal|33
block|}
block|,
block|{
literal|7
block|,
literal|20
block|}
block|}
block|,
literal|0
block|,
comment|/* IMMU9 */
literal|"a 9-bit unsigned (0-511)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_imms
block|,
name|ext_imms
block|,
literal|0
block|,
comment|/* IMM9a */
block|{
block|{
literal|7
block|,
literal|6
block|}
block|,
block|{
literal|1
block|,
literal|27
block|}
block|,
block|{
literal|1
block|,
literal|36
block|}
block|}
block|,
name|SDEC
block|,
literal|"a 9-bit integer (-256-255)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_imms
block|,
name|ext_imms
block|,
literal|0
block|,
comment|/* IMM9b */
block|{
block|{
literal|7
block|,
literal|13
block|}
block|,
block|{
literal|1
block|,
literal|27
block|}
block|,
block|{
literal|1
block|,
literal|36
block|}
block|}
block|,
name|SDEC
block|,
literal|"a 9-bit integer (-256-255)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_imms
block|,
name|ext_imms
block|,
literal|0
block|,
comment|/* IMM14 */
block|{
block|{
literal|7
block|,
literal|13
block|}
block|,
block|{
literal|6
block|,
literal|27
block|}
block|,
block|{
literal|1
block|,
literal|36
block|}
block|}
block|,
name|SDEC
block|,
literal|"a 14-bit integer (-8192-8191)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_imms1
block|,
name|ext_imms1
block|,
literal|0
block|,
comment|/* IMM17 */
block|{
block|{
literal|7
block|,
literal|6
block|}
block|,
block|{
literal|8
block|,
literal|24
block|}
block|,
block|{
literal|1
block|,
literal|36
block|}
block|}
block|,
literal|0
block|,
literal|"a 17-bit integer (-65536-65535)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_immu
block|,
name|ext_immu
block|,
literal|0
block|,
block|{
block|{
literal|20
block|,
literal|6
block|}
block|,
block|{
literal|1
block|,
literal|36
block|}
block|}
block|,
literal|0
block|,
comment|/* IMMU21 */
literal|"a 21-bit unsigned"
block|}
block|,
block|{
name|ABS
block|,
name|ins_imms
block|,
name|ext_imms
block|,
literal|0
block|,
comment|/* IMM22 */
block|{
block|{
literal|7
block|,
literal|13
block|}
block|,
block|{
literal|9
block|,
literal|27
block|}
block|,
block|{
literal|5
block|,
literal|22
block|}
block|,
block|{
literal|1
block|,
literal|36
block|}
block|}
block|,
name|SDEC
block|,
literal|"a 22-bit signed integer"
block|}
block|,
block|{
name|ABS
block|,
name|ins_immu
block|,
name|ext_immu
block|,
literal|0
block|,
comment|/* IMMU24 */
block|{
block|{
literal|21
block|,
literal|6
block|}
block|,
block|{
literal|2
block|,
literal|31
block|}
block|,
block|{
literal|1
block|,
literal|36
block|}
block|}
block|,
literal|0
block|,
literal|"a 24-bit unsigned"
block|}
block|,
block|{
name|ABS
block|,
name|ins_imms16
block|,
name|ext_imms16
block|,
literal|0
block|,
block|{
block|{
literal|27
block|,
literal|6
block|}
block|,
block|{
literal|1
block|,
literal|36
block|}
block|}
block|,
literal|0
block|,
comment|/* IMM44 */
literal|"a 44-bit unsigned (least 16 bits ignored/zeroes)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_rsvd
block|,
name|ext_rsvd
block|,
literal|0
block|,
block|{
block|{
literal|0
block|,
literal|0
block|}
block|}
block|,
literal|0
block|,
comment|/* IMMU62 */
literal|"a 62-bit unsigned"
block|}
block|,
block|{
name|ABS
block|,
name|ins_rsvd
block|,
name|ext_rsvd
block|,
literal|0
block|,
block|{
block|{
literal|0
block|,
literal|0
block|}
block|}
block|,
literal|0
block|,
comment|/* IMMU64 */
literal|"a 64-bit unsigned"
block|}
block|,
block|{
name|ABS
block|,
name|ins_inc3
block|,
name|ext_inc3
block|,
literal|0
block|,
block|{
block|{
literal|3
block|,
literal|13
block|}
block|}
block|,
name|SDEC
block|,
comment|/* INC3 */
literal|"an increment (+/- 1, 4, 8, or 16)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_cnt
block|,
name|ext_cnt
block|,
literal|0
block|,
block|{
block|{
literal|4
block|,
literal|27
block|}
block|}
block|,
name|UDEC
block|,
comment|/* LEN4 */
literal|"a 4-bit length (1-16)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_cnt
block|,
name|ext_cnt
block|,
literal|0
block|,
block|{
block|{
literal|6
block|,
literal|27
block|}
block|}
block|,
name|UDEC
block|,
comment|/* LEN6 */
literal|"a 6-bit length (1-64)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_immu
block|,
name|ext_immu
block|,
literal|0
block|,
block|{
block|{
literal|4
block|,
literal|20
block|}
block|}
block|,
literal|0
block|,
comment|/* MBTYPE4 */
literal|"a mix type (@rev, @mix, @shuf, @alt, or @brcst)"
block|}
block|,
block|{
name|ABS
block|,
name|ins_immu
block|,
name|ext_immu
block|,
literal|0
block|,
block|{
block|{
literal|8
block|,
literal|20
block|}
block|}
block|,
literal|0
block|,
comment|/* MBTYPE8 */
literal|"an 8-bit mix type"
block|}
block|,
block|{
name|ABS
block|,
name|ins_immu
block|,
name|ext_immu
block|,
literal|0
block|,
block|{
block|{
literal|6
block|,
literal|14
block|}
block|}
block|,
name|UDEC
block|,
comment|/* POS6 */
literal|"a 6-bit bit pos (0-63)"
block|}
block|,
block|{
name|REL
block|,
name|ins_imms4
block|,
name|ext_imms4
block|,
literal|0
block|,
block|{
block|{
literal|7
block|,
literal|6
block|}
block|,
block|{
literal|2
block|,
literal|33
block|}
block|}
block|,
literal|0
block|,
comment|/* TAG13 */
literal|"a branch tag"
block|}
block|,
block|{
name|REL
block|,
name|ins_imms4
block|,
name|ext_imms4
block|,
literal|0
block|,
block|{
block|{
literal|9
block|,
literal|24
block|}
block|}
block|,
literal|0
block|,
comment|/* TAG13b */
literal|"a branch tag"
block|}
block|,
block|{
name|REL
block|,
name|ins_imms4
block|,
name|ext_imms4
block|,
literal|0
block|,
block|{
block|{
literal|20
block|,
literal|6
block|}
block|,
block|{
literal|1
block|,
literal|36
block|}
block|}
block|,
literal|0
block|,
comment|/* TGT25 */
literal|"a branch target"
block|}
block|,
block|{
name|REL
block|,
name|ins_imms4
block|,
name|ext_imms4
block|,
literal|0
block|,
comment|/* TGT25b */
block|{
block|{
literal|7
block|,
literal|6
block|}
block|,
block|{
literal|13
block|,
literal|20
block|}
block|,
block|{
literal|1
block|,
literal|36
block|}
block|}
block|,
literal|0
block|,
literal|"a branch target"
block|}
block|,
block|{
name|REL
block|,
name|ins_imms4
block|,
name|ext_imms4
block|,
literal|0
block|,
block|{
block|{
literal|20
block|,
literal|13
block|}
block|,
block|{
literal|1
block|,
literal|36
block|}
block|}
block|,
literal|0
block|,
comment|/* TGT25c */
literal|"a branch target"
block|}
block|,
block|{
name|REL
block|,
name|ins_rsvd
block|,
name|ext_rsvd
block|,
literal|0
block|,
block|{
block|{
literal|0
block|,
literal|0
block|}
block|}
block|,
literal|0
block|,
comment|/* TGT64  */
literal|"a branch target"
block|}
block|,   }
decl_stmt|;
end_decl_stmt

end_unit

