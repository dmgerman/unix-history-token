begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* Assemble V850 instructions.    Copyright 1996, 1997, 1998, 2000, 2001 Free Software Foundation, Inc.  This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.  This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.  You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  */
end_comment

begin_include
include|#
directive|include
file|"sysdep.h"
end_include

begin_include
include|#
directive|include
file|"opcode/v850.h"
end_include

begin_include
include|#
directive|include
file|<stdio.h>
end_include

begin_include
include|#
directive|include
file|"opintl.h"
end_include

begin_comment
comment|/* regular opcode */
end_comment

begin_define
define|#
directive|define
name|OP
parameter_list|(
name|x
parameter_list|)
value|((x& 0x3f)<< 5)
end_define

begin_define
define|#
directive|define
name|OP_MASK
value|OP (0x3f)
end_define

begin_comment
comment|/* conditional branch opcode */
end_comment

begin_define
define|#
directive|define
name|BOP
parameter_list|(
name|x
parameter_list|)
value|((0x0b<< 7) | (x& 0x0f))
end_define

begin_define
define|#
directive|define
name|BOP_MASK
value|((0x0f<< 7) | 0x0f)
end_define

begin_comment
comment|/* one-word opcodes */
end_comment

begin_define
define|#
directive|define
name|one
parameter_list|(
name|x
parameter_list|)
value|((unsigned int) (x))
end_define

begin_comment
comment|/* two-word opcodes */
end_comment

begin_define
define|#
directive|define
name|two
parameter_list|(
name|x
parameter_list|,
name|y
parameter_list|)
value|((unsigned int) (x) | ((unsigned int) (y)<< 16))
end_define

begin_decl_stmt
specifier|static
name|long
name|unsigned
name|insert_d9
name|PARAMS
argument_list|(
operator|(
name|long
name|unsigned
operator|,
name|long
operator|,
specifier|const
name|char
operator|*
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|long
name|unsigned
name|extract_d9
name|PARAMS
argument_list|(
operator|(
name|long
name|unsigned
operator|,
name|int
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|long
name|unsigned
name|insert_d22
name|PARAMS
argument_list|(
operator|(
name|long
name|unsigned
operator|,
name|long
operator|,
specifier|const
name|char
operator|*
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|long
name|unsigned
name|extract_d22
name|PARAMS
argument_list|(
operator|(
name|long
name|unsigned
operator|,
name|int
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|long
name|unsigned
name|insert_d16_15
name|PARAMS
argument_list|(
operator|(
name|long
name|unsigned
operator|,
name|long
operator|,
specifier|const
name|char
operator|*
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|long
name|unsigned
name|extract_d16_15
name|PARAMS
argument_list|(
operator|(
name|long
name|unsigned
operator|,
name|int
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|long
name|unsigned
name|insert_d8_7
name|PARAMS
argument_list|(
operator|(
name|long
name|unsigned
operator|,
name|long
operator|,
specifier|const
name|char
operator|*
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|long
name|unsigned
name|extract_d8_7
name|PARAMS
argument_list|(
operator|(
name|long
name|unsigned
operator|,
name|int
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|long
name|unsigned
name|insert_d8_6
name|PARAMS
argument_list|(
operator|(
name|long
name|unsigned
operator|,
name|long
operator|,
specifier|const
name|char
operator|*
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|long
name|unsigned
name|extract_d8_6
name|PARAMS
argument_list|(
operator|(
name|long
name|unsigned
operator|,
name|int
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|long
name|unsigned
name|insert_d5_4
name|PARAMS
argument_list|(
operator|(
name|long
name|unsigned
operator|,
name|long
operator|,
specifier|const
name|char
operator|*
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|long
name|unsigned
name|extract_d5_4
name|PARAMS
argument_list|(
operator|(
name|long
name|unsigned
operator|,
name|int
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|long
name|unsigned
name|insert_d16_16
name|PARAMS
argument_list|(
operator|(
name|long
name|unsigned
operator|,
name|long
operator|,
specifier|const
name|char
operator|*
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|long
name|unsigned
name|extract_d16_16
name|PARAMS
argument_list|(
operator|(
name|long
name|unsigned
operator|,
name|int
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|long
name|unsigned
name|insert_i9
name|PARAMS
argument_list|(
operator|(
name|long
name|unsigned
operator|,
name|long
operator|,
specifier|const
name|char
operator|*
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|long
name|unsigned
name|extract_i9
name|PARAMS
argument_list|(
operator|(
name|long
name|unsigned
operator|,
name|int
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|long
name|unsigned
name|insert_u9
name|PARAMS
argument_list|(
operator|(
name|long
name|unsigned
operator|,
name|long
operator|,
specifier|const
name|char
operator|*
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|long
name|unsigned
name|extract_u9
name|PARAMS
argument_list|(
operator|(
name|long
name|unsigned
operator|,
name|int
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|long
name|unsigned
name|insert_spe
name|PARAMS
argument_list|(
operator|(
name|long
name|unsigned
operator|,
name|long
operator|,
specifier|const
name|char
operator|*
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|long
name|unsigned
name|extract_spe
name|PARAMS
argument_list|(
operator|(
name|long
name|unsigned
operator|,
name|int
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|long
name|unsigned
name|insert_i5div
name|PARAMS
argument_list|(
operator|(
name|long
name|unsigned
operator|,
name|long
operator|,
specifier|const
name|char
operator|*
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|long
name|unsigned
name|extract_i5div
name|PARAMS
argument_list|(
operator|(
name|long
name|unsigned
operator|,
name|int
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_escape
end_escape

begin_comment
comment|/* The functions used to insert and extract complicated operands.  */
end_comment

begin_comment
comment|/* Note: There is a conspiracy between these functions and    v850_insert_operand() in gas/config/tc-v850.c.  Error messages    containing the string 'out of range' will be ignored unless a    specific command line option is given to GAS.  */
end_comment

begin_decl_stmt
specifier|static
specifier|const
name|char
modifier|*
name|not_valid
init|=
name|N_
argument_list|(
literal|"displacement value is not in range and is not aligned"
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
specifier|const
name|char
modifier|*
name|out_of_range
init|=
name|N_
argument_list|(
literal|"displacement value is out of range"
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
specifier|const
name|char
modifier|*
name|not_aligned
init|=
name|N_
argument_list|(
literal|"displacement value is not aligned"
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
specifier|const
name|char
modifier|*
name|immediate_out_of_range
init|=
name|N_
argument_list|(
literal|"immediate value is out of range"
argument_list|)
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|unsigned
name|long
name|insert_d9
parameter_list|(
name|insn
parameter_list|,
name|value
parameter_list|,
name|errmsg
parameter_list|)
name|unsigned
name|long
name|insn
decl_stmt|;
name|long
name|value
decl_stmt|;
specifier|const
name|char
modifier|*
modifier|*
name|errmsg
decl_stmt|;
block|{
if|if
condition|(
name|value
operator|>
literal|0xff
operator|||
name|value
operator|<
operator|-
literal|0x100
condition|)
block|{
if|if
condition|(
operator|(
name|value
operator|%
literal|2
operator|)
operator|!=
literal|0
condition|)
operator|*
name|errmsg
operator|=
name|_
argument_list|(
literal|"branch value not in range and to odd offset"
argument_list|)
expr_stmt|;
else|else
operator|*
name|errmsg
operator|=
name|_
argument_list|(
literal|"branch value out of range"
argument_list|)
expr_stmt|;
block|}
elseif|else
if|if
condition|(
operator|(
name|value
operator|%
literal|2
operator|)
operator|!=
literal|0
condition|)
operator|*
name|errmsg
operator|=
name|_
argument_list|(
literal|"branch to odd offset"
argument_list|)
expr_stmt|;
return|return
operator|(
name|insn
operator||
operator|(
operator|(
name|value
operator|&
literal|0x1f0
operator|)
operator|<<
literal|7
operator|)
operator||
operator|(
operator|(
name|value
operator|&
literal|0x0e
operator|)
operator|<<
literal|3
operator|)
operator|)
return|;
block|}
end_function

begin_function
specifier|static
name|unsigned
name|long
name|extract_d9
parameter_list|(
name|insn
parameter_list|,
name|invalid
parameter_list|)
name|unsigned
name|long
name|insn
decl_stmt|;
name|int
modifier|*
name|invalid
name|ATTRIBUTE_UNUSED
decl_stmt|;
block|{
name|unsigned
name|long
name|ret
init|=
operator|(
operator|(
name|insn
operator|&
literal|0xf800
operator|)
operator|>>
literal|7
operator|)
operator||
operator|(
operator|(
name|insn
operator|&
literal|0x0070
operator|)
operator|>>
literal|3
operator|)
decl_stmt|;
if|if
condition|(
operator|(
name|insn
operator|&
literal|0x8000
operator|)
operator|!=
literal|0
condition|)
name|ret
operator|-=
literal|0x0200
expr_stmt|;
return|return
name|ret
return|;
block|}
end_function

begin_function
specifier|static
name|unsigned
name|long
name|insert_d22
parameter_list|(
name|insn
parameter_list|,
name|value
parameter_list|,
name|errmsg
parameter_list|)
name|unsigned
name|long
name|insn
decl_stmt|;
name|long
name|value
decl_stmt|;
specifier|const
name|char
modifier|*
modifier|*
name|errmsg
decl_stmt|;
block|{
if|if
condition|(
name|value
operator|>
literal|0x1fffff
operator|||
name|value
operator|<
operator|-
literal|0x200000
condition|)
block|{
if|if
condition|(
operator|(
name|value
operator|%
literal|2
operator|)
operator|!=
literal|0
condition|)
operator|*
name|errmsg
operator|=
name|_
argument_list|(
literal|"branch value not in range and to an odd offset"
argument_list|)
expr_stmt|;
else|else
operator|*
name|errmsg
operator|=
name|_
argument_list|(
literal|"branch value out of range"
argument_list|)
expr_stmt|;
block|}
elseif|else
if|if
condition|(
operator|(
name|value
operator|%
literal|2
operator|)
operator|!=
literal|0
condition|)
operator|*
name|errmsg
operator|=
name|_
argument_list|(
literal|"branch to odd offset"
argument_list|)
expr_stmt|;
return|return
operator|(
name|insn
operator||
operator|(
operator|(
name|value
operator|&
literal|0xfffe
operator|)
operator|<<
literal|16
operator|)
operator||
operator|(
operator|(
name|value
operator|&
literal|0x3f0000
operator|)
operator|>>
literal|16
operator|)
operator|)
return|;
block|}
end_function

begin_function
specifier|static
name|unsigned
name|long
name|extract_d22
parameter_list|(
name|insn
parameter_list|,
name|invalid
parameter_list|)
name|unsigned
name|long
name|insn
decl_stmt|;
name|int
modifier|*
name|invalid
name|ATTRIBUTE_UNUSED
decl_stmt|;
block|{
name|signed
name|long
name|ret
init|=
operator|(
operator|(
name|insn
operator|&
literal|0xfffe0000
operator|)
operator|>>
literal|16
operator|)
operator||
operator|(
operator|(
name|insn
operator|&
literal|0x3f
operator|)
operator|<<
literal|16
operator|)
decl_stmt|;
return|return
call|(
name|unsigned
name|long
call|)
argument_list|(
operator|(
name|ret
operator|<<
literal|10
operator|)
operator|>>
literal|10
argument_list|)
return|;
block|}
end_function

begin_function
specifier|static
name|unsigned
name|long
name|insert_d16_15
parameter_list|(
name|insn
parameter_list|,
name|value
parameter_list|,
name|errmsg
parameter_list|)
name|unsigned
name|long
name|insn
decl_stmt|;
name|long
name|value
decl_stmt|;
specifier|const
name|char
modifier|*
modifier|*
name|errmsg
decl_stmt|;
block|{
if|if
condition|(
name|value
operator|>
literal|0x7fff
operator|||
name|value
operator|<
operator|-
literal|0x8000
condition|)
block|{
if|if
condition|(
operator|(
name|value
operator|%
literal|2
operator|)
operator|!=
literal|0
condition|)
operator|*
name|errmsg
operator|=
name|_
argument_list|(
name|not_valid
argument_list|)
expr_stmt|;
else|else
operator|*
name|errmsg
operator|=
name|_
argument_list|(
name|out_of_range
argument_list|)
expr_stmt|;
block|}
elseif|else
if|if
condition|(
operator|(
name|value
operator|%
literal|2
operator|)
operator|!=
literal|0
condition|)
operator|*
name|errmsg
operator|=
name|_
argument_list|(
name|not_aligned
argument_list|)
expr_stmt|;
return|return
name|insn
operator||
operator|(
operator|(
name|value
operator|&
literal|0xfffe
operator|)
operator|<<
literal|16
operator|)
return|;
block|}
end_function

begin_function
specifier|static
name|unsigned
name|long
name|extract_d16_15
parameter_list|(
name|insn
parameter_list|,
name|invalid
parameter_list|)
name|unsigned
name|long
name|insn
decl_stmt|;
name|int
modifier|*
name|invalid
name|ATTRIBUTE_UNUSED
decl_stmt|;
block|{
name|signed
name|long
name|ret
init|=
operator|(
name|insn
operator|&
literal|0xfffe0000
operator|)
decl_stmt|;
return|return
name|ret
operator|>>
literal|16
return|;
block|}
end_function

begin_function
specifier|static
name|unsigned
name|long
name|insert_d8_7
parameter_list|(
name|insn
parameter_list|,
name|value
parameter_list|,
name|errmsg
parameter_list|)
name|unsigned
name|long
name|insn
decl_stmt|;
name|long
name|value
decl_stmt|;
specifier|const
name|char
modifier|*
modifier|*
name|errmsg
decl_stmt|;
block|{
if|if
condition|(
name|value
operator|>
literal|0xff
operator|||
name|value
operator|<
literal|0
condition|)
block|{
if|if
condition|(
operator|(
name|value
operator|%
literal|2
operator|)
operator|!=
literal|0
condition|)
operator|*
name|errmsg
operator|=
name|_
argument_list|(
name|not_valid
argument_list|)
expr_stmt|;
else|else
operator|*
name|errmsg
operator|=
name|_
argument_list|(
name|out_of_range
argument_list|)
expr_stmt|;
block|}
elseif|else
if|if
condition|(
operator|(
name|value
operator|%
literal|2
operator|)
operator|!=
literal|0
condition|)
operator|*
name|errmsg
operator|=
name|_
argument_list|(
name|not_aligned
argument_list|)
expr_stmt|;
name|value
operator|>>=
literal|1
expr_stmt|;
return|return
operator|(
name|insn
operator||
operator|(
name|value
operator|&
literal|0x7f
operator|)
operator|)
return|;
block|}
end_function

begin_function
specifier|static
name|unsigned
name|long
name|extract_d8_7
parameter_list|(
name|insn
parameter_list|,
name|invalid
parameter_list|)
name|unsigned
name|long
name|insn
decl_stmt|;
name|int
modifier|*
name|invalid
name|ATTRIBUTE_UNUSED
decl_stmt|;
block|{
name|unsigned
name|long
name|ret
init|=
operator|(
name|insn
operator|&
literal|0x7f
operator|)
decl_stmt|;
return|return
name|ret
operator|<<
literal|1
return|;
block|}
end_function

begin_function
specifier|static
name|unsigned
name|long
name|insert_d8_6
parameter_list|(
name|insn
parameter_list|,
name|value
parameter_list|,
name|errmsg
parameter_list|)
name|unsigned
name|long
name|insn
decl_stmt|;
name|long
name|value
decl_stmt|;
specifier|const
name|char
modifier|*
modifier|*
name|errmsg
decl_stmt|;
block|{
if|if
condition|(
name|value
operator|>
literal|0xff
operator|||
name|value
operator|<
literal|0
condition|)
block|{
if|if
condition|(
operator|(
name|value
operator|%
literal|4
operator|)
operator|!=
literal|0
condition|)
operator|*
name|errmsg
operator|=
name|_
argument_list|(
name|not_valid
argument_list|)
expr_stmt|;
else|else
operator|*
name|errmsg
operator|=
name|_
argument_list|(
name|out_of_range
argument_list|)
expr_stmt|;
block|}
elseif|else
if|if
condition|(
operator|(
name|value
operator|%
literal|4
operator|)
operator|!=
literal|0
condition|)
operator|*
name|errmsg
operator|=
name|_
argument_list|(
name|not_aligned
argument_list|)
expr_stmt|;
name|value
operator|>>=
literal|1
expr_stmt|;
return|return
operator|(
name|insn
operator||
operator|(
name|value
operator|&
literal|0x7e
operator|)
operator|)
return|;
block|}
end_function

begin_function
specifier|static
name|unsigned
name|long
name|extract_d8_6
parameter_list|(
name|insn
parameter_list|,
name|invalid
parameter_list|)
name|unsigned
name|long
name|insn
decl_stmt|;
name|int
modifier|*
name|invalid
name|ATTRIBUTE_UNUSED
decl_stmt|;
block|{
name|unsigned
name|long
name|ret
init|=
operator|(
name|insn
operator|&
literal|0x7e
operator|)
decl_stmt|;
return|return
name|ret
operator|<<
literal|1
return|;
block|}
end_function

begin_function
specifier|static
name|unsigned
name|long
name|insert_d5_4
parameter_list|(
name|insn
parameter_list|,
name|value
parameter_list|,
name|errmsg
parameter_list|)
name|unsigned
name|long
name|insn
decl_stmt|;
name|long
name|value
decl_stmt|;
specifier|const
name|char
modifier|*
modifier|*
name|errmsg
decl_stmt|;
block|{
if|if
condition|(
name|value
operator|>
literal|0x1f
operator|||
name|value
operator|<
literal|0
condition|)
block|{
if|if
condition|(
name|value
operator|&
literal|1
condition|)
operator|*
name|errmsg
operator|=
name|_
argument_list|(
name|not_valid
argument_list|)
expr_stmt|;
else|else
operator|*
name|errmsg
operator|=
name|_
argument_list|(
name|out_of_range
argument_list|)
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|value
operator|&
literal|1
condition|)
operator|*
name|errmsg
operator|=
name|_
argument_list|(
name|not_aligned
argument_list|)
expr_stmt|;
name|value
operator|>>=
literal|1
expr_stmt|;
return|return
operator|(
name|insn
operator||
operator|(
name|value
operator|&
literal|0x0f
operator|)
operator|)
return|;
block|}
end_function

begin_function
specifier|static
name|unsigned
name|long
name|extract_d5_4
parameter_list|(
name|insn
parameter_list|,
name|invalid
parameter_list|)
name|unsigned
name|long
name|insn
decl_stmt|;
name|int
modifier|*
name|invalid
name|ATTRIBUTE_UNUSED
decl_stmt|;
block|{
name|unsigned
name|long
name|ret
init|=
operator|(
name|insn
operator|&
literal|0x0f
operator|)
decl_stmt|;
return|return
name|ret
operator|<<
literal|1
return|;
block|}
end_function

begin_function
specifier|static
name|unsigned
name|long
name|insert_d16_16
parameter_list|(
name|insn
parameter_list|,
name|value
parameter_list|,
name|errmsg
parameter_list|)
name|unsigned
name|long
name|insn
decl_stmt|;
name|signed
name|long
name|value
decl_stmt|;
specifier|const
name|char
modifier|*
modifier|*
name|errmsg
decl_stmt|;
block|{
if|if
condition|(
name|value
operator|>
literal|0x7fff
operator|||
name|value
operator|<
operator|-
literal|0x8000
condition|)
operator|*
name|errmsg
operator|=
name|_
argument_list|(
name|out_of_range
argument_list|)
expr_stmt|;
return|return
operator|(
name|insn
operator||
operator|(
operator|(
name|value
operator|&
literal|0xfffe
operator|)
operator|<<
literal|16
operator|)
operator||
operator|(
operator|(
name|value
operator|&
literal|1
operator|)
operator|<<
literal|5
operator|)
operator|)
return|;
block|}
end_function

begin_function
specifier|static
name|unsigned
name|long
name|extract_d16_16
parameter_list|(
name|insn
parameter_list|,
name|invalid
parameter_list|)
name|unsigned
name|long
name|insn
decl_stmt|;
name|int
modifier|*
name|invalid
name|ATTRIBUTE_UNUSED
decl_stmt|;
block|{
name|signed
name|long
name|ret
init|=
name|insn
operator|&
literal|0xfffe0000
decl_stmt|;
name|ret
operator|>>=
literal|16
expr_stmt|;
name|ret
operator||=
operator|(
operator|(
name|insn
operator|&
literal|0x20
operator|)
operator|>>
literal|5
operator|)
expr_stmt|;
return|return
name|ret
return|;
block|}
end_function

begin_function
specifier|static
name|unsigned
name|long
name|insert_i9
parameter_list|(
name|insn
parameter_list|,
name|value
parameter_list|,
name|errmsg
parameter_list|)
name|unsigned
name|long
name|insn
decl_stmt|;
name|signed
name|long
name|value
decl_stmt|;
specifier|const
name|char
modifier|*
modifier|*
name|errmsg
decl_stmt|;
block|{
if|if
condition|(
name|value
operator|>
literal|0xff
operator|||
name|value
operator|<
operator|-
literal|0x100
condition|)
operator|*
name|errmsg
operator|=
name|_
argument_list|(
name|immediate_out_of_range
argument_list|)
expr_stmt|;
return|return
name|insn
operator||
operator|(
operator|(
name|value
operator|&
literal|0x1e0
operator|)
operator|<<
literal|13
operator|)
operator||
operator|(
name|value
operator|&
literal|0x1f
operator|)
return|;
block|}
end_function

begin_function
specifier|static
name|unsigned
name|long
name|extract_i9
parameter_list|(
name|insn
parameter_list|,
name|invalid
parameter_list|)
name|unsigned
name|long
name|insn
decl_stmt|;
name|int
modifier|*
name|invalid
name|ATTRIBUTE_UNUSED
decl_stmt|;
block|{
name|signed
name|long
name|ret
init|=
name|insn
operator|&
literal|0x003c0000
decl_stmt|;
name|ret
operator|<<=
literal|10
expr_stmt|;
name|ret
operator|>>=
literal|23
expr_stmt|;
name|ret
operator||=
operator|(
name|insn
operator|&
literal|0x1f
operator|)
expr_stmt|;
return|return
name|ret
return|;
block|}
end_function

begin_function
specifier|static
name|unsigned
name|long
name|insert_u9
parameter_list|(
name|insn
parameter_list|,
name|v
parameter_list|,
name|errmsg
parameter_list|)
name|unsigned
name|long
name|insn
decl_stmt|;
name|long
name|v
decl_stmt|;
specifier|const
name|char
modifier|*
modifier|*
name|errmsg
decl_stmt|;
block|{
name|unsigned
name|long
name|value
init|=
operator|(
name|unsigned
name|long
operator|)
name|v
decl_stmt|;
if|if
condition|(
name|value
operator|>
literal|0x1ff
condition|)
operator|*
name|errmsg
operator|=
name|_
argument_list|(
name|immediate_out_of_range
argument_list|)
expr_stmt|;
return|return
name|insn
operator||
operator|(
operator|(
name|value
operator|&
literal|0x1e0
operator|)
operator|<<
literal|13
operator|)
operator||
operator|(
name|value
operator|&
literal|0x1f
operator|)
return|;
block|}
end_function

begin_function
specifier|static
name|unsigned
name|long
name|extract_u9
parameter_list|(
name|insn
parameter_list|,
name|invalid
parameter_list|)
name|unsigned
name|long
name|insn
decl_stmt|;
name|int
modifier|*
name|invalid
name|ATTRIBUTE_UNUSED
decl_stmt|;
block|{
name|unsigned
name|long
name|ret
init|=
name|insn
operator|&
literal|0x003c0000
decl_stmt|;
name|ret
operator|>>=
literal|13
expr_stmt|;
name|ret
operator||=
operator|(
name|insn
operator|&
literal|0x1f
operator|)
expr_stmt|;
return|return
name|ret
return|;
block|}
end_function

begin_function
specifier|static
name|unsigned
name|long
name|insert_spe
parameter_list|(
name|insn
parameter_list|,
name|v
parameter_list|,
name|errmsg
parameter_list|)
name|unsigned
name|long
name|insn
decl_stmt|;
name|long
name|v
decl_stmt|;
specifier|const
name|char
modifier|*
modifier|*
name|errmsg
decl_stmt|;
block|{
name|unsigned
name|long
name|value
init|=
operator|(
name|unsigned
name|long
operator|)
name|v
decl_stmt|;
if|if
condition|(
name|value
operator|!=
literal|3
condition|)
operator|*
name|errmsg
operator|=
name|_
argument_list|(
literal|"invalid register for stack adjustment"
argument_list|)
expr_stmt|;
return|return
name|insn
operator|&
operator|(
operator|~
literal|0x180000
operator|)
return|;
block|}
end_function

begin_function
specifier|static
name|unsigned
name|long
name|extract_spe
parameter_list|(
name|insn
parameter_list|,
name|invalid
parameter_list|)
name|unsigned
name|long
name|insn
name|ATTRIBUTE_UNUSED
decl_stmt|;
name|int
modifier|*
name|invalid
name|ATTRIBUTE_UNUSED
decl_stmt|;
block|{
return|return
literal|3
return|;
block|}
end_function

begin_function
specifier|static
name|unsigned
name|long
name|insert_i5div
parameter_list|(
name|insn
parameter_list|,
name|v
parameter_list|,
name|errmsg
parameter_list|)
name|unsigned
name|long
name|insn
decl_stmt|;
name|long
name|v
decl_stmt|;
specifier|const
name|char
modifier|*
modifier|*
name|errmsg
decl_stmt|;
block|{
name|unsigned
name|long
name|value
init|=
operator|(
name|unsigned
name|long
operator|)
name|v
decl_stmt|;
if|if
condition|(
name|value
operator|>
literal|0x1ff
condition|)
block|{
if|if
condition|(
name|value
operator|&
literal|1
condition|)
operator|*
name|errmsg
operator|=
name|_
argument_list|(
literal|"immediate value not in range and not even"
argument_list|)
expr_stmt|;
else|else
operator|*
name|errmsg
operator|=
name|_
argument_list|(
name|immediate_out_of_range
argument_list|)
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|value
operator|&
literal|1
condition|)
operator|*
name|errmsg
operator|=
name|_
argument_list|(
literal|"immediate value must be even"
argument_list|)
expr_stmt|;
name|value
operator|=
literal|32
operator|-
name|value
expr_stmt|;
return|return
name|insn
operator||
operator|(
operator|(
name|value
operator|&
literal|0x1e
operator|)
operator|<<
literal|17
operator|)
return|;
block|}
end_function

begin_function
specifier|static
name|unsigned
name|long
name|extract_i5div
parameter_list|(
name|insn
parameter_list|,
name|invalid
parameter_list|)
name|unsigned
name|long
name|insn
decl_stmt|;
name|int
modifier|*
name|invalid
name|ATTRIBUTE_UNUSED
decl_stmt|;
block|{
name|unsigned
name|long
name|ret
init|=
name|insn
operator|&
literal|0x3c0000
decl_stmt|;
name|ret
operator|>>=
literal|17
expr_stmt|;
name|ret
operator|=
literal|32
operator|-
name|ret
expr_stmt|;
return|return
name|ret
return|;
block|}
end_function

begin_escape
end_escape

begin_comment
comment|/* Warning: code in gas/config/tc-v850.c examines the contents of this array.    If you change any of the values here, be sure to look for side effects in    that code.  */
end_comment

begin_decl_stmt
specifier|const
name|struct
name|v850_operand
name|v850_operands
index|[]
init|=
block|{
define|#
directive|define
name|UNUSED
value|0
block|{
literal|0
block|,
literal|0
block|,
name|NULL
block|,
name|NULL
block|,
literal|0
block|}
block|,
comment|/* The R1 field in a format 1, 6, 7, or 9 insn. */
define|#
directive|define
name|R1
value|(UNUSED + 1)
block|{
literal|5
block|,
literal|0
block|,
name|NULL
block|,
name|NULL
block|,
name|V850_OPERAND_REG
block|}
block|,
comment|/* As above, but register 0 is not allowed.  */
define|#
directive|define
name|R1_NOTR0
value|(R1 + 1)
block|{
literal|5
block|,
literal|0
block|,
name|NULL
block|,
name|NULL
block|,
name|V850_OPERAND_REG
operator||
name|V850_NOT_R0
block|}
block|,
comment|/* The R2 field in a format 1, 2, 4, 5, 6, 7, 9 insn. */
define|#
directive|define
name|R2
value|(R1_NOTR0 + 1)
block|{
literal|5
block|,
literal|11
block|,
name|NULL
block|,
name|NULL
block|,
name|V850_OPERAND_REG
block|}
block|,
comment|/* As above, but register 0 is not allowed.  */
define|#
directive|define
name|R2_NOTR0
value|(R2 + 1)
block|{
literal|5
block|,
literal|11
block|,
name|NULL
block|,
name|NULL
block|,
name|V850_OPERAND_REG
operator||
name|V850_NOT_R0
block|}
block|,
comment|/* The imm5 field in a format 2 insn. */
define|#
directive|define
name|I5
value|(R2_NOTR0 + 1)
block|{
literal|5
block|,
literal|0
block|,
name|NULL
block|,
name|NULL
block|,
name|V850_OPERAND_SIGNED
block|}
block|,
comment|/* The unsigned imm5 field in a format 2 insn. */
define|#
directive|define
name|I5U
value|(I5 + 1)
block|{
literal|5
block|,
literal|0
block|,
name|NULL
block|,
name|NULL
block|,
literal|0
block|}
block|,
comment|/* The imm16 field in a format 6 insn. */
define|#
directive|define
name|I16
value|(I5U + 1)
block|{
literal|16
block|,
literal|16
block|,
name|NULL
block|,
name|NULL
block|,
name|V850_OPERAND_SIGNED
block|}
block|,
comment|/* The signed disp7 field in a format 4 insn. */
define|#
directive|define
name|D7
value|(I16 + 1)
block|{
literal|7
block|,
literal|0
block|,
name|NULL
block|,
name|NULL
block|,
literal|0
block|}
block|,
comment|/* The disp16 field in a format 6 insn. */
define|#
directive|define
name|D16_15
value|(D7 + 1)
block|{
literal|15
block|,
literal|17
block|,
name|insert_d16_15
block|,
name|extract_d16_15
block|,
name|V850_OPERAND_SIGNED
block|}
block|,
comment|/* The 3 bit immediate field in format 8 insn.  */
define|#
directive|define
name|B3
value|(D16_15 + 1)
block|{
literal|3
block|,
literal|11
block|,
name|NULL
block|,
name|NULL
block|,
literal|0
block|}
block|,
comment|/* The 4 bit condition code in a setf instruction */
define|#
directive|define
name|CCCC
value|(B3 + 1)
block|{
literal|4
block|,
literal|0
block|,
name|NULL
block|,
name|NULL
block|,
name|V850_OPERAND_CC
block|}
block|,
comment|/* The unsigned DISP8 field in a format 4 insn. */
define|#
directive|define
name|D8_7
value|(CCCC + 1)
block|{
literal|7
block|,
literal|0
block|,
name|insert_d8_7
block|,
name|extract_d8_7
block|,
literal|0
block|}
block|,
comment|/* The unsigned DISP8 field in a format 4 insn. */
define|#
directive|define
name|D8_6
value|(D8_7 + 1)
block|{
literal|6
block|,
literal|1
block|,
name|insert_d8_6
block|,
name|extract_d8_6
block|,
literal|0
block|}
block|,
comment|/* System register operands.  */
define|#
directive|define
name|SR1
value|(D8_6 + 1)
block|{
literal|5
block|,
literal|0
block|,
name|NULL
block|,
name|NULL
block|,
name|V850_OPERAND_SRG
block|}
block|,
comment|/* EP Register.  */
define|#
directive|define
name|EP
value|(SR1 + 1)
block|{
literal|0
block|,
literal|0
block|,
name|NULL
block|,
name|NULL
block|,
name|V850_OPERAND_EP
block|}
block|,
comment|/* The imm16 field (unsigned) in a format 6 insn. */
define|#
directive|define
name|I16U
value|(EP + 1)
block|{
literal|16
block|,
literal|16
block|,
name|NULL
block|,
name|NULL
block|,
literal|0
block|}
block|,
comment|/* The R2 field as a system register.  */
define|#
directive|define
name|SR2
value|(I16U + 1)
block|{
literal|5
block|,
literal|11
block|,
name|NULL
block|,
name|NULL
block|,
name|V850_OPERAND_SRG
block|}
block|,
comment|/* The disp16 field in a format 8 insn. */
define|#
directive|define
name|D16
value|(SR2 + 1)
block|{
literal|16
block|,
literal|16
block|,
name|NULL
block|,
name|NULL
block|,
name|V850_OPERAND_SIGNED
block|}
block|,
comment|/* The DISP9 field in a format 3 insn, relaxable. */
define|#
directive|define
name|D9_RELAX
value|(D16 + 1)
block|{
literal|9
block|,
literal|0
block|,
name|insert_d9
block|,
name|extract_d9
block|,
name|V850_OPERAND_RELAX
operator||
name|V850_OPERAND_SIGNED
operator||
name|V850_OPERAND_DISP
block|}
block|,
comment|/* The DISP22 field in a format 4 insn, relaxable.    This _must_ follow D9_RELAX; the assembler assumes that the longer    version immediately follows the shorter version for relaxing.  */
define|#
directive|define
name|D22
value|(D9_RELAX + 1)
block|{
literal|22
block|,
literal|0
block|,
name|insert_d22
block|,
name|extract_d22
block|,
name|V850_OPERAND_SIGNED
operator||
name|V850_OPERAND_DISP
block|}
block|,
comment|/* The signed disp4 field in a format 4 insn. */
define|#
directive|define
name|D4
value|(D22 + 1)
block|{
literal|4
block|,
literal|0
block|,
name|NULL
block|,
name|NULL
block|,
literal|0
block|}
block|,
comment|/* The unsigned disp5 field in a format 4 insn. */
define|#
directive|define
name|D5_4
value|(D4 + 1)
block|{
literal|4
block|,
literal|0
block|,
name|insert_d5_4
block|,
name|extract_d5_4
block|,
literal|0
block|}
block|,
comment|/* The disp16 field in an format 7 unsigned byte load insn. */
define|#
directive|define
name|D16_16
value|(D5_4 + 1)
block|{
operator|-
literal|1
block|,
literal|0xfffe0020
block|,
name|insert_d16_16
block|,
name|extract_d16_16
block|,
literal|0
block|}
block|,
comment|/* Third register in conditional moves. */
define|#
directive|define
name|R3
value|(D16_16 + 1)
block|{
literal|5
block|,
literal|27
block|,
name|NULL
block|,
name|NULL
block|,
name|V850_OPERAND_REG
block|}
block|,
comment|/* Condition code in conditional moves.  */
define|#
directive|define
name|MOVCC
value|(R3 + 1)
block|{
literal|4
block|,
literal|17
block|,
name|NULL
block|,
name|NULL
block|,
name|V850_OPERAND_CC
block|}
block|,
comment|/* The imm9 field in a multiply word. */
define|#
directive|define
name|I9
value|(MOVCC + 1)
block|{
literal|9
block|,
literal|0
block|,
name|insert_i9
block|,
name|extract_i9
block|,
name|V850_OPERAND_SIGNED
block|}
block|,
comment|/* The unsigned imm9 field in a multiply word. */
define|#
directive|define
name|U9
value|(I9 + 1)
block|{
literal|9
block|,
literal|0
block|,
name|insert_u9
block|,
name|extract_u9
block|,
literal|0
block|}
block|,
comment|/* A list of registers in a prepare/dispose instruction.  */
define|#
directive|define
name|LIST12
value|(U9 + 1)
block|{
operator|-
literal|1
block|,
literal|0xffe00001
block|,
name|NULL
block|,
name|NULL
block|,
name|V850E_PUSH_POP
block|}
block|,
comment|/* The IMM6 field in a call instruction. */
define|#
directive|define
name|I6
value|(LIST12 + 1)
block|{
literal|6
block|,
literal|0
block|,
name|NULL
block|,
name|NULL
block|,
literal|0
block|}
block|,
comment|/* The 16 bit immediate following a 32 bit instruction.  */
define|#
directive|define
name|IMM16
value|(I6 + 1)
block|{
literal|16
block|,
literal|16
block|,
name|NULL
block|,
name|NULL
block|,
name|V850_OPERAND_SIGNED
operator||
name|V850E_IMMEDIATE16
block|}
block|,
comment|/* The 32 bit immediate following a 32 bit instruction.  */
define|#
directive|define
name|IMM32
value|(IMM16 + 1)
block|{
literal|0
block|,
literal|0
block|,
name|NULL
block|,
name|NULL
block|,
name|V850E_IMMEDIATE32
block|}
block|,
comment|/* The imm5 field in a push/pop instruction. */
define|#
directive|define
name|IMM5
value|(IMM32 + 1)
block|{
literal|5
block|,
literal|1
block|,
name|NULL
block|,
name|NULL
block|,
literal|0
block|}
block|,
comment|/* Reg2 in dispose instruction. */
define|#
directive|define
name|R2DISPOSE
value|(IMM5 + 1)
block|{
literal|5
block|,
literal|16
block|,
name|NULL
block|,
name|NULL
block|,
name|V850_OPERAND_REG
operator||
name|V850_NOT_R0
block|}
block|,
comment|/* Stack pointer in prepare instruction. */
define|#
directive|define
name|SP
value|(R2DISPOSE + 1)
block|{
literal|2
block|,
literal|19
block|,
name|insert_spe
block|,
name|extract_spe
block|,
name|V850_OPERAND_REG
block|}
block|,
comment|/* The IMM5 field in a divide N step instruction. */
define|#
directive|define
name|I5DIV
value|(SP + 1)
block|{
literal|9
block|,
literal|0
block|,
name|insert_i5div
block|,
name|extract_i5div
block|,
name|V850_OPERAND_SIGNED
block|}
block|,
comment|/* The list of registers in a PUSHMH/POPMH instruction.  */
define|#
directive|define
name|LIST18_H
value|(I5DIV + 1)
block|{
operator|-
literal|1
block|,
literal|0xfff8000f
block|,
name|NULL
block|,
name|NULL
block|,
name|V850E_PUSH_POP
block|}
block|,
comment|/* The list of registers in a PUSHML/POPML instruction.  */
define|#
directive|define
name|LIST18_L
value|(LIST18_H + 1)
block|{
operator|-
literal|1
block|,
literal|0xfff8001f
block|,
name|NULL
block|,
name|NULL
block|,
name|V850E_PUSH_POP
block|}
block|,
comment|/* The setting of the 4th bit is a flag to disassmble() in v850-dis.c */
block|}
decl_stmt|;
end_decl_stmt

begin_escape
end_escape

begin_comment
comment|/* reg-reg instruction format (Format I) */
end_comment

begin_define
define|#
directive|define
name|IF1
value|{R1, R2}
end_define

begin_comment
comment|/* imm-reg instruction format (Format II) */
end_comment

begin_define
define|#
directive|define
name|IF2
value|{I5, R2}
end_define

begin_comment
comment|/* conditional branch instruction format (Format III) */
end_comment

begin_define
define|#
directive|define
name|IF3
value|{D9_RELAX}
end_define

begin_comment
comment|/* 3 operand instruction (Format VI) */
end_comment

begin_define
define|#
directive|define
name|IF6
value|{I16, R1, R2}
end_define

begin_comment
comment|/* 3 operand instruction (Format VI) */
end_comment

begin_define
define|#
directive|define
name|IF6U
value|{I16U, R1, R2}
end_define

begin_escape
end_escape

begin_comment
comment|/* The opcode table.     The format of the opcode table is:     NAME		OPCODE			MASK		       { OPERANDS }	   MEMOP    PROCESSOR     NAME is the name of the instruction.    OPCODE is the instruction opcode.    MASK is the opcode mask; this is used to tell the disassembler      which bits in the actual opcode must match OPCODE.    OPERANDS is the list of operands.    MEMOP specifies which operand (if any) is a memory operand.    PROCESSORS specifies which CPU(s) support the opcode.        The disassembler reads the table in order and prints the first    instruction which matches, so this table is sorted to put more    specific instructions before more general instructions.  It is also    sorted by major opcode.     The table is also sorted by name.  This is used by the assembler.    When parsing an instruction the assembler finds the first occurance    of the name of the instruciton in this table and then attempts to    match the instruction's arguments with description of the operands    associated with the entry it has just found in this table.  If the    match fails the assembler looks at the next entry in this table.    If that entry has the same name as the previous entry, then it    tries to match the instruction against that entry and so on.  This    is how the assembler copes with multiple, different formats of the    same instruction.  */
end_comment

begin_decl_stmt
specifier|const
name|struct
name|v850_opcode
name|v850_opcodes
index|[]
init|=
block|{
block|{
literal|"breakpoint"
block|,
literal|0xffff
block|,
literal|0xffff
block|,
block|{
name|UNUSED
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"jmp"
block|,
name|one
argument_list|(
literal|0x0060
argument_list|)
block|,
name|one
argument_list|(
literal|0xffe0
argument_list|)
block|,
block|{
name|R1
block|}
block|,
literal|1
block|,
name|PROCESSOR_ALL
block|}
block|,
comment|/* load/store instructions */
block|{
literal|"sld.bu"
block|,
name|one
argument_list|(
literal|0x0300
argument_list|)
block|,
name|one
argument_list|(
literal|0x0780
argument_list|)
block|,
block|{
name|D7
block|,
name|EP
block|,
name|R2_NOTR0
block|}
block|,
literal|1
block|,
name|PROCESSOR_V850EA
block|}
block|,
block|{
literal|"sld.bu"
block|,
name|one
argument_list|(
literal|0x0060
argument_list|)
block|,
name|one
argument_list|(
literal|0x07f0
argument_list|)
block|,
block|{
name|D4
block|,
name|EP
block|,
name|R2_NOTR0
block|}
block|,
literal|1
block|,
name|PROCESSOR_V850E
block|}
block|,
block|{
literal|"sld.hu"
block|,
name|one
argument_list|(
literal|0x0400
argument_list|)
block|,
name|one
argument_list|(
literal|0x0780
argument_list|)
block|,
block|{
name|D8_7
block|,
name|EP
block|,
name|R2_NOTR0
block|}
block|,
literal|1
block|,
name|PROCESSOR_V850EA
block|}
block|,
block|{
literal|"sld.hu"
block|,
name|one
argument_list|(
literal|0x0070
argument_list|)
block|,
name|one
argument_list|(
literal|0x07f0
argument_list|)
block|,
block|{
name|D5_4
block|,
name|EP
block|,
name|R2_NOTR0
block|}
block|,
literal|1
block|,
name|PROCESSOR_V850E
block|}
block|,
block|{
literal|"sld.b"
block|,
name|one
argument_list|(
literal|0x0060
argument_list|)
block|,
name|one
argument_list|(
literal|0x07f0
argument_list|)
block|,
block|{
name|D4
block|,
name|EP
block|,
name|R2
block|}
block|,
literal|1
block|,
name|PROCESSOR_V850EA
block|}
block|,
block|{
literal|"sld.b"
block|,
name|one
argument_list|(
literal|0x0300
argument_list|)
block|,
name|one
argument_list|(
literal|0x0780
argument_list|)
block|,
block|{
name|D7
block|,
name|EP
block|,
name|R2
block|}
block|,
literal|1
block|,
name|PROCESSOR_V850E
block|}
block|,
block|{
literal|"sld.b"
block|,
name|one
argument_list|(
literal|0x0300
argument_list|)
block|,
name|one
argument_list|(
literal|0x0780
argument_list|)
block|,
block|{
name|D7
block|,
name|EP
block|,
name|R2
block|}
block|,
literal|1
block|,
name|PROCESSOR_V850
block|}
block|,
block|{
literal|"sld.h"
block|,
name|one
argument_list|(
literal|0x0070
argument_list|)
block|,
name|one
argument_list|(
literal|0x07f0
argument_list|)
block|,
block|{
name|D5_4
block|,
name|EP
block|,
name|R2
block|}
block|,
literal|1
block|,
name|PROCESSOR_V850EA
block|}
block|,
block|{
literal|"sld.h"
block|,
name|one
argument_list|(
literal|0x0400
argument_list|)
block|,
name|one
argument_list|(
literal|0x0780
argument_list|)
block|,
block|{
name|D8_7
block|,
name|EP
block|,
name|R2
block|}
block|,
literal|1
block|,
name|PROCESSOR_V850E
block|}
block|,
block|{
literal|"sld.h"
block|,
name|one
argument_list|(
literal|0x0400
argument_list|)
block|,
name|one
argument_list|(
literal|0x0780
argument_list|)
block|,
block|{
name|D8_7
block|,
name|EP
block|,
name|R2
block|}
block|,
literal|1
block|,
name|PROCESSOR_V850
block|}
block|,
block|{
literal|"sld.w"
block|,
name|one
argument_list|(
literal|0x0500
argument_list|)
block|,
name|one
argument_list|(
literal|0x0781
argument_list|)
block|,
block|{
name|D8_6
block|,
name|EP
block|,
name|R2
block|}
block|,
literal|1
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"sst.b"
block|,
name|one
argument_list|(
literal|0x0380
argument_list|)
block|,
name|one
argument_list|(
literal|0x0780
argument_list|)
block|,
block|{
name|R2
block|,
name|D7
block|,
name|EP
block|}
block|,
literal|2
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"sst.h"
block|,
name|one
argument_list|(
literal|0x0480
argument_list|)
block|,
name|one
argument_list|(
literal|0x0780
argument_list|)
block|,
block|{
name|R2
block|,
name|D8_7
block|,
name|EP
block|}
block|,
literal|2
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"sst.w"
block|,
name|one
argument_list|(
literal|0x0501
argument_list|)
block|,
name|one
argument_list|(
literal|0x0781
argument_list|)
block|,
block|{
name|R2
block|,
name|D8_6
block|,
name|EP
block|}
block|,
literal|2
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"pushml"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0001
argument_list|)
block|,
name|two
argument_list|(
literal|0xfff0
argument_list|,
literal|0x0007
argument_list|)
block|,
block|{
name|LIST18_L
block|}
block|,
literal|0
block|,
name|PROCESSOR_V850EA
block|}
block|,
block|{
literal|"pushmh"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0003
argument_list|)
block|,
name|two
argument_list|(
literal|0xfff0
argument_list|,
literal|0x0007
argument_list|)
block|,
block|{
name|LIST18_H
block|}
block|,
literal|0
block|,
name|PROCESSOR_V850EA
block|}
block|,
block|{
literal|"popml"
block|,
name|two
argument_list|(
literal|0x07f0
argument_list|,
literal|0x0001
argument_list|)
block|,
name|two
argument_list|(
literal|0xfff0
argument_list|,
literal|0x0007
argument_list|)
block|,
block|{
name|LIST18_L
block|}
block|,
literal|0
block|,
name|PROCESSOR_V850EA
block|}
block|,
block|{
literal|"popmh"
block|,
name|two
argument_list|(
literal|0x07f0
argument_list|,
literal|0x0003
argument_list|)
block|,
name|two
argument_list|(
literal|0xfff0
argument_list|,
literal|0x0007
argument_list|)
block|,
block|{
name|LIST18_H
block|}
block|,
literal|0
block|,
name|PROCESSOR_V850EA
block|}
block|,
block|{
literal|"prepare"
block|,
name|two
argument_list|(
literal|0x0780
argument_list|,
literal|0x0003
argument_list|)
block|,
name|two
argument_list|(
literal|0xffc0
argument_list|,
literal|0x001f
argument_list|)
block|,
block|{
name|LIST12
block|,
name|IMM5
block|,
name|SP
block|}
block|,
literal|0
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"prepare"
block|,
name|two
argument_list|(
literal|0x0780
argument_list|,
literal|0x000b
argument_list|)
block|,
name|two
argument_list|(
literal|0xffc0
argument_list|,
literal|0x001f
argument_list|)
block|,
block|{
name|LIST12
block|,
name|IMM5
block|,
name|IMM16
block|}
block|,
literal|0
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"prepare"
block|,
name|two
argument_list|(
literal|0x0780
argument_list|,
literal|0x0013
argument_list|)
block|,
name|two
argument_list|(
literal|0xffc0
argument_list|,
literal|0x001f
argument_list|)
block|,
block|{
name|LIST12
block|,
name|IMM5
block|,
name|IMM16
block|}
block|,
literal|0
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"prepare"
block|,
name|two
argument_list|(
literal|0x0780
argument_list|,
literal|0x001b
argument_list|)
block|,
name|two
argument_list|(
literal|0xffc0
argument_list|,
literal|0x001f
argument_list|)
block|,
block|{
name|LIST12
block|,
name|IMM5
block|,
name|IMM32
block|}
block|,
literal|0
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"prepare"
block|,
name|two
argument_list|(
literal|0x0780
argument_list|,
literal|0x0001
argument_list|)
block|,
name|two
argument_list|(
literal|0xffc0
argument_list|,
literal|0x001f
argument_list|)
block|,
block|{
name|LIST12
block|,
name|IMM5
block|}
block|,
literal|0
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"dispose"
block|,
name|one
argument_list|(
literal|0x0640
argument_list|)
block|,
name|one
argument_list|(
literal|0xffc0
argument_list|)
block|,
block|{
name|IMM5
block|,
name|LIST12
block|,
name|R2DISPOSE
block|}
block|,
literal|0
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"dispose"
block|,
name|two
argument_list|(
literal|0x0640
argument_list|,
literal|0x0000
argument_list|)
block|,
name|two
argument_list|(
literal|0xffc0
argument_list|,
literal|0x001f
argument_list|)
block|,
block|{
name|IMM5
block|,
name|LIST12
block|}
block|,
literal|0
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"ld.b"
block|,
name|two
argument_list|(
literal|0x0700
argument_list|,
literal|0x0000
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0000
argument_list|)
block|,
block|{
name|D16
block|,
name|R1
block|,
name|R2
block|}
block|,
literal|1
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"ld.h"
block|,
name|two
argument_list|(
literal|0x0720
argument_list|,
literal|0x0000
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0001
argument_list|)
block|,
block|{
name|D16_15
block|,
name|R1
block|,
name|R2
block|}
block|,
literal|1
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"ld.w"
block|,
name|two
argument_list|(
literal|0x0720
argument_list|,
literal|0x0001
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0001
argument_list|)
block|,
block|{
name|D16_15
block|,
name|R1
block|,
name|R2
block|}
block|,
literal|1
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"ld.bu"
block|,
name|two
argument_list|(
literal|0x0780
argument_list|,
literal|0x0001
argument_list|)
block|,
name|two
argument_list|(
literal|0x07c0
argument_list|,
literal|0x0001
argument_list|)
block|,
block|{
name|D16_16
block|,
name|R1
block|,
name|R2_NOTR0
block|}
block|,
literal|1
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"ld.hu"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0001
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0001
argument_list|)
block|,
block|{
name|D16_15
block|,
name|R1
block|,
name|R2_NOTR0
block|}
block|,
literal|1
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"st.b"
block|,
name|two
argument_list|(
literal|0x0740
argument_list|,
literal|0x0000
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0000
argument_list|)
block|,
block|{
name|R2
block|,
name|D16
block|,
name|R1
block|}
block|,
literal|2
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"st.h"
block|,
name|two
argument_list|(
literal|0x0760
argument_list|,
literal|0x0000
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0001
argument_list|)
block|,
block|{
name|R2
block|,
name|D16_15
block|,
name|R1
block|}
block|,
literal|2
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"st.w"
block|,
name|two
argument_list|(
literal|0x0760
argument_list|,
literal|0x0001
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0001
argument_list|)
block|,
block|{
name|R2
block|,
name|D16_15
block|,
name|R1
block|}
block|,
literal|2
block|,
name|PROCESSOR_ALL
block|}
block|,
comment|/* byte swap/extend instructions */
block|{
literal|"zxb"
block|,
name|one
argument_list|(
literal|0x0080
argument_list|)
block|,
name|one
argument_list|(
literal|0xffe0
argument_list|)
block|,
block|{
name|R1_NOTR0
block|}
block|,
literal|0
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"zxh"
block|,
name|one
argument_list|(
literal|0x00c0
argument_list|)
block|,
name|one
argument_list|(
literal|0xffe0
argument_list|)
block|,
block|{
name|R1_NOTR0
block|}
block|,
literal|0
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"sxb"
block|,
name|one
argument_list|(
literal|0x00a0
argument_list|)
block|,
name|one
argument_list|(
literal|0xffe0
argument_list|)
block|,
block|{
name|R1_NOTR0
block|}
block|,
literal|0
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"sxh"
block|,
name|one
argument_list|(
literal|0x00e0
argument_list|)
block|,
name|one
argument_list|(
literal|0xffe0
argument_list|)
block|,
block|{
name|R1_NOTR0
block|}
block|,
literal|0
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"bsh"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0342
argument_list|)
block|,
name|two
argument_list|(
literal|0x07ff
argument_list|,
literal|0x07ff
argument_list|)
block|,
block|{
name|R2
block|,
name|R3
block|}
block|,
literal|0
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"bsw"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0340
argument_list|)
block|,
name|two
argument_list|(
literal|0x07ff
argument_list|,
literal|0x07ff
argument_list|)
block|,
block|{
name|R2
block|,
name|R3
block|}
block|,
literal|0
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"hsw"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0344
argument_list|)
block|,
name|two
argument_list|(
literal|0x07ff
argument_list|,
literal|0x07ff
argument_list|)
block|,
block|{
name|R2
block|,
name|R3
block|}
block|,
literal|0
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
comment|/* jump table instructions */
block|{
literal|"switch"
block|,
name|one
argument_list|(
literal|0x0040
argument_list|)
block|,
name|one
argument_list|(
literal|0xffe0
argument_list|)
block|,
block|{
name|R1
block|}
block|,
literal|1
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"callt"
block|,
name|one
argument_list|(
literal|0x0200
argument_list|)
block|,
name|one
argument_list|(
literal|0xffc0
argument_list|)
block|,
block|{
name|I6
block|}
block|,
literal|0
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"ctret"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0144
argument_list|)
block|,
name|two
argument_list|(
literal|0xffff
argument_list|,
literal|0xffff
argument_list|)
block|,
block|{
literal|0
block|}
block|,
literal|0
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
comment|/* arithmetic operation instructions */
block|{
literal|"setf"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0000
argument_list|)
block|,
name|two
argument_list|(
literal|0x07f0
argument_list|,
literal|0xffff
argument_list|)
block|,
block|{
name|CCCC
block|,
name|R2
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"cmov"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0320
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x07e1
argument_list|)
block|,
block|{
name|MOVCC
block|,
name|R1
block|,
name|R2
block|,
name|R3
block|}
block|,
literal|0
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"cmov"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0300
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x07e1
argument_list|)
block|,
block|{
name|MOVCC
block|,
name|I5
block|,
name|R2
block|,
name|R3
block|}
block|,
literal|0
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"mul"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0220
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x07ff
argument_list|)
block|,
block|{
name|R1
block|,
name|R2
block|,
name|R3
block|}
block|,
literal|0
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"mul"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0240
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x07c3
argument_list|)
block|,
block|{
name|I9
block|,
name|R2
block|,
name|R3
block|}
block|,
literal|0
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"mulu"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0222
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x07ff
argument_list|)
block|,
block|{
name|R1
block|,
name|R2
block|,
name|R3
block|}
block|,
literal|0
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"mulu"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0242
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x07c3
argument_list|)
block|,
block|{
name|U9
block|,
name|R2
block|,
name|R3
block|}
block|,
literal|0
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"div"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x02c0
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x07ff
argument_list|)
block|,
block|{
name|R1
block|,
name|R2
block|,
name|R3
block|}
block|,
literal|0
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"divu"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x02c2
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x07ff
argument_list|)
block|,
block|{
name|R1
block|,
name|R2
block|,
name|R3
block|}
block|,
literal|0
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"divhu"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0282
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x07ff
argument_list|)
block|,
block|{
name|R1
block|,
name|R2
block|,
name|R3
block|}
block|,
literal|0
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"divh"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0280
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x07ff
argument_list|)
block|,
block|{
name|R1
block|,
name|R2
block|,
name|R3
block|}
block|,
literal|0
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"divh"
block|,
name|OP
argument_list|(
literal|0x02
argument_list|)
block|,
name|OP_MASK
block|,
block|{
name|R1
block|,
name|R2_NOTR0
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"divhn"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0280
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x07c3
argument_list|)
block|,
block|{
name|I5DIV
block|,
name|R1
block|,
name|R2
block|,
name|R3
block|}
block|,
literal|0
block|,
name|PROCESSOR_V850EA
block|}
block|,
block|{
literal|"divhun"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0282
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x07c3
argument_list|)
block|,
block|{
name|I5DIV
block|,
name|R1
block|,
name|R2
block|,
name|R3
block|}
block|,
literal|0
block|,
name|PROCESSOR_V850EA
block|}
block|,
block|{
literal|"divn"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x02c0
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x07c3
argument_list|)
block|,
block|{
name|I5DIV
block|,
name|R1
block|,
name|R2
block|,
name|R3
block|}
block|,
literal|0
block|,
name|PROCESSOR_V850EA
block|}
block|,
block|{
literal|"divun"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x02c2
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x07c3
argument_list|)
block|,
block|{
name|I5DIV
block|,
name|R1
block|,
name|R2
block|,
name|R3
block|}
block|,
literal|0
block|,
name|PROCESSOR_V850EA
block|}
block|,
block|{
literal|"sdivhn"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0180
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x07c3
argument_list|)
block|,
block|{
name|I5DIV
block|,
name|R1
block|,
name|R2
block|,
name|R3
block|}
block|,
literal|0
block|,
name|PROCESSOR_V850EA
block|}
block|,
block|{
literal|"sdivhun"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0182
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x07c3
argument_list|)
block|,
block|{
name|I5DIV
block|,
name|R1
block|,
name|R2
block|,
name|R3
block|}
block|,
literal|0
block|,
name|PROCESSOR_V850EA
block|}
block|,
block|{
literal|"sdivn"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x01c0
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x07c3
argument_list|)
block|,
block|{
name|I5DIV
block|,
name|R1
block|,
name|R2
block|,
name|R3
block|}
block|,
literal|0
block|,
name|PROCESSOR_V850EA
block|}
block|,
block|{
literal|"sdivun"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x01c2
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x07c3
argument_list|)
block|,
block|{
name|I5DIV
block|,
name|R1
block|,
name|R2
block|,
name|R3
block|}
block|,
literal|0
block|,
name|PROCESSOR_V850EA
block|}
block|,
block|{
literal|"nop"
block|,
name|one
argument_list|(
literal|0x00
argument_list|)
block|,
name|one
argument_list|(
literal|0xffff
argument_list|)
block|,
block|{
literal|0
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"mov"
block|,
name|OP
argument_list|(
literal|0x10
argument_list|)
block|,
name|OP_MASK
block|,
block|{
name|I5
block|,
name|R2_NOTR0
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"mov"
block|,
name|one
argument_list|(
literal|0x0620
argument_list|)
block|,
name|one
argument_list|(
literal|0xffe0
argument_list|)
block|,
block|{
name|IMM32
block|,
name|R1_NOTR0
block|}
block|,
literal|0
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"mov"
block|,
name|OP
argument_list|(
literal|0x00
argument_list|)
block|,
name|OP_MASK
block|,
block|{
name|R1
block|,
name|R2_NOTR0
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"movea"
block|,
name|OP
argument_list|(
literal|0x31
argument_list|)
block|,
name|OP_MASK
block|,
block|{
name|I16
block|,
name|R1
block|,
name|R2_NOTR0
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"movhi"
block|,
name|OP
argument_list|(
literal|0x32
argument_list|)
block|,
name|OP_MASK
block|,
block|{
name|I16U
block|,
name|R1
block|,
name|R2_NOTR0
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"add"
block|,
name|OP
argument_list|(
literal|0x0e
argument_list|)
block|,
name|OP_MASK
block|,
name|IF1
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"add"
block|,
name|OP
argument_list|(
literal|0x12
argument_list|)
block|,
name|OP_MASK
block|,
name|IF2
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"addi"
block|,
name|OP
argument_list|(
literal|0x30
argument_list|)
block|,
name|OP_MASK
block|,
name|IF6
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"sub"
block|,
name|OP
argument_list|(
literal|0x0d
argument_list|)
block|,
name|OP_MASK
block|,
name|IF1
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"subr"
block|,
name|OP
argument_list|(
literal|0x0c
argument_list|)
block|,
name|OP_MASK
block|,
name|IF1
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"mulh"
block|,
name|OP
argument_list|(
literal|0x17
argument_list|)
block|,
name|OP_MASK
block|,
block|{
name|I5
block|,
name|R2_NOTR0
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"mulh"
block|,
name|OP
argument_list|(
literal|0x07
argument_list|)
block|,
name|OP_MASK
block|,
block|{
name|R1
block|,
name|R2_NOTR0
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"mulhi"
block|,
name|OP
argument_list|(
literal|0x37
argument_list|)
block|,
name|OP_MASK
block|,
block|{
name|I16
block|,
name|R1
block|,
name|R2_NOTR0
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"cmp"
block|,
name|OP
argument_list|(
literal|0x0f
argument_list|)
block|,
name|OP_MASK
block|,
name|IF1
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"cmp"
block|,
name|OP
argument_list|(
literal|0x13
argument_list|)
block|,
name|OP_MASK
block|,
name|IF2
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
comment|/* saturated operation instructions */
block|{
literal|"satadd"
block|,
name|OP
argument_list|(
literal|0x11
argument_list|)
block|,
name|OP_MASK
block|,
block|{
name|I5
block|,
name|R2_NOTR0
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"satadd"
block|,
name|OP
argument_list|(
literal|0x06
argument_list|)
block|,
name|OP_MASK
block|,
block|{
name|R1
block|,
name|R2_NOTR0
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"satsub"
block|,
name|OP
argument_list|(
literal|0x05
argument_list|)
block|,
name|OP_MASK
block|,
block|{
name|R1
block|,
name|R2_NOTR0
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"satsubi"
block|,
name|OP
argument_list|(
literal|0x33
argument_list|)
block|,
name|OP_MASK
block|,
block|{
name|I16
block|,
name|R1
block|,
name|R2_NOTR0
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"satsubr"
block|,
name|OP
argument_list|(
literal|0x04
argument_list|)
block|,
name|OP_MASK
block|,
block|{
name|R1
block|,
name|R2_NOTR0
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
comment|/* logical operation instructions */
block|{
literal|"tst"
block|,
name|OP
argument_list|(
literal|0x0b
argument_list|)
block|,
name|OP_MASK
block|,
name|IF1
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"or"
block|,
name|OP
argument_list|(
literal|0x08
argument_list|)
block|,
name|OP_MASK
block|,
name|IF1
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"ori"
block|,
name|OP
argument_list|(
literal|0x34
argument_list|)
block|,
name|OP_MASK
block|,
name|IF6U
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"and"
block|,
name|OP
argument_list|(
literal|0x0a
argument_list|)
block|,
name|OP_MASK
block|,
name|IF1
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"andi"
block|,
name|OP
argument_list|(
literal|0x36
argument_list|)
block|,
name|OP_MASK
block|,
name|IF6U
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"xor"
block|,
name|OP
argument_list|(
literal|0x09
argument_list|)
block|,
name|OP_MASK
block|,
name|IF1
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"xori"
block|,
name|OP
argument_list|(
literal|0x35
argument_list|)
block|,
name|OP_MASK
block|,
name|IF6U
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"not"
block|,
name|OP
argument_list|(
literal|0x01
argument_list|)
block|,
name|OP_MASK
block|,
name|IF1
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"sar"
block|,
name|OP
argument_list|(
literal|0x15
argument_list|)
block|,
name|OP_MASK
block|,
block|{
name|I5U
block|,
name|R2
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"sar"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x00a0
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0xffff
argument_list|)
block|,
block|{
name|R1
block|,
name|R2
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"shl"
block|,
name|OP
argument_list|(
literal|0x16
argument_list|)
block|,
name|OP_MASK
block|,
block|{
name|I5U
block|,
name|R2
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"shl"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x00c0
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0xffff
argument_list|)
block|,
block|{
name|R1
block|,
name|R2
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"shr"
block|,
name|OP
argument_list|(
literal|0x14
argument_list|)
block|,
name|OP_MASK
block|,
block|{
name|I5U
block|,
name|R2
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"shr"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0080
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0xffff
argument_list|)
block|,
block|{
name|R1
block|,
name|R2
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"sasf"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0200
argument_list|)
block|,
name|two
argument_list|(
literal|0x07f0
argument_list|,
literal|0xffff
argument_list|)
block|,
block|{
name|CCCC
block|,
name|R2
block|}
block|,
literal|0
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
comment|/* branch instructions */
comment|/* signed integer */
block|{
literal|"bgt"
block|,
name|BOP
argument_list|(
literal|0xf
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"bge"
block|,
name|BOP
argument_list|(
literal|0xe
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"blt"
block|,
name|BOP
argument_list|(
literal|0x6
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"ble"
block|,
name|BOP
argument_list|(
literal|0x7
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
comment|/* unsigned integer */
block|{
literal|"bh"
block|,
name|BOP
argument_list|(
literal|0xb
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"bnh"
block|,
name|BOP
argument_list|(
literal|0x3
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"bl"
block|,
name|BOP
argument_list|(
literal|0x1
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"bnl"
block|,
name|BOP
argument_list|(
literal|0x9
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
comment|/* common */
block|{
literal|"be"
block|,
name|BOP
argument_list|(
literal|0x2
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"bne"
block|,
name|BOP
argument_list|(
literal|0xa
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
comment|/* others */
block|{
literal|"bv"
block|,
name|BOP
argument_list|(
literal|0x0
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"bnv"
block|,
name|BOP
argument_list|(
literal|0x8
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"bn"
block|,
name|BOP
argument_list|(
literal|0x4
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"bp"
block|,
name|BOP
argument_list|(
literal|0xc
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"bc"
block|,
name|BOP
argument_list|(
literal|0x1
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"bnc"
block|,
name|BOP
argument_list|(
literal|0x9
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"bz"
block|,
name|BOP
argument_list|(
literal|0x2
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"bnz"
block|,
name|BOP
argument_list|(
literal|0xa
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"br"
block|,
name|BOP
argument_list|(
literal|0x5
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"bsa"
block|,
name|BOP
argument_list|(
literal|0xd
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
comment|/* Branch macros.     We use the short form in the opcode/mask fields.  The assembler    will twiddle bits as necessary if the long form is needed.  */
comment|/* signed integer */
block|{
literal|"jgt"
block|,
name|BOP
argument_list|(
literal|0xf
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"jge"
block|,
name|BOP
argument_list|(
literal|0xe
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"jlt"
block|,
name|BOP
argument_list|(
literal|0x6
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"jle"
block|,
name|BOP
argument_list|(
literal|0x7
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
comment|/* unsigned integer */
block|{
literal|"jh"
block|,
name|BOP
argument_list|(
literal|0xb
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"jnh"
block|,
name|BOP
argument_list|(
literal|0x3
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"jl"
block|,
name|BOP
argument_list|(
literal|0x1
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"jnl"
block|,
name|BOP
argument_list|(
literal|0x9
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
comment|/* common */
block|{
literal|"je"
block|,
name|BOP
argument_list|(
literal|0x2
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"jne"
block|,
name|BOP
argument_list|(
literal|0xa
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
comment|/* others */
block|{
literal|"jv"
block|,
name|BOP
argument_list|(
literal|0x0
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"jnv"
block|,
name|BOP
argument_list|(
literal|0x8
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"jn"
block|,
name|BOP
argument_list|(
literal|0x4
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"jp"
block|,
name|BOP
argument_list|(
literal|0xc
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"jc"
block|,
name|BOP
argument_list|(
literal|0x1
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"jnc"
block|,
name|BOP
argument_list|(
literal|0x9
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"jz"
block|,
name|BOP
argument_list|(
literal|0x2
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"jnz"
block|,
name|BOP
argument_list|(
literal|0xa
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"jsa"
block|,
name|BOP
argument_list|(
literal|0xd
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"jbr"
block|,
name|BOP
argument_list|(
literal|0x5
argument_list|)
block|,
name|BOP_MASK
block|,
name|IF3
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"jr"
block|,
name|one
argument_list|(
literal|0x0780
argument_list|)
block|,
name|two
argument_list|(
literal|0xffc0
argument_list|,
literal|0x0001
argument_list|)
block|,
block|{
name|D22
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"jarl"
block|,
name|one
argument_list|(
literal|0x0780
argument_list|)
block|,
name|two
argument_list|(
literal|0x07c0
argument_list|,
literal|0x0001
argument_list|)
block|,
block|{
name|D22
block|,
name|R2
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
comment|/* bit manipulation instructions */
block|{
literal|"set1"
block|,
name|two
argument_list|(
literal|0x07c0
argument_list|,
literal|0x0000
argument_list|)
block|,
name|two
argument_list|(
literal|0xc7e0
argument_list|,
literal|0x0000
argument_list|)
block|,
block|{
name|B3
block|,
name|D16
block|,
name|R1
block|}
block|,
literal|2
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"set1"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x00e0
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0xffff
argument_list|)
block|,
block|{
name|R2
block|,
name|R1
block|}
block|,
literal|2
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"not1"
block|,
name|two
argument_list|(
literal|0x47c0
argument_list|,
literal|0x0000
argument_list|)
block|,
name|two
argument_list|(
literal|0xc7e0
argument_list|,
literal|0x0000
argument_list|)
block|,
block|{
name|B3
block|,
name|D16
block|,
name|R1
block|}
block|,
literal|2
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"not1"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x00e2
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0xffff
argument_list|)
block|,
block|{
name|R2
block|,
name|R1
block|}
block|,
literal|2
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"clr1"
block|,
name|two
argument_list|(
literal|0x87c0
argument_list|,
literal|0x0000
argument_list|)
block|,
name|two
argument_list|(
literal|0xc7e0
argument_list|,
literal|0x0000
argument_list|)
block|,
block|{
name|B3
block|,
name|D16
block|,
name|R1
block|}
block|,
literal|2
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"clr1"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x00e4
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0xffff
argument_list|)
block|,
block|{
name|R2
block|,
name|R1
block|}
block|,
literal|2
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
block|{
literal|"tst1"
block|,
name|two
argument_list|(
literal|0xc7c0
argument_list|,
literal|0x0000
argument_list|)
block|,
name|two
argument_list|(
literal|0xc7e0
argument_list|,
literal|0x0000
argument_list|)
block|,
block|{
name|B3
block|,
name|D16
block|,
name|R1
block|}
block|,
literal|2
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"tst1"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x00e6
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0xffff
argument_list|)
block|,
block|{
name|R2
block|,
name|R1
block|}
block|,
literal|2
block|,
name|PROCESSOR_NOT_V850
block|}
block|,
comment|/* special instructions */
block|{
literal|"di"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0160
argument_list|)
block|,
name|two
argument_list|(
literal|0xffff
argument_list|,
literal|0xffff
argument_list|)
block|,
block|{
literal|0
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"ei"
block|,
name|two
argument_list|(
literal|0x87e0
argument_list|,
literal|0x0160
argument_list|)
block|,
name|two
argument_list|(
literal|0xffff
argument_list|,
literal|0xffff
argument_list|)
block|,
block|{
literal|0
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"halt"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0120
argument_list|)
block|,
name|two
argument_list|(
literal|0xffff
argument_list|,
literal|0xffff
argument_list|)
block|,
block|{
literal|0
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"reti"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0140
argument_list|)
block|,
name|two
argument_list|(
literal|0xffff
argument_list|,
literal|0xffff
argument_list|)
block|,
block|{
literal|0
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"trap"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0100
argument_list|)
block|,
name|two
argument_list|(
literal|0xffe0
argument_list|,
literal|0xffff
argument_list|)
block|,
block|{
name|I5U
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"ldsr"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0020
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0xffff
argument_list|)
block|,
block|{
name|R1
block|,
name|SR2
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|"stsr"
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0x0040
argument_list|)
block|,
name|two
argument_list|(
literal|0x07e0
argument_list|,
literal|0xffff
argument_list|)
block|,
block|{
name|SR1
block|,
name|R2
block|}
block|,
literal|0
block|,
name|PROCESSOR_ALL
block|}
block|,
block|{
literal|0
block|,
literal|0
block|,
literal|0
block|,
block|{
literal|0
block|}
block|,
literal|0
block|,
literal|0
block|}
block|,  }
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|const
name|int
name|v850_num_opcodes
init|=
sizeof|sizeof
argument_list|(
name|v850_opcodes
argument_list|)
operator|/
sizeof|sizeof
argument_list|(
name|v850_opcodes
index|[
literal|0
index|]
argument_list|)
decl_stmt|;
end_decl_stmt

end_unit

