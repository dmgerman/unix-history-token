begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* atob8.c: The opieatob8() library function.  %%% portions-copyright-cmetz-96 Portions of this software are Copyright 1996-1998 by Craig Metz, All Rights Reserved. The Inner Net License Version 2 applies to these portions of the software. You should have received a copy of the license with this software. If you didn't get a copy, you may request one from<license@inner.net>.  Portions of this software are Copyright 1995 by Randall Atkinson and Dan McDonald, All Rights Reserved. All Rights under this copyright are assigned to the U.S. Naval Research Laboratory (NRL). The NRL Copyright Notice and License Agreement applies to this software.          History:  	Modified by cmetz for OPIE 2.3. Return the output variable. 	    Don't check parameters. 	Modified by cmetz for OPIE 2.2. Use FUNCTION declaration et al.             Inlined and obseleted opieskipspace(). Inlined and obseleted             opiehtoi().         Created at NRL for OPIE 2.2 from opiesubr2.c */
end_comment

begin_include
include|#
directive|include
file|"opie_cfg.h"
end_include

begin_include
include|#
directive|include
file|<stdio.h>
end_include

begin_include
include|#
directive|include
file|"opie.h"
end_include

begin_comment
comment|/* Convert 8-byte hex-ascii string to binary array  */
end_comment

begin_decl_stmt
name|char
modifier|*
name|opieatob8
name|FUNCTION
argument_list|(
operator|(
name|out
operator|,
name|in
operator|)
argument_list|,
name|char
operator|*
name|out
name|AND
name|char
operator|*
name|in
argument_list|)
block|{
specifier|register
name|int
name|i
decl_stmt|;
specifier|register
name|int
name|val
decl_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
literal|8
condition|;
name|i
operator|++
control|)
block|{
while|while
condition|(
operator|*
name|in
operator|==
literal|' '
operator|||
operator|*
name|in
operator|==
literal|'\t'
condition|)
name|in
operator|++
expr_stmt|;
if|if
condition|(
operator|!
operator|*
name|in
condition|)
return|return
name|NULL
return|;
if|if
condition|(
operator|(
operator|*
name|in
operator|>=
literal|'0'
operator|)
operator|&&
operator|(
operator|*
name|in
operator|<=
literal|'9'
operator|)
condition|)
name|val
operator|=
operator|*
operator|(
name|in
operator|++
operator|)
operator|-
literal|'0'
expr_stmt|;
elseif|else
if|if
condition|(
operator|(
operator|*
name|in
operator|>=
literal|'a'
operator|)
operator|&&
operator|(
operator|*
name|in
operator|<=
literal|'f'
operator|)
condition|)
name|val
operator|=
operator|*
operator|(
name|in
operator|++
operator|)
operator|-
literal|'a'
operator|+
literal|10
expr_stmt|;
elseif|else
if|if
condition|(
operator|(
operator|*
name|in
operator|>=
literal|'A'
operator|)
operator|&&
operator|(
operator|*
name|in
operator|<=
literal|'F'
operator|)
condition|)
name|val
operator|=
operator|*
operator|(
name|in
operator|++
operator|)
operator|-
literal|'A'
operator|+
literal|10
expr_stmt|;
else|else
return|return
name|NULL
return|;
operator|*
name|out
operator|=
name|val
operator|<<
literal|4
expr_stmt|;
while|while
condition|(
operator|*
name|in
operator|==
literal|' '
operator|||
operator|*
name|in
operator|==
literal|'\t'
condition|)
name|in
operator|++
expr_stmt|;
if|if
condition|(
operator|!
operator|*
name|in
condition|)
return|return
name|NULL
return|;
if|if
condition|(
operator|(
operator|*
name|in
operator|>=
literal|'0'
operator|)
operator|&&
operator|(
operator|*
name|in
operator|<=
literal|'9'
operator|)
condition|)
name|val
operator|=
operator|*
operator|(
name|in
operator|++
operator|)
operator|-
literal|'0'
expr_stmt|;
elseif|else
if|if
condition|(
operator|(
operator|*
name|in
operator|>=
literal|'a'
operator|)
operator|&&
operator|(
operator|*
name|in
operator|<=
literal|'f'
operator|)
condition|)
name|val
operator|=
operator|*
operator|(
name|in
operator|++
operator|)
operator|-
literal|'a'
operator|+
literal|10
expr_stmt|;
elseif|else
if|if
condition|(
operator|(
operator|*
name|in
operator|>=
literal|'A'
operator|)
operator|&&
operator|(
operator|*
name|in
operator|<=
literal|'F'
operator|)
condition|)
name|val
operator|=
operator|*
operator|(
name|in
operator|++
operator|)
operator|-
literal|'A'
operator|+
literal|10
expr_stmt|;
else|else
return|return
name|NULL
return|;
operator|*
name|out
operator|++
operator||=
name|val
expr_stmt|;
block|}
return|return
name|out
return|;
block|}
end_decl_stmt

end_unit

