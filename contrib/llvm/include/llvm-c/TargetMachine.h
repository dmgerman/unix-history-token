begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*===-- llvm-c/TargetMachine.h - Target Machine Library C Interface - C++ -*-=*\ |*                                                                            *| |*                     The LLVM Compiler Infrastructure                       *| |*                                                                            *| |* This file is distributed under the University of Illinois Open Source      *| |* License. See LICENSE.TXT for details.                                      *| |*                                                                            *| |*===----------------------------------------------------------------------===*| |*                                                                            *| |* This header declares the C interface to the Target and TargetMachine       *| |* classes, which can be used to generate assembly or object files.           *| |*                                                                            *| |* Many exotic languages can interoperate with C code but have a harder time  *| |* with C++ due to name mangling. So in addition to C, this interface enables *| |* tools written in such languages.                                           *| |*                                                                            *| \*===----------------------------------------------------------------------===*/
end_comment

begin_ifndef
ifndef|#
directive|ifndef
name|LLVM_C_TARGETMACHINE_H
end_ifndef

begin_define
define|#
directive|define
name|LLVM_C_TARGETMACHINE_H
end_define

begin_include
include|#
directive|include
file|"llvm-c/Target.h"
end_include

begin_include
include|#
directive|include
file|"llvm-c/Types.h"
end_include

begin_ifdef
ifdef|#
directive|ifdef
name|__cplusplus
end_ifdef

begin_extern
extern|extern
literal|"C"
block|{
endif|#
directive|endif
typedef|typedef
name|struct
name|LLVMOpaqueTargetMachine
modifier|*
name|LLVMTargetMachineRef
typedef|;
typedef|typedef
name|struct
name|LLVMTarget
modifier|*
name|LLVMTargetRef
typedef|;
typedef|typedef
enum|enum
block|{
name|LLVMCodeGenLevelNone
block|,
name|LLVMCodeGenLevelLess
block|,
name|LLVMCodeGenLevelDefault
block|,
name|LLVMCodeGenLevelAggressive
block|}
name|LLVMCodeGenOptLevel
typedef|;
typedef|typedef
enum|enum
block|{
name|LLVMRelocDefault
block|,
name|LLVMRelocStatic
block|,
name|LLVMRelocPIC
block|,
name|LLVMRelocDynamicNoPic
block|}
name|LLVMRelocMode
typedef|;
typedef|typedef
enum|enum
block|{
name|LLVMCodeModelDefault
block|,
name|LLVMCodeModelJITDefault
block|,
name|LLVMCodeModelSmall
block|,
name|LLVMCodeModelKernel
block|,
name|LLVMCodeModelMedium
block|,
name|LLVMCodeModelLarge
block|}
name|LLVMCodeModel
typedef|;
typedef|typedef
enum|enum
block|{
name|LLVMAssemblyFile
block|,
name|LLVMObjectFile
block|}
name|LLVMCodeGenFileType
typedef|;
comment|/** Returns the first llvm::Target in the registered targets list. */
name|LLVMTargetRef
name|LLVMGetFirstTarget
parameter_list|(
name|void
parameter_list|)
function_decl|;
comment|/** Returns the next llvm::Target given a previous one (or null if there's none) */
name|LLVMTargetRef
name|LLVMGetNextTarget
parameter_list|(
name|LLVMTargetRef
name|T
parameter_list|)
function_decl|;
comment|/*===-- Target ------------------------------------------------------------===*/
comment|/** Finds the target corresponding to the given name and stores it in \p T.   Returns 0 on success. */
name|LLVMTargetRef
name|LLVMGetTargetFromName
parameter_list|(
specifier|const
name|char
modifier|*
name|Name
parameter_list|)
function_decl|;
comment|/** Finds the target corresponding to the given triple and stores it in \p T.   Returns 0 on success. Optionally returns any error in ErrorMessage.   Use LLVMDisposeMessage to dispose the message. */
name|LLVMBool
name|LLVMGetTargetFromTriple
parameter_list|(
specifier|const
name|char
modifier|*
name|Triple
parameter_list|,
name|LLVMTargetRef
modifier|*
name|T
parameter_list|,
name|char
modifier|*
modifier|*
name|ErrorMessage
parameter_list|)
function_decl|;
comment|/** Returns the name of a target. See llvm::Target::getName */
specifier|const
name|char
modifier|*
name|LLVMGetTargetName
parameter_list|(
name|LLVMTargetRef
name|T
parameter_list|)
function_decl|;
comment|/** Returns the description  of a target. See llvm::Target::getDescription */
specifier|const
name|char
modifier|*
name|LLVMGetTargetDescription
parameter_list|(
name|LLVMTargetRef
name|T
parameter_list|)
function_decl|;
comment|/** Returns if the target has a JIT */
name|LLVMBool
name|LLVMTargetHasJIT
parameter_list|(
name|LLVMTargetRef
name|T
parameter_list|)
function_decl|;
comment|/** Returns if the target has a TargetMachine associated */
name|LLVMBool
name|LLVMTargetHasTargetMachine
parameter_list|(
name|LLVMTargetRef
name|T
parameter_list|)
function_decl|;
comment|/** Returns if the target as an ASM backend (required for emitting output) */
name|LLVMBool
name|LLVMTargetHasAsmBackend
parameter_list|(
name|LLVMTargetRef
name|T
parameter_list|)
function_decl|;
comment|/*===-- Target Machine ----------------------------------------------------===*/
comment|/** Creates a new llvm::TargetMachine. See llvm::Target::createTargetMachine */
name|LLVMTargetMachineRef
name|LLVMCreateTargetMachine
parameter_list|(
name|LLVMTargetRef
name|T
parameter_list|,
specifier|const
name|char
modifier|*
name|Triple
parameter_list|,
specifier|const
name|char
modifier|*
name|CPU
parameter_list|,
specifier|const
name|char
modifier|*
name|Features
parameter_list|,
name|LLVMCodeGenOptLevel
name|Level
parameter_list|,
name|LLVMRelocMode
name|Reloc
parameter_list|,
name|LLVMCodeModel
name|CodeModel
parameter_list|)
function_decl|;
comment|/** Dispose the LLVMTargetMachineRef instance generated by   LLVMCreateTargetMachine. */
name|void
name|LLVMDisposeTargetMachine
parameter_list|(
name|LLVMTargetMachineRef
name|T
parameter_list|)
function_decl|;
comment|/** Returns the Target used in a TargetMachine */
name|LLVMTargetRef
name|LLVMGetTargetMachineTarget
parameter_list|(
name|LLVMTargetMachineRef
name|T
parameter_list|)
function_decl|;
comment|/** Returns the triple used creating this target machine. See   llvm::TargetMachine::getTriple. The result needs to be disposed with   LLVMDisposeMessage. */
name|char
modifier|*
name|LLVMGetTargetMachineTriple
parameter_list|(
name|LLVMTargetMachineRef
name|T
parameter_list|)
function_decl|;
comment|/** Returns the cpu used creating this target machine. See   llvm::TargetMachine::getCPU. The result needs to be disposed with   LLVMDisposeMessage. */
name|char
modifier|*
name|LLVMGetTargetMachineCPU
parameter_list|(
name|LLVMTargetMachineRef
name|T
parameter_list|)
function_decl|;
comment|/** Returns the feature string used creating this target machine. See   llvm::TargetMachine::getFeatureString. The result needs to be disposed with   LLVMDisposeMessage. */
name|char
modifier|*
name|LLVMGetTargetMachineFeatureString
parameter_list|(
name|LLVMTargetMachineRef
name|T
parameter_list|)
function_decl|;
comment|/** Create a DataLayout based on the targetMachine. */
name|LLVMTargetDataRef
name|LLVMCreateTargetDataLayout
parameter_list|(
name|LLVMTargetMachineRef
name|T
parameter_list|)
function_decl|;
comment|/** Set the target machine's ASM verbosity. */
name|void
name|LLVMSetTargetMachineAsmVerbosity
parameter_list|(
name|LLVMTargetMachineRef
name|T
parameter_list|,
name|LLVMBool
name|VerboseAsm
parameter_list|)
function_decl|;
comment|/** Emits an asm or object file for the given module to the filename. This   wraps several c++ only classes (among them a file stream). Returns any   error in ErrorMessage. Use LLVMDisposeMessage to dispose the message. */
name|LLVMBool
name|LLVMTargetMachineEmitToFile
parameter_list|(
name|LLVMTargetMachineRef
name|T
parameter_list|,
name|LLVMModuleRef
name|M
parameter_list|,
name|char
modifier|*
name|Filename
parameter_list|,
name|LLVMCodeGenFileType
name|codegen
parameter_list|,
name|char
modifier|*
modifier|*
name|ErrorMessage
parameter_list|)
function_decl|;
comment|/** Compile the LLVM IR stored in \p M and store the result in \p OutMemBuf. */
name|LLVMBool
name|LLVMTargetMachineEmitToMemoryBuffer
parameter_list|(
name|LLVMTargetMachineRef
name|T
parameter_list|,
name|LLVMModuleRef
name|M
parameter_list|,
name|LLVMCodeGenFileType
name|codegen
parameter_list|,
name|char
modifier|*
modifier|*
name|ErrorMessage
parameter_list|,
name|LLVMMemoryBufferRef
modifier|*
name|OutMemBuf
parameter_list|)
function_decl|;
comment|/*===-- Triple ------------------------------------------------------------===*/
comment|/** Get a triple for the host machine as a string. The result needs to be   disposed with LLVMDisposeMessage. */
name|char
modifier|*
name|LLVMGetDefaultTargetTriple
parameter_list|(
name|void
parameter_list|)
function_decl|;
comment|/** Adds the target-specific analysis passes to the pass manager. */
name|void
name|LLVMAddAnalysisPasses
parameter_list|(
name|LLVMTargetMachineRef
name|T
parameter_list|,
name|LLVMPassManagerRef
name|PM
parameter_list|)
function_decl|;
ifdef|#
directive|ifdef
name|__cplusplus
block|}
end_extern

begin_endif
endif|#
directive|endif
end_endif

begin_endif
endif|#
directive|endif
end_endif

end_unit

