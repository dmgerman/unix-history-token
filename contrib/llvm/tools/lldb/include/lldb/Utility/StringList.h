begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|//===-- StringList.h --------------------------------------------*- C++ -*-===//
end_comment

begin_comment
comment|//
end_comment

begin_comment
comment|//                     The LLVM Compiler Infrastructure
end_comment

begin_comment
comment|//
end_comment

begin_comment
comment|// This file is distributed under the University of Illinois Open Source
end_comment

begin_comment
comment|// License. See LICENSE.TXT for details.
end_comment

begin_comment
comment|//
end_comment

begin_comment
comment|//===----------------------------------------------------------------------===//
end_comment

begin_ifndef
ifndef|#
directive|ifndef
name|liblldb_StringList_h_
end_ifndef

begin_define
define|#
directive|define
name|liblldb_StringList_h_
end_define

begin_include
include|#
directive|include
file|"llvm/ADT/StringRef.h"
end_include

begin_include
include|#
directive|include
file|<stddef.h>
end_include

begin_comment
comment|// for size_t
end_comment

begin_include
include|#
directive|include
file|<string>
end_include

begin_include
include|#
directive|include
file|<vector>
end_include

begin_decl_stmt
name|namespace
name|lldb_private
block|{
name|class
name|Log
decl_stmt|;
block|}
end_decl_stmt

begin_decl_stmt
name|namespace
name|lldb_private
block|{
name|class
name|Stream
decl_stmt|;
block|}
end_decl_stmt

begin_decl_stmt
name|namespace
name|lldb_private
block|{
name|class
name|StringList
block|{
name|public
label|:
name|StringList
argument_list|()
expr_stmt|;
name|StringList
argument_list|(
specifier|const
name|char
operator|*
name|str
argument_list|)
expr_stmt|;
name|StringList
argument_list|(
argument|const char **strv
argument_list|,
argument|int strc
argument_list|)
empty_stmt|;
name|virtual
operator|~
name|StringList
argument_list|()
expr_stmt|;
name|void
name|AppendString
argument_list|(
specifier|const
name|std
operator|::
name|string
operator|&
name|s
argument_list|)
decl_stmt|;
name|void
name|AppendString
argument_list|(
name|std
operator|::
name|string
operator|&&
name|s
argument_list|)
decl_stmt|;
name|void
name|AppendString
parameter_list|(
specifier|const
name|char
modifier|*
name|str
parameter_list|)
function_decl|;
name|void
name|AppendString
parameter_list|(
specifier|const
name|char
modifier|*
name|str
parameter_list|,
name|size_t
name|str_len
parameter_list|)
function_decl|;
name|void
name|AppendString
argument_list|(
name|llvm
operator|::
name|StringRef
name|str
argument_list|)
decl_stmt|;
name|void
name|AppendList
parameter_list|(
specifier|const
name|char
modifier|*
modifier|*
name|strv
parameter_list|,
name|int
name|strc
parameter_list|)
function_decl|;
name|void
name|AppendList
parameter_list|(
name|StringList
name|strings
parameter_list|)
function_decl|;
name|size_t
name|GetSize
argument_list|()
specifier|const
expr_stmt|;
name|void
name|SetSize
parameter_list|(
name|size_t
name|n
parameter_list|)
block|{
name|m_strings
operator|.
name|resize
argument_list|(
name|n
argument_list|)
expr_stmt|;
block|}
name|size_t
name|GetMaxStringLength
argument_list|()
specifier|const
expr_stmt|;
name|std
operator|::
name|string
operator|&
name|operator
index|[]
operator|(
name|size_t
name|idx
operator|)
block|{
comment|// No bounds checking, verify "idx" is good prior to calling this function
return|return
name|m_strings
index|[
name|idx
index|]
return|;
block|}
specifier|const
name|std
operator|::
name|string
operator|&
name|operator
index|[]
operator|(
name|size_t
name|idx
operator|)
specifier|const
block|{
comment|// No bounds checking, verify "idx" is good prior to calling this function
return|return
name|m_strings
index|[
name|idx
index|]
return|;
block|}
name|void
name|PopBack
parameter_list|()
block|{
name|m_strings
operator|.
name|pop_back
argument_list|()
expr_stmt|;
block|}
specifier|const
name|char
modifier|*
name|GetStringAtIndex
argument_list|(
name|size_t
name|idx
argument_list|)
decl|const
decl_stmt|;
name|void
name|Join
parameter_list|(
specifier|const
name|char
modifier|*
name|separator
parameter_list|,
name|Stream
modifier|&
name|strm
parameter_list|)
function_decl|;
name|void
name|Clear
parameter_list|()
function_decl|;
name|void
name|LongestCommonPrefix
argument_list|(
name|std
operator|::
name|string
operator|&
name|common_prefix
argument_list|)
decl_stmt|;
name|void
name|InsertStringAtIndex
argument_list|(
name|size_t
name|idx
argument_list|,
specifier|const
name|std
operator|::
name|string
operator|&
name|str
argument_list|)
decl_stmt|;
name|void
name|InsertStringAtIndex
argument_list|(
name|size_t
name|idx
argument_list|,
name|std
operator|::
name|string
operator|&&
name|str
argument_list|)
decl_stmt|;
name|void
name|InsertStringAtIndex
parameter_list|(
name|size_t
name|id
parameter_list|,
specifier|const
name|char
modifier|*
name|str
parameter_list|)
function_decl|;
name|void
name|DeleteStringAtIndex
parameter_list|(
name|size_t
name|id
parameter_list|)
function_decl|;
name|void
name|RemoveBlankLines
parameter_list|()
function_decl|;
name|size_t
name|SplitIntoLines
argument_list|(
specifier|const
name|std
operator|::
name|string
operator|&
name|lines
argument_list|)
decl_stmt|;
name|size_t
name|SplitIntoLines
parameter_list|(
specifier|const
name|char
modifier|*
name|lines
parameter_list|,
name|size_t
name|len
parameter_list|)
function_decl|;
name|std
operator|::
name|string
name|CopyList
argument_list|(
argument|const char *item_preamble = nullptr
argument_list|,
argument|const char *items_sep =
literal|"\n"
argument_list|)
specifier|const
expr_stmt|;
name|StringList
operator|&
name|operator
operator|<<
operator|(
specifier|const
name|char
operator|*
name|str
operator|)
expr_stmt|;
name|StringList
operator|&
name|operator
operator|<<
operator|(
specifier|const
name|std
operator|::
name|string
operator|&
name|s
operator|)
expr_stmt|;
name|StringList
operator|&
name|operator
operator|<<
operator|(
name|StringList
name|strings
operator|)
expr_stmt|;
comment|// Copy assignment for a vector of strings
name|StringList
modifier|&
name|operator
init|=
operator|(
specifier|const
name|std
operator|::
name|vector
operator|<
name|std
operator|::
name|string
operator|>
operator|&
name|rhs
operator|)
decl_stmt|;
comment|// This string list contains a list of valid auto completion
comment|// strings, and the "s" is passed in. "matches" is filled in
comment|// with zero or more string values that start with "s", and
comment|// the first string to exactly match one of the string
comment|// values in this collection, will have "exact_matches_idx"
comment|// filled in to match the index, or "exact_matches_idx" will
comment|// have SIZE_MAX
name|size_t
name|AutoComplete
argument_list|(
name|llvm
operator|::
name|StringRef
name|s
argument_list|,
name|StringList
operator|&
name|matches
argument_list|,
name|size_t
operator|&
name|exact_matches_idx
argument_list|)
decl|const
decl_stmt|;
comment|// Dump the StringList to the given lldb_private::Log, `log`, one item per
comment|// line.
comment|// If given, `name` will be used to identify the start and end of the list in
comment|// the output.
name|virtual
name|void
name|LogDump
parameter_list|(
name|Log
modifier|*
name|log
parameter_list|,
specifier|const
name|char
modifier|*
name|name
init|=
name|nullptr
parameter_list|)
function_decl|;
comment|// Static helper to convert an iterable of strings to a StringList, and then
comment|// dump it with the semantics of the `LogDump` method.
name|template
operator|<
name|typename
name|T
operator|>
specifier|static
name|void
name|LogDump
argument_list|(
argument|Log *log
argument_list|,
argument|T s_iterable
argument_list|,
argument|const char *name = nullptr
argument_list|)
block|{
if|if
condition|(
operator|!
name|log
condition|)
return|return;
comment|// Make a copy of the iterable as a StringList
name|StringList
name|l
block|{}
expr_stmt|;
for|for
control|(
specifier|const
specifier|auto
modifier|&
name|s
range|:
name|s_iterable
control|)
name|l
operator|<<
name|s
expr_stmt|;
name|l
operator|.
name|LogDump
argument_list|(
name|log
argument_list|,
name|name
argument_list|)
expr_stmt|;
block|}
name|private
label|:
name|std
operator|::
name|vector
operator|<
name|std
operator|::
name|string
operator|>
name|m_strings
expr_stmt|;
block|}
end_decl_stmt

begin_empty_stmt
empty_stmt|;
end_empty_stmt

begin_comment
unit|}
comment|// namespace lldb_private
end_comment

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|// liblldb_StringList_h_
end_comment

end_unit

