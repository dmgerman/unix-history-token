begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|//===-- RenderScriptRuntime.h -----------------------------------*- C++ -*-===//
end_comment

begin_comment
comment|//
end_comment

begin_comment
comment|//                     The LLVM Compiler Infrastructure
end_comment

begin_comment
comment|//
end_comment

begin_comment
comment|// This file is distributed under the University of Illinois Open Source
end_comment

begin_comment
comment|// License. See LICENSE.TXT for details.
end_comment

begin_comment
comment|//
end_comment

begin_comment
comment|//===----------------------------------------------------------------------===//
end_comment

begin_ifndef
ifndef|#
directive|ifndef
name|liblldb_RenderScriptRuntime_h_
end_ifndef

begin_define
define|#
directive|define
name|liblldb_RenderScriptRuntime_h_
end_define

begin_comment
comment|// C Includes
end_comment

begin_comment
comment|// C++ Includes
end_comment

begin_include
include|#
directive|include
file|<array>
end_include

begin_include
include|#
directive|include
file|<map>
end_include

begin_include
include|#
directive|include
file|<memory>
end_include

begin_include
include|#
directive|include
file|<string>
end_include

begin_include
include|#
directive|include
file|<vector>
end_include

begin_comment
comment|// Other libraries and framework includes
end_comment

begin_comment
comment|// Project includes
end_comment

begin_include
include|#
directive|include
file|"lldb/lldb-private.h"
end_include

begin_include
include|#
directive|include
file|"lldb/Target/LanguageRuntime.h"
end_include

begin_include
include|#
directive|include
file|"lldb/Target/CPPLanguageRuntime.h"
end_include

begin_include
include|#
directive|include
file|"lldb/Core/Module.h"
end_include

begin_decl_stmt
name|namespace
name|lldb_private
block|{
name|namespace
name|lldb_renderscript
block|{
typedef|typedef
name|uint32_t
name|RSSlot
typedef|;
name|class
name|RSModuleDescriptor
decl_stmt|;
struct_decl|struct
name|RSGlobalDescriptor
struct_decl|;
struct_decl|struct
name|RSKernelDescriptor
struct_decl|;
typedef|typedef
name|std
operator|::
name|shared_ptr
operator|<
name|RSModuleDescriptor
operator|>
name|RSModuleDescriptorSP
expr_stmt|;
typedef|typedef
name|std
operator|::
name|shared_ptr
operator|<
name|RSGlobalDescriptor
operator|>
name|RSGlobalDescriptorSP
expr_stmt|;
typedef|typedef
name|std
operator|::
name|shared_ptr
operator|<
name|RSKernelDescriptor
operator|>
name|RSKernelDescriptorSP
expr_stmt|;
comment|// Breakpoint Resolvers decide where a breakpoint is placed,
comment|// so having our own allows us to limit the search scope to RS kernel modules.
comment|// As well as check for .expand kernels as a fallback.
name|class
name|RSBreakpointResolver
range|:
name|public
name|BreakpointResolver
block|{
name|public
operator|:
name|RSBreakpointResolver
argument_list|(
argument|Breakpoint *bkpt
argument_list|,
argument|ConstString name
argument_list|)
operator|:
name|BreakpointResolver
argument_list|(
name|bkpt
argument_list|,
name|BreakpointResolver
operator|::
name|NameResolver
argument_list|)
block|,
name|m_kernel_name
argument_list|(
argument|name
argument_list|)
block|{     }
name|void
name|GetDescription
argument_list|(
argument|Stream *strm
argument_list|)
name|override
block|{
if|if
condition|(
name|strm
condition|)
name|strm
operator|->
name|Printf
argument_list|(
literal|"RenderScript kernel breakpoint for '%s'"
argument_list|,
name|m_kernel_name
operator|.
name|AsCString
argument_list|()
argument_list|)
expr_stmt|;
block|}
name|void
name|Dump
argument_list|(
argument|Stream *s
argument_list|)
specifier|const
name|override
block|{     }
name|Searcher
operator|::
name|CallbackReturn
name|SearchCallback
argument_list|(
argument|SearchFilter&filter
argument_list|,
argument|SymbolContext&context
argument_list|,
argument|Address *addr
argument_list|,
argument|bool containing
argument_list|)
name|override
block|;
name|Searcher
operator|::
name|Depth
name|GetDepth
argument_list|()
name|override
block|{
return|return
name|Searcher
operator|::
name|eDepthModule
return|;
block|}
name|lldb
operator|::
name|BreakpointResolverSP
name|CopyForBreakpoint
argument_list|(
argument|Breakpoint&breakpoint
argument_list|)
name|override
block|{
name|lldb
operator|::
name|BreakpointResolverSP
name|ret_sp
argument_list|(
argument|new RSBreakpointResolver(&breakpoint, m_kernel_name)
argument_list|)
block|;
return|return
name|ret_sp
return|;
block|}
name|protected
operator|:
name|ConstString
name|m_kernel_name
block|; }
decl_stmt|;
struct|struct
name|RSKernelDescriptor
block|{
name|public
label|:
name|RSKernelDescriptor
argument_list|(
argument|const RSModuleDescriptor *module
argument_list|,
argument|const char *name
argument_list|,
argument|uint32_t slot
argument_list|)
block|:
name|m_module
argument_list|(
name|module
argument_list|)
operator|,
name|m_name
argument_list|(
name|name
argument_list|)
operator|,
name|m_slot
argument_list|(
argument|slot
argument_list|)
block|{     }
name|void
name|Dump
argument_list|(
argument|Stream&strm
argument_list|)
specifier|const
expr_stmt|;
specifier|const
name|RSModuleDescriptor
modifier|*
name|m_module
decl_stmt|;
name|ConstString
name|m_name
decl_stmt|;
name|RSSlot
name|m_slot
decl_stmt|;
block|}
struct|;
struct|struct
name|RSGlobalDescriptor
block|{
name|public
label|:
name|RSGlobalDescriptor
argument_list|(
specifier|const
name|RSModuleDescriptor
operator|*
name|module
argument_list|,
specifier|const
name|char
operator|*
name|name
argument_list|)
operator|:
name|m_module
argument_list|(
name|module
argument_list|)
operator|,
name|m_name
argument_list|(
argument|name
argument_list|)
block|{     }
name|void
name|Dump
argument_list|(
argument|Stream&strm
argument_list|)
specifier|const
expr_stmt|;
specifier|const
name|RSModuleDescriptor
modifier|*
name|m_module
decl_stmt|;
name|ConstString
name|m_name
decl_stmt|;
block|}
struct|;
name|class
name|RSModuleDescriptor
block|{
name|public
label|:
name|RSModuleDescriptor
argument_list|(
specifier|const
name|lldb
operator|::
name|ModuleSP
operator|&
name|module
argument_list|)
operator|:
name|m_module
argument_list|(
argument|module
argument_list|)
block|{     }
operator|~
name|RSModuleDescriptor
argument_list|()
operator|=
expr|default
expr_stmt|;
name|bool
name|ParseRSInfo
parameter_list|()
function_decl|;
name|void
name|Dump
argument_list|(
name|Stream
operator|&
name|strm
argument_list|)
decl|const
decl_stmt|;
specifier|const
name|lldb
operator|::
name|ModuleSP
name|m_module
expr_stmt|;
name|std
operator|::
name|vector
operator|<
name|RSKernelDescriptor
operator|>
name|m_kernels
expr_stmt|;
name|std
operator|::
name|vector
operator|<
name|RSGlobalDescriptor
operator|>
name|m_globals
expr_stmt|;
name|std
operator|::
name|map
operator|<
name|std
operator|::
name|string
operator|,
name|std
operator|::
name|string
operator|>
name|m_pragmas
expr_stmt|;
name|std
operator|::
name|string
name|m_resname
expr_stmt|;
block|}
empty_stmt|;
block|}
comment|// namespace lldb_renderscript
name|class
name|RenderScriptRuntime
range|:
name|public
name|lldb_private
operator|::
name|CPPLanguageRuntime
block|{
name|public
operator|:
expr|enum
name|ModuleKind
block|{
name|eModuleKindIgnored
block|,
name|eModuleKindLibRS
block|,
name|eModuleKindDriver
block|,
name|eModuleKindImpl
block|,
name|eModuleKindKernelObj
block|}
block|;
operator|~
name|RenderScriptRuntime
argument_list|()
name|override
block|;
comment|//------------------------------------------------------------------
comment|// Static Functions
comment|//------------------------------------------------------------------
specifier|static
name|void
name|Initialize
argument_list|()
block|;
specifier|static
name|void
name|Terminate
argument_list|()
block|;
specifier|static
name|lldb_private
operator|::
name|LanguageRuntime
operator|*
name|CreateInstance
argument_list|(
argument|Process *process
argument_list|,
argument|lldb::LanguageType language
argument_list|)
block|;
specifier|static
name|lldb
operator|::
name|CommandObjectSP
name|GetCommandObject
argument_list|(
name|CommandInterpreter
operator|&
name|interpreter
argument_list|)
block|;
specifier|static
name|lldb_private
operator|::
name|ConstString
name|GetPluginNameStatic
argument_list|()
block|;
specifier|static
name|bool
name|IsRenderScriptModule
argument_list|(
specifier|const
name|lldb
operator|::
name|ModuleSP
operator|&
name|module_sp
argument_list|)
block|;
specifier|static
name|ModuleKind
name|GetModuleKind
argument_list|(
specifier|const
name|lldb
operator|::
name|ModuleSP
operator|&
name|module_sp
argument_list|)
block|;
specifier|static
name|void
name|ModulesDidLoad
argument_list|(
specifier|const
name|lldb
operator|::
name|ProcessSP
operator|&
name|process_sp
argument_list|,
specifier|const
name|ModuleList
operator|&
name|module_list
argument_list|)
block|;
name|bool
name|IsVTableName
argument_list|(
argument|const char *name
argument_list|)
name|override
block|;
name|bool
name|GetDynamicTypeAndAddress
argument_list|(
argument|ValueObject&in_value
argument_list|,
argument|lldb::DynamicValueType use_dynamic
argument_list|,
argument|TypeAndOrName&class_type_or_name
argument_list|,
argument|Address&address
argument_list|,
argument|Value::ValueType&value_type
argument_list|)
name|override
block|;
name|TypeAndOrName
name|FixUpDynamicType
argument_list|(
argument|const TypeAndOrName& type_and_or_name
argument_list|,
argument|ValueObject& static_value
argument_list|)
name|override
block|;
name|bool
name|CouldHaveDynamicValue
argument_list|(
argument|ValueObject&in_value
argument_list|)
name|override
block|;
name|lldb
operator|::
name|BreakpointResolverSP
name|CreateExceptionResolver
argument_list|(
argument|Breakpoint *bkpt
argument_list|,
argument|bool catch_bp
argument_list|,
argument|bool throw_bp
argument_list|)
name|override
block|;
name|bool
name|LoadModule
argument_list|(
specifier|const
name|lldb
operator|::
name|ModuleSP
operator|&
name|module_sp
argument_list|)
block|;
name|bool
name|ProbeModules
argument_list|(
argument|const ModuleList module_list
argument_list|)
block|;
name|void
name|DumpModules
argument_list|(
argument|Stream&strm
argument_list|)
specifier|const
block|;
name|void
name|DumpContexts
argument_list|(
argument|Stream&strm
argument_list|)
specifier|const
block|;
name|void
name|DumpKernels
argument_list|(
argument|Stream&strm
argument_list|)
specifier|const
block|;
name|bool
name|DumpAllocation
argument_list|(
argument|Stream&strm
argument_list|,
argument|StackFrame* frame_ptr
argument_list|,
argument|const uint32_t id
argument_list|)
block|;
name|void
name|ListAllocations
argument_list|(
argument|Stream&strm
argument_list|,
argument|StackFrame* frame_ptr
argument_list|,
argument|bool recompute
argument_list|)
block|;
name|void
name|PlaceBreakpointOnKernel
argument_list|(
argument|Stream&strm
argument_list|,
argument|const char *name
argument_list|,
argument|const std::array<int
argument_list|,
literal|3
argument|> coords
argument_list|,
argument|Error&error
argument_list|,
argument|lldb::TargetSP target
argument_list|)
block|;
name|void
name|SetBreakAllKernels
argument_list|(
argument|bool do_break
argument_list|,
argument|lldb::TargetSP target
argument_list|)
block|;
name|void
name|Status
argument_list|(
argument|Stream&strm
argument_list|)
specifier|const
block|;
name|void
name|ModulesDidLoad
argument_list|(
argument|const ModuleList&module_list
argument_list|)
name|override
block|;
name|bool
name|LoadAllocation
argument_list|(
argument|Stream&strm
argument_list|,
argument|const uint32_t alloc_id
argument_list|,
argument|const char* filename
argument_list|,
argument|StackFrame* frame_ptr
argument_list|)
block|;
name|bool
name|SaveAllocation
argument_list|(
argument|Stream&strm
argument_list|,
argument|const uint32_t alloc_id
argument_list|,
argument|const char* filename
argument_list|,
argument|StackFrame* frame_ptr
argument_list|)
block|;
name|void
name|Update
argument_list|()
block|;
name|void
name|Initiate
argument_list|()
block|;
comment|//------------------------------------------------------------------
comment|// PluginInterface protocol
comment|//------------------------------------------------------------------
name|lldb_private
operator|::
name|ConstString
name|GetPluginName
argument_list|()
name|override
block|;
name|uint32_t
name|GetPluginVersion
argument_list|()
name|override
block|;
name|protected
operator|:
expr|struct
name|ScriptDetails
block|;     struct
name|AllocationDetails
block|;     struct
name|Element
block|;
name|void
name|InitSearchFilter
argument_list|(
argument|lldb::TargetSP target
argument_list|)
block|{
if|if
condition|(
operator|!
name|m_filtersp
condition|)
name|m_filtersp
operator|.
name|reset
argument_list|(
argument|new SearchFilterForUnconstrainedSearches(target)
argument_list|)
expr_stmt|;
block|}
name|void
name|FixupScriptDetails
argument_list|(
argument|lldb_renderscript::RSModuleDescriptorSP rsmodule_sp
argument_list|)
block|;
name|void
name|LoadRuntimeHooks
argument_list|(
argument|lldb::ModuleSP module
argument_list|,
argument|ModuleKind kind
argument_list|)
block|;
name|bool
name|RefreshAllocation
argument_list|(
name|AllocationDetails
operator|*
name|allocation
argument_list|,
name|StackFrame
operator|*
name|frame_ptr
argument_list|)
block|;
name|bool
name|EvalRSExpression
argument_list|(
specifier|const
name|char
operator|*
name|expression
argument_list|,
name|StackFrame
operator|*
name|frame_ptr
argument_list|,
name|uint64_t
operator|*
name|result
argument_list|)
block|;
name|lldb
operator|::
name|BreakpointSP
name|CreateKernelBreakpoint
argument_list|(
specifier|const
name|ConstString
operator|&
name|name
argument_list|)
block|;
name|void
name|BreakOnModuleKernels
argument_list|(
argument|const lldb_renderscript::RSModuleDescriptorSP rsmodule_sp
argument_list|)
block|;          struct
name|RuntimeHook
block|;
typedef|typedef
name|void
argument_list|(
name|RenderScriptRuntime
operator|::
operator|*
name|CaptureStateFn
argument_list|)
argument_list|(
name|RuntimeHook
operator|*
name|hook_info
argument_list|,
name|ExecutionContext
operator|&
name|context
argument_list|)
expr_stmt|;
comment|// Please do this!
block|struct
name|HookDefn
block|{
specifier|const
name|char
operator|*
name|name
block|;
specifier|const
name|char
operator|*
name|symbol_name_m32
block|;
comment|// mangled name for the 32 bit architectures
specifier|const
name|char
operator|*
name|symbol_name_m64
block|;
comment|// mangled name for the 64 bit archs
name|uint32_t
name|version
block|;
name|ModuleKind
name|kind
block|;
name|CaptureStateFn
name|grabber
block|;     }
decl_stmt|;
struct|struct
name|RuntimeHook
block|{
name|lldb
operator|::
name|addr_t
name|address
expr_stmt|;
specifier|const
name|HookDefn
modifier|*
name|defn
decl_stmt|;
name|lldb
operator|::
name|BreakpointSP
name|bp_sp
expr_stmt|;
block|}
struct|;
typedef|typedef
name|std
operator|::
name|shared_ptr
operator|<
name|RuntimeHook
operator|>
name|RuntimeHookSP
expr_stmt|;
name|lldb
operator|::
name|ModuleSP
name|m_libRS
expr_stmt|;
name|lldb
operator|::
name|ModuleSP
name|m_libRSDriver
expr_stmt|;
name|lldb
operator|::
name|ModuleSP
name|m_libRSCpuRef
expr_stmt|;
name|std
operator|::
name|vector
operator|<
name|lldb_renderscript
operator|::
name|RSModuleDescriptorSP
operator|>
name|m_rsmodules
expr_stmt|;
name|std
operator|::
name|vector
operator|<
name|std
operator|::
name|unique_ptr
operator|<
name|ScriptDetails
operator|>>
name|m_scripts
expr_stmt|;
name|std
operator|::
name|vector
operator|<
name|std
operator|::
name|unique_ptr
operator|<
name|AllocationDetails
operator|>>
name|m_allocations
expr_stmt|;
name|std
operator|::
name|map
operator|<
name|lldb
operator|::
name|addr_t
operator|,
name|lldb_renderscript
operator|::
name|RSModuleDescriptorSP
operator|>
name|m_scriptMappings
expr_stmt|;
name|std
operator|::
name|map
operator|<
name|lldb
operator|::
name|addr_t
operator|,
name|RuntimeHookSP
operator|>
name|m_runtimeHooks
expr_stmt|;
name|std
operator|::
name|map
operator|<
name|lldb
operator|::
name|user_id_t
operator|,
name|std
operator|::
name|shared_ptr
operator|<
name|int
operator|>>
name|m_conditional_breaks
expr_stmt|;
name|lldb
operator|::
name|SearchFilterSP
name|m_filtersp
expr_stmt|;
comment|// Needed to create breakpoints through Target API
name|bool
name|m_initiated
decl_stmt|;
name|bool
name|m_debuggerPresentFlagged
decl_stmt|;
name|bool
name|m_breakAllKernels
decl_stmt|;
specifier|static
specifier|const
name|HookDefn
name|s_runtimeHookDefns
index|[]
decl_stmt|;
specifier|static
specifier|const
name|size_t
name|s_runtimeHookCount
decl_stmt|;
name|private
label|:
comment|// Used to index expression format strings
enum|enum
name|ExpressionStrings
block|{
name|eExprGetOffsetPtr
init|=
literal|0
block|,
name|eExprAllocGetType
block|,
name|eExprTypeDimX
block|,
name|eExprTypeDimY
block|,
name|eExprTypeDimZ
block|,
name|eExprTypeElemPtr
block|,
name|eExprElementType
block|,
name|eExprElementKind
block|,
name|eExprElementVec
block|,
name|eExprElementFieldCount
block|,
name|eExprSubelementsId
block|,
name|eExprSubelementsName
block|,
name|eExprSubelementsArrSize
block|}
enum|;
name|RenderScriptRuntime
argument_list|(
name|Process
operator|*
name|process
argument_list|)
expr_stmt|;
comment|// Call CreateInstance instead.
specifier|static
name|bool
name|HookCallback
argument_list|(
name|void
operator|*
name|baton
argument_list|,
name|StoppointCallbackContext
operator|*
name|ctx
argument_list|,
name|lldb
operator|::
name|user_id_t
name|break_id
argument_list|,
name|lldb
operator|::
name|user_id_t
name|break_loc_id
argument_list|)
decl_stmt|;
specifier|static
name|bool
name|KernelBreakpointHit
argument_list|(
name|void
operator|*
name|baton
argument_list|,
name|StoppointCallbackContext
operator|*
name|ctx
argument_list|,
name|lldb
operator|::
name|user_id_t
name|break_id
argument_list|,
name|lldb
operator|::
name|user_id_t
name|break_loc_id
argument_list|)
decl_stmt|;
name|void
name|HookCallback
parameter_list|(
name|RuntimeHook
modifier|*
name|hook_info
parameter_list|,
name|ExecutionContext
modifier|&
name|context
parameter_list|)
function_decl|;
name|bool
name|GetArgSimple
parameter_list|(
name|ExecutionContext
modifier|&
name|context
parameter_list|,
name|uint32_t
name|arg
parameter_list|,
name|uint64_t
modifier|*
name|data
parameter_list|)
function_decl|;
name|void
name|CaptureScriptInit1
parameter_list|(
name|RuntimeHook
modifier|*
name|hook_info
parameter_list|,
name|ExecutionContext
modifier|&
name|context
parameter_list|)
function_decl|;
name|void
name|CaptureAllocationInit1
parameter_list|(
name|RuntimeHook
modifier|*
name|hook_info
parameter_list|,
name|ExecutionContext
modifier|&
name|context
parameter_list|)
function_decl|;
name|void
name|CaptureAllocationDestroy
parameter_list|(
name|RuntimeHook
modifier|*
name|hook_info
parameter_list|,
name|ExecutionContext
modifier|&
name|context
parameter_list|)
function_decl|;
name|void
name|CaptureSetGlobalVar1
parameter_list|(
name|RuntimeHook
modifier|*
name|hook_info
parameter_list|,
name|ExecutionContext
modifier|&
name|context
parameter_list|)
function_decl|;
name|AllocationDetails
modifier|*
name|FindAllocByID
parameter_list|(
name|Stream
modifier|&
name|strm
parameter_list|,
specifier|const
name|uint32_t
name|alloc_id
parameter_list|)
function_decl|;
name|std
operator|::
name|shared_ptr
operator|<
name|uint8_t
operator|>
name|GetAllocationData
argument_list|(
name|AllocationDetails
operator|*
name|allocation
argument_list|,
name|StackFrame
operator|*
name|frame_ptr
argument_list|)
expr_stmt|;
name|void
name|SetElementSize
parameter_list|(
name|Element
modifier|&
name|elem
parameter_list|)
function_decl|;
specifier|static
name|bool
name|GetFrameVarAsUnsigned
argument_list|(
specifier|const
name|lldb
operator|::
name|StackFrameSP
argument_list|,
specifier|const
name|char
operator|*
name|var_name
argument_list|,
name|uint64_t
operator|&
name|val
argument_list|)
decl_stmt|;
name|void
name|FindStructTypeName
parameter_list|(
name|Element
modifier|&
name|elem
parameter_list|,
name|StackFrame
modifier|*
name|frame_ptr
parameter_list|)
function_decl|;
name|size_t
name|PopulateElementHeaders
argument_list|(
specifier|const
name|std
operator|::
name|shared_ptr
operator|<
name|uint8_t
operator|>
name|header_buffer
argument_list|,
name|size_t
name|offset
argument_list|,
specifier|const
name|Element
operator|&
name|elem
argument_list|)
decl_stmt|;
name|size_t
name|CalculateElementHeaderSize
parameter_list|(
specifier|const
name|Element
modifier|&
name|elem
parameter_list|)
function_decl|;
comment|//
comment|// Helper functions for jitting the runtime
comment|//
specifier|const
name|char
modifier|*
name|JITTemplate
parameter_list|(
name|ExpressionStrings
name|e
parameter_list|)
function_decl|;
name|bool
name|JITDataPointer
parameter_list|(
name|AllocationDetails
modifier|*
name|allocation
parameter_list|,
name|StackFrame
modifier|*
name|frame_ptr
parameter_list|,
name|unsigned
name|int
name|x
init|=
literal|0
parameter_list|,
name|unsigned
name|int
name|y
init|=
literal|0
parameter_list|,
name|unsigned
name|int
name|z
init|=
literal|0
parameter_list|)
function_decl|;
name|bool
name|JITTypePointer
parameter_list|(
name|AllocationDetails
modifier|*
name|allocation
parameter_list|,
name|StackFrame
modifier|*
name|frame_ptr
parameter_list|)
function_decl|;
name|bool
name|JITTypePacked
parameter_list|(
name|AllocationDetails
modifier|*
name|allocation
parameter_list|,
name|StackFrame
modifier|*
name|frame_ptr
parameter_list|)
function_decl|;
name|bool
name|JITElementPacked
argument_list|(
name|Element
operator|&
name|elem
argument_list|,
specifier|const
name|lldb
operator|::
name|addr_t
name|context
argument_list|,
name|StackFrame
operator|*
name|frame_ptr
argument_list|)
decl_stmt|;
name|bool
name|JITAllocationSize
parameter_list|(
name|AllocationDetails
modifier|*
name|allocation
parameter_list|,
name|StackFrame
modifier|*
name|frame_ptr
parameter_list|)
function_decl|;
name|bool
name|JITSubelements
argument_list|(
name|Element
operator|&
name|elem
argument_list|,
specifier|const
name|lldb
operator|::
name|addr_t
name|context
argument_list|,
name|StackFrame
operator|*
name|frame_ptr
argument_list|)
decl_stmt|;
name|bool
name|JITAllocationStride
parameter_list|(
name|AllocationDetails
modifier|*
name|allocation
parameter_list|,
name|StackFrame
modifier|*
name|frame_ptr
parameter_list|)
function_decl|;
comment|// Search for a script detail object using a target address.
comment|// If a script does not currently exist this function will return nullptr.
comment|// If 'create' is true and there is no previous script with this address,
comment|// then a new Script detail object will be created for this address and returned.
name|ScriptDetails
modifier|*
name|LookUpScript
argument_list|(
name|lldb
operator|::
name|addr_t
name|address
argument_list|,
name|bool
name|create
argument_list|)
decl_stmt|;
comment|// Search for a previously saved allocation detail object using a target address.
comment|// If an allocation does not exist for this address then nullptr will be returned.
comment|// If 'create' is true and there is no previous allocation then a new allocation
comment|// detail object will be created for this address and returned.
name|AllocationDetails
modifier|*
name|LookUpAllocation
argument_list|(
name|lldb
operator|::
name|addr_t
name|address
argument_list|,
name|bool
name|create
argument_list|)
decl_stmt|;
block|}
end_decl_stmt

begin_empty_stmt
empty_stmt|;
end_empty_stmt

begin_comment
unit|}
comment|// namespace lldb_private
end_comment

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|// liblldb_RenderScriptRuntime_h_
end_comment

end_unit

