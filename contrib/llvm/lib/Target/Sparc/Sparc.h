begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|//===-- Sparc.h - Top-level interface for Sparc representation --*- C++ -*-===//
end_comment

begin_comment
comment|//
end_comment

begin_comment
comment|//                     The LLVM Compiler Infrastructure
end_comment

begin_comment
comment|//
end_comment

begin_comment
comment|// This file is distributed under the University of Illinois Open Source
end_comment

begin_comment
comment|// License. See LICENSE.TXT for details.
end_comment

begin_comment
comment|//
end_comment

begin_comment
comment|//===----------------------------------------------------------------------===//
end_comment

begin_comment
comment|//
end_comment

begin_comment
comment|// This file contains the entry points for global functions defined in the LLVM
end_comment

begin_comment
comment|// Sparc back-end.
end_comment

begin_comment
comment|//
end_comment

begin_comment
comment|//===----------------------------------------------------------------------===//
end_comment

begin_ifndef
ifndef|#
directive|ifndef
name|LLVM_LIB_TARGET_SPARC_SPARC_H
end_ifndef

begin_define
define|#
directive|define
name|LLVM_LIB_TARGET_SPARC_SPARC_H
end_define

begin_include
include|#
directive|include
file|"MCTargetDesc/SparcMCTargetDesc.h"
end_include

begin_include
include|#
directive|include
file|"llvm/Support/ErrorHandling.h"
end_include

begin_include
include|#
directive|include
file|"llvm/Target/TargetMachine.h"
end_include

begin_decl_stmt
name|namespace
name|llvm
block|{
name|class
name|FunctionPass
decl_stmt|;
name|class
name|SparcTargetMachine
decl_stmt|;
name|class
name|formatted_raw_ostream
decl_stmt|;
name|class
name|AsmPrinter
decl_stmt|;
name|class
name|MCInst
decl_stmt|;
name|class
name|MachineInstr
decl_stmt|;
name|FunctionPass
modifier|*
name|createSparcISelDag
parameter_list|(
name|SparcTargetMachine
modifier|&
name|TM
parameter_list|)
function_decl|;
name|FunctionPass
modifier|*
name|createSparcDelaySlotFillerPass
parameter_list|()
function_decl|;
name|void
name|LowerSparcMachineInstrToMCInst
parameter_list|(
specifier|const
name|MachineInstr
modifier|*
name|MI
parameter_list|,
name|MCInst
modifier|&
name|OutMI
parameter_list|,
name|AsmPrinter
modifier|&
name|AP
parameter_list|)
function_decl|;
block|}
end_decl_stmt

begin_comment
comment|// end namespace llvm;
end_comment

begin_decl_stmt
name|namespace
name|llvm
block|{
comment|// Enums corresponding to Sparc condition codes, both icc's and fcc's.  These
comment|// values must be kept in sync with the ones in the .td file.
name|namespace
name|SPCC
block|{
enum|enum
name|CondCodes
block|{
name|ICC_A
init|=
literal|8
block|,
comment|// Always
name|ICC_N
init|=
literal|0
block|,
comment|// Never
name|ICC_NE
init|=
literal|9
block|,
comment|// Not Equal
name|ICC_E
init|=
literal|1
block|,
comment|// Equal
name|ICC_G
init|=
literal|10
block|,
comment|// Greater
name|ICC_LE
init|=
literal|2
block|,
comment|// Less or Equal
name|ICC_GE
init|=
literal|11
block|,
comment|// Greater or Equal
name|ICC_L
init|=
literal|3
block|,
comment|// Less
name|ICC_GU
init|=
literal|12
block|,
comment|// Greater Unsigned
name|ICC_LEU
init|=
literal|4
block|,
comment|// Less or Equal Unsigned
name|ICC_CC
init|=
literal|13
block|,
comment|// Carry Clear/Great or Equal Unsigned
name|ICC_CS
init|=
literal|5
block|,
comment|// Carry Set/Less Unsigned
name|ICC_POS
init|=
literal|14
block|,
comment|// Positive
name|ICC_NEG
init|=
literal|6
block|,
comment|// Negative
name|ICC_VC
init|=
literal|15
block|,
comment|// Overflow Clear
name|ICC_VS
init|=
literal|7
block|,
comment|// Overflow Set
name|FCC_A
init|=
literal|8
operator|+
literal|16
block|,
comment|// Always
name|FCC_N
init|=
literal|0
operator|+
literal|16
block|,
comment|// Never
name|FCC_U
init|=
literal|7
operator|+
literal|16
block|,
comment|// Unordered
name|FCC_G
init|=
literal|6
operator|+
literal|16
block|,
comment|// Greater
name|FCC_UG
init|=
literal|5
operator|+
literal|16
block|,
comment|// Unordered or Greater
name|FCC_L
init|=
literal|4
operator|+
literal|16
block|,
comment|// Less
name|FCC_UL
init|=
literal|3
operator|+
literal|16
block|,
comment|// Unordered or Less
name|FCC_LG
init|=
literal|2
operator|+
literal|16
block|,
comment|// Less or Greater
name|FCC_NE
init|=
literal|1
operator|+
literal|16
block|,
comment|// Not Equal
name|FCC_E
init|=
literal|9
operator|+
literal|16
block|,
comment|// Equal
name|FCC_UE
init|=
literal|10
operator|+
literal|16
block|,
comment|// Unordered or Equal
name|FCC_GE
init|=
literal|11
operator|+
literal|16
block|,
comment|// Greater or Equal
name|FCC_UGE
init|=
literal|12
operator|+
literal|16
block|,
comment|// Unordered or Greater or Equal
name|FCC_LE
init|=
literal|13
operator|+
literal|16
block|,
comment|// Less or Equal
name|FCC_ULE
init|=
literal|14
operator|+
literal|16
block|,
comment|// Unordered or Less or Equal
name|FCC_O
init|=
literal|15
operator|+
literal|16
block|,
comment|// Ordered
name|CPCC_A
init|=
literal|8
operator|+
literal|32
block|,
comment|// Always
name|CPCC_N
init|=
literal|0
operator|+
literal|32
block|,
comment|// Never
name|CPCC_3
init|=
literal|7
operator|+
literal|32
block|,
name|CPCC_2
init|=
literal|6
operator|+
literal|32
block|,
name|CPCC_23
init|=
literal|5
operator|+
literal|32
block|,
name|CPCC_1
init|=
literal|4
operator|+
literal|32
block|,
name|CPCC_13
init|=
literal|3
operator|+
literal|32
block|,
name|CPCC_12
init|=
literal|2
operator|+
literal|32
block|,
name|CPCC_123
init|=
literal|1
operator|+
literal|32
block|,
name|CPCC_0
init|=
literal|9
operator|+
literal|32
block|,
name|CPCC_03
init|=
literal|10
operator|+
literal|32
block|,
name|CPCC_02
init|=
literal|11
operator|+
literal|32
block|,
name|CPCC_023
init|=
literal|12
operator|+
literal|32
block|,
name|CPCC_01
init|=
literal|13
operator|+
literal|32
block|,
name|CPCC_013
init|=
literal|14
operator|+
literal|32
block|,
name|CPCC_012
init|=
literal|15
operator|+
literal|32
block|}
enum|;
block|}
specifier|inline
specifier|static
specifier|const
name|char
modifier|*
name|SPARCCondCodeToString
argument_list|(
name|SPCC
operator|::
name|CondCodes
name|CC
argument_list|)
block|{
switch|switch
condition|(
name|CC
condition|)
block|{
case|case
name|SPCC
operator|::
name|ICC_A
case|:
return|return
literal|"a"
return|;
case|case
name|SPCC
operator|::
name|ICC_N
case|:
return|return
literal|"n"
return|;
case|case
name|SPCC
operator|::
name|ICC_NE
case|:
return|return
literal|"ne"
return|;
case|case
name|SPCC
operator|::
name|ICC_E
case|:
return|return
literal|"e"
return|;
case|case
name|SPCC
operator|::
name|ICC_G
case|:
return|return
literal|"g"
return|;
case|case
name|SPCC
operator|::
name|ICC_LE
case|:
return|return
literal|"le"
return|;
case|case
name|SPCC
operator|::
name|ICC_GE
case|:
return|return
literal|"ge"
return|;
case|case
name|SPCC
operator|::
name|ICC_L
case|:
return|return
literal|"l"
return|;
case|case
name|SPCC
operator|::
name|ICC_GU
case|:
return|return
literal|"gu"
return|;
case|case
name|SPCC
operator|::
name|ICC_LEU
case|:
return|return
literal|"leu"
return|;
case|case
name|SPCC
operator|::
name|ICC_CC
case|:
return|return
literal|"cc"
return|;
case|case
name|SPCC
operator|::
name|ICC_CS
case|:
return|return
literal|"cs"
return|;
case|case
name|SPCC
operator|::
name|ICC_POS
case|:
return|return
literal|"pos"
return|;
case|case
name|SPCC
operator|::
name|ICC_NEG
case|:
return|return
literal|"neg"
return|;
case|case
name|SPCC
operator|::
name|ICC_VC
case|:
return|return
literal|"vc"
return|;
case|case
name|SPCC
operator|::
name|ICC_VS
case|:
return|return
literal|"vs"
return|;
case|case
name|SPCC
operator|::
name|FCC_A
case|:
return|return
literal|"a"
return|;
case|case
name|SPCC
operator|::
name|FCC_N
case|:
return|return
literal|"n"
return|;
case|case
name|SPCC
operator|::
name|FCC_U
case|:
return|return
literal|"u"
return|;
case|case
name|SPCC
operator|::
name|FCC_G
case|:
return|return
literal|"g"
return|;
case|case
name|SPCC
operator|::
name|FCC_UG
case|:
return|return
literal|"ug"
return|;
case|case
name|SPCC
operator|::
name|FCC_L
case|:
return|return
literal|"l"
return|;
case|case
name|SPCC
operator|::
name|FCC_UL
case|:
return|return
literal|"ul"
return|;
case|case
name|SPCC
operator|::
name|FCC_LG
case|:
return|return
literal|"lg"
return|;
case|case
name|SPCC
operator|::
name|FCC_NE
case|:
return|return
literal|"ne"
return|;
case|case
name|SPCC
operator|::
name|FCC_E
case|:
return|return
literal|"e"
return|;
case|case
name|SPCC
operator|::
name|FCC_UE
case|:
return|return
literal|"ue"
return|;
case|case
name|SPCC
operator|::
name|FCC_GE
case|:
return|return
literal|"ge"
return|;
case|case
name|SPCC
operator|::
name|FCC_UGE
case|:
return|return
literal|"uge"
return|;
case|case
name|SPCC
operator|::
name|FCC_LE
case|:
return|return
literal|"le"
return|;
case|case
name|SPCC
operator|::
name|FCC_ULE
case|:
return|return
literal|"ule"
return|;
case|case
name|SPCC
operator|::
name|FCC_O
case|:
return|return
literal|"o"
return|;
case|case
name|SPCC
operator|::
name|CPCC_A
case|:
return|return
literal|"a"
return|;
case|case
name|SPCC
operator|::
name|CPCC_N
case|:
return|return
literal|"n"
return|;
case|case
name|SPCC
operator|::
name|CPCC_3
case|:
return|return
literal|"3"
return|;
case|case
name|SPCC
operator|::
name|CPCC_2
case|:
return|return
literal|"2"
return|;
case|case
name|SPCC
operator|::
name|CPCC_23
case|:
return|return
literal|"23"
return|;
case|case
name|SPCC
operator|::
name|CPCC_1
case|:
return|return
literal|"1"
return|;
case|case
name|SPCC
operator|::
name|CPCC_13
case|:
return|return
literal|"13"
return|;
case|case
name|SPCC
operator|::
name|CPCC_12
case|:
return|return
literal|"12"
return|;
case|case
name|SPCC
operator|::
name|CPCC_123
case|:
return|return
literal|"123"
return|;
case|case
name|SPCC
operator|::
name|CPCC_0
case|:
return|return
literal|"0"
return|;
case|case
name|SPCC
operator|::
name|CPCC_03
case|:
return|return
literal|"03"
return|;
case|case
name|SPCC
operator|::
name|CPCC_02
case|:
return|return
literal|"02"
return|;
case|case
name|SPCC
operator|::
name|CPCC_023
case|:
return|return
literal|"023"
return|;
case|case
name|SPCC
operator|::
name|CPCC_01
case|:
return|return
literal|"01"
return|;
case|case
name|SPCC
operator|::
name|CPCC_013
case|:
return|return
literal|"013"
return|;
case|case
name|SPCC
operator|::
name|CPCC_012
case|:
return|return
literal|"012"
return|;
block|}
name|llvm_unreachable
argument_list|(
literal|"Invalid cond code"
argument_list|)
expr_stmt|;
block|}
specifier|inline
specifier|static
name|unsigned
name|HI22
parameter_list|(
name|int64_t
name|imm
parameter_list|)
block|{
return|return
call|(
name|unsigned
call|)
argument_list|(
operator|(
name|imm
operator|>>
literal|10
operator|)
operator|&
operator|(
operator|(
literal|1
operator|<<
literal|22
operator|)
operator|-
literal|1
operator|)
argument_list|)
return|;
block|}
specifier|inline
specifier|static
name|unsigned
name|LO10
parameter_list|(
name|int64_t
name|imm
parameter_list|)
block|{
return|return
call|(
name|unsigned
call|)
argument_list|(
name|imm
operator|&
literal|0x3FF
argument_list|)
return|;
block|}
specifier|inline
specifier|static
name|unsigned
name|HIX22
parameter_list|(
name|int64_t
name|imm
parameter_list|)
block|{
return|return
name|HI22
argument_list|(
operator|~
name|imm
argument_list|)
return|;
block|}
specifier|inline
specifier|static
name|unsigned
name|LOX10
parameter_list|(
name|int64_t
name|imm
parameter_list|)
block|{
return|return
operator|~
name|LO10
argument_list|(
operator|~
name|imm
argument_list|)
return|;
block|}
block|}
end_decl_stmt

begin_comment
comment|// end namespace llvm
end_comment

begin_endif
endif|#
directive|endif
end_endif

end_unit

