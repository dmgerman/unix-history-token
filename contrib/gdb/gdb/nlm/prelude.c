begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*=========================================================================== =	Novell Standard C Library for NetWare Loadable Modules = =	Unpublished Copyright (C) 1993 by Novell, Inc. All rights reserved. = =	No part of this file may be duplicated, revised, translated, localized or =	modified in any manner or compiled, linked or uploaded or downloaded to or =	from any computer system without the prior written consent of Novell, Inc. ============================================================================== =	The object produced by compiling this file is for use by the client of this =	library and is not linked in;  Prelude.Obj is therefore one of the files to =	be distributed with CLib.NLM and its headers. ============================================================================== */
end_comment

begin_include
include|#
directive|include
file|<stddef.h>
end_include

begin_if
if|#
directive|if
name|defined
argument_list|(
name|__netware__
argument_list|)
operator|&&
name|defined
argument_list|(
name|__i386__
argument_list|)
end_if

begin_define
define|#
directive|define
name|TERMINATE_BY_UNLOAD
value|5
end_define

begin_else
else|#
directive|else
end_else

begin_include
include|#
directive|include
file|<nwpre.h>
end_include

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/*#include "libhooks.h"*/
end_comment

begin_function_decl
specifier|extern
name|int
name|main
parameter_list|(
name|int
parameter_list|,
name|char
modifier|*
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_decl_stmt
specifier|static
name|int
name|NLMID
decl_stmt|;
end_decl_stmt

begin_function
name|void
name|_Stop
parameter_list|(
name|void
parameter_list|)
block|{
name|_TerminateNLM
argument_list|(
name|NLMID
argument_list|,
name|NULL
argument_list|,
name|TERMINATE_BY_UNLOAD
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|int
name|_cstart_
parameter_list|(
name|void
parameter_list|)
block|{
return|return
name|_SetupArgv
argument_list|(
expr|main
argument_list|)
return|;
block|}
end_function

begin_function
name|int
name|_Prelude
parameter_list|(
name|int
name|NLMHandle
parameter_list|,
name|int
name|initErrorScreenID
parameter_list|,
name|char
modifier|*
name|commandLine
parameter_list|,
name|char
modifier|*
name|loadDirectoryPath
parameter_list|,
name|int
name|uninitializedDataLength
parameter_list|,
name|int
name|NLMFileHandle
parameter_list|,
name|int
function_decl|(
modifier|*
name|readRoutineP
function_decl|)
parameter_list|()
parameter_list|,
name|int
name|customDataOffset
parameter_list|,
name|int
name|customDataSize
parameter_list|)
block|{
name|int
name|rc
decl_stmt|;
name|rc
operator|=
name|_StartNLM
argument_list|(
name|NLMHandle
argument_list|,
name|initErrorScreenID
argument_list|,
name|commandLine
argument_list|,
name|loadDirectoryPath
argument_list|,
name|uninitializedDataLength
argument_list|,
name|NLMFileHandle
argument_list|,
name|readRoutineP
argument_list|,
name|customDataOffset
argument_list|,
name|customDataSize
argument_list|,
operator|&
name|NLMID
argument_list|,
name|_cstart_
argument_list|)
expr_stmt|;
return|return
name|rc
return|;
block|}
end_function

end_unit

