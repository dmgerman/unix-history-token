begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* Character set conversion support for GDB.     Copyright 2001, 2003 Free Software Foundation, Inc.     This file is part of GDB.     This program is free software; you can redistribute it and/or modify    it under the terms of the GNU General Public License as published by    the Free Software Foundation; either version 2 of the License, or    (at your option) any later version.     This program is distributed in the hope that it will be useful,    but WITHOUT ANY WARRANTY; without even the implied warranty of    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the    GNU General Public License for more details.     You should have received a copy of the GNU General Public License    along with this program; if not, write to the Free Software    Foundation, Inc., 59 Temple Place - Suite 330,    Boston, MA 02111-1307, USA.  */
end_comment

begin_include
include|#
directive|include
file|"defs.h"
end_include

begin_include
include|#
directive|include
file|"charset.h"
end_include

begin_include
include|#
directive|include
file|"gdbcmd.h"
end_include

begin_include
include|#
directive|include
file|"gdb_assert.h"
end_include

begin_include
include|#
directive|include
file|<stddef.h>
end_include

begin_include
include|#
directive|include
file|"gdb_string.h"
end_include

begin_include
include|#
directive|include
file|<ctype.h>
end_include

begin_ifdef
ifdef|#
directive|ifdef
name|HAVE_ICONV
end_ifdef

begin_include
include|#
directive|include
file|<iconv.h>
end_include

begin_endif
endif|#
directive|endif
end_endif

begin_escape
end_escape

begin_comment
comment|/* How GDB's character set support works     GDB has two global settings:     - The `current host character set' is the character set GDB should      use in talking to the user, and which (hopefully) the user's      terminal knows how to display properly.     - The `current target character set' is the character set the      program being debugged uses.     There are commands to set each of these, and mechanisms for    choosing reasonable default values.  GDB has a global list of    character sets that it can use as its host or target character    sets.     The header file `charset.h' declares various functions that    different pieces of GDB need to perform tasks like:     - printing target strings and characters to the user's terminal      (mostly target->host conversions),     - building target-appropriate representations of strings and      characters the user enters in expressions (mostly host->target      conversions),     and so on.     Now, many of these operations are specific to a particular    host/target character set pair.  If GDB supports N character sets,    there are N^2 possible pairs.  This means that, the larger GDB's    repertoire of character sets gets, the more expensive it gets to add    new character sets.     To make sure that GDB can do the right thing for every possible    pairing of host and target character set, while still allowing    GDB's repertoire to scale, we use a two-tiered approach:     - We maintain a global table of "translations" --- groups of      functions specific to a particular pair of character sets.     - However, a translation can be incomplete: some functions can be      omitted.  Where there is not a translation to specify exactly      what function to use, we provide reasonable defaults.  The      default behaviors try to use the "iconv" library functions, which      support a wide range of character sets.  However, even if iconv      is not available, there are fallbacks to support trivial      translations: when the host and target character sets are the      same.  */
end_comment

begin_escape
end_escape

begin_comment
comment|/* The character set and translation structures.  */
end_comment

begin_comment
comment|/* A character set GDB knows about.  GDB only supports character sets    with stateless encodings, in which every character is one byte    long.  */
end_comment

begin_struct
struct|struct
name|charset
block|{
comment|/* A singly-linked list of all known charsets.  */
name|struct
name|charset
modifier|*
name|next
decl_stmt|;
comment|/* The name of the character set.  Comparisons on character set      names are case-sensitive.  */
specifier|const
name|char
modifier|*
name|name
decl_stmt|;
comment|/* Non-zero iff this character set can be used as a host character      set.  At present, GDB basically assumes that the host character      set is a superset of ASCII.  */
name|int
name|valid_host_charset
decl_stmt|;
comment|/* Pointers to charset-specific functions that depend only on a      single character set, and data pointers to pass to them.  */
name|int
function_decl|(
modifier|*
name|host_char_print_literally
function_decl|)
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
name|int
name|host_char
parameter_list|)
function_decl|;
name|void
modifier|*
name|host_char_print_literally_baton
decl_stmt|;
name|int
function_decl|(
modifier|*
name|target_char_to_control_char
function_decl|)
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
name|int
name|target_char
parameter_list|,
name|int
modifier|*
name|target_ctrl_char
parameter_list|)
function_decl|;
name|void
modifier|*
name|target_char_to_control_char_baton
decl_stmt|;
block|}
struct|;
end_struct

begin_comment
comment|/* A translation from one character set to another.  */
end_comment

begin_struct
struct|struct
name|translation
block|{
comment|/* A singly-linked list of all known translations.  */
name|struct
name|translation
modifier|*
name|next
decl_stmt|;
comment|/* This structure describes functions going from the FROM character      set to the TO character set.  Comparisons on character set names      are case-sensitive.  */
specifier|const
name|char
modifier|*
name|from
decl_stmt|,
modifier|*
name|to
decl_stmt|;
comment|/* Pointers to translation-specific functions, and data pointers to      pass to them.  These pointers can be zero, indicating that GDB      should fall back on the default behavior.  We hope the default      behavior will be correct for many from/to pairs, reducing the      number of translations that need to be registered explicitly.  */
comment|/* TARGET_CHAR is in the `from' charset.      Returns a string in the `to' charset.  */
specifier|const
name|char
modifier|*
function_decl|(
modifier|*
name|c_target_char_has_backslash_escape
function_decl|)
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
name|int
name|target_char
parameter_list|)
function_decl|;
name|void
modifier|*
name|c_target_char_has_backslash_escape_baton
decl_stmt|;
comment|/* HOST_CHAR is in the `from' charset.      TARGET_CHAR points to a char in the `to' charset.  */
name|int
function_decl|(
modifier|*
name|c_parse_backslash
function_decl|)
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
name|int
name|host_char
parameter_list|,
name|int
modifier|*
name|target_char
parameter_list|)
function_decl|;
name|void
modifier|*
name|c_parse_backslash_baton
decl_stmt|;
comment|/* This is used for the host_char_to_target and target_char_to_host      functions.  */
name|int
function_decl|(
modifier|*
name|convert_char
function_decl|)
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
name|int
name|from
parameter_list|,
name|int
modifier|*
name|to
parameter_list|)
function_decl|;
name|void
modifier|*
name|convert_char_baton
decl_stmt|;
block|}
struct|;
end_struct

begin_escape
end_escape

begin_comment
comment|/* The global lists of character sets and translations.  */
end_comment

begin_ifndef
ifndef|#
directive|ifndef
name|GDB_DEFAULT_HOST_CHARSET
end_ifndef

begin_define
define|#
directive|define
name|GDB_DEFAULT_HOST_CHARSET
value|"ISO-8859-1"
end_define

begin_endif
endif|#
directive|endif
end_endif

begin_ifndef
ifndef|#
directive|ifndef
name|GDB_DEFAULT_TARGET_CHARSET
end_ifndef

begin_define
define|#
directive|define
name|GDB_DEFAULT_TARGET_CHARSET
value|"ISO-8859-1"
end_define

begin_endif
endif|#
directive|endif
end_endif

begin_decl_stmt
specifier|static
specifier|const
name|char
modifier|*
name|host_charset_name
init|=
name|GDB_DEFAULT_HOST_CHARSET
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
specifier|const
name|char
modifier|*
name|target_charset_name
init|=
name|GDB_DEFAULT_TARGET_CHARSET
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
specifier|const
name|char
modifier|*
name|host_charset_enum
index|[]
init|=
block|{
literal|"ASCII"
block|,
literal|"ISO-8859-1"
block|,
literal|0
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
specifier|const
name|char
modifier|*
name|target_charset_enum
index|[]
init|=
block|{
literal|"ASCII"
block|,
literal|"ISO-8859-1"
block|,
literal|"EBCDIC-US"
block|,
literal|"IBM1047"
block|,
literal|0
block|}
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* The global list of all the charsets GDB knows about.  */
end_comment

begin_decl_stmt
specifier|static
name|struct
name|charset
modifier|*
name|all_charsets
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|void
name|register_charset
parameter_list|(
name|struct
name|charset
modifier|*
name|cs
parameter_list|)
block|{
name|struct
name|charset
modifier|*
modifier|*
name|ptr
decl_stmt|;
comment|/* Put the new charset on the end, so that the list ends up in the      same order as the registrations in the _initialize function.  */
for|for
control|(
name|ptr
operator|=
operator|&
name|all_charsets
init|;
operator|*
name|ptr
condition|;
name|ptr
operator|=
operator|&
operator|(
operator|*
name|ptr
operator|)
operator|->
name|next
control|)
empty_stmt|;
name|cs
operator|->
name|next
operator|=
literal|0
expr_stmt|;
operator|*
name|ptr
operator|=
name|cs
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|struct
name|charset
modifier|*
name|lookup_charset
parameter_list|(
specifier|const
name|char
modifier|*
name|name
parameter_list|)
block|{
name|struct
name|charset
modifier|*
name|cs
decl_stmt|;
for|for
control|(
name|cs
operator|=
name|all_charsets
init|;
name|cs
condition|;
name|cs
operator|=
name|cs
operator|->
name|next
control|)
if|if
condition|(
operator|!
name|strcmp
argument_list|(
name|name
argument_list|,
name|cs
operator|->
name|name
argument_list|)
condition|)
return|return
name|cs
return|;
return|return
name|NULL
return|;
block|}
end_function

begin_comment
comment|/* The global list of translations.  */
end_comment

begin_decl_stmt
specifier|static
name|struct
name|translation
modifier|*
name|all_translations
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|void
name|register_translation
parameter_list|(
name|struct
name|translation
modifier|*
name|t
parameter_list|)
block|{
name|t
operator|->
name|next
operator|=
name|all_translations
expr_stmt|;
name|all_translations
operator|=
name|t
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|struct
name|translation
modifier|*
name|lookup_translation
parameter_list|(
specifier|const
name|char
modifier|*
name|from
parameter_list|,
specifier|const
name|char
modifier|*
name|to
parameter_list|)
block|{
name|struct
name|translation
modifier|*
name|t
decl_stmt|;
for|for
control|(
name|t
operator|=
name|all_translations
init|;
name|t
condition|;
name|t
operator|=
name|t
operator|->
name|next
control|)
if|if
condition|(
operator|!
name|strcmp
argument_list|(
name|from
argument_list|,
name|t
operator|->
name|from
argument_list|)
operator|&&
operator|!
name|strcmp
argument_list|(
name|to
argument_list|,
name|t
operator|->
name|to
argument_list|)
condition|)
return|return
name|t
return|;
return|return
literal|0
return|;
block|}
end_function

begin_escape
end_escape

begin_comment
comment|/* Constructing charsets.  */
end_comment

begin_comment
comment|/* Allocate, initialize and return a straightforward charset.    Use this function, rather than creating the structures yourself,    so that we can add new fields to the structure in the future without    having to tweak all the old charset descriptions.  */
end_comment

begin_function
specifier|static
name|struct
name|charset
modifier|*
name|simple_charset
parameter_list|(
specifier|const
name|char
modifier|*
name|name
parameter_list|,
name|int
name|valid_host_charset
parameter_list|,
name|int
function_decl|(
modifier|*
name|host_char_print_literally
function_decl|)
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
name|int
name|host_char
parameter_list|)
parameter_list|,
name|void
modifier|*
name|host_char_print_literally_baton
parameter_list|,
name|int
function_decl|(
modifier|*
name|target_char_to_control_char
function_decl|)
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
name|int
name|target_char
parameter_list|,
name|int
modifier|*
name|target_ctrl_char
parameter_list|)
parameter_list|,
name|void
modifier|*
name|target_char_to_control_char_baton
parameter_list|)
block|{
name|struct
name|charset
modifier|*
name|cs
init|=
name|xmalloc
argument_list|(
sizeof|sizeof
argument_list|(
operator|*
name|cs
argument_list|)
argument_list|)
decl_stmt|;
name|memset
argument_list|(
name|cs
argument_list|,
literal|0
argument_list|,
sizeof|sizeof
argument_list|(
operator|*
name|cs
argument_list|)
argument_list|)
expr_stmt|;
name|cs
operator|->
name|name
operator|=
name|name
expr_stmt|;
name|cs
operator|->
name|valid_host_charset
operator|=
name|valid_host_charset
expr_stmt|;
name|cs
operator|->
name|host_char_print_literally
operator|=
name|host_char_print_literally
expr_stmt|;
name|cs
operator|->
name|host_char_print_literally_baton
operator|=
name|host_char_print_literally_baton
expr_stmt|;
name|cs
operator|->
name|target_char_to_control_char
operator|=
name|target_char_to_control_char
expr_stmt|;
name|cs
operator|->
name|target_char_to_control_char_baton
operator|=
name|target_char_to_control_char_baton
expr_stmt|;
return|return
name|cs
return|;
block|}
end_function

begin_escape
end_escape

begin_comment
comment|/* ASCII functions.  */
end_comment

begin_function
specifier|static
name|int
name|ascii_print_literally
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
name|int
name|c
parameter_list|)
block|{
name|c
operator|&=
literal|0xff
expr_stmt|;
return|return
operator|(
literal|0x20
operator|<=
name|c
operator|&&
name|c
operator|<=
literal|0x7e
operator|)
return|;
block|}
end_function

begin_function
specifier|static
name|int
name|ascii_to_control
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
name|int
name|c
parameter_list|,
name|int
modifier|*
name|ctrl_char
parameter_list|)
block|{
operator|*
name|ctrl_char
operator|=
operator|(
name|c
operator|&
literal|037
operator|)
expr_stmt|;
return|return
literal|1
return|;
block|}
end_function

begin_escape
end_escape

begin_comment
comment|/* ISO-8859 family functions.  */
end_comment

begin_function
specifier|static
name|int
name|iso_8859_print_literally
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
name|int
name|c
parameter_list|)
block|{
name|c
operator|&=
literal|0xff
expr_stmt|;
return|return
operator|(
operator|(
literal|0x20
operator|<=
name|c
operator|&&
name|c
operator|<=
literal|0x7e
operator|)
comment|/* ascii printables */
operator|||
operator|(
operator|!
name|sevenbit_strings
operator|&&
literal|0xA0
operator|<=
name|c
operator|)
operator|)
return|;
comment|/* iso 8859 printables */
block|}
end_function

begin_function
specifier|static
name|int
name|iso_8859_to_control
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
name|int
name|c
parameter_list|,
name|int
modifier|*
name|ctrl_char
parameter_list|)
block|{
operator|*
name|ctrl_char
operator|=
operator|(
name|c
operator|&
literal|0200
operator|)
operator||
operator|(
name|c
operator|&
literal|037
operator|)
expr_stmt|;
return|return
literal|1
return|;
block|}
end_function

begin_comment
comment|/* Construct an ISO-8859-like character set.  */
end_comment

begin_function
specifier|static
name|struct
name|charset
modifier|*
name|iso_8859_family_charset
parameter_list|(
specifier|const
name|char
modifier|*
name|name
parameter_list|)
block|{
return|return
name|simple_charset
argument_list|(
name|name
argument_list|,
literal|1
argument_list|,
name|iso_8859_print_literally
argument_list|,
literal|0
argument_list|,
name|iso_8859_to_control
argument_list|,
literal|0
argument_list|)
return|;
block|}
end_function

begin_escape
end_escape

begin_comment
comment|/* EBCDIC family functions.  */
end_comment

begin_function
specifier|static
name|int
name|ebcdic_print_literally
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
name|int
name|c
parameter_list|)
block|{
name|c
operator|&=
literal|0xff
expr_stmt|;
return|return
operator|(
literal|64
operator|<=
name|c
operator|&&
name|c
operator|<=
literal|254
operator|)
return|;
block|}
end_function

begin_function
specifier|static
name|int
name|ebcdic_to_control
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
name|int
name|c
parameter_list|,
name|int
modifier|*
name|ctrl_char
parameter_list|)
block|{
comment|/* There are no control character equivalents in EBCDIC.  Use      numeric escapes.  */
return|return
literal|0
return|;
block|}
end_function

begin_comment
comment|/* Construct an EBCDIC-like character set.  */
end_comment

begin_function
specifier|static
name|struct
name|charset
modifier|*
name|ebcdic_family_charset
parameter_list|(
specifier|const
name|char
modifier|*
name|name
parameter_list|)
block|{
return|return
name|simple_charset
argument_list|(
name|name
argument_list|,
literal|0
argument_list|,
name|ebcdic_print_literally
argument_list|,
literal|0
argument_list|,
name|ebcdic_to_control
argument_list|,
literal|0
argument_list|)
return|;
block|}
end_function

begin_escape
end_escape

begin_comment
comment|/* Fallback functions using iconv.  */
end_comment

begin_if
if|#
directive|if
name|defined
argument_list|(
name|HAVE_ICONV
argument_list|)
end_if

begin_struct
struct|struct
name|cached_iconv
block|{
name|struct
name|charset
modifier|*
name|from
decl_stmt|,
modifier|*
name|to
decl_stmt|;
name|iconv_t
name|i
decl_stmt|;
block|}
struct|;
end_struct

begin_comment
comment|/* Make sure the iconv cache *CI contains an iconv descriptor    translating from FROM to TO.  If it already does, fine; otherwise,    close any existing descriptor, and open up a new one.  On success,    return zero; on failure, return -1 and set errno.  */
end_comment

begin_function
specifier|static
name|int
name|check_iconv_cache
parameter_list|(
name|struct
name|cached_iconv
modifier|*
name|ci
parameter_list|,
name|struct
name|charset
modifier|*
name|from
parameter_list|,
name|struct
name|charset
modifier|*
name|to
parameter_list|)
block|{
name|iconv_t
name|i
decl_stmt|;
comment|/* Does the cached iconv descriptor match the conversion we're trying      to do now?  */
if|if
condition|(
name|ci
operator|->
name|from
operator|==
name|from
operator|&&
name|ci
operator|->
name|to
operator|==
name|to
operator|&&
name|ci
operator|->
name|i
operator|!=
operator|(
name|iconv_t
operator|)
literal|0
condition|)
return|return
literal|0
return|;
comment|/* It doesn't.  If we actually had any iconv descriptor open at      all, close it now.  */
if|if
condition|(
name|ci
operator|->
name|i
operator|!=
operator|(
name|iconv_t
operator|)
literal|0
condition|)
block|{
name|i
operator|=
name|ci
operator|->
name|i
expr_stmt|;
name|ci
operator|->
name|i
operator|=
operator|(
name|iconv_t
operator|)
literal|0
expr_stmt|;
if|if
condition|(
name|iconv_close
argument_list|(
name|i
argument_list|)
operator|==
operator|-
literal|1
condition|)
name|error
argument_list|(
literal|"Error closing `iconv' descriptor for "
literal|"`%s'-to-`%s' character conversion: %s"
argument_list|,
name|ci
operator|->
name|from
operator|->
name|name
argument_list|,
name|ci
operator|->
name|to
operator|->
name|name
argument_list|,
name|safe_strerror
argument_list|(
name|errno
argument_list|)
argument_list|)
expr_stmt|;
block|}
comment|/* Open a new iconv descriptor for the required conversion.  */
name|i
operator|=
name|iconv_open
argument_list|(
name|to
operator|->
name|name
argument_list|,
name|from
operator|->
name|name
argument_list|)
expr_stmt|;
if|if
condition|(
name|i
operator|==
operator|(
name|iconv_t
operator|)
operator|-
literal|1
condition|)
return|return
operator|-
literal|1
return|;
name|ci
operator|->
name|i
operator|=
name|i
expr_stmt|;
name|ci
operator|->
name|from
operator|=
name|from
expr_stmt|;
name|ci
operator|->
name|to
operator|=
name|to
expr_stmt|;
return|return
literal|0
return|;
block|}
end_function

begin_comment
comment|/* Convert FROM_CHAR using the cached iconv conversion *CI.  Return    non-zero if the conversion was successful, zero otherwise.  */
end_comment

begin_function
specifier|static
name|int
name|cached_iconv_convert
parameter_list|(
name|struct
name|cached_iconv
modifier|*
name|ci
parameter_list|,
name|int
name|from_char
parameter_list|,
name|int
modifier|*
name|to_char
parameter_list|)
block|{
name|char
name|from
decl_stmt|;
name|ICONV_CONST
name|char
modifier|*
name|from_ptr
init|=
operator|&
name|from
decl_stmt|;
name|char
name|to
decl_stmt|,
modifier|*
name|to_ptr
init|=
operator|&
name|to
decl_stmt|;
name|size_t
name|from_left
init|=
sizeof|sizeof
argument_list|(
name|from
argument_list|)
decl_stmt|,
name|to_left
init|=
sizeof|sizeof
argument_list|(
name|to
argument_list|)
decl_stmt|;
name|gdb_assert
argument_list|(
name|ci
operator|->
name|i
operator|!=
operator|(
name|iconv_t
operator|)
literal|0
argument_list|)
expr_stmt|;
name|from
operator|=
name|from_char
expr_stmt|;
if|if
condition|(
name|iconv
argument_list|(
name|ci
operator|->
name|i
argument_list|,
operator|&
name|from_ptr
argument_list|,
operator|&
name|from_left
argument_list|,
operator|&
name|to_ptr
argument_list|,
operator|&
name|to_left
argument_list|)
operator|==
operator|(
name|size_t
operator|)
operator|-
literal|1
condition|)
block|{
comment|/* These all suggest that the input or output character sets          have multi-byte encodings of some characters, which means          it's unsuitable for use as a GDB character set.  We should          never have selected it.  */
name|gdb_assert
argument_list|(
name|errno
operator|!=
name|E2BIG
operator|&&
name|errno
operator|!=
name|EINVAL
argument_list|)
expr_stmt|;
comment|/* This suggests a bug in the code managing *CI.  */
name|gdb_assert
argument_list|(
name|errno
operator|!=
name|EBADF
argument_list|)
expr_stmt|;
comment|/* This seems to mean that there is no equivalent character in          the `to' character set.  */
if|if
condition|(
name|errno
operator|==
name|EILSEQ
condition|)
return|return
literal|0
return|;
comment|/* Anything else is mysterious.  */
name|internal_error
argument_list|(
name|__FILE__
argument_list|,
name|__LINE__
argument_list|,
literal|"Error converting character `%d' from `%s' to `%s' "
literal|"character set: %s"
argument_list|,
name|from_char
argument_list|,
name|ci
operator|->
name|from
operator|->
name|name
argument_list|,
name|ci
operator|->
name|to
operator|->
name|name
argument_list|,
name|safe_strerror
argument_list|(
name|errno
argument_list|)
argument_list|)
expr_stmt|;
block|}
comment|/* If the pointers weren't advanced across the input, that also      suggests something was wrong.  */
name|gdb_assert
argument_list|(
name|from_left
operator|==
literal|0
operator|&&
name|to_left
operator|==
literal|0
argument_list|)
expr_stmt|;
operator|*
name|to_char
operator|=
operator|(
name|unsigned
name|char
operator|)
name|to
expr_stmt|;
return|return
literal|1
return|;
block|}
end_function

begin_function
specifier|static
name|void
name|register_iconv_charsets
parameter_list|(
name|void
parameter_list|)
block|{
comment|/* Here we should check whether various character sets were      recognized by the local iconv implementation.       The first implementation registered a bunch of character sets      recognized by iconv, but then we discovered that iconv on Solaris      and iconv on GNU/Linux had no character sets in common.  So we      replaced them with the hard-coded tables that appear later in the      file.  */
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* defined (HAVE_ICONV) */
end_comment

begin_escape
end_escape

begin_comment
comment|/* Fallback routines for systems without iconv.  */
end_comment

begin_if
if|#
directive|if
operator|!
name|defined
argument_list|(
name|HAVE_ICONV
argument_list|)
end_if

begin_struct
struct|struct
name|cached_iconv
block|{
name|char
name|nothing
decl_stmt|;
block|}
struct|;
end_struct

begin_function
specifier|static
name|int
name|check_iconv_cache
parameter_list|(
name|struct
name|cached_iconv
modifier|*
name|ci
parameter_list|,
name|struct
name|charset
modifier|*
name|from
parameter_list|,
name|struct
name|charset
modifier|*
name|to
parameter_list|)
block|{
name|errno
operator|=
name|EINVAL
expr_stmt|;
return|return
operator|-
literal|1
return|;
block|}
end_function

begin_function
specifier|static
name|int
name|cached_iconv_convert
parameter_list|(
name|struct
name|cached_iconv
modifier|*
name|ci
parameter_list|,
name|int
name|from_char
parameter_list|,
name|int
modifier|*
name|to_char
parameter_list|)
block|{
comment|/* This function should never be called.  */
name|gdb_assert
argument_list|(
literal|0
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|register_iconv_charsets
parameter_list|(
name|void
parameter_list|)
block|{ }
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* ! defined(HAVE_ICONV) */
end_comment

begin_escape
end_escape

begin_comment
comment|/* Default trivial conversion functions.  */
end_comment

begin_function
specifier|static
name|int
name|identity_either_char_to_other
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
name|int
name|either_char
parameter_list|,
name|int
modifier|*
name|other_char
parameter_list|)
block|{
operator|*
name|other_char
operator|=
name|either_char
expr_stmt|;
return|return
literal|1
return|;
block|}
end_function

begin_escape
end_escape

begin_comment
comment|/* Default non-trivial conversion functions.  */
end_comment

begin_decl_stmt
specifier|static
name|char
name|backslashable
index|[]
init|=
literal|"abfnrtv"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|char
modifier|*
name|backslashed
index|[]
init|=
block|{
literal|"a"
block|,
literal|"b"
block|,
literal|"f"
block|,
literal|"n"
block|,
literal|"r"
block|,
literal|"t"
block|,
literal|"v"
block|,
literal|"0"
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|char
name|represented
index|[]
init|=
literal|"\a\b\f\n\r\t\v"
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* Translate TARGET_CHAR into the host character set, and see if it    matches any of our standard escape sequences.  */
end_comment

begin_function
specifier|static
specifier|const
name|char
modifier|*
name|default_c_target_char_has_backslash_escape
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
name|int
name|target_char
parameter_list|)
block|{
name|int
name|host_char
decl_stmt|;
specifier|const
name|char
modifier|*
name|ix
decl_stmt|;
comment|/* If target_char has no equivalent in the host character set,      assume it doesn't have a backslashed form.  */
if|if
condition|(
operator|!
name|target_char_to_host
argument_list|(
name|target_char
argument_list|,
operator|&
name|host_char
argument_list|)
condition|)
return|return
name|NULL
return|;
name|ix
operator|=
name|strchr
argument_list|(
name|represented
argument_list|,
name|host_char
argument_list|)
expr_stmt|;
if|if
condition|(
name|ix
condition|)
return|return
name|backslashed
index|[
name|ix
operator|-
name|represented
index|]
return|;
else|else
return|return
name|NULL
return|;
block|}
end_function

begin_comment
comment|/* Translate the backslash the way we would in the host character set,    and then try to translate that into the target character set.  */
end_comment

begin_function
specifier|static
name|int
name|default_c_parse_backslash
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
name|int
name|host_char
parameter_list|,
name|int
modifier|*
name|target_char
parameter_list|)
block|{
specifier|const
name|char
modifier|*
name|ix
decl_stmt|;
name|ix
operator|=
name|strchr
argument_list|(
name|backslashable
argument_list|,
name|host_char
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|ix
condition|)
return|return
literal|0
return|;
else|else
return|return
name|host_char_to_target
argument_list|(
name|represented
index|[
name|ix
operator|-
name|backslashable
index|]
argument_list|,
name|target_char
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/* Convert using a cached iconv descriptor.  */
end_comment

begin_function
specifier|static
name|int
name|iconv_convert
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
name|int
name|from_char
parameter_list|,
name|int
modifier|*
name|to_char
parameter_list|)
block|{
name|struct
name|cached_iconv
modifier|*
name|ci
init|=
name|baton
decl_stmt|;
return|return
name|cached_iconv_convert
argument_list|(
name|ci
argument_list|,
name|from_char
argument_list|,
name|to_char
argument_list|)
return|;
block|}
end_function

begin_escape
end_escape

begin_comment
comment|/* Conversion tables.  */
end_comment

begin_comment
comment|/* I'd much rather fall back on iconv whenever possible.  But the    character set names you use with iconv aren't standardized at all,    a lot of platforms have really meager character set coverage, etc.    I wanted to have at least something we could use to exercise the    test suite on all platforms.     In the long run, we should have a configure-time process explore    somehow which character sets the host platform supports, and some    arrangement that allows GDB users to use platform-indepedent names    for character sets.  */
end_comment

begin_comment
comment|/* We generated these tables using iconv on a GNU/Linux machine.  */
end_comment

begin_decl_stmt
specifier|static
name|int
name|ascii_to_iso_8859_1_table
index|[]
init|=
block|{
literal|0
block|,
literal|1
block|,
literal|2
block|,
literal|3
block|,
literal|4
block|,
literal|5
block|,
literal|6
block|,
literal|7
block|,
literal|8
block|,
literal|9
block|,
literal|10
block|,
literal|11
block|,
literal|12
block|,
literal|13
block|,
literal|14
block|,
literal|15
block|,
comment|/* 16 */
literal|16
block|,
literal|17
block|,
literal|18
block|,
literal|19
block|,
literal|20
block|,
literal|21
block|,
literal|22
block|,
literal|23
block|,
literal|24
block|,
literal|25
block|,
literal|26
block|,
literal|27
block|,
literal|28
block|,
literal|29
block|,
literal|30
block|,
literal|31
block|,
comment|/* 32 */
literal|32
block|,
literal|33
block|,
literal|34
block|,
literal|35
block|,
literal|36
block|,
literal|37
block|,
literal|38
block|,
literal|39
block|,
literal|40
block|,
literal|41
block|,
literal|42
block|,
literal|43
block|,
literal|44
block|,
literal|45
block|,
literal|46
block|,
literal|47
block|,
comment|/* 48 */
literal|48
block|,
literal|49
block|,
literal|50
block|,
literal|51
block|,
literal|52
block|,
literal|53
block|,
literal|54
block|,
literal|55
block|,
literal|56
block|,
literal|57
block|,
literal|58
block|,
literal|59
block|,
literal|60
block|,
literal|61
block|,
literal|62
block|,
literal|63
block|,
comment|/* 64 */
literal|64
block|,
literal|65
block|,
literal|66
block|,
literal|67
block|,
literal|68
block|,
literal|69
block|,
literal|70
block|,
literal|71
block|,
literal|72
block|,
literal|73
block|,
literal|74
block|,
literal|75
block|,
literal|76
block|,
literal|77
block|,
literal|78
block|,
literal|79
block|,
comment|/* 80 */
literal|80
block|,
literal|81
block|,
literal|82
block|,
literal|83
block|,
literal|84
block|,
literal|85
block|,
literal|86
block|,
literal|87
block|,
literal|88
block|,
literal|89
block|,
literal|90
block|,
literal|91
block|,
literal|92
block|,
literal|93
block|,
literal|94
block|,
literal|95
block|,
comment|/* 96 */
literal|96
block|,
literal|97
block|,
literal|98
block|,
literal|99
block|,
literal|100
block|,
literal|101
block|,
literal|102
block|,
literal|103
block|,
literal|104
block|,
literal|105
block|,
literal|106
block|,
literal|107
block|,
literal|108
block|,
literal|109
block|,
literal|110
block|,
literal|111
block|,
comment|/* 112 */
literal|112
block|,
literal|113
block|,
literal|114
block|,
literal|115
block|,
literal|116
block|,
literal|117
block|,
literal|118
block|,
literal|119
block|,
literal|120
block|,
literal|121
block|,
literal|122
block|,
literal|123
block|,
literal|124
block|,
literal|125
block|,
literal|126
block|,
literal|127
block|,
comment|/* 128 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 144 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 160 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 176 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 192 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 208 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 224 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 240 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
comment|/* 256 */
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|int
name|ascii_to_ebcdic_us_table
index|[]
init|=
block|{
literal|0
block|,
literal|1
block|,
literal|2
block|,
literal|3
block|,
literal|55
block|,
literal|45
block|,
literal|46
block|,
literal|47
block|,
literal|22
block|,
literal|5
block|,
literal|37
block|,
literal|11
block|,
literal|12
block|,
literal|13
block|,
literal|14
block|,
literal|15
block|,
comment|/* 16 */
literal|16
block|,
literal|17
block|,
literal|18
block|,
literal|19
block|,
literal|60
block|,
literal|61
block|,
literal|50
block|,
literal|38
block|,
literal|24
block|,
literal|25
block|,
literal|63
block|,
literal|39
block|,
literal|28
block|,
literal|29
block|,
literal|30
block|,
literal|31
block|,
comment|/* 32 */
literal|64
block|,
literal|90
block|,
literal|127
block|,
literal|123
block|,
literal|91
block|,
literal|108
block|,
literal|80
block|,
literal|125
block|,
literal|77
block|,
literal|93
block|,
literal|92
block|,
literal|78
block|,
literal|107
block|,
literal|96
block|,
literal|75
block|,
literal|97
block|,
comment|/* 48 */
literal|240
block|,
literal|241
block|,
literal|242
block|,
literal|243
block|,
literal|244
block|,
literal|245
block|,
literal|246
block|,
literal|247
block|,
literal|248
block|,
literal|249
block|,
literal|122
block|,
literal|94
block|,
literal|76
block|,
literal|126
block|,
literal|110
block|,
literal|111
block|,
comment|/* 64 */
literal|124
block|,
literal|193
block|,
literal|194
block|,
literal|195
block|,
literal|196
block|,
literal|197
block|,
literal|198
block|,
literal|199
block|,
literal|200
block|,
literal|201
block|,
literal|209
block|,
literal|210
block|,
literal|211
block|,
literal|212
block|,
literal|213
block|,
literal|214
block|,
comment|/* 80 */
literal|215
block|,
literal|216
block|,
literal|217
block|,
literal|226
block|,
literal|227
block|,
literal|228
block|,
literal|229
block|,
literal|230
block|,
literal|231
block|,
literal|232
block|,
literal|233
block|,
operator|-
literal|1
block|,
literal|224
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|109
block|,
comment|/* 96 */
literal|121
block|,
literal|129
block|,
literal|130
block|,
literal|131
block|,
literal|132
block|,
literal|133
block|,
literal|134
block|,
literal|135
block|,
literal|136
block|,
literal|137
block|,
literal|145
block|,
literal|146
block|,
literal|147
block|,
literal|148
block|,
literal|149
block|,
literal|150
block|,
comment|/* 112 */
literal|151
block|,
literal|152
block|,
literal|153
block|,
literal|162
block|,
literal|163
block|,
literal|164
block|,
literal|165
block|,
literal|166
block|,
literal|167
block|,
literal|168
block|,
literal|169
block|,
literal|192
block|,
literal|79
block|,
literal|208
block|,
literal|161
block|,
literal|7
block|,
comment|/* 128 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 144 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 160 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 176 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 192 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 208 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 224 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 240 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
comment|/* 256 */
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|int
name|ascii_to_ibm1047_table
index|[]
init|=
block|{
literal|0
block|,
literal|1
block|,
literal|2
block|,
literal|3
block|,
literal|55
block|,
literal|45
block|,
literal|46
block|,
literal|47
block|,
literal|22
block|,
literal|5
block|,
literal|37
block|,
literal|11
block|,
literal|12
block|,
literal|13
block|,
literal|14
block|,
literal|15
block|,
comment|/* 16 */
literal|16
block|,
literal|17
block|,
literal|18
block|,
literal|19
block|,
literal|60
block|,
literal|61
block|,
literal|50
block|,
literal|38
block|,
literal|24
block|,
literal|25
block|,
literal|63
block|,
literal|39
block|,
literal|28
block|,
literal|29
block|,
literal|30
block|,
literal|31
block|,
comment|/* 32 */
literal|64
block|,
literal|90
block|,
literal|127
block|,
literal|123
block|,
literal|91
block|,
literal|108
block|,
literal|80
block|,
literal|125
block|,
literal|77
block|,
literal|93
block|,
literal|92
block|,
literal|78
block|,
literal|107
block|,
literal|96
block|,
literal|75
block|,
literal|97
block|,
comment|/* 48 */
literal|240
block|,
literal|241
block|,
literal|242
block|,
literal|243
block|,
literal|244
block|,
literal|245
block|,
literal|246
block|,
literal|247
block|,
literal|248
block|,
literal|249
block|,
literal|122
block|,
literal|94
block|,
literal|76
block|,
literal|126
block|,
literal|110
block|,
literal|111
block|,
comment|/* 64 */
literal|124
block|,
literal|193
block|,
literal|194
block|,
literal|195
block|,
literal|196
block|,
literal|197
block|,
literal|198
block|,
literal|199
block|,
literal|200
block|,
literal|201
block|,
literal|209
block|,
literal|210
block|,
literal|211
block|,
literal|212
block|,
literal|213
block|,
literal|214
block|,
comment|/* 80 */
literal|215
block|,
literal|216
block|,
literal|217
block|,
literal|226
block|,
literal|227
block|,
literal|228
block|,
literal|229
block|,
literal|230
block|,
literal|231
block|,
literal|232
block|,
literal|233
block|,
literal|173
block|,
literal|224
block|,
literal|189
block|,
literal|95
block|,
literal|109
block|,
comment|/* 96 */
literal|121
block|,
literal|129
block|,
literal|130
block|,
literal|131
block|,
literal|132
block|,
literal|133
block|,
literal|134
block|,
literal|135
block|,
literal|136
block|,
literal|137
block|,
literal|145
block|,
literal|146
block|,
literal|147
block|,
literal|148
block|,
literal|149
block|,
literal|150
block|,
comment|/* 112 */
literal|151
block|,
literal|152
block|,
literal|153
block|,
literal|162
block|,
literal|163
block|,
literal|164
block|,
literal|165
block|,
literal|166
block|,
literal|167
block|,
literal|168
block|,
literal|169
block|,
literal|192
block|,
literal|79
block|,
literal|208
block|,
literal|161
block|,
literal|7
block|,
comment|/* 128 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 144 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 160 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 176 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 192 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 208 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 224 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 240 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
comment|/* 256 */
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|int
name|iso_8859_1_to_ascii_table
index|[]
init|=
block|{
literal|0
block|,
literal|1
block|,
literal|2
block|,
literal|3
block|,
literal|4
block|,
literal|5
block|,
literal|6
block|,
literal|7
block|,
literal|8
block|,
literal|9
block|,
literal|10
block|,
literal|11
block|,
literal|12
block|,
literal|13
block|,
literal|14
block|,
literal|15
block|,
comment|/* 16 */
literal|16
block|,
literal|17
block|,
literal|18
block|,
literal|19
block|,
literal|20
block|,
literal|21
block|,
literal|22
block|,
literal|23
block|,
literal|24
block|,
literal|25
block|,
literal|26
block|,
literal|27
block|,
literal|28
block|,
literal|29
block|,
literal|30
block|,
literal|31
block|,
comment|/* 32 */
literal|32
block|,
literal|33
block|,
literal|34
block|,
literal|35
block|,
literal|36
block|,
literal|37
block|,
literal|38
block|,
literal|39
block|,
literal|40
block|,
literal|41
block|,
literal|42
block|,
literal|43
block|,
literal|44
block|,
literal|45
block|,
literal|46
block|,
literal|47
block|,
comment|/* 48 */
literal|48
block|,
literal|49
block|,
literal|50
block|,
literal|51
block|,
literal|52
block|,
literal|53
block|,
literal|54
block|,
literal|55
block|,
literal|56
block|,
literal|57
block|,
literal|58
block|,
literal|59
block|,
literal|60
block|,
literal|61
block|,
literal|62
block|,
literal|63
block|,
comment|/* 64 */
literal|64
block|,
literal|65
block|,
literal|66
block|,
literal|67
block|,
literal|68
block|,
literal|69
block|,
literal|70
block|,
literal|71
block|,
literal|72
block|,
literal|73
block|,
literal|74
block|,
literal|75
block|,
literal|76
block|,
literal|77
block|,
literal|78
block|,
literal|79
block|,
comment|/* 80 */
literal|80
block|,
literal|81
block|,
literal|82
block|,
literal|83
block|,
literal|84
block|,
literal|85
block|,
literal|86
block|,
literal|87
block|,
literal|88
block|,
literal|89
block|,
literal|90
block|,
literal|91
block|,
literal|92
block|,
literal|93
block|,
literal|94
block|,
literal|95
block|,
comment|/* 96 */
literal|96
block|,
literal|97
block|,
literal|98
block|,
literal|99
block|,
literal|100
block|,
literal|101
block|,
literal|102
block|,
literal|103
block|,
literal|104
block|,
literal|105
block|,
literal|106
block|,
literal|107
block|,
literal|108
block|,
literal|109
block|,
literal|110
block|,
literal|111
block|,
comment|/* 112 */
literal|112
block|,
literal|113
block|,
literal|114
block|,
literal|115
block|,
literal|116
block|,
literal|117
block|,
literal|118
block|,
literal|119
block|,
literal|120
block|,
literal|121
block|,
literal|122
block|,
literal|123
block|,
literal|124
block|,
literal|125
block|,
literal|126
block|,
literal|127
block|,
comment|/* 128 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 144 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 160 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 176 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 192 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 208 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 224 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 240 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
comment|/* 256 */
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|int
name|iso_8859_1_to_ebcdic_us_table
index|[]
init|=
block|{
literal|0
block|,
literal|1
block|,
literal|2
block|,
literal|3
block|,
literal|55
block|,
literal|45
block|,
literal|46
block|,
literal|47
block|,
literal|22
block|,
literal|5
block|,
literal|37
block|,
literal|11
block|,
literal|12
block|,
literal|13
block|,
literal|14
block|,
literal|15
block|,
comment|/* 16 */
literal|16
block|,
literal|17
block|,
literal|18
block|,
literal|19
block|,
literal|60
block|,
literal|61
block|,
literal|50
block|,
literal|38
block|,
literal|24
block|,
literal|25
block|,
literal|63
block|,
literal|39
block|,
literal|28
block|,
literal|29
block|,
literal|30
block|,
literal|31
block|,
comment|/* 32 */
literal|64
block|,
literal|90
block|,
literal|127
block|,
literal|123
block|,
literal|91
block|,
literal|108
block|,
literal|80
block|,
literal|125
block|,
literal|77
block|,
literal|93
block|,
literal|92
block|,
literal|78
block|,
literal|107
block|,
literal|96
block|,
literal|75
block|,
literal|97
block|,
comment|/* 48 */
literal|240
block|,
literal|241
block|,
literal|242
block|,
literal|243
block|,
literal|244
block|,
literal|245
block|,
literal|246
block|,
literal|247
block|,
literal|248
block|,
literal|249
block|,
literal|122
block|,
literal|94
block|,
literal|76
block|,
literal|126
block|,
literal|110
block|,
literal|111
block|,
comment|/* 64 */
literal|124
block|,
literal|193
block|,
literal|194
block|,
literal|195
block|,
literal|196
block|,
literal|197
block|,
literal|198
block|,
literal|199
block|,
literal|200
block|,
literal|201
block|,
literal|209
block|,
literal|210
block|,
literal|211
block|,
literal|212
block|,
literal|213
block|,
literal|214
block|,
comment|/* 80 */
literal|215
block|,
literal|216
block|,
literal|217
block|,
literal|226
block|,
literal|227
block|,
literal|228
block|,
literal|229
block|,
literal|230
block|,
literal|231
block|,
literal|232
block|,
literal|233
block|,
operator|-
literal|1
block|,
literal|224
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|109
block|,
comment|/* 96 */
literal|121
block|,
literal|129
block|,
literal|130
block|,
literal|131
block|,
literal|132
block|,
literal|133
block|,
literal|134
block|,
literal|135
block|,
literal|136
block|,
literal|137
block|,
literal|145
block|,
literal|146
block|,
literal|147
block|,
literal|148
block|,
literal|149
block|,
literal|150
block|,
comment|/* 112 */
literal|151
block|,
literal|152
block|,
literal|153
block|,
literal|162
block|,
literal|163
block|,
literal|164
block|,
literal|165
block|,
literal|166
block|,
literal|167
block|,
literal|168
block|,
literal|169
block|,
literal|192
block|,
literal|79
block|,
literal|208
block|,
literal|161
block|,
literal|7
block|,
comment|/* 128 */
literal|32
block|,
literal|33
block|,
literal|34
block|,
literal|35
block|,
literal|36
block|,
literal|21
block|,
literal|6
block|,
literal|23
block|,
literal|40
block|,
literal|41
block|,
literal|42
block|,
literal|43
block|,
literal|44
block|,
literal|9
block|,
literal|10
block|,
literal|27
block|,
comment|/* 144 */
literal|48
block|,
literal|49
block|,
literal|26
block|,
literal|51
block|,
literal|52
block|,
literal|53
block|,
literal|54
block|,
literal|8
block|,
literal|56
block|,
literal|57
block|,
literal|58
block|,
literal|59
block|,
literal|4
block|,
literal|20
block|,
literal|62
block|,
literal|255
block|,
comment|/* 160 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|74
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|106
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|95
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 176 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 192 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 208 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 224 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 240 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
comment|/* 256 */
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|int
name|iso_8859_1_to_ibm1047_table
index|[]
init|=
block|{
literal|0
block|,
literal|1
block|,
literal|2
block|,
literal|3
block|,
literal|55
block|,
literal|45
block|,
literal|46
block|,
literal|47
block|,
literal|22
block|,
literal|5
block|,
literal|37
block|,
literal|11
block|,
literal|12
block|,
literal|13
block|,
literal|14
block|,
literal|15
block|,
comment|/* 16 */
literal|16
block|,
literal|17
block|,
literal|18
block|,
literal|19
block|,
literal|60
block|,
literal|61
block|,
literal|50
block|,
literal|38
block|,
literal|24
block|,
literal|25
block|,
literal|63
block|,
literal|39
block|,
literal|28
block|,
literal|29
block|,
literal|30
block|,
literal|31
block|,
comment|/* 32 */
literal|64
block|,
literal|90
block|,
literal|127
block|,
literal|123
block|,
literal|91
block|,
literal|108
block|,
literal|80
block|,
literal|125
block|,
literal|77
block|,
literal|93
block|,
literal|92
block|,
literal|78
block|,
literal|107
block|,
literal|96
block|,
literal|75
block|,
literal|97
block|,
comment|/* 48 */
literal|240
block|,
literal|241
block|,
literal|242
block|,
literal|243
block|,
literal|244
block|,
literal|245
block|,
literal|246
block|,
literal|247
block|,
literal|248
block|,
literal|249
block|,
literal|122
block|,
literal|94
block|,
literal|76
block|,
literal|126
block|,
literal|110
block|,
literal|111
block|,
comment|/* 64 */
literal|124
block|,
literal|193
block|,
literal|194
block|,
literal|195
block|,
literal|196
block|,
literal|197
block|,
literal|198
block|,
literal|199
block|,
literal|200
block|,
literal|201
block|,
literal|209
block|,
literal|210
block|,
literal|211
block|,
literal|212
block|,
literal|213
block|,
literal|214
block|,
comment|/* 80 */
literal|215
block|,
literal|216
block|,
literal|217
block|,
literal|226
block|,
literal|227
block|,
literal|228
block|,
literal|229
block|,
literal|230
block|,
literal|231
block|,
literal|232
block|,
literal|233
block|,
literal|173
block|,
literal|224
block|,
literal|189
block|,
literal|95
block|,
literal|109
block|,
comment|/* 96 */
literal|121
block|,
literal|129
block|,
literal|130
block|,
literal|131
block|,
literal|132
block|,
literal|133
block|,
literal|134
block|,
literal|135
block|,
literal|136
block|,
literal|137
block|,
literal|145
block|,
literal|146
block|,
literal|147
block|,
literal|148
block|,
literal|149
block|,
literal|150
block|,
comment|/* 112 */
literal|151
block|,
literal|152
block|,
literal|153
block|,
literal|162
block|,
literal|163
block|,
literal|164
block|,
literal|165
block|,
literal|166
block|,
literal|167
block|,
literal|168
block|,
literal|169
block|,
literal|192
block|,
literal|79
block|,
literal|208
block|,
literal|161
block|,
literal|7
block|,
comment|/* 128 */
literal|32
block|,
literal|33
block|,
literal|34
block|,
literal|35
block|,
literal|36
block|,
literal|21
block|,
literal|6
block|,
literal|23
block|,
literal|40
block|,
literal|41
block|,
literal|42
block|,
literal|43
block|,
literal|44
block|,
literal|9
block|,
literal|10
block|,
literal|27
block|,
comment|/* 144 */
literal|48
block|,
literal|49
block|,
literal|26
block|,
literal|51
block|,
literal|52
block|,
literal|53
block|,
literal|54
block|,
literal|8
block|,
literal|56
block|,
literal|57
block|,
literal|58
block|,
literal|59
block|,
literal|4
block|,
literal|20
block|,
literal|62
block|,
literal|255
block|,
comment|/* 160 */
literal|65
block|,
literal|170
block|,
literal|74
block|,
literal|177
block|,
literal|159
block|,
literal|178
block|,
literal|106
block|,
literal|181
block|,
literal|187
block|,
literal|180
block|,
literal|154
block|,
literal|138
block|,
literal|176
block|,
literal|202
block|,
literal|175
block|,
literal|188
block|,
comment|/* 176 */
literal|144
block|,
literal|143
block|,
literal|234
block|,
literal|250
block|,
literal|190
block|,
literal|160
block|,
literal|182
block|,
literal|179
block|,
literal|157
block|,
literal|218
block|,
literal|155
block|,
literal|139
block|,
literal|183
block|,
literal|184
block|,
literal|185
block|,
literal|171
block|,
comment|/* 192 */
literal|100
block|,
literal|101
block|,
literal|98
block|,
literal|102
block|,
literal|99
block|,
literal|103
block|,
literal|158
block|,
literal|104
block|,
literal|116
block|,
literal|113
block|,
literal|114
block|,
literal|115
block|,
literal|120
block|,
literal|117
block|,
literal|118
block|,
literal|119
block|,
comment|/* 208 */
literal|172
block|,
literal|105
block|,
literal|237
block|,
literal|238
block|,
literal|235
block|,
literal|239
block|,
literal|236
block|,
literal|191
block|,
literal|128
block|,
literal|253
block|,
literal|254
block|,
literal|251
block|,
literal|252
block|,
literal|186
block|,
literal|174
block|,
literal|89
block|,
comment|/* 224 */
literal|68
block|,
literal|69
block|,
literal|66
block|,
literal|70
block|,
literal|67
block|,
literal|71
block|,
literal|156
block|,
literal|72
block|,
literal|84
block|,
literal|81
block|,
literal|82
block|,
literal|83
block|,
literal|88
block|,
literal|85
block|,
literal|86
block|,
literal|87
block|,
comment|/* 240 */
literal|140
block|,
literal|73
block|,
literal|205
block|,
literal|206
block|,
literal|203
block|,
literal|207
block|,
literal|204
block|,
literal|225
block|,
literal|112
block|,
literal|221
block|,
literal|222
block|,
literal|219
block|,
literal|220
block|,
literal|141
block|,
literal|142
block|,
literal|223
comment|/* 256 */
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|int
name|ebcdic_us_to_ascii_table
index|[]
init|=
block|{
literal|0
block|,
literal|1
block|,
literal|2
block|,
literal|3
block|,
operator|-
literal|1
block|,
literal|9
block|,
operator|-
literal|1
block|,
literal|127
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|11
block|,
literal|12
block|,
literal|13
block|,
literal|14
block|,
literal|15
block|,
comment|/* 16 */
literal|16
block|,
literal|17
block|,
literal|18
block|,
literal|19
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|8
block|,
operator|-
literal|1
block|,
literal|24
block|,
literal|25
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|28
block|,
literal|29
block|,
literal|30
block|,
literal|31
block|,
comment|/* 32 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|10
block|,
literal|23
block|,
literal|27
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|5
block|,
literal|6
block|,
literal|7
block|,
comment|/* 48 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|22
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|4
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|20
block|,
literal|21
block|,
operator|-
literal|1
block|,
literal|26
block|,
comment|/* 64 */
literal|32
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|46
block|,
literal|60
block|,
literal|40
block|,
literal|43
block|,
literal|124
block|,
comment|/* 80 */
literal|38
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|33
block|,
literal|36
block|,
literal|42
block|,
literal|41
block|,
literal|59
block|,
operator|-
literal|1
block|,
comment|/* 96 */
literal|45
block|,
literal|47
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|44
block|,
literal|37
block|,
literal|95
block|,
literal|62
block|,
literal|63
block|,
comment|/* 112 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|96
block|,
literal|58
block|,
literal|35
block|,
literal|64
block|,
literal|39
block|,
literal|61
block|,
literal|34
block|,
comment|/* 128 */
operator|-
literal|1
block|,
literal|97
block|,
literal|98
block|,
literal|99
block|,
literal|100
block|,
literal|101
block|,
literal|102
block|,
literal|103
block|,
literal|104
block|,
literal|105
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 144 */
operator|-
literal|1
block|,
literal|106
block|,
literal|107
block|,
literal|108
block|,
literal|109
block|,
literal|110
block|,
literal|111
block|,
literal|112
block|,
literal|113
block|,
literal|114
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 160 */
operator|-
literal|1
block|,
literal|126
block|,
literal|115
block|,
literal|116
block|,
literal|117
block|,
literal|118
block|,
literal|119
block|,
literal|120
block|,
literal|121
block|,
literal|122
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 176 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 192 */
literal|123
block|,
literal|65
block|,
literal|66
block|,
literal|67
block|,
literal|68
block|,
literal|69
block|,
literal|70
block|,
literal|71
block|,
literal|72
block|,
literal|73
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 208 */
literal|125
block|,
literal|74
block|,
literal|75
block|,
literal|76
block|,
literal|77
block|,
literal|78
block|,
literal|79
block|,
literal|80
block|,
literal|81
block|,
literal|82
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 224 */
literal|92
block|,
operator|-
literal|1
block|,
literal|83
block|,
literal|84
block|,
literal|85
block|,
literal|86
block|,
literal|87
block|,
literal|88
block|,
literal|89
block|,
literal|90
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 240 */
literal|48
block|,
literal|49
block|,
literal|50
block|,
literal|51
block|,
literal|52
block|,
literal|53
block|,
literal|54
block|,
literal|55
block|,
literal|56
block|,
literal|57
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
comment|/* 256 */
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|int
name|ebcdic_us_to_iso_8859_1_table
index|[]
init|=
block|{
literal|0
block|,
literal|1
block|,
literal|2
block|,
literal|3
block|,
literal|156
block|,
literal|9
block|,
literal|134
block|,
literal|127
block|,
literal|151
block|,
literal|141
block|,
literal|142
block|,
literal|11
block|,
literal|12
block|,
literal|13
block|,
literal|14
block|,
literal|15
block|,
comment|/* 16 */
literal|16
block|,
literal|17
block|,
literal|18
block|,
literal|19
block|,
literal|157
block|,
literal|133
block|,
literal|8
block|,
literal|135
block|,
literal|24
block|,
literal|25
block|,
literal|146
block|,
literal|143
block|,
literal|28
block|,
literal|29
block|,
literal|30
block|,
literal|31
block|,
comment|/* 32 */
literal|128
block|,
literal|129
block|,
literal|130
block|,
literal|131
block|,
literal|132
block|,
literal|10
block|,
literal|23
block|,
literal|27
block|,
literal|136
block|,
literal|137
block|,
literal|138
block|,
literal|139
block|,
literal|140
block|,
literal|5
block|,
literal|6
block|,
literal|7
block|,
comment|/* 48 */
literal|144
block|,
literal|145
block|,
literal|22
block|,
literal|147
block|,
literal|148
block|,
literal|149
block|,
literal|150
block|,
literal|4
block|,
literal|152
block|,
literal|153
block|,
literal|154
block|,
literal|155
block|,
literal|20
block|,
literal|21
block|,
literal|158
block|,
literal|26
block|,
comment|/* 64 */
literal|32
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|162
block|,
literal|46
block|,
literal|60
block|,
literal|40
block|,
literal|43
block|,
literal|124
block|,
comment|/* 80 */
literal|38
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|33
block|,
literal|36
block|,
literal|42
block|,
literal|41
block|,
literal|59
block|,
literal|172
block|,
comment|/* 96 */
literal|45
block|,
literal|47
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|166
block|,
literal|44
block|,
literal|37
block|,
literal|95
block|,
literal|62
block|,
literal|63
block|,
comment|/* 112 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|96
block|,
literal|58
block|,
literal|35
block|,
literal|64
block|,
literal|39
block|,
literal|61
block|,
literal|34
block|,
comment|/* 128 */
operator|-
literal|1
block|,
literal|97
block|,
literal|98
block|,
literal|99
block|,
literal|100
block|,
literal|101
block|,
literal|102
block|,
literal|103
block|,
literal|104
block|,
literal|105
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 144 */
operator|-
literal|1
block|,
literal|106
block|,
literal|107
block|,
literal|108
block|,
literal|109
block|,
literal|110
block|,
literal|111
block|,
literal|112
block|,
literal|113
block|,
literal|114
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 160 */
operator|-
literal|1
block|,
literal|126
block|,
literal|115
block|,
literal|116
block|,
literal|117
block|,
literal|118
block|,
literal|119
block|,
literal|120
block|,
literal|121
block|,
literal|122
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 176 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 192 */
literal|123
block|,
literal|65
block|,
literal|66
block|,
literal|67
block|,
literal|68
block|,
literal|69
block|,
literal|70
block|,
literal|71
block|,
literal|72
block|,
literal|73
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 208 */
literal|125
block|,
literal|74
block|,
literal|75
block|,
literal|76
block|,
literal|77
block|,
literal|78
block|,
literal|79
block|,
literal|80
block|,
literal|81
block|,
literal|82
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 224 */
literal|92
block|,
operator|-
literal|1
block|,
literal|83
block|,
literal|84
block|,
literal|85
block|,
literal|86
block|,
literal|87
block|,
literal|88
block|,
literal|89
block|,
literal|90
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 240 */
literal|48
block|,
literal|49
block|,
literal|50
block|,
literal|51
block|,
literal|52
block|,
literal|53
block|,
literal|54
block|,
literal|55
block|,
literal|56
block|,
literal|57
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|159
comment|/* 256 */
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|int
name|ebcdic_us_to_ibm1047_table
index|[]
init|=
block|{
literal|0
block|,
literal|1
block|,
literal|2
block|,
literal|3
block|,
literal|4
block|,
literal|5
block|,
literal|6
block|,
literal|7
block|,
literal|8
block|,
literal|9
block|,
literal|10
block|,
literal|11
block|,
literal|12
block|,
literal|13
block|,
literal|14
block|,
literal|15
block|,
comment|/* 16 */
literal|16
block|,
literal|17
block|,
literal|18
block|,
literal|19
block|,
literal|20
block|,
literal|21
block|,
literal|22
block|,
literal|23
block|,
literal|24
block|,
literal|25
block|,
literal|26
block|,
literal|27
block|,
literal|28
block|,
literal|29
block|,
literal|30
block|,
literal|31
block|,
comment|/* 32 */
literal|32
block|,
literal|33
block|,
literal|34
block|,
literal|35
block|,
literal|36
block|,
literal|37
block|,
literal|38
block|,
literal|39
block|,
literal|40
block|,
literal|41
block|,
literal|42
block|,
literal|43
block|,
literal|44
block|,
literal|45
block|,
literal|46
block|,
literal|47
block|,
comment|/* 48 */
literal|48
block|,
literal|49
block|,
literal|50
block|,
literal|51
block|,
literal|52
block|,
literal|53
block|,
literal|54
block|,
literal|55
block|,
literal|56
block|,
literal|57
block|,
literal|58
block|,
literal|59
block|,
literal|60
block|,
literal|61
block|,
literal|62
block|,
literal|63
block|,
comment|/* 64 */
literal|64
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|74
block|,
literal|75
block|,
literal|76
block|,
literal|77
block|,
literal|78
block|,
literal|79
block|,
comment|/* 80 */
literal|80
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|90
block|,
literal|91
block|,
literal|92
block|,
literal|93
block|,
literal|94
block|,
literal|176
block|,
comment|/* 96 */
literal|96
block|,
literal|97
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|106
block|,
literal|107
block|,
literal|108
block|,
literal|109
block|,
literal|110
block|,
literal|111
block|,
comment|/* 112 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|121
block|,
literal|122
block|,
literal|123
block|,
literal|124
block|,
literal|125
block|,
literal|126
block|,
literal|127
block|,
comment|/* 128 */
operator|-
literal|1
block|,
literal|129
block|,
literal|130
block|,
literal|131
block|,
literal|132
block|,
literal|133
block|,
literal|134
block|,
literal|135
block|,
literal|136
block|,
literal|137
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 144 */
operator|-
literal|1
block|,
literal|145
block|,
literal|146
block|,
literal|147
block|,
literal|148
block|,
literal|149
block|,
literal|150
block|,
literal|151
block|,
literal|152
block|,
literal|153
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 160 */
operator|-
literal|1
block|,
literal|161
block|,
literal|162
block|,
literal|163
block|,
literal|164
block|,
literal|165
block|,
literal|166
block|,
literal|167
block|,
literal|168
block|,
literal|169
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 176 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 192 */
literal|192
block|,
literal|193
block|,
literal|194
block|,
literal|195
block|,
literal|196
block|,
literal|197
block|,
literal|198
block|,
literal|199
block|,
literal|200
block|,
literal|201
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 208 */
literal|208
block|,
literal|209
block|,
literal|210
block|,
literal|211
block|,
literal|212
block|,
literal|213
block|,
literal|214
block|,
literal|215
block|,
literal|216
block|,
literal|217
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 224 */
literal|224
block|,
operator|-
literal|1
block|,
literal|226
block|,
literal|227
block|,
literal|228
block|,
literal|229
block|,
literal|230
block|,
literal|231
block|,
literal|232
block|,
literal|233
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 240 */
literal|240
block|,
literal|241
block|,
literal|242
block|,
literal|243
block|,
literal|244
block|,
literal|245
block|,
literal|246
block|,
literal|247
block|,
literal|248
block|,
literal|249
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|255
comment|/* 256 */
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|int
name|ibm1047_to_ascii_table
index|[]
init|=
block|{
literal|0
block|,
literal|1
block|,
literal|2
block|,
literal|3
block|,
operator|-
literal|1
block|,
literal|9
block|,
operator|-
literal|1
block|,
literal|127
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|11
block|,
literal|12
block|,
literal|13
block|,
literal|14
block|,
literal|15
block|,
comment|/* 16 */
literal|16
block|,
literal|17
block|,
literal|18
block|,
literal|19
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|8
block|,
operator|-
literal|1
block|,
literal|24
block|,
literal|25
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|28
block|,
literal|29
block|,
literal|30
block|,
literal|31
block|,
comment|/* 32 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|10
block|,
literal|23
block|,
literal|27
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|5
block|,
literal|6
block|,
literal|7
block|,
comment|/* 48 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|22
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|4
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|20
block|,
literal|21
block|,
operator|-
literal|1
block|,
literal|26
block|,
comment|/* 64 */
literal|32
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|46
block|,
literal|60
block|,
literal|40
block|,
literal|43
block|,
literal|124
block|,
comment|/* 80 */
literal|38
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|33
block|,
literal|36
block|,
literal|42
block|,
literal|41
block|,
literal|59
block|,
literal|94
block|,
comment|/* 96 */
literal|45
block|,
literal|47
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|44
block|,
literal|37
block|,
literal|95
block|,
literal|62
block|,
literal|63
block|,
comment|/* 112 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|96
block|,
literal|58
block|,
literal|35
block|,
literal|64
block|,
literal|39
block|,
literal|61
block|,
literal|34
block|,
comment|/* 128 */
operator|-
literal|1
block|,
literal|97
block|,
literal|98
block|,
literal|99
block|,
literal|100
block|,
literal|101
block|,
literal|102
block|,
literal|103
block|,
literal|104
block|,
literal|105
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 144 */
operator|-
literal|1
block|,
literal|106
block|,
literal|107
block|,
literal|108
block|,
literal|109
block|,
literal|110
block|,
literal|111
block|,
literal|112
block|,
literal|113
block|,
literal|114
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 160 */
operator|-
literal|1
block|,
literal|126
block|,
literal|115
block|,
literal|116
block|,
literal|117
block|,
literal|118
block|,
literal|119
block|,
literal|120
block|,
literal|121
block|,
literal|122
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|91
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 176 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|93
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 192 */
literal|123
block|,
literal|65
block|,
literal|66
block|,
literal|67
block|,
literal|68
block|,
literal|69
block|,
literal|70
block|,
literal|71
block|,
literal|72
block|,
literal|73
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 208 */
literal|125
block|,
literal|74
block|,
literal|75
block|,
literal|76
block|,
literal|77
block|,
literal|78
block|,
literal|79
block|,
literal|80
block|,
literal|81
block|,
literal|82
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 224 */
literal|92
block|,
operator|-
literal|1
block|,
literal|83
block|,
literal|84
block|,
literal|85
block|,
literal|86
block|,
literal|87
block|,
literal|88
block|,
literal|89
block|,
literal|90
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 240 */
literal|48
block|,
literal|49
block|,
literal|50
block|,
literal|51
block|,
literal|52
block|,
literal|53
block|,
literal|54
block|,
literal|55
block|,
literal|56
block|,
literal|57
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
comment|/* 256 */
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|int
name|ibm1047_to_iso_8859_1_table
index|[]
init|=
block|{
literal|0
block|,
literal|1
block|,
literal|2
block|,
literal|3
block|,
literal|156
block|,
literal|9
block|,
literal|134
block|,
literal|127
block|,
literal|151
block|,
literal|141
block|,
literal|142
block|,
literal|11
block|,
literal|12
block|,
literal|13
block|,
literal|14
block|,
literal|15
block|,
comment|/* 16 */
literal|16
block|,
literal|17
block|,
literal|18
block|,
literal|19
block|,
literal|157
block|,
literal|133
block|,
literal|8
block|,
literal|135
block|,
literal|24
block|,
literal|25
block|,
literal|146
block|,
literal|143
block|,
literal|28
block|,
literal|29
block|,
literal|30
block|,
literal|31
block|,
comment|/* 32 */
literal|128
block|,
literal|129
block|,
literal|130
block|,
literal|131
block|,
literal|132
block|,
literal|10
block|,
literal|23
block|,
literal|27
block|,
literal|136
block|,
literal|137
block|,
literal|138
block|,
literal|139
block|,
literal|140
block|,
literal|5
block|,
literal|6
block|,
literal|7
block|,
comment|/* 48 */
literal|144
block|,
literal|145
block|,
literal|22
block|,
literal|147
block|,
literal|148
block|,
literal|149
block|,
literal|150
block|,
literal|4
block|,
literal|152
block|,
literal|153
block|,
literal|154
block|,
literal|155
block|,
literal|20
block|,
literal|21
block|,
literal|158
block|,
literal|26
block|,
comment|/* 64 */
literal|32
block|,
literal|160
block|,
literal|226
block|,
literal|228
block|,
literal|224
block|,
literal|225
block|,
literal|227
block|,
literal|229
block|,
literal|231
block|,
literal|241
block|,
literal|162
block|,
literal|46
block|,
literal|60
block|,
literal|40
block|,
literal|43
block|,
literal|124
block|,
comment|/* 80 */
literal|38
block|,
literal|233
block|,
literal|234
block|,
literal|235
block|,
literal|232
block|,
literal|237
block|,
literal|238
block|,
literal|239
block|,
literal|236
block|,
literal|223
block|,
literal|33
block|,
literal|36
block|,
literal|42
block|,
literal|41
block|,
literal|59
block|,
literal|94
block|,
comment|/* 96 */
literal|45
block|,
literal|47
block|,
literal|194
block|,
literal|196
block|,
literal|192
block|,
literal|193
block|,
literal|195
block|,
literal|197
block|,
literal|199
block|,
literal|209
block|,
literal|166
block|,
literal|44
block|,
literal|37
block|,
literal|95
block|,
literal|62
block|,
literal|63
block|,
comment|/* 112 */
literal|248
block|,
literal|201
block|,
literal|202
block|,
literal|203
block|,
literal|200
block|,
literal|205
block|,
literal|206
block|,
literal|207
block|,
literal|204
block|,
literal|96
block|,
literal|58
block|,
literal|35
block|,
literal|64
block|,
literal|39
block|,
literal|61
block|,
literal|34
block|,
comment|/* 128 */
literal|216
block|,
literal|97
block|,
literal|98
block|,
literal|99
block|,
literal|100
block|,
literal|101
block|,
literal|102
block|,
literal|103
block|,
literal|104
block|,
literal|105
block|,
literal|171
block|,
literal|187
block|,
literal|240
block|,
literal|253
block|,
literal|254
block|,
literal|177
block|,
comment|/* 144 */
literal|176
block|,
literal|106
block|,
literal|107
block|,
literal|108
block|,
literal|109
block|,
literal|110
block|,
literal|111
block|,
literal|112
block|,
literal|113
block|,
literal|114
block|,
literal|170
block|,
literal|186
block|,
literal|230
block|,
literal|184
block|,
literal|198
block|,
literal|164
block|,
comment|/* 160 */
literal|181
block|,
literal|126
block|,
literal|115
block|,
literal|116
block|,
literal|117
block|,
literal|118
block|,
literal|119
block|,
literal|120
block|,
literal|121
block|,
literal|122
block|,
literal|161
block|,
literal|191
block|,
literal|208
block|,
literal|91
block|,
literal|222
block|,
literal|174
block|,
comment|/* 176 */
literal|172
block|,
literal|163
block|,
literal|165
block|,
literal|183
block|,
literal|169
block|,
literal|167
block|,
literal|182
block|,
literal|188
block|,
literal|189
block|,
literal|190
block|,
literal|221
block|,
literal|168
block|,
literal|175
block|,
literal|93
block|,
literal|180
block|,
literal|215
block|,
comment|/* 192 */
literal|123
block|,
literal|65
block|,
literal|66
block|,
literal|67
block|,
literal|68
block|,
literal|69
block|,
literal|70
block|,
literal|71
block|,
literal|72
block|,
literal|73
block|,
literal|173
block|,
literal|244
block|,
literal|246
block|,
literal|242
block|,
literal|243
block|,
literal|245
block|,
comment|/* 208 */
literal|125
block|,
literal|74
block|,
literal|75
block|,
literal|76
block|,
literal|77
block|,
literal|78
block|,
literal|79
block|,
literal|80
block|,
literal|81
block|,
literal|82
block|,
literal|185
block|,
literal|251
block|,
literal|252
block|,
literal|249
block|,
literal|250
block|,
literal|255
block|,
comment|/* 224 */
literal|92
block|,
literal|247
block|,
literal|83
block|,
literal|84
block|,
literal|85
block|,
literal|86
block|,
literal|87
block|,
literal|88
block|,
literal|89
block|,
literal|90
block|,
literal|178
block|,
literal|212
block|,
literal|214
block|,
literal|210
block|,
literal|211
block|,
literal|213
block|,
comment|/* 240 */
literal|48
block|,
literal|49
block|,
literal|50
block|,
literal|51
block|,
literal|52
block|,
literal|53
block|,
literal|54
block|,
literal|55
block|,
literal|56
block|,
literal|57
block|,
literal|179
block|,
literal|219
block|,
literal|220
block|,
literal|217
block|,
literal|218
block|,
literal|159
comment|/* 256 */
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|int
name|ibm1047_to_ebcdic_us_table
index|[]
init|=
block|{
literal|0
block|,
literal|1
block|,
literal|2
block|,
literal|3
block|,
literal|4
block|,
literal|5
block|,
literal|6
block|,
literal|7
block|,
literal|8
block|,
literal|9
block|,
literal|10
block|,
literal|11
block|,
literal|12
block|,
literal|13
block|,
literal|14
block|,
literal|15
block|,
comment|/* 16 */
literal|16
block|,
literal|17
block|,
literal|18
block|,
literal|19
block|,
literal|20
block|,
literal|21
block|,
literal|22
block|,
literal|23
block|,
literal|24
block|,
literal|25
block|,
literal|26
block|,
literal|27
block|,
literal|28
block|,
literal|29
block|,
literal|30
block|,
literal|31
block|,
comment|/* 32 */
literal|32
block|,
literal|33
block|,
literal|34
block|,
literal|35
block|,
literal|36
block|,
literal|37
block|,
literal|38
block|,
literal|39
block|,
literal|40
block|,
literal|41
block|,
literal|42
block|,
literal|43
block|,
literal|44
block|,
literal|45
block|,
literal|46
block|,
literal|47
block|,
comment|/* 48 */
literal|48
block|,
literal|49
block|,
literal|50
block|,
literal|51
block|,
literal|52
block|,
literal|53
block|,
literal|54
block|,
literal|55
block|,
literal|56
block|,
literal|57
block|,
literal|58
block|,
literal|59
block|,
literal|60
block|,
literal|61
block|,
literal|62
block|,
literal|63
block|,
comment|/* 64 */
literal|64
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|74
block|,
literal|75
block|,
literal|76
block|,
literal|77
block|,
literal|78
block|,
literal|79
block|,
comment|/* 80 */
literal|80
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|90
block|,
literal|91
block|,
literal|92
block|,
literal|93
block|,
literal|94
block|,
operator|-
literal|1
block|,
comment|/* 96 */
literal|96
block|,
literal|97
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|106
block|,
literal|107
block|,
literal|108
block|,
literal|109
block|,
literal|110
block|,
literal|111
block|,
comment|/* 112 */
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|121
block|,
literal|122
block|,
literal|123
block|,
literal|124
block|,
literal|125
block|,
literal|126
block|,
literal|127
block|,
comment|/* 128 */
operator|-
literal|1
block|,
literal|129
block|,
literal|130
block|,
literal|131
block|,
literal|132
block|,
literal|133
block|,
literal|134
block|,
literal|135
block|,
literal|136
block|,
literal|137
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 144 */
operator|-
literal|1
block|,
literal|145
block|,
literal|146
block|,
literal|147
block|,
literal|148
block|,
literal|149
block|,
literal|150
block|,
literal|151
block|,
literal|152
block|,
literal|153
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 160 */
operator|-
literal|1
block|,
literal|161
block|,
literal|162
block|,
literal|163
block|,
literal|164
block|,
literal|165
block|,
literal|166
block|,
literal|167
block|,
literal|168
block|,
literal|169
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 176 */
literal|95
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 192 */
literal|192
block|,
literal|193
block|,
literal|194
block|,
literal|195
block|,
literal|196
block|,
literal|197
block|,
literal|198
block|,
literal|199
block|,
literal|200
block|,
literal|201
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 208 */
literal|208
block|,
literal|209
block|,
literal|210
block|,
literal|211
block|,
literal|212
block|,
literal|213
block|,
literal|214
block|,
literal|215
block|,
literal|216
block|,
literal|217
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 224 */
literal|224
block|,
operator|-
literal|1
block|,
literal|226
block|,
literal|227
block|,
literal|228
block|,
literal|229
block|,
literal|230
block|,
literal|231
block|,
literal|232
block|,
literal|233
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
comment|/* 240 */
literal|240
block|,
literal|241
block|,
literal|242
block|,
literal|243
block|,
literal|244
block|,
literal|245
block|,
literal|246
block|,
literal|247
block|,
literal|248
block|,
literal|249
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
operator|-
literal|1
block|,
literal|255
comment|/* 256 */
block|}
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|int
name|table_convert_char
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
name|int
name|from
parameter_list|,
name|int
modifier|*
name|to
parameter_list|)
block|{
name|int
modifier|*
name|table
init|=
operator|(
name|int
operator|*
operator|)
name|baton
decl_stmt|;
if|if
condition|(
literal|0
operator|<=
name|from
operator|&&
name|from
operator|<=
literal|255
operator|&&
name|table
index|[
name|from
index|]
operator|!=
operator|-
literal|1
condition|)
block|{
operator|*
name|to
operator|=
name|table
index|[
name|from
index|]
expr_stmt|;
return|return
literal|1
return|;
block|}
else|else
return|return
literal|0
return|;
block|}
end_function

begin_function
specifier|static
name|struct
name|translation
modifier|*
name|table_translation
parameter_list|(
specifier|const
name|char
modifier|*
name|from
parameter_list|,
specifier|const
name|char
modifier|*
name|to
parameter_list|,
name|int
modifier|*
name|table
parameter_list|,
specifier|const
name|char
modifier|*
function_decl|(
modifier|*
name|c_target_char_has_backslash_escape
function_decl|)
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
name|int
name|target_char
parameter_list|)
parameter_list|,
name|void
modifier|*
name|c_target_char_has_backslash_escape_baton
parameter_list|,
name|int
function_decl|(
modifier|*
name|c_parse_backslash
function_decl|)
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
name|int
name|host_char
parameter_list|,
name|int
modifier|*
name|target_char
parameter_list|)
parameter_list|,
name|void
modifier|*
name|c_parse_backslash_baton
parameter_list|)
block|{
name|struct
name|translation
modifier|*
name|t
init|=
name|xmalloc
argument_list|(
sizeof|sizeof
argument_list|(
operator|*
name|t
argument_list|)
argument_list|)
decl_stmt|;
name|memset
argument_list|(
name|t
argument_list|,
literal|0
argument_list|,
sizeof|sizeof
argument_list|(
operator|*
name|t
argument_list|)
argument_list|)
expr_stmt|;
name|t
operator|->
name|from
operator|=
name|from
expr_stmt|;
name|t
operator|->
name|to
operator|=
name|to
expr_stmt|;
name|t
operator|->
name|c_target_char_has_backslash_escape
operator|=
name|c_target_char_has_backslash_escape
expr_stmt|;
name|t
operator|->
name|c_target_char_has_backslash_escape_baton
operator|=
name|c_target_char_has_backslash_escape_baton
expr_stmt|;
name|t
operator|->
name|c_parse_backslash
operator|=
name|c_parse_backslash
expr_stmt|;
name|t
operator|->
name|c_parse_backslash_baton
operator|=
name|c_parse_backslash_baton
expr_stmt|;
name|t
operator|->
name|convert_char
operator|=
name|table_convert_char
expr_stmt|;
name|t
operator|->
name|convert_char_baton
operator|=
operator|(
name|void
operator|*
operator|)
name|table
expr_stmt|;
return|return
name|t
return|;
block|}
end_function

begin_function
specifier|static
name|struct
name|translation
modifier|*
name|simple_table_translation
parameter_list|(
specifier|const
name|char
modifier|*
name|from
parameter_list|,
specifier|const
name|char
modifier|*
name|to
parameter_list|,
name|int
modifier|*
name|table
parameter_list|)
block|{
return|return
name|table_translation
argument_list|(
name|from
argument_list|,
name|to
argument_list|,
name|table
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
return|;
block|}
end_function

begin_escape
end_escape

begin_comment
comment|/* Setting and retrieving the host and target charsets.  */
end_comment

begin_comment
comment|/* The current host and target character sets.  */
end_comment

begin_decl_stmt
specifier|static
name|struct
name|charset
modifier|*
name|current_host_charset
decl_stmt|,
modifier|*
name|current_target_charset
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* The current functions and batons we should use for the functions in    charset.h.  */
end_comment

begin_function_decl
specifier|static
specifier|const
name|char
modifier|*
function_decl|(
modifier|*
name|c_target_char_has_backslash_escape_func
function_decl|)
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
name|int
name|target_char
parameter_list|)
function_decl|;
end_function_decl

begin_decl_stmt
specifier|static
name|void
modifier|*
name|c_target_char_has_backslash_escape_baton
decl_stmt|;
end_decl_stmt

begin_function_decl
specifier|static
name|int
function_decl|(
modifier|*
name|c_parse_backslash_func
function_decl|)
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
name|int
name|host_char
parameter_list|,
name|int
modifier|*
name|target_char
parameter_list|)
function_decl|;
end_function_decl

begin_decl_stmt
specifier|static
name|void
modifier|*
name|c_parse_backslash_baton
decl_stmt|;
end_decl_stmt

begin_function_decl
specifier|static
name|int
function_decl|(
modifier|*
name|host_char_to_target_func
function_decl|)
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
name|int
name|host_char
parameter_list|,
name|int
modifier|*
name|target_char
parameter_list|)
function_decl|;
end_function_decl

begin_decl_stmt
specifier|static
name|void
modifier|*
name|host_char_to_target_baton
decl_stmt|;
end_decl_stmt

begin_function_decl
specifier|static
name|int
function_decl|(
modifier|*
name|target_char_to_host_func
function_decl|)
parameter_list|(
name|void
modifier|*
name|baton
parameter_list|,
name|int
name|target_char
parameter_list|,
name|int
modifier|*
name|host_char
parameter_list|)
function_decl|;
end_function_decl

begin_decl_stmt
specifier|static
name|void
modifier|*
name|target_char_to_host_baton
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* Cached iconv conversions, that might be useful to fallback    routines.  */
end_comment

begin_decl_stmt
specifier|static
name|struct
name|cached_iconv
name|cached_iconv_host_to_target
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|struct
name|cached_iconv
name|cached_iconv_target_to_host
decl_stmt|;
end_decl_stmt

begin_escape
end_escape

begin_comment
comment|/* Charset structures manipulation functions.  */
end_comment

begin_function
specifier|static
name|struct
name|charset
modifier|*
name|lookup_charset_or_error
parameter_list|(
specifier|const
name|char
modifier|*
name|name
parameter_list|)
block|{
name|struct
name|charset
modifier|*
name|cs
init|=
name|lookup_charset
argument_list|(
name|name
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|cs
condition|)
name|error
argument_list|(
literal|"GDB doesn't know of any character set named `%s'."
argument_list|,
name|name
argument_list|)
expr_stmt|;
return|return
name|cs
return|;
block|}
end_function

begin_function
specifier|static
name|void
name|check_valid_host_charset
parameter_list|(
name|struct
name|charset
modifier|*
name|cs
parameter_list|)
block|{
if|if
condition|(
operator|!
name|cs
operator|->
name|valid_host_charset
condition|)
name|error
argument_list|(
literal|"GDB can't use `%s' as its host character set."
argument_list|,
name|cs
operator|->
name|name
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/* Set the host and target character sets to HOST and TARGET.  */
end_comment

begin_function
specifier|static
name|void
name|set_host_and_target_charsets
parameter_list|(
name|struct
name|charset
modifier|*
name|host
parameter_list|,
name|struct
name|charset
modifier|*
name|target
parameter_list|)
block|{
name|struct
name|translation
modifier|*
name|h2t
decl_stmt|,
modifier|*
name|t2h
decl_stmt|;
comment|/* If they're not both initialized yet, then just do nothing for      now.  As soon as we're done running our initialize function,      everything will be initialized.  */
if|if
condition|(
operator|!
name|host
operator|||
operator|!
name|target
condition|)
block|{
name|current_host_charset
operator|=
name|host
expr_stmt|;
name|current_target_charset
operator|=
name|target
expr_stmt|;
return|return;
block|}
name|h2t
operator|=
name|lookup_translation
argument_list|(
name|host
operator|->
name|name
argument_list|,
name|target
operator|->
name|name
argument_list|)
expr_stmt|;
name|t2h
operator|=
name|lookup_translation
argument_list|(
name|target
operator|->
name|name
argument_list|,
name|host
operator|->
name|name
argument_list|)
expr_stmt|;
comment|/* If the translations don't provide conversion functions, make sure      iconv can back them up.  Do this *before* modifying any state.  */
if|if
condition|(
name|host
operator|!=
name|target
condition|)
block|{
if|if
condition|(
operator|!
name|h2t
operator|||
operator|!
name|h2t
operator|->
name|convert_char
condition|)
block|{
if|if
condition|(
name|check_iconv_cache
argument_list|(
operator|&
name|cached_iconv_host_to_target
argument_list|,
name|host
argument_list|,
name|target
argument_list|)
operator|<
literal|0
condition|)
name|error
argument_list|(
literal|"GDB can't convert from the `%s' character set to `%s'."
argument_list|,
name|host
operator|->
name|name
argument_list|,
name|target
operator|->
name|name
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|t2h
operator|||
operator|!
name|t2h
operator|->
name|convert_char
condition|)
block|{
if|if
condition|(
name|check_iconv_cache
argument_list|(
operator|&
name|cached_iconv_target_to_host
argument_list|,
name|target
argument_list|,
name|host
argument_list|)
operator|<
literal|0
condition|)
name|error
argument_list|(
literal|"GDB can't convert from the `%s' character set to `%s'."
argument_list|,
name|target
operator|->
name|name
argument_list|,
name|host
operator|->
name|name
argument_list|)
expr_stmt|;
block|}
block|}
if|if
condition|(
name|t2h
operator|&&
name|t2h
operator|->
name|c_target_char_has_backslash_escape
condition|)
block|{
name|c_target_char_has_backslash_escape_func
operator|=
name|t2h
operator|->
name|c_target_char_has_backslash_escape
expr_stmt|;
name|c_target_char_has_backslash_escape_baton
operator|=
name|t2h
operator|->
name|c_target_char_has_backslash_escape_baton
expr_stmt|;
block|}
else|else
name|c_target_char_has_backslash_escape_func
operator|=
name|default_c_target_char_has_backslash_escape
expr_stmt|;
if|if
condition|(
name|h2t
operator|&&
name|h2t
operator|->
name|c_parse_backslash
condition|)
block|{
name|c_parse_backslash_func
operator|=
name|h2t
operator|->
name|c_parse_backslash
expr_stmt|;
name|c_parse_backslash_baton
operator|=
name|h2t
operator|->
name|c_parse_backslash_baton
expr_stmt|;
block|}
else|else
name|c_parse_backslash_func
operator|=
name|default_c_parse_backslash
expr_stmt|;
if|if
condition|(
name|h2t
operator|&&
name|h2t
operator|->
name|convert_char
condition|)
block|{
name|host_char_to_target_func
operator|=
name|h2t
operator|->
name|convert_char
expr_stmt|;
name|host_char_to_target_baton
operator|=
name|h2t
operator|->
name|convert_char_baton
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|host
operator|==
name|target
condition|)
name|host_char_to_target_func
operator|=
name|identity_either_char_to_other
expr_stmt|;
else|else
block|{
name|host_char_to_target_func
operator|=
name|iconv_convert
expr_stmt|;
name|host_char_to_target_baton
operator|=
operator|&
name|cached_iconv_host_to_target
expr_stmt|;
block|}
if|if
condition|(
name|t2h
operator|&&
name|t2h
operator|->
name|convert_char
condition|)
block|{
name|target_char_to_host_func
operator|=
name|t2h
operator|->
name|convert_char
expr_stmt|;
name|target_char_to_host_baton
operator|=
name|t2h
operator|->
name|convert_char_baton
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|host
operator|==
name|target
condition|)
name|target_char_to_host_func
operator|=
name|identity_either_char_to_other
expr_stmt|;
else|else
block|{
name|target_char_to_host_func
operator|=
name|iconv_convert
expr_stmt|;
name|target_char_to_host_baton
operator|=
operator|&
name|cached_iconv_target_to_host
expr_stmt|;
block|}
name|current_host_charset
operator|=
name|host
expr_stmt|;
name|current_target_charset
operator|=
name|target
expr_stmt|;
block|}
end_function

begin_comment
comment|/* Do the real work of setting the host charset.  */
end_comment

begin_function
specifier|static
name|void
name|set_host_charset
parameter_list|(
specifier|const
name|char
modifier|*
name|charset
parameter_list|)
block|{
name|struct
name|charset
modifier|*
name|cs
init|=
name|lookup_charset_or_error
argument_list|(
name|charset
argument_list|)
decl_stmt|;
name|check_valid_host_charset
argument_list|(
name|cs
argument_list|)
expr_stmt|;
name|set_host_and_target_charsets
argument_list|(
name|cs
argument_list|,
name|current_target_charset
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/* Do the real work of setting the target charset.  */
end_comment

begin_function
specifier|static
name|void
name|set_target_charset
parameter_list|(
specifier|const
name|char
modifier|*
name|charset
parameter_list|)
block|{
name|struct
name|charset
modifier|*
name|cs
init|=
name|lookup_charset_or_error
argument_list|(
name|charset
argument_list|)
decl_stmt|;
name|set_host_and_target_charsets
argument_list|(
name|current_host_charset
argument_list|,
name|cs
argument_list|)
expr_stmt|;
block|}
end_function

begin_escape
end_escape

begin_comment
comment|/* 'Set charset', 'set host-charset', 'set target-charset', 'show    charset' sfunc's.  */
end_comment

begin_comment
comment|/* This is the sfunc for the 'set charset' command.  */
end_comment

begin_function
specifier|static
name|void
name|set_charset_sfunc
parameter_list|(
name|char
modifier|*
name|charset
parameter_list|,
name|int
name|from_tty
parameter_list|,
name|struct
name|cmd_list_element
modifier|*
name|c
parameter_list|)
block|{
name|struct
name|charset
modifier|*
name|cs
init|=
name|lookup_charset_or_error
argument_list|(
name|host_charset_name
argument_list|)
decl_stmt|;
name|check_valid_host_charset
argument_list|(
name|cs
argument_list|)
expr_stmt|;
comment|/* CAREFUL: set the target charset here as well. */
name|target_charset_name
operator|=
name|host_charset_name
expr_stmt|;
name|set_host_and_target_charsets
argument_list|(
name|cs
argument_list|,
name|cs
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/* 'set host-charset' command sfunc.  We need a wrapper here because    the function needs to have a specific signature.  */
end_comment

begin_function
specifier|static
name|void
name|set_host_charset_sfunc
parameter_list|(
name|char
modifier|*
name|charset
parameter_list|,
name|int
name|from_tty
parameter_list|,
name|struct
name|cmd_list_element
modifier|*
name|c
parameter_list|)
block|{
name|set_host_charset
argument_list|(
name|host_charset_name
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/* Wrapper for the 'set target-charset' command.  */
end_comment

begin_function
specifier|static
name|void
name|set_target_charset_sfunc
parameter_list|(
name|char
modifier|*
name|charset
parameter_list|,
name|int
name|from_tty
parameter_list|,
name|struct
name|cmd_list_element
modifier|*
name|c
parameter_list|)
block|{
name|set_target_charset
argument_list|(
name|target_charset_name
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/* sfunc for the 'show charset' command.  */
end_comment

begin_function
specifier|static
name|void
name|show_charset
parameter_list|(
name|char
modifier|*
name|arg
parameter_list|,
name|int
name|from_tty
parameter_list|)
block|{
if|if
condition|(
name|current_host_charset
operator|==
name|current_target_charset
condition|)
block|{
name|printf_filtered
argument_list|(
literal|"The current host and target character set is `%s'.\n"
argument_list|,
name|host_charset
argument_list|()
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|printf_filtered
argument_list|(
literal|"The current host character set is `%s'.\n"
argument_list|,
name|host_charset
argument_list|()
argument_list|)
expr_stmt|;
name|printf_filtered
argument_list|(
literal|"The current target character set is `%s'.\n"
argument_list|,
name|target_charset
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
end_function

begin_escape
end_escape

begin_comment
comment|/* Accessor functions.  */
end_comment

begin_function
specifier|const
name|char
modifier|*
name|host_charset
parameter_list|(
name|void
parameter_list|)
block|{
return|return
name|current_host_charset
operator|->
name|name
return|;
block|}
end_function

begin_function
specifier|const
name|char
modifier|*
name|target_charset
parameter_list|(
name|void
parameter_list|)
block|{
return|return
name|current_target_charset
operator|->
name|name
return|;
block|}
end_function

begin_escape
end_escape

begin_comment
comment|/* Public character management functions.  */
end_comment

begin_function
specifier|const
name|char
modifier|*
name|c_target_char_has_backslash_escape
parameter_list|(
name|int
name|target_char
parameter_list|)
block|{
return|return
operator|(
call|(
modifier|*
name|c_target_char_has_backslash_escape_func
call|)
argument_list|(
name|c_target_char_has_backslash_escape_baton
argument_list|,
name|target_char
argument_list|)
operator|)
return|;
block|}
end_function

begin_function
name|int
name|c_parse_backslash
parameter_list|(
name|int
name|host_char
parameter_list|,
name|int
modifier|*
name|target_char
parameter_list|)
block|{
return|return
call|(
modifier|*
name|c_parse_backslash_func
call|)
argument_list|(
name|c_parse_backslash_baton
argument_list|,
name|host_char
argument_list|,
name|target_char
argument_list|)
return|;
block|}
end_function

begin_function
name|int
name|host_char_print_literally
parameter_list|(
name|int
name|host_char
parameter_list|)
block|{
return|return
operator|(
call|(
modifier|*
name|current_host_charset
operator|->
name|host_char_print_literally
call|)
argument_list|(
name|current_host_charset
operator|->
name|host_char_print_literally_baton
argument_list|,
name|host_char
argument_list|)
operator|)
return|;
block|}
end_function

begin_function
name|int
name|target_char_to_control_char
parameter_list|(
name|int
name|target_char
parameter_list|,
name|int
modifier|*
name|target_ctrl_char
parameter_list|)
block|{
return|return
operator|(
call|(
modifier|*
name|current_target_charset
operator|->
name|target_char_to_control_char
call|)
argument_list|(
name|current_target_charset
operator|->
name|target_char_to_control_char_baton
argument_list|,
name|target_char
argument_list|,
name|target_ctrl_char
argument_list|)
operator|)
return|;
block|}
end_function

begin_function
name|int
name|host_char_to_target
parameter_list|(
name|int
name|host_char
parameter_list|,
name|int
modifier|*
name|target_char
parameter_list|)
block|{
return|return
operator|(
call|(
modifier|*
name|host_char_to_target_func
call|)
argument_list|(
name|host_char_to_target_baton
argument_list|,
name|host_char
argument_list|,
name|target_char
argument_list|)
operator|)
return|;
block|}
end_function

begin_function
name|int
name|target_char_to_host
parameter_list|(
name|int
name|target_char
parameter_list|,
name|int
modifier|*
name|host_char
parameter_list|)
block|{
return|return
operator|(
call|(
modifier|*
name|target_char_to_host_func
call|)
argument_list|(
name|target_char_to_host_baton
argument_list|,
name|target_char
argument_list|,
name|host_char
argument_list|)
operator|)
return|;
block|}
end_function

begin_escape
end_escape

begin_comment
comment|/* The charset.c module initialization function.  */
end_comment

begin_decl_stmt
specifier|extern
name|initialize_file_ftype
name|_initialize_charset
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* -Wmissing-prototype */
end_comment

begin_function
name|void
name|_initialize_charset
parameter_list|(
name|void
parameter_list|)
block|{
name|struct
name|cmd_list_element
modifier|*
name|new_cmd
decl_stmt|;
comment|/* Register all the character set GDB knows about.       You should use the same names that iconv does, where possible, to      take advantage of the iconv-based default behaviors.       CAUTION: if you register a character set, you must also register      as many translations as are necessary to make that character set      interoperate correctly with all the other character sets.  We do      provide default behaviors when no translation is available, or      when a translation's function pointer for a particular operation      is zero.  Hopefully, these defaults will be correct often enough      that we won't need to provide too many translations.  */
name|register_charset
argument_list|(
name|simple_charset
argument_list|(
literal|"ASCII"
argument_list|,
literal|1
argument_list|,
name|ascii_print_literally
argument_list|,
literal|0
argument_list|,
name|ascii_to_control
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|register_charset
argument_list|(
name|iso_8859_family_charset
argument_list|(
literal|"ISO-8859-1"
argument_list|)
argument_list|)
expr_stmt|;
name|register_charset
argument_list|(
name|ebcdic_family_charset
argument_list|(
literal|"EBCDIC-US"
argument_list|)
argument_list|)
expr_stmt|;
name|register_charset
argument_list|(
name|ebcdic_family_charset
argument_list|(
literal|"IBM1047"
argument_list|)
argument_list|)
expr_stmt|;
name|register_iconv_charsets
argument_list|()
expr_stmt|;
block|{
struct|struct
block|{
name|char
modifier|*
name|from
decl_stmt|;
name|char
modifier|*
name|to
decl_stmt|;
name|int
modifier|*
name|table
decl_stmt|;
block|}
name|tlist
index|[]
init|=
block|{
block|{
literal|"ASCII"
block|,
literal|"ISO-8859-1"
block|,
name|ascii_to_iso_8859_1_table
block|}
block|,
block|{
literal|"ASCII"
block|,
literal|"EBCDIC-US"
block|,
name|ascii_to_ebcdic_us_table
block|}
block|,
block|{
literal|"ASCII"
block|,
literal|"IBM1047"
block|,
name|ascii_to_ibm1047_table
block|}
block|,
block|{
literal|"ISO-8859-1"
block|,
literal|"ASCII"
block|,
name|iso_8859_1_to_ascii_table
block|}
block|,
block|{
literal|"ISO-8859-1"
block|,
literal|"EBCDIC-US"
block|,
name|iso_8859_1_to_ebcdic_us_table
block|}
block|,
block|{
literal|"ISO-8859-1"
block|,
literal|"IBM1047"
block|,
name|iso_8859_1_to_ibm1047_table
block|}
block|,
block|{
literal|"EBCDIC-US"
block|,
literal|"ASCII"
block|,
name|ebcdic_us_to_ascii_table
block|}
block|,
block|{
literal|"EBCDIC-US"
block|,
literal|"ISO-8859-1"
block|,
name|ebcdic_us_to_iso_8859_1_table
block|}
block|,
block|{
literal|"EBCDIC-US"
block|,
literal|"IBM1047"
block|,
name|ebcdic_us_to_ibm1047_table
block|}
block|,
block|{
literal|"IBM1047"
block|,
literal|"ASCII"
block|,
name|ibm1047_to_ascii_table
block|}
block|,
block|{
literal|"IBM1047"
block|,
literal|"ISO-8859-1"
block|,
name|ibm1047_to_iso_8859_1_table
block|}
block|,
block|{
literal|"IBM1047"
block|,
literal|"EBCDIC-US"
block|,
name|ibm1047_to_ebcdic_us_table
block|}
block|}
struct|;
name|int
name|i
decl_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
operator|(
sizeof|sizeof
argument_list|(
name|tlist
argument_list|)
operator|/
sizeof|sizeof
argument_list|(
name|tlist
index|[
literal|0
index|]
argument_list|)
operator|)
condition|;
name|i
operator|++
control|)
name|register_translation
argument_list|(
name|simple_table_translation
argument_list|(
name|tlist
index|[
name|i
index|]
operator|.
name|from
argument_list|,
name|tlist
index|[
name|i
index|]
operator|.
name|to
argument_list|,
name|tlist
index|[
name|i
index|]
operator|.
name|table
argument_list|)
argument_list|)
expr_stmt|;
block|}
name|set_host_charset
argument_list|(
name|host_charset_name
argument_list|)
expr_stmt|;
name|set_target_charset
argument_list|(
name|target_charset_name
argument_list|)
expr_stmt|;
name|new_cmd
operator|=
name|add_set_enum_cmd
argument_list|(
literal|"charset"
argument_list|,
name|class_support
argument_list|,
name|host_charset_enum
argument_list|,
operator|&
name|host_charset_name
argument_list|,
literal|"Set the host and target character sets.\n"
literal|"The `host character set' is the one used by the system GDB is running on.\n"
literal|"The `target character set' is the one used by the program being debugged.\n"
literal|"You may only use supersets of ASCII for your host character set; GDB does\n"
literal|"not support any others.\n"
literal|"To see a list of the character sets GDB supports, type `set charset<TAB>'."
argument_list|,
operator|&
name|setlist
argument_list|)
expr_stmt|;
comment|/* Note that the sfunc below needs to set target_charset_name, because       the 'set charset' command sets two variables.  */
name|set_cmd_sfunc
argument_list|(
name|new_cmd
argument_list|,
name|set_charset_sfunc
argument_list|)
expr_stmt|;
comment|/* Don't use set_from_show - need to print some extra info. */
name|add_cmd
argument_list|(
literal|"charset"
argument_list|,
name|class_support
argument_list|,
name|show_charset
argument_list|,
literal|"Show the host and target character sets.\n"
literal|"The `host character set' is the one used by the system GDB is running on.\n"
literal|"The `target character set' is the one used by the program being debugged.\n"
literal|"You may only use supersets of ASCII for your host character set; GDB does\n"
literal|"not support any others.\n"
literal|"To see a list of the character sets GDB supports, type `set charset<TAB>'."
argument_list|,
operator|&
name|showlist
argument_list|)
expr_stmt|;
name|new_cmd
operator|=
name|add_set_enum_cmd
argument_list|(
literal|"host-charset"
argument_list|,
name|class_support
argument_list|,
name|host_charset_enum
argument_list|,
operator|&
name|host_charset_name
argument_list|,
literal|"Set the host character set.\n"
literal|"The `host character set' is the one used by the system GDB is running on.\n"
literal|"You may only use supersets of ASCII for your host character set; GDB does\n"
literal|"not support any others.\n"
literal|"To see a list of the character sets GDB supports, type `set host-charset<TAB>'."
argument_list|,
operator|&
name|setlist
argument_list|)
expr_stmt|;
name|set_cmd_sfunc
argument_list|(
name|new_cmd
argument_list|,
name|set_host_charset_sfunc
argument_list|)
expr_stmt|;
name|add_show_from_set
argument_list|(
name|new_cmd
argument_list|,
operator|&
name|showlist
argument_list|)
expr_stmt|;
name|new_cmd
operator|=
name|add_set_enum_cmd
argument_list|(
literal|"target-charset"
argument_list|,
name|class_support
argument_list|,
name|target_charset_enum
argument_list|,
operator|&
name|target_charset_name
argument_list|,
literal|"Set the target character set.\n"
literal|"The `target character set' is the one used by the program being debugged.\n"
literal|"GDB translates characters and strings between the host and target\n"
literal|"character sets as needed.\n"
literal|"To see a list of the character sets GDB supports, type `set target-charset'<TAB>"
argument_list|,
operator|&
name|setlist
argument_list|)
expr_stmt|;
name|set_cmd_sfunc
argument_list|(
name|new_cmd
argument_list|,
name|set_target_charset_sfunc
argument_list|)
expr_stmt|;
name|add_show_from_set
argument_list|(
name|new_cmd
argument_list|,
operator|&
name|showlist
argument_list|)
expr_stmt|;
block|}
end_function

end_unit

