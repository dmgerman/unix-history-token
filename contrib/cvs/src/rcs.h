begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*  * Copyright (c) 1992, Brian Berliner and Jeff Polk  * Copyright (c) 1989-1992, Brian Berliner  *   * You may distribute under the terms of the GNU General Public License as  * specified in the README file that comes with the CVS 1.4 kit.  *   * RCS source control definitions needed by rcs.c and friends  */
end_comment

begin_define
define|#
directive|define
name|RCS
value|"rcs"
end_define

begin_define
define|#
directive|define
name|RCS_CI
value|"ci"
end_define

begin_define
define|#
directive|define
name|RCS_DIFF
value|"rcsdiff"
end_define

begin_define
define|#
directive|define
name|RCS_RCSMERGE
value|"rcsmerge"
end_define

begin_comment
comment|/* String which indicates a conflict if it occurs at the start of a line.  */
end_comment

begin_define
define|#
directive|define
name|RCS_MERGE_PAT
value|">>>>>>> "
end_define

begin_define
define|#
directive|define
name|RCSEXT
value|",v"
end_define

begin_define
define|#
directive|define
name|RCSPAT
value|"*,v"
end_define

begin_define
define|#
directive|define
name|RCSHEAD
value|"head"
end_define

begin_define
define|#
directive|define
name|RCSBRANCH
value|"branch"
end_define

begin_define
define|#
directive|define
name|RCSSYMBOLS
value|"symbols"
end_define

begin_define
define|#
directive|define
name|RCSDATE
value|"date"
end_define

begin_define
define|#
directive|define
name|RCSDESC
value|"desc"
end_define

begin_define
define|#
directive|define
name|RCSEXPAND
value|"expand"
end_define

begin_comment
comment|/* Used by the version of death support which resulted from old    versions of CVS (e.g. 1.5 if you define DEATH_SUPPORT and not    DEATH_STATE).  Only a hacked up RCS (used by those old versions of    CVS) will put this into RCS files.  Considered obsolete.  */
end_comment

begin_define
define|#
directive|define
name|RCSDEAD
value|"dead"
end_define

begin_define
define|#
directive|define
name|DATEFORM
value|"%02d.%02d.%02d.%02d.%02d.%02d"
end_define

begin_define
define|#
directive|define
name|SDATEFORM
value|"%d.%d.%d.%d.%d.%d"
end_define

begin_comment
comment|/*  * Opaque structure definitions used by RCS specific lookup routines  */
end_comment

begin_define
define|#
directive|define
name|VALID
value|0x1
end_define

begin_comment
comment|/* flags field contains valid data */
end_comment

begin_define
define|#
directive|define
name|INATTIC
value|0x2
end_define

begin_comment
comment|/* RCS file is located in the Attic */
end_comment

begin_define
define|#
directive|define
name|PARTIAL
value|0x4
end_define

begin_comment
comment|/* RCS file not completly parsed */
end_comment

begin_define
define|#
directive|define
name|NODELTA
value|0x8
end_define

begin_comment
comment|/* delta_pos no longer valid */
end_comment

begin_struct
struct|struct
name|rcsnode
block|{
name|int
name|refcount
decl_stmt|;
name|int
name|flags
decl_stmt|;
comment|/* File name of the RCS file.  This is not necessarily the name        as specified by the user, but it is a name which can be passed to        system calls and a name which is OK to print in error messages        (the various names might differ in case).  */
name|char
modifier|*
name|path
decl_stmt|;
name|char
modifier|*
name|head
decl_stmt|;
name|char
modifier|*
name|branch
decl_stmt|;
name|char
modifier|*
name|symbols_data
decl_stmt|;
name|char
modifier|*
name|expand
decl_stmt|;
name|List
modifier|*
name|symbols
decl_stmt|;
name|List
modifier|*
name|versions
decl_stmt|;
name|long
name|delta_pos
decl_stmt|;
name|List
modifier|*
name|other
decl_stmt|;
block|}
struct|;
end_struct

begin_typedef
typedef|typedef
name|struct
name|rcsnode
name|RCSNode
typedef|;
end_typedef

begin_struct
struct|struct
name|rcsversnode
block|{
name|char
modifier|*
name|version
decl_stmt|;
name|char
modifier|*
name|date
decl_stmt|;
name|char
modifier|*
name|author
decl_stmt|;
name|char
modifier|*
name|state
decl_stmt|;
name|char
modifier|*
name|next
decl_stmt|;
name|int
name|dead
decl_stmt|;
name|List
modifier|*
name|branches
decl_stmt|;
name|List
modifier|*
name|other
decl_stmt|;
block|}
struct|;
end_struct

begin_typedef
typedef|typedef
name|struct
name|rcsversnode
name|RCSVers
typedef|;
end_typedef

begin_comment
comment|/*  * CVS reserves all even-numbered branches for its own use.  "magic" branches  * (see rcs.c) are contained as virtual revision numbers (within symbolic  * tags only) off the RCS_MAGIC_BRANCH, which is 0.  CVS also reserves the  * ".1" branch for vendor revisions.  So, if you do your own branching, you  * should limit your use to odd branch numbers starting at 3.  */
end_comment

begin_define
define|#
directive|define
name|RCS_MAGIC_BRANCH
value|0
end_define

begin_comment
comment|/* The type of a function passed to RCS_checkout.  */
end_comment

begin_typedef
typedef|typedef
name|void
argument_list|(
argument|*RCSCHECKOUTPROC
argument_list|)
name|PROTO
argument_list|(
operator|(
name|void
operator|*
operator|,
specifier|const
name|char
operator|*
operator|,
name|size_t
operator|)
argument_list|)
expr_stmt|;
end_typedef

begin_comment
comment|/*  * exported interfaces  */
end_comment

begin_decl_stmt
name|RCSNode
modifier|*
name|RCS_parse
name|PROTO
argument_list|(
operator|(
specifier|const
name|char
operator|*
name|file
operator|,
specifier|const
name|char
operator|*
name|repos
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|RCSNode
modifier|*
name|RCS_parsercsfile
name|PROTO
argument_list|(
operator|(
name|char
operator|*
name|rcsfile
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|void
name|RCS_fully_parse
name|PROTO
argument_list|(
operator|(
name|RCSNode
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
modifier|*
name|RCS_check_kflag
name|PROTO
argument_list|(
operator|(
specifier|const
name|char
operator|*
name|arg
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
modifier|*
name|RCS_getdate
name|PROTO
argument_list|(
operator|(
name|RCSNode
operator|*
name|rcs
operator|,
name|char
operator|*
name|date
operator|,
name|int
name|force_tag_match
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
modifier|*
name|RCS_gettag
name|PROTO
argument_list|(
operator|(
name|RCSNode
operator|*
name|rcs
operator|,
name|char
operator|*
name|symtag
operator|,
name|int
name|force_tag_match
operator|,
name|int
operator|*
name|simple_tag
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
modifier|*
name|RCS_getversion
name|PROTO
argument_list|(
operator|(
name|RCSNode
operator|*
name|rcs
operator|,
name|char
operator|*
name|tag
operator|,
name|char
operator|*
name|date
operator|,
name|int
name|force_tag_match
operator|,
name|int
operator|*
name|simple_tag
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
modifier|*
name|RCS_magicrev
name|PROTO
argument_list|(
operator|(
name|RCSNode
operator|*
name|rcs
operator|,
name|char
operator|*
name|rev
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|RCS_isbranch
name|PROTO
argument_list|(
operator|(
name|RCSNode
operator|*
name|rcs
operator|,
specifier|const
name|char
operator|*
name|rev
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|RCS_nodeisbranch
name|PROTO
argument_list|(
operator|(
name|RCSNode
operator|*
name|rcs
operator|,
specifier|const
name|char
operator|*
name|tag
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
modifier|*
name|RCS_whatbranch
name|PROTO
argument_list|(
operator|(
name|RCSNode
operator|*
name|rcs
operator|,
specifier|const
name|char
operator|*
name|tag
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
modifier|*
name|RCS_head
name|PROTO
argument_list|(
operator|(
name|RCSNode
operator|*
name|rcs
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|RCS_datecmp
name|PROTO
argument_list|(
operator|(
name|char
operator|*
name|date1
operator|,
name|char
operator|*
name|date2
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|time_t
name|RCS_getrevtime
name|PROTO
argument_list|(
operator|(
name|RCSNode
operator|*
name|rcs
operator|,
name|char
operator|*
name|rev
operator|,
name|char
operator|*
name|date
operator|,
name|int
name|fudge
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|List
modifier|*
name|RCS_symbols
name|PROTO
argument_list|(
operator|(
name|RCSNode
operator|*
name|rcs
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|void
name|RCS_check_tag
name|PROTO
argument_list|(
operator|(
specifier|const
name|char
operator|*
name|tag
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|void
name|freercsnode
name|PROTO
argument_list|(
operator|(
name|RCSNode
operator|*
operator|*
name|rnodep
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
modifier|*
name|RCS_getbranch
name|PROTO
argument_list|(
operator|(
name|RCSNode
operator|*
name|rcs
operator|,
name|char
operator|*
name|tag
operator|,
name|int
name|force_tag_match
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|RCS_isdead
name|PROTO
argument_list|(
operator|(
name|RCSNode
operator|*
operator|,
specifier|const
name|char
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
modifier|*
name|RCS_getexpand
name|PROTO
argument_list|(
operator|(
name|RCSNode
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|RCS_checkout
name|PROTO
argument_list|(
operator|(
name|RCSNode
operator|*
operator|,
name|char
operator|*
operator|,
name|char
operator|*
operator|,
name|char
operator|*
operator|,
name|char
operator|*
operator|,
name|char
operator|*
operator|,
name|RCSCHECKOUTPROC
operator|,
name|void
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|RCS_cmp_file
name|PROTO
argument_list|(
operator|(
name|RCSNode
operator|*
operator|,
name|char
operator|*
operator|,
name|char
operator|*
operator|,
specifier|const
name|char
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|RCS_settag
name|PROTO
argument_list|(
operator|(
name|RCSNode
operator|*
operator|,
specifier|const
name|char
operator|*
operator|,
specifier|const
name|char
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|RCS_deltag
name|PROTO
argument_list|(
operator|(
name|RCSNode
operator|*
operator|,
specifier|const
name|char
operator|*
operator|,
name|int
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|RCS_setbranch
name|PROTO
argument_list|(
operator|(
name|RCSNode
operator|*
operator|,
specifier|const
name|char
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|RCS_lock
name|PROTO
argument_list|(
operator|(
name|RCSNode
operator|*
operator|,
specifier|const
name|char
operator|*
operator|,
name|int
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|RCS_unlock
name|PROTO
argument_list|(
operator|(
name|RCSNode
operator|*
operator|,
specifier|const
name|char
operator|*
operator|,
name|int
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|rcs_change_text
name|PROTO
argument_list|(
operator|(
specifier|const
name|char
operator|*
operator|,
name|char
operator|*
operator|,
name|size_t
operator|,
specifier|const
name|char
operator|*
operator|,
name|size_t
operator|,
name|char
operator|*
operator|*
operator|,
name|size_t
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|void
name|RCS_setlocalid
name|PROTO
argument_list|(
operator|(
specifier|const
name|char
operator|*
name|arg
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|void
name|RCS_setincexc
name|PROTO
argument_list|(
operator|(
specifier|const
name|char
operator|*
name|arg
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* From import.c.  */
end_comment

begin_decl_stmt
specifier|extern
name|int
name|add_rcs_file
name|PROTO
argument_list|(
operator|(
name|char
operator|*
operator|,
name|char
operator|*
operator|,
name|char
operator|*
operator|,
name|char
operator|*
operator|,
name|char
operator|*
operator|,
name|char
operator|*
operator|,
name|int
operator|,
name|char
operator|*
operator|*
operator|,
name|FILE
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

end_unit

