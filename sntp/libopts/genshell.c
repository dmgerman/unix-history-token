begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*   -*- buffer-read-only: t -*- vi: set ro:  *    *  DO NOT EDIT THIS FILE   (genshell.c)  *    *  It has been AutoGen-ed  April 29, 2011 at 03:43:59 PM by AutoGen 5.11.9  *  From the definitions    genshell.def  *  and the template file   options  *  * Generated from AutoOpts 35:0:10 templates.  *  *  AutoOpts is a copyrighted work.  This source file is not encumbered  *  by AutoOpts licensing, but is provided under the licensing terms chosen  *  by the genshellopt author or copyright holder.  AutoOpts is  *  licensed under the terms of the LGPL.  The redistributable library  *  (``libopts'') is licensed under the terms of either the LGPL or, at the  *  users discretion, the BSD license.  See the AutoOpts and/or libopts sources  *  for details.  *  * This source file is copyrighted and licensed under the following terms:  *  * genshellopt copyright (c) 1999-2011 Bruce Korb - all rights reserved  *  * genshellopt is free software: you can redistribute it and/or modify it  * under the terms of the GNU General Public License as published by the  * Free Software Foundation, either version 3 of the License, or  * (at your option) any later version.  *   * genshellopt is distributed in the hope that it will be useful, but  * WITHOUT ANY WARRANTY; without even the implied warranty of  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  * See the GNU General Public License for more details.  *   * You should have received a copy of the GNU General Public License along  * with this program.  If not, see<http://www.gnu.org/licenses/>.   */
end_comment

begin_include
include|#
directive|include
file|<sys/types.h>
end_include

begin_include
include|#
directive|include
file|<limits.h>
end_include

begin_include
include|#
directive|include
file|<stdio.h>
end_include

begin_include
include|#
directive|include
file|<stdlib.h>
end_include

begin_define
define|#
directive|define
name|OPTION_CODE_COMPILE
value|1
end_define

begin_include
include|#
directive|include
file|"genshell.h"
end_include

begin_ifdef
ifdef|#
directive|ifdef
name|__cplusplus
end_ifdef

begin_extern
extern|extern
literal|"C"
block|{
endif|#
directive|endif
specifier|extern
name|FILE
modifier|*
name|option_usage_fp
decl_stmt|;
comment|/* TRANSLATORS: choose the translation for option names wisely because you                 cannot ever change your mind. */
specifier|static
name|char
specifier|const
name|zCopyright
index|[
literal|260
index|]
init|=
literal|"genshellopt 1\n\ Copyright (C) 1999-2011 Bruce Korb, all rights reserved.\n\ This is free software. It is licensed for use, modification and\n\ redistribution under the terms of the\n\ GNU General Public License, version 3 or later\n\<http://gnu.org/licenses/gpl.html>\n"
decl_stmt|;
specifier|static
name|char
specifier|const
name|zCopyrightNotice
index|[
literal|611
index|]
init|=
literal|"genshellopt is free software: you can redistribute it and/or modify it\n\ under the terms of the GNU General Public License as published by the\n\ Free Software Foundation, either version 3 of the License, or (at your\n\ option) any later version.\n\n\ genshellopt is distributed in the hope that it will be useful, but WITHOUT\n\ ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n\ FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n\ for more details.\n\n\ You should have received a copy of the GNU General Public License along\n\ with this program.  If not, see<http://www.gnu.org/licenses/>.\n"
decl_stmt|;
specifier|extern
name|tUsageProc
name|genshelloptUsage
decl_stmt|;
ifndef|#
directive|ifndef
name|NULL
define|#
directive|define
name|NULL
value|0
endif|#
directive|endif
comment|/*  *  Script option description:  */
specifier|static
name|char
specifier|const
name|zScriptText
index|[]
init|=
literal|"Output Script File"
decl_stmt|;
specifier|static
name|char
specifier|const
name|zScript_NAME
index|[]
init|=
literal|"SCRIPT"
decl_stmt|;
specifier|static
name|char
specifier|const
name|zScript_Name
index|[]
init|=
literal|"script"
decl_stmt|;
define|#
directive|define
name|SCRIPT_FLAGS
value|(OPTST_DISABLED \         | OPTST_SET_ARGTYPE(OPARG_TYPE_STRING))
comment|/*  *  Shell option description:  */
specifier|static
name|char
specifier|const
name|zShellText
index|[]
init|=
literal|"Shell name (follows \"#!\" magic)"
decl_stmt|;
specifier|static
name|char
specifier|const
name|zShell_NAME
index|[]
init|=
literal|"SHELL"
decl_stmt|;
specifier|static
name|char
specifier|const
name|zNotShell_Name
index|[]
init|=
literal|"no-shell"
decl_stmt|;
specifier|static
name|char
specifier|const
name|zNotShell_Pfx
index|[]
init|=
literal|"no"
decl_stmt|;
define|#
directive|define
name|zShell_Name
value|(zNotShell_Name + 3)
define|#
directive|define
name|SHELL_FLAGS
value|(OPTST_INITENABLED \         | OPTST_SET_ARGTYPE(OPARG_TYPE_STRING))
comment|/*  *  Help/More_Help/Version option descriptions:  */
specifier|static
name|char
specifier|const
name|zHelpText
index|[]
init|=
literal|"Display extended usage information and exit"
decl_stmt|;
specifier|static
name|char
specifier|const
name|zHelp_Name
index|[]
init|=
literal|"help"
decl_stmt|;
ifdef|#
directive|ifdef
name|HAVE_WORKING_FORK
define|#
directive|define
name|OPTST_MORE_HELP_FLAGS
value|(OPTST_IMM | OPTST_NO_INIT)
specifier|static
name|char
specifier|const
name|zMore_Help_Name
index|[]
init|=
literal|"more-help"
decl_stmt|;
specifier|static
name|char
specifier|const
name|zMore_HelpText
index|[]
init|=
literal|"Extended usage information passed thru pager"
decl_stmt|;
else|#
directive|else
define|#
directive|define
name|OPTST_MORE_HELP_FLAGS
value|(OPTST_OMITTED | OPTST_NO_INIT)
define|#
directive|define
name|zMore_Help_Name
value|NULL
define|#
directive|define
name|zMore_HelpText
value|NULL
endif|#
directive|endif
ifdef|#
directive|ifdef
name|NO_OPTIONAL_OPT_ARGS
define|#
directive|define
name|OPTST_VERSION_FLAGS
value|OPTST_IMM | OPTST_NO_INIT
else|#
directive|else
define|#
directive|define
name|OPTST_VERSION_FLAGS
value|OPTST_SET_ARGTYPE(OPARG_TYPE_STRING) | \                                 OPTST_ARG_OPTIONAL | OPTST_IMM | OPTST_NO_INIT
endif|#
directive|endif
specifier|static
name|char
specifier|const
name|zVersionText
index|[]
init|=
literal|"Output version information and exit"
decl_stmt|;
specifier|static
name|char
specifier|const
name|zVersion_Name
index|[]
init|=
literal|"version"
decl_stmt|;
comment|/*  *  Declare option callback procedures  */
specifier|extern
name|tOptProc
name|optionBooleanVal
decl_stmt|,
name|optionNestedVal
decl_stmt|,
name|optionNumericVal
decl_stmt|,
name|optionPagedUsage
decl_stmt|,
name|optionPrintVersion
decl_stmt|,
name|optionResetOpt
decl_stmt|,
name|optionStackArg
decl_stmt|,
name|optionTimeDate
decl_stmt|,
name|optionTimeVal
decl_stmt|,
name|optionUnstackArg
decl_stmt|,
name|optionVersionStderr
decl_stmt|;
specifier|static
name|tOptProc
name|doUsageOpt
decl_stmt|;
comment|/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *  *  *  Define the Genshellopt Option Descriptions.  */
specifier|static
name|tOptDesc
name|optDesc
index|[
name|GENSHELL_OPTION_CT
index|]
init|=
block|{
block|{
comment|/* entry idx, value */
literal|0
block|,
name|VALUE_GENSHELL_OPT_SCRIPT
block|,
comment|/* equiv idx, value */
literal|0
block|,
name|VALUE_GENSHELL_OPT_SCRIPT
block|,
comment|/* equivalenced to  */
name|NO_EQUIVALENT
block|,
comment|/* min, max, act ct */
literal|0
block|,
literal|1
block|,
literal|0
block|,
comment|/* opt state flags  */
name|SCRIPT_FLAGS
block|,
literal|0
block|,
comment|/* last opt argumnt */
block|{
name|NULL
block|}
block|,
comment|/* arg list/cookie  */
name|NULL
block|,
comment|/* must/cannot opts */
name|NULL
block|,
name|NULL
block|,
comment|/* option proc      */
name|NULL
block|,
comment|/* desc, NAME, name */
name|zScriptText
block|,
name|zScript_NAME
block|,
name|zScript_Name
block|,
comment|/* disablement strs */
name|NULL
block|,
name|NULL
block|}
block|,
block|{
comment|/* entry idx, value */
literal|1
block|,
name|VALUE_GENSHELL_OPT_SHELL
block|,
comment|/* equiv idx, value */
literal|1
block|,
name|VALUE_GENSHELL_OPT_SHELL
block|,
comment|/* equivalenced to  */
name|NO_EQUIVALENT
block|,
comment|/* min, max, act ct */
literal|0
block|,
literal|1
block|,
literal|0
block|,
comment|/* opt state flags  */
name|SHELL_FLAGS
block|,
literal|0
block|,
comment|/* last opt argumnt */
block|{
name|NULL
block|}
block|,
comment|/* arg list/cookie  */
name|NULL
block|,
comment|/* must/cannot opts */
name|NULL
block|,
name|NULL
block|,
comment|/* option proc      */
name|NULL
block|,
comment|/* desc, NAME, name */
name|zShellText
block|,
name|zShell_NAME
block|,
name|zShell_Name
block|,
comment|/* disablement strs */
name|zNotShell_Name
block|,
name|zNotShell_Pfx
block|}
block|,
block|{
comment|/* entry idx, value */
name|INDEX_GENSHELL_OPT_VERSION
block|,
name|VALUE_GENSHELL_OPT_VERSION
block|,
comment|/* equiv idx value  */
name|NO_EQUIVALENT
block|,
literal|0
block|,
comment|/* equivalenced to  */
name|NO_EQUIVALENT
block|,
comment|/* min, max, act ct */
literal|0
block|,
literal|1
block|,
literal|0
block|,
comment|/* opt state flags  */
name|OPTST_VERSION_FLAGS
block|,
literal|0
block|,
comment|/* last opt argumnt */
block|{
name|NULL
block|}
block|,
comment|/* arg list/cookie  */
name|NULL
block|,
comment|/* must/cannot opts */
name|NULL
block|,
name|NULL
block|,
comment|/* option proc      */
name|optionPrintVersion
block|,
comment|/* desc, NAME, name */
name|zVersionText
block|,
name|NULL
block|,
name|zVersion_Name
block|,
comment|/* disablement strs */
name|NULL
block|,
name|NULL
block|}
block|,
block|{
comment|/* entry idx, value */
name|INDEX_GENSHELL_OPT_HELP
block|,
name|VALUE_GENSHELL_OPT_HELP
block|,
comment|/* equiv idx value  */
name|NO_EQUIVALENT
block|,
literal|0
block|,
comment|/* equivalenced to  */
name|NO_EQUIVALENT
block|,
comment|/* min, max, act ct */
literal|0
block|,
literal|1
block|,
literal|0
block|,
comment|/* opt state flags  */
name|OPTST_IMM
operator||
name|OPTST_NO_INIT
block|,
literal|0
block|,
comment|/* last opt argumnt */
block|{
name|NULL
block|}
block|,
comment|/* arg list/cookie  */
name|NULL
block|,
comment|/* must/cannot opts */
name|NULL
block|,
name|NULL
block|,
comment|/* option proc      */
name|doUsageOpt
block|,
comment|/* desc, NAME, name */
name|zHelpText
block|,
name|NULL
block|,
name|zHelp_Name
block|,
comment|/* disablement strs */
name|NULL
block|,
name|NULL
block|}
block|,
block|{
comment|/* entry idx, value */
name|INDEX_GENSHELL_OPT_MORE_HELP
block|,
name|VALUE_GENSHELL_OPT_MORE_HELP
block|,
comment|/* equiv idx value  */
name|NO_EQUIVALENT
block|,
literal|0
block|,
comment|/* equivalenced to  */
name|NO_EQUIVALENT
block|,
comment|/* min, max, act ct */
literal|0
block|,
literal|1
block|,
literal|0
block|,
comment|/* opt state flags  */
name|OPTST_MORE_HELP_FLAGS
block|,
literal|0
block|,
comment|/* last opt argumnt */
block|{
name|NULL
block|}
block|,
comment|/* arg list/cookie  */
name|NULL
block|,
comment|/* must/cannot opts */
name|NULL
block|,
name|NULL
block|,
comment|/* option proc      */
name|optionPagedUsage
block|,
comment|/* desc, NAME, name */
name|zMore_HelpText
block|,
name|NULL
block|,
name|zMore_Help_Name
block|,
comment|/* disablement strs */
name|NULL
block|,
name|NULL
block|}
block|}
decl_stmt|;
comment|/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *  *  *  Define the Genshellopt Option Environment  */
specifier|static
name|char
specifier|const
name|zPROGNAME
index|[
literal|12
index|]
init|=
literal|"GENSHELLOPT"
decl_stmt|;
specifier|static
name|char
specifier|const
name|zUsageTitle
index|[
literal|121
index|]
init|=
literal|"genshellopt - Generate Shell Option Processing Script - Ver. 1\n\ USAGE:  %s [ -<flag> [<val>] | --<name>[{=| }<val>] ]...\n"
decl_stmt|;
define|#
directive|define
name|zRcName
value|NULL
define|#
directive|define
name|apzHomeList
value|NULL
specifier|static
name|char
specifier|const
name|zBugsAddr
index|[
literal|36
index|]
init|=
literal|"autogen-users@lists.sourceforge.net"
decl_stmt|;
specifier|static
name|char
specifier|const
name|zExplain
index|[]
init|=
literal|"\n\ Note that ``shell'' is only useful if the output file does not already\n\ exist.  If it does, then the shell name and optional first argument will\n\ be extracted from the script file.\n"
decl_stmt|;
specifier|static
name|char
specifier|const
name|zDetail
index|[
literal|237
index|]
init|=
literal|"\n\ If the script file already exists and contains Automated Option Processing\n\ text, the second line of the file through the ending tag will be replaced\n\ by the newly generated text.  The first ``#!''  line will be regenerated.\n"
decl_stmt|;
specifier|static
name|char
specifier|const
name|zFullVersion
index|[]
init|=
name|GENSHELLOPT_FULL_VERSION
decl_stmt|;
comment|/* extracted from optcode.tlib near line 515 */
if|#
directive|if
name|defined
argument_list|(
name|ENABLE_NLS
argument_list|)
define|#
directive|define
name|OPTPROC_BASE
value|OPTPROC_TRANSLATE
specifier|static
name|tOptionXlateProc
name|translate_option_strings
decl_stmt|;
else|#
directive|else
define|#
directive|define
name|OPTPROC_BASE
value|OPTPROC_NONE
define|#
directive|define
name|translate_option_strings
value|NULL
endif|#
directive|endif
comment|/* ENABLE_NLS */
define|#
directive|define
name|genshellopt_full_usage
value|NULL
define|#
directive|define
name|genshellopt_short_usage
value|NULL
ifndef|#
directive|ifndef
name|PKGDATADIR
define|#
directive|define
name|PKGDATADIR
value|""
endif|#
directive|endif
ifndef|#
directive|ifndef
name|WITH_PACKAGER
define|#
directive|define
name|genshellopt_packager_info
value|NULL
else|#
directive|else
specifier|static
name|char
specifier|const
name|genshellopt_packager_info
index|[]
init|=
literal|"Packaged by "
name|WITH_PACKAGER
ifdef|#
directive|ifdef
name|WITH_PACKAGER_VERSION
literal|" ("
name|WITH_PACKAGER_VERSION
literal|")"
endif|#
directive|endif
ifdef|#
directive|ifdef
name|WITH_PACKAGER_BUG_REPORTS
literal|"\nReport genshellopt bugs to "
name|WITH_PACKAGER_BUG_REPORTS
endif|#
directive|endif
literal|"\n"
decl_stmt|;
endif|#
directive|endif
name|tOptions
name|genshelloptOptions
init|=
block|{
name|OPTIONS_STRUCT_VERSION
block|,
literal|0
block|,
name|NULL
block|,
comment|/* original argc + argv    */
operator|(
name|OPTPROC_BASE
operator|+
name|OPTPROC_ERRSTOP
operator|+
name|OPTPROC_SHORTOPT
operator|+
name|OPTPROC_LONGOPT
operator|+
name|OPTPROC_NO_REQ_OPT
operator|+
name|OPTPROC_NEGATIONS
operator|+
name|OPTPROC_NO_ARGS
operator|)
block|,
literal|0
block|,
name|NULL
block|,
comment|/* current option index, current option */
name|NULL
block|,
name|NULL
block|,
name|zPROGNAME
block|,
name|zRcName
block|,
name|zCopyright
block|,
name|zCopyrightNotice
block|,
name|zFullVersion
block|,
name|apzHomeList
block|,
name|zUsageTitle
block|,
name|zExplain
block|,
name|zDetail
block|,
name|optDesc
block|,
name|zBugsAddr
block|,
comment|/* address to send bugs to */
name|NULL
block|,
name|NULL
block|,
comment|/* extensions/saved state  */
name|genshelloptUsage
block|,
comment|/* usage procedure */
name|translate_option_strings
block|,
comment|/* translation procedure */
comment|/*      *  Indexes to special options      */
block|{
name|INDEX_GENSHELL_OPT_MORE_HELP
block|,
comment|/* more-help option index */
name|NO_EQUIVALENT
block|,
comment|/* save option index */
name|NO_EQUIVALENT
block|,
comment|/* '-#' option index */
name|NO_EQUIVALENT
comment|/* index of default opt */
block|}
block|,
literal|5
comment|/* full option count */
block|,
literal|2
comment|/* user option count */
block|,
name|genshellopt_full_usage
block|,
name|genshellopt_short_usage
block|,
name|NULL
block|,
name|NULL
block|,
name|PKGDATADIR
block|,
name|genshellopt_packager_info
block|}
decl_stmt|;
comment|/*  *  Create the static procedure(s) declared above.  */
specifier|static
name|void
name|doUsageOpt
parameter_list|(
name|tOptions
modifier|*
name|pOptions
parameter_list|,
name|tOptDesc
modifier|*
name|pOptDesc
parameter_list|)
block|{
operator|(
name|void
operator|)
name|pOptions
expr_stmt|;
name|GENSHELL_USAGE
argument_list|(
name|GENSHELLOPT_EXIT_SUCCESS
argument_list|)
expr_stmt|;
block|}
comment|/* extracted from optcode.tlib near line 666 */
if|#
directive|if
name|ENABLE_NLS
include|#
directive|include
file|<stdio.h>
include|#
directive|include
file|<stdlib.h>
include|#
directive|include
file|<string.h>
include|#
directive|include
file|<unistd.h>
include|#
directive|include
file|<autoopts/usage-txt.h>
specifier|static
name|char
modifier|*
name|AO_gettext
parameter_list|(
name|char
specifier|const
modifier|*
name|pz
parameter_list|)
function_decl|;
specifier|static
name|void
name|coerce_it
parameter_list|(
name|void
modifier|*
modifier|*
name|s
parameter_list|)
function_decl|;
specifier|static
name|char
modifier|*
name|AO_gettext
parameter_list|(
name|char
specifier|const
modifier|*
name|pz
parameter_list|)
block|{
name|char
modifier|*
name|pzRes
decl_stmt|;
if|if
condition|(
name|pz
operator|==
name|NULL
condition|)
return|return
name|NULL
return|;
name|pzRes
operator|=
name|_
argument_list|(
name|pz
argument_list|)
expr_stmt|;
if|if
condition|(
name|pzRes
operator|==
name|pz
condition|)
return|return
name|pzRes
return|;
name|pzRes
operator|=
name|strdup
argument_list|(
name|pzRes
argument_list|)
expr_stmt|;
if|if
condition|(
name|pzRes
operator|==
name|NULL
condition|)
block|{
name|fputs
argument_list|(
name|_
argument_list|(
literal|"No memory for duping translated strings\n"
argument_list|)
argument_list|,
name|stderr
argument_list|)
expr_stmt|;
name|exit
argument_list|(
name|GENSHELLOPT_EXIT_FAILURE
argument_list|)
expr_stmt|;
block|}
return|return
name|pzRes
return|;
block|}
specifier|static
name|void
name|coerce_it
parameter_list|(
name|void
modifier|*
modifier|*
name|s
parameter_list|)
block|{
operator|*
name|s
operator|=
name|AO_gettext
argument_list|(
operator|*
name|s
argument_list|)
expr_stmt|;
block|}
comment|/*  *  This invokes the translation code (e.g. gettext(3)).  */
specifier|static
name|void
name|translate_option_strings
parameter_list|(
name|void
parameter_list|)
block|{
name|tOptions
modifier|*
specifier|const
name|pOpt
init|=
operator|&
name|genshelloptOptions
decl_stmt|;
comment|/*      *  Guard against re-translation.  It won't work.  The strings will have      *  been changed by the first pass through this code.  One shot only.      */
if|if
condition|(
name|option_usage_text
operator|.
name|field_ct
operator|!=
literal|0
condition|)
block|{
comment|/*          *  Do the translations.  The first pointer follows the field count          *  field.  The field count field is the size of a pointer.          */
name|tOptDesc
modifier|*
name|pOD
init|=
name|pOpt
operator|->
name|pOptDesc
decl_stmt|;
name|char
modifier|*
modifier|*
name|ppz
init|=
operator|(
name|char
operator|*
operator|*
operator|)
operator|(
name|void
operator|*
operator|)
operator|&
operator|(
name|option_usage_text
operator|)
decl_stmt|;
name|int
name|ix
init|=
name|option_usage_text
operator|.
name|field_ct
decl_stmt|;
do|do
block|{
name|ppz
operator|++
expr_stmt|;
operator|*
name|ppz
operator|=
name|AO_gettext
argument_list|(
operator|*
name|ppz
argument_list|)
expr_stmt|;
block|}
do|while
condition|(
operator|--
name|ix
operator|>
literal|0
condition|)
do|;
name|coerce_it
argument_list|(
operator|(
name|void
operator|*
operator|)
operator|&
operator|(
name|pOpt
operator|->
name|pzCopyright
operator|)
argument_list|)
expr_stmt|;
name|coerce_it
argument_list|(
operator|(
name|void
operator|*
operator|)
operator|&
operator|(
name|pOpt
operator|->
name|pzCopyNotice
operator|)
argument_list|)
expr_stmt|;
name|coerce_it
argument_list|(
operator|(
name|void
operator|*
operator|)
operator|&
operator|(
name|pOpt
operator|->
name|pzFullVersion
operator|)
argument_list|)
expr_stmt|;
name|coerce_it
argument_list|(
operator|(
name|void
operator|*
operator|)
operator|&
operator|(
name|pOpt
operator|->
name|pzUsageTitle
operator|)
argument_list|)
expr_stmt|;
name|coerce_it
argument_list|(
operator|(
name|void
operator|*
operator|)
operator|&
operator|(
name|pOpt
operator|->
name|pzExplain
operator|)
argument_list|)
expr_stmt|;
name|coerce_it
argument_list|(
operator|(
name|void
operator|*
operator|)
operator|&
operator|(
name|pOpt
operator|->
name|pzDetail
operator|)
argument_list|)
expr_stmt|;
name|coerce_it
argument_list|(
operator|(
name|void
operator|*
operator|)
operator|&
operator|(
name|pOpt
operator|->
name|pzPackager
operator|)
argument_list|)
expr_stmt|;
name|option_usage_text
operator|.
name|field_ct
operator|=
literal|0
expr_stmt|;
for|for
control|(
name|ix
operator|=
name|pOpt
operator|->
name|optCt
init|;
name|ix
operator|>
literal|0
condition|;
name|ix
operator|--
operator|,
name|pOD
operator|++
control|)
name|coerce_it
argument_list|(
operator|(
name|void
operator|*
operator|)
operator|&
operator|(
name|pOD
operator|->
name|pzText
operator|)
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|pOpt
operator|->
name|fOptSet
operator|&
name|OPTPROC_NXLAT_OPT_CFG
operator|)
operator|==
literal|0
condition|)
block|{
name|tOptDesc
modifier|*
name|pOD
init|=
name|pOpt
operator|->
name|pOptDesc
decl_stmt|;
name|int
name|ix
decl_stmt|;
for|for
control|(
name|ix
operator|=
name|pOpt
operator|->
name|optCt
init|;
name|ix
operator|>
literal|0
condition|;
name|ix
operator|--
operator|,
name|pOD
operator|++
control|)
block|{
name|coerce_it
argument_list|(
operator|(
name|void
operator|*
operator|)
operator|&
operator|(
name|pOD
operator|->
name|pz_Name
operator|)
argument_list|)
expr_stmt|;
name|coerce_it
argument_list|(
operator|(
name|void
operator|*
operator|)
operator|&
operator|(
name|pOD
operator|->
name|pz_DisableName
operator|)
argument_list|)
expr_stmt|;
name|coerce_it
argument_list|(
operator|(
name|void
operator|*
operator|)
operator|&
operator|(
name|pOD
operator|->
name|pz_DisablePfx
operator|)
argument_list|)
expr_stmt|;
block|}
comment|/* prevent re-translation */
name|genshelloptOptions
operator|.
name|fOptSet
operator||=
name|OPTPROC_NXLAT_OPT_CFG
operator||
name|OPTPROC_NXLAT_OPT
expr_stmt|;
block|}
block|}
endif|#
directive|endif
comment|/* ENABLE_NLS */
ifdef|#
directive|ifdef
name|__cplusplus
block|}
end_extern

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* genshell.c ends here */
end_comment

end_unit

