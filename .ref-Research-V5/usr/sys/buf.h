begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_struct
struct|struct
name|buf
block|{
name|int
name|b_flags
decl_stmt|;
name|struct
name|buf
modifier|*
name|b_forw
decl_stmt|;
name|struct
name|buf
modifier|*
name|b_back
decl_stmt|;
name|struct
name|buf
modifier|*
name|av_forw
decl_stmt|;
name|struct
name|buf
modifier|*
name|av_back
decl_stmt|;
name|int
name|b_dev
decl_stmt|;
name|int
name|b_wcount
decl_stmt|;
name|char
modifier|*
name|b_addr
decl_stmt|;
name|char
modifier|*
name|b_blkno
decl_stmt|;
name|char
name|b_error
decl_stmt|;
name|char
modifier|*
name|b_resid
decl_stmt|;
block|}
name|buf
index|[
name|NBUF
index|]
struct|;
end_struct

begin_comment
comment|/*  * forw and back are shared with "buf" struct.  */
end_comment

begin_struct
struct|struct
name|devtab
block|{
name|char
name|d_active
decl_stmt|;
name|char
name|d_errcnt
decl_stmt|;
name|struct
name|buf
modifier|*
name|b_forw
decl_stmt|;
name|struct
name|buf
modifier|*
name|b_back
decl_stmt|;
name|struct
name|buf
modifier|*
name|d_actf
decl_stmt|;
name|struct
name|buf
modifier|*
name|d_actl
decl_stmt|;
block|}
struct|;
end_struct

begin_decl_stmt
name|struct
name|buf
name|bfreelist
decl_stmt|;
end_decl_stmt

begin_define
define|#
directive|define
name|B_WRITE
value|0
end_define

begin_define
define|#
directive|define
name|B_READ
value|01
end_define

begin_define
define|#
directive|define
name|B_DONE
value|02
end_define

begin_define
define|#
directive|define
name|B_ERROR
value|04
end_define

begin_define
define|#
directive|define
name|B_BUSY
value|010
end_define

begin_define
define|#
directive|define
name|B_XMEM
value|060
end_define

begin_define
define|#
directive|define
name|B_WANTED
value|0100
end_define

begin_define
define|#
directive|define
name|B_RELOC
value|0200
end_define

begin_define
define|#
directive|define
name|B_ASYNC
value|0400
end_define

begin_define
define|#
directive|define
name|B_DELWRI
value|01000
end_define

end_unit

