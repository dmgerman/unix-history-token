begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_function
name|main
parameter_list|()
block|{
name|char
modifier|*
name|term
decl_stmt|,
modifier|*
name|s
decl_stmt|;
name|int
name|li
decl_stmt|,
name|co
decl_stmt|;
name|char
name|tbuf
index|[
literal|1024
index|]
decl_stmt|;
name|term
operator|=
operator|(
name|char
operator|*
operator|)
name|getenv
argument_list|(
literal|"TERM"
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"under iScreen getenv(\"TERM\") should return \"screen\": %s\n"
argument_list|,
name|term
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"getenv(\"LINES\") returns "
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|=
operator|(
name|char
operator|*
operator|)
name|getenv
argument_list|(
literal|"LINES"
argument_list|)
condition|)
block|{
name|li
operator|=
name|atoi
argument_list|(
name|s
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"%d\n"
argument_list|,
name|li
argument_list|)
expr_stmt|;
block|}
else|else
name|printf
argument_list|(
literal|"nothing valuable\n"
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"getenv(\"COLUMNS\") returns "
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|=
operator|(
name|char
operator|*
operator|)
name|getenv
argument_list|(
literal|"COLUMNS"
argument_list|)
condition|)
block|{
name|co
operator|=
name|atoi
argument_list|(
name|s
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"%d\n"
argument_list|,
name|co
argument_list|)
expr_stmt|;
block|}
else|else
name|printf
argument_list|(
literal|"nothing valuable\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|tgetent
argument_list|(
name|tbuf
argument_list|,
name|term
argument_list|)
operator|!=
literal|1
condition|)
block|{
name|printf
argument_list|(
literal|"Oh, no termcap/info entry for %s!\n"
argument_list|,
name|term
argument_list|)
expr_stmt|;
block|}
name|li
operator|=
name|tgetnum
argument_list|(
literal|"li"
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"tgetnum(\"li\") returns %d\n"
argument_list|,
name|li
argument_list|)
expr_stmt|;
name|co
operator|=
name|tgetnum
argument_list|(
literal|"co"
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"tgetnum(\"co\") returns %d\n"
argument_list|,
name|co
argument_list|)
expr_stmt|;
block|}
end_function

end_unit

