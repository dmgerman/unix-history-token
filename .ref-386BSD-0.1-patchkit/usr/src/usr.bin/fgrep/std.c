begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* std.c - compensate for a few missing library functions.    In the Public Domain; written by Mike Haertel. */
end_comment

begin_include
include|#
directive|include
file|"std.h"
end_include

begin_include
include|#
directive|include
file|"unix.h"
end_include

begin_ifdef
ifdef|#
directive|ifdef
name|X_memmove
end_ifdef

begin_decl_stmt
name|PTR
name|DEFUN
argument_list|(
name|memmove
argument_list|,
operator|(
name|d
operator|,
name|s
operator|,
name|n
operator|)
argument_list|,
name|PTR
name|d
name|AND
name|PTRCONST
name|s
name|AND
name|size_t
name|n
argument_list|)
block|{
name|char
modifier|*
name|dd
decl_stmt|;
specifier|const
name|char
modifier|*
name|ss
decl_stmt|;
name|dd
operator|=
name|d
expr_stmt|;
name|ss
operator|=
name|s
expr_stmt|;
if|if
condition|(
name|dd
operator|>
name|ss
operator|&&
name|dd
operator|<
name|ss
operator|+
name|n
condition|)
block|{
name|dd
operator|+=
name|n
expr_stmt|;
name|ss
operator|+=
name|n
expr_stmt|;
while|while
condition|(
name|n
operator|--
condition|)
operator|*
operator|--
name|dd
operator|=
operator|*
operator|--
name|ss
expr_stmt|;
block|}
else|else
while|while
condition|(
name|n
operator|--
condition|)
operator|*
name|dd
operator|++
operator|=
operator|*
name|ss
operator|++
expr_stmt|;
return|return
name|d
return|;
block|}
end_decl_stmt

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* X_memmove */
end_comment

begin_ifdef
ifdef|#
directive|ifdef
name|X_remove
end_ifdef

begin_if
if|#
directive|if
name|defined
argument_list|(
name|unix
argument_list|)
operator|||
name|defined
argument_list|(
name|__unix__
argument_list|)
end_if

begin_decl_stmt
name|int
name|DEFUN
argument_list|(
name|remove
argument_list|,
operator|(
name|filename
operator|)
argument_list|,
specifier|const
name|char
operator|*
name|filename
argument_list|)
block|{
specifier|extern
name|int
name|EXFUN
argument_list|(
name|unlink
argument_list|,
operator|(
specifier|const
name|char
operator|*
operator|)
argument_list|)
decl_stmt|;
return|return
name|unlink
argument_list|(
name|filename
argument_list|)
return|;
block|}
end_decl_stmt

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* unix */
end_comment

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* X_strerror */
end_comment

begin_ifdef
ifdef|#
directive|ifdef
name|X_strerror
end_ifdef

begin_if
if|#
directive|if
name|defined
argument_list|(
name|unix
argument_list|)
operator|||
name|defined
argument_list|(
name|__unix__
argument_list|)
end_if

begin_decl_stmt
name|char
modifier|*
name|DEFUN
argument_list|(
name|strerror
argument_list|,
operator|(
name|errnum
operator|)
argument_list|,
name|int
name|errnum
argument_list|)
block|{
specifier|extern
name|int
name|sys_nerr
decl_stmt|;
specifier|extern
name|char
modifier|*
name|sys_errlist
index|[]
decl_stmt|;
if|if
condition|(
name|errnum
operator|>
literal|0
operator|&&
name|errnum
operator|<
name|sys_nerr
condition|)
return|return
name|sys_errlist
index|[
name|errnum
index|]
return|;
return|return
literal|""
return|;
block|}
end_decl_stmt

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* unix */
end_comment

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* X_strerror */
end_comment

end_unit

