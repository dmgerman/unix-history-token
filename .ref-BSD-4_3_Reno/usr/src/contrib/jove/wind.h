begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/***************************************************************************  * This program is Copyright (C) 1986, 1987, 1988 by Jonathan Payne.  JOVE *  * is provided to you without charge, and with no warranty.  You may give  *  * away copies of JOVE, including sources, provided that this notice is    *  * included in all the files.                                              *  ***************************************************************************/
end_comment

begin_struct
struct|struct
name|window
block|{
name|Window
modifier|*
name|w_prev
decl_stmt|,
comment|/* circular list */
modifier|*
name|w_next
decl_stmt|;
name|Buffer
modifier|*
name|w_bufp
decl_stmt|;
comment|/* buffer associated with this window */
name|Line
modifier|*
name|w_top
decl_stmt|,
comment|/* top line */
modifier|*
name|w_line
decl_stmt|;
comment|/* current line */
name|int
name|w_char
decl_stmt|,
name|w_height
decl_stmt|,
comment|/* window height */
name|w_topnum
decl_stmt|,
comment|/* line number of the topline */
name|w_dotcol
decl_stmt|,
comment|/* UpdWindow sets this ... */
name|w_dotline
decl_stmt|,
comment|/* ... and this */
name|w_flags
decl_stmt|,
define|#
directive|define
name|W_TOPGONE
value|01
define|#
directive|define
name|W_CURGONE
value|02
comment|/* topline (curline) of window has been deleted 				   since the last time a redisplay was called */
define|#
directive|define
name|W_VISSPACE
value|04
define|#
directive|define
name|W_NUMLINES
value|010
name|w_LRscroll
decl_stmt|;
comment|/* amount of LeftRight scrolling in window */
ifdef|#
directive|ifdef
name|MAC
name|int
name|w_topline
decl_stmt|;
comment|/* row number of top line in window */
name|char
modifier|*
modifier|*
name|w_control
decl_stmt|;
comment|/* scroll bar for window */
endif|#
directive|endif
block|}
struct|;
end_struct

begin_decl_stmt
specifier|extern
name|Window
modifier|*
name|fwind
decl_stmt|,
comment|/* first window in list */
modifier|*
name|curwind
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* current window */
end_comment

begin_define
define|#
directive|define
name|one_windp
parameter_list|()
value|(fwind->w_next == fwind)
end_define

begin_define
define|#
directive|define
name|HALF
parameter_list|(
name|wp
parameter_list|)
value|(((wp)->w_height - 1) / 2)
end_define

begin_define
define|#
directive|define
name|SIZE
parameter_list|(
name|wp
parameter_list|)
value|((wp)->w_height - 1)
end_define

begin_decl_stmt
specifier|extern
name|int
name|FLine
name|proto
argument_list|(
operator|(
expr|struct
name|window
operator|*
name|w
operator|)
argument_list|)
decl_stmt|,
name|in_window
name|proto
argument_list|(
operator|(
expr|struct
name|window
operator|*
name|windes
operator|,
expr|struct
name|line
operator|*
name|line
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|Window
modifier|*
name|div_wind
name|proto
argument_list|(
operator|(
expr|struct
name|window
operator|*
name|wp
operator|,
name|int
name|n
operator|)
argument_list|)
decl_stmt|,
modifier|*
name|w_nam_typ
name|proto
argument_list|(
operator|(
name|char
operator|*
name|name
operator|,
name|int
name|type
operator|)
argument_list|)
decl_stmt|,
modifier|*
name|windbp
name|proto
argument_list|(
operator|(
expr|struct
name|buffer
operator|*
name|bp
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|void
name|CalcWind
name|proto
argument_list|(
operator|(
expr|struct
name|window
operator|*
name|w
operator|)
argument_list|)
decl_stmt|,
name|CentWind
name|proto
argument_list|(
operator|(
expr|struct
name|window
operator|*
name|w
operator|)
argument_list|)
decl_stmt|,
name|SetTop
name|proto
argument_list|(
operator|(
expr|struct
name|window
operator|*
name|w
operator|,
expr|struct
name|line
operator|*
name|line
operator|)
argument_list|)
decl_stmt|,
name|SetWind
name|proto
argument_list|(
operator|(
expr|struct
name|window
operator|*
name|new
operator|)
argument_list|)
decl_stmt|,
name|WindSize
name|proto
argument_list|(
operator|(
expr|struct
name|window
operator|*
name|w
operator|,
name|int
name|inc
operator|)
argument_list|)
decl_stmt|,
name|del_wind
name|proto
argument_list|(
operator|(
expr|struct
name|window
operator|*
name|wp
operator|)
argument_list|)
decl_stmt|,
name|pop_wind
name|proto
argument_list|(
operator|(
name|char
operator|*
name|name
operator|,
name|int
name|clobber
operator|,
name|int
name|btype
operator|)
argument_list|)
decl_stmt|,
name|tiewind
name|proto
argument_list|(
operator|(
expr|struct
name|window
operator|*
name|w
operator|,
expr|struct
name|buffer
operator|*
name|bp
operator|)
argument_list|)
decl_stmt|,
name|winit
name|proto
argument_list|(
operator|(
name|void
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

end_unit

