begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_include
include|#
directive|include
file|<yaml.h>
end_include

begin_include
include|#
directive|include
file|<stdlib.h>
end_include

begin_include
include|#
directive|include
file|<stdio.h>
end_include

begin_ifdef
ifdef|#
directive|ifdef
name|NDEBUG
end_ifdef

begin_undef
undef|#
directive|undef
name|NDEBUG
end_undef

begin_endif
endif|#
directive|endif
end_endif

begin_include
include|#
directive|include
file|<assert.h>
end_include

begin_function
name|int
name|main
parameter_list|(
name|void
parameter_list|)
block|{
name|int
name|major
init|=
operator|-
literal|1
decl_stmt|;
name|int
name|minor
init|=
operator|-
literal|1
decl_stmt|;
name|int
name|patch
init|=
operator|-
literal|1
decl_stmt|;
name|char
name|buf
index|[
literal|64
index|]
decl_stmt|;
name|yaml_get_version
argument_list|(
operator|&
name|major
argument_list|,
operator|&
name|minor
argument_list|,
operator|&
name|patch
argument_list|)
expr_stmt|;
name|sprintf
argument_list|(
name|buf
argument_list|,
literal|"%d.%d.%d"
argument_list|,
name|major
argument_list|,
name|minor
argument_list|,
name|patch
argument_list|)
expr_stmt|;
name|assert
argument_list|(
name|strcmp
argument_list|(
name|buf
argument_list|,
name|yaml_get_version_string
argument_list|()
argument_list|)
operator|==
literal|0
argument_list|)
expr_stmt|;
comment|/* Print structure sizes. */
name|printf
argument_list|(
literal|"sizeof(token) = %d\n"
argument_list|,
sizeof|sizeof
argument_list|(
name|yaml_token_t
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"sizeof(event) = %d\n"
argument_list|,
sizeof|sizeof
argument_list|(
name|yaml_event_t
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"sizeof(parser) = %d\n"
argument_list|,
sizeof|sizeof
argument_list|(
name|yaml_parser_t
argument_list|)
argument_list|)
expr_stmt|;
return|return
literal|0
return|;
block|}
end_function

end_unit

