begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*   * yppasswdd  * Copyright 1994 Olaf Kirch,<okir@monad.swb.de>  *  * This program is covered by the GNU General Public License, version 2.  * It is provided in the hope that it is useful. However, the author  * disclaims ALL WARRANTIES, expressed or implied. See the GPL for details.  *   * This file was generated automatically by rpcgen from yppasswd.x, and  * editied manually.  */
end_comment

begin_include
include|#
directive|include
file|<rpc/rpc.h>
end_include

begin_include
include|#
directive|include
file|"yppasswd.h"
end_include

begin_function
name|bool_t
name|xdr_xpasswd
parameter_list|(
name|XDR
modifier|*
name|xdrs
parameter_list|,
name|xpasswd
modifier|*
name|objp
parameter_list|)
block|{
if|if
condition|(
operator|!
name|xdr_string
argument_list|(
name|xdrs
argument_list|,
operator|&
name|objp
operator|->
name|pw_name
argument_list|,
operator|~
literal|0
argument_list|)
condition|)
block|{
return|return
operator|(
name|FALSE
operator|)
return|;
block|}
if|if
condition|(
operator|!
name|xdr_string
argument_list|(
name|xdrs
argument_list|,
operator|&
name|objp
operator|->
name|pw_passwd
argument_list|,
operator|~
literal|0
argument_list|)
condition|)
block|{
return|return
operator|(
name|FALSE
operator|)
return|;
block|}
if|if
condition|(
operator|!
name|xdr_int
argument_list|(
name|xdrs
argument_list|,
operator|&
name|objp
operator|->
name|pw_uid
argument_list|)
condition|)
block|{
return|return
operator|(
name|FALSE
operator|)
return|;
block|}
if|if
condition|(
operator|!
name|xdr_int
argument_list|(
name|xdrs
argument_list|,
operator|&
name|objp
operator|->
name|pw_gid
argument_list|)
condition|)
block|{
return|return
operator|(
name|FALSE
operator|)
return|;
block|}
if|if
condition|(
operator|!
name|xdr_string
argument_list|(
name|xdrs
argument_list|,
operator|&
name|objp
operator|->
name|pw_gecos
argument_list|,
operator|~
literal|0
argument_list|)
condition|)
block|{
return|return
operator|(
name|FALSE
operator|)
return|;
block|}
if|if
condition|(
operator|!
name|xdr_string
argument_list|(
name|xdrs
argument_list|,
operator|&
name|objp
operator|->
name|pw_dir
argument_list|,
operator|~
literal|0
argument_list|)
condition|)
block|{
return|return
operator|(
name|FALSE
operator|)
return|;
block|}
if|if
condition|(
operator|!
name|xdr_string
argument_list|(
name|xdrs
argument_list|,
operator|&
name|objp
operator|->
name|pw_shell
argument_list|,
operator|~
literal|0
argument_list|)
condition|)
block|{
return|return
operator|(
name|FALSE
operator|)
return|;
block|}
return|return
operator|(
name|TRUE
operator|)
return|;
block|}
end_function

begin_function
name|bool_t
name|xdr_yppasswd
parameter_list|(
name|XDR
modifier|*
name|xdrs
parameter_list|,
name|yppasswd
modifier|*
name|objp
parameter_list|)
block|{
if|if
condition|(
operator|!
name|xdr_string
argument_list|(
name|xdrs
argument_list|,
operator|&
name|objp
operator|->
name|oldpass
argument_list|,
operator|~
literal|0
argument_list|)
condition|)
block|{
return|return
operator|(
name|FALSE
operator|)
return|;
block|}
if|if
condition|(
operator|!
name|xdr_xpasswd
argument_list|(
name|xdrs
argument_list|,
operator|&
name|objp
operator|->
name|newpw
argument_list|)
condition|)
block|{
return|return
operator|(
name|FALSE
operator|)
return|;
block|}
return|return
operator|(
name|TRUE
operator|)
return|;
block|}
end_function

end_unit

