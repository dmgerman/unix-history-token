begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_decl_stmt
specifier|static
name|char
name|rcsid
index|[]
init|=
literal|"@(#)$FreeBSD$"
decl_stmt|;
end_decl_stmt

begin_comment
comment|/*******************************************************************************  *  II - Version 0.1 $Revision: 1.1 $   $State: Exp $  *  * Copyright 1994 Dietmar Friede  *******************************************************************************  * Bug reports, patches, comments, suggestions should be sent to:  *  *	jkr@saarlink.de or jkrause@guug.de  *  *******************************************************************************  * $Log: rstcode.c,v $  *  ******************************************************************************/
end_comment

begin_include
include|#
directive|include
file|<sys/types.h>
end_include

begin_include
include|#
directive|include
file|<machine/endian.h>
end_include

begin_include
include|#
directive|include
file|<stdio.h>
end_include

begin_struct
struct|struct
name|head
block|{
name|u_long
name|len
decl_stmt|;
name|u_long
name|sig
decl_stmt|;
name|char
name|nam
index|[
literal|8
index|]
decl_stmt|;
name|char
name|ver
index|[
literal|5
index|]
decl_stmt|;
name|u_char
name|typ
decl_stmt|;
block|}
name|head
init|=
block|{
literal|0
block|,
literal|0
block|,
literal|"RESETCOD"
block|,
literal|"0.000"
block|,
literal|3
block|}
struct|;
end_struct

begin_decl_stmt
specifier|const
name|char
name|ResetCode
index|[]
init|=
block|{
literal|0x00
block|,
literal|0x00
block|,
literal|0x00
block|,
literal|0x00
block|,
comment|/* SP */
literal|0x00
block|,
literal|0x00
block|,
literal|0x00
block|,
literal|0x08
block|,
comment|/* PC */
literal|0x20
block|,
literal|0x7c
block|,
literal|0xff
block|,
literal|0xff
block|,
literal|0xff
block|,
literal|0xcc
block|,
comment|/* movea.l #0xffffffcc,a0 */
literal|0x20
block|,
literal|0xbc
block|,
literal|0xff
block|,
literal|0xf9
block|,
literal|0xe6
block|,
literal|0xff
block|,
comment|/* move.l #0xffff9e6ff,(a0) */
literal|0x51
block|,
literal|0x88
block|,
comment|/* subq.q #8,a0 */
literal|0x21
block|,
literal|0x3c
block|,
literal|0x00
block|,
literal|0x01
block|,
literal|0xe6
block|,
literal|0xff
block|,
comment|/* move.l #0x1e6ff,-(a0) */
literal|0x20
block|,
literal|0x38
block|,
literal|0x07
block|,
literal|0xfc
block|,
comment|/* move.l $7fc,d0 ; Reset PC DPRAM */
literal|0x10
block|,
literal|0x39
block|,
literal|0xFF
block|,
literal|0xF8
block|,
literal|0x07
block|,
literal|0xff
block|,
comment|/* move.b $fff807ff,d0 Reset 						 * DSP DPRAM */
literal|0x42
block|,
literal|0xb8
block|,
literal|0x00
block|,
literal|0x04
block|,
comment|/* clr.l $4 */
literal|0x4e
block|,
literal|0x72
block|,
literal|0x27
block|,
literal|0x00
block|}
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* stop #$2700 */
end_comment

begin_function
name|main
parameter_list|()
block|{
name|head
operator|.
name|len
operator|=
name|ntohl
argument_list|(
literal|0x16
operator|+
sizeof|sizeof
argument_list|(
name|ResetCode
argument_list|)
argument_list|)
expr_stmt|;
name|fwrite
argument_list|(
operator|&
name|head
argument_list|,
literal|1
argument_list|,
literal|0x16
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fwrite
argument_list|(
name|ResetCode
argument_list|,
literal|1
argument_list|,
sizeof|sizeof
argument_list|(
name|ResetCode
argument_list|)
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
block|}
end_function

end_unit

