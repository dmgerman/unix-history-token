begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* psx-generic.c: test POSIX re's independent of us using basic or    extended syntax.  */
end_comment

begin_include
include|#
directive|include
file|"test.h"
end_include

begin_function
name|void
name|test_posix_generic
parameter_list|()
block|{
name|int
name|omit_generic_tests
init|=
literal|0
decl_stmt|;
comment|/* reset in debugger to skip */
if|if
condition|(
name|omit_generic_tests
condition|)
return|return;
comment|/* Tests somewhat in the order of P1003.2.  */
comment|/* Both posix basic and extended; should match.  */
name|printf
argument_list|(
literal|"\nStarting generic POSIX tests.\n"
argument_list|)
expr_stmt|;
name|test_grouping
argument_list|()
expr_stmt|;
name|test_intervals
argument_list|()
expr_stmt|;
name|test_should_match
operator|=
name|true
expr_stmt|;
comment|/* Ordinary characters.  */
name|printf
argument_list|(
literal|"\nContinuing generic POSIX tests.\n"
argument_list|)
expr_stmt|;
name|MATCH_SELF
argument_list|(
literal|""
argument_list|)
expr_stmt|;
name|test_fastmap
argument_list|(
literal|""
argument_list|,
literal|""
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|test_fastmap_search
argument_list|(
literal|""
argument_list|,
literal|""
argument_list|,
literal|""
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|TEST_REGISTERS
argument_list|(
literal|""
argument_list|,
literal|""
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|TEST_SEARCH
argument_list|(
literal|""
argument_list|,
literal|""
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|TEST_SEARCH_2
argument_list|(
literal|""
argument_list|,
literal|""
argument_list|,
literal|""
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|MATCH_SELF
argument_list|(
literal|"abc"
argument_list|)
expr_stmt|;
name|test_fastmap
argument_list|(
literal|"abc"
argument_list|,
literal|"a"
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|TEST_REGISTERS
argument_list|(
literal|"abc"
argument_list|,
literal|"abc"
argument_list|,
literal|0
argument_list|,
literal|3
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|TEST_REGISTERS
argument_list|(
literal|"abc"
argument_list|,
literal|"xabcx"
argument_list|,
literal|1
argument_list|,
literal|4
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"\\a"
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"\\0"
argument_list|,
literal|"0"
argument_list|)
expr_stmt|;
name|TEST_SEARCH
argument_list|(
literal|"a"
argument_list|,
literal|"ab"
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|TEST_SEARCH
argument_list|(
literal|"b"
argument_list|,
literal|"ab"
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|TEST_SEARCH
argument_list|(
literal|"a"
argument_list|,
literal|"ab"
argument_list|,
literal|1
argument_list|,
operator|-
literal|2
argument_list|)
expr_stmt|;
name|TEST_SEARCH_2
argument_list|(
literal|"a"
argument_list|,
literal|"a"
argument_list|,
literal|"b"
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|TEST_SEARCH_2
argument_list|(
literal|"b"
argument_list|,
literal|"a"
argument_list|,
literal|"b"
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|TEST_SEARCH_2
argument_list|(
literal|"a"
argument_list|,
literal|"a"
argument_list|,
literal|"b"
argument_list|,
literal|1
argument_list|,
operator|-
literal|2
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"\n"
argument_list|,
literal|"\n"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"a\n"
argument_list|,
literal|"a\n"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"\nb"
argument_list|,
literal|"\nb"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"a\nb"
argument_list|,
literal|"a\nb"
argument_list|)
expr_stmt|;
name|TEST_SEARCH
argument_list|(
literal|"b"
argument_list|,
literal|"baaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"
argument_list|,
literal|236
argument_list|,
operator|-
literal|237
argument_list|)
expr_stmt|;
comment|/* Valid use of special characters. */
name|test_match
argument_list|(
literal|"a*"
argument_list|,
literal|"aa"
argument_list|)
expr_stmt|;
name|test_fastmap
argument_list|(
literal|"a*"
argument_list|,
literal|"a"
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|TEST_REGISTERS
argument_list|(
literal|"a*"
argument_list|,
literal|"aa"
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"a*b"
argument_list|,
literal|"aab"
argument_list|)
expr_stmt|;
name|test_fastmap
argument_list|(
literal|"a*b"
argument_list|,
literal|"ab"
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"a*ab"
argument_list|,
literal|"aab"
argument_list|)
expr_stmt|;
name|TEST_REGISTERS
argument_list|(
literal|"a*a"
argument_list|,
literal|"aa"
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|TEST_REGISTERS
argument_list|(
literal|"a*a"
argument_list|,
literal|"xaax"
argument_list|,
literal|1
argument_list|,
literal|3
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"\\{"
argument_list|,
literal|"{"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"\\^"
argument_list|,
literal|"^"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"\\."
argument_list|,
literal|"."
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"\\*"
argument_list|,
literal|"*"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"\\["
argument_list|,
literal|"["
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"\\$"
argument_list|,
literal|"$"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"\\\\"
argument_list|,
literal|"\\"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"ab*"
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"ab*"
argument_list|,
literal|"abb"
argument_list|)
expr_stmt|;
comment|/* Valid consecutive repetitions.  */
name|test_match
argument_list|(
literal|"a**"
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
comment|/* Valid period.  */
name|test_match
argument_list|(
literal|"."
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
name|TEST_REGISTERS
argument_list|(
literal|"."
argument_list|,
literal|"a"
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"."
argument_list|,
literal|"\004"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"."
argument_list|,
literal|"\n"
argument_list|)
expr_stmt|;
comment|/* Valid bracket expressions.  */
name|test_match
argument_list|(
literal|"[ab]"
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[ab]"
argument_list|,
literal|"b"
argument_list|)
expr_stmt|;
name|test_fastmap
argument_list|(
literal|"[ab]"
argument_list|,
literal|"ab"
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|TEST_REGISTERS
argument_list|(
literal|"[ab]"
argument_list|,
literal|"a"
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|TEST_REGISTERS
argument_list|(
literal|"[ab]"
argument_list|,
literal|"xax"
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|test_fastmap
argument_list|(
literal|"[^ab]"
argument_list|,
literal|"ab"
argument_list|,
literal|1
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[^ab]"
argument_list|,
literal|"c"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[^a]"
argument_list|,
literal|"\n"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[a]*a"
argument_list|,
literal|"aa"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[]"
argument_list|,
literal|"["
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[]]"
argument_list|,
literal|"]"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[.]"
argument_list|,
literal|"."
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[*]"
argument_list|,
literal|"*"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[\\]"
argument_list|,
literal|"\\"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[\\(]"
argument_list|,
literal|"("
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[\\)]"
argument_list|,
literal|")"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[^]]"
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[a^]"
argument_list|,
literal|"^"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[a$]"
argument_list|,
literal|"$"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[]a]"
argument_list|,
literal|"]"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[a][]]"
argument_list|,
literal|"a]"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[\n]"
argument_list|,
literal|"\n"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[^a]"
argument_list|,
literal|"\n"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[a-]"
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
name|TEST_REGISTERS
argument_list|(
literal|"\\`[ \t\n]*"
argument_list|,
literal|" karl (Karl Berry)"
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|TEST_REGISTERS
argument_list|(
literal|"[ \t\n]*\\'"
argument_list|,
literal|" karl (Karl Berry)"
argument_list|,
literal|18
argument_list|,
literal|18
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
comment|/* Collating, noncollating,                                              	   equivalence classes aren't                                            	   implemented yet.  */
comment|/* Character classes.  */
name|test_match
argument_list|(
literal|"[:alpha:]"
argument_list|,
literal|"p"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:alpha:]]"
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:alpha:]]"
argument_list|,
literal|"z"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:alpha:]]"
argument_list|,
literal|"A"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:alpha:]]"
argument_list|,
literal|"Z"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:upper:]]"
argument_list|,
literal|"A"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:upper:]]"
argument_list|,
literal|"Z"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:lower:]]"
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:lower:]]"
argument_list|,
literal|"z"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:digit:]]"
argument_list|,
literal|"0"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:digit:]]"
argument_list|,
literal|"9"
argument_list|)
expr_stmt|;
name|test_fastmap
argument_list|(
literal|"[[:digit:]]"
argument_list|,
literal|"0123456789"
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:alnum:]]"
argument_list|,
literal|"0"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:alnum:]]"
argument_list|,
literal|"9"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:alnum:]]"
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:alnum:]]"
argument_list|,
literal|"z"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:alnum:]]"
argument_list|,
literal|"A"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:alnum:]]"
argument_list|,
literal|"Z"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:xdigit:]]"
argument_list|,
literal|"0"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:xdigit:]]"
argument_list|,
literal|"9"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:xdigit:]]"
argument_list|,
literal|"A"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:xdigit:]]"
argument_list|,
literal|"F"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:xdigit:]]"
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:xdigit:]]"
argument_list|,
literal|"f"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:space:]]"
argument_list|,
literal|" "
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:print:]]"
argument_list|,
literal|" "
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:print:]]"
argument_list|,
literal|"~"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:punct:]]"
argument_list|,
literal|","
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:graph:]]"
argument_list|,
literal|"!"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:graph:]]"
argument_list|,
literal|"~"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:cntrl:]]"
argument_list|,
literal|"\177"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:digit:]a]"
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:digit:]a]"
argument_list|,
literal|"2"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[a[:digit:]]"
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[a[:digit:]]"
argument_list|,
literal|"2"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:]"
argument_list|,
literal|"["
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[:]"
argument_list|,
literal|":"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:a]"
argument_list|,
literal|"["
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:alpha:a]"
argument_list|,
literal|"["
argument_list|)
expr_stmt|;
comment|/* Valid ranges.  */
name|test_match
argument_list|(
literal|"[a-a]"
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
name|test_fastmap
argument_list|(
literal|"[a-a]"
argument_list|,
literal|"a"
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|TEST_REGISTERS
argument_list|(
literal|"[a-a]"
argument_list|,
literal|"xax"
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[a-z]"
argument_list|,
literal|"z"
argument_list|)
expr_stmt|;
name|test_fastmap
argument_list|(
literal|"[a-z]"
argument_list|,
literal|"abcdefghijklmnopqrstuvwxyz"
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[-a]"
argument_list|,
literal|"-"
argument_list|)
expr_stmt|;
comment|/* First  */
name|test_match
argument_list|(
literal|"[-a]"
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[a-]"
argument_list|,
literal|"-"
argument_list|)
expr_stmt|;
comment|/* Last  */
name|test_match
argument_list|(
literal|"[a-]"
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[--@]"
argument_list|,
literal|"@"
argument_list|)
expr_stmt|;
comment|/* First and starting point.  */
name|test_match
argument_list|(
literal|"[%--a]"
argument_list|,
literal|"%"
argument_list|)
expr_stmt|;
comment|/* Ending point.  */
name|test_match
argument_list|(
literal|"[%--a]"
argument_list|,
literal|"-"
argument_list|)
expr_stmt|;
comment|/* Ditto.  */
name|test_match
argument_list|(
literal|"[a%--]"
argument_list|,
literal|"%"
argument_list|)
expr_stmt|;
comment|/* Both ending point and last.  */
name|test_match
argument_list|(
literal|"[a%--]"
argument_list|,
literal|"-"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[%--a]"
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
comment|/* Ending point only.  */
name|test_match
argument_list|(
literal|"[a-c-f]"
argument_list|,
literal|"e"
argument_list|)
expr_stmt|;
comment|/* Piggyback.  */
name|test_match
argument_list|(
literal|"[)-+--/]"
argument_list|,
literal|"*"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[)-+--/]"
argument_list|,
literal|","
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[)-+--/]"
argument_list|,
literal|"/"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:digit:]-]"
argument_list|,
literal|"-"
argument_list|)
expr_stmt|;
comment|/* Concatenation  ????*/
name|test_match
argument_list|(
literal|"[ab][cd]"
argument_list|,
literal|"ac"
argument_list|)
expr_stmt|;
name|test_fastmap
argument_list|(
literal|"[ab][cd]"
argument_list|,
literal|"ab"
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|TEST_REGISTERS
argument_list|(
literal|"[ab][cd]"
argument_list|,
literal|"ad"
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|TEST_REGISTERS
argument_list|(
literal|"[ab][cd]"
argument_list|,
literal|"xadx"
argument_list|,
literal|1
argument_list|,
literal|3
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
comment|/* Valid expression anchoring.  */
name|test_match
argument_list|(
literal|"^a"
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
name|test_fastmap
argument_list|(
literal|"^a"
argument_list|,
literal|"a"
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|TEST_REGISTERS
argument_list|(
literal|"^a"
argument_list|,
literal|"ax"
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"^"
argument_list|,
literal|""
argument_list|)
expr_stmt|;
name|TEST_REGISTERS
argument_list|(
literal|"^"
argument_list|,
literal|""
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"$"
argument_list|,
literal|""
argument_list|)
expr_stmt|;
name|TEST_REGISTERS
argument_list|(
literal|"$"
argument_list|,
literal|""
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"a$"
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
name|test_fastmap
argument_list|(
literal|"a$"
argument_list|,
literal|"a"
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|TEST_REGISTERS
argument_list|(
literal|"a$"
argument_list|,
literal|"xa"
argument_list|,
literal|1
argument_list|,
literal|2
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"^ab$"
argument_list|,
literal|"ab"
argument_list|)
expr_stmt|;
name|test_fastmap
argument_list|(
literal|"^ab$"
argument_list|,
literal|"a"
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|TEST_REGISTERS
argument_list|(
literal|"^a$"
argument_list|,
literal|"a"
argument_list|,
literal|0
argument_list|,
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|test_fastmap
argument_list|(
literal|"^$"
argument_list|,
literal|""
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"^$"
argument_list|,
literal|""
argument_list|)
expr_stmt|;
name|TEST_REGISTERS
argument_list|(
literal|"^$"
argument_list|,
literal|""
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|TEST_SEARCH
argument_list|(
name|PARENS_TO_OPS
argument_list|(
literal|"(^a)"
argument_list|)
argument_list|,
literal|"ab"
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|TEST_SEARCH
argument_list|(
name|PARENS_TO_OPS
argument_list|(
literal|"(a$)"
argument_list|)
argument_list|,
literal|"ba"
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|TEST_SEARCH
argument_list|(
name|PARENS_TO_OPS
argument_list|(
literal|"^(^a)"
argument_list|)
argument_list|,
literal|"ab"
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|TEST_SEARCH
argument_list|(
name|PARENS_TO_OPS
argument_list|(
literal|"(a$)$"
argument_list|)
argument_list|,
literal|"ba"
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
comment|/* Two strings.  */
name|test_match_2
argument_list|(
literal|"ab"
argument_list|,
literal|"a"
argument_list|,
literal|"b"
argument_list|)
expr_stmt|;
name|TEST_REGISTERS_2
argument_list|(
literal|"ab"
argument_list|,
literal|"a"
argument_list|,
literal|"b"
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|test_match_2
argument_list|(
literal|"a"
argument_list|,
literal|""
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
name|test_match_2
argument_list|(
literal|"a"
argument_list|,
literal|"a"
argument_list|,
literal|""
argument_list|)
expr_stmt|;
name|test_match_2
argument_list|(
literal|"ab"
argument_list|,
literal|"a"
argument_list|,
literal|"b"
argument_list|)
expr_stmt|;
comment|/* (start)pos.  */
name|TEST_POSITIONED_MATCH
argument_list|(
literal|"b"
argument_list|,
literal|"ab"
argument_list|,
literal|1
argument_list|)
expr_stmt|;
comment|/* mstop.  */
name|TEST_TRUNCATED_MATCH
argument_list|(
literal|"a"
argument_list|,
literal|"ab"
argument_list|,
literal|1
argument_list|)
expr_stmt|;
comment|/* Both basic and extended, continued; should not match.  */
name|test_should_match
operator|=
name|false
expr_stmt|;
comment|/* Ordinary characters.  */
name|test_match
argument_list|(
literal|"abc"
argument_list|,
literal|"ab"
argument_list|)
expr_stmt|;
name|TEST_SEARCH
argument_list|(
literal|"c"
argument_list|,
literal|"ab"
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|TEST_SEARCH
argument_list|(
literal|"c"
argument_list|,
literal|"ab"
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|TEST_SEARCH
argument_list|(
literal|"c"
argument_list|,
literal|"ab"
argument_list|,
literal|1
argument_list|,
operator|-
literal|2
argument_list|)
expr_stmt|;
name|TEST_SEARCH
argument_list|(
literal|"c"
argument_list|,
literal|"ab"
argument_list|,
literal|0
argument_list|,
literal|10
argument_list|)
expr_stmt|;
name|TEST_SEARCH
argument_list|(
literal|"c"
argument_list|,
literal|"ab"
argument_list|,
literal|1
argument_list|,
operator|-
literal|10
argument_list|)
expr_stmt|;
name|TEST_SEARCH_2
argument_list|(
literal|"c"
argument_list|,
literal|"a"
argument_list|,
literal|"b"
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|TEST_SEARCH_2
argument_list|(
literal|"c"
argument_list|,
literal|"a"
argument_list|,
literal|"b"
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|TEST_SEARCH_2
argument_list|(
literal|"c"
argument_list|,
literal|"a"
argument_list|,
literal|"b"
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|TEST_SEARCH_2
argument_list|(
literal|"c"
argument_list|,
literal|"a"
argument_list|,
literal|"b"
argument_list|,
literal|1
argument_list|,
operator|-
literal|2
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|TEST_SEARCH_2
argument_list|(
literal|"c"
argument_list|,
literal|"a"
argument_list|,
literal|"b"
argument_list|,
literal|1
argument_list|,
operator|-
literal|2
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|TEST_SEARCH
argument_list|(
literal|"c"
argument_list|,
literal|"baaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"
argument_list|,
literal|236
argument_list|,
operator|-
literal|237
argument_list|)
expr_stmt|;
comment|/* Invalid use of special characters.  */
name|invalid_pattern
argument_list|(
name|REG_EESCAPE
argument_list|,
literal|"\\"
argument_list|)
expr_stmt|;
name|invalid_pattern
argument_list|(
name|REG_EESCAPE
argument_list|,
literal|"a\\"
argument_list|)
expr_stmt|;
name|invalid_pattern
argument_list|(
name|REG_EESCAPE
argument_list|,
literal|"a*\\"
argument_list|)
expr_stmt|;
comment|/* Invalid period.  */
name|test_match
argument_list|(
literal|"."
argument_list|,
literal|""
argument_list|)
expr_stmt|;
comment|/* Invalid bracket expressions.  */
name|test_match
argument_list|(
literal|"[ab]"
argument_list|,
literal|"c"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[^b]"
argument_list|,
literal|"b"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[^]]"
argument_list|,
literal|"]"
argument_list|)
expr_stmt|;
name|invalid_pattern
argument_list|(
name|REG_EBRACK
argument_list|,
literal|"["
argument_list|)
expr_stmt|;
name|invalid_pattern
argument_list|(
name|REG_EBRACK
argument_list|,
literal|"[^"
argument_list|)
expr_stmt|;
name|invalid_pattern
argument_list|(
name|REG_EBRACK
argument_list|,
literal|"[a"
argument_list|)
expr_stmt|;
name|invalid_pattern
argument_list|(
name|REG_EBRACK
argument_list|,
literal|"[]"
argument_list|)
expr_stmt|;
name|invalid_pattern
argument_list|(
name|REG_EBRACK
argument_list|,
literal|"[]a"
argument_list|)
expr_stmt|;
name|invalid_pattern
argument_list|(
name|REG_EBRACK
argument_list|,
literal|"a[]a"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[:alpha:]"
argument_list|,
literal|"q"
argument_list|)
expr_stmt|;
comment|/* Character classes.  */
name|test_match
argument_list|(
literal|"[[:alpha:]]"
argument_list|,
literal|"2"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:upper:]]"
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:lower:]]"
argument_list|,
literal|"A"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:digit:]]"
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:alnum:]]"
argument_list|,
literal|":"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:xdigit:]]"
argument_list|,
literal|"g"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:space:]]"
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:print:]]"
argument_list|,
literal|"\177"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:punct:]]"
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:graph:]]"
argument_list|,
literal|" "
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[[:cntrl:]]"
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
name|invalid_pattern
argument_list|(
name|REG_EBRACK
argument_list|,
literal|"[[:"
argument_list|)
expr_stmt|;
name|invalid_pattern
argument_list|(
name|REG_EBRACK
argument_list|,
literal|"[[:alpha:"
argument_list|)
expr_stmt|;
name|invalid_pattern
argument_list|(
name|REG_EBRACK
argument_list|,
literal|"[[:alpha:]"
argument_list|)
expr_stmt|;
name|invalid_pattern
argument_list|(
name|REG_ECTYPE
argument_list|,
literal|"[[::]]"
argument_list|)
expr_stmt|;
name|invalid_pattern
argument_list|(
name|REG_ECTYPE
argument_list|,
literal|"[[:a:]]"
argument_list|)
expr_stmt|;
name|invalid_pattern
argument_list|(
name|REG_ECTYPE
argument_list|,
literal|"[[:alpo:]]"
argument_list|)
expr_stmt|;
name|invalid_pattern
argument_list|(
name|REG_ECTYPE
argument_list|,
literal|"[[:a:]"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[a-z]"
argument_list|,
literal|"2"
argument_list|)
expr_stmt|;
comment|/* Invalid ranges.  */
name|test_match
argument_list|(
literal|"[^-a]"
argument_list|,
literal|"-"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[^a-]"
argument_list|,
literal|"-"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[)-+--/]"
argument_list|,
literal|"."
argument_list|)
expr_stmt|;
name|invalid_pattern
argument_list|(
name|REG_ERANGE
argument_list|,
literal|"[z-a]"
argument_list|)
expr_stmt|;
comment|/* Empty  */
name|invalid_pattern
argument_list|(
name|REG_ERANGE
argument_list|,
literal|"[a--]"
argument_list|)
expr_stmt|;
comment|/* Empty  */
name|invalid_pattern
argument_list|(
name|REG_ERANGE
argument_list|,
literal|"[[:digit:]-9]"
argument_list|)
expr_stmt|;
name|invalid_pattern
argument_list|(
name|REG_ERANGE
argument_list|,
literal|"[a-[:alpha:]]"
argument_list|)
expr_stmt|;
name|invalid_pattern
argument_list|(
name|REG_ERANGE
argument_list|,
literal|"[a-"
argument_list|)
expr_stmt|;
name|invalid_pattern
argument_list|(
name|REG_EBRACK
argument_list|,
literal|"[a-z"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"[ab][cd]"
argument_list|,
literal|"ae"
argument_list|)
expr_stmt|;
comment|/* Concatenation.  */
name|test_match
argument_list|(
literal|"b*c"
argument_list|,
literal|"b"
argument_list|)
expr_stmt|;
comment|/* Star.  */
comment|/* Invalid anchoring.  */
name|test_match
argument_list|(
literal|"^"
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"^a"
argument_list|,
literal|"ba"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"$"
argument_list|,
literal|"b"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"a$"
argument_list|,
literal|"ab"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"^$"
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
name|test_match
argument_list|(
literal|"^ab$"
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
name|TEST_SEARCH
argument_list|(
literal|"^a"
argument_list|,
literal|"b\na"
argument_list|,
literal|0
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|TEST_SEARCH
argument_list|(
literal|"b$"
argument_list|,
literal|"b\na"
argument_list|,
literal|0
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|test_match_2
argument_list|(
literal|"^a"
argument_list|,
literal|"\n"
argument_list|,
literal|"a"
argument_list|)
expr_stmt|;
name|test_match_2
argument_list|(
literal|"a$"
argument_list|,
literal|"a"
argument_list|,
literal|"\n"
argument_list|)
expr_stmt|;
name|TEST_SEARCH
argument_list|(
name|PARENS_TO_OPS
argument_list|(
literal|"(^a)"
argument_list|)
argument_list|,
literal|"ba"
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|TEST_SEARCH
argument_list|(
name|PARENS_TO_OPS
argument_list|(
literal|"(a$)"
argument_list|)
argument_list|,
literal|"ab"
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|TEST_SEARCH
argument_list|(
name|PARENS_TO_OPS
argument_list|(
literal|"^(^a)"
argument_list|)
argument_list|,
literal|"ba"
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|TEST_SEARCH
argument_list|(
name|PARENS_TO_OPS
argument_list|(
literal|"(a$)$"
argument_list|)
argument_list|,
literal|"ab"
argument_list|,
literal|0
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"\nFinished generic POSIX tests.\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_escape
end_escape

begin_comment
comment|/* Local variables: make-backup-files: t version-control: t trim-versions-without-asking: nil End: */
end_comment

end_unit

