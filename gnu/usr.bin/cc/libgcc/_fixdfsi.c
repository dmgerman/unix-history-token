begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_decl_stmt
specifier|extern
name|int
name|target_flags
decl_stmt|;
end_decl_stmt

begin_enum
enum|enum
name|reg_class
block|{
name|NO_REGS
block|,
name|AREG
block|,
name|DREG
block|,
name|CREG
block|,
name|BREG
block|,
name|Q_REGS
block|,
name|SIREG
block|,
name|DIREG
block|,
name|INDEX_REGS
block|,
name|GENERAL_REGS
block|,
name|FP_TOP_REG
block|,
name|FP_SECOND_REG
block|,
name|FLOAT_REGS
block|,
name|ALL_REGS
block|,
name|LIM_REG_CLASSES
block|}
enum|;
end_enum

begin_decl_stmt
specifier|extern
name|enum
name|reg_class
name|regclass_map
index|[
literal|17
index|]
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|struct
name|rtx_def
modifier|*
name|i386_compare_op0
decl_stmt|,
modifier|*
name|i386_compare_op1
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|struct
name|rtx_def
modifier|*
argument_list|(
operator|*
name|i386_compare_gen
argument_list|)
argument_list|()
decl_stmt|,
modifier|*
argument_list|(
operator|*
name|i386_compare_gen_eq
argument_list|)
argument_list|()
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|char
modifier|*
name|hi_reg_name
index|[]
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|char
modifier|*
name|qi_reg_name
index|[]
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|char
modifier|*
name|qi_high_reg_name
index|[]
decl_stmt|;
end_decl_stmt

begin_union
union|union
name|flt_or_value
block|{
name|float
name|i
decl_stmt|;
name|float
name|f
decl_stmt|;
block|}
union|;
end_union

begin_union
union|union
name|flt_or_int
block|{
name|int
name|i
decl_stmt|;
name|float
name|f
decl_stmt|;
block|}
union|;
end_union

begin_function
name|long
name|int
name|__fixdfsi
parameter_list|(
name|a
parameter_list|)
name|double
name|a
decl_stmt|;
block|{
block|{
specifier|auto
name|unsigned
name|short
name|ostatus
decl_stmt|;
specifier|auto
name|unsigned
name|short
name|nstatus
decl_stmt|;
specifier|auto
name|int
name|ret
decl_stmt|;
specifier|auto
name|double
name|tmp
decl_stmt|;
operator|&
name|ostatus
expr_stmt|;
operator|&
name|nstatus
expr_stmt|;
operator|&
name|ret
expr_stmt|;
operator|&
name|tmp
expr_stmt|;
asm|asm
specifier|volatile
asm|("fnstcw %0" : "=m" (ostatus));
name|nstatus
operator|=
name|ostatus
operator||
literal|0x0c00
expr_stmt|;
asm|asm
specifier|volatile
asm|("fldcw %0" :   : "m" (nstatus));
name|tmp
operator|=
name|a
expr_stmt|;
asm|asm
specifier|volatile
asm|("fldl %0" :   : "m" (tmp));
asm|asm
specifier|volatile
asm|("fistpl %0" : "=m" (ret));
asm|asm
specifier|volatile
asm|("fldcw %0" :   : "m" (ostatus));
return|return
name|ret
return|;
block|}
empty_stmt|;
block|}
end_function

end_unit

