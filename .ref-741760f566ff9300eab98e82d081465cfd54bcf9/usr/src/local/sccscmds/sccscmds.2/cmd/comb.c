begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_include
include|#
directive|include
file|"../hdr/defines.h"
end_include

begin_include
include|#
directive|include
file|"../hdr/had.h"
end_include

begin_decl_stmt
specifier|static
name|char
name|Sccsid
index|[]
init|=
literal|"@(#)comb.c	4.3	%G%"
decl_stmt|;
end_decl_stmt

begin_expr_stmt
name|USXALLOC
argument_list|()
expr_stmt|;
end_expr_stmt

begin_decl_stmt
name|struct
name|packet
name|gpkt
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|struct
name|sid
name|sid
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|num_files
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|had
index|[
literal|26
index|]
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
modifier|*
name|clist
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
modifier|*
name|Cvec
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|Cnt
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|FILE
modifier|*
name|iop
decl_stmt|;
end_decl_stmt

begin_function
name|main
parameter_list|(
name|argc
parameter_list|,
name|argv
parameter_list|)
name|int
name|argc
decl_stmt|;
specifier|register
name|char
modifier|*
name|argv
index|[]
decl_stmt|;
block|{
specifier|register
name|int
name|i
decl_stmt|;
specifier|register
name|char
modifier|*
name|p
decl_stmt|;
name|char
name|c
decl_stmt|;
name|int
name|testmore
decl_stmt|;
extern|extern comb(
block|)
function|;
end_function

begin_decl_stmt
specifier|extern
name|int
name|Fcnt
decl_stmt|;
end_decl_stmt

begin_expr_stmt
name|Fflags
operator|=
name|FTLEXIT
operator||
name|FTLMSG
operator||
name|FTLCLN
expr_stmt|;
end_expr_stmt

begin_for
for|for
control|(
name|i
operator|=
literal|1
init|;
name|i
operator|<
name|argc
condition|;
name|i
operator|++
control|)
if|if
condition|(
name|argv
index|[
name|i
index|]
index|[
literal|0
index|]
operator|==
literal|'-'
operator|&&
operator|(
name|c
operator|=
name|argv
index|[
name|i
index|]
index|[
literal|1
index|]
operator|)
condition|)
block|{
name|p
operator|=
operator|&
name|argv
index|[
name|i
index|]
index|[
literal|2
index|]
expr_stmt|;
name|testmore
operator|=
literal|0
expr_stmt|;
switch|switch
condition|(
name|c
condition|)
block|{
case|case
literal|'p'
case|:
if|if
condition|(
operator|!
name|p
index|[
literal|0
index|]
condition|)
block|{
name|argv
index|[
name|i
index|]
operator|=
literal|0
expr_stmt|;
continue|continue;
block|}
name|chksid
argument_list|(
name|sid_ab
argument_list|(
name|p
argument_list|,
operator|&
name|sid
argument_list|)
argument_list|,
operator|&
name|sid
argument_list|)
expr_stmt|;
break|break;
case|case
literal|'c'
case|:
name|clist
operator|=
name|p
expr_stmt|;
break|break;
case|case
literal|'o'
case|:
name|testmore
operator|++
expr_stmt|;
break|break;
case|case
literal|'s'
case|:
name|testmore
operator|++
expr_stmt|;
break|break;
default|default:
name|fatal
argument_list|(
literal|"unknown key letter (cm1)"
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
name|testmore
condition|)
block|{
name|testmore
operator|=
literal|0
expr_stmt|;
if|if
condition|(
operator|*
name|p
condition|)
name|fatal
argument_list|(
name|sprintf
argument_list|(
name|Error
argument_list|,
literal|"value after %c arg (cm7)"
argument_list|,
name|c
argument_list|)
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
name|had
index|[
name|c
operator|-
literal|'a'
index|]
operator|++
condition|)
name|fatal
argument_list|(
literal|"key letter twice (cm2)"
argument_list|)
expr_stmt|;
name|argv
index|[
name|i
index|]
operator|=
literal|0
expr_stmt|;
block|}
else|else
name|num_files
operator|++
expr_stmt|;
end_for

begin_if
if|if
condition|(
name|num_files
operator|==
literal|0
condition|)
name|fatal
argument_list|(
literal|"missing file arg (cm3)"
argument_list|)
expr_stmt|;
end_if

begin_if
if|if
condition|(
name|HADP
operator|&&
name|HADC
condition|)
name|fatal
argument_list|(
literal|"can't have both -p and -c (cb2)"
argument_list|)
expr_stmt|;
end_if

begin_expr_stmt
name|setsig
argument_list|()
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|Fflags
operator|&=
operator|~
name|FTLEXIT
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|Fflags
operator||=
name|FTLJMP
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|iop
operator|=
name|stdout
expr_stmt|;
end_expr_stmt

begin_for
for|for
control|(
name|i
operator|=
literal|1
init|;
name|i
operator|<
name|argc
condition|;
name|i
operator|++
control|)
if|if
condition|(
name|p
operator|=
name|argv
index|[
name|i
index|]
condition|)
name|do_file
argument_list|(
name|p
argument_list|,
name|comb
argument_list|)
expr_stmt|;
end_for

begin_expr_stmt
name|fclose
argument_list|(
name|iop
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|exit
argument_list|(
name|Fcnt
condition|?
literal|1
else|:
literal|0
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
unit|}   comb
operator|(
name|file
operator|)
block|{
specifier|register
name|int
name|i
block|,
name|n
block|;
specifier|register
expr|struct
name|idel
operator|*
name|rdp
block|;
name|char
operator|*
name|p
block|;
name|int
name|succnt
block|; 	struct
name|sid
operator|*
name|sp
block|;
specifier|extern
name|char
name|had_dir
block|,
name|had_standinp
block|;
specifier|extern
name|char
operator|*
name|Sflags
index|[]
block|; 	struct
name|stats
name|stats
block|;
if|if
condition|(
name|setjmp
argument_list|(
name|Fjmp
argument_list|)
condition|)
return|return;
name|sinit
argument_list|(
operator|&
name|gpkt
argument_list|,
name|file
argument_list|,
literal|1
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|gpkt
operator|.
name|p_verbose
operator|=
operator|-
literal|1
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|gpkt
operator|.
name|p_stdout
operator|=
name|stderr
expr_stmt|;
end_expr_stmt

begin_if
if|if
condition|(
name|gpkt
operator|.
name|p_verbose
operator|&&
operator|(
name|num_files
operator|>
literal|1
operator|||
name|had_dir
operator|||
name|had_standinp
operator|)
condition|)
name|fprintf
argument_list|(
name|gpkt
operator|.
name|p_stdout
argument_list|,
literal|"\n%s:\n"
argument_list|,
name|gpkt
operator|.
name|p_file
argument_list|)
expr_stmt|;
end_if

begin_if
if|if
condition|(
name|exists
argument_list|(
name|auxf
argument_list|(
name|gpkt
operator|.
name|p_file
argument_list|,
literal|'p'
argument_list|)
argument_list|)
condition|)
name|fatal
argument_list|(
literal|"p-file exists (cb1)"
argument_list|)
expr_stmt|;
end_if

begin_if
if|if
condition|(
name|dodelt
argument_list|(
operator|&
name|gpkt
argument_list|,
operator|&
name|stats
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
operator|==
literal|0
condition|)
name|fmterr
argument_list|(
operator|&
name|gpkt
argument_list|)
expr_stmt|;
end_if

begin_expr_stmt
name|Cvec
operator|=
name|alloc
argument_list|(
name|n
operator|=
operator|(
operator|(
name|maxser
argument_list|(
operator|&
name|gpkt
argument_list|)
operator|+
literal|1
operator|)
operator|*
sizeof|sizeof
argument_list|(
operator|*
name|Cvec
argument_list|)
operator|)
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|bzero
argument_list|(
name|Cvec
argument_list|,
name|n
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|Cnt
operator|=
literal|0
expr_stmt|;
end_expr_stmt

begin_if
if|if
condition|(
name|HADP
condition|)
block|{
if|if
condition|(
operator|!
operator|(
name|n
operator|=
name|sidtoser
argument_list|(
operator|&
name|sid
argument_list|,
operator|&
name|gpkt
argument_list|)
operator|)
condition|)
name|fatal
argument_list|(
literal|"sid doesn't exist (cb3)"
argument_list|)
expr_stmt|;
while|while
condition|(
name|n
operator|<=
name|maxser
argument_list|(
operator|&
name|gpkt
argument_list|)
condition|)
name|Cvec
index|[
name|Cnt
operator|++
index|]
operator|=
name|n
operator|++
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|HADC
condition|)
block|{
name|dolist
argument_list|(
operator|&
name|gpkt
argument_list|,
name|clist
argument_list|,
literal|0
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|rdp
operator|=
name|gpkt
operator|.
name|p_idel
expr_stmt|;
for|for
control|(
name|i
operator|=
literal|1
init|;
name|i
operator|<=
name|maxser
argument_list|(
operator|&
name|gpkt
argument_list|)
condition|;
name|i
operator|++
control|)
block|{
name|succnt
operator|=
literal|0
expr_stmt|;
for|for
control|(
name|n
operator|=
name|i
operator|+
literal|1
init|;
name|n
operator|<=
name|maxser
argument_list|(
operator|&
name|gpkt
argument_list|)
condition|;
name|n
operator|++
control|)
if|if
condition|(
name|rdp
index|[
name|n
index|]
operator|.
name|i_pred
operator|==
name|i
condition|)
name|succnt
operator|++
expr_stmt|;
if|if
condition|(
name|succnt
operator|!=
literal|1
condition|)
name|Cvec
index|[
name|Cnt
operator|++
index|]
operator|=
name|i
expr_stmt|;
block|}
block|}
end_if

begin_expr_stmt
name|finduser
argument_list|(
operator|&
name|gpkt
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|doflags
argument_list|(
operator|&
name|gpkt
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|fclose
argument_list|(
name|gpkt
operator|.
name|p_iop
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|gpkt
operator|.
name|p_iop
operator|=
literal|0
expr_stmt|;
end_expr_stmt

begin_if
if|if
condition|(
operator|!
name|Cnt
condition|)
name|fatal
argument_list|(
literal|"nothing to do (cb4)"
argument_list|)
expr_stmt|;
end_if

begin_expr_stmt
name|rdp
operator|=
name|gpkt
operator|.
name|p_idel
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|sp
operator|=
name|prtget
argument_list|(
name|rdp
argument_list|,
name|Cvec
index|[
literal|0
index|]
argument_list|,
name|iop
argument_list|,
name|gpkt
operator|.
name|p_file
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"admin -iCOMB -r%d s.COMB\n"
argument_list|,
name|sp
operator|->
name|s_rel
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"rm -f COMB\n"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_for
for|for
control|(
name|i
operator|=
literal|1
init|;
name|i
operator|<
name|Cnt
condition|;
name|i
operator|++
control|)
block|{
name|n
operator|=
name|getpred
argument_list|(
name|rdp
argument_list|,
name|Cvec
argument_list|,
name|i
argument_list|)
expr_stmt|;
if|if
condition|(
name|HADO
condition|)
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"get -s -r%d -g -e -t s.COMB\n"
argument_list|,
name|rdp
index|[
name|Cvec
index|[
name|i
index|]
index|]
operator|.
name|i_sid
operator|.
name|s_rel
argument_list|)
expr_stmt|;
else|else
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"get -s -a%d -r%d -g -e s.COMB\n"
argument_list|,
name|n
operator|+
literal|1
argument_list|,
name|rdp
index|[
name|Cvec
index|[
name|i
index|]
index|]
operator|.
name|i_sid
operator|.
name|s_rel
argument_list|)
expr_stmt|;
name|prtget
argument_list|(
name|rdp
argument_list|,
name|Cvec
index|[
name|i
index|]
argument_list|,
name|iop
argument_list|,
name|gpkt
operator|.
name|p_file
argument_list|)
expr_stmt|;
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"delta -s '-yThis was COMBined' s.COMB\n"
argument_list|)
expr_stmt|;
block|}
end_for

begin_expr_stmt
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"sed -n '/^%c%c$/,/^%c%c$/p' %s>comb${pid}\n"
argument_list|,
name|CTLCHAR
argument_list|,
name|BUSERTXT
argument_list|,
name|CTLCHAR
argument_list|,
name|EUSERTXT
argument_list|,
name|gpkt
operator|.
name|p_file
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"ed - comb${pid}<<\\!\n"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"1d\n"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"$c\n"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|" *** DELTA TABLE PRIOR TO COMBINE ***\n"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|".\n"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"w\n"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"q\n"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"!\n"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"prt -a %s>>comb${pid}\n"
argument_list|,
name|gpkt
operator|.
name|p_file
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"admin -tcomb${pid} s.COMB\\\n"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_for
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|NFLAGS
condition|;
name|i
operator|++
control|)
if|if
condition|(
name|p
operator|=
name|Sflags
index|[
name|i
index|]
condition|)
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|" -f%c%s\\\n"
argument_list|,
name|i
operator|+
literal|'a'
argument_list|,
name|p
argument_list|)
expr_stmt|;
end_for

begin_expr_stmt
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"\n"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"sed -n '/^%c%c$/,/^%c%c$/p' %s>comb${pid}\n"
argument_list|,
name|CTLCHAR
argument_list|,
name|BUSERNAM
argument_list|,
name|CTLCHAR
argument_list|,
name|EUSERNAM
argument_list|,
name|gpkt
operator|.
name|p_file
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"ed - comb${pid}<<\\!\n"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"v/^%c/s/.*/-a& \\\\/\n"
argument_list|,
name|CTLCHAR
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"1c\n"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"admin s.COMB\\\n"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|".\n"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"$c\n"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"\n"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|".\n"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"w\n"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"q\n"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"!\n"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"sh comb${pid}\n"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"rm comb${pid}\n"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_if
if|if
condition|(
operator|!
name|HADS
condition|)
block|{
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"rm -f %s\n"
argument_list|,
name|gpkt
operator|.
name|p_file
argument_list|)
expr_stmt|;
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"mv s.COMB %s\n"
argument_list|,
name|gpkt
operator|.
name|p_file
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"set a=`echo \\`ls -s s.COMB\\``\n"
argument_list|)
expr_stmt|;
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"set b=`echo \\`ls -s %s\\``\n"
argument_list|,
name|gpkt
operator|.
name|p_file
argument_list|)
expr_stmt|;
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"set c=`expr 100 - 100 '*' ${a} / ${b}`\n"
argument_list|)
expr_stmt|;
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"echo '%s\t' ${c}'%%\t' ${a}/${b}\n"
argument_list|,
name|gpkt
operator|.
name|p_file
argument_list|)
expr_stmt|;
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"rm -f s.COMB\n"
argument_list|)
expr_stmt|;
block|}
end_if

begin_expr_stmt
unit|}   enter
operator|(
name|pkt
operator|,
name|ch
operator|,
name|n
operator|,
name|sidp
operator|)
expr|struct
name|packet
operator|*
name|pkt
expr_stmt|;
end_expr_stmt

begin_decl_stmt
name|char
name|ch
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|n
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|struct
name|sid
modifier|*
name|sidp
decl_stmt|;
end_decl_stmt

begin_block
block|{
name|Cvec
index|[
name|Cnt
operator|++
index|]
operator|=
name|n
expr_stmt|;
block|}
end_block

begin_macro
name|prtget
argument_list|(
argument|idp
argument_list|,
argument|ser
argument_list|,
argument|iop
argument_list|,
argument|file
argument_list|)
end_macro

begin_decl_stmt
name|struct
name|idel
modifier|*
name|idp
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|ser
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|FILE
modifier|*
name|iop
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
modifier|*
name|file
decl_stmt|;
end_decl_stmt

begin_block
block|{
name|char
name|buf
index|[
literal|32
index|]
decl_stmt|;
name|struct
name|sid
modifier|*
name|sp
decl_stmt|;
name|sid_ba
argument_list|(
name|sp
operator|=
operator|&
name|idp
index|[
name|ser
index|]
operator|.
name|i_sid
argument_list|,
name|buf
argument_list|)
expr_stmt|;
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|":\t/bin/bsh\n"
argument_list|)
expr_stmt|;
name|fprintf
argument_list|(
name|iop
argument_list|,
literal|"get -s -k -r%s -p %s> COMB\n"
argument_list|,
name|buf
argument_list|,
name|file
argument_list|)
expr_stmt|;
return|return
operator|(
name|sp
operator|)
return|;
block|}
end_block

begin_macro
name|getpred
argument_list|(
argument|idp
argument_list|,
argument|vec
argument_list|,
argument|i
argument_list|)
end_macro

begin_decl_stmt
name|struct
name|idel
modifier|*
name|idp
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
modifier|*
name|vec
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|i
decl_stmt|;
end_decl_stmt

begin_block
block|{
name|int
name|ser
decl_stmt|,
name|pred
decl_stmt|,
name|acpred
decl_stmt|;
name|ser
operator|=
name|vec
index|[
name|i
index|]
expr_stmt|;
while|while
condition|(
operator|--
name|i
condition|)
block|{
name|pred
operator|=
name|vec
index|[
name|i
index|]
expr_stmt|;
for|for
control|(
name|acpred
operator|=
name|idp
index|[
name|ser
index|]
operator|.
name|i_pred
init|;
name|acpred
condition|;
name|acpred
operator|=
name|idp
index|[
name|acpred
index|]
operator|.
name|i_pred
control|)
if|if
condition|(
name|pred
operator|==
name|acpred
condition|)
break|break;
if|if
condition|(
name|pred
operator|==
name|acpred
condition|)
break|break;
block|}
return|return
operator|(
name|i
operator|)
return|;
block|}
end_block

begin_macro
name|clean_up
argument_list|(
argument|n
argument_list|)
end_macro

begin_block
block|{
name|xfreeall
argument_list|()
expr_stmt|;
block|}
end_block

begin_macro
name|escdodelt
argument_list|()
end_macro

begin_comment
comment|/* dummy for dodelt() */
end_comment

begin_block
block|{ }
end_block

end_unit

