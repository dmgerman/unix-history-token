begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_include
include|#
directive|include
file|"old.h"
end_include

begin_macro
name|statl
argument_list|()
end_macro

begin_block
block|{
name|int
modifier|*
name|p1
decl_stmt|,
modifier|*
name|p2
decl_stmt|,
modifier|*
name|p3
decl_stmt|;
name|p1
operator|=
name|p2
operator|=
name|lmp
expr_stmt|;
name|stage
argument_list|()
expr_stmt|;
name|mantom
condition|?
name|bagen
argument_list|()
else|:
name|wagen
argument_list|()
expr_stmt|;
if|if
condition|(
name|lmp
operator|==
name|p1
operator|+
literal|1
condition|)
return|return
operator|(
name|p1
operator|)
return|;
while|while
condition|(
name|p2
operator|!=
name|lmp
condition|)
block|{
name|p3
operator|=
name|p2
operator|++
expr_stmt|;
if|if
condition|(
name|mantom
condition|)
block|{
name|bmove
argument_list|(
operator|*
name|p2
operator|++
argument_list|)
expr_stmt|;
operator|*
name|p3
operator|=
name|bstatic
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|bremove
argument_list|()
expr_stmt|;
block|}
else|else
block|{
name|wmove
argument_list|(
operator|*
name|p2
operator|++
argument_list|)
expr_stmt|;
operator|*
name|p3
operator|=
name|wstatic
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|wremove
argument_list|()
expr_stmt|;
block|}
block|}
name|qsort
argument_list|(
name|p1
argument_list|,
name|lmp
argument_list|)
expr_stmt|;
return|return
operator|(
name|p1
operator|)
return|;
block|}
end_block

begin_macro
name|wstatic
argument_list|(
argument|f
argument_list|)
end_macro

begin_block
block|{
name|int
name|i
decl_stmt|,
name|j
decl_stmt|,
name|h
decl_stmt|,
argument_list|(
operator|*
name|p
argument_list|)
argument_list|()
decl_stmt|;
name|h
operator|=
name|i
operator|=
literal|0
expr_stmt|;
while|while
condition|(
name|p
operator|=
name|wheur
index|[
name|h
operator|++
index|]
condition|)
block|{
name|j
operator|=
call|(
modifier|*
name|p
call|)
argument_list|()
expr_stmt|;
if|if
condition|(
name|f
condition|)
name|printf
argument_list|(
literal|"%4d "
argument_list|,
name|j
argument_list|)
expr_stmt|;
name|i
operator|=
operator|+
name|j
expr_stmt|;
block|}
if|if
condition|(
name|f
condition|)
name|printf
argument_list|(
literal|"=%4d "
argument_list|,
name|i
argument_list|)
expr_stmt|;
return|return
operator|(
operator|-
name|i
operator|)
return|;
block|}
end_block

begin_macro
name|bstatic
argument_list|(
argument|f
argument_list|)
end_macro

begin_block
block|{
name|int
name|i
decl_stmt|,
name|j
decl_stmt|,
name|h
decl_stmt|,
argument_list|(
operator|*
name|p
argument_list|)
argument_list|()
decl_stmt|;
name|h
operator|=
name|i
operator|=
literal|0
expr_stmt|;
while|while
condition|(
name|p
operator|=
name|bheur
index|[
name|h
operator|++
index|]
condition|)
block|{
name|j
operator|=
call|(
modifier|*
name|p
call|)
argument_list|()
expr_stmt|;
if|if
condition|(
name|f
condition|)
name|printf
argument_list|(
literal|"%4d "
argument_list|,
name|j
argument_list|)
expr_stmt|;
name|i
operator|=
operator|+
name|j
expr_stmt|;
block|}
if|if
condition|(
name|f
condition|)
name|printf
argument_list|(
literal|"=%4d "
argument_list|,
name|i
argument_list|)
expr_stmt|;
return|return
operator|(
operator|-
name|i
operator|)
return|;
block|}
end_block

begin_macro
name|xheur
argument_list|(
argument|ploc
argument_list|)
end_macro

begin_decl_stmt
name|int
name|ploc
decl_stmt|;
end_decl_stmt

begin_block
block|{
name|int
modifier|*
name|p1
decl_stmt|,
modifier|*
name|p2
decl_stmt|,
name|from
decl_stmt|,
name|to
decl_stmt|,
name|pie
decl_stmt|;
name|pie
operator|=
name|board
index|[
name|ploc
index|]
expr_stmt|;
name|p1
operator|=
name|lmp
expr_stmt|;
name|p2
operator|=
name|p1
expr_stmt|;
name|mantom
condition|?
name|wgen
argument_list|()
else|:
name|bgen
argument_list|()
expr_stmt|;
while|while
condition|(
name|p2
operator|!=
name|lmp
condition|)
block|{
name|p2
operator|++
expr_stmt|;
name|to
operator|=
operator|*
name|p2
operator|++
operator|&
literal|0377
expr_stmt|;
if|if
condition|(
name|to
operator|==
name|ploc
condition|)
block|{
name|from
operator|=
name|p2
index|[
operator|-
literal|1
index|]
operator|>>
literal|8
expr_stmt|;
if|if
condition|(
name|abs
argument_list|(
name|board
index|[
name|from
index|]
argument_list|)
operator|<
name|abs
argument_list|(
name|pie
argument_list|)
condition|)
block|{
name|lmp
operator|=
name|p1
expr_stmt|;
return|return
operator|(
operator|(
name|pval
operator|+
literal|6
operator|)
index|[
name|pie
index|]
operator|/
literal|60
operator|)
return|;
block|}
block|}
block|}
name|lmp
operator|=
name|p1
expr_stmt|;
return|return
operator|(
literal|0
operator|)
return|;
block|}
end_block

begin_macro
name|srnd
argument_list|(
argument|p
argument_list|)
end_macro

begin_decl_stmt
name|int
name|p
decl_stmt|;
end_decl_stmt

begin_block
block|{
name|srnd1
argument_list|(
name|p
argument_list|,
name|uleft
argument_list|,
operator|-
literal|9
argument_list|)
expr_stmt|;
name|srnd1
argument_list|(
name|p
argument_list|,
name|uright
argument_list|,
operator|-
literal|7
argument_list|)
expr_stmt|;
name|srnd1
argument_list|(
name|p
argument_list|,
name|dleft
argument_list|,
literal|7
argument_list|)
expr_stmt|;
name|srnd1
argument_list|(
name|p
argument_list|,
name|dright
argument_list|,
literal|9
argument_list|)
expr_stmt|;
name|srnd1
argument_list|(
name|p
argument_list|,
name|up
argument_list|,
operator|-
literal|8
argument_list|)
expr_stmt|;
name|srnd1
argument_list|(
name|p
argument_list|,
name|left
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|srnd1
argument_list|(
name|p
argument_list|,
name|right
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|srnd1
argument_list|(
name|p
argument_list|,
name|down
argument_list|,
literal|8
argument_list|)
expr_stmt|;
name|srnd1
argument_list|(
name|p
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
block|}
end_block

begin_macro
name|srnd1
argument_list|(
argument|p
argument_list|,
argument|m
argument_list|,
argument|o
argument_list|)
end_macro

begin_decl_stmt
name|int
name|p
decl_stmt|,
name|m
decl_stmt|,
name|o
decl_stmt|;
end_decl_stmt

begin_block
block|{
if|if
condition|(
operator|(
name|dir
index|[
name|p
index|]
operator|&
name|m
operator|)
operator|==
literal|0
condition|)
name|control
index|[
name|p
operator|+
name|o
index|]
operator|=
operator|+
literal|10
expr_stmt|;
block|}
end_block

end_unit

