begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*  * Copyright (c) 1980 Regents of the University of California.  * All rights reserved.  The Berkeley software License Agreement  * specifies the terms and conditions for redistribution.  */
end_comment

begin_ifndef
ifndef|#
directive|ifndef
name|lint
end_ifndef

begin_decl_stmt
name|char
name|copyright
index|[]
init|=
literal|"@(#) Copyright (c) 1980 Regents of the University of California.\n\  All rights reserved.\n"
decl_stmt|;
end_decl_stmt

begin_endif
endif|#
directive|endif
endif|not lint
end_endif

begin_ifndef
ifndef|#
directive|ifndef
name|lint
end_ifndef

begin_decl_stmt
specifier|static
name|char
name|sccsid
index|[]
init|=
literal|"@(#)test.c	5.1 (Berkeley) 5/30/85"
decl_stmt|;
end_decl_stmt

begin_endif
endif|#
directive|endif
endif|not lint
end_endif

begin_include
include|#
directive|include
file|<stdio.h>
end_include

begin_include
include|#
directive|include
file|"deck.h"
end_include

begin_decl_stmt
name|CARD
name|known
index|[
name|CARDS
index|]
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* a deck */
end_comment

begin_decl_stmt
name|CARD
name|deck
index|[
name|CARDS
index|]
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* a deck */
end_comment

begin_decl_stmt
name|CARD
name|hand
index|[
literal|4
index|]
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* a hand */
end_comment

begin_decl_stmt
name|int
name|knownum
decl_stmt|;
end_decl_stmt

begin_function
name|main
parameter_list|(
name|argc
parameter_list|,
name|argv
parameter_list|)
name|int
name|argc
decl_stmt|;
name|char
modifier|*
name|argv
index|[]
decl_stmt|;
block|{
specifier|register
name|int
name|k
decl_stmt|,
name|l
decl_stmt|,
name|m
decl_stmt|;
name|int
name|i
decl_stmt|,
name|j
decl_stmt|,
name|is
decl_stmt|,
name|n
decl_stmt|,
name|sum
decl_stmt|,
name|sum2
decl_stmt|;
name|CARD
name|ic
decl_stmt|,
name|jc
decl_stmt|;
name|CARD
name|d
index|[
name|CARDS
index|]
decl_stmt|;
specifier|extern
name|char
name|expl
index|[]
decl_stmt|;
name|printf
argument_list|(
literal|"Assuming cards are same suit\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|argc
operator|==
literal|2
condition|)
block|{
name|is
operator|=
name|atoi
argument_list|(
operator|*
operator|++
name|argv
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"Starting at i = %d\n"
argument_list|,
name|is
argument_list|)
expr_stmt|;
block|}
name|makedeck
argument_list|(
name|deck
argument_list|)
expr_stmt|;
if|#
directive|if
literal|0
block|for( i = is; i< RANKS; i++ )  {
comment|/* first card */
block|ic.rank = i; 	    ic.suit = 0; 	    hand[0] = ic; 	    for( j = 0; j<= i; j++ )  { 		printf( "%d %d: sum  = %d\n", i, j, -10000000 ); 		printf( "%d %d: sum2 = %d\n", i, j, -10000000 ); 	    } 	    for( j = i + 1; j< RANKS; j++ )  {
comment|/* second card */
block|jc.rank = j; 		jc.suit = 0; 		hand[1] = jc; 		for( k = 0; k< CARDS; k++ )  d[k] = deck[k]; 		n = CARDS; 		remove( ic, d, n-- ); 		remove( jc, d, n-- ); 		sum = 0; 		sum2 = 0; 		for( k = 0; k< n - 1; k++ )  {
comment|/* 3rd card */
block|hand[2] = d[k]; 		    for( l = k + 1; l< n; l++ )  {
comment|/* 4th card */
block|hand[3] = d[l]; 			for( m = 0; m< n; m++ )  {
comment|/* cut card */
block|if(  m != l&&  m != k  ) 					    sum += scorehand(hand, d[m], 4, FALSE, FALSE); 					    sum2 += scorehand(hand, d[m], 4, TRUE, FALSE); 			} 		    } 		} 		printf( "%d %d: sum  = %d\n", i, j, sum ); 		printf( "%d %d: sum2 = %d\n", i, j, sum2 ); 		fflush( stdout ); 	    } 	} 	printf( "\nthe hand scores %d\n", i );
else|#
directive|else
name|hand
index|[
literal|0
index|]
operator|.
name|rank
operator|=
literal|0
expr_stmt|;
name|hand
index|[
literal|1
index|]
operator|.
name|rank
operator|=
literal|1
expr_stmt|;
name|hand
index|[
literal|2
index|]
operator|.
name|rank
operator|=
literal|2
expr_stmt|;
name|hand
index|[
literal|3
index|]
operator|.
name|rank
operator|=
literal|3
expr_stmt|;
name|hand
index|[
literal|4
index|]
operator|.
name|rank
operator|=
literal|4
expr_stmt|;
name|hand
index|[
literal|0
index|]
operator|.
name|suit
operator|=
literal|0
expr_stmt|;
name|hand
index|[
literal|1
index|]
operator|.
name|suit
operator|=
literal|0
expr_stmt|;
name|hand
index|[
literal|2
index|]
operator|.
name|suit
operator|=
literal|0
expr_stmt|;
name|hand
index|[
literal|3
index|]
operator|.
name|suit
operator|=
literal|0
expr_stmt|;
name|hand
index|[
literal|4
index|]
operator|.
name|suit
operator|=
literal|0
expr_stmt|;
name|printf
argument_list|(
literal|"scorehand of hand = %d\n"
argument_list|,
name|scorehand
argument_list|(
name|hand
argument_list|,
name|hand
index|[
literal|4
index|]
argument_list|,
name|CINHAND
argument_list|,
name|FALSE
argument_list|,
name|TRUE
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"\t%s\n"
argument_list|,
name|expl
argument_list|)
expr_stmt|;
name|hand
index|[
literal|0
index|]
operator|.
name|rank
operator|=
literal|0
expr_stmt|;
name|hand
index|[
literal|1
index|]
operator|.
name|rank
operator|=
literal|1
expr_stmt|;
name|hand
index|[
literal|2
index|]
operator|.
name|rank
operator|=
literal|2
expr_stmt|;
name|hand
index|[
literal|3
index|]
operator|.
name|rank
operator|=
literal|3
expr_stmt|;
name|hand
index|[
literal|4
index|]
operator|.
name|rank
operator|=
literal|4
expr_stmt|;
name|hand
index|[
literal|0
index|]
operator|.
name|suit
operator|=
literal|0
expr_stmt|;
name|hand
index|[
literal|1
index|]
operator|.
name|suit
operator|=
literal|0
expr_stmt|;
name|hand
index|[
literal|2
index|]
operator|.
name|suit
operator|=
literal|0
expr_stmt|;
name|hand
index|[
literal|3
index|]
operator|.
name|suit
operator|=
literal|0
expr_stmt|;
name|hand
index|[
literal|4
index|]
operator|.
name|suit
operator|=
literal|0
expr_stmt|;
name|printf
argument_list|(
literal|"scorehand of crib = %d\n"
argument_list|,
name|scorehand
argument_list|(
name|hand
argument_list|,
name|hand
index|[
literal|4
index|]
argument_list|,
name|CINHAND
argument_list|,
name|TRUE
argument_list|,
name|TRUE
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"\t%s\n"
argument_list|,
name|expl
argument_list|)
expr_stmt|;
name|hand
index|[
literal|0
index|]
operator|.
name|rank
operator|=
literal|0
expr_stmt|;
name|hand
index|[
literal|1
index|]
operator|.
name|rank
operator|=
literal|1
expr_stmt|;
name|hand
index|[
literal|2
index|]
operator|.
name|rank
operator|=
literal|2
expr_stmt|;
name|hand
index|[
literal|3
index|]
operator|.
name|rank
operator|=
literal|3
expr_stmt|;
name|hand
index|[
literal|4
index|]
operator|.
name|rank
operator|=
literal|4
expr_stmt|;
name|hand
index|[
literal|0
index|]
operator|.
name|suit
operator|=
literal|0
expr_stmt|;
name|hand
index|[
literal|1
index|]
operator|.
name|suit
operator|=
literal|0
expr_stmt|;
name|hand
index|[
literal|2
index|]
operator|.
name|suit
operator|=
literal|0
expr_stmt|;
name|hand
index|[
literal|3
index|]
operator|.
name|suit
operator|=
literal|0
expr_stmt|;
name|hand
index|[
literal|4
index|]
operator|.
name|suit
operator|=
literal|1
expr_stmt|;
name|printf
argument_list|(
literal|"scorehand of hand = %d\n"
argument_list|,
name|scorehand
argument_list|(
name|hand
argument_list|,
name|hand
index|[
literal|4
index|]
argument_list|,
name|CINHAND
argument_list|,
name|FALSE
argument_list|,
name|TRUE
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"\t%s\n"
argument_list|,
name|expl
argument_list|)
expr_stmt|;
name|hand
index|[
literal|0
index|]
operator|.
name|rank
operator|=
literal|0
expr_stmt|;
name|hand
index|[
literal|1
index|]
operator|.
name|rank
operator|=
literal|1
expr_stmt|;
name|hand
index|[
literal|2
index|]
operator|.
name|rank
operator|=
literal|2
expr_stmt|;
name|hand
index|[
literal|3
index|]
operator|.
name|rank
operator|=
literal|3
expr_stmt|;
name|hand
index|[
literal|4
index|]
operator|.
name|rank
operator|=
literal|4
expr_stmt|;
name|hand
index|[
literal|0
index|]
operator|.
name|suit
operator|=
literal|0
expr_stmt|;
name|hand
index|[
literal|1
index|]
operator|.
name|suit
operator|=
literal|0
expr_stmt|;
name|hand
index|[
literal|2
index|]
operator|.
name|suit
operator|=
literal|0
expr_stmt|;
name|hand
index|[
literal|3
index|]
operator|.
name|suit
operator|=
literal|0
expr_stmt|;
name|hand
index|[
literal|4
index|]
operator|.
name|suit
operator|=
literal|1
expr_stmt|;
name|printf
argument_list|(
literal|"scorehand of crib = %d\n"
argument_list|,
name|scorehand
argument_list|(
name|hand
argument_list|,
name|hand
index|[
literal|4
index|]
argument_list|,
name|CINHAND
argument_list|,
name|TRUE
argument_list|,
name|TRUE
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"\t%s\n"
argument_list|,
name|expl
argument_list|)
expr_stmt|;
endif|#
directive|endif
block|}
end_function

end_unit

