begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_include
include|#
directive|include
file|<stdio.h>
end_include

begin_include
include|#
directive|include
file|"deck.h"
end_include

begin_decl_stmt
name|CARD
name|known
index|[
name|CARDS
index|]
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* a deck */
end_comment

begin_decl_stmt
name|CARD
name|deck
index|[
name|CARDS
index|]
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* a deck */
end_comment

begin_decl_stmt
name|CARD
name|hand
index|[
literal|4
index|]
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* a hand */
end_comment

begin_decl_stmt
name|int
name|knownum
decl_stmt|;
end_decl_stmt

begin_function
name|main
parameter_list|(
name|argc
parameter_list|,
name|argv
parameter_list|)
name|int
name|argc
decl_stmt|;
name|char
modifier|*
name|argv
index|[]
decl_stmt|;
block|{
specifier|register
name|int
name|k
decl_stmt|,
name|l
decl_stmt|,
name|m
decl_stmt|;
name|int
name|i
decl_stmt|,
name|j
decl_stmt|,
name|is
decl_stmt|,
name|n
decl_stmt|,
name|sum
decl_stmt|;
name|CARD
name|ic
decl_stmt|,
name|jc
decl_stmt|;
name|CARD
name|d
index|[
name|CARDS
index|]
decl_stmt|;
name|printf
argument_list|(
literal|"Assuming cards are same suit\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|argc
operator|==
literal|2
condition|)
block|{
name|is
operator|=
name|atoi
argument_list|(
operator|*
operator|++
name|argv
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"Starting at i = %d\n"
argument_list|,
name|is
argument_list|)
expr_stmt|;
block|}
name|makedeck
argument_list|(
name|deck
argument_list|)
expr_stmt|;
for|for
control|(
name|i
operator|=
name|is
init|;
name|i
operator|<
name|RANKS
condition|;
name|i
operator|++
control|)
block|{
comment|/* first card */
name|ic
operator|.
name|rank
operator|=
name|i
expr_stmt|;
name|ic
operator|.
name|suit
operator|=
literal|0
expr_stmt|;
name|hand
index|[
literal|0
index|]
operator|=
name|ic
expr_stmt|;
for|for
control|(
name|j
operator|=
literal|0
init|;
name|j
operator|<=
name|i
condition|;
name|j
operator|++
control|)
block|{
name|printf
argument_list|(
literal|"%d %d: sum = %d\n"
argument_list|,
name|i
argument_list|,
name|j
argument_list|,
operator|-
literal|10000000
argument_list|)
expr_stmt|;
block|}
for|for
control|(
name|j
operator|=
name|i
operator|+
literal|1
init|;
name|j
operator|<
name|RANKS
condition|;
name|j
operator|++
control|)
block|{
comment|/* second card */
name|jc
operator|.
name|rank
operator|=
name|j
expr_stmt|;
name|jc
operator|.
name|suit
operator|=
literal|0
expr_stmt|;
name|hand
index|[
literal|1
index|]
operator|=
name|jc
expr_stmt|;
for|for
control|(
name|k
operator|=
literal|0
init|;
name|k
operator|<
name|CARDS
condition|;
name|k
operator|++
control|)
name|d
index|[
name|k
index|]
operator|=
name|deck
index|[
name|k
index|]
expr_stmt|;
name|n
operator|=
name|CARDS
expr_stmt|;
name|remove
argument_list|(
name|ic
argument_list|,
name|d
argument_list|,
name|n
operator|--
argument_list|)
expr_stmt|;
name|remove
argument_list|(
name|jc
argument_list|,
name|d
argument_list|,
name|n
operator|--
argument_list|)
expr_stmt|;
name|sum
operator|=
literal|0
expr_stmt|;
for|for
control|(
name|k
operator|=
literal|0
init|;
name|k
operator|<
name|n
operator|-
literal|1
condition|;
name|k
operator|++
control|)
block|{
comment|/* 3rd card */
name|hand
index|[
literal|2
index|]
operator|=
name|d
index|[
name|k
index|]
expr_stmt|;
for|for
control|(
name|l
operator|=
name|k
operator|+
literal|1
init|;
name|l
operator|<
name|n
condition|;
name|l
operator|++
control|)
block|{
comment|/* 4th card */
name|hand
index|[
literal|3
index|]
operator|=
name|d
index|[
name|l
index|]
expr_stmt|;
for|for
control|(
name|m
operator|=
literal|0
init|;
name|m
operator|<
name|n
condition|;
name|m
operator|++
control|)
block|{
comment|/* cut card */
if|if
condition|(
name|m
operator|!=
name|l
operator|&&
name|m
operator|!=
name|k
condition|)
name|sum
operator|+=
name|scorehand
argument_list|(
name|hand
argument_list|,
name|d
index|[
name|m
index|]
argument_list|,
literal|4
argument_list|)
expr_stmt|;
block|}
block|}
block|}
name|printf
argument_list|(
literal|"%d %d: sum = %d\n"
argument_list|,
name|i
argument_list|,
name|j
argument_list|,
name|sum
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
block|}
block|}
name|printf
argument_list|(
literal|"\nthe hand scores %d\n"
argument_list|,
name|i
argument_list|)
expr_stmt|;
block|}
end_function

end_unit

