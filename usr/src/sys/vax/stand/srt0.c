begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_empty
empty|#	srt0.c	1.1	%G%
end_empty

begin_empty
empty|# Startup code for standalone system
end_empty

begin_empty
empty|# Non-relocating version -- for programs which are loaded by boot
end_empty

begin_expr_stmt
operator|.
name|globl
name|_end
operator|.
name|globl
name|_main
operator|.
name|globl
name|__rtt
operator|.
name|globl
name|_edata
operator|.
name|set
name|PHYSUBA
operator|,
literal|0x20006000
operator|#
name|uba
literal|0
operator|.
name|set
name|PHYSMBA0
operator|,
literal|0x20010000
operator|#
name|mba
literal|0
operator|.
name|set
name|PHYSMBA1
operator|,
literal|0x20012000
operator|#
name|mba
literal|1
operator|.
name|set
name|PHYSUMEM
operator|,
literal|0x2013e000
operator|#
name|unibus
name|memory
operator|.
name|set
name|HIGH
operator|,
literal|31
operator|#
name|mask
end_expr_stmt

begin_for
for|for total disable  	.word	0x0 	mtpr	$HIGH
operator|,
name|$IPL
operator|#
name|just
name|in
end_for

begin_case
case|case
name|movl
name|$1
operator|,
name|PHYSMBA0
operator|+
literal|4
operator|#
name|init
name|movl
name|$1
operator|,
name|PHYSMBA1
operator|+
literal|4
operator|#
name|init
name|movl
name|$1
operator|,
name|PHYSUBA
operator|+
literal|4
operator|#
name|init
name|subl3
name|$_edata
operator|,
name|$RELOC
operator|-
literal|0x2000
operator|,
name|r0
name|movc5
name|$0
operator|,
operator|(
name|sp
operator|)
operator|,
name|$0
operator|,
name|r0
operator|,
name|_edata
name|start
case|:
end_case

begin_expr_stmt
name|movl
name|$RELOC
operator|-
literal|0x2000
operator|,
name|sp
name|calls
name|$0
operator|,
name|_main
name|jmp
name|start
name|__rtt
operator|:
operator|.
name|word
literal|0x0
name|jmp
name|start
end_expr_stmt

end_unit

