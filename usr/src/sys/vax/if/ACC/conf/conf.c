begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_expr_stmt
name|If
name|you
name|have
name|either
name|the
name|PI
name|or
name|the
name|X
literal|.29
operator|(
name|DDA_RAWOPT
name|or
name|DDA_PADOPT
operator|)
name|defined
operator|,
name|you
name|will
name|have
name|to
name|add
name|new
name|device
name|driver
name|entries
name|into
name|the
name|file
operator|/
name|sys
operator|/
name|vax
operator|/
name|conf
operator|.
name|c
operator|.
name|The
name|following
name|example
name|is
end_expr_stmt

begin_for
for|for an Ultrix 3.0 system
operator|,
name|the
name|similar
name|changes
name|are
name|necessary
end_for

begin_for
for|for Ultrix 2.n and 4.3bsd systems.  If you are not using DDA_RAWOPT and not using DDA_PADOPT
operator|,
name|there
name|is
name|no
name|need
name|to
name|modify
name|conf
operator|.
name|c
operator|.
name|Someplace
name|after
name|the
name|definiton
name|of
name|nulldev
argument_list|()
name|and
name|nodev
argument_list|()
name|enter
name|the
name|following
name|preamble
operator|:
include|#
directive|include
file|"dda.h"
if|#
directive|if
operator|(
name|NDDA
operator|>
literal|0
operator|)
operator|&&
name|defined
argument_list|(
name|DDA_PADOPT
argument_list|)
name|int
name|xxopen
argument_list|()
operator|,
name|xxclose
argument_list|()
operator|,
name|xxread
argument_list|()
operator|,
name|xxwrite
argument_list|()
expr_stmt|;
end_for

begin_decl_stmt
name|int
name|xxioctl
argument_list|()
decl_stmt|,
name|xxreset
argument_list|()
decl_stmt|,
name|xxstop
argument_list|()
decl_stmt|,
name|xxselect
argument_list|()
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|struct
name|tty
name|xx_tty
index|[]
decl_stmt|;
end_decl_stmt

begin_else
else|#
directive|else
end_else

begin_define
define|#
directive|define
name|xxopen
value|nodev
end_define

begin_comment
comment|/* ACP 5250/6250 x29 interface */
end_comment

begin_define
define|#
directive|define
name|xxclose
value|nodev
end_define

begin_define
define|#
directive|define
name|xxread
value|nodev
end_define

begin_define
define|#
directive|define
name|xxwrite
value|nodev
end_define

begin_define
define|#
directive|define
name|xxioctl
value|nodev
end_define

begin_define
define|#
directive|define
name|xxreset
value|nulldev
end_define

begin_define
define|#
directive|define
name|xxstop
value|nodev
end_define

begin_define
define|#
directive|define
name|xxselect
value|nodev
end_define

begin_define
define|#
directive|define
name|xx_tty
value|NULL
end_define

begin_endif
endif|#
directive|endif
end_endif

begin_if
if|#
directive|if
operator|(
name|NDDA
operator|>
literal|0
operator|)
operator|&&
name|defined
argument_list|(
name|DDA_RAWOPT
argument_list|)
end_if

begin_decl_stmt
name|int
name|piopen
argument_list|()
decl_stmt|,
name|piclose
argument_list|()
decl_stmt|,
name|piioctl
argument_list|()
decl_stmt|;
end_decl_stmt

begin_else
else|#
directive|else
end_else

begin_define
define|#
directive|define
name|piopen
value|nodev
end_define

begin_comment
comment|/* ACP 5250/6250 pi interface */
end_comment

begin_define
define|#
directive|define
name|piclose
value|nodev
end_define

begin_define
define|#
directive|define
name|piioctl
value|nodev
end_define

begin_endif
endif|#
directive|endif
end_endif

begin_decl_stmt
name|At
name|the
name|end
name|of
name|the
name|cdevsw
name|table
argument_list|(
name|character
name|device
name|dispatch
name|table
argument_list|)
decl_stmt|,
name|add
name|the
name|following
name|two
name|entries
range|:
comment|/* ACP5250/6250 x29 interface */
name|xxopen
decl_stmt|,
name|xxclose
decl_stmt|,
name|xxread
decl_stmt|,
name|xxwrite
decl_stmt|,
comment|/*??*/
name|xxioctl
decl_stmt|,
name|xxstop
decl_stmt|,
name|xxreset
decl_stmt|,
name|xx_tty
decl_stmt|,
name|xxselect
decl_stmt|,
name|nodev
decl_stmt|,		0,
comment|/* ACP5250/6250 programmers interface */
name|piopen
decl_stmt|,
name|piclose
decl_stmt|,
name|nodev
decl_stmt|,
name|nodev
decl_stmt|,
comment|/*??*/
name|piioctl
decl_stmt|,
name|nodev
decl_stmt|,
name|nulldev
decl_stmt|,
name|NULL
decl_stmt|,
name|nodev
decl_stmt|,
name|nodev
decl_stmt|,		0,
name|For
name|the
name|sake
name|of
name|sanity
decl_stmt|,
name|enter
name|the
name|major
name|device
name|numbers
decl|for
name|these
name|devices
name|in
name|the
decl|"??"
name|spaces
name|after
name|each
name|entry
operator|.
name|For
name|example
argument_list|(
name|again
argument_list|,
name|Ultrix
literal|3.0
argument_list|)
decl_stmt|, if
name|the
name|last
name|device
name|is
decl|59
decl_stmt|,
name|the
name|X
decl|.29
name|interface
name|is
name|accessed
name|via
name|major
decl|# 60
decl_stmt|,
name|and
name|the
name|X
decl|.29
name|interface
name|is
name|accessed
name|via
name|major
decl|# 61.
name|You
name|should
name|also
name|edit
name|the
name|file
name|MAKEDEV
operator|.
name|acc
name|that
name|accompanied
name|this
name|distribution
name|so
name|that
name|it
name|will
name|contain
name|the
name|proper
name|major
name|numbers
decl|for
name|each
name|of
name|these
name|interfaces
operator|.
end_decl_stmt

end_unit

