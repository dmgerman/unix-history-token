begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*  ******************************************************************************  *  * Module: billboard_util.c  *  * Description: billboard_util.c  *		Routines that handle the works for each feature.  *  * Functions:  *	bb_call_set_unset(flag, bb_set_in_p)  *	bb_set_unset_print_result(flag, bb_set_in_p, bb_set_out_p)  *	bb_list(flag, bb_list_in_p)  *	bb_list_print_result(flag, bb_list_in_p, bb_list_out_p)  *	bb_change_passwd(bb_passwd_in_p)  *	bb_print_vendor_info(bb_vendor_p)  *  * Notes:  *  ******************************************************************************  */
end_comment

begin_comment
comment|/*  ******************************************************************************  * Include Files  ******************************************************************************  */
end_comment

begin_include
include|#
directive|include
file|<stdio.h>
end_include

begin_include
include|#
directive|include
file|<rpc/rpc.h>
end_include

begin_include
include|#
directive|include
file|"common.h"
end_include

begin_include
include|#
directive|include
file|"protocol.h"
end_include

begin_comment
comment|/*  ******************************************************************************  * Module Local Definitions  ******************************************************************************  */
end_comment

begin_comment
comment|/*   * local copy of password, saved for interactive use of the tool  * i.e. the password entered when in interactive mode will be used for the  *      rest of the interactive session  */
end_comment

begin_decl_stmt
specifier|static
name|BB_passwd
name|_pwbuff
decl_stmt|;
end_decl_stmt

begin_comment
comment|/*  ******************************************************************************  * External Declarations  ******************************************************************************  */
end_comment

begin_decl_stmt
specifier|extern
name|CLIENT
modifier|*
name|client_handle_p
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|char
name|server_name
index|[]
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|char
modifier|*
name|_bb_salt
decl_stmt|;
end_decl_stmt

begin_comment
comment|/*  ******************************************************************************  * Function Declarations  ******************************************************************************  */
end_comment

begin_function_decl
name|void
name|bb_set_unset
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
name|void
name|bb_lists
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
name|void
name|bb_list_print_result
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
name|void
name|bb_set_unset_print_result
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
name|void
name|bb_change_passwd
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
name|void
name|bb_print_vendor_info
parameter_list|()
function_decl|;
end_function_decl

begin_comment
comment|/*  ******************************************************************************  *  * Function: bb_call_set_unset  *  * Description: handles the operation to set test failed/passed  *		The user request will be sent to the server via RPC,  *		if password is needed, the user will be prompted for one and  *		the request will be re-sent.   *  * Input:   *	flag -- BB_SET or BB_UNSET  *	bb_set_in_p -- input bb_set_in structure to RPC call  *  * Output:  *  * Returns:  *  * Side Effects:  *  * Notes:  *  ******************************************************************************  */
end_comment

begin_function
name|void
name|bb_call_set_unset
parameter_list|(
name|flag
parameter_list|,
name|bb_set_in_p
parameter_list|)
name|int
name|flag
decl_stmt|;
name|BB_set_in
modifier|*
name|bb_set_in_p
decl_stmt|;
block|{
name|BB_set_out
modifier|*
name|bb_set_out_p
decl_stmt|;
comment|/*  	 * initialise the passowrd buffer, and copy exisiting password if  	 * exists 	 */
name|memset
argument_list|(
name|bb_set_in_p
operator|->
name|passwd
argument_list|,
name|NUL
argument_list|,
name|BB_PASSWD_LEN
argument_list|)
expr_stmt|;
name|strncpy
argument_list|(
name|bb_set_in_p
operator|->
name|passwd
argument_list|,
name|_pwbuff
argument_list|,
name|BB_PASSWD_LEN
operator|-
literal|1
argument_list|)
expr_stmt|;
comment|/* 	 * issue the RPC call 	 */
if|if
condition|(
name|flag
operator|==
name|BB_SET
condition|)
name|bb_set_out_p
operator|=
operator|(
name|BB_set_out
operator|*
operator|)
name|bb_call_rpc
argument_list|(
name|bb_set_1
argument_list|,
name|bb_set_in_p
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
name|flag
operator|==
name|BB_UNSET
condition|)
name|bb_set_out_p
operator|=
operator|(
name|BB_set_out
operator|*
operator|)
name|bb_call_rpc
argument_list|(
name|bb_unset_1
argument_list|,
name|bb_set_in_p
argument_list|)
expr_stmt|;
else|else
return|return;
comment|/* 	 * if NULL is returned, RPC call failed. 	 */
if|if
condition|(
name|bb_set_out_p
operator|==
name|NULL
condition|)
block|{
name|clnt_perror
argument_list|(
name|client_handle_p
argument_list|,
name|server_name
argument_list|)
expr_stmt|;
return|return;
block|}
comment|/* 	 * If password is requested, the user is prompted for one and 	 * the request is re-sent 	 */
if|if
condition|(
name|bb_set_out_p
operator|->
name|status
operator|==
name|BB_BAD_PASSWD
condition|)
block|{
comment|/* 		 * gets password 		 */
name|memset
argument_list|(
name|bb_set_in_p
operator|->
name|passwd
argument_list|,
name|NUL
argument_list|,
name|BB_PASSWD_LEN
argument_list|)
expr_stmt|;
name|strncpy
argument_list|(
name|bb_set_in_p
operator|->
name|passwd
argument_list|,
name|crypt
argument_list|(
name|getpass
argument_list|(
literal|"Password:"
argument_list|)
argument_list|,
name|_bb_salt
argument_list|)
argument_list|,
name|BB_PASSWD_LEN
operator|-
literal|1
argument_list|)
expr_stmt|;
comment|/* 		 * save the password to be re-used if the tool is in 		 * interactive mode 		 */
name|strncpy
argument_list|(
name|_pwbuff
argument_list|,
name|bb_set_in_p
operator|->
name|passwd
argument_list|,
name|BB_PASSWD_LEN
argument_list|)
expr_stmt|;
if|if
condition|(
name|flag
operator|==
name|BB_SET
condition|)
name|bb_set_out_p
operator|=
operator|(
name|BB_set_out
operator|*
operator|)
name|bb_call_rpc
argument_list|(
name|bb_set_1
argument_list|,
name|bb_set_in_p
argument_list|)
expr_stmt|;
else|else
name|bb_set_out_p
operator|=
operator|(
name|BB_set_out
operator|*
operator|)
name|bb_call_rpc
argument_list|(
name|bb_unset_1
argument_list|,
name|bb_set_in_p
argument_list|)
expr_stmt|;
if|if
condition|(
name|bb_set_out_p
operator|==
name|NULL
condition|)
block|{
name|clnt_perror
argument_list|(
name|client_handle_p
argument_list|,
name|server_name
argument_list|)
expr_stmt|;
return|return;
block|}
name|bb_set_unset_print_result
argument_list|(
name|flag
argument_list|,
name|bb_set_in_p
argument_list|,
name|bb_set_out_p
argument_list|)
expr_stmt|;
block|}
else|else
name|bb_set_unset_print_result
argument_list|(
name|flag
argument_list|,
name|bb_set_in_p
argument_list|,
name|bb_set_out_p
argument_list|)
expr_stmt|;
return|return;
block|}
end_function

begin_comment
comment|/*  ******************************************************************************  *  * Function: bb_set_unset_print_result  *  * Description: print the result of RPC call for set unset of tests  *  * Input:  *	flag: BB_SET or BB_UNSET  *	bb_set_in_p: input bb_set_in structure to RPC call  *	bb_set_out_p: RPC returned bb_set_out structure  *  * Output:  *	Output goes to stdout, error goes to stderr.  *  * Returns:  *  * Side Effects:  *  * Notes:  *  ******************************************************************************  */
end_comment

begin_function
name|void
name|bb_set_unset_print_result
parameter_list|(
name|flag
parameter_list|,
name|bb_set_in_p
parameter_list|,
name|bb_set_out_p
parameter_list|)
name|int
name|flag
decl_stmt|;
name|BB_set_in
modifier|*
name|bb_set_in_p
decl_stmt|;
name|BB_set_out
modifier|*
name|bb_set_out_p
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"\n"
argument_list|)
expr_stmt|;
switch|switch
condition|(
name|bb_set_out_p
operator|->
name|status
condition|)
block|{
case|case
name|BB_SUCCESS
case|:
if|if
condition|(
name|flag
operator|==
name|BB_SET
condition|)
name|printf
argument_list|(
literal|"The following client and server implementation is tested succesfully:\n"
argument_list|)
expr_stmt|;
else|else
name|printf
argument_list|(
literal|"The following client and server implementation is set as being untested:\n"
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"Client:\n"
argument_list|)
expr_stmt|;
name|bb_print_vendor_info
argument_list|(
operator|&
name|bb_set_out_p
operator|->
name|client
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"Server:\n"
argument_list|)
expr_stmt|;
name|bb_print_vendor_info
argument_list|(
operator|&
name|bb_set_out_p
operator|->
name|server
argument_list|)
expr_stmt|;
break|break;
case|case
name|BB_FAILURE
case|:
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Operation failed\.n"
argument_list|)
expr_stmt|;
break|break;
case|case
name|BB_BAD_CLIENT
case|:
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Bad client identifier: %s.\n"
argument_list|,
name|bb_set_in_p
operator|->
name|client
argument_list|)
expr_stmt|;
break|break;
case|case
name|BB_BAD_SERVER
case|:
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Bad server identifier: %s.\n"
argument_list|,
name|bb_set_in_p
operator|->
name|server
argument_list|)
expr_stmt|;
break|break;
case|case
name|BB_ALREADY_SET
case|:
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Client %s against server %s has already been set as tested.\n"
argument_list|,
name|bb_set_in_p
operator|->
name|client
argument_list|,
name|bb_set_in_p
operator|->
name|server
argument_list|)
expr_stmt|;
break|break;
case|case
name|BB_ALREADY_UNSET
case|:
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Client %s against server %s has already been set as untested.\n"
argument_list|,
name|bb_set_in_p
operator|->
name|client
argument_list|,
name|bb_set_in_p
operator|->
name|server
argument_list|)
expr_stmt|;
break|break;
case|case
name|BB_BAD_PASSWD
case|:
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Bad password.\n"
argument_list|)
expr_stmt|;
break|break;
case|case
name|BB_BAD_PHASE
case|:
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"You have to complete testing against a Sun server before proceeding.\n"
argument_list|)
expr_stmt|;
break|break;
default|default:
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Unexpected error code %d.\n"
argument_list|,
name|bb_set_out_p
operator|->
name|status
argument_list|)
expr_stmt|;
break|break;
block|}
return|return;
block|}
end_function

begin_comment
comment|/*  ******************************************************************************  *  * Function: bb_list  *  * Description: calls the RPC procedure, and prompted for password if needed.  *  * Input:   *	bb_list_in_p -- input bb_list_in structure to RPC call  *  * Output:  *  * Returns:  *  * Side Effects:  *  * Notes:  *  ******************************************************************************  */
end_comment

begin_function
name|void
name|bb_list
parameter_list|(
name|flag
parameter_list|,
name|bb_list_in_p
parameter_list|)
name|int
name|flag
decl_stmt|;
name|BB_list_in
modifier|*
name|bb_list_in_p
decl_stmt|;
block|{
name|BB_list_out
modifier|*
function_decl|(
modifier|*
name|func
function_decl|)
parameter_list|()
function_decl|;
name|BB_list_out
modifier|*
name|bb_list_out_p
decl_stmt|;
comment|/* 	 * set the RPC procedure 	 */
switch|switch
condition|(
name|flag
condition|)
block|{
case|case
name|BB_ALIST
case|:
name|func
operator|=
name|bb_alist_1
expr_stmt|;
break|break;
case|case
name|BB_BLIST
case|:
name|func
operator|=
name|bb_blist_1
expr_stmt|;
break|break;
case|case
name|BB_CLIST
case|:
name|func
operator|=
name|bb_clist_1
expr_stmt|;
break|break;
case|case
name|BB_DLIST
case|:
name|func
operator|=
name|bb_dlist_1
expr_stmt|;
break|break;
default|default:
return|return;
block|}
comment|/* 	 * initialise the password buffer, and copy existing one if exists 	 */
name|memset
argument_list|(
name|bb_list_in_p
operator|->
name|passwd
argument_list|,
name|NUL
argument_list|,
name|BB_PASSWD_LEN
argument_list|)
expr_stmt|;
name|strncpy
argument_list|(
name|bb_list_in_p
operator|->
name|passwd
argument_list|,
name|_pwbuff
argument_list|,
name|BB_PASSWD_LEN
operator|-
literal|1
argument_list|)
expr_stmt|;
name|bb_list_out_p
operator|=
operator|(
name|BB_list_out
operator|*
operator|)
name|bb_call_rpc
argument_list|(
name|func
argument_list|,
name|bb_list_in_p
argument_list|)
expr_stmt|;
if|if
condition|(
name|bb_list_out_p
operator|==
name|NULL
condition|)
block|{
name|clnt_perror
argument_list|(
name|client_handle_p
argument_list|,
name|server_name
argument_list|)
expr_stmt|;
return|return;
block|}
if|if
condition|(
name|bb_list_out_p
operator|->
name|status
operator|==
name|BB_BAD_PASSWD
condition|)
block|{
comment|/* 		 * password is needed, so get one 		 */
name|memset
argument_list|(
name|bb_list_in_p
operator|->
name|passwd
argument_list|,
name|NUL
argument_list|,
name|BB_PASSWD_LEN
argument_list|)
expr_stmt|;
name|strncpy
argument_list|(
name|bb_list_in_p
operator|->
name|passwd
argument_list|,
name|crypt
argument_list|(
name|getpass
argument_list|(
literal|"Password:"
argument_list|)
argument_list|,
name|_bb_salt
argument_list|)
argument_list|,
name|BB_PASSWD_LEN
operator|-
literal|1
argument_list|)
expr_stmt|;
comment|/* 		 * save the password to be re-used if the tool is in 		 * interactive mode 		 */
name|strncpy
argument_list|(
name|_pwbuff
argument_list|,
name|bb_list_in_p
operator|->
name|passwd
argument_list|,
name|BB_PASSWD_LEN
argument_list|)
expr_stmt|;
comment|/*  		 * issue the RPC call  		 */
name|bb_list_out_p
operator|=
operator|(
name|BB_list_out
operator|*
operator|)
name|bb_call_rpc
argument_list|(
name|func
argument_list|,
name|bb_list_in_p
argument_list|)
expr_stmt|;
if|if
condition|(
name|bb_list_out_p
operator|==
name|NULL
condition|)
block|{
name|clnt_perror
argument_list|(
name|client_handle_p
argument_list|,
name|server_name
argument_list|)
expr_stmt|;
return|return;
block|}
name|bb_list_print_result
argument_list|(
name|flag
argument_list|,
name|bb_list_in_p
argument_list|,
name|bb_list_out_p
argument_list|)
expr_stmt|;
block|}
else|else
name|bb_list_print_result
argument_list|(
name|flag
argument_list|,
name|bb_list_in_p
argument_list|,
name|bb_list_out_p
argument_list|)
expr_stmt|;
return|return;
block|}
end_function

begin_comment
comment|/*  ******************************************************************************  *  * Function: bb_list_print_result  *  * Description: print result of RPC call to get list of clients or servers.  *  * Input:  *	flag -- BB_ALIST, BB_BLIST, BB_CLIST or BB_DLIST  *	bb_list_in_p -- input bb_list_in structure to RPC call  *	bb_list_out_p -- RPC returned bb_list_out structure  *  * Output:  *	Output goes to stdout, error goes to stderr.  *  * Returns:  *  * Side Effects:  *  * Notes:  *  ******************************************************************************  */
end_comment

begin_function
name|void
name|bb_list_print_result
parameter_list|(
name|flag
parameter_list|,
name|bb_list_in_p
parameter_list|,
name|bb_list_out_p
parameter_list|)
name|int
name|flag
decl_stmt|;
name|BB_list_in
modifier|*
name|bb_list_in_p
decl_stmt|;
name|BB_list_out
modifier|*
name|bb_list_out_p
decl_stmt|;
block|{
name|int
name|i
decl_stmt|;
name|int
name|data_len
decl_stmt|;
specifier|register
name|BB_vendor
modifier|*
name|vendor_p
decl_stmt|;
name|printf
argument_list|(
literal|"\n"
argument_list|)
expr_stmt|;
switch|switch
condition|(
name|bb_list_out_p
operator|->
name|status
condition|)
block|{
case|case
name|BB_SUCCESS
case|:
if|if
condition|(
operator|(
name|data_len
operator|=
name|bb_list_out_p
operator|->
name|data
operator|.
name|data_len
operator|)
operator|>
literal|0
condition|)
block|{
switch|switch
condition|(
name|flag
condition|)
block|{
case|case
name|BB_ALIST
case|:
name|printf
argument_list|(
literal|"List of servers successfully tested against client %s:\n"
argument_list|,
name|bb_list_in_p
operator|->
name|id
argument_list|)
expr_stmt|;
break|break;
case|case
name|BB_BLIST
case|:
name|printf
argument_list|(
literal|"List of servers not tested against client %s:\n"
argument_list|,
name|bb_list_in_p
operator|->
name|id
argument_list|)
expr_stmt|;
break|break;
case|case
name|BB_CLIST
case|:
name|printf
argument_list|(
literal|"List of clients successfully tested against server %s:\n"
argument_list|,
name|bb_list_in_p
operator|->
name|id
argument_list|)
expr_stmt|;
break|break;
case|case
name|BB_DLIST
case|:
name|printf
argument_list|(
literal|"List of clients not tested against server %s:\n"
argument_list|,
name|bb_list_in_p
operator|->
name|id
argument_list|)
expr_stmt|;
break|break;
block|}
name|vendor_p
operator|=
name|bb_list_out_p
operator|->
name|data
operator|.
name|data_val
expr_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|data_len
condition|;
name|i
operator|++
control|)
block|{
name|printf
argument_list|(
literal|"%d)\n"
argument_list|,
name|i
operator|+
literal|1
argument_list|)
expr_stmt|;
name|bb_print_vendor_info
argument_list|(
operator|&
name|vendor_p
index|[
name|i
index|]
argument_list|)
expr_stmt|;
block|}
block|}
else|else
block|{
switch|switch
condition|(
name|flag
condition|)
block|{
case|case
name|BB_ALIST
case|:
name|printf
argument_list|(
literal|"No servers successfully tested against client %s.\n"
argument_list|,
name|bb_list_in_p
operator|->
name|id
argument_list|)
expr_stmt|;
break|break;
case|case
name|BB_BLIST
case|:
name|printf
argument_list|(
literal|"All servers are successfully tested against client %s.\n"
argument_list|,
name|bb_list_in_p
operator|->
name|id
argument_list|)
expr_stmt|;
break|break;
case|case
name|BB_CLIST
case|:
name|printf
argument_list|(
literal|"No clients successfully tested against server %s.\n"
argument_list|,
name|bb_list_in_p
operator|->
name|id
argument_list|)
expr_stmt|;
break|break;
case|case
name|BB_DLIST
case|:
name|printf
argument_list|(
literal|"All clients are successfully tested against server %s.\n"
argument_list|,
name|bb_list_in_p
operator|->
name|id
argument_list|)
expr_stmt|;
break|break;
block|}
block|}
break|break;
case|case
name|BB_FAILURE
case|:
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Operation failed.\n"
argument_list|)
expr_stmt|;
break|break;
case|case
name|BB_BAD_CLIENT
case|:
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Bad client identifier: %s.\n"
argument_list|,
name|bb_list_in_p
operator|->
name|id
argument_list|)
expr_stmt|;
break|break;
case|case
name|BB_BAD_SERVER
case|:
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Bad server identifier: %s.\n"
argument_list|,
name|bb_list_in_p
operator|->
name|id
argument_list|)
expr_stmt|;
break|break;
case|case
name|BB_BAD_PASSWD
case|:
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Bad password.\n"
argument_list|)
expr_stmt|;
break|break;
default|default:
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Unknown error code %d.\n"
argument_list|,
name|bb_list_out_p
operator|->
name|status
argument_list|)
expr_stmt|;
break|break;
block|}
return|return;
block|}
end_function

begin_comment
comment|/*  ******************************************************************************  *  * Function: bb_change_passwd  *  * Description: handles RPC call to change the password.  Make the RPC call  *		and prints the status.  *  * Input:   *	bb_passwd_in_p -- input bb_passwd_in structure to RPC call  *  * Output:  *	Output goes to stdout, error goes to stderr.  *  * Returns:  *  * Side Effects:  *  * Notes:  *  ******************************************************************************  */
end_comment

begin_function
name|void
name|bb_change_passwd
parameter_list|(
name|bb_passwd_in_p
parameter_list|)
name|BB_passwd_in
modifier|*
name|bb_passwd_in_p
decl_stmt|;
block|{
name|int
modifier|*
name|status_p
decl_stmt|;
comment|/* 	 * issue the RPC call 	 */
if|if
condition|(
operator|(
name|status_p
operator|=
operator|(
name|int
operator|*
operator|)
name|bb_call_rpc
argument_list|(
name|bb_passwd_set_1
argument_list|,
name|bb_passwd_in_p
argument_list|)
operator|)
operator|!=
name|NULL
condition|)
block|{
name|printf
argument_list|(
literal|"\n"
argument_list|)
expr_stmt|;
switch|switch
condition|(
operator|*
name|status_p
condition|)
block|{
case|case
name|BB_SUCCESS
case|:
name|printf
argument_list|(
literal|"Password changed\n"
argument_list|)
expr_stmt|;
break|break;
case|case
name|BB_FAILURE
case|:
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Operation failed.\n"
argument_list|)
expr_stmt|;
break|break;
case|case
name|BB_BAD_CLIENT
case|:
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Bad client identifier: %s.\n"
argument_list|,
name|bb_passwd_in_p
operator|->
name|client
argument_list|)
expr_stmt|;
break|break;
case|case
name|BB_BAD_PASSWD
case|:
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Bad password.\n"
argument_list|)
expr_stmt|;
break|break;
default|default:
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"Unexpected error code %d.\n"
argument_list|,
operator|*
name|status_p
argument_list|)
expr_stmt|;
break|break;
block|}
block|}
else|else
name|clnt_perror
argument_list|(
name|client_handle_p
argument_list|,
name|server_name
argument_list|)
expr_stmt|;
return|return;
block|}
end_function

begin_comment
comment|/*  ******************************************************************************  *  * Function: bb_print_vendor_info  *  * Description: print vendor information from returned RPC call  *  * Input:  *	bb_vendor_p -- vendor info  *  * Output:  *	prints vendor info on stdout  *  * Returns:  *  * Side Effects:  *  * Notes:  *  ******************************************************************************  */
end_comment

begin_function
name|void
name|bb_print_vendor_info
parameter_list|(
name|bb_vendor_p
parameter_list|)
name|BB_vendor
modifier|*
name|bb_vendor_p
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"\tBooth: %d\n"
argument_list|,
name|bb_vendor_p
operator|->
name|booth
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"\tCompany: %s\n"
argument_list|,
name|bb_vendor_p
operator|->
name|company
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"\tImplementation: %s\n"
argument_list|,
name|bb_vendor_p
operator|->
name|imp
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"\tIdentifier: %s\n\n"
argument_list|,
name|bb_vendor_p
operator|->
name|id
argument_list|)
expr_stmt|;
return|return;
block|}
end_function

end_unit

