begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* Copyright (c) Stichting Mathematisch Centrum, Amsterdam, 1985. */
end_comment

begin_comment
comment|/*   $Header: b2tcP.c,v 1.4 85/08/22 16:57:02 timo Exp $ */
end_comment

begin_comment
comment|/* polytype representation */
end_comment

begin_include
include|#
directive|include
file|"b.h"
end_include

begin_include
include|#
directive|include
file|"b1obj.h"
end_include

begin_include
include|#
directive|include
file|"b2tcP.h"
end_include

begin_comment
comment|/* A polytype is a compound with two fields.  * The first field is a B text, and holds the typekind.  * If the typekind is 'Variable', the second field is   *   a B text, holding the identifier of the variable;  * otherwise, the second field is a compound of sub(poly)types,  *   indexed from 0 to one less then the number of subtypes.  */
end_comment

begin_define
define|#
directive|define
name|Kin
value|0
end_define

begin_define
define|#
directive|define
name|Sub
value|1
end_define

begin_define
define|#
directive|define
name|Id
value|Sub
end_define

begin_define
define|#
directive|define
name|Asc
value|0
end_define

begin_define
define|#
directive|define
name|Key
value|1
end_define

begin_define
define|#
directive|define
name|Kind
parameter_list|(
name|u
parameter_list|)
value|((typekind) *Field((value) (u), Kin))
end_define

begin_define
define|#
directive|define
name|Psubtypes
parameter_list|(
name|u
parameter_list|)
value|(Field((value) (u), Sub))
end_define

begin_define
define|#
directive|define
name|Ident
parameter_list|(
name|u
parameter_list|)
value|(*Field((value) (u), Id))
end_define

begin_decl_stmt
name|typekind
name|var_kind
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|typekind
name|num_kind
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|typekind
name|tex_kind
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|typekind
name|lis_kind
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|typekind
name|tab_kind
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|typekind
name|com_kind
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|typekind
name|t_n_kind
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|typekind
name|l_t_kind
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|typekind
name|tlt_kind
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|typekind
name|err_kind
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|polytype
name|num_type
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|polytype
name|tex_type
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|polytype
name|err_type
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|polytype
name|t_n_type
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* Making, setting and accessing (the fields of) polytypes */
end_comment

begin_function
name|Visible
name|polytype
name|mkt_polytype
parameter_list|(
name|k
parameter_list|,
name|nsub
parameter_list|)
name|typekind
name|k
decl_stmt|;
name|intlet
name|nsub
decl_stmt|;
block|{
name|value
name|u
decl_stmt|;
name|u
operator|=
name|mk_compound
argument_list|(
literal|2
argument_list|)
expr_stmt|;
operator|*
name|Field
argument_list|(
name|u
argument_list|,
name|Kin
argument_list|)
operator|=
name|copy
argument_list|(
operator|(
name|value
operator|)
name|k
argument_list|)
expr_stmt|;
operator|*
name|Field
argument_list|(
name|u
argument_list|,
name|Sub
argument_list|)
operator|=
name|mk_compound
argument_list|(
name|nsub
argument_list|)
expr_stmt|;
return|return
operator|(
operator|(
name|polytype
operator|)
name|u
operator|)
return|;
block|}
end_function

begin_function
name|Procedure
name|putsubtype
parameter_list|(
name|sub
parameter_list|,
name|u
parameter_list|,
name|isub
parameter_list|)
name|polytype
name|sub
decl_stmt|,
name|u
decl_stmt|;
name|intlet
name|isub
decl_stmt|;
block|{
operator|*
name|Field
argument_list|(
operator|*
name|Psubtypes
argument_list|(
name|u
argument_list|)
argument_list|,
name|isub
argument_list|)
operator|=
operator|(
name|value
operator|)
name|sub
expr_stmt|;
block|}
end_function

begin_function
name|typekind
name|kind
parameter_list|(
name|u
parameter_list|)
name|polytype
name|u
decl_stmt|;
block|{
return|return
operator|(
name|Kind
argument_list|(
name|u
argument_list|)
operator|)
return|;
block|}
end_function

begin_function
name|intlet
name|nsubtypes
parameter_list|(
name|u
parameter_list|)
name|polytype
name|u
decl_stmt|;
block|{
return|return
operator|(
name|Nfields
argument_list|(
operator|*
name|Psubtypes
argument_list|(
name|u
argument_list|)
argument_list|)
operator|)
return|;
block|}
end_function

begin_function
name|polytype
name|subtype
parameter_list|(
name|u
parameter_list|,
name|i
parameter_list|)
name|polytype
name|u
decl_stmt|;
name|intlet
name|i
decl_stmt|;
block|{
return|return
operator|(
operator|(
name|polytype
operator|)
operator|*
name|Field
argument_list|(
operator|*
name|Psubtypes
argument_list|(
name|u
argument_list|)
argument_list|,
name|i
argument_list|)
operator|)
return|;
block|}
end_function

begin_function
name|polytype
name|asctype
parameter_list|(
name|u
parameter_list|)
name|polytype
name|u
decl_stmt|;
block|{
return|return
operator|(
name|subtype
argument_list|(
name|u
argument_list|,
name|Asc
argument_list|)
operator|)
return|;
block|}
end_function

begin_function
name|polytype
name|keytype
parameter_list|(
name|u
parameter_list|)
name|polytype
name|u
decl_stmt|;
block|{
return|return
operator|(
name|subtype
argument_list|(
name|u
argument_list|,
name|Key
argument_list|)
operator|)
return|;
block|}
end_function

begin_function
name|value
name|ident
parameter_list|(
name|u
parameter_list|)
name|polytype
name|u
decl_stmt|;
block|{
return|return
operator|(
name|Ident
argument_list|(
name|u
argument_list|)
operator|)
return|;
block|}
end_function

begin_comment
comment|/* making new polytypes */
end_comment

begin_function
name|polytype
name|mkt_number
parameter_list|()
block|{
return|return
operator|(
name|p_copy
argument_list|(
name|num_type
argument_list|)
operator|)
return|;
block|}
end_function

begin_function
name|polytype
name|mkt_text
parameter_list|()
block|{
return|return
operator|(
name|p_copy
argument_list|(
name|tex_type
argument_list|)
operator|)
return|;
block|}
end_function

begin_function
name|polytype
name|mkt_tn
parameter_list|()
block|{
return|return
operator|(
name|p_copy
argument_list|(
name|t_n_type
argument_list|)
operator|)
return|;
block|}
end_function

begin_function
name|polytype
name|mkt_error
parameter_list|()
block|{
return|return
operator|(
name|p_copy
argument_list|(
name|err_type
argument_list|)
operator|)
return|;
block|}
end_function

begin_function
name|polytype
name|mkt_list
parameter_list|(
name|s
parameter_list|)
name|polytype
name|s
decl_stmt|;
block|{
name|polytype
name|u
decl_stmt|;
name|u
operator|=
name|mkt_polytype
argument_list|(
name|lis_kind
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|putsubtype
argument_list|(
name|s
argument_list|,
name|u
argument_list|,
name|Asc
argument_list|)
expr_stmt|;
return|return
operator|(
name|u
operator|)
return|;
block|}
end_function

begin_function
name|polytype
name|mkt_table
parameter_list|(
name|k
parameter_list|,
name|a
parameter_list|)
name|polytype
name|k
decl_stmt|,
name|a
decl_stmt|;
block|{
name|polytype
name|u
decl_stmt|;
name|u
operator|=
name|mkt_polytype
argument_list|(
name|tab_kind
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|putsubtype
argument_list|(
name|a
argument_list|,
name|u
argument_list|,
name|Asc
argument_list|)
expr_stmt|;
name|putsubtype
argument_list|(
name|k
argument_list|,
name|u
argument_list|,
name|Key
argument_list|)
expr_stmt|;
return|return
operator|(
name|u
operator|)
return|;
block|}
end_function

begin_function
name|polytype
name|mkt_lt
parameter_list|(
name|s
parameter_list|)
name|polytype
name|s
decl_stmt|;
block|{
name|polytype
name|u
decl_stmt|;
name|u
operator|=
name|mkt_polytype
argument_list|(
name|l_t_kind
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|putsubtype
argument_list|(
name|s
argument_list|,
name|u
argument_list|,
name|Asc
argument_list|)
expr_stmt|;
return|return
operator|(
name|u
operator|)
return|;
block|}
end_function

begin_function
name|polytype
name|mkt_tlt
parameter_list|(
name|s
parameter_list|)
name|polytype
name|s
decl_stmt|;
block|{
name|polytype
name|u
decl_stmt|;
name|u
operator|=
name|mkt_polytype
argument_list|(
name|tlt_kind
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|putsubtype
argument_list|(
name|s
argument_list|,
name|u
argument_list|,
name|Asc
argument_list|)
expr_stmt|;
return|return
operator|(
name|u
operator|)
return|;
block|}
end_function

begin_function
name|polytype
name|mkt_compound
parameter_list|(
name|nsub
parameter_list|)
name|intlet
name|nsub
decl_stmt|;
block|{
return|return
name|mkt_polytype
argument_list|(
name|com_kind
argument_list|,
name|nsub
argument_list|)
return|;
block|}
end_function

begin_function
name|polytype
name|mkt_var
parameter_list|(
name|id
parameter_list|)
name|value
name|id
decl_stmt|;
block|{
name|polytype
name|u
decl_stmt|;
name|u
operator|=
name|mk_compound
argument_list|(
literal|2
argument_list|)
expr_stmt|;
operator|*
name|Field
argument_list|(
name|u
argument_list|,
name|Kin
argument_list|)
operator|=
name|copy
argument_list|(
operator|(
name|value
operator|)
name|var_kind
argument_list|)
expr_stmt|;
operator|*
name|Field
argument_list|(
name|u
argument_list|,
name|Id
argument_list|)
operator|=
name|id
expr_stmt|;
return|return
operator|(
name|u
operator|)
return|;
block|}
end_function

begin_decl_stmt
name|Hidden
name|value
name|nnewvar
decl_stmt|;
end_decl_stmt

begin_function
name|polytype
name|mkt_newvar
parameter_list|()
block|{
name|value
name|v
decl_stmt|;
name|v
operator|=
name|sum
argument_list|(
name|nnewvar
argument_list|,
name|one
argument_list|)
expr_stmt|;
name|release
argument_list|(
name|nnewvar
argument_list|)
expr_stmt|;
name|nnewvar
operator|=
name|v
expr_stmt|;
return|return
name|mkt_var
argument_list|(
name|convert
argument_list|(
name|nnewvar
argument_list|,
name|No
argument_list|,
name|No
argument_list|)
argument_list|)
return|;
block|}
end_function

begin_function
name|polytype
name|p_copy
parameter_list|(
name|u
parameter_list|)
name|polytype
name|u
decl_stmt|;
block|{
return|return
operator|(
operator|(
name|polytype
operator|)
name|copy
argument_list|(
operator|(
name|polytype
operator|)
name|u
argument_list|)
operator|)
return|;
block|}
end_function

begin_function
name|Procedure
name|p_release
parameter_list|(
name|u
parameter_list|)
name|polytype
name|u
decl_stmt|;
block|{
name|release
argument_list|(
operator|(
name|polytype
operator|)
name|u
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/* predicates */
end_comment

begin_function
name|bool
name|are_same_types
parameter_list|(
name|u
parameter_list|,
name|v
parameter_list|)
name|polytype
name|u
decl_stmt|,
name|v
decl_stmt|;
block|{
if|if
condition|(
name|compare
argument_list|(
argument|(value) Kind(u)
argument_list|,
argument|(value) Kind(v)
argument_list|)
name|NE
literal|0
condition|)
return|return
operator|(
name|No
operator|)
return|;
elseif|else
if|if
condition|(
name|t_is_var
argument_list|(
name|Kind
argument_list|(
name|u
argument_list|)
argument_list|)
condition|)
return|return
operator|(
name|compare
argument_list|(
argument|Ident(u)
argument_list|,
argument|Ident(v)
argument_list|)
name|EQ
literal|0
operator|)
return|;
else|else
return|return
operator|(
operator|(
name|nsubtypes
argument_list|(
argument|u
argument_list|)
name|EQ
name|nsubtypes
argument_list|(
name|v
argument_list|)
operator|)
operator|&&
operator|(
name|compare
argument_list|(
argument|*Psubtypes(u)
argument_list|,
argument|*Psubtypes(v)
argument_list|)
name|EQ
literal|0
operator|)
operator|)
return|;
block|}
end_function

begin_function
name|bool
name|have_same_structure
parameter_list|(
name|u
parameter_list|,
name|v
parameter_list|)
name|polytype
name|u
decl_stmt|,
name|v
decl_stmt|;
block|{
return|return
operator|(
operator|(
name|compare
argument_list|(
argument|(value) Kind(u)
argument_list|,
argument|(value) Kind(v)
argument_list|)
name|EQ
literal|0
operator|)
operator|&&
name|nsubtypes
argument_list|(
argument|u
argument_list|)
name|EQ
name|nsubtypes
argument_list|(
name|v
argument_list|)
operator|)
return|;
block|}
end_function

begin_function
name|bool
name|t_is_number
parameter_list|(
name|kind
parameter_list|)
name|typekind
name|kind
decl_stmt|;
block|{
return|return
operator|(
name|compare
argument_list|(
argument|(value) kind
argument_list|,
argument|(value) num_kind
argument_list|)
name|EQ
literal|0
condition|?
name|Yes
else|:
name|No
operator|)
return|;
block|}
end_function

begin_function
name|bool
name|t_is_text
parameter_list|(
name|kind
parameter_list|)
name|typekind
name|kind
decl_stmt|;
block|{
return|return
operator|(
name|compare
argument_list|(
argument|(value) kind
argument_list|,
argument|(value) tex_kind
argument_list|)
name|EQ
literal|0
condition|?
name|Yes
else|:
name|No
operator|)
return|;
block|}
end_function

begin_function
name|bool
name|t_is_tn
parameter_list|(
name|kind
parameter_list|)
name|typekind
name|kind
decl_stmt|;
block|{
return|return
operator|(
name|compare
argument_list|(
argument|(value) kind
argument_list|,
argument|(value) t_n_kind
argument_list|)
name|EQ
literal|0
condition|?
name|Yes
else|:
name|No
operator|)
return|;
block|}
end_function

begin_function
name|bool
name|t_is_error
parameter_list|(
name|kind
parameter_list|)
name|typekind
name|kind
decl_stmt|;
block|{
return|return
operator|(
name|compare
argument_list|(
argument|(value) kind
argument_list|,
argument|(value) err_kind
argument_list|)
name|EQ
literal|0
condition|?
name|Yes
else|:
name|No
operator|)
return|;
block|}
end_function

begin_function
name|bool
name|t_is_list
parameter_list|(
name|kind
parameter_list|)
name|typekind
name|kind
decl_stmt|;
block|{
return|return
operator|(
name|compare
argument_list|(
argument|(value) kind
argument_list|,
argument|(value) lis_kind
argument_list|)
name|EQ
literal|0
condition|?
name|Yes
else|:
name|No
operator|)
return|;
block|}
end_function

begin_function
name|bool
name|t_is_table
parameter_list|(
name|kind
parameter_list|)
name|typekind
name|kind
decl_stmt|;
block|{
return|return
operator|(
name|compare
argument_list|(
argument|(value) kind
argument_list|,
argument|(value) tab_kind
argument_list|)
name|EQ
literal|0
condition|?
name|Yes
else|:
name|No
operator|)
return|;
block|}
end_function

begin_function
name|bool
name|t_is_lt
parameter_list|(
name|kind
parameter_list|)
name|typekind
name|kind
decl_stmt|;
block|{
return|return
operator|(
name|compare
argument_list|(
argument|(value) kind
argument_list|,
argument|(value) l_t_kind
argument_list|)
name|EQ
literal|0
condition|?
name|Yes
else|:
name|No
operator|)
return|;
block|}
end_function

begin_function
name|bool
name|t_is_tlt
parameter_list|(
name|kind
parameter_list|)
name|typekind
name|kind
decl_stmt|;
block|{
return|return
operator|(
name|compare
argument_list|(
argument|(value) kind
argument_list|,
argument|(value) tlt_kind
argument_list|)
name|EQ
literal|0
condition|?
name|Yes
else|:
name|No
operator|)
return|;
block|}
end_function

begin_function
name|bool
name|t_is_compound
parameter_list|(
name|kind
parameter_list|)
name|typekind
name|kind
decl_stmt|;
block|{
return|return
operator|(
name|compare
argument_list|(
argument|(value) kind
argument_list|,
argument|(value) com_kind
argument_list|)
name|EQ
literal|0
condition|?
name|Yes
else|:
name|No
operator|)
return|;
block|}
end_function

begin_function
name|bool
name|t_is_var
parameter_list|(
name|kind
parameter_list|)
name|typekind
name|kind
decl_stmt|;
block|{
return|return
operator|(
name|compare
argument_list|(
argument|(value) kind
argument_list|,
argument|(value) var_kind
argument_list|)
name|EQ
literal|0
condition|?
name|Yes
else|:
name|No
operator|)
return|;
block|}
end_function

begin_function
name|bool
name|has_number
parameter_list|(
name|kind
parameter_list|)
name|typekind
name|kind
decl_stmt|;
block|{
if|if
condition|(
name|compare
argument_list|(
argument|kind
argument_list|,
argument|num_kind
argument_list|)
name|EQ
literal|0
operator|||
name|compare
argument_list|(
argument|kind
argument_list|,
argument|t_n_kind
argument_list|)
name|EQ
literal|0
condition|)
return|return
operator|(
name|Yes
operator|)
return|;
else|else
return|return
operator|(
name|No
operator|)
return|;
block|}
end_function

begin_function
name|bool
name|has_text
parameter_list|(
name|kind
parameter_list|)
name|typekind
name|kind
decl_stmt|;
block|{
if|if
condition|(
name|compare
argument_list|(
argument|kind
argument_list|,
argument|tex_kind
argument_list|)
name|EQ
literal|0
operator|||
name|compare
argument_list|(
argument|kind
argument_list|,
argument|t_n_kind
argument_list|)
name|EQ
literal|0
condition|)
return|return
operator|(
name|Yes
operator|)
return|;
else|else
return|return
operator|(
name|No
operator|)
return|;
block|}
end_function

begin_function
name|bool
name|has_lt
parameter_list|(
name|kind
parameter_list|)
name|typekind
name|kind
decl_stmt|;
block|{
if|if
condition|(
name|compare
argument_list|(
argument|kind
argument_list|,
argument|l_t_kind
argument_list|)
name|EQ
literal|0
operator|||
name|compare
argument_list|(
argument|kind
argument_list|,
argument|tlt_kind
argument_list|)
name|EQ
literal|0
condition|)
return|return
operator|(
name|Yes
operator|)
return|;
else|else
return|return
operator|(
name|No
operator|)
return|;
block|}
end_function

begin_comment
comment|/* The table "typeof" maps the identifiers of the variables (B texts)  * to polytypes.  */
end_comment

begin_decl_stmt
name|value
name|typeof
decl_stmt|;
end_decl_stmt

begin_function
name|Procedure
name|repl_type_of
parameter_list|(
name|u
parameter_list|,
name|p
parameter_list|)
name|polytype
name|u
decl_stmt|,
name|p
decl_stmt|;
block|{
name|replace
argument_list|(
operator|(
name|value
operator|)
name|p
argument_list|,
operator|&
name|typeof
argument_list|,
name|Ident
argument_list|(
name|u
argument_list|)
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|bool
name|table_has_type_of
parameter_list|(
name|u
parameter_list|)
name|polytype
name|u
decl_stmt|;
block|{
return|return
operator|(
name|in_keys
argument_list|(
name|Ident
argument_list|(
name|u
argument_list|)
argument_list|,
name|typeof
argument_list|)
operator|)
return|;
block|}
end_function

begin_function
name|polytype
name|type_of
parameter_list|(
name|u
parameter_list|)
name|polytype
name|u
decl_stmt|;
block|{
return|return
operator|(
operator|(
name|polytype
operator|)
operator|*
name|adrassoc
argument_list|(
name|typeof
argument_list|,
name|Ident
argument_list|(
name|u
argument_list|)
argument_list|)
operator|)
return|;
block|}
end_function

begin_function
name|polytype
name|bottom_var
parameter_list|(
name|u
parameter_list|)
name|polytype
name|u
decl_stmt|;
block|{
name|polytype
name|b
decl_stmt|;
if|if
condition|(
operator|!
name|t_is_var
argument_list|(
name|Kind
argument_list|(
name|u
argument_list|)
argument_list|)
condition|)
return|return
operator|(
name|u
operator|)
return|;
comment|/* Kind(u) == Variable */
while|while
condition|(
name|table_has_type_of
argument_list|(
name|u
argument_list|)
condition|)
block|{
name|b
operator|=
name|type_of
argument_list|(
name|u
argument_list|)
expr_stmt|;
if|if
condition|(
name|t_is_var
argument_list|(
name|Kind
argument_list|(
name|b
argument_list|)
argument_list|)
condition|)
name|u
operator|=
name|b
expr_stmt|;
else|else
break|break;
block|}
comment|/* Kind(u) == Variable&& !table_has_type_of(u)*/
return|return
operator|(
name|u
operator|)
return|;
block|}
end_function

begin_function
name|Visible
name|Procedure
name|usetypetable
parameter_list|(
name|t
parameter_list|)
name|value
name|t
decl_stmt|;
block|{
name|typeof
operator|=
name|t
expr_stmt|;
block|}
end_function

begin_function
name|Visible
name|Procedure
name|deltypetable
parameter_list|()
block|{
name|release
argument_list|(
name|typeof
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/* init */
end_comment

begin_function
name|Visible
name|Procedure
name|initpol
parameter_list|()
block|{
name|num_kind
operator|=
name|mk_text
argument_list|(
literal|"Number"
argument_list|)
expr_stmt|;
name|num_type
operator|=
name|mkt_polytype
argument_list|(
name|num_kind
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|tex_kind
operator|=
name|mk_text
argument_list|(
literal|"Text"
argument_list|)
expr_stmt|;
name|tex_type
operator|=
name|mkt_polytype
argument_list|(
name|tex_kind
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|t_n_kind
operator|=
name|mk_text
argument_list|(
literal|"TN"
argument_list|)
expr_stmt|;
name|t_n_type
operator|=
name|mkt_polytype
argument_list|(
name|t_n_kind
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|err_kind
operator|=
name|mk_text
argument_list|(
literal|"Error"
argument_list|)
expr_stmt|;
name|err_type
operator|=
name|mkt_polytype
argument_list|(
name|err_kind
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|lis_kind
operator|=
name|mk_text
argument_list|(
literal|"List"
argument_list|)
expr_stmt|;
name|tab_kind
operator|=
name|mk_text
argument_list|(
literal|"Table"
argument_list|)
expr_stmt|;
name|com_kind
operator|=
name|mk_text
argument_list|(
literal|"Compound"
argument_list|)
expr_stmt|;
name|l_t_kind
operator|=
name|mk_text
argument_list|(
literal|"LT"
argument_list|)
expr_stmt|;
name|tlt_kind
operator|=
name|mk_text
argument_list|(
literal|"TLT"
argument_list|)
expr_stmt|;
name|var_kind
operator|=
name|mk_text
argument_list|(
literal|"Variable"
argument_list|)
expr_stmt|;
name|nnewvar
operator|=
name|zero
expr_stmt|;
block|}
end_function

end_unit

