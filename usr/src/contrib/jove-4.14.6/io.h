begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/***************************************************************************  * This program is Copyright (C) 1986, 1987, 1988 by Jonathan Payne.  JOVE *  * is provided to you without charge, and with no warranty.  You may give  *  * away copies of JOVE, including sources, provided that this notice is    *  * included in all the files.                                              *  ***************************************************************************/
end_comment

begin_decl_stmt
specifier|extern
name|char
modifier|*
name|HomeDir
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|size_t
name|HomeLen
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|bool
name|DOLsave
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* Do Lsave flag.  If lines aren't being saved 				   when you think they should have been, this 				   flag is probably not being set, or is being 				   cleared before lsave() was called. */
end_comment

begin_decl_stmt
specifier|extern
name|daddr
name|DFree
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* pointer to end of tmp file */
end_comment

begin_decl_stmt
specifier|extern
name|int
name|Jr_Len
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* length of Just Read Line */
end_comment

begin_decl_stmt
specifier|extern
name|char
modifier|*
name|lbptr
name|proto
argument_list|(
operator|(
expr|struct
name|line
operator|*
name|line
operator|)
argument_list|)
decl_stmt|,
modifier|*
name|pr_name
name|proto
argument_list|(
operator|(
name|char
operator|*
name|fname
operator|,
name|int
name|okay_home
operator|)
argument_list|)
decl_stmt|,
modifier|*
name|pwd
name|proto
argument_list|(
operator|(
name|void
operator|)
argument_list|)
decl_stmt|,
modifier|*
name|sprint
name|proto
argument_list|(
operator|(
specifier|const
name|char
operator|*
operator|,
operator|...
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|struct
name|FileStruct
modifier|*
name|open_file
name|proto
argument_list|(
operator|(
name|char
operator|*
name|fname
operator|,
name|char
operator|*
name|buf
operator|,
name|int
name|how
operator|,
name|int
name|complainifbad
operator|,
name|int
name|loudness
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|void
name|setCWD
name|proto
argument_list|(
operator|(
name|char
operator|*
name|d
operator|)
argument_list|)
decl_stmt|,
name|getCWD
name|proto
argument_list|(
operator|(
name|void
operator|)
argument_list|)
decl_stmt|,
name|PathParse
name|proto
argument_list|(
operator|(
name|char
operator|*
name|name
operator|,
name|char
operator|*
name|intobuf
operator|)
argument_list|)
decl_stmt|,
name|SyncTmp
name|proto
argument_list|(
operator|(
name|void
operator|)
argument_list|)
decl_stmt|,
name|close_file
name|proto
argument_list|(
operator|(
expr|struct
name|FileStruct
operator|*
name|fp
operator|)
argument_list|)
decl_stmt|,
name|d_cache_init
name|proto
argument_list|(
operator|(
name|void
operator|)
argument_list|)
decl_stmt|,
name|file_write
name|proto
argument_list|(
operator|(
name|char
operator|*
name|fname
operator|,
name|bool
name|app
operator|)
argument_list|)
decl_stmt|,
name|filemunge
name|proto
argument_list|(
operator|(
name|char
operator|*
name|newname
operator|)
argument_list|)
decl_stmt|,
name|getline
name|proto
argument_list|(
operator|(
name|daddr
name|addr
operator|,
name|char
operator|*
name|buf
operator|)
argument_list|)
decl_stmt|,
name|lsave
name|proto
argument_list|(
operator|(
name|void
operator|)
argument_list|)
decl_stmt|,
name|putreg
name|proto
argument_list|(
operator|(
expr|struct
name|FileStruct
operator|*
name|fp
operator|,
expr|struct
name|line
operator|*
name|line1
operator|,
name|int
name|char1
operator|,
expr|struct
name|line
operator|*
name|line2
operator|,
name|int
name|char2
operator|,
name|bool
name|makesure
operator|)
argument_list|)
decl_stmt|,
name|read_file
name|proto
argument_list|(
operator|(
name|char
operator|*
name|file
operator|,
name|bool
name|is_insert
operator|)
argument_list|)
decl_stmt|,
name|tmpclose
name|proto
argument_list|(
operator|(
name|void
operator|)
argument_list|)
decl_stmt|,
name|tmpremove
name|proto
argument_list|(
operator|(
name|void
operator|)
argument_list|)
decl_stmt|,
name|WriteFile
name|proto
argument_list|(
operator|(
name|void
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|bool
name|chkCWD
name|proto
argument_list|(
operator|(
name|char
operator|*
name|dn
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|daddr
name|putline
name|proto
argument_list|(
operator|(
name|char
operator|*
name|buf
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_ifdef
ifdef|#
directive|ifdef
name|MAC
end_ifdef

begin_define
define|#
directive|define
name|chk_mtime
parameter_list|(
name|thisbuf
parameter_list|,
name|fname
parameter_list|,
name|how
parameter_list|)
value|{ }
end_define

begin_else
else|#
directive|else
end_else

begin_ifdef
ifdef|#
directive|ifdef
name|MSDOS
end_ifdef

begin_define
define|#
directive|define
name|chk_mtime
parameter_list|(
name|thisbuf
parameter_list|,
name|fname
parameter_list|,
name|how
parameter_list|)
value|{ }
end_define

begin_else
else|#
directive|else
end_else

begin_decl_stmt
specifier|extern
name|void
name|chk_mtime
name|proto
argument_list|(
operator|(
name|Buffer
operator|*
name|thisbuf
operator|,
name|char
operator|*
name|fname
operator|,
name|char
operator|*
name|how
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_endif
endif|#
directive|endif
end_endif

begin_endif
endif|#
directive|endif
end_endif

end_unit

