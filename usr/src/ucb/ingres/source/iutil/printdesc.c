begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_include
include|#
directive|include
file|<ingres.h>
end_include

begin_include
include|#
directive|include
file|<sccs.h>
end_include

begin_macro
name|SCCSID
argument_list|(
argument|@(#)printdesc.c
literal|7.1
literal|2
argument|/
literal|5
argument|/
literal|81
argument_list|)
end_macro

begin_comment
comment|/* **  PRINT RELATION DESCRIPTOR (for debugging) ** **	A pointer of a file descriptor is passed.  All pertinent **	info in that descriptor is printed on the standard output. ** **	For debugging purposes only */
end_comment

begin_expr_stmt
name|printdesc
argument_list|(
name|d
argument_list|)
specifier|register
name|DESC
operator|*
name|d
expr_stmt|;
end_expr_stmt

begin_block
block|{
specifier|register
name|int
name|i
decl_stmt|;
specifier|register
name|int
name|end
decl_stmt|;
name|printf
argument_list|(
literal|"Descriptor @ %x %.12s %.2s (%.12s)\n"
argument_list|,
name|d
argument_list|,
name|d
operator|->
name|reldum
operator|.
name|relid
argument_list|,
name|d
operator|->
name|reldum
operator|.
name|relowner
argument_list|,
name|d
operator|->
name|relvname
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"spec %d, indxd %d, stat %d, save %s"
argument_list|,
name|d
operator|->
name|reldum
operator|.
name|relspec
argument_list|,
name|d
operator|->
name|reldum
operator|.
name|relindxd
argument_list|,
name|d
operator|->
name|reldum
operator|.
name|relstat
argument_list|,
name|ctime
argument_list|(
operator|&
name|d
operator|->
name|reldum
operator|.
name|relsave
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"tups %ld, atts %d, wid %d, prim %ld, stamp %s"
argument_list|,
name|d
operator|->
name|reldum
operator|.
name|reltups
argument_list|,
name|d
operator|->
name|reldum
operator|.
name|relatts
argument_list|,
name|d
operator|->
name|reldum
operator|.
name|relwid
argument_list|,
name|d
operator|->
name|reldum
operator|.
name|relprim
argument_list|,
name|ctime
argument_list|(
operator|&
name|d
operator|->
name|reldum
operator|.
name|relstamp
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"fp %d, opn %d, adds %ld, "
argument_list|,
name|d
operator|->
name|relfp
argument_list|,
name|d
operator|->
name|relopn
argument_list|,
name|d
operator|->
name|reladds
argument_list|)
expr_stmt|;
name|dumptid
argument_list|(
operator|&
name|d
operator|->
name|reltid
argument_list|)
expr_stmt|;
name|end
operator|=
name|d
operator|->
name|reldum
operator|.
name|relatts
expr_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<=
name|end
condition|;
name|i
operator|++
control|)
block|{
name|printf
argument_list|(
literal|"[%2d] off %3d fmt %c%3d, xtra %3d, given %3d\n"
argument_list|,
name|i
argument_list|,
name|d
operator|->
name|reloff
index|[
name|i
index|]
argument_list|,
name|d
operator|->
name|relfrmt
index|[
name|i
index|]
argument_list|,
name|d
operator|->
name|relfrml
index|[
name|i
index|]
operator|&
literal|0377
argument_list|,
name|d
operator|->
name|relxtra
index|[
name|i
index|]
argument_list|,
name|d
operator|->
name|relgiven
index|[
name|i
index|]
argument_list|)
expr_stmt|;
block|}
block|}
end_block

end_unit

