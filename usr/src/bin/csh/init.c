begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_decl_stmt
specifier|static
name|char
modifier|*
name|sccsid
init|=
literal|"@(#)init.c 4.3 %G%"
decl_stmt|;
end_decl_stmt

begin_include
include|#
directive|include
file|"sh.local.h"
end_include

begin_comment
comment|/*  * C shell  */
end_comment

begin_function_decl
specifier|extern
name|int
name|doalias
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|dobg
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|dobreak
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|dochngd
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|docontin
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|dodirs
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|doecho
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|doelse
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|doend
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|doendif
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|doendsw
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|doeval
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|doexit
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|dofg
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|doforeach
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|doglob
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|dogoto
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|dohash
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|dohist
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|doif
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|dojobs
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|dokill
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|dolet
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|dolimit
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|dologin
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|dologout
parameter_list|()
function_decl|;
end_function_decl

begin_ifdef
ifdef|#
directive|ifdef
name|NEWGRP
end_ifdef

begin_function_decl
specifier|extern
name|int
name|donewgrp
parameter_list|()
function_decl|;
end_function_decl

begin_endif
endif|#
directive|endif
end_endif

begin_function_decl
specifier|extern
name|int
name|donice
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|donotify
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|donohup
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|doonintr
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|dopopd
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|dopushd
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|dorepeat
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|doset
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|dosetenv
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|dosource
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|dostop
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|dosuspend
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|doswbrk
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|doswitch
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|dotime
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|dounlimit
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|doumask
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|dowait
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|dowhile
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|dozip
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|execash
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|goodbye
parameter_list|()
function_decl|;
end_function_decl

begin_ifdef
ifdef|#
directive|ifdef
name|VFORK
end_ifdef

begin_function_decl
specifier|extern
name|int
name|hashstat
parameter_list|()
function_decl|;
end_function_decl

begin_endif
endif|#
directive|endif
end_endif

begin_function_decl
specifier|extern
name|int
name|shift
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|showall
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|unalias
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|dounhash
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|unset
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|int
name|dounsetenv
parameter_list|()
function_decl|;
end_function_decl

begin_define
define|#
directive|define
name|INF
value|1000
end_define

begin_struct
struct|struct
name|biltins
block|{
name|char
modifier|*
name|bname
decl_stmt|;
name|int
function_decl|(
modifier|*
name|bfunct
function_decl|)
parameter_list|()
function_decl|;
name|short
name|minargs
decl_stmt|,
name|maxargs
decl_stmt|;
block|}
name|bfunc
index|[]
init|=
block|{
literal|"@"
block|,
name|dolet
block|,
literal|0
block|,
name|INF
block|,
literal|"alias"
block|,
name|doalias
block|,
literal|0
block|,
name|INF
block|,
ifdef|#
directive|ifdef
name|debug
literal|"alloc"
block|,
name|showall
block|,
literal|0
block|,
literal|1
block|,
endif|#
directive|endif
literal|"bg"
block|,
name|dobg
block|,
literal|0
block|,
name|INF
block|,
literal|"break"
block|,
name|dobreak
block|,
literal|0
block|,
literal|0
block|,
literal|"breaksw"
block|,
name|doswbrk
block|,
literal|0
block|,
literal|0
block|,
ifdef|#
directive|ifdef
name|IIASA
literal|"bye"
block|,
name|goodbye
block|,
literal|0
block|,
literal|0
block|,
endif|#
directive|endif
literal|"case"
block|,
name|dozip
block|,
literal|0
block|,
literal|1
block|,
literal|"cd"
block|,
name|dochngd
block|,
literal|0
block|,
literal|1
block|,
literal|"chdir"
block|,
name|dochngd
block|,
literal|0
block|,
literal|1
block|,
literal|"continue"
block|,
name|docontin
block|,
literal|0
block|,
literal|0
block|,
literal|"default"
block|,
name|dozip
block|,
literal|0
block|,
literal|0
block|,
literal|"dirs"
block|,
name|dodirs
block|,
literal|0
block|,
literal|1
block|,
literal|"echo"
block|,
name|doecho
block|,
literal|0
block|,
name|INF
block|,
literal|"else"
block|,
name|doelse
block|,
literal|0
block|,
name|INF
block|,
literal|"end"
block|,
name|doend
block|,
literal|0
block|,
literal|0
block|,
literal|"endif"
block|,
name|dozip
block|,
literal|0
block|,
literal|0
block|,
literal|"endsw"
block|,
name|dozip
block|,
literal|0
block|,
literal|0
block|,
literal|"eval"
block|,
name|doeval
block|,
literal|0
block|,
name|INF
block|,
literal|"exec"
block|,
name|execash
block|,
literal|1
block|,
name|INF
block|,
literal|"exit"
block|,
name|doexit
block|,
literal|0
block|,
name|INF
block|,
literal|"fg"
block|,
name|dofg
block|,
literal|0
block|,
name|INF
block|,
literal|"foreach"
block|,
name|doforeach
block|,
literal|3
block|,
name|INF
block|,
ifdef|#
directive|ifdef
name|IIASA
literal|"gd"
block|,
name|dopushd
block|,
literal|0
block|,
literal|1
block|,
endif|#
directive|endif
literal|"glob"
block|,
name|doglob
block|,
literal|0
block|,
name|INF
block|,
literal|"goto"
block|,
name|dogoto
block|,
literal|1
block|,
literal|1
block|,
ifdef|#
directive|ifdef
name|VFORK
literal|"hashstat"
block|,
name|hashstat
block|,
literal|0
block|,
literal|0
block|,
endif|#
directive|endif
literal|"history"
block|,
name|dohist
block|,
literal|0
block|,
literal|2
block|,
literal|"if"
block|,
name|doif
block|,
literal|1
block|,
name|INF
block|,
literal|"jobs"
block|,
name|dojobs
block|,
literal|0
block|,
literal|1
block|,
literal|"kill"
block|,
name|dokill
block|,
literal|1
block|,
name|INF
block|,
literal|"limit"
block|,
name|dolimit
block|,
literal|0
block|,
literal|3
block|,
literal|"login"
block|,
name|dologin
block|,
literal|0
block|,
literal|1
block|,
literal|"logout"
block|,
name|dologout
block|,
literal|0
block|,
literal|0
block|,
ifdef|#
directive|ifdef
name|NEWGRP
literal|"newgrp"
block|,
name|donewgrp
block|,
literal|1
block|,
literal|1
block|,
endif|#
directive|endif
literal|"nice"
block|,
name|donice
block|,
literal|0
block|,
name|INF
block|,
literal|"nohup"
block|,
name|donohup
block|,
literal|0
block|,
name|INF
block|,
literal|"notify"
block|,
name|donotify
block|,
literal|0
block|,
name|INF
block|,
literal|"onintr"
block|,
name|doonintr
block|,
literal|0
block|,
literal|2
block|,
literal|"popd"
block|,
name|dopopd
block|,
literal|0
block|,
literal|1
block|,
literal|"pushd"
block|,
name|dopushd
block|,
literal|0
block|,
literal|1
block|,
ifdef|#
directive|ifdef
name|IIASA
literal|"rd"
block|,
name|dopopd
block|,
literal|0
block|,
literal|1
block|,
endif|#
directive|endif
literal|"rehash"
block|,
name|dohash
block|,
literal|0
block|,
literal|0
block|,
literal|"repeat"
block|,
name|dorepeat
block|,
literal|2
block|,
name|INF
block|,
literal|"set"
block|,
name|doset
block|,
literal|0
block|,
name|INF
block|,
literal|"setenv"
block|,
name|dosetenv
block|,
literal|2
block|,
literal|2
block|,
literal|"shift"
block|,
name|shift
block|,
literal|0
block|,
literal|1
block|,
literal|"source"
block|,
name|dosource
block|,
literal|1
block|,
literal|2
block|,
literal|"stop"
block|,
name|dostop
block|,
literal|1
block|,
name|INF
block|,
literal|"suspend"
block|,
name|dosuspend
block|,
literal|0
block|,
literal|0
block|,
literal|"switch"
block|,
name|doswitch
block|,
literal|1
block|,
name|INF
block|,
literal|"time"
block|,
name|dotime
block|,
literal|0
block|,
name|INF
block|,
literal|"umask"
block|,
name|doumask
block|,
literal|0
block|,
literal|1
block|,
literal|"unalias"
block|,
name|unalias
block|,
literal|1
block|,
name|INF
block|,
literal|"unhash"
block|,
name|dounhash
block|,
literal|0
block|,
literal|0
block|,
literal|"unlimit"
block|,
name|dounlimit
block|,
literal|0
block|,
name|INF
block|,
literal|"unset"
block|,
name|unset
block|,
literal|1
block|,
name|INF
block|,
literal|"unsetenv"
block|,
name|dounsetenv
block|,
literal|1
block|,
name|INF
block|,
literal|"wait"
block|,
name|dowait
block|,
literal|0
block|,
literal|0
block|,
literal|"while"
block|,
name|dowhile
block|,
literal|1
block|,
name|INF
block|,
literal|0
block|,
literal|0
block|,
literal|0
block|,
literal|0
block|, }
struct|;
end_struct

begin_define
define|#
directive|define
name|ZBREAK
value|0
end_define

begin_define
define|#
directive|define
name|ZBRKSW
value|1
end_define

begin_define
define|#
directive|define
name|ZCASE
value|2
end_define

begin_define
define|#
directive|define
name|ZDEFAULT
value|3
end_define

begin_define
define|#
directive|define
name|ZELSE
value|4
end_define

begin_define
define|#
directive|define
name|ZEND
value|5
end_define

begin_define
define|#
directive|define
name|ZENDIF
value|6
end_define

begin_define
define|#
directive|define
name|ZENDSW
value|7
end_define

begin_define
define|#
directive|define
name|ZEXIT
value|8
end_define

begin_define
define|#
directive|define
name|ZFOREACH
value|9
end_define

begin_define
define|#
directive|define
name|ZGOTO
value|10
end_define

begin_define
define|#
directive|define
name|ZIF
value|11
end_define

begin_define
define|#
directive|define
name|ZLABEL
value|12
end_define

begin_define
define|#
directive|define
name|ZLET
value|13
end_define

begin_define
define|#
directive|define
name|ZSET
value|14
end_define

begin_define
define|#
directive|define
name|ZSWITCH
value|15
end_define

begin_define
define|#
directive|define
name|ZTEST
value|16
end_define

begin_define
define|#
directive|define
name|ZTHEN
value|17
end_define

begin_define
define|#
directive|define
name|ZWHILE
value|18
end_define

begin_struct
struct|struct
name|srch
block|{
name|char
modifier|*
name|s_name
decl_stmt|;
name|short
name|s_value
decl_stmt|;
block|}
name|srchn
index|[]
init|=
block|{
literal|"@"
block|,
name|ZLET
block|,
literal|"break"
block|,
name|ZBREAK
block|,
literal|"breaksw"
block|,
name|ZBRKSW
block|,
literal|"case"
block|,
name|ZCASE
block|,
literal|"default"
block|,
name|ZDEFAULT
block|,
literal|"else"
block|,
name|ZELSE
block|,
literal|"end"
block|,
name|ZEND
block|,
literal|"endif"
block|,
name|ZENDIF
block|,
literal|"endsw"
block|,
name|ZENDSW
block|,
literal|"exit"
block|,
name|ZEXIT
block|,
literal|"foreach"
block|,
name|ZFOREACH
block|,
literal|"goto"
block|,
name|ZGOTO
block|,
literal|"if"
block|,
name|ZIF
block|,
literal|"label"
block|,
name|ZLABEL
block|,
literal|"set"
block|,
name|ZSET
block|,
literal|"switch"
block|,
name|ZSWITCH
block|,
literal|"while"
block|,
name|ZWHILE
block|,
literal|0
block|,
literal|0
block|, }
struct|;
end_struct

begin_struct
struct|struct
name|mesg
block|{
name|char
modifier|*
name|iname
decl_stmt|;
name|char
modifier|*
name|pname
decl_stmt|;
block|}
name|mesg
index|[]
init|=
block|{
literal|0
block|,
literal|0
block|,
literal|"HUP"
block|,
literal|"Hangup"
block|,
literal|"INT"
block|,
literal|"Interrupt"
block|,
literal|"QUIT"
block|,
literal|"Quit"
block|,
literal|"ILL"
block|,
literal|"Illegal instruction"
block|,
literal|"TRAP"
block|,
literal|"Trace/BPT trap"
block|,
literal|"IOT"
block|,
literal|"IOT trap"
block|,
literal|"EMT"
block|,
literal|"EMT trap"
block|,
literal|"FPE"
block|,
literal|"Floating exception"
block|,
literal|"KILL"
block|,
literal|"Killed"
block|,
literal|"BUS"
block|,
literal|"Bus error"
block|,
literal|"SEGV"
block|,
literal|"Segmentation fault"
block|,
literal|"SYS"
block|,
literal|"Bad system call"
block|,
literal|"PIPE"
block|,
literal|"Broken pipe"
block|,
literal|"ALRM"
block|,
literal|"Alarm clock"
block|,
literal|"TERM"
block|,
literal|"Terminated"
block|,
literal|0
block|,
literal|"Signal 16"
block|,
literal|"STOP"
block|,
literal|"Stopped (signal)"
block|,
literal|"TSTP"
block|,
literal|"Stopped"
block|,
literal|"CONT"
block|,
literal|"Continued"
block|,
literal|"CHLD"
block|,
literal|"Child exited"
block|,
literal|"TTIN"
block|,
literal|"Stopped (tty input)"
block|,
literal|"TTOU"
block|,
literal|"Stopped (tty output)"
block|,
literal|"TINT"
block|,
literal|"Tty input interrupt"
block|,
literal|"XCPU"
block|,
literal|"Cputime limit exceeded"
block|,
literal|"XFSZ"
block|,
literal|"Filesize limit exceeded"
block|,
literal|0
block|,
literal|"Signal 26"
block|,
literal|0
block|,
literal|"Signal 27"
block|,
literal|0
block|,
literal|"Signal 28"
block|,
literal|0
block|,
literal|"Signal 29"
block|,
literal|0
block|,
literal|"Signal 30"
block|,
literal|0
block|,
literal|"Signal 31"
block|,
literal|0
block|,
literal|"Signal 32"
block|}
struct|;
end_struct

end_unit

