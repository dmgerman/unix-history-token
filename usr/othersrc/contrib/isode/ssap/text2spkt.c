begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* text2spkt.c - read/write a SPDU thru a debug filter */
end_comment

begin_ifndef
ifndef|#
directive|ifndef
name|lint
end_ifndef

begin_decl_stmt
specifier|static
name|char
modifier|*
name|rcsid
init|=
literal|"$Header: /f/osi/ssap/RCS/text2spkt.c,v 7.1 91/02/22 09:46:13 mrose Interim $"
decl_stmt|;
end_decl_stmt

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/*   * $Header: /f/osi/ssap/RCS/text2spkt.c,v 7.1 91/02/22 09:46:13 mrose Interim $  *  *  * $Log:	text2spkt.c,v $  * Revision 7.1  91/02/22  09:46:13  mrose  * Interim 6.8  *   * Revision 7.0  89/11/23  22:25:54  mrose  * Release 6.0  *   */
end_comment

begin_comment
comment|/*  *				  NOTICE  *  *    Acquisition, use, and distribution of this module and related  *    materials are subject to the restrictions of a license agreement.  *    Consult the Preface in the User's Manual for the full terms of  *    this agreement.  *  */
end_comment

begin_comment
comment|/* LINTLIBRARY */
end_comment

begin_include
include|#
directive|include
file|<stdio.h>
end_include

begin_include
include|#
directive|include
file|"spkt.h"
end_include

begin_include
include|#
directive|include
file|"logger.h"
end_include

begin_define
define|#
directive|define
name|sprintc
parameter_list|(
name|v
parameter_list|,
name|b
parameter_list|)
value|sprintb ((int) (v), (b))
end_define

begin_comment
comment|/*
comment|*/
end_comment

begin_define
define|#
directive|define
name|SPDU_TYPE
parameter_list|(
name|e
parameter_list|)
value|(void) ll_printf (lp, "%sCODE/ %s\n", rw, e)
end_define

begin_define
define|#
directive|define
name|DMASK
value|"\020\01RELEASE\02USER\03PROTOCOL\04UNKNOWN"
end_define

begin_define
define|#
directive|define
name|EMASK
value|"\020\01BEGIN\02END"
end_define

begin_define
define|#
directive|define
name|OMASK
value|"\020\01EXTD"
end_define

begin_define
define|#
directive|define
name|RMASK
define|\
value|"\020\01HALFDUPLEX\02DUPLEX\03EXPEDITED\04MINORSYNC\05MAJORSYNC\06RESYNC\07ACTIVITY\010NEGOTIATED\011CAPABILITY\012EXCEPTIONS\013TYPEDATA"
end_define

begin_define
define|#
directive|define
name|SMASK
value|"\020\01NOEND"
end_define

begin_define
define|#
directive|define
name|TMASK
value|"\020\01DATA\03SYNC\05ACTIVITY\07RELEASE"
end_define

begin_define
define|#
directive|define
name|YMASK
value|"\020\01NOEXPLICIT"
end_define

begin_function
name|void
name|spkt2text
parameter_list|(
name|lp
parameter_list|,
name|s
parameter_list|,
name|read
parameter_list|)
specifier|register
name|LLog
modifier|*
name|lp
decl_stmt|;
specifier|register
name|struct
name|ssapkt
modifier|*
name|s
decl_stmt|;
name|int
name|read
decl_stmt|;
block|{
name|char
modifier|*
name|rw
init|=
name|read
condition|?
literal|"<--- "
else|:
literal|"---> "
decl_stmt|;
name|LLOG
argument_list|(
name|lp
argument_list|,
name|LLOG_ALL
argument_list|,
operator|(
literal|"dump of SPDU 0x%x, errno=0x%x mask=0x%x%s"
operator|,
name|s
operator|,
name|s
operator|->
name|s_errno
operator|,
name|s
operator|->
name|s_mask
operator|,
name|s
operator|->
name|s_mask
operator|&
name|SMASK_SPDU_EXPD
condition|?
literal|" (expedited)"
else|:
literal|""
operator|)
argument_list|)
expr_stmt|;
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"%s(\n"
argument_list|,
name|rw
argument_list|)
expr_stmt|;
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"%sLI/ %d\n"
argument_list|,
name|rw
argument_list|,
name|s
operator|->
name|s_li
argument_list|)
expr_stmt|;
switch|switch
condition|(
name|s
operator|->
name|s_code
condition|)
block|{
case|case
name|SPDU_CN
case|:
case|case
name|SPDU_AC
case|:
name|SPDU_TYPE
argument_list|(
name|s
operator|->
name|s_code
operator|==
name|SPDU_CN
condition|?
literal|"CONNECT"
else|:
literal|"ACCEPT"
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_CN_REF
condition|)
name|type_ref
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
operator|&
name|s
operator|->
name|s_cn_reference
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_CN_OPT
condition|)
name|type_bits
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
literal|"OPTIONS"
argument_list|,
name|s
operator|->
name|s_options
argument_list|,
name|CR_OPT_MASK
argument_list|,
name|OMASK
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_CN_TSDU
condition|)
name|type_tsdu
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
name|s
operator|->
name|s_tsdu_init
argument_list|,
name|s
operator|->
name|s_tsdu_resp
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_CN_VRSN
condition|)
name|type_vrsn
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
name|s
operator|->
name|s_cn_version
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_CN_ISN
condition|)
name|type_ssn
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
literal|"ISN"
argument_list|,
name|s
operator|->
name|s_isn
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_CN_SET
condition|)
name|type_settings
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
name|s
operator|->
name|s_settings
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_code
operator|==
name|SPDU_AC
operator|&&
operator|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_AC_TOKEN
operator|)
condition|)
name|type_bits
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
literal|"TOKENS"
argument_list|,
name|s
operator|->
name|s_ac_token
argument_list|,
operator|-
literal|1
argument_list|,
name|TMASK
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_CN_REQ
condition|)
name|type_bits
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
literal|"REQUIREMENTS"
argument_list|,
name|s
operator|->
name|s_cn_require
argument_list|,
operator|-
literal|1
argument_list|,
name|RMASK
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_CN_CALLING
condition|)
name|type_id
argument_list|(
name|lp
argument_list|,
literal|"CALLING"
argument_list|,
name|rw
argument_list|,
name|s
operator|->
name|s_calling
argument_list|,
name|s
operator|->
name|s_callinglen
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_CN_CALLED
condition|)
name|type_id
argument_list|(
name|lp
argument_list|,
literal|"CALLED"
argument_list|,
name|rw
argument_list|,
name|s
operator|->
name|s_called
argument_list|,
name|s
operator|->
name|s_calledlen
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPDU_RF
case|:
name|SPDU_TYPE
argument_list|(
literal|"REFUSE"
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_RF_REF
condition|)
name|type_ref
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
operator|&
name|s
operator|->
name|s_rf_reference
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_RF_DISC
condition|)
name|type_bits
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
literal|"DISCONNECT"
argument_list|,
name|s
operator|->
name|s_rf_disconnect
argument_list|,
name|RF_DISC_MASK
argument_list|,
name|DMASK
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_RF_REQ
condition|)
name|type_bits
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
literal|"REQUIREMENTS"
argument_list|,
name|s
operator|->
name|s_rf_require
argument_list|,
operator|-
literal|1
argument_list|,
name|RMASK
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_RF_VRSN
condition|)
name|type_vrsn
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
name|s
operator|->
name|s_rf_version
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_rlen
operator|>
literal|0
condition|)
block|{
name|type_reason
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
operator|*
name|s
operator|->
name|s_rdata
operator|&
literal|0xff
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_rlen
operator|>
literal|1
condition|)
name|type_data
argument_list|(
name|lp
argument_list|,
literal|"REASON"
argument_list|,
name|rw
argument_list|,
name|s
operator|->
name|s_rlen
operator|-
literal|1
argument_list|,
name|s
operator|->
name|s_rdata
operator|+
literal|1
argument_list|)
expr_stmt|;
block|}
break|break;
case|case
name|SPDU_FN
case|:
name|SPDU_TYPE
argument_list|(
literal|"FINISH"
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_FN_DISC
condition|)
name|type_bits
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
literal|"DISCONNECT"
argument_list|,
name|s
operator|->
name|s_fn_disconnect
argument_list|,
name|FN_DISC_MASK
argument_list|,
name|DMASK
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPDU_DN
case|:
name|SPDU_TYPE
argument_list|(
literal|"DISCONNECT"
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPDU_NF
case|:
name|SPDU_TYPE
argument_list|(
literal|"NOT FINISHED"
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPDU_AB
case|:
ifdef|#
directive|ifdef
name|notdef
case|case
name|SPDU_AI
case|:
comment|/* aka SPDU_AB */
endif|#
directive|endif
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_SPDU_AB
condition|)
block|{
name|SPDU_TYPE
argument_list|(
literal|"ABORT"
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_AB_DISC
condition|)
name|type_bits
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
literal|"DISCONNECT"
argument_list|,
name|s
operator|->
name|s_ab_disconnect
argument_list|,
name|AB_DISC_MASK
argument_list|,
name|DMASK
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_AB_REFL
condition|)
name|type_data
argument_list|(
name|lp
argument_list|,
literal|"REFLECT"
argument_list|,
name|rw
argument_list|,
sizeof|sizeof
name|s
operator|->
name|s_reflect
argument_list|,
operator|(
name|char
operator|*
operator|)
name|s
operator|->
name|s_reflect
argument_list|)
expr_stmt|;
break|break;
block|}
name|SPDU_TYPE
argument_list|(
literal|"ACTIVITY INTERRUPT"
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_AI_REASON
condition|)
name|type_error
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
name|s
operator|->
name|s_ai_reason
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPDU_AA
case|:
ifdef|#
directive|ifdef
name|notdef
case|case
name|SPDU_AIA
case|:
comment|/* aka SPDU_AA */
endif|#
directive|endif
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_SPDU_AA
condition|)
name|SPDU_TYPE
argument_list|(
literal|"ABORT ACCEPT"
argument_list|)
expr_stmt|;
else|else
name|SPDU_TYPE
argument_list|(
literal|"ACTIVITY INTERRUPT ACK"
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPDU_GT
case|:
ifdef|#
directive|ifdef
name|notdef
case|case
name|SPDU_DT
case|:
comment|/* aka SPDU_GT */
endif|#
directive|endif
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_SPDU_GT
condition|)
block|{
name|SPDU_TYPE
argument_list|(
literal|"GIVE TOKENS"
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_GT_TOKEN
condition|)
name|type_bits
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
literal|"TOKENS"
argument_list|,
name|s
operator|->
name|s_gt_token
argument_list|,
operator|-
literal|1
argument_list|,
name|TMASK
argument_list|)
expr_stmt|;
block|}
else|else
name|SPDU_TYPE
argument_list|(
literal|"DATA TRANSFER"
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPDU_EX
case|:
name|SPDU_TYPE
argument_list|(
literal|"EXPEDITED"
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPDU_TD
case|:
name|SPDU_TYPE
argument_list|(
literal|"TYPED DATA"
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPDU_CD
case|:
name|SPDU_TYPE
argument_list|(
literal|"CAPABILITY DATA"
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPDU_CDA
case|:
name|SPDU_TYPE
argument_list|(
literal|"CAPABILITY DATA ACK"
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPDU_PT
case|:
name|SPDU_TYPE
argument_list|(
literal|"PLEASE TOKENS"
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_PT_TOKEN
condition|)
name|type_bits
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
literal|"TOKENS"
argument_list|,
name|s
operator|->
name|s_pt_token
argument_list|,
operator|-
literal|1
argument_list|,
name|TMASK
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPDU_GTC
case|:
name|SPDU_TYPE
argument_list|(
literal|"GIVE TOKENS CONFIRM"
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPDU_GTA
case|:
name|SPDU_TYPE
argument_list|(
literal|"GIVE TOKENS ACK"
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPDU_MIP
case|:
name|SPDU_TYPE
argument_list|(
literal|"MINOR SYNCHRONIZATION POINT"
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_MIP_SYNC
condition|)
name|type_bits
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
literal|"SYNC"
argument_list|,
name|s
operator|->
name|s_mip_sync
argument_list|,
name|MIP_SYNC_MASK
argument_list|,
name|YMASK
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_MIP_SERIAL
condition|)
name|type_ssn
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
literal|"SSN"
argument_list|,
name|s
operator|->
name|s_mip_serial
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPDU_MIA
case|:
name|SPDU_TYPE
argument_list|(
literal|"MINOR SYNC ACK"
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_MIA_SERIAL
condition|)
name|type_ssn
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
literal|"SSN"
argument_list|,
name|s
operator|->
name|s_mia_serial
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPDU_MAP
case|:
ifdef|#
directive|ifdef
name|notdef
case|case
name|SPDU_AE
case|:
comment|/* aka SPDU_MAP */
endif|#
directive|endif
if|if
condition|(
operator|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_MAP_SYNC
operator|)
operator|&&
operator|(
name|s
operator|->
name|s_map_sync
operator|&
name|MAP_SYNC_NOEND
operator|)
condition|)
block|{
name|SPDU_TYPE
argument_list|(
literal|"MAJOR SYNCHRONIZATION POINT"
argument_list|)
expr_stmt|;
name|type_bits
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
literal|"SYNC"
argument_list|,
name|s
operator|->
name|s_map_sync
argument_list|,
name|MAP_SYNC_MASK
argument_list|,
name|SMASK
argument_list|)
expr_stmt|;
block|}
else|else
name|SPDU_TYPE
argument_list|(
literal|"ACTIVITY END"
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_MAP_SERIAL
condition|)
name|type_ssn
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
literal|"SSN"
argument_list|,
name|s
operator|->
name|s_map_serial
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPDU_MAA
case|:
ifdef|#
directive|ifdef
name|notdef
case|case
name|SPDU_AEA
case|:
comment|/* aka SPDU_MAA */
endif|#
directive|endif
name|SPDU_TYPE
argument_list|(
literal|"MAJOR SYNC/ACTIVITY END ACK"
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_MAA_SERIAL
condition|)
name|type_ssn
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
literal|"SSN"
argument_list|,
name|s
operator|->
name|s_maa_serial
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPDU_RS
case|:
name|SPDU_TYPE
argument_list|(
literal|"RESYNCHRONIZE"
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_RS_SET
condition|)
name|type_settings
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
name|s
operator|->
name|s_rs_settings
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_RS_TYPE
condition|)
name|type_resync
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
name|s
operator|->
name|s_rs_type
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_RS_SSN
condition|)
name|type_ssn
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
literal|"RSN"
argument_list|,
name|s
operator|->
name|s_rs_serial
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPDU_RA
case|:
name|SPDU_TYPE
argument_list|(
literal|"RESYNCHRONIZE ACK"
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_RA_SET
condition|)
name|type_settings
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
name|s
operator|->
name|s_ra_settings
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_RA_SSN
condition|)
name|type_ssn
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
literal|"RSN"
argument_list|,
name|s
operator|->
name|s_ra_serial
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPDU_PR
case|:
name|SPDU_TYPE
argument_list|(
literal|"PREPARE"
argument_list|)
expr_stmt|;
name|type_prepare
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
name|s
operator|->
name|s_pr_type
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPDU_ER
case|:
name|SPDU_TYPE
argument_list|(
literal|"EXCEPTION REPORT"
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPDU_ED
case|:
name|SPDU_TYPE
argument_list|(
literal|"EXCEPTION DATA"
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_ED_REASON
condition|)
name|type_error
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
name|s
operator|->
name|s_ed_reason
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPDU_AS
case|:
name|SPDU_TYPE
argument_list|(
literal|"ACTIVITY START"
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_AS_ID
condition|)
block|{
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"%s"
argument_list|,
name|rw
argument_list|)
expr_stmt|;
name|type_info
argument_list|(
name|lp
argument_list|,
literal|"ID/ %d"
argument_list|,
operator|(
name|int
operator|)
name|s
operator|->
name|s_as_id
operator|.
name|sd_len
argument_list|,
name|s
operator|->
name|s_as_id
operator|.
name|sd_data
argument_list|)
expr_stmt|;
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"\n"
argument_list|)
expr_stmt|;
block|}
break|break;
case|case
name|SPDU_AR
case|:
name|SPDU_TYPE
argument_list|(
literal|"ACTIVITY RESUME"
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_AR_REF
condition|)
name|type_ref
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
operator|&
name|s
operator|->
name|s_ar_reference
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_AR_OID
condition|)
block|{
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"%s"
argument_list|,
name|rw
argument_list|)
expr_stmt|;
name|type_info
argument_list|(
name|lp
argument_list|,
literal|"OLD ID/ %d"
argument_list|,
operator|(
name|int
operator|)
name|s
operator|->
name|s_ar_oid
operator|.
name|sd_len
argument_list|,
name|s
operator|->
name|s_ar_oid
operator|.
name|sd_data
argument_list|)
expr_stmt|;
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"\n"
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_AR_SSN
condition|)
name|type_ssn
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
literal|"SSN"
argument_list|,
name|s
operator|->
name|s_ar_serial
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_AR_ID
condition|)
block|{
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"%s"
argument_list|,
name|rw
argument_list|)
expr_stmt|;
name|type_info
argument_list|(
name|lp
argument_list|,
literal|"ID/ %d"
argument_list|,
operator|(
name|int
operator|)
name|s
operator|->
name|s_ar_id
operator|.
name|sd_len
argument_list|,
name|s
operator|->
name|s_ar_id
operator|.
name|sd_data
argument_list|)
expr_stmt|;
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"\n"
argument_list|)
expr_stmt|;
block|}
break|break;
case|case
name|SPDU_AD
case|:
name|SPDU_TYPE
argument_list|(
literal|"ACTIVITY DISCARD"
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_AD_REASON
condition|)
name|type_error
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
name|s
operator|->
name|s_ad_reason
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPDU_ADA
case|:
name|SPDU_TYPE
argument_list|(
literal|"ACTIVITY DISCARD ACK"
argument_list|)
expr_stmt|;
break|break;
default|default:
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"%sCODE/ 0x%x\n"
argument_list|,
name|rw
argument_list|,
name|s
operator|->
name|s_code
argument_list|)
expr_stmt|;
break|break;
block|}
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_ENCLOSE
condition|)
name|type_bits
argument_list|(
name|lp
argument_list|,
name|rw
argument_list|,
literal|"ENCLOSURE"
argument_list|,
name|s
operator|->
name|s_enclose
argument_list|,
name|ENCL_MASK
argument_list|,
name|EMASK
argument_list|)
expr_stmt|;
if|if
condition|(
name|s
operator|->
name|s_udata
condition|)
if|if
condition|(
name|s
operator|->
name|s_code
operator|==
name|SPDU_ER
condition|)
name|type_data
argument_list|(
name|lp
argument_list|,
literal|"REFLECT"
argument_list|,
name|rw
argument_list|,
name|s
operator|->
name|s_ulen
argument_list|,
name|s
operator|->
name|s_udata
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
name|s
operator|->
name|s_mask
operator|&
name|SMASK_UDATA_PGI
condition|)
name|type_data
argument_list|(
name|lp
argument_list|,
literal|"USER"
argument_list|,
name|rw
argument_list|,
name|s
operator|->
name|s_ulen
argument_list|,
name|s
operator|->
name|s_udata
argument_list|)
expr_stmt|;
else|else
block|{
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"%sUSER INFO/ "
argument_list|,
name|rw
argument_list|)
expr_stmt|;
name|type_info
argument_list|(
name|lp
argument_list|,
literal|"%d"
argument_list|,
name|s
operator|->
name|s_ulen
argument_list|,
name|s
operator|->
name|s_udata
argument_list|)
expr_stmt|;
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"\n"
argument_list|)
expr_stmt|;
block|}
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"%s)\n"
argument_list|,
name|rw
argument_list|)
expr_stmt|;
operator|(
name|void
operator|)
name|ll_sync
argument_list|(
name|lp
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/*
comment|*/
end_comment

begin_expr_stmt
specifier|static
name|type_id
argument_list|(
argument|lp
argument_list|,
argument|type
argument_list|,
argument|rw
argument_list|,
argument|selector
argument_list|,
argument|len
argument_list|)
name|LLog
operator|*
name|lp
expr_stmt|;
end_expr_stmt

begin_decl_stmt
name|char
modifier|*
name|type
decl_stmt|,
modifier|*
name|rw
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
modifier|*
name|selector
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|len
decl_stmt|;
end_decl_stmt

begin_block
block|{
name|char
name|buffer
index|[
name|BUFSIZ
index|]
decl_stmt|;
name|buffer
index|[
name|explode
argument_list|(
name|buffer
argument_list|,
operator|(
name|u_char
operator|*
operator|)
name|selector
argument_list|,
name|len
argument_list|)
index|]
operator|=
name|NULL
expr_stmt|;
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"%s%s/ %d/\"%s\"\n"
argument_list|,
name|rw
argument_list|,
name|type
argument_list|,
name|len
argument_list|,
name|buffer
argument_list|)
expr_stmt|;
block|}
end_block

begin_expr_stmt
specifier|static
name|type_ssn
argument_list|(
argument|lp
argument_list|,
argument|rw
argument_list|,
argument|what
argument_list|,
argument|ssn
argument_list|)
name|LLog
operator|*
name|lp
expr_stmt|;
end_expr_stmt

begin_decl_stmt
name|char
modifier|*
name|rw
decl_stmt|,
modifier|*
name|what
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|u_long
name|ssn
decl_stmt|;
end_decl_stmt

begin_block
block|{
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"%s%s/ %d\n"
argument_list|,
name|rw
argument_list|,
name|what
argument_list|,
name|ssn
argument_list|)
expr_stmt|;
block|}
end_block

begin_expr_stmt
specifier|static
name|type_bits
argument_list|(
argument|lp
argument_list|,
argument|rw
argument_list|,
argument|s
argument_list|,
argument|bits
argument_list|,
argument|mask
argument_list|,
argument|t
argument_list|)
name|LLog
operator|*
name|lp
expr_stmt|;
end_expr_stmt

begin_decl_stmt
name|char
modifier|*
name|rw
decl_stmt|,
modifier|*
name|s
decl_stmt|,
modifier|*
name|t
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|u_char
name|bits
decl_stmt|,
name|mask
decl_stmt|;
end_decl_stmt

begin_block
block|{
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"%s%s/ %s"
argument_list|,
name|rw
argument_list|,
name|s
argument_list|,
name|sprintc
argument_list|(
name|bits
operator|&
name|mask
argument_list|,
name|t
argument_list|)
argument_list|)
expr_stmt|;
if|if
condition|(
name|bits
operator|&
operator|~
name|mask
condition|)
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|": illegal use of %s"
argument_list|,
name|sprintc
argument_list|(
name|bits
operator|&
operator|~
name|mask
argument_list|,
name|t
argument_list|)
argument_list|)
expr_stmt|;
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"\n"
argument_list|)
expr_stmt|;
block|}
end_block

begin_define
define|#
directive|define
name|dotoken
parameter_list|(
name|requires
parameter_list|,
name|shift
parameter_list|,
name|bit
parameter_list|,
name|type
parameter_list|)
define|\
value|{ \     token = (settings>> shift)& ST_MASK; \     (void) ll_printf (lp, " %s:%s", type, token == ST_INIT_VALUE ? "initiator" \ 	: token == ST_RESP_VALUE ? "responder" \ 	: token == ST_CALL_VALUE ? "choice" \ 	: "reserved"); \ }
end_define

begin_expr_stmt
specifier|static
name|type_settings
argument_list|(
argument|lp
argument_list|,
argument|rw
argument_list|,
argument|settings
argument_list|)
name|LLog
operator|*
name|lp
expr_stmt|;
end_expr_stmt

begin_decl_stmt
name|char
modifier|*
name|rw
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|u_char
name|settings
decl_stmt|;
end_decl_stmt

begin_block
block|{
name|int
name|token
decl_stmt|;
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"%sSETTINGS/"
argument_list|,
name|rw
argument_list|)
expr_stmt|;
name|dotokens
argument_list|()
expr_stmt|;
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"\n"
argument_list|)
expr_stmt|;
block|}
end_block

begin_undef
undef|#
directive|undef
name|dotoken
end_undef

begin_expr_stmt
specifier|static
name|type_tsdu
argument_list|(
argument|lp
argument_list|,
argument|rw
argument_list|,
argument|init
argument_list|,
argument|resp
argument_list|)
name|LLog
operator|*
name|lp
expr_stmt|;
end_expr_stmt

begin_decl_stmt
name|char
modifier|*
name|rw
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|u_short
name|init
decl_stmt|,
name|resp
decl_stmt|;
end_decl_stmt

begin_block
block|{
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"%sTSDU/ INITIATOR: %d, RESPONDER: %d\n"
argument_list|,
name|rw
argument_list|,
name|init
argument_list|,
name|resp
argument_list|)
expr_stmt|;
block|}
end_block

begin_expr_stmt
specifier|static
name|type_ref
argument_list|(
argument|lp
argument_list|,
argument|rw
argument_list|,
argument|ref
argument_list|)
name|LLog
operator|*
name|lp
expr_stmt|;
end_expr_stmt

begin_decl_stmt
name|char
modifier|*
name|rw
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|struct
name|SSAPref
modifier|*
name|ref
decl_stmt|;
end_decl_stmt

begin_block
block|{
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"%sREFERENCE/"
argument_list|,
name|rw
argument_list|)
expr_stmt|;
if|if
condition|(
name|ref
operator|->
name|sr_vlen
condition|)
name|type_info
argument_list|(
name|lp
argument_list|,
literal|"<CALLING %d"
argument_list|,
operator|(
name|int
operator|)
name|ref
operator|->
name|sr_calling_len
argument_list|,
name|ref
operator|->
name|sr_calling
argument_list|)
expr_stmt|;
else|else
name|type_info
argument_list|(
name|lp
argument_list|,
literal|"<USER %d"
argument_list|,
operator|(
name|int
operator|)
name|ref
operator|->
name|sr_ulen
argument_list|,
name|ref
operator|->
name|sr_udata
argument_list|)
expr_stmt|;
name|type_info
argument_list|(
name|lp
argument_list|,
literal|", COMMON %d"
argument_list|,
operator|(
name|int
operator|)
name|ref
operator|->
name|sr_clen
argument_list|,
name|ref
operator|->
name|sr_cdata
argument_list|)
expr_stmt|;
name|type_info
argument_list|(
name|lp
argument_list|,
literal|", ADDITIONAL %d"
argument_list|,
operator|(
name|int
operator|)
name|ref
operator|->
name|sr_alen
argument_list|,
name|ref
operator|->
name|sr_adata
argument_list|)
expr_stmt|;
if|if
condition|(
name|ref
operator|->
name|sr_vlen
condition|)
name|type_info
argument_list|(
name|lp
argument_list|,
literal|", CALLED %d"
argument_list|,
operator|(
name|int
operator|)
name|ref
operator|->
name|sr_called_len
argument_list|,
name|ref
operator|->
name|sr_called
argument_list|)
expr_stmt|;
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|">\n"
argument_list|)
expr_stmt|;
block|}
end_block

begin_expr_stmt
specifier|static
name|type_vrsn
argument_list|(
argument|lp
argument_list|,
argument|rw
argument_list|,
argument|version
argument_list|)
name|LLog
operator|*
name|lp
expr_stmt|;
end_expr_stmt

begin_decl_stmt
name|char
modifier|*
name|rw
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|u_char
name|version
decl_stmt|;
end_decl_stmt

begin_block
block|{
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"%sVERSION/ 0x%x\n"
argument_list|,
name|rw
argument_list|,
name|version
argument_list|)
expr_stmt|;
block|}
end_block

begin_expr_stmt
specifier|static
name|type_reason
argument_list|(
argument|lp
argument_list|,
argument|rw
argument_list|,
argument|reason
argument_list|)
name|LLog
operator|*
name|lp
expr_stmt|;
end_expr_stmt

begin_decl_stmt
name|char
modifier|*
name|rw
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|reason
decl_stmt|;
end_decl_stmt

begin_block
block|{
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"%sREASON/ 0x%x: %s\n"
argument_list|,
name|rw
argument_list|,
name|reason
argument_list|,
name|SErrString
argument_list|(
operator|(
name|int
operator|)
name|reason
argument_list|)
argument_list|)
expr_stmt|;
block|}
end_block

begin_expr_stmt
specifier|static
name|type_prepare
argument_list|(
argument|lp
argument_list|,
argument|rw
argument_list|,
argument|type
argument_list|)
name|LLog
operator|*
name|lp
expr_stmt|;
end_expr_stmt

begin_decl_stmt
name|char
modifier|*
name|rw
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|u_char
name|type
decl_stmt|;
end_decl_stmt

begin_block
block|{
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"%sTYPE/ "
argument_list|,
name|rw
argument_list|)
expr_stmt|;
switch|switch
condition|(
name|type
condition|)
block|{
case|case
name|PR_MAA
case|:
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"MAA"
argument_list|)
expr_stmt|;
break|break;
case|case
name|PR_RS
case|:
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"RS"
argument_list|)
expr_stmt|;
break|break;
case|case
name|PR_RA
case|:
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"RA"
argument_list|)
expr_stmt|;
break|break;
case|case
name|PR_AB
case|:
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"AB"
argument_list|)
expr_stmt|;
break|break;
default|default:
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"%d: illegal value"
argument_list|,
name|type
argument_list|)
expr_stmt|;
break|break;
block|}
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"\n"
argument_list|)
expr_stmt|;
block|}
end_block

begin_expr_stmt
specifier|static
name|type_error
argument_list|(
argument|lp
argument_list|,
argument|rw
argument_list|,
argument|reason
argument_list|)
name|LLog
operator|*
name|lp
expr_stmt|;
end_expr_stmt

begin_decl_stmt
name|char
modifier|*
name|rw
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|u_char
name|reason
decl_stmt|;
end_decl_stmt

begin_block
block|{
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"%sREASON/ "
argument_list|,
name|rw
argument_list|)
expr_stmt|;
switch|switch
condition|(
name|reason
condition|)
block|{
case|case
name|SP_NOREASON
case|:
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"No specific reason stated"
argument_list|)
expr_stmt|;
break|break;
case|case
name|SP_JEOPARDY
case|:
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"User receiving ability jeopardized"
argument_list|)
expr_stmt|;
break|break;
case|case
name|SP_SEQUENCE
case|:
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"User sequence error"
argument_list|)
expr_stmt|;
break|break;
case|case
name|SP_LOCAL
case|:
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"Local SS-user error"
argument_list|)
expr_stmt|;
break|break;
case|case
name|SP_PROCEDURAL
case|:
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"Unrecoverable procedural error"
argument_list|)
expr_stmt|;
break|break;
case|case
name|SP_DEMAND
case|:
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"Demand data token"
argument_list|)
expr_stmt|;
break|break;
default|default:
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"%d: illegal value"
argument_list|,
name|reason
argument_list|)
expr_stmt|;
break|break;
block|}
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"\n"
argument_list|)
expr_stmt|;
block|}
end_block

begin_expr_stmt
specifier|static
name|type_resync
argument_list|(
argument|lp
argument_list|,
argument|rw
argument_list|,
argument|type
argument_list|)
name|LLog
operator|*
name|lp
expr_stmt|;
end_expr_stmt

begin_decl_stmt
name|char
modifier|*
name|rw
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|u_char
name|type
decl_stmt|;
end_decl_stmt

begin_block
block|{
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"%sTYPE/ "
argument_list|,
name|rw
argument_list|)
expr_stmt|;
switch|switch
condition|(
name|type
condition|)
block|{
case|case
name|SYNC_RESTART
case|:
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"restart"
argument_list|)
expr_stmt|;
break|break;
case|case
name|SYNC_ABANDON
case|:
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"abandon"
argument_list|)
expr_stmt|;
break|break;
case|case
name|SYNC_SET
case|:
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"set"
argument_list|)
expr_stmt|;
break|break;
default|default:
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"%d: illegal value"
argument_list|,
name|type
argument_list|)
expr_stmt|;
break|break;
block|}
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"\n"
argument_list|)
expr_stmt|;
block|}
end_block

begin_expr_stmt
specifier|static
name|type_data
argument_list|(
argument|lp
argument_list|,
argument|type
argument_list|,
argument|rw
argument_list|,
argument|len
argument_list|,
argument|data
argument_list|)
name|LLog
operator|*
name|lp
expr_stmt|;
end_expr_stmt

begin_decl_stmt
name|char
modifier|*
name|type
decl_stmt|,
modifier|*
name|rw
decl_stmt|,
modifier|*
name|data
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|len
decl_stmt|;
end_decl_stmt

begin_block
block|{
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"%s%s DATA/ "
argument_list|,
name|rw
argument_list|,
name|type
argument_list|)
expr_stmt|;
name|type_info
argument_list|(
name|lp
argument_list|,
literal|"%d"
argument_list|,
name|len
argument_list|,
name|data
argument_list|)
expr_stmt|;
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|"\n"
argument_list|)
expr_stmt|;
block|}
end_block

begin_expr_stmt
specifier|static
name|type_info
argument_list|(
argument|lp
argument_list|,
argument|fmt
argument_list|,
argument|len
argument_list|,
argument|data
argument_list|)
name|LLog
operator|*
name|lp
expr_stmt|;
end_expr_stmt

begin_decl_stmt
name|char
modifier|*
name|fmt
decl_stmt|,
modifier|*
name|data
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|len
decl_stmt|;
end_decl_stmt

begin_block
block|{
name|char
name|buffer
index|[
name|BUFSIZ
index|]
decl_stmt|;
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
name|fmt
argument_list|,
name|len
argument_list|)
expr_stmt|;
if|if
condition|(
literal|0
operator|<
name|len
operator|&&
name|len
operator|<
sizeof|sizeof
name|buffer
operator|/
literal|2
condition|)
block|{
name|buffer
index|[
name|explode
argument_list|(
name|buffer
argument_list|,
operator|(
name|u_char
operator|*
operator|)
name|data
argument_list|,
name|len
argument_list|)
index|]
operator|=
name|NULL
expr_stmt|;
operator|(
name|void
operator|)
name|ll_printf
argument_list|(
name|lp
argument_list|,
literal|" %s"
argument_list|,
name|buffer
argument_list|)
expr_stmt|;
block|}
block|}
end_block

begin_comment
comment|/*
comment|*/
end_comment

begin_comment
comment|/* ARGSUSED */
end_comment

begin_function
name|void
name|text2spkt
parameter_list|(
name|s
parameter_list|)
name|struct
name|ssapkt
modifier|*
name|s
decl_stmt|;
block|{
comment|/* NOT YET IMPLEMENTED */
block|}
end_function

end_unit

