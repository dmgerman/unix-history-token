begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* Copyright (c) Stichting Mathematisch Centrum, Amsterdam, 1985. */
end_comment

begin_comment
comment|/*   $Header: b2syn.c,v 1.4 85/08/22 16:56:25 timo Exp $ */
end_comment

begin_include
include|#
directive|include
file|"b.h"
end_include

begin_include
include|#
directive|include
file|"b0con.h"
end_include

begin_include
include|#
directive|include
file|"b1obj.h"
end_include

begin_include
include|#
directive|include
file|"b2key.h"
end_include

begin_include
include|#
directive|include
file|"b2syn.h"
end_include

begin_include
include|#
directive|include
file|"b3scr.h"
end_include

begin_include
include|#
directive|include
file|"b3env.h"
end_include

begin_include
include|#
directive|include
file|"b3err.h"
end_include

begin_define
define|#
directive|define
name|TABSIZE
value|8
end_define

begin_comment
comment|/* Number of spaces assumed for a tab on a file. 		     (Some editors insist on emitting tabs wherever 		     they can, and always assume 8 spaces for a tab. 		     Even when the editor can be instructed not to 		     do this, beginning users won't know about this, 		     so we'll always assume the default tab size. 		     Advanced users who used to instruct their editor 		     to set tab stops every 4 spaces will have to 		     unlearn this habit.  But that's the price for 		     over-cleverness :-) 		     The indent increment is still 4 spaces! 		     When the B interpreter outputs text, it never uses 		     tabs but always emits 4 spaces for each indent level. 		     Note that the B editor also has a #defined constant 		     which sets the number of spaces for a tab on a file. 		     Finally the B editor *displays* indents as 3 spaces, 		     but *writes* them to the file as 4, so a neat 		     lay-out on the screen may look a bit garbled 		     when the file is printed.  Sorry.  */
end_comment

begin_decl_stmt
name|Visible
name|txptr
name|tx
decl_stmt|,
name|ceol
decl_stmt|;
end_decl_stmt

begin_function
name|Visible
name|Procedure
name|skipsp
parameter_list|(
name|tx
parameter_list|)
name|txptr
modifier|*
name|tx
decl_stmt|;
block|{
while|while
condition|(
name|Space
argument_list|(
name|Char
argument_list|(
operator|*
name|tx
argument_list|)
argument_list|)
condition|)
operator|(
operator|*
name|tx
operator|)
operator|++
expr_stmt|;
block|}
end_function

begin_function
name|Visible
name|bool
name|keymark
parameter_list|(
name|c
parameter_list|)
name|char
name|c
decl_stmt|;
block|{
return|return
name|Cap
argument_list|(
name|c
argument_list|)
operator|||
name|Dig
argument_list|(
name|c
argument_list|)
operator|||
name|c
operator|==
literal|'\''
operator|||
name|c
operator|==
literal|'"'
return|;
block|}
end_function

begin_function
name|Hidden
name|bool
name|tagmark
parameter_list|(
name|c
parameter_list|)
name|char
name|c
decl_stmt|;
block|{
return|return
name|Letter
argument_list|(
name|c
argument_list|)
operator|||
name|Dig
argument_list|(
name|c
argument_list|)
operator|||
name|c
operator|==
literal|'\''
operator|||
name|c
operator|==
literal|'"'
return|;
block|}
end_function

begin_function
name|Hidden
name|bool
name|keytagmark
parameter_list|(
name|c
parameter_list|)
name|char
name|c
decl_stmt|;
block|{
return|return
name|keymark
argument_list|(
name|c
argument_list|)
operator|||
name|Letter
argument_list|(
name|c
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|is_expr
parameter_list|(
name|c
parameter_list|)
name|char
name|c
decl_stmt|;
block|{
return|return
name|Letter
argument_list|(
name|c
argument_list|)
operator|||
name|c
operator|==
literal|'('
operator|||
name|Dig
argument_list|(
name|c
argument_list|)
operator|||
name|c
operator|==
literal|'.'
operator|||
name|c
operator|==
literal|'\''
operator|||
name|c
operator|==
literal|'"'
operator|||
name|c
operator|==
literal|'{'
operator|||
name|c
operator|==
literal|'~'
operator|||
name|c
operator|==
literal|'*'
operator|||
name|c
operator|==
literal|'/'
operator|||
name|c
operator|==
literal|'+'
operator|||
name|c
operator|==
literal|'-'
operator|||
name|c
operator|==
literal|'#'
return|;
block|}
end_function

begin_comment
comment|/* ******************************************************************** */
end_comment

begin_comment
comment|/*		cr_text							*/
end_comment

begin_comment
comment|/* ******************************************************************** */
end_comment

begin_function
name|Visible
name|value
name|cr_text
parameter_list|(
name|p
parameter_list|,
name|q
parameter_list|)
name|txptr
name|p
decl_stmt|,
name|q
decl_stmt|;
block|{
comment|/* Messes with the input line, which is a bit nasty, 	   but considered preferable to copying to a separate buffer */
name|value
name|t
decl_stmt|;
name|char
name|save
init|=
name|Char
argument_list|(
name|q
argument_list|)
decl_stmt|;
name|Char
argument_list|(
name|q
argument_list|)
operator|=
literal|'\0'
expr_stmt|;
name|t
operator|=
name|mk_text
argument_list|(
name|p
argument_list|)
expr_stmt|;
name|Char
argument_list|(
name|q
argument_list|)
operator|=
name|save
expr_stmt|;
return|return
name|t
return|;
block|}
end_function

begin_comment
comment|/* ******************************************************************** */
end_comment

begin_comment
comment|/*		find, findceol, req, findrel				*/
end_comment

begin_comment
comment|/* ******************************************************************** */
end_comment

begin_define
define|#
directive|define
name|Ptr
value|(*ftx)
end_define

begin_define
define|#
directive|define
name|Nokeymark
value|'+'
end_define

begin_function
name|Hidden
name|bool
name|E_number
parameter_list|(
name|tx
parameter_list|)
name|txptr
name|tx
decl_stmt|;
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'E'
operator|&&
name|Dig
argument_list|(
name|Char
argument_list|(
name|tx
operator|+
literal|1
argument_list|)
argument_list|)
operator|&&
operator|(
name|Dig
argument_list|(
name|Char
argument_list|(
name|tx
operator|-
literal|1
argument_list|)
argument_list|)
operator|||
name|Char
argument_list|(
name|tx
operator|-
literal|1
argument_list|)
operator|==
literal|'.'
operator|)
return|;
block|}
end_function

begin_function
name|Hidden
name|bool
name|search
parameter_list|(
name|find_kw
parameter_list|,
name|s
parameter_list|,
name|q
parameter_list|,
name|ftx
parameter_list|,
name|ttx
parameter_list|)
name|bool
name|find_kw
decl_stmt|;
name|string
name|s
decl_stmt|;
name|txptr
name|q
decl_stmt|,
decl|*
name|ftx
decl_stmt|,
modifier|*
name|ttx
decl_stmt|;
end_function

begin_block
block|{
name|intlet
name|parcnt
init|=
literal|0
decl_stmt|;
name|bool
name|outs
init|=
name|Yes
decl_stmt|,
name|kw
init|=
name|No
decl_stmt|;
name|char
name|aq
decl_stmt|,
name|lc
init|=
name|Nokeymark
decl_stmt|;
while|while
condition|(
name|Ptr
operator|<
name|q
condition|)
block|{
if|if
condition|(
name|outs
condition|)
block|{
if|if
condition|(
name|parcnt
operator|==
literal|0
condition|)
block|{
if|if
condition|(
name|find_kw
condition|)
block|{
if|if
condition|(
name|Cap
argument_list|(
name|Char
argument_list|(
name|Ptr
argument_list|)
argument_list|)
operator|&&
operator|!
name|E_number
argument_list|(
name|Ptr
argument_list|)
condition|)
return|return
name|Yes
return|;
block|}
elseif|else
if|if
condition|(
name|Char
argument_list|(
name|Ptr
argument_list|)
operator|==
operator|*
name|s
condition|)
block|{
name|string
name|t
init|=
name|s
operator|+
literal|1
decl_stmt|;
operator|*
name|ttx
operator|=
name|Ptr
operator|+
literal|1
expr_stmt|;
while|while
condition|(
operator|*
name|t
operator|&&
operator|*
name|ttx
operator|<
name|q
condition|)
block|{
if|if
condition|(
operator|*
name|t
operator|!=
name|Char
argument_list|(
operator|*
name|ttx
argument_list|)
condition|)
break|break;
else|else
block|{
name|t
operator|++
expr_stmt|;
operator|(
operator|*
name|ttx
operator|)
operator|++
expr_stmt|;
block|}
block|}
if|if
condition|(
operator|*
name|t
condition|)
empty_stmt|;
elseif|else
if|if
condition|(
name|Cap
argument_list|(
operator|*
name|s
argument_list|)
operator|&&
operator|(
name|kw
operator|||
name|keymark
argument_list|(
name|Char
argument_list|(
operator|*
name|ttx
argument_list|)
argument_list|)
operator|)
condition|)
empty_stmt|;
else|else
return|return
name|Yes
return|;
block|}
block|}
switch|switch
condition|(
name|Char
argument_list|(
name|Ptr
argument_list|)
condition|)
block|{
case|case
literal|'('
case|:
case|case
literal|'{'
case|:
case|case
literal|'['
case|:
name|parcnt
operator|++
expr_stmt|;
break|break;
case|case
literal|')'
case|:
case|case
literal|'}'
case|:
case|case
literal|']'
case|:
if|if
condition|(
name|parcnt
operator|>
literal|0
condition|)
name|parcnt
operator|--
expr_stmt|;
break|break;
case|case
literal|'\''
case|:
case|case
literal|'"'
case|:
if|if
condition|(
operator|!
name|keytagmark
argument_list|(
name|lc
argument_list|)
condition|)
block|{
name|outs
operator|=
name|No
expr_stmt|;
name|aq
operator|=
name|Char
argument_list|(
name|Ptr
argument_list|)
expr_stmt|;
block|}
break|break;
default|default:
break|break;
block|}
name|lc
operator|=
name|Char
argument_list|(
name|Ptr
argument_list|)
expr_stmt|;
name|kw
operator|=
name|kw
condition|?
name|keymark
argument_list|(
name|lc
argument_list|)
else|:
name|Cap
argument_list|(
name|lc
argument_list|)
expr_stmt|;
block|}
else|else
block|{
if|if
condition|(
name|Char
argument_list|(
name|Ptr
argument_list|)
operator|==
name|aq
condition|)
block|{
name|outs
operator|=
name|Yes
expr_stmt|;
name|kw
operator|=
name|No
expr_stmt|;
name|lc
operator|=
name|Nokeymark
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|Char
argument_list|(
name|Ptr
argument_list|)
operator|==
literal|'`'
condition|)
block|{
name|Ptr
operator|++
expr_stmt|;
if|if
condition|(
operator|!
name|search
argument_list|(
name|No
argument_list|,
literal|"`"
argument_list|,
name|q
argument_list|,
operator|&
name|Ptr
argument_list|,
name|ttx
argument_list|)
condition|)
return|return
name|No
return|;
block|}
block|}
name|Ptr
operator|++
expr_stmt|;
block|}
return|return
name|No
return|;
block|}
end_block

begin_comment
comment|/* ********************************************************************	*/
end_comment

begin_function
name|Visible
name|bool
name|find
parameter_list|(
name|s
parameter_list|,
name|q
parameter_list|,
name|ftx
parameter_list|,
name|ttx
parameter_list|)
name|string
name|s
decl_stmt|;
name|txptr
name|q
decl_stmt|,
decl|*
name|ftx
decl_stmt|,
modifier|*
name|ttx
decl_stmt|;
end_function

begin_block
block|{
return|return
name|search
argument_list|(
name|No
argument_list|,
name|s
argument_list|,
name|q
argument_list|,
operator|(
operator|*
name|ftx
operator|=
name|tx
operator|,
name|ftx
operator|)
argument_list|,
name|ttx
argument_list|)
return|;
block|}
end_block

begin_function_decl
name|Forward
name|txptr
name|lcol
parameter_list|()
function_decl|;
end_function_decl

begin_function
name|Visible
name|Procedure
name|findceol
parameter_list|()
block|{
name|txptr
name|q
init|=
name|lcol
argument_list|()
decl_stmt|,
name|ttx
decl_stmt|;
if|if
condition|(
operator|!
name|find
argument_list|(
literal|"\\"
argument_list|,
name|q
argument_list|,
operator|&
name|ceol
argument_list|,
operator|&
name|ttx
argument_list|)
condition|)
name|ceol
operator|=
name|q
expr_stmt|;
block|}
end_function

begin_function
name|Visible
name|Procedure
name|req
parameter_list|(
name|s
parameter_list|,
name|q
parameter_list|,
name|ftx
parameter_list|,
name|ttx
parameter_list|)
name|string
name|s
decl_stmt|;
name|txptr
name|q
decl_stmt|,
decl|*
name|ftx
decl_stmt|,
modifier|*
name|ttx
decl_stmt|;
end_function

begin_block
block|{
if|if
condition|(
operator|!
name|find
argument_list|(
name|s
argument_list|,
name|q
argument_list|,
name|ftx
argument_list|,
name|ttx
argument_list|)
condition|)
block|{
name|parerr2
argument_list|(
name|MESS
argument_list|(
literal|2400
argument_list|,
literal|"cannot find expected "
argument_list|)
argument_list|,
name|MESSMAKE
argument_list|(
name|s
argument_list|)
argument_list|)
expr_stmt|;
operator|*
name|ftx
operator|=
name|tx
expr_stmt|;
operator|*
name|ttx
operator|=
name|q
expr_stmt|;
block|}
block|}
end_block

begin_function
name|Hidden
name|bool
name|relsearch
parameter_list|(
name|s
parameter_list|,
name|q
parameter_list|,
name|ftx
parameter_list|)
name|string
name|s
decl_stmt|;
name|txptr
name|q
decl_stmt|,
decl|*
name|ftx
decl_stmt|;
end_function

begin_block
block|{
name|txptr
name|ttx
decl_stmt|;
name|Ptr
operator|=
name|tx
expr_stmt|;
while|while
condition|(
name|search
argument_list|(
name|No
argument_list|,
name|s
argument_list|,
name|q
argument_list|,
operator|&
name|Ptr
argument_list|,
operator|&
name|ttx
argument_list|)
condition|)
switch|switch
condition|(
name|Char
argument_list|(
name|Ptr
argument_list|)
condition|)
block|{
case|case
literal|'<'
case|:
if|if
condition|(
name|Char
argument_list|(
name|Ptr
operator|+
literal|1
argument_list|)
operator|==
literal|'<'
condition|)
name|Ptr
operator|=
operator|++
name|ttx
expr_stmt|;
elseif|else
if|if
condition|(
name|Char
argument_list|(
name|Ptr
operator|-
literal|1
argument_list|)
operator|==
literal|'>'
condition|)
name|Ptr
operator|=
name|ttx
expr_stmt|;
else|else
return|return
name|Yes
return|;
break|break;
case|case
literal|'>'
case|:
if|if
condition|(
name|Char
argument_list|(
name|Ptr
operator|+
literal|1
argument_list|)
operator|==
literal|'<'
condition|)
name|Ptr
operator|=
operator|++
name|ttx
expr_stmt|;
elseif|else
if|if
condition|(
name|Char
argument_list|(
name|Ptr
operator|+
literal|1
argument_list|)
operator|==
literal|'>'
condition|)
name|Ptr
operator|=
operator|++
name|ttx
expr_stmt|;
else|else
return|return
name|Yes
return|;
break|break;
case|case
literal|'='
case|:
return|return
name|Yes
return|;
default|default:
return|return
name|No
return|;
block|}
return|return
name|No
return|;
block|}
end_block

begin_function
name|Visible
name|bool
name|findrel
parameter_list|(
name|q
parameter_list|,
name|ftx
parameter_list|)
name|txptr
name|q
decl_stmt|,
decl|*
name|ftx
decl_stmt|;
end_function

begin_block
block|{
name|txptr
name|ttx
decl_stmt|;
name|Ptr
operator|=
name|q
expr_stmt|;
if|if
condition|(
name|relsearch
argument_list|(
literal|"<"
argument_list|,
name|Ptr
argument_list|,
operator|&
name|ttx
argument_list|)
condition|)
name|Ptr
operator|=
name|ttx
expr_stmt|;
if|if
condition|(
name|relsearch
argument_list|(
literal|">"
argument_list|,
name|Ptr
argument_list|,
operator|&
name|ttx
argument_list|)
condition|)
name|Ptr
operator|=
name|ttx
expr_stmt|;
if|if
condition|(
name|relsearch
argument_list|(
literal|"="
argument_list|,
name|Ptr
argument_list|,
operator|&
name|ttx
argument_list|)
condition|)
name|Ptr
operator|=
name|ttx
expr_stmt|;
return|return
name|Ptr
operator|<
name|q
return|;
block|}
end_block

begin_comment
comment|/* ******************************************************************** */
end_comment

begin_comment
comment|/*		tag, keyword, findkw					*/
end_comment

begin_comment
comment|/* ******************************************************************** */
end_comment

begin_function
name|Visible
name|bool
name|is_tag
parameter_list|(
name|v
parameter_list|)
name|value
modifier|*
name|v
decl_stmt|;
block|{
if|if
condition|(
operator|!
name|Letter
argument_list|(
name|Char
argument_list|(
name|tx
argument_list|)
argument_list|)
condition|)
return|return
name|No
return|;
operator|*
name|v
operator|=
name|tag
argument_list|()
expr_stmt|;
return|return
name|Yes
return|;
block|}
end_function

begin_function
name|Visible
name|value
name|tag
parameter_list|()
block|{
name|txptr
name|tx0
init|=
name|tx
decl_stmt|;
if|if
condition|(
operator|!
name|Letter
argument_list|(
name|Char
argument_list|(
name|tx
argument_list|)
argument_list|)
condition|)
name|parerr
argument_list|(
name|MESS
argument_list|(
literal|2401
argument_list|,
literal|"no tag where expected"
argument_list|)
argument_list|)
expr_stmt|;
while|while
condition|(
name|tagmark
argument_list|(
name|Char
argument_list|(
name|tx
argument_list|)
argument_list|)
condition|)
name|tx
operator|++
expr_stmt|;
return|return
name|cr_text
argument_list|(
name|tx0
argument_list|,
name|tx
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|is_keyword
parameter_list|(
name|v
parameter_list|)
name|value
modifier|*
name|v
decl_stmt|;
block|{
if|if
condition|(
operator|!
name|Cap
argument_list|(
name|Char
argument_list|(
name|tx
argument_list|)
argument_list|)
condition|)
return|return
name|No
return|;
operator|*
name|v
operator|=
name|keyword
argument_list|()
expr_stmt|;
return|return
name|Yes
return|;
block|}
end_function

begin_function
name|Visible
name|value
name|keyword
parameter_list|()
block|{
name|txptr
name|tx0
init|=
name|tx
decl_stmt|;
if|if
condition|(
operator|!
name|Cap
argument_list|(
name|Char
argument_list|(
name|tx
argument_list|)
argument_list|)
condition|)
name|parerr
argument_list|(
name|MESS
argument_list|(
literal|2402
argument_list|,
literal|"no keyword where expected"
argument_list|)
argument_list|)
expr_stmt|;
while|while
condition|(
name|keymark
argument_list|(
name|Char
argument_list|(
name|tx
argument_list|)
argument_list|)
condition|)
name|tx
operator|++
expr_stmt|;
return|return
name|cr_text
argument_list|(
name|tx0
argument_list|,
name|tx
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|findkw
parameter_list|(
name|q
parameter_list|,
name|ftx
parameter_list|)
name|txptr
name|q
decl_stmt|,
decl|*
name|ftx
decl_stmt|;
end_function

begin_block
block|{
name|txptr
name|ttx
decl_stmt|;
name|Ptr
operator|=
name|tx
expr_stmt|;
return|return
name|search
argument_list|(
name|Yes
argument_list|,
literal|""
argument_list|,
name|q
argument_list|,
operator|&
name|Ptr
argument_list|,
operator|&
name|ttx
argument_list|)
return|;
block|}
end_block

begin_comment
comment|/* ******************************************************************** */
end_comment

begin_comment
comment|/*		upto, nothing, ateol, atkw, need			*/
end_comment

begin_comment
comment|/* ******************************************************************** */
end_comment

begin_function
name|Visible
name|Procedure
name|upto
parameter_list|(
name|q
parameter_list|,
name|s
parameter_list|)
name|txptr
name|q
decl_stmt|;
name|string
name|s
decl_stmt|;
block|{
name|skipsp
argument_list|(
operator|&
name|tx
argument_list|)
expr_stmt|;
if|if
condition|(
name|Text
argument_list|(
name|q
argument_list|)
condition|)
block|{
name|parerr2
argument_list|(
name|MESS
argument_list|(
literal|2403
argument_list|,
literal|"something unexpected following "
argument_list|)
argument_list|,
name|MESSMAKE
argument_list|(
name|s
argument_list|)
argument_list|)
expr_stmt|;
name|tx
operator|=
name|q
expr_stmt|;
block|}
block|}
end_function

begin_function
name|Visible
name|bool
name|nothing
parameter_list|(
name|q
parameter_list|,
name|s
parameter_list|)
name|txptr
name|q
decl_stmt|;
name|string
name|s
decl_stmt|;
block|{
if|if
condition|(
operator|!
name|Text
argument_list|(
name|q
argument_list|)
condition|)
block|{
if|if
condition|(
name|Char
argument_list|(
name|tx
operator|-
literal|1
argument_list|)
operator|==
literal|' '
condition|)
name|tx
operator|--
expr_stmt|;
name|parerr2
argument_list|(
name|MESS
argument_list|(
literal|2404
argument_list|,
literal|"nothing instead of expected "
argument_list|)
argument_list|,
name|MESSMAKE
argument_list|(
name|s
argument_list|)
argument_list|)
expr_stmt|;
return|return
name|Yes
return|;
block|}
return|return
name|No
return|;
block|}
end_function

begin_decl_stmt
name|Hidden
name|bool
name|looked_ahead
init|=
name|No
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|Visible
name|intlet
name|cur_ilev
decl_stmt|;
end_decl_stmt

begin_function
name|Visible
name|bool
name|ateol
parameter_list|()
block|{
if|if
condition|(
name|looked_ahead
condition|)
return|return
name|Yes
return|;
name|skipsp
argument_list|(
operator|&
name|tx
argument_list|)
expr_stmt|;
return|return
name|Eol
argument_list|(
name|tx
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|atkw
parameter_list|(
name|s
parameter_list|)
name|string
name|s
decl_stmt|;
block|{
name|txptr
name|tx0
init|=
name|tx
decl_stmt|;
while|while
condition|(
operator|*
name|s
condition|)
if|if
condition|(
operator|*
name|s
operator|++
operator|!=
name|Char
argument_list|(
name|tx0
operator|++
argument_list|)
condition|)
return|return
name|No
return|;
if|if
condition|(
name|keymark
argument_list|(
name|Char
argument_list|(
name|tx0
argument_list|)
argument_list|)
condition|)
return|return
name|No
return|;
name|tx
operator|=
name|tx0
expr_stmt|;
return|return
name|Yes
return|;
block|}
end_function

begin_function
name|Visible
name|Procedure
name|need
parameter_list|(
name|s
parameter_list|)
name|string
name|s
decl_stmt|;
block|{
name|string
name|t
init|=
name|s
decl_stmt|;
name|skipsp
argument_list|(
operator|&
name|tx
argument_list|)
expr_stmt|;
while|while
condition|(
operator|*
name|t
condition|)
if|if
condition|(
operator|*
name|t
operator|++
operator|!=
name|Char
argument_list|(
name|tx
operator|++
argument_list|)
condition|)
block|{
name|tx
operator|--
expr_stmt|;
name|parerr2
argument_list|(
name|MESS
argument_list|(
literal|2405
argument_list|,
literal|"according to the syntax I expected "
argument_list|)
argument_list|,
name|MESSMAKE
argument_list|(
name|s
argument_list|)
argument_list|)
expr_stmt|;
return|return;
block|}
block|}
end_function

begin_comment
comment|/* ******************************************************************** */
end_comment

begin_comment
comment|/*		buffer handling						*/
end_comment

begin_comment
comment|/* ******************************************************************** */
end_comment

begin_decl_stmt
name|Visible
name|txptr
name|first_col
decl_stmt|;
end_decl_stmt

begin_function
name|Visible
name|txptr
name|fcol
parameter_list|()
block|{
comment|/* the first position of the current line */
return|return
name|first_col
return|;
block|}
end_function

begin_function
name|Hidden
name|txptr
name|lcol
parameter_list|()
block|{
comment|/* the position beyond the last character of the line */
name|txptr
name|ax
init|=
name|tx
decl_stmt|;
while|while
condition|(
operator|!
name|Eol
argument_list|(
name|ax
argument_list|)
condition|)
name|ax
operator|++
expr_stmt|;
return|return
name|ax
return|;
block|}
end_function

begin_function
name|Visible
name|intlet
name|ilev
parameter_list|()
block|{
name|intlet
name|i
decl_stmt|;
if|if
condition|(
name|looked_ahead
condition|)
block|{
name|looked_ahead
operator|=
name|No
expr_stmt|;
return|return
name|cur_ilev
return|;
block|}
else|else
block|{
name|first_col
operator|=
name|tx
operator|=
name|getline
argument_list|()
expr_stmt|;
name|looked_ahead
operator|=
name|No
expr_stmt|;
name|lino
operator|++
expr_stmt|;
name|f_lino
operator|++
expr_stmt|;
name|i
operator|=
literal|0
expr_stmt|;
while|while
condition|(
name|Space
argument_list|(
name|Char
argument_list|(
name|tx
argument_list|)
argument_list|)
condition|)
if|if
condition|(
name|Char
argument_list|(
name|tx
operator|++
argument_list|)
operator|==
literal|' '
condition|)
name|i
operator|++
expr_stmt|;
else|else
name|i
operator|=
operator|(
name|i
operator|/
name|TABSIZE
operator|+
literal|1
operator|)
operator|*
name|TABSIZE
expr_stmt|;
if|if
condition|(
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'\\'
condition|)
return|return
name|cur_ilev
operator|=
literal|0
return|;
if|if
condition|(
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'\n'
condition|)
return|return
name|cur_ilev
operator|=
literal|0
return|;
if|if
condition|(
name|i
operator|%
literal|4
operator|==
literal|2
condition|)
name|parerr
argument_list|(
name|MESS
argument_list|(
literal|2406
argument_list|,
literal|"cannot make out indentation; use tab to indent"
argument_list|)
argument_list|)
expr_stmt|;
return|return
name|cur_ilev
operator|=
operator|(
name|i
operator|+
literal|1
operator|)
operator|/
literal|4
return|;
comment|/* small deviation accepted */
block|}
block|}
end_function

begin_function
name|Visible
name|Procedure
name|veli
parameter_list|()
block|{
comment|/* After a look-ahead call of ilev */
name|looked_ahead
operator|=
name|Yes
expr_stmt|;
block|}
end_function

begin_function
name|Visible
name|Procedure
name|first_ilev
parameter_list|()
block|{
comment|/* initialise read buffer for new input */
name|looked_ahead
operator|=
name|No
expr_stmt|;
name|VOID
name|ilev
parameter_list|()
function_decl|;
name|findceol
argument_list|()
expr_stmt|;
block|}
end_function

begin_comment
comment|/* ********************************************************************	*/
end_comment

begin_comment
comment|/* The reserved keywords that a user command may not begin with: */
end_comment

begin_decl_stmt
name|Visible
name|value
name|kwlist
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|Hidden
name|string
name|kwtab
index|[]
init|=
block|{
name|K_SHARE
block|,
name|K_CHECK
block|,
name|K_CHOOSE
block|,
name|K_DELETE
block|,
name|K_DRAW
block|,
name|K_FAIL
block|,
name|K_FOR
block|,
name|K_HOW_TO
block|,
name|K_IF
block|,
name|K_INSERT
block|,
name|K_PUT
block|,
name|K_QUIT
block|,
name|K_READ
block|,
name|K_REMOVE
block|,
name|K_REPORT
block|,
name|K_RETURN
block|,
name|K_SELECT
block|,
name|K_SET_RANDOM
block|,
name|K_SUCCEED
block|,
name|K_TEST
block|,
name|K_WHILE
block|,
name|K_WRITE
block|,
name|K_YIELD
block|,
name|K_ELSE
block|,
literal|""
block|}
decl_stmt|;
end_decl_stmt

begin_function
name|Visible
name|Procedure
name|initsyn
parameter_list|()
block|{
name|value
name|v
decl_stmt|;
name|string
modifier|*
name|kw
decl_stmt|;
name|kwlist
operator|=
name|mk_elt
argument_list|()
expr_stmt|;
for|for
control|(
name|kw
operator|=
name|kwtab
init|;
operator|*
operator|*
name|kw
operator|!=
literal|'\0'
condition|;
name|kw
operator|++
control|)
block|{
name|insert
argument_list|(
name|v
operator|=
name|mk_text
argument_list|(
operator|*
name|kw
argument_list|)
argument_list|,
operator|&
name|kwlist
argument_list|)
expr_stmt|;
name|release
argument_list|(
name|v
argument_list|)
expr_stmt|;
block|}
block|}
end_function

begin_function
name|Visible
name|Procedure
name|endsyn
parameter_list|()
block|{
name|release
argument_list|(
name|kwlist
argument_list|)
expr_stmt|;
name|kwlist
operator|=
name|Vnil
expr_stmt|;
block|}
end_function

begin_comment
comment|/* ******************************************************************** */
end_comment

begin_comment
comment|/*		signs							*/
end_comment

begin_comment
comment|/* ********************************************************************	*/
end_comment

begin_decl_stmt
name|Visible
name|string
name|textsign
decl_stmt|;
end_decl_stmt

begin_function
name|Hidden
name|bool
name|la_denum
parameter_list|(
name|tx0
parameter_list|)
name|txptr
name|tx0
decl_stmt|;
block|{
name|char
name|l
decl_stmt|,
name|r
decl_stmt|;
switch|switch
condition|(
name|l
operator|=
name|Char
argument_list|(
operator|++
name|tx0
argument_list|)
condition|)
block|{
case|case
literal|'/'
case|:
name|r
operator|=
literal|'*'
expr_stmt|;
break|break;
case|case
literal|'*'
case|:
name|r
operator|=
literal|'/'
expr_stmt|;
break|break;
default|default:
return|return
name|Yes
return|;
block|}
do|do
if|if
condition|(
name|Char
argument_list|(
operator|++
name|tx0
argument_list|)
operator|!=
name|r
condition|)
return|return
name|No
return|;
do|while
condition|(
name|Char
argument_list|(
operator|++
name|tx0
argument_list|)
operator|==
name|l
condition|)
do|;
return|return
name|Yes
return|;
block|}
end_function

begin_ifdef
ifdef|#
directive|ifdef
name|NOT_USED
end_ifdef

begin_function
name|Visible
name|bool
name|colon_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|':'
condition|?
operator|(
name|tx
operator|++
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_function
name|Visible
name|bool
name|comment_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'\\'
condition|?
operator|(
name|tx
operator|++
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|nwl_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'/'
operator|&&
operator|!
name|la_denum
argument_list|(
name|tx
operator|-
literal|1
argument_list|)
condition|?
operator|(
name|tx
operator|++
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|open_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'('
condition|?
operator|(
name|tx
operator|++
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_ifdef
ifdef|#
directive|ifdef
name|NOT_USED
end_ifdef

begin_function
name|Visible
name|bool
name|close_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|')'
condition|?
operator|(
name|tx
operator|++
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_ifdef
ifdef|#
directive|ifdef
name|NOT_USED
end_ifdef

begin_function
name|Visible
name|bool
name|comma_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|','
condition|?
operator|(
name|tx
operator|++
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_function
name|Visible
name|bool
name|point_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'.'
condition|?
operator|(
name|tx
operator|++
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|apostrophe_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'\''
condition|?
operator|(
name|tx
operator|++
operator|,
name|textsign
operator|=
literal|"'"
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|quote_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'"'
condition|?
operator|(
name|tx
operator|++
operator|,
name|textsign
operator|=
literal|"\""
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|conv_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'`'
condition|?
operator|(
name|tx
operator|++
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|curlyopen_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'{'
condition|?
operator|(
name|tx
operator|++
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|curlyclose_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'}'
condition|?
operator|(
name|tx
operator|++
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|sub_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'['
condition|?
operator|(
name|tx
operator|++
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_ifdef
ifdef|#
directive|ifdef
name|NOT_USED
end_ifdef

begin_function
name|Visible
name|bool
name|bus_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|']'
condition|?
operator|(
name|tx
operator|++
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_function
name|Visible
name|bool
name|behead_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'@'
condition|?
operator|(
name|tx
operator|++
operator|,
name|textsign
operator|=
literal|"@"
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|curtl_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'|'
condition|?
operator|(
name|tx
operator|++
operator|,
name|textsign
operator|=
literal|"|"
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|about_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'~'
condition|?
operator|(
name|tx
operator|++
operator|,
name|textsign
operator|=
literal|"~"
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|plus_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'+'
condition|?
operator|(
name|tx
operator|++
operator|,
name|textsign
operator|=
literal|"+"
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|minus_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'-'
condition|?
operator|(
name|tx
operator|++
operator|,
name|textsign
operator|=
literal|"-"
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|times_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'*'
operator|&&
name|la_denum
argument_list|(
name|tx
argument_list|)
condition|?
operator|(
name|tx
operator|++
operator|,
name|textsign
operator|=
literal|"*"
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|over_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'/'
operator|&&
name|la_denum
argument_list|(
name|tx
argument_list|)
condition|?
operator|(
name|tx
operator|++
operator|,
name|textsign
operator|=
literal|"/"
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|power_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'*'
operator|&&
name|Char
argument_list|(
name|tx
operator|+
literal|1
argument_list|)
operator|==
literal|'*'
operator|&&
name|la_denum
argument_list|(
name|tx
operator|+
literal|1
argument_list|)
condition|?
operator|(
name|tx
operator|+=
literal|2
operator|,
name|textsign
operator|=
literal|"**"
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|numtor_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'*'
operator|&&
name|Char
argument_list|(
name|tx
operator|+
literal|1
argument_list|)
operator|==
literal|'/'
operator|&&
name|la_denum
argument_list|(
name|tx
operator|+
literal|1
argument_list|)
condition|?
operator|(
name|tx
operator|+=
literal|2
operator|,
name|textsign
operator|=
literal|"*/"
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|denomtor_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'/'
operator|&&
name|Char
argument_list|(
name|tx
operator|+
literal|1
argument_list|)
operator|==
literal|'*'
operator|&&
name|la_denum
argument_list|(
name|tx
operator|+
literal|1
argument_list|)
condition|?
operator|(
name|tx
operator|+=
literal|2
operator|,
name|textsign
operator|=
literal|"/*"
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|join_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'^'
operator|&&
name|Char
argument_list|(
name|tx
operator|+
literal|1
argument_list|)
operator|!=
literal|'^'
condition|?
operator|(
name|tx
operator|++
operator|,
name|textsign
operator|=
literal|"^"
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|reptext_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'^'
operator|&&
name|Char
argument_list|(
name|tx
operator|+
literal|1
argument_list|)
operator|==
literal|'^'
condition|?
operator|(
name|tx
operator|+=
literal|2
operator|,
name|textsign
operator|=
literal|"^^"
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|leftadj_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'<'
operator|&&
name|Char
argument_list|(
name|tx
operator|+
literal|1
argument_list|)
operator|==
literal|'<'
condition|?
operator|(
name|tx
operator|+=
literal|2
operator|,
name|textsign
operator|=
literal|"<<"
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|center_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'>'
operator|&&
name|Char
argument_list|(
name|tx
operator|+
literal|1
argument_list|)
operator|==
literal|'<'
condition|?
operator|(
name|tx
operator|+=
literal|2
operator|,
name|textsign
operator|=
literal|"><"
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|rightadj_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'>'
operator|&&
name|Char
argument_list|(
name|tx
operator|+
literal|1
argument_list|)
operator|==
literal|'>'
condition|?
operator|(
name|tx
operator|+=
literal|2
operator|,
name|textsign
operator|=
literal|">>"
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|number_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'#'
condition|?
operator|(
name|tx
operator|++
operator|,
name|textsign
operator|=
literal|"#"
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|less_than_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'<'
operator|&&
name|Char
argument_list|(
name|tx
operator|+
literal|1
argument_list|)
operator|!=
literal|'='
operator|&&
name|Char
argument_list|(
name|tx
operator|+
literal|1
argument_list|)
operator|!=
literal|'>'
operator|&&
name|Char
argument_list|(
name|tx
operator|+
literal|1
argument_list|)
operator|!=
literal|'<'
condition|?
operator|(
name|tx
operator|++
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|at_most_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'<'
operator|&&
name|Char
argument_list|(
name|tx
operator|+
literal|1
argument_list|)
operator|==
literal|'='
condition|?
operator|(
name|tx
operator|+=
literal|2
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|equals_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'='
condition|?
operator|(
name|tx
operator|++
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|unequal_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'<'
operator|&&
name|Char
argument_list|(
name|tx
operator|+
literal|1
argument_list|)
operator|==
literal|'>'
condition|?
operator|(
name|tx
operator|+=
literal|2
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|at_least_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'>'
operator|&&
name|Char
argument_list|(
name|tx
operator|+
literal|1
argument_list|)
operator|==
literal|'='
condition|?
operator|(
name|tx
operator|+=
literal|2
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|greater_than_sign
parameter_list|()
block|{
return|return
name|Char
argument_list|(
name|tx
argument_list|)
operator|==
literal|'>'
operator|&&
name|Char
argument_list|(
name|tx
operator|+
literal|1
argument_list|)
operator|!=
literal|'='
operator|&&
name|Char
argument_list|(
name|tx
operator|+
literal|1
argument_list|)
operator|!=
literal|'>'
operator|&&
name|Char
argument_list|(
name|tx
operator|+
literal|1
argument_list|)
operator|!=
literal|'<'
condition|?
operator|(
name|tx
operator|++
operator|,
name|Yes
operator|)
else|:
name|No
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|dyamon_sign
parameter_list|()
block|{
return|return
name|plus_sign
argument_list|()
operator|||
name|minus_sign
argument_list|()
operator|||
name|number_sign
argument_list|()
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|dya_sign
parameter_list|()
block|{
return|return
name|times_sign
argument_list|()
operator|||
name|over_sign
argument_list|()
operator|||
name|power_sign
argument_list|()
operator|||
name|join_sign
argument_list|()
operator|||
name|reptext_sign
argument_list|()
operator|||
name|leftadj_sign
argument_list|()
operator|||
name|center_sign
argument_list|()
operator|||
name|rightadj_sign
argument_list|()
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|mon_sign
parameter_list|()
block|{
return|return
name|about_sign
argument_list|()
operator|||
name|numtor_sign
argument_list|()
operator|||
name|denomtor_sign
argument_list|()
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|trim_sign
parameter_list|()
block|{
return|return
name|behead_sign
argument_list|()
operator|||
name|curtl_sign
argument_list|()
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|check_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_CHECK
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|choose_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_CHOOSE
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|delete_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_DELETE
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|draw_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_DRAW
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|insert_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_INSERT
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|put_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_PUT
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|read_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_READ
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|remove_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_REMOVE
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|setrandom_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_SET_RANDOM
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|write_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_WRITE
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|fail_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_FAIL
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|quit_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_QUIT
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|return_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_RETURN
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|report_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_REPORT
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|succeed_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_SUCCEED
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|if_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_IF
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|select_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_SELECT
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|while_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_WHILE
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|for_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_FOR
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|else_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_ELSE
argument_list|)
return|;
block|}
end_function

begin_ifdef
ifdef|#
directive|ifdef
name|NOT_USED
end_ifdef

begin_function
name|Visible
name|bool
name|and_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_AND
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|or_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_OR
argument_list|)
return|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_function
name|Visible
name|bool
name|not_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_NOT
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|some_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_SOME
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|each_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_EACH
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|no_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_NO
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|how_to_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_HOW_TO
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|yield_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_YIELD
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|test_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_TEST
argument_list|)
return|;
block|}
end_function

begin_function
name|Visible
name|bool
name|share_keyword
parameter_list|()
block|{
return|return
name|atkw
argument_list|(
name|K_SHARE
argument_list|)
return|;
block|}
end_function

end_unit

