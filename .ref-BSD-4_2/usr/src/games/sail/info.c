begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_ifndef
ifndef|#
directive|ifndef
name|lint
end_ifndef

begin_decl_stmt
specifier|static
name|char
modifier|*
name|sccsid
init|=
literal|"@(#)info.c	1.1 83/03/17"
decl_stmt|;
end_decl_stmt

begin_endif
endif|#
directive|endif
end_endif

begin_include
include|#
directive|include
file|"externs.h"
end_include

begin_function
name|char
modifier|*
name|speed
parameter_list|(
name|n
parameter_list|)
name|int
name|n
decl_stmt|;
block|{
switch|switch
condition|(
name|n
condition|)
block|{
case|case
literal|1
case|:
return|return
operator|(
literal|"light breeze"
operator|)
return|;
case|case
literal|2
case|:
return|return
operator|(
literal|"moderate breeze"
operator|)
return|;
case|case
literal|3
case|:
return|return
operator|(
literal|"fresh breeze"
operator|)
return|;
case|case
literal|4
case|:
return|return
operator|(
literal|"strong breeze"
operator|)
return|;
case|case
literal|5
case|:
return|return
operator|(
literal|"gale"
operator|)
return|;
default|default:
return|return
operator|(
literal|"radioactive winds"
operator|)
return|;
block|}
block|}
end_function

begin_function
name|char
modifier|*
name|wind
parameter_list|(
name|n
parameter_list|)
name|int
name|n
decl_stmt|;
block|{
switch|switch
condition|(
name|scene
index|[
name|n
index|]
operator|.
name|winddir
condition|)
block|{
case|case
literal|1
case|:
return|return
operator|(
literal|"S"
operator|)
return|;
case|case
literal|2
case|:
return|return
operator|(
literal|"SW"
operator|)
return|;
case|case
literal|3
case|:
return|return
operator|(
literal|"W"
operator|)
return|;
case|case
literal|4
case|:
return|return
operator|(
literal|"NW"
operator|)
return|;
case|case
literal|5
case|:
return|return
operator|(
literal|"N"
operator|)
return|;
case|case
literal|6
case|:
return|return
operator|(
literal|"NE"
operator|)
return|;
case|case
literal|7
case|:
return|return
operator|(
literal|"E"
operator|)
return|;
case|case
literal|8
case|:
return|return
operator|(
literal|"SE"
operator|)
return|;
default|default:
return|return
operator|(
literal|"Lost in space"
operator|)
return|;
block|}
block|}
end_function

begin_function
name|char
name|colours
parameter_list|(
name|ship
parameter_list|)
name|int
name|ship
decl_stmt|;
block|{
switch|switch
condition|(
name|ship
condition|)
block|{
case|case
literal|0
case|:
return|return
operator|(
literal|'a'
operator|)
return|;
case|case
literal|1
case|:
return|return
operator|(
literal|'b'
operator|)
return|;
case|case
literal|2
case|:
return|return
operator|(
literal|'s'
operator|)
return|;
case|case
literal|3
case|:
return|return
operator|(
literal|'f'
operator|)
return|;
default|default:
return|return
operator|(
literal|'z'
operator|)
return|;
block|}
block|}
end_function

begin_function
name|char
modifier|*
name|quality
parameter_list|(
name|game
parameter_list|,
name|shipnum
parameter_list|)
name|int
name|shipnum
decl_stmt|;
name|int
name|game
decl_stmt|;
block|{
switch|switch
condition|(
name|specs
index|[
name|scene
index|[
name|game
index|]
operator|.
name|ship
index|[
name|shipnum
index|]
operator|.
name|shipnum
index|]
operator|.
name|qual
condition|)
block|{
case|case
literal|5
case|:
return|return
operator|(
literal|"elite"
operator|)
return|;
case|case
literal|4
case|:
return|return
operator|(
literal|"crack"
operator|)
return|;
case|case
literal|3
case|:
return|return
operator|(
literal|"average"
operator|)
return|;
case|case
literal|2
case|:
return|return
operator|(
literal|"green"
operator|)
return|;
case|case
literal|1
case|:
return|return
operator|(
literal|"mutinous"
operator|)
return|;
default|default:
return|return
operator|(
literal|"stoned"
operator|)
return|;
block|}
block|}
end_function

begin_function
name|char
modifier|*
name|info
parameter_list|(
name|game
parameter_list|,
name|ship
parameter_list|,
name|final
parameter_list|)
name|int
name|game
decl_stmt|;
name|int
name|ship
decl_stmt|;
name|char
modifier|*
name|final
decl_stmt|;
block|{
name|sprintf
argument_list|(
name|final
argument_list|,
literal|"%d gun \0"
argument_list|,
name|specs
index|[
name|scene
index|[
name|game
index|]
operator|.
name|ship
index|[
name|ship
index|]
operator|.
name|shipnum
index|]
operator|.
name|guns
argument_list|)
expr_stmt|;
switch|switch
condition|(
name|specs
index|[
name|scene
index|[
name|game
index|]
operator|.
name|ship
index|[
name|ship
index|]
operator|.
name|shipnum
index|]
operator|.
name|class
condition|)
block|{
case|case
literal|1
case|:
name|strcat
argument_list|(
name|final
argument_list|,
literal|"3 Decker SOL"
argument_list|)
expr_stmt|;
break|break;
case|case
literal|2
case|:
name|strcat
argument_list|(
name|final
argument_list|,
literal|"Ship of the Line"
argument_list|)
expr_stmt|;
break|break;
case|case
literal|3
case|:
name|strcat
argument_list|(
name|final
argument_list|,
literal|"Frigate"
argument_list|)
expr_stmt|;
break|break;
case|case
literal|4
case|:
name|strcat
argument_list|(
name|final
argument_list|,
literal|"Corvette"
argument_list|)
expr_stmt|;
break|break;
case|case
literal|5
case|:
name|strcat
argument_list|(
name|final
argument_list|,
literal|"Sloop"
argument_list|)
expr_stmt|;
break|break;
case|case
literal|6
case|:
name|strcat
argument_list|(
name|final
argument_list|,
literal|"Brig"
argument_list|)
expr_stmt|;
break|break;
block|}
return|return
operator|(
name|final
operator|)
return|;
block|}
end_function

begin_function
name|main
parameter_list|()
block|{
name|char
name|buf
index|[
literal|80
index|]
decl_stmt|;
specifier|register
name|int
name|n
decl_stmt|,
name|j
decl_stmt|;
for|for
control|(
name|n
operator|=
literal|0
init|;
name|n
operator|<
name|NUMOFSCENES
condition|;
name|n
operator|++
control|)
block|{
name|printf
argument_list|(
literal|"\n%s:\n\n\tWind from the %s, blowing a %s.\n\n"
argument_list|,
name|scene
index|[
name|n
index|]
operator|.
name|name
argument_list|,
name|wind
argument_list|(
name|n
argument_list|)
argument_list|,
name|speed
argument_list|(
name|scene
index|[
name|n
index|]
operator|.
name|windspeed
argument_list|)
argument_list|)
expr_stmt|;
for|for
control|(
name|j
operator|=
literal|0
init|;
name|j
operator|<
name|scene
index|[
name|n
index|]
operator|.
name|vessels
condition|;
name|j
operator|++
control|)
name|printf
argument_list|(
literal|"\t(%c) %-18s%s (%s crew) (%d pts)\n"
argument_list|,
name|colours
argument_list|(
name|scene
index|[
name|n
index|]
operator|.
name|ship
index|[
name|j
index|]
operator|.
name|nationality
argument_list|)
argument_list|,
name|scene
index|[
name|n
index|]
operator|.
name|ship
index|[
name|j
index|]
operator|.
name|shipname
argument_list|,
name|info
argument_list|(
name|n
argument_list|,
name|j
argument_list|,
name|buf
argument_list|)
argument_list|,
name|quality
argument_list|(
name|n
argument_list|,
name|j
argument_list|)
argument_list|,
name|specs
index|[
name|scene
index|[
name|n
index|]
operator|.
name|ship
index|[
name|j
index|]
operator|.
name|shipnum
index|]
operator|.
name|pts
argument_list|)
expr_stmt|;
block|}
block|}
end_function

end_unit

