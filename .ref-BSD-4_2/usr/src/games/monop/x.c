begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_decl_stmt
name|char
name|xstr
index|[]
decl_stmt|;
end_decl_stmt

begin_line
line|#
directive|line
number|1
file|"trade.c"
end_line

begin_line
line|#
directive|line
number|1
file|"./monop.ext"
end_line

begin_line
line|#
directive|line
number|1
file|"./monop.h"
end_line

begin_line
line|#
directive|line
number|1
file|"/usr/include/stdio.h"
end_line

begin_struct
specifier|extern
struct|struct
name|_iobuf
block|{
name|int
name|_cnt
decl_stmt|;
name|char
modifier|*
name|_ptr
decl_stmt|;
name|char
modifier|*
name|_base
decl_stmt|;
name|int
name|_bufsiz
decl_stmt|;
name|short
name|_flag
decl_stmt|;
name|char
name|_file
decl_stmt|;
block|}
name|_iob
index|[
literal|20
index|]
struct|;
end_struct

begin_function_decl
name|struct
name|_iobuf
modifier|*
name|fopen
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
name|struct
name|_iobuf
modifier|*
name|fdopen
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
name|struct
name|_iobuf
modifier|*
name|freopen
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
name|long
name|ftell
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
name|char
modifier|*
name|fgets
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
name|char
modifier|*
name|sprintf
parameter_list|()
function_decl|;
end_function_decl

begin_line
line|#
directive|line
number|2
file|"./monop.h"
end_line

begin_struct
struct|struct
name|sqr_st
block|{
name|char
modifier|*
name|name
decl_stmt|;
name|char
name|owner
decl_stmt|;
name|char
name|type
decl_stmt|;
name|char
modifier|*
name|desc
decl_stmt|;
name|int
name|cost
decl_stmt|;
block|}
struct|;
end_struct

begin_typedef
typedef|typedef
name|struct
name|sqr_st
name|SQUARE
typedef|;
end_typedef

begin_struct
struct|struct
name|mon_st
block|{
name|char
modifier|*
name|name
decl_stmt|;
name|char
name|owner
decl_stmt|;
name|char
name|num_in
decl_stmt|;
name|char
name|num_own
decl_stmt|;
name|char
name|h_cost
decl_stmt|;
name|char
modifier|*
name|not_m
decl_stmt|;
name|char
modifier|*
name|mon_n
decl_stmt|;
name|SQUARE
modifier|*
name|sq
index|[
literal|3
index|]
decl_stmt|;
block|}
struct|;
end_struct

begin_typedef
typedef|typedef
name|struct
name|mon_st
name|MON
typedef|;
end_typedef

begin_struct
struct|struct
name|prp_st
block|{
name|char
name|morg
decl_stmt|;
name|char
name|monop
decl_stmt|;
name|char
name|square
decl_stmt|;
name|char
name|houses
decl_stmt|;
name|MON
modifier|*
name|mon_desc
decl_stmt|;
name|int
name|rent
index|[
literal|6
index|]
decl_stmt|;
block|}
struct|;
end_struct

begin_struct
struct|struct
name|own_st
block|{
name|SQUARE
modifier|*
name|sqr
decl_stmt|;
name|struct
name|own_st
modifier|*
name|next
decl_stmt|;
block|}
struct|;
end_struct

begin_typedef
typedef|typedef
name|struct
name|own_st
name|OWN
typedef|;
end_typedef

begin_struct
struct|struct
name|plr_st
block|{
name|char
modifier|*
name|name
decl_stmt|;
name|char
name|num_gojf
decl_stmt|;
name|char
name|num_rr
decl_stmt|;
name|char
name|num_util
decl_stmt|;
name|char
name|loc
decl_stmt|;
name|char
name|in_jail
decl_stmt|;
name|int
name|money
decl_stmt|;
name|OWN
modifier|*
name|own_list
decl_stmt|;
block|}
struct|;
end_struct

begin_struct
struct|struct
name|rr_st
block|{
name|char
name|morg
decl_stmt|;
block|}
struct|;
end_struct

begin_typedef
typedef|typedef
name|struct
name|plr_st
name|PLAY
typedef|;
end_typedef

begin_typedef
typedef|typedef
name|struct
name|prp_st
name|PROP
typedef|;
end_typedef

begin_typedef
typedef|typedef
name|struct
name|rr_st
name|RR_S
typedef|;
end_typedef

begin_typedef
typedef|typedef
name|struct
name|rr_st
name|UTIL_S
typedef|;
end_typedef

begin_decl_stmt
name|int
name|cc
argument_list|()
decl_stmt|,
name|chance
argument_list|()
decl_stmt|,
name|lux_tax
argument_list|()
decl_stmt|,
name|goto_jail
argument_list|()
decl_stmt|,
name|inc_tax
argument_list|()
decl_stmt|;
end_decl_stmt

begin_line
line|#
directive|line
number|2
file|"./monop.ext"
end_line

begin_line
line|#
directive|line
number|1
file|"./deck.h"
end_line

begin_struct
struct|struct
name|dk_st
block|{
name|int
name|num_cards
decl_stmt|;
name|int
name|last_card
decl_stmt|;
name|char
name|gojf_used
decl_stmt|;
name|long
modifier|*
name|offsets
decl_stmt|;
block|}
struct|;
end_struct

begin_typedef
typedef|typedef
name|struct
name|dk_st
name|DECK
typedef|;
end_typedef

begin_line
line|#
directive|line
number|3
file|"./monop.ext"
end_line

begin_decl_stmt
specifier|extern
name|char
name|trading
decl_stmt|,
name|spec
decl_stmt|,
name|fixing
decl_stmt|,
name|told_em
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|char
modifier|*
name|yn
index|[]
decl_stmt|,
modifier|*
name|comlist
index|[]
decl_stmt|,
modifier|*
name|name_list
index|[]
decl_stmt|,
modifier|*
name|lucky_mes
index|[]
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|int
name|num_play
decl_stmt|,
name|player
decl_stmt|,
name|num_doub
decl_stmt|,
name|num_luck
decl_stmt|,
argument_list|(
operator|*
name|func
index|[]
argument_list|)
argument_list|()
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|DECK
name|deck
index|[
literal|2
index|]
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|MON
name|mon
index|[]
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|PLAY
modifier|*
name|play
decl_stmt|,
modifier|*
name|cur_p
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|PROP
name|prop
index|[]
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|RR_S
name|rr
index|[]
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|SQUARE
name|board
index|[]
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|UTIL_S
name|util
index|[]
decl_stmt|;
end_decl_stmt

begin_line
line|#
directive|line
number|2
file|"trade.c"
end_line

begin_struct
specifier|static
struct|struct
name|trd_st
block|{
name|int
name|trader
decl_stmt|;
name|int
name|cash
decl_stmt|;
name|int
name|gojf
decl_stmt|;
name|OWN
modifier|*
name|prop_list
decl_stmt|;
block|}
struct|;
end_struct

begin_typedef
typedef|typedef
name|struct
name|trd_st
name|TRADE
typedef|;
end_typedef

begin_decl_stmt
specifier|static
name|char
modifier|*
name|list
index|[
operator|(
literal|22
operator|+
literal|4
operator|+
literal|2
operator|)
operator|+
literal|2
index|]
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|int
name|used
index|[
operator|(
literal|22
operator|+
literal|4
operator|+
literal|2
operator|)
index|]
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|TRADE
name|trades
index|[
literal|2
index|]
decl_stmt|;
end_decl_stmt

begin_macro
name|trade
argument_list|()
end_macro

begin_block
block|{
specifier|register
name|int
name|tradee
decl_stmt|,
name|i
decl_stmt|;
name|trading
operator|=
operator|(
literal|1
operator|)
expr_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
literal|2
condition|;
name|i
operator|++
control|)
block|{
name|trades
index|[
name|i
index|]
operator|.
name|cash
operator|=
literal|0
expr_stmt|;
name|trades
index|[
name|i
index|]
operator|.
name|gojf
operator|=
operator|(
literal|0
operator|)
expr_stmt|;
name|trades
index|[
name|i
index|]
operator|.
name|prop_list
operator|=
literal|0
expr_stmt|;
block|}
name|over
label|:
if|if
condition|(
name|num_play
operator|==
literal|1
condition|)
block|{
name|printf
argument_list|(
operator|(
operator|&
name|xstr
index|[
literal|4876
index|]
operator|)
argument_list|)
expr_stmt|;
return|return;
block|}
if|if
condition|(
name|num_play
operator|>
literal|2
condition|)
block|{
name|tradee
operator|=
name|getinp
argument_list|(
operator|(
operator|&
name|xstr
index|[
literal|4919
index|]
operator|)
argument_list|,
name|name_list
argument_list|)
expr_stmt|;
if|if
condition|(
name|tradee
operator|==
name|num_play
condition|)
return|return;
if|if
condition|(
name|tradee
operator|==
name|player
condition|)
block|{
name|printf
argument_list|(
operator|(
operator|&
name|xstr
index|[
literal|4960
index|]
operator|)
argument_list|)
expr_stmt|;
goto|goto
name|over
goto|;
block|}
block|}
else|else
name|tradee
operator|=
literal|1
operator|-
name|player
expr_stmt|;
name|get_list
argument_list|(
literal|0
argument_list|,
name|player
argument_list|)
expr_stmt|;
name|get_list
argument_list|(
literal|1
argument_list|,
name|tradee
argument_list|)
expr_stmt|;
if|if
condition|(
name|getyn
argument_list|(
operator|(
operator|&
name|xstr
index|[
literal|4992
index|]
operator|)
argument_list|)
operator|==
literal|0
condition|)
name|summate
argument_list|()
expr_stmt|;
if|if
condition|(
name|getyn
argument_list|(
operator|(
operator|&
name|xstr
index|[
literal|5016
index|]
operator|)
argument_list|)
operator|==
literal|0
condition|)
name|do_trade
argument_list|()
expr_stmt|;
block|}
end_block

begin_macro
name|get_list
argument_list|(
argument|struct_no
argument_list|,
argument|play_no
argument_list|)
end_macro

begin_decl_stmt
name|int
name|struct_no
decl_stmt|,
name|play_no
decl_stmt|;
end_decl_stmt

begin_block
block|{
specifier|register
name|int
name|sn
decl_stmt|,
name|pn
decl_stmt|;
specifier|register
name|PLAY
modifier|*
name|pp
decl_stmt|;
name|int
name|numin
decl_stmt|,
name|prop
decl_stmt|,
name|num_prp
decl_stmt|;
name|OWN
modifier|*
name|op
decl_stmt|;
name|TRADE
modifier|*
name|tp
decl_stmt|;
for|for
control|(
name|numin
operator|=
literal|0
init|;
name|numin
operator|<
operator|(
literal|22
operator|+
literal|4
operator|+
literal|2
operator|)
condition|;
name|numin
operator|++
control|)
name|used
index|[
name|numin
index|]
operator|=
operator|(
literal|0
operator|)
expr_stmt|;
name|sn
operator|=
name|struct_no
operator|,
name|pn
operator|=
name|play_no
expr_stmt|;
name|pp
operator|=
operator|&
name|play
index|[
name|pn
index|]
expr_stmt|;
name|tp
operator|=
operator|&
name|trades
index|[
name|sn
index|]
expr_stmt|;
name|tp
operator|->
name|trader
operator|=
name|pn
expr_stmt|;
name|printf
argument_list|(
operator|(
operator|&
name|xstr
index|[
literal|5034
index|]
operator|)
argument_list|,
name|pp
operator|->
name|name
argument_list|,
name|pn
operator|+
literal|1
argument_list|)
expr_stmt|;
if|if
condition|(
name|pp
operator|->
name|own_list
condition|)
block|{
name|numin
operator|=
name|set_list
argument_list|(
name|pp
operator|->
name|own_list
argument_list|)
expr_stmt|;
for|for
control|(
name|num_prp
operator|=
name|numin
init|;
name|num_prp
condition|;
control|)
block|{
name|prop
operator|=
name|getinp
argument_list|(
operator|(
operator|&
name|xstr
index|[
literal|5051
index|]
operator|)
argument_list|,
name|list
argument_list|)
expr_stmt|;
if|if
condition|(
name|prop
operator|==
name|numin
condition|)
break|break;
elseif|else
if|if
condition|(
name|used
index|[
name|prop
index|]
condition|)
name|printf
argument_list|(
operator|(
operator|&
name|xstr
index|[
literal|5089
index|]
operator|)
argument_list|)
expr_stmt|;
else|else
block|{
name|num_prp
operator|--
expr_stmt|;
name|used
index|[
name|prop
index|]
operator|=
operator|(
literal|1
operator|)
expr_stmt|;
for|for
control|(
name|op
operator|=
name|pp
operator|->
name|own_list
init|;
name|prop
operator|--
condition|;
name|op
operator|=
name|op
operator|->
name|next
control|)
continue|continue;
name|add_list
argument_list|(
name|pn
argument_list|,
operator|&
operator|(
name|tp
operator|->
name|prop_list
operator|)
argument_list|,
operator|(
name|op
operator|->
name|sqr
operator|-
name|board
operator|)
argument_list|)
expr_stmt|;
block|}
block|}
block|}
if|if
condition|(
name|pp
operator|->
name|money
operator|>
literal|0
condition|)
block|{
name|printf
argument_list|(
operator|(
operator|&
name|xstr
index|[
literal|5121
index|]
operator|)
argument_list|,
name|pp
operator|->
name|money
argument_list|)
expr_stmt|;
name|tp
operator|->
name|cash
operator|=
name|get_int
argument_list|(
operator|(
operator|&
name|xstr
index|[
literal|5137
index|]
operator|)
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
name|pp
operator|->
name|num_gojf
operator|>
literal|0
condition|)
block|{
name|once_more
label|:
name|printf
argument_list|(
operator|(
operator|&
name|xstr
index|[
literal|5164
index|]
operator|)
argument_list|,
name|pp
operator|->
name|num_gojf
argument_list|)
expr_stmt|;
name|tp
operator|->
name|gojf
operator|=
name|get_int
argument_list|(
operator|(
operator|&
name|xstr
index|[
literal|5205
index|]
operator|)
argument_list|)
expr_stmt|;
if|if
condition|(
name|tp
operator|->
name|gojf
operator|>
name|pp
operator|->
name|num_gojf
condition|)
block|{
name|printf
argument_list|(
operator|(
operator|&
name|xstr
index|[
literal|5232
index|]
operator|)
argument_list|)
expr_stmt|;
goto|goto
name|once_more
goto|;
block|}
block|}
block|}
end_block

begin_expr_stmt
name|set_list
argument_list|(
name|the_list
argument_list|)
specifier|register
name|OWN
operator|*
name|the_list
expr_stmt|;
end_expr_stmt

begin_block
block|{
specifier|register
name|int
name|i
decl_stmt|;
specifier|register
name|OWN
modifier|*
name|op
decl_stmt|;
name|i
operator|=
literal|0
expr_stmt|;
for|for
control|(
name|op
operator|=
name|the_list
init|;
name|op
condition|;
name|op
operator|=
name|op
operator|->
name|next
control|)
if|if
condition|(
operator|!
name|used
index|[
name|i
index|]
condition|)
name|list
index|[
name|i
operator|++
index|]
operator|=
name|op
operator|->
name|sqr
operator|->
name|name
expr_stmt|;
name|list
index|[
name|i
operator|++
index|]
operator|=
operator|(
operator|&
name|xstr
index|[
literal|1245
index|]
operator|)
expr_stmt|;
name|list
index|[
name|i
operator|--
index|]
operator|=
literal|0
expr_stmt|;
return|return
name|i
return|;
block|}
end_block

begin_macro
name|summate
argument_list|()
end_macro

begin_block
block|{
specifier|register
name|char
name|some
decl_stmt|;
specifier|register
name|int
name|i
decl_stmt|;
specifier|register
name|TRADE
modifier|*
name|tp
decl_stmt|;
name|OWN
modifier|*
name|op
decl_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
literal|2
condition|;
name|i
operator|++
control|)
block|{
name|tp
operator|=
operator|&
name|trades
index|[
name|i
index|]
expr_stmt|;
name|some
operator|=
operator|(
literal|0
operator|)
expr_stmt|;
name|printf
argument_list|(
operator|(
operator|&
name|xstr
index|[
literal|5271
index|]
operator|)
argument_list|,
name|play
index|[
name|tp
operator|->
name|trader
index|]
operator|.
name|name
argument_list|,
name|tp
operator|->
name|trader
operator|+
literal|1
argument_list|)
expr_stmt|;
if|if
condition|(
name|tp
operator|->
name|cash
operator|>
literal|0
condition|)
name|printf
argument_list|(
operator|(
operator|&
name|xstr
index|[
literal|5294
index|]
operator|)
argument_list|,
name|tp
operator|->
name|cash
argument_list|)
operator|,
name|some
operator|++
expr_stmt|;
if|if
condition|(
name|tp
operator|->
name|gojf
operator|>
literal|0
condition|)
name|printf
argument_list|(
operator|(
operator|&
name|xstr
index|[
literal|5300
index|]
operator|)
argument_list|,
name|tp
operator|->
name|gojf
argument_list|)
operator|,
name|some
operator|++
expr_stmt|;
if|if
condition|(
name|tp
operator|->
name|prop_list
condition|)
block|{
for|for
control|(
name|op
operator|=
name|tp
operator|->
name|prop_list
init|;
name|op
condition|;
name|op
operator|=
name|op
operator|->
name|next
control|)
operator|(
operator|--
operator|(
operator|(
operator|&
name|_iob
index|[
literal|1
index|]
operator|)
operator|)
operator|->
name|_cnt
operator|>=
literal|0
condition|?
operator|(
call|(
name|int
call|)
argument_list|(
operator|*
operator|(
operator|(
operator|&
name|_iob
index|[
literal|1
index|]
operator|)
operator|)
operator|->
name|_ptr
operator|++
operator|=
call|(
name|unsigned
call|)
argument_list|(
literal|'\t'
argument_list|)
argument_list|)
operator|)
else|:
name|_flsbuf
argument_list|(
call|(
name|unsigned
call|)
argument_list|(
literal|'\t'
argument_list|)
argument_list|,
operator|(
operator|&
name|_iob
index|[
literal|1
index|]
operator|)
argument_list|)
operator|)
operator|,
name|printsq
argument_list|(
operator|(
name|op
operator|->
name|sqr
operator|-
name|board
operator|)
argument_list|,
operator|(
literal|1
operator|)
argument_list|)
expr_stmt|;
name|some
operator|++
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|some
condition|)
name|printf
argument_list|(
operator|(
operator|&
name|xstr
index|[
literal|5334
index|]
operator|)
argument_list|)
expr_stmt|;
block|}
block|}
end_block

begin_macro
name|do_trade
argument_list|()
end_macro

begin_block
block|{
name|move_em
argument_list|(
operator|&
name|trades
index|[
literal|0
index|]
argument_list|,
operator|&
name|trades
index|[
literal|1
index|]
argument_list|)
expr_stmt|;
name|move_em
argument_list|(
operator|&
name|trades
index|[
literal|1
index|]
argument_list|,
operator|&
name|trades
index|[
literal|0
index|]
argument_list|)
expr_stmt|;
block|}
end_block

begin_macro
name|move_em
argument_list|(
argument|from
argument_list|,
argument|to
argument_list|)
end_macro

begin_decl_stmt
name|TRADE
modifier|*
name|from
decl_stmt|,
modifier|*
name|to
decl_stmt|;
end_decl_stmt

begin_block
block|{
specifier|register
name|PLAY
modifier|*
name|pl_fr
decl_stmt|,
modifier|*
name|pl_to
decl_stmt|;
specifier|register
name|OWN
modifier|*
name|op
decl_stmt|;
name|pl_fr
operator|=
operator|&
name|play
index|[
name|from
operator|->
name|trader
index|]
expr_stmt|;
name|pl_to
operator|=
operator|&
name|play
index|[
name|to
operator|->
name|trader
index|]
expr_stmt|;
name|pl_fr
operator|->
name|money
operator|-=
name|from
operator|->
name|cash
expr_stmt|;
name|pl_to
operator|->
name|money
operator|+=
name|from
operator|->
name|cash
expr_stmt|;
name|pl_fr
operator|->
name|num_gojf
operator|-=
name|from
operator|->
name|gojf
expr_stmt|;
name|pl_to
operator|->
name|num_gojf
operator|+=
name|from
operator|->
name|gojf
expr_stmt|;
for|for
control|(
name|op
operator|=
name|from
operator|->
name|prop_list
init|;
name|op
condition|;
name|op
operator|=
name|op
operator|->
name|next
control|)
block|{
name|add_list
argument_list|(
name|to
operator|->
name|trader
argument_list|,
operator|&
operator|(
name|pl_to
operator|->
name|own_list
operator|)
argument_list|,
operator|(
name|op
operator|->
name|sqr
operator|-
name|board
operator|)
argument_list|)
expr_stmt|;
name|op
operator|->
name|sqr
operator|->
name|owner
operator|=
name|to
operator|->
name|trader
expr_stmt|;
name|del_list
argument_list|(
name|from
operator|->
name|trader
argument_list|,
operator|&
operator|(
name|pl_fr
operator|->
name|own_list
operator|)
argument_list|,
operator|(
name|op
operator|->
name|sqr
operator|-
name|board
operator|)
argument_list|)
expr_stmt|;
block|}
name|set_ownlist
argument_list|(
name|to
operator|->
name|trader
argument_list|)
expr_stmt|;
block|}
end_block

begin_macro
name|resign
argument_list|()
end_macro

begin_block
block|{
specifier|register
name|int
name|i
decl_stmt|,
name|new_own
decl_stmt|;
specifier|register
name|OWN
modifier|*
name|op
decl_stmt|;
name|SQUARE
modifier|*
name|sqp
decl_stmt|;
if|if
condition|(
name|cur_p
operator|->
name|money
operator|<=
literal|0
condition|)
block|{
switch|switch
condition|(
name|board
index|[
name|cur_p
operator|->
name|loc
index|]
operator|.
name|type
condition|)
block|{
case|case
literal|2
case|:
case|case
literal|1
case|:
case|case
literal|0
case|:
name|new_own
operator|=
name|board
index|[
name|cur_p
operator|->
name|loc
index|]
operator|.
name|owner
expr_stmt|;
break|break;
case|case
literal|6
case|:
case|case
literal|4
case|:
case|case
literal|5
case|:
name|new_own
operator|=
name|num_play
expr_stmt|;
break|break;
block|}
if|if
condition|(
name|new_own
operator|==
name|num_play
condition|)
name|printf
argument_list|(
operator|(
operator|&
name|xstr
index|[
literal|5350
index|]
operator|)
argument_list|)
expr_stmt|;
else|else
name|printf
argument_list|(
operator|(
operator|&
name|xstr
index|[
literal|5380
index|]
operator|)
argument_list|,
name|name_list
index|[
name|new_own
index|]
argument_list|)
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|num_play
operator|==
literal|1
condition|)
block|{
name|new_own
operator|=
name|num_play
expr_stmt|;
name|printf
argument_list|(
operator|(
operator|&
name|xstr
index|[
literal|5350
index|]
operator|)
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|name_list
index|[
name|num_play
index|]
operator|=
operator|(
operator|&
name|xstr
index|[
literal|5404
index|]
operator|)
expr_stmt|;
do|do
block|{
name|new_own
operator|=
name|getinp
argument_list|(
operator|(
operator|&
name|xstr
index|[
literal|5409
index|]
operator|)
argument_list|,
name|name_list
argument_list|)
expr_stmt|;
if|if
condition|(
name|new_own
operator|==
name|player
condition|)
name|printf
argument_list|(
operator|(
operator|&
name|xstr
index|[
literal|5440
index|]
operator|)
argument_list|)
expr_stmt|;
block|}
do|while
condition|(
name|new_own
operator|==
name|player
condition|)
do|;
name|name_list
index|[
name|num_play
index|]
operator|=
operator|(
operator|&
name|xstr
index|[
literal|1245
index|]
operator|)
expr_stmt|;
block|}
if|if
condition|(
name|getyn
argument_list|(
operator|(
operator|&
name|xstr
index|[
literal|5472
index|]
operator|)
argument_list|,
name|yn
argument_list|)
operator|!=
literal|0
condition|)
return|return;
if|if
condition|(
name|num_play
operator|==
literal|1
condition|)
block|{
name|printf
argument_list|(
operator|(
operator|&
name|xstr
index|[
literal|5503
index|]
operator|)
argument_list|)
expr_stmt|;
name|exit
argument_list|(
literal|0
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
name|new_own
operator|<
name|num_play
condition|)
block|{
name|printf
argument_list|(
operator|(
operator|&
name|xstr
index|[
literal|5537
index|]
operator|)
argument_list|)
expr_stmt|;
name|trades
index|[
literal|0
index|]
operator|.
name|trader
operator|=
name|new_own
expr_stmt|;
name|trades
index|[
literal|0
index|]
operator|.
name|cash
operator|=
name|trades
index|[
literal|0
index|]
operator|.
name|gojf
operator|=
literal|0
expr_stmt|;
name|trades
index|[
literal|0
index|]
operator|.
name|prop_list
operator|=
literal|0
expr_stmt|;
name|trades
index|[
literal|1
index|]
operator|.
name|trader
operator|=
name|player
expr_stmt|;
name|trades
index|[
literal|1
index|]
operator|.
name|cash
operator|=
name|cur_p
operator|->
name|money
operator|>
literal|0
condition|?
name|cur_p
operator|->
name|money
else|:
literal|0
expr_stmt|;
name|trades
index|[
literal|1
index|]
operator|.
name|gojf
operator|=
name|cur_p
operator|->
name|num_gojf
expr_stmt|;
name|trades
index|[
literal|1
index|]
operator|.
name|prop_list
operator|=
name|cur_p
operator|->
name|own_list
expr_stmt|;
name|do_trade
argument_list|()
expr_stmt|;
block|}
else|else
block|{
name|printf
argument_list|(
operator|(
operator|&
name|xstr
index|[
literal|5558
index|]
operator|)
argument_list|)
expr_stmt|;
for|for
control|(
name|op
operator|=
name|cur_p
operator|->
name|own_list
init|;
name|op
condition|;
name|op
operator|=
name|op
operator|->
name|next
control|)
block|{
name|sqp
operator|=
name|op
operator|->
name|sqr
expr_stmt|;
name|sqp
operator|->
name|owner
operator|=
operator|-
literal|1
expr_stmt|;
name|sqp
operator|->
name|desc
operator|->
name|morg
operator|=
operator|(
literal|0
operator|)
expr_stmt|;
if|if
condition|(
name|op
operator|->
name|type
operator|==
literal|0
condition|)
block|{
name|isnot_monop
argument_list|(
name|sqp
operator|->
name|desc
operator|->
name|mon_desc
argument_list|)
expr_stmt|;
name|sqp
operator|->
name|desc
operator|->
name|houses
operator|=
literal|0
expr_stmt|;
block|}
block|}
if|if
condition|(
name|cur_p
operator|->
name|num_gojf
condition|)
name|ret_card
argument_list|(
name|cur_p
argument_list|)
expr_stmt|;
block|}
for|for
control|(
name|i
operator|=
name|player
init|;
name|i
operator|<
name|num_play
condition|;
name|i
operator|++
control|)
block|{
name|name_list
index|[
name|i
index|]
operator|=
name|name_list
index|[
name|i
operator|+
literal|1
index|]
expr_stmt|;
if|if
condition|(
name|i
operator|+
literal|1
operator|<
name|num_play
condition|)
name|cpy_st
argument_list|(
operator|&
name|play
index|[
name|i
index|]
argument_list|,
operator|&
name|play
index|[
name|i
operator|+
literal|1
index|]
argument_list|,
sizeof|sizeof
argument_list|(
name|PLAY
argument_list|)
argument_list|)
expr_stmt|;
block|}
name|name_list
index|[
name|num_play
operator|--
index|]
operator|=
literal|0
expr_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
literal|40
condition|;
name|i
operator|++
control|)
if|if
condition|(
name|board
index|[
name|i
index|]
operator|.
name|owner
operator|>
name|player
condition|)
operator|--
name|board
index|[
name|i
index|]
operator|.
name|owner
expr_stmt|;
name|player
operator|=
operator|--
name|player
operator|<
literal|0
condition|?
name|num_play
operator|-
literal|1
else|:
name|player
expr_stmt|;
name|next_play
argument_list|()
expr_stmt|;
if|if
condition|(
name|num_play
operator|<
literal|2
condition|)
block|{
name|printf
argument_list|(
operator|(
operator|&
name|xstr
index|[
literal|5577
index|]
operator|)
argument_list|,
name|play
index|[
literal|0
index|]
operator|.
name|name
argument_list|)
expr_stmt|;
name|printhold
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|printf
argument_list|(
operator|(
operator|&
name|xstr
index|[
literal|5597
index|]
operator|)
argument_list|,
name|play
index|[
literal|0
index|]
operator|.
name|money
operator|+
name|prop_worth
argument_list|(
operator|&
name|play
index|[
literal|0
index|]
argument_list|)
argument_list|)
expr_stmt|;
name|exit
argument_list|(
literal|0
argument_list|)
expr_stmt|;
block|}
block|}
end_block

end_unit

