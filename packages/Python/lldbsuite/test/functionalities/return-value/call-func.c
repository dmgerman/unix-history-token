begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|// Some convenient things to return:
end_comment

begin_decl_stmt
specifier|static
name|char
modifier|*
name|g_first_pointer
init|=
literal|"I am the first"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|char
modifier|*
name|g_second_pointer
init|=
literal|"I am the second"
decl_stmt|;
end_decl_stmt

begin_comment
comment|// First we have some simple functions that return standard types, ints, floats and doubles.
end_comment

begin_comment
comment|// We have a function calling a function in a few cases to test that if you stop in the
end_comment

begin_comment
comment|// inner function then do "up/fin" you get the return value from the outer-most frame.
end_comment

begin_function
name|int
name|inner_sint
parameter_list|(
name|int
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_function
name|int
name|outer_sint
parameter_list|(
name|int
name|value
parameter_list|)
block|{
name|int
name|outer_value
init|=
literal|2
operator|*
name|inner_sint
argument_list|(
name|value
argument_list|)
decl_stmt|;
return|return
name|outer_value
return|;
block|}
end_function

begin_function
name|float
name|inner_float
parameter_list|(
name|float
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_function
name|float
name|outer_float
parameter_list|(
name|float
name|value
parameter_list|)
block|{
name|float
name|outer_value
init|=
literal|2
operator|*
name|inner_float
argument_list|(
name|value
argument_list|)
decl_stmt|;
return|return
name|outer_value
return|;
block|}
end_function

begin_function
name|double
name|return_double
parameter_list|(
name|double
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_function
name|long
name|double
name|return_long_double
parameter_list|(
name|long
name|double
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_function
name|char
modifier|*
name|return_pointer
parameter_list|(
name|char
modifier|*
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_struct
struct|struct
name|one_int
block|{
name|int
name|one_field
decl_stmt|;
block|}
struct|;
end_struct

begin_function
name|struct
name|one_int
name|return_one_int
parameter_list|(
name|struct
name|one_int
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_struct
struct|struct
name|two_int
block|{
name|int
name|first_field
decl_stmt|;
name|int
name|second_field
decl_stmt|;
block|}
struct|;
end_struct

begin_function
name|struct
name|two_int
name|return_two_int
parameter_list|(
name|struct
name|two_int
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_struct
struct|struct
name|three_int
block|{
name|int
name|first_field
decl_stmt|;
name|int
name|second_field
decl_stmt|;
name|int
name|third_field
decl_stmt|;
block|}
struct|;
end_struct

begin_function
name|struct
name|three_int
name|return_three_int
parameter_list|(
name|struct
name|three_int
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_struct
struct|struct
name|four_int
block|{
name|int
name|first_field
decl_stmt|;
name|int
name|second_field
decl_stmt|;
name|int
name|third_field
decl_stmt|;
name|int
name|fourth_field
decl_stmt|;
block|}
struct|;
end_struct

begin_function
name|struct
name|four_int
name|return_four_int
parameter_list|(
name|struct
name|four_int
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_struct
struct|struct
name|five_int
block|{
name|int
name|first_field
decl_stmt|;
name|int
name|second_field
decl_stmt|;
name|int
name|third_field
decl_stmt|;
name|int
name|fourth_field
decl_stmt|;
name|int
name|fifth_field
decl_stmt|;
block|}
struct|;
end_struct

begin_function
name|struct
name|five_int
name|return_five_int
parameter_list|(
name|struct
name|five_int
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_struct
struct|struct
name|one_int_one_double
block|{
name|int
name|first_field
decl_stmt|;
name|double
name|second_field
decl_stmt|;
block|}
struct|;
end_struct

begin_function
name|struct
name|one_int_one_double
name|return_one_int_one_double
parameter_list|(
name|struct
name|one_int_one_double
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_struct
struct|struct
name|one_int_one_double_one_int
block|{
name|int
name|one_field
decl_stmt|;
name|double
name|second_field
decl_stmt|;
name|int
name|third_field
decl_stmt|;
block|}
struct|;
end_struct

begin_function
name|struct
name|one_int_one_double_one_int
name|return_one_int_one_double_one_int
parameter_list|(
name|struct
name|one_int_one_double_one_int
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_struct
struct|struct
name|one_short_one_double_one_short
block|{
name|int
name|one_field
decl_stmt|;
name|double
name|second_field
decl_stmt|;
name|int
name|third_field
decl_stmt|;
block|}
struct|;
end_struct

begin_function
name|struct
name|one_short_one_double_one_short
name|return_one_short_one_double_one_short
parameter_list|(
name|struct
name|one_short_one_double_one_short
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_struct
struct|struct
name|three_short_one_float
block|{
name|short
name|one_field
decl_stmt|;
name|short
name|second_field
decl_stmt|;
name|short
name|third_field
decl_stmt|;
name|float
name|fourth_field
decl_stmt|;
block|}
struct|;
end_struct

begin_function
name|struct
name|three_short_one_float
name|return_three_short_one_float
parameter_list|(
name|struct
name|three_short_one_float
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_struct
struct|struct
name|one_int_one_float_one_int
block|{
name|int
name|one_field
decl_stmt|;
name|float
name|second_field
decl_stmt|;
name|int
name|third_field
decl_stmt|;
block|}
struct|;
end_struct

begin_function
name|struct
name|one_int_one_float_one_int
name|return_one_int_one_float_one_int
parameter_list|(
name|struct
name|one_int_one_float_one_int
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_struct
struct|struct
name|one_float_one_int_one_float
block|{
name|float
name|one_field
decl_stmt|;
name|int
name|second_field
decl_stmt|;
name|float
name|third_field
decl_stmt|;
block|}
struct|;
end_struct

begin_function
name|struct
name|one_float_one_int_one_float
name|return_one_float_one_int_one_float
parameter_list|(
name|struct
name|one_float_one_int_one_float
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_struct
struct|struct
name|one_double_two_float
block|{
name|double
name|one_field
decl_stmt|;
name|float
name|second_field
decl_stmt|;
name|float
name|third_field
decl_stmt|;
block|}
struct|;
end_struct

begin_function
name|struct
name|one_double_two_float
name|return_one_double_two_float
parameter_list|(
name|struct
name|one_double_two_float
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_struct
struct|struct
name|two_double
block|{
name|double
name|first_field
decl_stmt|;
name|double
name|second_field
decl_stmt|;
block|}
struct|;
end_struct

begin_function
name|struct
name|two_double
name|return_two_double
parameter_list|(
name|struct
name|two_double
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_struct
struct|struct
name|two_float
block|{
name|float
name|first_field
decl_stmt|;
name|float
name|second_field
decl_stmt|;
block|}
struct|;
end_struct

begin_function
name|struct
name|two_float
name|return_two_float
parameter_list|(
name|struct
name|two_float
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_struct
struct|struct
name|one_int_one_double_packed
block|{
name|int
name|first_field
decl_stmt|;
name|double
name|second_field
decl_stmt|;
block|}
name|__attribute__
argument_list|(
operator|(
name|__packed__
operator|)
argument_list|)
struct|;
end_struct

begin_function
name|struct
name|one_int_one_double_packed
name|return_one_int_one_double_packed
parameter_list|(
name|struct
name|one_int_one_double_packed
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_struct
struct|struct
name|one_int_one_long
block|{
name|int
name|first_field
decl_stmt|;
name|long
name|second_field
decl_stmt|;
block|}
struct|;
end_struct

begin_function
name|struct
name|one_int_one_long
name|return_one_int_one_long
parameter_list|(
name|struct
name|one_int_one_long
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_struct
struct|struct
name|one_pointer
block|{
name|char
modifier|*
name|first_field
decl_stmt|;
block|}
struct|;
end_struct

begin_function
name|struct
name|one_pointer
name|return_one_pointer
parameter_list|(
name|struct
name|one_pointer
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_struct
struct|struct
name|two_pointer
block|{
name|char
modifier|*
name|first_field
decl_stmt|;
name|char
modifier|*
name|second_field
decl_stmt|;
block|}
struct|;
end_struct

begin_function
name|struct
name|two_pointer
name|return_two_pointer
parameter_list|(
name|struct
name|two_pointer
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_struct
struct|struct
name|one_float_one_pointer
block|{
name|float
name|first_field
decl_stmt|;
name|char
modifier|*
name|second_field
decl_stmt|;
block|}
struct|;
end_struct

begin_function
name|struct
name|one_float_one_pointer
name|return_one_float_one_pointer
parameter_list|(
name|struct
name|one_float_one_pointer
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_struct
struct|struct
name|one_int_one_pointer
block|{
name|int
name|first_field
decl_stmt|;
name|char
modifier|*
name|second_field
decl_stmt|;
block|}
struct|;
end_struct

begin_function
name|struct
name|one_int_one_pointer
name|return_one_int_one_pointer
parameter_list|(
name|struct
name|one_int_one_pointer
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_typedef
typedef|typedef
name|float
name|vector_size_float32_8
name|__attribute__
typedef|((
name|__vector_size__
typedef|(8)));
end_typedef

begin_typedef
typedef|typedef
name|float
name|vector_size_float32_16
name|__attribute__
typedef|((
name|__vector_size__
typedef|(16)));
end_typedef

begin_typedef
typedef|typedef
name|float
name|vector_size_float32_32
name|__attribute__
typedef|((
name|__vector_size__
typedef|(32)));
end_typedef

begin_typedef
typedef|typedef
name|float
name|ext_vector_size_float32_2
name|__attribute__
typedef|((
name|ext_vector_type
typedef|(2)));
end_typedef

begin_typedef
typedef|typedef
name|float
name|ext_vector_size_float32_4
name|__attribute__
typedef|((
name|ext_vector_type
typedef|(4)));
end_typedef

begin_typedef
typedef|typedef
name|float
name|ext_vector_size_float32_8
name|__attribute__
typedef|((
name|ext_vector_type
typedef|(8)));
end_typedef

begin_function
name|vector_size_float32_8
name|return_vector_size_float32_8
parameter_list|(
name|vector_size_float32_8
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_function
name|vector_size_float32_16
name|return_vector_size_float32_16
parameter_list|(
name|vector_size_float32_16
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_function
name|vector_size_float32_32
name|return_vector_size_float32_32
parameter_list|(
name|vector_size_float32_32
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_function
name|ext_vector_size_float32_2
name|return_ext_vector_size_float32_2
parameter_list|(
name|ext_vector_size_float32_2
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_function
name|ext_vector_size_float32_4
name|return_ext_vector_size_float32_4
parameter_list|(
name|ext_vector_size_float32_4
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_function
name|ext_vector_size_float32_8
name|return_ext_vector_size_float32_8
parameter_list|(
name|ext_vector_size_float32_8
name|value
parameter_list|)
block|{
return|return
name|value
return|;
block|}
end_function

begin_function
name|int
name|main
parameter_list|()
block|{
name|int
name|first_int
init|=
literal|123456
decl_stmt|;
name|int
name|second_int
init|=
literal|234567
decl_stmt|;
name|outer_sint
argument_list|(
name|first_int
argument_list|)
expr_stmt|;
name|outer_sint
argument_list|(
name|second_int
argument_list|)
expr_stmt|;
name|float
name|first_float_value
init|=
literal|12.34
decl_stmt|;
name|float
name|second_float_value
init|=
literal|23.45
decl_stmt|;
name|outer_float
argument_list|(
name|first_float_value
argument_list|)
expr_stmt|;
name|outer_float
argument_list|(
name|second_float_value
argument_list|)
expr_stmt|;
name|double
name|double_value
init|=
operator|-
literal|23.45
decl_stmt|;
name|return_double
argument_list|(
name|double_value
argument_list|)
expr_stmt|;
name|return_pointer
argument_list|(
name|g_first_pointer
argument_list|)
expr_stmt|;
name|long
name|double
name|long_double_value
init|=
operator|-
literal|3456789.987654321
decl_stmt|;
name|return_long_double
argument_list|(
name|long_double_value
argument_list|)
expr_stmt|;
comment|// Okay, now the structures:
name|return_one_int
argument_list|(
operator|(
expr|struct
name|one_int
operator|)
block|{
literal|10
block|}
argument_list|)
expr_stmt|;
name|return_two_int
argument_list|(
operator|(
expr|struct
name|two_int
operator|)
block|{
literal|10
block|,
literal|20
block|}
argument_list|)
expr_stmt|;
name|return_three_int
argument_list|(
operator|(
expr|struct
name|three_int
operator|)
block|{
literal|10
block|,
literal|20
block|,
literal|30
block|}
argument_list|)
expr_stmt|;
name|return_four_int
argument_list|(
operator|(
expr|struct
name|four_int
operator|)
block|{
literal|10
block|,
literal|20
block|,
literal|30
block|,
literal|40
block|}
argument_list|)
expr_stmt|;
name|return_five_int
argument_list|(
operator|(
expr|struct
name|five_int
operator|)
block|{
literal|10
block|,
literal|20
block|,
literal|30
block|,
literal|40
block|,
literal|50
block|}
argument_list|)
expr_stmt|;
name|return_two_double
argument_list|(
operator|(
expr|struct
name|two_double
operator|)
block|{
literal|10.0
block|,
literal|20.0
block|}
argument_list|)
expr_stmt|;
name|return_one_double_two_float
argument_list|(
operator|(
expr|struct
name|one_double_two_float
operator|)
block|{
literal|10.0
block|,
literal|20.0
block|,
literal|30.0
block|}
argument_list|)
expr_stmt|;
name|return_one_int_one_float_one_int
argument_list|(
operator|(
expr|struct
name|one_int_one_float_one_int
operator|)
block|{
literal|10
block|,
literal|20.0
block|,
literal|30
block|}
argument_list|)
expr_stmt|;
name|return_one_pointer
argument_list|(
operator|(
expr|struct
name|one_pointer
operator|)
block|{
name|g_first_pointer
block|}
argument_list|)
expr_stmt|;
name|return_two_pointer
argument_list|(
operator|(
expr|struct
name|two_pointer
operator|)
block|{
name|g_first_pointer
block|,
name|g_second_pointer
block|}
argument_list|)
expr_stmt|;
name|return_one_float_one_pointer
argument_list|(
operator|(
expr|struct
name|one_float_one_pointer
operator|)
block|{
literal|10.0
block|,
name|g_first_pointer
block|}
argument_list|)
expr_stmt|;
name|return_one_int_one_pointer
argument_list|(
operator|(
expr|struct
name|one_int_one_pointer
operator|)
block|{
literal|10
block|,
name|g_first_pointer
block|}
argument_list|)
expr_stmt|;
name|return_three_short_one_float
argument_list|(
operator|(
expr|struct
name|three_short_one_float
operator|)
block|{
literal|10
block|,
literal|20
block|,
literal|30
block|,
literal|40.0
block|}
argument_list|)
expr_stmt|;
name|return_one_int_one_double
argument_list|(
operator|(
expr|struct
name|one_int_one_double
operator|)
block|{
literal|10
block|,
literal|20.0
block|}
argument_list|)
expr_stmt|;
name|return_one_int_one_double_one_int
argument_list|(
operator|(
expr|struct
name|one_int_one_double_one_int
operator|)
block|{
literal|10
block|,
literal|20.0
block|,
literal|30
block|}
argument_list|)
expr_stmt|;
name|return_one_short_one_double_one_short
argument_list|(
operator|(
expr|struct
name|one_short_one_double_one_short
operator|)
block|{
literal|10
block|,
literal|20.0
block|,
literal|30
block|}
argument_list|)
expr_stmt|;
name|return_one_float_one_int_one_float
argument_list|(
operator|(
expr|struct
name|one_float_one_int_one_float
operator|)
block|{
literal|10.0
block|,
literal|20
block|,
literal|30.0
block|}
argument_list|)
expr_stmt|;
name|return_two_float
argument_list|(
operator|(
expr|struct
name|two_float
operator|)
block|{
literal|10.0
block|,
literal|20.0
block|}
argument_list|)
expr_stmt|;
name|return_one_int_one_double_packed
argument_list|(
operator|(
expr|struct
name|one_int_one_double_packed
operator|)
block|{
literal|10
block|,
literal|20.0
block|}
argument_list|)
expr_stmt|;
name|return_one_int_one_long
argument_list|(
operator|(
expr|struct
name|one_int_one_long
operator|)
block|{
literal|10
block|,
literal|20
block|}
argument_list|)
expr_stmt|;
name|return_vector_size_float32_8
argument_list|(
operator|(
name|vector_size_float32_8
operator|)
block|{
literal|1.5
block|,
literal|2.25
block|}
argument_list|)
expr_stmt|;
name|return_vector_size_float32_16
argument_list|(
operator|(
name|vector_size_float32_16
operator|)
block|{
literal|1.5
block|,
literal|2.25
block|,
literal|4.125
block|,
literal|8.0625
block|}
argument_list|)
expr_stmt|;
name|return_vector_size_float32_32
argument_list|(
operator|(
name|vector_size_float32_32
operator|)
block|{
literal|1.5
block|,
literal|2.25
block|,
literal|4.125
block|,
literal|8.0625
block|,
literal|7.89
block|,
literal|8.52
block|,
literal|6.31
block|,
literal|9.12
block|}
argument_list|)
expr_stmt|;
name|return_ext_vector_size_float32_2
argument_list|(
operator|(
name|ext_vector_size_float32_2
operator|)
block|{
literal|16.5
block|,
literal|32.25
block|}
argument_list|)
expr_stmt|;
name|return_ext_vector_size_float32_4
argument_list|(
operator|(
name|ext_vector_size_float32_4
operator|)
block|{
literal|16.5
block|,
literal|32.25
block|,
literal|64.125
block|,
literal|128.0625
block|}
argument_list|)
expr_stmt|;
name|return_ext_vector_size_float32_8
argument_list|(
operator|(
name|ext_vector_size_float32_8
operator|)
block|{
literal|16.5
block|,
literal|32.25
block|,
literal|64.125
block|,
literal|128.0625
block|,
literal|1.59
block|,
literal|3.57
block|,
literal|8.63
block|,
literal|9.12
block|}
argument_list|)
expr_stmt|;
return|return
literal|0
return|;
block|}
end_function

end_unit

