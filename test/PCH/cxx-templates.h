begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|// Header for PCH test cxx-templates.cpp
end_comment

begin_expr_stmt
name|template
operator|<
name|typename
name|T1
operator|,
name|typename
name|T2
operator|>
expr|struct
name|S
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|template
operator|<
name|typename
name|T1
operator|,
name|typename
name|T2
operator|>
expr|struct
name|S
block|{
name|S
argument_list|()
block|{ }
specifier|static
name|void
name|templ
argument_list|()
block|; }
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|template
operator|<
name|typename
name|T
operator|>
expr|struct
name|S
operator|<
name|int
operator|,
name|T
operator|>
block|{
specifier|static
name|void
name|partial
argument_list|()
block|; }
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|template
operator|<
operator|>
expr|struct
name|S
operator|<
name|int
operator|,
name|float
operator|>
block|{
specifier|static
name|void
name|explicit_special
argument_list|()
block|; }
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|template
operator|<
name|int
name|x
operator|>
name|int
name|tmpl_f2
argument_list|()
block|{
return|return
name|x
return|;
block|}
end_expr_stmt

begin_expr_stmt
name|template
operator|<
name|typename
name|T
operator|,
name|int
name|y
operator|>
name|T
name|templ_f
argument_list|(
argument|T x
argument_list|)
block|{
name|int
name|z
operator|=
name|templ_f
operator|<
name|int
block|,
literal|5
operator|>
operator|(
literal|3
operator|)
block|;
name|z
operator|=
name|tmpl_f2
operator|<
name|y
operator|+
literal|2
operator|>
operator|(
operator|)
block|;
name|T
name|data
index|[
name|y
index|]
block|;
return|return
name|x
operator|+
name|y
return|;
block|}
end_expr_stmt

begin_function_decl
name|void
name|govl
parameter_list|(
name|int
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|govl
parameter_list|(
name|char
parameter_list|)
function_decl|;
end_function_decl

begin_expr_stmt
name|template
operator|<
name|typename
name|T
operator|>
expr|struct
name|Unresolv
block|{
name|void
name|f
argument_list|()
block|{
name|govl
argument_list|(
name|T
argument_list|()
argument_list|)
block|;   }
block|}
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|template
operator|<
name|typename
name|T
operator|>
expr|struct
name|Dep
block|{
typedef|typedef
name|typename
name|T
operator|::
name|type
name|Ty
expr_stmt|;
name|void
name|f
argument_list|()
block|{
name|Ty
name|x
operator|=
name|Ty
argument_list|()
block|;
name|T
operator|::
name|my_f
argument_list|()
block|;
name|int
name|y
operator|=
name|T
operator|::
name|template
name|my_templf
operator|<
name|int
operator|>
operator|(
literal|0
operator|)
block|;
name|ovl
argument_list|(
name|y
argument_list|)
block|;   }
name|void
name|ovl
argument_list|(
name|int
argument_list|)
expr_stmt|;
end_expr_stmt

begin_function_decl
name|void
name|ovl
parameter_list|(
name|float
parameter_list|)
function_decl|;
end_function_decl

begin_expr_stmt
unit|};
name|template
operator|<
name|typename
name|T
operator|,
name|typename
name|A1
operator|>
specifier|inline
name|T
name|make_a
argument_list|(
argument|const A1& a1
argument_list|)
block|{
name|T
operator|::
name|depend_declref
argument_list|()
block|;
return|return
name|T
argument_list|(
name|a1
argument_list|)
return|;
block|}
end_expr_stmt

begin_expr_stmt
name|template
operator|<
name|class
name|T
operator|>
name|class
name|UseBase
block|{
name|void
name|foo
argument_list|()
block|;
typedef|typedef
name|int
name|bar
typedef|;
block|}
end_expr_stmt

begin_empty_stmt
empty_stmt|;
end_empty_stmt

begin_expr_stmt
name|template
operator|<
name|class
name|T
operator|>
name|class
name|UseA
operator|:
name|public
name|UseBase
operator|<
name|T
operator|>
block|{
name|using
name|UseBase
operator|<
name|T
operator|>
operator|::
name|foo
block|;
name|using
name|typename
name|UseBase
operator|<
name|T
operator|>
operator|::
name|bar
block|;  }
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|template
operator|<
name|class
name|T
operator|>
name|class
name|Sub
operator|:
name|public
name|UseBase
operator|<
name|int
operator|>
block|{ }
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|template
operator|<
name|class
name|_Ret
operator|,
name|class
name|_Tp
operator|>
name|class
name|mem_fun_t
block|{
name|public
operator|:
name|explicit
name|mem_fun_t
argument_list|(
argument|_Ret (_Tp::*__pf)()
argument_list|)
block|{}
name|private
operator|:
name|_Ret
argument_list|(
name|_Tp
operator|::
operator|*
name|_M_f
argument_list|)
argument_list|()
block|;   }
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|template
operator|<
name|unsigned
name|N
operator|>
name|bool
name|isInt
argument_list|(
argument|int x
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|template
operator|<
operator|>
name|bool
name|isInt
operator|<
literal|8
operator|>
operator|(
name|int
name|x
operator|)
block|{
name|try
block|{
operator|++
name|x
block|; }
name|catch
argument_list|(
argument|...
argument_list|)
block|{
operator|--
name|x
block|; }
return|return
name|true
return|;
block|}
end_expr_stmt

begin_expr_stmt
name|template
operator|<
name|typename
name|_CharT
operator|>
name|int
name|__copy_streambufs_eof
argument_list|(
name|_CharT
argument_list|)
expr_stmt|;
end_expr_stmt

begin_decl_stmt
name|class
name|basic_streambuf
block|{
name|void
name|m
parameter_list|()
block|{ }
name|friend
name|int
name|__copy_streambufs_eof
operator|<
operator|>
operator|(
name|int
operator|)
expr_stmt|;
block|}
end_decl_stmt

begin_empty_stmt
empty_stmt|;
end_empty_stmt

begin_comment
comment|// PR 7660
end_comment

begin_expr_stmt
name|template
operator|<
name|typename
name|T
operator|>
expr|struct
name|S_PR7660
block|{
name|void
name|g
argument_list|(
name|void
argument_list|(
operator|*
argument_list|)
argument_list|(
name|T
argument_list|)
argument_list|)
block|; }
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|template
operator|<
operator|>
name|void
name|S_PR7660
operator|<
name|int
operator|>
operator|::
name|g
argument_list|(
argument|void(*)(int)
argument_list|)
block|{}
comment|// PR 7670
name|template
operator|<
name|typename
operator|>
name|class
name|C_PR7670
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|template
operator|<
operator|>
name|class
name|C_PR7670
operator|<
name|int
operator|>
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|template
operator|<
operator|>
name|class
name|C_PR7670
operator|<
name|int
operator|>
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|template
operator|<
name|bool
name|B
operator|>
expr|struct
name|S2
block|{
specifier|static
name|bool
name|V
block|; }
expr_stmt|;
end_expr_stmt

begin_extern
extern|extern template class S2<true>;
end_extern

begin_expr_stmt
name|template
operator|<
name|typename
name|T
operator|>
expr|struct
name|S3
block|{
name|void
name|m
argument_list|()
block|; }
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|template
operator|<
name|typename
name|T
operator|>
specifier|inline
name|void
name|S3
operator|<
name|T
operator|>
operator|::
name|m
argument_list|()
block|{ }
name|template
operator|<
name|typename
name|T
operator|>
expr|struct
name|S4
block|{
name|void
name|m
argument_list|()
block|{ }
block|}
expr_stmt|;
end_expr_stmt

begin_extern
extern|extern template struct S4<int>;
end_extern

begin_function
name|void
name|S4ImplicitInst
parameter_list|()
block|{
name|S4
operator|<
name|int
operator|>
name|s
expr_stmt|;
name|s
operator|.
name|m
argument_list|()
expr_stmt|;
block|}
end_function

begin_struct
struct|struct
name|S5
block|{
name|S5
argument_list|(
argument|int x
argument_list|)
empty_stmt|;
block|}
struct|;
end_struct

begin_struct
struct|struct
name|TS5
block|{
name|S5
name|s
decl_stmt|;
name|template
operator|<
name|typename
name|T
operator|>
name|TS5
argument_list|(
argument|T y
argument_list|)
operator|:
name|s
argument_list|(
argument|y
argument_list|)
block|{}
block|}
struct|;
end_struct

begin_comment
comment|// PR 8134
end_comment

begin_expr_stmt
name|template
operator|<
name|class
name|T
operator|>
name|void
name|f_PR8134
argument_list|(
name|T
argument_list|)
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|template
operator|<
name|class
name|T
operator|>
name|void
name|f_PR8134
argument_list|(
name|T
argument_list|)
expr_stmt|;
end_expr_stmt

begin_function
name|void
name|g_PR8134
parameter_list|()
block|{
name|f_PR8134
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|f_PR8134
argument_list|(
literal|'x'
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|// rdar8580149
end_comment

begin_expr_stmt
name|template
operator|<
name|typename
name|T
operator|>
expr|struct
name|S6
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|template
operator|<
name|typename
name|T
operator|,
name|unsigned
name|N
operator|>
expr|struct
name|S6
operator|<
specifier|const
name|T
index|[
name|N
index|]
operator|>
block|{
name|private
operator|:
typedef|typedef
specifier|const
name|T
name|t1
index|[
name|N
index|]
typedef|;
name|public
operator|:
end_expr_stmt

begin_typedef
typedef|typedef
name|t1
modifier|&
name|t2
typedef|;
end_typedef

begin_expr_stmt
unit|};
name|template
operator|<
name|typename
name|T
operator|>
expr|struct
name|S7
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|template
operator|<
name|unsigned
name|N
operator|>
expr|struct
name|S7
operator|<
name|int
index|[
name|N
index|]
operator|>
operator|:
name|S6
operator|<
specifier|const
name|int
index|[
name|N
index|]
operator|>
block|{ }
expr_stmt|;
end_expr_stmt

begin_comment
comment|// Zero-length template argument lists
end_comment

begin_decl_stmt
name|namespace
name|ZeroLengthExplicitTemplateArgs
block|{
name|template
operator|<
name|typename
name|T
operator|>
name|void
name|h
argument_list|()
expr_stmt|;
struct|struct
name|Y
block|{
name|template
operator|<
name|typename
name|T
operator|>
name|void
name|f
argument_list|()
expr_stmt|;
block|}
struct|;
name|template
operator|<
name|typename
name|T
operator|>
name|void
name|f
argument_list|(
argument|T *ptr
argument_list|)
block|{
name|T
operator|::
name|template
name|g
operator|<
operator|>
operator|(
literal|17
operator|)
block|;
name|ptr
operator|->
name|template
name|g2
operator|<
operator|>
operator|(
literal|17
operator|)
block|;
name|h
operator|<
name|T
operator|>
operator|(
operator|)
block|;
name|h
operator|<
name|int
operator|>
operator|(
operator|)
block|;
name|Y
name|y
block|;
name|y
operator|.
name|f
operator|<
name|int
operator|>
operator|(
operator|)
block|;   }
expr|struct
name|X
block|{
name|template
operator|<
name|typename
name|T
operator|>
specifier|static
name|void
name|g
argument_list|(
name|T
argument_list|)
block|;
name|template
operator|<
name|typename
name|T
operator|>
name|void
name|g2
argument_list|(
name|T
argument_list|)
block|;   }
expr_stmt|;
block|}
end_decl_stmt

begin_decl_stmt
name|namespace
name|NonTypeTemplateParmContext
block|{
name|template
operator|<
name|typename
name|T
operator|,
name|int
name|inlineCapacity
operator|=
literal|0
operator|>
name|class
name|Vector
block|{ }
expr_stmt|;
struct|struct
name|String
block|{
name|template
operator|<
name|int
name|inlineCapacity
operator|>
specifier|static
name|String
name|adopt
argument_list|(
name|Vector
operator|<
name|char
argument_list|,
name|inlineCapacity
operator|>
operator|&
argument_list|)
expr_stmt|;
block|}
struct|;
name|template
operator|<
name|int
name|inlineCapacity
operator|>
specifier|inline
name|bool
name|equalIgnoringNullity
argument_list|(
argument|const Vector<char
argument_list|,
argument|inlineCapacity>& a
argument_list|,
argument|const String& b
argument_list|)
block|{
return|return
name|false
return|;
block|}
block|}
end_decl_stmt

begin_comment
comment|//<rdar://problem/11112464>
end_comment

begin_expr_stmt
name|template
operator|<
name|typename
operator|>
name|class
name|Foo
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|template
operator|<
name|typename
name|T
operator|>
name|class
name|Foo
operator|:
name|protected
name|T
block|{
name|public
operator|:
name|Foo
operator|&
name|operator
operator|=
operator|(
specifier|const
name|Foo
operator|&
name|other
operator|)
block|; }
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|template
operator|<
name|typename
operator|...
name|A
operator|>
expr|struct
name|NestedExpansion
block|{
name|template
operator|<
name|typename
operator|...
name|B
operator|>
name|auto
name|f
argument_list|(
name|A
operator|...
name|a
argument_list|,
name|B
operator|...
name|b
argument_list|)
operator|->
name|decltype
argument_list|(
name|g
argument_list|(
name|a
operator|+
name|b
operator|...
argument_list|)
argument_list|)
block|; }
expr_stmt|;
end_expr_stmt

begin_macro
name|template
end_macro

begin_expr_stmt
unit|struct
name|NestedExpansion
operator|<
name|char
operator|,
name|char
operator|,
name|char
operator|>
expr_stmt|;
end_expr_stmt

begin_decl_stmt
name|namespace
name|rdar13135282
block|{
name|template
operator|<
name|typename
name|_Alloc
operator|>
name|void
name|foo
argument_list|(
name|_Alloc
operator|=
name|_Alloc
argument_list|()
argument_list|)
expr_stmt|;
name|template
operator|<
name|bool
operator|>
name|class
name|__pool
expr_stmt|;
name|template
operator|<
name|template
operator|<
name|bool
operator|>
name|class
name|_PoolTp
operator|>
expr|struct
name|__common_pool
block|{
typedef|typedef
name|_PoolTp
operator|<
literal|0
operator|>
name|pool_type
expr_stmt|;
block|}
empty_stmt|;
name|template
operator|<
name|template
operator|<
name|bool
operator|>
name|class
name|_PoolTp
operator|>
expr|struct
name|__common_pool_base
operator|:
name|__common_pool
operator|<
name|_PoolTp
operator|>
block|{}
expr_stmt|;
name|template
operator|<
name|template
operator|<
name|bool
operator|>
name|class
name|_PoolTp
operator|>
expr|struct
name|A
operator|:
name|__common_pool_base
operator|<
name|_PoolTp
operator|>
block|{}
expr_stmt|;
name|template
operator|<
name|typename
name|_Poolp
operator|=
name|A
operator|<
name|__pool
operator|>
expr|> struct
name|__mt_alloc
block|{
typedef|typedef
name|typename
name|_Poolp
operator|::
name|pool_type
name|__pool_type
expr_stmt|;
name|__mt_alloc
argument_list|()
block|{
name|foo
operator|<
name|__mt_alloc
operator|<
operator|>
expr|>
operator|(
operator|)
block|;   }
block|}
end_decl_stmt

begin_empty_stmt
empty_stmt|;
end_empty_stmt

begin_macro
unit|}  namespace
name|PR13020
end_macro

begin_block
block|{
name|template
operator|<
name|typename
name|T
operator|>
name|void
name|f
argument_list|()
block|{  enum
name|E
block|{
name|enumerator
block|}
block|;
name|T
name|t
operator|=
name|enumerator
block|; }
name|template
name|void
name|f
operator|<
name|int
operator|>
operator|(
operator|)
expr_stmt|;
block|}
end_block

begin_expr_stmt
name|template
operator|<
name|typename
name|T
operator|>
name|void
name|doNotDeserialize
argument_list|()
block|{}
name|template
operator|<
name|typename
name|T
operator|>
expr|struct
name|ContainsDoNotDeserialize
block|{
specifier|static
name|int
name|doNotDeserialize
block|; }
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|template
operator|<
name|typename
name|T
operator|>
expr|struct
name|ContainsDoNotDeserialize2
block|{
specifier|static
name|void
name|doNotDeserialize
argument_list|()
block|; }
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|template
operator|<
name|typename
name|T
operator|>
name|int
name|ContainsDoNotDeserialize
operator|<
name|T
operator|>
operator|::
name|doNotDeserialize
operator|=
literal|0
expr_stmt|;
end_expr_stmt

begin_expr_stmt
name|template
operator|<
name|typename
name|T
operator|>
name|void
name|ContainsDoNotDeserialize2
operator|<
name|T
operator|>
operator|::
name|doNotDeserialize
argument_list|()
block|{}
name|template
operator|<
name|typename
name|T
operator|>
name|void
name|DependentSpecializedFunc
argument_list|(
argument|T x
argument_list|)
block|{
name|x
operator|.
name|foo
argument_list|()
block|; }
name|template
operator|<
name|typename
name|T
operator|>
name|class
name|DependentSpecializedFuncClass
block|{
name|void
name|foo
argument_list|()
block|{}
name|friend
name|void
name|DependentSpecializedFunc
operator|<
operator|>
operator|(
name|DependentSpecializedFuncClass
operator|)
block|; }
expr_stmt|;
end_expr_stmt

begin_decl_stmt
name|namespace
name|cyclic_module_load
block|{
comment|// Reduced from a libc++ modules crasher.
name|namespace
name|std
block|{
name|template
operator|<
name|class
operator|>
name|class
name|mask_array
expr_stmt|;
name|template
operator|<
name|class
operator|>
name|class
name|valarray
block|{
name|public
operator|:
name|valarray
argument_list|(
specifier|const
name|valarray
operator|&
name|v
argument_list|)
block|;     }
expr_stmt|;
name|class
name|gslice
block|{
name|valarray
operator|<
name|int
operator|>
name|x
expr_stmt|;
name|valarray
operator|<
name|int
operator|>
name|stride
argument_list|()
specifier|const
block|{
return|return
name|x
return|;
block|}
block|}
empty_stmt|;
name|template
operator|<
name|class
operator|>
name|class
name|mask_array
block|{
name|template
operator|<
name|class
operator|>
name|friend
name|class
name|valarray
block|;     }
expr_stmt|;
block|}
block|}
end_decl_stmt

begin_decl_stmt
name|namespace
name|local_extern
block|{
name|template
operator|<
name|typename
name|T
operator|>
name|int
name|f
argument_list|()
block|{
specifier|extern
name|int
name|arr
index|[
literal|3
index|]
block|;
block|{
specifier|extern
name|T
name|arr
block|;
return|return
sizeof|sizeof
argument_list|(
name|arr
argument_list|)
return|;
block|}
expr|}
name|template
operator|<
name|typename
name|T
operator|>
name|int
name|g
argument_list|()
block|{
specifier|extern
name|int
name|arr
index|[
literal|3
index|]
block|;
specifier|extern
name|T
name|arr
block|;
return|return
sizeof|sizeof
argument_list|(
name|arr
argument_list|)
return|;
block|}
expr|}
name|namespace
name|rdar15468709a
block|{
name|template
operator|<
name|typename
operator|>
expr|struct
name|decay
block|{}
block|;
name|template
operator|<
name|typename
name|FooParamTy
operator|>
name|auto
name|foo
argument_list|(
argument|FooParamTy fooParam
argument_list|)
operator|->
name|decltype
argument_list|(
name|fooParam
argument_list|)
block|;
name|template
operator|<
name|typename
name|BarParamTy
operator|>
name|auto
name|bar
argument_list|(
argument|BarParamTy barParam
argument_list|)
operator|->
name|decay
operator|<
name|decltype
argument_list|(
name|barParam
argument_list|)
operator|>
block|;    struct
name|B
block|{}
block|;
name|void
name|crash
argument_list|()
block|{
name|B
name|some
block|;
name|bar
argument_list|(
name|some
argument_list|)
block|;   }
block|}
name|namespace
name|rdar15468709b
block|{
name|template
operator|<
name|typename
operator|>
expr|struct
name|decay
block|{}
block|;
name|template
operator|<
name|typename
operator|...
name|Foos
operator|>
name|int
name|returnsInt
argument_list|(
name|Foos
operator|...
name|foos
argument_list|)
block|;
name|template
operator|<
name|typename
operator|...
name|FooParamTy
operator|>
name|auto
name|foo
argument_list|(
name|FooParamTy
operator|...
name|fooParam
argument_list|)
operator|->
name|decltype
argument_list|(
name|returnsInt
argument_list|(
name|fooParam
operator|...
argument_list|)
argument_list|)
block|;
name|template
operator|<
name|typename
operator|...
name|BarParamTy
operator|>
name|auto
name|bar
argument_list|(
name|BarParamTy
operator|...
name|barParam
argument_list|)
operator|->
name|decay
operator|<
name|decltype
argument_list|(
name|returnsInt
argument_list|(
name|barParam
operator|...
argument_list|)
argument_list|)
operator|>
block|;    struct
name|B
block|{}
block|;
name|void
name|crash
argument_list|()
block|{
name|B
name|some
block|;
name|bar
argument_list|(
name|some
argument_list|)
block|;   }
block|}
name|namespace
name|rdar15468709c
block|{
name|template
operator|<
name|typename
operator|>
expr|struct
name|decay
block|{}
block|;
name|template
operator|<
name|class
operator|...
name|Foos
operator|>
name|int
name|returnsInt
argument_list|(
name|Foos
operator|...
name|foos
argument_list|)
block|;
name|template
operator|<
name|typename
name|FooParamTy
operator|>
name|void
name|foo
argument_list|(
argument|FooParamTy fooParam
argument_list|)
block|{
name|decltype
argument_list|(
argument|fooParam
argument_list|)
name|a
block|; }
name|template
operator|<
name|typename
name|BarParamTy
operator|>
name|auto
name|bar
argument_list|(
argument|BarParamTy barParam
argument_list|)
operator|->
name|decay
operator|<
name|decltype
argument_list|(
name|barParam
argument_list|)
operator|>
block|;    struct
name|B
block|{}
block|;
name|void
name|crash
argument_list|()
block|{
name|B
name|some
block|;
name|bar
argument_list|(
name|some
argument_list|)
block|;   }
block|}
name|namespace
name|MemberSpecializationLocation
block|{
name|template
operator|<
name|typename
name|T
operator|>
expr|struct
name|A
block|{
specifier|static
name|int
name|n
block|; }
block|; }
end_decl_stmt

end_unit

