begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|// REQUIRES: systemz-registered-target
end_comment

begin_comment
comment|// RUN: %clang_cc1 -target-cpu z14 -triple s390x-linux-gnu \
end_comment

begin_comment
comment|// RUN: -O -fzvector -fno-lax-vector-conversions \
end_comment

begin_comment
comment|// RUN: -Wall -Wno-unused -Werror -emit-llvm %s -o - | FileCheck %s
end_comment

begin_include
include|#
directive|include
file|<vecintrin.h>
end_include

begin_decl_stmt
specifier|volatile
name|vector
name|signed
name|char
name|vsc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|volatile
name|vector
name|signed
name|short
name|vss
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|volatile
name|vector
name|signed
name|int
name|vsi
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|volatile
name|vector
name|signed
name|long
name|long
name|vsl
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|volatile
name|vector
name|unsigned
name|char
name|vuc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|volatile
name|vector
name|unsigned
name|short
name|vus
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|volatile
name|vector
name|unsigned
name|int
name|vui
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|volatile
name|vector
name|unsigned
name|long
name|long
name|vul
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|volatile
name|vector
name|bool
name|char
name|vbc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|volatile
name|vector
name|bool
name|short
name|vbs
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|volatile
name|vector
name|bool
name|int
name|vbi
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|volatile
name|vector
name|bool
name|long
name|long
name|vbl
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|volatile
name|vector
name|float
name|vf
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|volatile
name|vector
name|double
name|vd
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|volatile
name|signed
name|char
name|sc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|volatile
name|signed
name|short
name|ss
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|volatile
name|signed
name|int
name|si
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|volatile
name|signed
name|long
name|long
name|sl
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|volatile
name|unsigned
name|char
name|uc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|volatile
name|unsigned
name|short
name|us
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|volatile
name|unsigned
name|int
name|ui
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|volatile
name|unsigned
name|long
name|long
name|ul
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|volatile
name|float
name|f
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|volatile
name|double
name|d
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|const
name|void
modifier|*
specifier|volatile
name|cptr
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|const
name|signed
name|char
modifier|*
specifier|volatile
name|cptrsc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|const
name|signed
name|short
modifier|*
specifier|volatile
name|cptrss
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|const
name|signed
name|int
modifier|*
specifier|volatile
name|cptrsi
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|const
name|signed
name|long
name|long
modifier|*
specifier|volatile
name|cptrsl
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|const
name|unsigned
name|char
modifier|*
specifier|volatile
name|cptruc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|const
name|unsigned
name|short
modifier|*
specifier|volatile
name|cptrus
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|const
name|unsigned
name|int
modifier|*
specifier|volatile
name|cptrui
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|const
name|unsigned
name|long
name|long
modifier|*
specifier|volatile
name|cptrul
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|const
name|float
modifier|*
specifier|volatile
name|cptrf
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|const
name|double
modifier|*
specifier|volatile
name|cptrd
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|void
modifier|*
specifier|volatile
name|ptr
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|signed
name|char
modifier|*
specifier|volatile
name|ptrsc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|signed
name|short
modifier|*
specifier|volatile
name|ptrss
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|signed
name|int
modifier|*
specifier|volatile
name|ptrsi
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|signed
name|long
name|long
modifier|*
specifier|volatile
name|ptrsl
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|unsigned
name|char
modifier|*
specifier|volatile
name|ptruc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|unsigned
name|short
modifier|*
specifier|volatile
name|ptrus
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|unsigned
name|int
modifier|*
specifier|volatile
name|ptrui
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|unsigned
name|long
name|long
modifier|*
specifier|volatile
name|ptrul
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|float
modifier|*
specifier|volatile
name|ptrf
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|double
modifier|*
specifier|volatile
name|ptrd
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|volatile
name|unsigned
name|int
name|len
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|volatile
name|int
name|idx
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|cc
decl_stmt|;
end_decl_stmt

begin_function
name|void
name|test_core
parameter_list|(
name|void
parameter_list|)
block|{
name|f
operator|=
name|vec_extract
argument_list|(
name|vf
argument_list|,
name|idx
argument_list|)
expr_stmt|;
comment|// CHECK: extractelement<4 x float> %{{.*}}, i32 %{{.*}}
name|d
operator|=
name|vec_extract
argument_list|(
name|vd
argument_list|,
name|idx
argument_list|)
expr_stmt|;
comment|// CHECK: extractelement<2 x double> %{{.*}}, i32 %{{.*}}
name|vf
operator|=
name|vec_insert
argument_list|(
name|d
argument_list|,
name|vf
argument_list|,
name|idx
argument_list|)
expr_stmt|;
comment|// CHECK: insertelement<4 x float> %{{.*}}, float %{{.*}}, i32 %{{.*}}
name|vd
operator|=
name|vec_insert
argument_list|(
name|f
argument_list|,
name|vd
argument_list|,
name|idx
argument_list|)
expr_stmt|;
comment|// CHECK: insertelement<2 x double> %{{.*}}, double %{{.*}}, i32 %{{.*}}
name|vf
operator|=
name|vec_promote
argument_list|(
name|f
argument_list|,
name|idx
argument_list|)
expr_stmt|;
comment|// CHECK: insertelement<4 x float> undef, float %{{.*}}, i32 %{{.*}}
name|vd
operator|=
name|vec_promote
argument_list|(
name|d
argument_list|,
name|idx
argument_list|)
expr_stmt|;
comment|// CHECK: insertelement<2 x double> undef, double %{{.*}}, i32 %{{.*}}
name|vf
operator|=
name|vec_insert_and_zero
argument_list|(
name|cptrf
argument_list|)
expr_stmt|;
comment|// CHECK: insertelement<4 x float><float undef, float 0.000000e+00, float 0.000000e+00, float 0.000000e+00>, float %{{.*}}, i32 0
name|vd
operator|=
name|vec_insert_and_zero
argument_list|(
name|cptrd
argument_list|)
expr_stmt|;
comment|// CHECK: insertelement<2 x double><double undef, double 0.000000e+00>, double %{{.*}}, i32 0
name|vf
operator|=
name|vec_perm
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|,
name|vuc
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vperm(<16 x i8> %{{.*}},<16 x i8> %{{.*}},<16 x i8> %{{.*}})
name|vd
operator|=
name|vec_perm
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|,
name|vuc
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vperm(<16 x i8> %{{.*}},<16 x i8> %{{.*}},<16 x i8> %{{.*}})
name|vul
operator|=
name|vec_bperm_u128
argument_list|(
name|vuc
argument_list|,
name|vuc
argument_list|)
expr_stmt|;
comment|// CHECK: call<2 x i64> @llvm.s390.vbperm(<16 x i8> %{{.*}},<16 x i8> %{{.*}})
name|vf
operator|=
name|vec_sel
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|,
name|vui
argument_list|)
expr_stmt|;
name|vf
operator|=
name|vec_sel
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|,
name|vbi
argument_list|)
expr_stmt|;
name|vd
operator|=
name|vec_sel
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|,
name|vul
argument_list|)
expr_stmt|;
name|vd
operator|=
name|vec_sel
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|,
name|vbl
argument_list|)
expr_stmt|;
name|vf
operator|=
name|vec_gather_element
argument_list|(
name|vf
argument_list|,
name|vui
argument_list|,
name|cptrf
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|vf
operator|=
name|vec_gather_element
argument_list|(
name|vf
argument_list|,
name|vui
argument_list|,
name|cptrf
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|vf
operator|=
name|vec_gather_element
argument_list|(
name|vf
argument_list|,
name|vui
argument_list|,
name|cptrf
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|vf
operator|=
name|vec_gather_element
argument_list|(
name|vf
argument_list|,
name|vui
argument_list|,
name|cptrf
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|vd
operator|=
name|vec_gather_element
argument_list|(
name|vd
argument_list|,
name|vul
argument_list|,
name|cptrd
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|vd
operator|=
name|vec_gather_element
argument_list|(
name|vd
argument_list|,
name|vul
argument_list|,
name|cptrd
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|vec_scatter_element
argument_list|(
name|vf
argument_list|,
name|vui
argument_list|,
name|ptrf
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|vec_scatter_element
argument_list|(
name|vf
argument_list|,
name|vui
argument_list|,
name|ptrf
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|vec_scatter_element
argument_list|(
name|vf
argument_list|,
name|vui
argument_list|,
name|ptrf
argument_list|,
literal|2
argument_list|)
expr_stmt|;
name|vec_scatter_element
argument_list|(
name|vf
argument_list|,
name|vui
argument_list|,
name|ptrf
argument_list|,
literal|3
argument_list|)
expr_stmt|;
name|vec_scatter_element
argument_list|(
name|vd
argument_list|,
name|vul
argument_list|,
name|ptrd
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|vec_scatter_element
argument_list|(
name|vd
argument_list|,
name|vul
argument_list|,
name|ptrd
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|vf
operator|=
name|vec_xl
argument_list|(
name|idx
argument_list|,
name|cptrf
argument_list|)
expr_stmt|;
name|vd
operator|=
name|vec_xl
argument_list|(
name|idx
argument_list|,
name|cptrd
argument_list|)
expr_stmt|;
name|vec_xst
argument_list|(
name|vf
argument_list|,
name|idx
argument_list|,
name|ptrf
argument_list|)
expr_stmt|;
name|vec_xst
argument_list|(
name|vd
argument_list|,
name|idx
argument_list|,
name|ptrd
argument_list|)
expr_stmt|;
name|vd
operator|=
name|vec_load_bndry
argument_list|(
name|cptrd
argument_list|,
literal|64
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vlbb(i8* %{{.*}}, i32 0)
name|vf
operator|=
name|vec_load_bndry
argument_list|(
name|cptrf
argument_list|,
literal|64
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vlbb(i8* %{{.*}}, i32 0)
name|vf
operator|=
name|vec_load_bndry
argument_list|(
name|cptrf
argument_list|,
literal|128
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vlbb(i8* %{{.*}}, i32 1)
name|vf
operator|=
name|vec_load_bndry
argument_list|(
name|cptrf
argument_list|,
literal|256
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vlbb(i8* %{{.*}}, i32 2)
name|vf
operator|=
name|vec_load_bndry
argument_list|(
name|cptrf
argument_list|,
literal|512
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vlbb(i8* %{{.*}}, i32 3)
name|vf
operator|=
name|vec_load_bndry
argument_list|(
name|cptrf
argument_list|,
literal|1024
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vlbb(i8* %{{.*}}, i32 4)
name|vf
operator|=
name|vec_load_bndry
argument_list|(
name|cptrf
argument_list|,
literal|2048
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vlbb(i8* %{{.*}}, i32 5)
name|vf
operator|=
name|vec_load_bndry
argument_list|(
name|cptrf
argument_list|,
literal|4096
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vlbb(i8* %{{.*}}, i32 6)
name|vf
operator|=
name|vec_load_len
argument_list|(
name|cptrf
argument_list|,
name|idx
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vll(i32 %{{.*}}, i8* %{{.*}})
name|vd
operator|=
name|vec_load_len
argument_list|(
name|cptrd
argument_list|,
name|idx
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vll(i32 %{{.*}}, i8* %{{.*}})
name|vec_store_len
argument_list|(
name|vf
argument_list|,
name|ptrf
argument_list|,
name|idx
argument_list|)
expr_stmt|;
comment|// CHECK: call void @llvm.s390.vstl(<16 x i8> %{{.*}}, i32 %{{.*}}, i8* %{{.*}})
name|vec_store_len
argument_list|(
name|vd
argument_list|,
name|ptrd
argument_list|,
name|idx
argument_list|)
expr_stmt|;
comment|// CHECK: call void @llvm.s390.vstl(<16 x i8> %{{.*}}, i32 %{{.*}}, i8* %{{.*}})
name|vuc
operator|=
name|vec_load_len_r
argument_list|(
name|cptruc
argument_list|,
name|idx
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vlrl(i32 %{{.*}}, i8* %{{.*}})
name|vec_store_len_r
argument_list|(
name|vuc
argument_list|,
name|ptruc
argument_list|,
name|idx
argument_list|)
expr_stmt|;
comment|// CHECK: call void @llvm.s390.vstrl(<16 x i8> %{{.*}}, i32 %{{.*}}, i8* %{{.*}})
name|vf
operator|=
name|vec_splat
argument_list|(
name|vf
argument_list|,
literal|0
argument_list|)
expr_stmt|;
comment|// CHECK: shufflevector<4 x float> %{{.*}},<4 x float> undef,<4 x i32> zeroinitializer
name|vf
operator|=
name|vec_splat
argument_list|(
name|vf
argument_list|,
literal|1
argument_list|)
expr_stmt|;
comment|// CHECK: shufflevector<4 x float> %{{.*}},<4 x float> undef,<4 x i32><i32 1, i32 1, i32 1, i32 1>
name|vd
operator|=
name|vec_splat
argument_list|(
name|vd
argument_list|,
literal|0
argument_list|)
expr_stmt|;
comment|// CHECK: shufflevector<2 x double> %{{.*}},<2 x double> undef,<2 x i32> zeroinitializer
name|vd
operator|=
name|vec_splat
argument_list|(
name|vd
argument_list|,
literal|1
argument_list|)
expr_stmt|;
comment|// CHECK: shufflevector<2 x double> %{{.*}},<2 x double> undef,<2 x i32><i32 1, i32 1>
name|vf
operator|=
name|vec_splats
argument_list|(
name|f
argument_list|)
expr_stmt|;
comment|// CHECK: shufflevector<4 x float> %{{.*}},<4 x float> undef,<4 x i32> zeroinitializer
name|vd
operator|=
name|vec_splats
argument_list|(
name|d
argument_list|)
expr_stmt|;
comment|// CHECK: shufflevector<2 x double> %{{.*}},<2 x double> undef,<2 x i32> zeroinitializer
name|vf
operator|=
name|vec_mergeh
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// shufflevector<4 x float> %{{.*}},<4 x float> %{{.*}},<4 x i32><i32 0, i32 4, i32 1, i32 5>
name|vd
operator|=
name|vec_mergeh
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// shufflevector<2 x double> %{{.*}},<2 x double> %{{.*}},<2 x i32><i32 0, i32 2>
name|vf
operator|=
name|vec_mergel
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// shufflevector<4 x float> %{{.*}},<4 x float> %{{.*}},<i32 2, i32 6, i32 3, i32 7>
name|vd
operator|=
name|vec_mergel
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// shufflevector<2 x double> %{{.*}},<2 x double> %{{.*}},<i32 1, i32 3>
block|}
end_function

begin_function
name|void
name|test_compare
parameter_list|(
name|void
parameter_list|)
block|{
name|vbi
operator|=
name|vec_cmpeq
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: fcmp oeq<4 x float> %{{.*}}, %{{.*}}
name|vbl
operator|=
name|vec_cmpeq
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: fcmp oeq<2 x double> %{{.*}}, %{{.*}}
name|vbi
operator|=
name|vec_cmpge
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: fcmp oge<4 x float> %{{.*}}, %{{.*}}
name|vbl
operator|=
name|vec_cmpge
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: fcmp oge<2 x double> %{{.*}}, %{{.*}}
name|vbi
operator|=
name|vec_cmpgt
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: fcmp ogt<4 x float> %{{.*}}, %{{.*}}
name|vbl
operator|=
name|vec_cmpgt
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: fcmp ogt<2 x double> %{{.*}}, %{{.*}}
name|vbi
operator|=
name|vec_cmple
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: fcmp ole<4 x float> %{{.*}}, %{{.*}}
name|vbl
operator|=
name|vec_cmple
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: fcmp ole<2 x double> %{{.*}}, %{{.*}}
name|vbi
operator|=
name|vec_cmplt
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: fcmp olt<4 x float> %{{.*}}, %{{.*}}
name|vbl
operator|=
name|vec_cmplt
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: fcmp olt<2 x double> %{{.*}}, %{{.*}}
name|idx
operator|=
name|vec_all_eq
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call {<4 x i32>, i32 } @llvm.s390.vfcesbs(<4 x float> %{{.*}},<4 x float> %{{.*}})
name|idx
operator|=
name|vec_all_eq
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call {<2 x i64>, i32 } @llvm.s390.vfcedbs(<2 x double> %{{.*}},<2 x double> %{{.*}})
name|idx
operator|=
name|vec_all_ne
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call {<4 x i32>, i32 } @llvm.s390.vfcesbs(<4 x float> %{{.*}},<4 x float> %{{.*}})
name|idx
operator|=
name|vec_all_ne
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call {<2 x i64>, i32 } @llvm.s390.vfcedbs(<2 x double> %{{.*}},<2 x double> %{{.*}})
name|idx
operator|=
name|vec_all_ge
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call {<4 x i32>, i32 } @llvm.s390.vfchesbs(<4 x float> %{{.*}},<4 x float> %{{.*}})
name|idx
operator|=
name|vec_all_ge
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call {<2 x i64>, i32 } @llvm.s390.vfchedbs(<2 x double> %{{.*}},<2 x double> %{{.*}})
name|idx
operator|=
name|vec_all_gt
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call {<4 x i32>, i32 } @llvm.s390.vfchsbs(<4 x float> %{{.*}},<4 x float> %{{.*}})
name|idx
operator|=
name|vec_all_gt
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call {<2 x i64>, i32 } @llvm.s390.vfchdbs(<2 x double> %{{.*}},<2 x double> %{{.*}})
name|idx
operator|=
name|vec_all_le
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call {<4 x i32>, i32 } @llvm.s390.vfchesbs(<4 x float> %{{.*}},<4 x float> %{{.*}})
name|idx
operator|=
name|vec_all_le
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call {<2 x i64>, i32 } @llvm.s390.vfchedbs(<2 x double> %{{.*}},<2 x double> %{{.*}})
name|idx
operator|=
name|vec_all_lt
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call {<4 x i32>, i32 } @llvm.s390.vfchsbs(<4 x float> %{{.*}},<4 x float> %{{.*}})
name|idx
operator|=
name|vec_all_lt
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call {<2 x i64>, i32 } @llvm.s390.vfchdbs(<2 x double> %{{.*}},<2 x double> %{{.*}})
name|idx
operator|=
name|vec_all_nge
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call {<2 x i64>, i32 } @llvm.s390.vfchedbs(<2 x double> %{{.*}},<2 x double> %{{.*}})
name|idx
operator|=
name|vec_all_nge
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call {<2 x i64>, i32 } @llvm.s390.vfchedbs(<2 x double> %{{.*}},<2 x double> %{{.*}})
name|idx
operator|=
name|vec_all_ngt
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call {<4 x i32>, i32 } @llvm.s390.vfchsbs(<4 x float> %{{.*}},<4 x float> %{{.*}})
name|idx
operator|=
name|vec_all_ngt
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call {<2 x i64>, i32 } @llvm.s390.vfchdbs(<2 x double> %{{.*}},<2 x double> %{{.*}})
name|idx
operator|=
name|vec_all_nle
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call {<4 x i32>, i32 } @llvm.s390.vfchesbs(<4 x float> %{{.*}},<4 x float> %{{.*}})
name|idx
operator|=
name|vec_all_nle
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call {<2 x i64>, i32 } @llvm.s390.vfchedbs(<2 x double> %{{.*}},<2 x double> %{{.*}})
name|idx
operator|=
name|vec_all_nlt
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call {<4 x i32>, i32 } @llvm.s390.vfchsbs(<4 x float> %{{.*}},<4 x float> %{{.*}})
name|idx
operator|=
name|vec_all_nlt
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call {<2 x i64>, i32 } @llvm.s390.vfchdbs(<2 x double> %{{.*}},<2 x double> %{{.*}})
name|idx
operator|=
name|vec_all_nan
argument_list|(
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call {<4 x i32>, i32 } @llvm.s390.vftcisb(<4 x float> %{{.*}}, i32 15)
name|idx
operator|=
name|vec_all_nan
argument_list|(
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call {<2 x i64>, i32 } @llvm.s390.vftcidb(<2 x double> %{{.*}}, i32 15)
name|idx
operator|=
name|vec_all_numeric
argument_list|(
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call {<4 x i32>, i32 } @llvm.s390.vftcisb(<4 x float> %{{.*}}, i32 15)
name|idx
operator|=
name|vec_all_numeric
argument_list|(
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call {<2 x i64>, i32 } @llvm.s390.vftcidb(<2 x double> %{{.*}}, i32 15)
name|idx
operator|=
name|vec_any_eq
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call {<4 x i32>, i32 } @llvm.s390.vfcesbs(<4 x float> %{{.*}},<4 x float> %{{.*}})
name|idx
operator|=
name|vec_any_eq
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call {<2 x i64>, i32 } @llvm.s390.vfcedbs(<2 x double> %{{.*}},<2 x double> %{{.*}})
name|idx
operator|=
name|vec_any_ne
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call {<4 x i32>, i32 } @llvm.s390.vfcesbs(<4 x float> %{{.*}},<4 x float> %{{.*}})
name|idx
operator|=
name|vec_any_ne
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call {<2 x i64>, i32 } @llvm.s390.vfcedbs(<2 x double> %{{.*}},<2 x double> %{{.*}})
name|idx
operator|=
name|vec_any_ge
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call {<4 x i32>, i32 } @llvm.s390.vfchesbs(<4 x float> %{{.*}},<4 x float> %{{.*}})
name|idx
operator|=
name|vec_any_ge
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call {<2 x i64>, i32 } @llvm.s390.vfchedbs(<2 x double> %{{.*}},<2 x double> %{{.*}})
name|idx
operator|=
name|vec_any_gt
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call {<4 x i32>, i32 } @llvm.s390.vfchsbs(<4 x float> %{{.*}},<4 x float> %{{.*}})
name|idx
operator|=
name|vec_any_gt
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call {<2 x i64>, i32 } @llvm.s390.vfchdbs(<2 x double> %{{.*}},<2 x double> %{{.*}})
name|idx
operator|=
name|vec_any_le
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call {<4 x i32>, i32 } @llvm.s390.vfchesbs(<4 x float> %{{.*}},<4 x float> %{{.*}})
name|idx
operator|=
name|vec_any_le
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call {<2 x i64>, i32 } @llvm.s390.vfchedbs(<2 x double> %{{.*}},<2 x double> %{{.*}})
name|idx
operator|=
name|vec_any_lt
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call {<4 x i32>, i32 } @llvm.s390.vfchsbs(<4 x float> %{{.*}},<4 x float> %{{.*}})
name|idx
operator|=
name|vec_any_lt
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call {<2 x i64>, i32 } @llvm.s390.vfchdbs(<2 x double> %{{.*}},<2 x double> %{{.*}})
name|idx
operator|=
name|vec_any_nge
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call {<4 x i32>, i32 } @llvm.s390.vfchesbs(<4 x float> %{{.*}},<4 x float> %{{.*}})
name|idx
operator|=
name|vec_any_nge
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call {<2 x i64>, i32 } @llvm.s390.vfchedbs(<2 x double> %{{.*}},<2 x double> %{{.*}})
name|idx
operator|=
name|vec_any_ngt
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call {<4 x i32>, i32 } @llvm.s390.vfchsbs(<4 x float> %{{.*}},<4 x float> %{{.*}})
name|idx
operator|=
name|vec_any_ngt
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call {<2 x i64>, i32 } @llvm.s390.vfchdbs(<2 x double> %{{.*}},<2 x double> %{{.*}})
name|idx
operator|=
name|vec_any_nle
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call {<4 x i32>, i32 } @llvm.s390.vfchesbs(<4 x float> %{{.*}},<4 x float> %{{.*}})
name|idx
operator|=
name|vec_any_nle
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call {<2 x i64>, i32 } @llvm.s390.vfchedbs(<2 x double> %{{.*}},<2 x double> %{{.*}})
name|idx
operator|=
name|vec_any_nlt
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call {<4 x i32>, i32 } @llvm.s390.vfchsbs(<4 x float> %{{.*}},<4 x float> %{{.*}})
name|idx
operator|=
name|vec_any_nlt
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call {<2 x i64>, i32 } @llvm.s390.vfchdbs(<2 x double> %{{.*}},<2 x double> %{{.*}})
name|idx
operator|=
name|vec_any_nan
argument_list|(
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call {<4 x i32>, i32 } @llvm.s390.vftcisb(<4 x float> %{{.*}}, i32 15)
name|idx
operator|=
name|vec_any_nan
argument_list|(
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call {<2 x i64>, i32 } @llvm.s390.vftcidb(<2 x double> %{{.*}}, i32 15)
name|idx
operator|=
name|vec_any_numeric
argument_list|(
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call {<4 x i32>, i32 } @llvm.s390.vftcisb(<4 x float> %{{.*}}, i32 15)
name|idx
operator|=
name|vec_any_numeric
argument_list|(
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call {<2 x i64>, i32 } @llvm.s390.vftcidb(<2 x double> %{{.*}}, i32 15)
block|}
end_function

begin_function
name|void
name|test_integer
parameter_list|(
name|void
parameter_list|)
block|{
name|vf
operator|=
name|vec_andc
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
name|vd
operator|=
name|vec_andc
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
name|vf
operator|=
name|vec_nor
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
name|vd
operator|=
name|vec_nor
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
name|vsc
operator|=
name|vec_nand
argument_list|(
name|vsc
argument_list|,
name|vsc
argument_list|)
expr_stmt|;
name|vuc
operator|=
name|vec_nand
argument_list|(
name|vuc
argument_list|,
name|vuc
argument_list|)
expr_stmt|;
name|vbc
operator|=
name|vec_nand
argument_list|(
name|vbc
argument_list|,
name|vbc
argument_list|)
expr_stmt|;
name|vss
operator|=
name|vec_nand
argument_list|(
name|vss
argument_list|,
name|vss
argument_list|)
expr_stmt|;
name|vus
operator|=
name|vec_nand
argument_list|(
name|vus
argument_list|,
name|vus
argument_list|)
expr_stmt|;
name|vbs
operator|=
name|vec_nand
argument_list|(
name|vbs
argument_list|,
name|vbs
argument_list|)
expr_stmt|;
name|vsi
operator|=
name|vec_nand
argument_list|(
name|vsi
argument_list|,
name|vsi
argument_list|)
expr_stmt|;
name|vui
operator|=
name|vec_nand
argument_list|(
name|vui
argument_list|,
name|vui
argument_list|)
expr_stmt|;
name|vbi
operator|=
name|vec_nand
argument_list|(
name|vbi
argument_list|,
name|vbi
argument_list|)
expr_stmt|;
name|vsl
operator|=
name|vec_nand
argument_list|(
name|vsl
argument_list|,
name|vsl
argument_list|)
expr_stmt|;
name|vul
operator|=
name|vec_nand
argument_list|(
name|vul
argument_list|,
name|vul
argument_list|)
expr_stmt|;
name|vbl
operator|=
name|vec_nand
argument_list|(
name|vbl
argument_list|,
name|vbl
argument_list|)
expr_stmt|;
name|vf
operator|=
name|vec_nand
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
name|vd
operator|=
name|vec_nand
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
name|vsc
operator|=
name|vec_orc
argument_list|(
name|vsc
argument_list|,
name|vsc
argument_list|)
expr_stmt|;
name|vuc
operator|=
name|vec_orc
argument_list|(
name|vuc
argument_list|,
name|vuc
argument_list|)
expr_stmt|;
name|vbc
operator|=
name|vec_orc
argument_list|(
name|vbc
argument_list|,
name|vbc
argument_list|)
expr_stmt|;
name|vss
operator|=
name|vec_orc
argument_list|(
name|vss
argument_list|,
name|vss
argument_list|)
expr_stmt|;
name|vus
operator|=
name|vec_orc
argument_list|(
name|vus
argument_list|,
name|vus
argument_list|)
expr_stmt|;
name|vbs
operator|=
name|vec_orc
argument_list|(
name|vbs
argument_list|,
name|vbs
argument_list|)
expr_stmt|;
name|vsi
operator|=
name|vec_orc
argument_list|(
name|vsi
argument_list|,
name|vsi
argument_list|)
expr_stmt|;
name|vui
operator|=
name|vec_orc
argument_list|(
name|vui
argument_list|,
name|vui
argument_list|)
expr_stmt|;
name|vbi
operator|=
name|vec_orc
argument_list|(
name|vbi
argument_list|,
name|vbi
argument_list|)
expr_stmt|;
name|vsl
operator|=
name|vec_orc
argument_list|(
name|vsl
argument_list|,
name|vsl
argument_list|)
expr_stmt|;
name|vul
operator|=
name|vec_orc
argument_list|(
name|vul
argument_list|,
name|vul
argument_list|)
expr_stmt|;
name|vbl
operator|=
name|vec_orc
argument_list|(
name|vbl
argument_list|,
name|vbl
argument_list|)
expr_stmt|;
name|vf
operator|=
name|vec_orc
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
name|vd
operator|=
name|vec_orc
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
name|vsc
operator|=
name|vec_eqv
argument_list|(
name|vsc
argument_list|,
name|vsc
argument_list|)
expr_stmt|;
name|vuc
operator|=
name|vec_eqv
argument_list|(
name|vuc
argument_list|,
name|vuc
argument_list|)
expr_stmt|;
name|vbc
operator|=
name|vec_eqv
argument_list|(
name|vbc
argument_list|,
name|vbc
argument_list|)
expr_stmt|;
name|vss
operator|=
name|vec_eqv
argument_list|(
name|vss
argument_list|,
name|vss
argument_list|)
expr_stmt|;
name|vus
operator|=
name|vec_eqv
argument_list|(
name|vus
argument_list|,
name|vus
argument_list|)
expr_stmt|;
name|vbs
operator|=
name|vec_eqv
argument_list|(
name|vbs
argument_list|,
name|vbs
argument_list|)
expr_stmt|;
name|vsi
operator|=
name|vec_eqv
argument_list|(
name|vsi
argument_list|,
name|vsi
argument_list|)
expr_stmt|;
name|vui
operator|=
name|vec_eqv
argument_list|(
name|vui
argument_list|,
name|vui
argument_list|)
expr_stmt|;
name|vbi
operator|=
name|vec_eqv
argument_list|(
name|vbi
argument_list|,
name|vbi
argument_list|)
expr_stmt|;
name|vsl
operator|=
name|vec_eqv
argument_list|(
name|vsl
argument_list|,
name|vsl
argument_list|)
expr_stmt|;
name|vul
operator|=
name|vec_eqv
argument_list|(
name|vul
argument_list|,
name|vul
argument_list|)
expr_stmt|;
name|vbl
operator|=
name|vec_eqv
argument_list|(
name|vbl
argument_list|,
name|vbl
argument_list|)
expr_stmt|;
name|vf
operator|=
name|vec_eqv
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
name|vd
operator|=
name|vec_eqv
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
name|vf
operator|=
name|vec_slb
argument_list|(
name|vf
argument_list|,
name|vsi
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vslb(<16 x i8> %{{.*}},<16 x i8> %{{.*}})
name|vf
operator|=
name|vec_slb
argument_list|(
name|vf
argument_list|,
name|vui
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vslb(<16 x i8> %{{.*}},<16 x i8> %{{.*}})
name|vd
operator|=
name|vec_slb
argument_list|(
name|vd
argument_list|,
name|vsl
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vslb(<16 x i8> %{{.*}},<16 x i8> %{{.*}})
name|vd
operator|=
name|vec_slb
argument_list|(
name|vd
argument_list|,
name|vul
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vslb(<16 x i8> %{{.*}},<16 x i8> %{{.*}})
name|vf
operator|=
name|vec_sld
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|,
literal|0
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vsldb(<16 x i8> %{{.*}},<16 x i8> %{{.*}}, i32 0)
name|vf
operator|=
name|vec_sld
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|,
literal|15
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vsldb(<16 x i8> %{{.*}},<16 x i8> %{{.*}}, i32 15)
name|vd
operator|=
name|vec_sld
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|,
literal|0
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vsldb(<16 x i8> %{{.*}},<16 x i8> %{{.*}}, i32 0)
name|vd
operator|=
name|vec_sld
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|,
literal|15
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vsldb(<16 x i8> %{{.*}},<16 x i8> %{{.*}}, i32 15)
name|vf
operator|=
name|vec_srab
argument_list|(
name|vf
argument_list|,
name|vsi
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vsrab(<16 x i8> %{{.*}},<16 x i8> %{{.*}})
name|vf
operator|=
name|vec_srab
argument_list|(
name|vf
argument_list|,
name|vui
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vsrab(<16 x i8> %{{.*}},<16 x i8> %{{.*}})
name|vd
operator|=
name|vec_srab
argument_list|(
name|vd
argument_list|,
name|vsl
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vsrab(<16 x i8> %{{.*}},<16 x i8> %{{.*}})
name|vd
operator|=
name|vec_srab
argument_list|(
name|vd
argument_list|,
name|vul
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vsrab(<16 x i8> %{{.*}},<16 x i8> %{{.*}})
name|vf
operator|=
name|vec_srb
argument_list|(
name|vf
argument_list|,
name|vsi
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vsrlb(<16 x i8> %{{.*}},<16 x i8> %{{.*}})
name|vf
operator|=
name|vec_srb
argument_list|(
name|vf
argument_list|,
name|vui
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vsrlb(<16 x i8> %{{.*}},<16 x i8> %{{.*}})
name|vd
operator|=
name|vec_srb
argument_list|(
name|vd
argument_list|,
name|vsl
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vsrlb(<16 x i8> %{{.*}},<16 x i8> %{{.*}})
name|vd
operator|=
name|vec_srb
argument_list|(
name|vd
argument_list|,
name|vul
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vsrlb(<16 x i8> %{{.*}},<16 x i8> %{{.*}})
name|idx
operator|=
name|vec_test_mask
argument_list|(
name|vf
argument_list|,
name|vui
argument_list|)
expr_stmt|;
comment|// CHECK: call i32 @llvm.s390.vtm(<16 x i8> %{{.*}},<16 x i8> %{{.*}})
name|idx
operator|=
name|vec_test_mask
argument_list|(
name|vd
argument_list|,
name|vul
argument_list|)
expr_stmt|;
comment|// CHECK: call i32 @llvm.s390.vtm(<16 x i8> %{{.*}},<16 x i8> %{{.*}})
name|vuc
operator|=
name|vec_msum_u128
argument_list|(
name|vul
argument_list|,
name|vul
argument_list|,
name|vuc
argument_list|,
literal|0
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vmslg(<2 x i64> %{{.*}},<2 x i64> %{{.*}},<16 x i8> %{{.*}}, i32 0)
name|vuc
operator|=
name|vec_msum_u128
argument_list|(
name|vul
argument_list|,
name|vul
argument_list|,
name|vuc
argument_list|,
literal|4
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vmslg(<2 x i64> %{{.*}},<2 x i64> %{{.*}},<16 x i8> %{{.*}}, i32 4)
name|vuc
operator|=
name|vec_msum_u128
argument_list|(
name|vul
argument_list|,
name|vul
argument_list|,
name|vuc
argument_list|,
literal|8
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vmslg(<2 x i64> %{{.*}},<2 x i64> %{{.*}},<16 x i8> %{{.*}}, i32 8)
name|vuc
operator|=
name|vec_msum_u128
argument_list|(
name|vul
argument_list|,
name|vul
argument_list|,
name|vuc
argument_list|,
literal|12
argument_list|)
expr_stmt|;
comment|// CHECK: call<16 x i8> @llvm.s390.vmslg(<2 x i64> %{{.*}},<2 x i64> %{{.*}},<16 x i8> %{{.*}}, i32 12)
block|}
end_function

begin_function
name|void
name|test_float
parameter_list|(
name|void
parameter_list|)
block|{
name|vf
operator|=
name|vec_abs
argument_list|(
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call<4 x float> @llvm.fabs.v4f32(<4 x float> %{{.*}})
name|vd
operator|=
name|vec_abs
argument_list|(
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call<2 x double> @llvm.fabs.v2f64(<2 x double> %{{.*}})
name|vf
operator|=
name|vec_nabs
argument_list|(
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: [[ABS:%[^ ]+]] = tail call<4 x float> @llvm.fabs.v4f32(<4 x float> %{{.*}})
comment|// CHECK-NEXT: fsub<4 x float><float -0.000000e+00, float -0.000000e+00, float -0.000000e+00, float -0.000000e+00>, [[ABS]]
name|vd
operator|=
name|vec_nabs
argument_list|(
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: [[ABS:%[^ ]+]] = tail call<2 x double> @llvm.fabs.v2f64(<2 x double> %{{.*}})
comment|// CHECK-NEXT: fsub<2 x double><double -0.000000e+00, double -0.000000e+00>, [[ABS]]
name|vf
operator|=
name|vec_max
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call<4 x float> @llvm.s390.vfmaxsb(<4 x float> %{{.*}},<4 x float> %{{.*}}, i32 0)
name|vd
operator|=
name|vec_max
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call<2 x double> @llvm.s390.vfmaxdb(<2 x double> %{{.*}},<2 x double> %{{.*}}, i32 0)
name|vf
operator|=
name|vec_min
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call<4 x float> @llvm.s390.vfminsb(<4 x float> %{{.*}},<4 x float> %{{.*}}, i32 0)
name|vd
operator|=
name|vec_min
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call<2 x double> @llvm.s390.vfmindb(<2 x double> %{{.*}},<2 x double> %{{.*}}, i32 0)
name|vf
operator|=
name|vec_madd
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call<4 x float> @llvm.fma.v4f32(<4 x float> %{{.*}},<4 x float> %{{.*}},<4 x float> %{{.*}})
name|vd
operator|=
name|vec_madd
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call<2 x double> @llvm.fma.v2f64(<2 x double> %{{.*}},<2 x double> %{{.*}},<2 x double> %{{.*}})
name|vf
operator|=
name|vec_msub
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: [[NEG:%[^ ]+]] = fsub<4 x float><float -0.000000e+00, float -0.000000e+00, float -0.000000e+00, float -0.000000e+00>, %{{.*}}
comment|// CHECK: call<4 x float> @llvm.fma.v4f32(<4 x float> %{{.*}},<4 x float> %{{.*}},<4 x float> [[NEG]])
name|vd
operator|=
name|vec_msub
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: [[NEG:%[^ ]+]] = fsub<2 x double><double -0.000000e+00, double -0.000000e+00>, %{{.*}}
comment|// CHECK: call<2 x double> @llvm.fma.v2f64(<2 x double> %{{.*}},<2 x double> %{{.*}},<2 x double> [[NEG]])
name|vf
operator|=
name|vec_nmadd
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: [[RES:%[^ ]+]] = tail call<4 x float> @llvm.fma.v4f32(<4 x float> %{{.*}},<4 x float> %{{.*}},<4 x float> %{{.*}})
comment|// CHECK: fsub<4 x float><float -0.000000e+00, float -0.000000e+00, float -0.000000e+00, float -0.000000e+00>, [[RES]]
name|vd
operator|=
name|vec_nmadd
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: [[RES:%[^ ]+]] = tail call<2 x double> @llvm.fma.v2f64(<2 x double> %{{.*}},<2 x double> %{{.*}},<2 x double> %{{.*}})
comment|// CHECK: fsub<2 x double><double -0.000000e+00, double -0.000000e+00>, [[RES]]
name|vf
operator|=
name|vec_nmsub
argument_list|(
name|vf
argument_list|,
name|vf
argument_list|,
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: [[NEG:%[^ ]+]] = fsub<4 x float><float -0.000000e+00, float -0.000000e+00, float -0.000000e+00, float -0.000000e+00>, %{{.*}}
comment|// CHECK: [[RES:%[^ ]+]] = tail call<4 x float> @llvm.fma.v4f32(<4 x float> %{{.*}},<4 x float> %{{.*}},<4 x float> [[NEG]])
comment|// CHECK: fsub<4 x float><float -0.000000e+00, float -0.000000e+00, float -0.000000e+00, float -0.000000e+00>, [[RES]]
name|vd
operator|=
name|vec_nmsub
argument_list|(
name|vd
argument_list|,
name|vd
argument_list|,
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: [[NEG:%[^ ]+]] = fsub<2 x double><double -0.000000e+00, double -0.000000e+00>, %{{.*}}
comment|// CHECK: [[RES:%[^ ]+]] = tail call<2 x double> @llvm.fma.v2f64(<2 x double> %{{.*}},<2 x double> %{{.*}},<2 x double> [[NEG]])
comment|// CHECK: fsub<2 x double><double -0.000000e+00, double -0.000000e+00>, [[RES]]
name|vf
operator|=
name|vec_sqrt
argument_list|(
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call<4 x float> @llvm.sqrt.v4f32(<4 x float> %{{.*}})
name|vd
operator|=
name|vec_sqrt
argument_list|(
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call<2 x double> @llvm.sqrt.v2f64(<2 x double> %{{.*}})
name|vd
operator|=
name|vec_doublee
argument_list|(
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: fpext<2 x float> %{{.*}} to<2 x double>
name|vf
operator|=
name|vec_floate
argument_list|(
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: fptrunc<2 x double> %{{.*}} to<2 x float>
name|vd
operator|=
name|vec_double
argument_list|(
name|vsl
argument_list|)
expr_stmt|;
comment|// CHECK: sitofp<2 x i64> %{{.*}} to<2 x double>
name|vd
operator|=
name|vec_double
argument_list|(
name|vul
argument_list|)
expr_stmt|;
comment|// CHECK: uitofp<2 x i64> %{{.*}} to<2 x double>
name|vsl
operator|=
name|vec_signed
argument_list|(
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: fptosi<2 x double> %{{.*}} to<2 x i64>
name|vul
operator|=
name|vec_unsigned
argument_list|(
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: fptoui<2 x double> %{{.*}} to<2 x i64>
name|vf
operator|=
name|vec_roundp
argument_list|(
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call<4 x float> @llvm.ceil.v4f32(<4 x float> %{{.*}})
name|vf
operator|=
name|vec_ceil
argument_list|(
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call<4 x float> @llvm.ceil.v4f32(<4 x float> %{{.*}})
name|vd
operator|=
name|vec_roundp
argument_list|(
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call<2 x double> @llvm.ceil.v2f64(<2 x double> %{{.*}})
name|vd
operator|=
name|vec_ceil
argument_list|(
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call<2 x double> @llvm.ceil.v2f64(<2 x double> %{{.*}})
name|vf
operator|=
name|vec_roundm
argument_list|(
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call<4 x float> @llvm.floor.v4f32(<4 x float> %{{.*}})
name|vf
operator|=
name|vec_floor
argument_list|(
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call<4 x float> @llvm.floor.v4f32(<4 x float> %{{.*}})
name|vd
operator|=
name|vec_roundm
argument_list|(
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call<2 x double> @llvm.floor.v2f64(<2 x double> %{{.*}})
name|vd
operator|=
name|vec_floor
argument_list|(
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call<2 x double> @llvm.floor.v2f64(<2 x double> %{{.*}})
name|vf
operator|=
name|vec_roundz
argument_list|(
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call<4 x float> @llvm.trunc.v4f32(<4 x float> %{{.*}})
name|vf
operator|=
name|vec_trunc
argument_list|(
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call<4 x float> @llvm.trunc.v4f32(<4 x float> %{{.*}})
name|vd
operator|=
name|vec_roundz
argument_list|(
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call<2 x double> @llvm.trunc.v2f64(<2 x double> %{{.*}})
name|vd
operator|=
name|vec_trunc
argument_list|(
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call<2 x double> @llvm.trunc.v2f64(<2 x double> %{{.*}})
name|vf
operator|=
name|vec_roundc
argument_list|(
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call<4 x float> @llvm.nearbyint.v4f32(<4 x float> %{{.*}})
name|vd
operator|=
name|vec_roundc
argument_list|(
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call<2 x double> @llvm.nearbyint.v2f64(<2 x double> %{{.*}})
name|vf
operator|=
name|vec_rint
argument_list|(
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call<4 x float> @llvm.rint.v4f32(<4 x float> %{{.*}})
name|vd
operator|=
name|vec_rint
argument_list|(
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call<2 x double> @llvm.rint.v2f64(<2 x double> %{{.*}})
name|vf
operator|=
name|vec_round
argument_list|(
name|vf
argument_list|)
expr_stmt|;
comment|// CHECK: call<4 x float> @llvm.s390.vfisb(<4 x float> %{{.*}}, i32 4, i32 4)
name|vd
operator|=
name|vec_round
argument_list|(
name|vd
argument_list|)
expr_stmt|;
comment|// CHECK: call<2 x double> @llvm.s390.vfidb(<2 x double> %{{.*}}, i32 4, i32 4)
name|vbi
operator|=
name|vec_fp_test_data_class
argument_list|(
name|vf
argument_list|,
literal|0
argument_list|,
operator|&
name|cc
argument_list|)
expr_stmt|;
comment|// CHECK: call {<4 x i32>, i32 } @llvm.s390.vftcisb(<4 x float> %{{.*}}, i32 0)
name|vbi
operator|=
name|vec_fp_test_data_class
argument_list|(
name|vf
argument_list|,
literal|4095
argument_list|,
operator|&
name|cc
argument_list|)
expr_stmt|;
comment|// CHECK: call {<4 x i32>, i32 } @llvm.s390.vftcisb(<4 x float> %{{.*}}, i32 4095)
name|vbl
operator|=
name|vec_fp_test_data_class
argument_list|(
name|vd
argument_list|,
literal|0
argument_list|,
operator|&
name|cc
argument_list|)
expr_stmt|;
comment|// CHECK: call {<2 x i64>, i32 } @llvm.s390.vftcidb(<2 x double> %{{.*}}, i32 0)
name|vbl
operator|=
name|vec_fp_test_data_class
argument_list|(
name|vd
argument_list|,
literal|4095
argument_list|,
operator|&
name|cc
argument_list|)
expr_stmt|;
comment|// CHECK: call {<2 x i64>, i32 } @llvm.s390.vftcidb(<2 x double> %{{.*}}, i32 4095)
block|}
end_function

end_unit

