begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|// RUN: %clang_cc1 -triple ptx32-unknown-unknown -emit-llvm -o %t %s
end_comment

begin_comment
comment|// RUN: %clang_cc1 -triple ptx64-unknown-unknown -emit-llvm -o %t %s
end_comment

begin_function
name|int
name|read_tid
parameter_list|()
block|{
name|int
name|x
init|=
name|__builtin_ptx_read_tid_x
argument_list|()
decl_stmt|;
name|int
name|y
init|=
name|__builtin_ptx_read_tid_y
argument_list|()
decl_stmt|;
name|int
name|z
init|=
name|__builtin_ptx_read_tid_z
argument_list|()
decl_stmt|;
name|int
name|w
init|=
name|__builtin_ptx_read_tid_w
argument_list|()
decl_stmt|;
return|return
name|x
operator|+
name|y
operator|+
name|z
operator|+
name|w
return|;
block|}
end_function

begin_function
name|int
name|read_ntid
parameter_list|()
block|{
name|int
name|x
init|=
name|__builtin_ptx_read_ntid_x
argument_list|()
decl_stmt|;
name|int
name|y
init|=
name|__builtin_ptx_read_ntid_y
argument_list|()
decl_stmt|;
name|int
name|z
init|=
name|__builtin_ptx_read_ntid_z
argument_list|()
decl_stmt|;
name|int
name|w
init|=
name|__builtin_ptx_read_ntid_w
argument_list|()
decl_stmt|;
return|return
name|x
operator|+
name|y
operator|+
name|z
operator|+
name|w
return|;
block|}
end_function

begin_function
name|int
name|read_ctaid
parameter_list|()
block|{
name|int
name|x
init|=
name|__builtin_ptx_read_ctaid_x
argument_list|()
decl_stmt|;
name|int
name|y
init|=
name|__builtin_ptx_read_ctaid_y
argument_list|()
decl_stmt|;
name|int
name|z
init|=
name|__builtin_ptx_read_ctaid_z
argument_list|()
decl_stmt|;
name|int
name|w
init|=
name|__builtin_ptx_read_ctaid_w
argument_list|()
decl_stmt|;
return|return
name|x
operator|+
name|y
operator|+
name|z
operator|+
name|w
return|;
block|}
end_function

begin_function
name|int
name|read_nctaid
parameter_list|()
block|{
name|int
name|x
init|=
name|__builtin_ptx_read_nctaid_x
argument_list|()
decl_stmt|;
name|int
name|y
init|=
name|__builtin_ptx_read_nctaid_y
argument_list|()
decl_stmt|;
name|int
name|z
init|=
name|__builtin_ptx_read_nctaid_z
argument_list|()
decl_stmt|;
name|int
name|w
init|=
name|__builtin_ptx_read_nctaid_w
argument_list|()
decl_stmt|;
return|return
name|x
operator|+
name|y
operator|+
name|z
operator|+
name|w
return|;
block|}
end_function

begin_function
name|int
name|read_ids
parameter_list|()
block|{
name|int
name|a
init|=
name|__builtin_ptx_read_laneid
argument_list|()
decl_stmt|;
name|int
name|b
init|=
name|__builtin_ptx_read_warpid
argument_list|()
decl_stmt|;
name|int
name|c
init|=
name|__builtin_ptx_read_nwarpid
argument_list|()
decl_stmt|;
name|int
name|d
init|=
name|__builtin_ptx_read_smid
argument_list|()
decl_stmt|;
name|int
name|e
init|=
name|__builtin_ptx_read_nsmid
argument_list|()
decl_stmt|;
name|int
name|f
init|=
name|__builtin_ptx_read_gridid
argument_list|()
decl_stmt|;
return|return
name|a
operator|+
name|b
operator|+
name|c
operator|+
name|d
operator|+
name|e
operator|+
name|f
return|;
block|}
end_function

begin_function
name|int
name|read_lanemasks
parameter_list|()
block|{
name|int
name|a
init|=
name|__builtin_ptx_read_lanemask_eq
argument_list|()
decl_stmt|;
name|int
name|b
init|=
name|__builtin_ptx_read_lanemask_le
argument_list|()
decl_stmt|;
name|int
name|c
init|=
name|__builtin_ptx_read_lanemask_lt
argument_list|()
decl_stmt|;
name|int
name|d
init|=
name|__builtin_ptx_read_lanemask_ge
argument_list|()
decl_stmt|;
name|int
name|e
init|=
name|__builtin_ptx_read_lanemask_gt
argument_list|()
decl_stmt|;
return|return
name|a
operator|+
name|b
operator|+
name|c
operator|+
name|d
operator|+
name|e
return|;
block|}
end_function

begin_function
name|long
name|read_clocks
parameter_list|()
block|{
name|int
name|a
init|=
name|__builtin_ptx_read_clock
argument_list|()
decl_stmt|;
name|long
name|b
init|=
name|__builtin_ptx_read_clock64
argument_list|()
decl_stmt|;
return|return
operator|(
name|long
operator|)
name|a
operator|+
name|b
return|;
block|}
end_function

begin_function
name|int
name|read_pms
parameter_list|()
block|{
name|int
name|a
init|=
name|__builtin_ptx_read_pm0
argument_list|()
decl_stmt|;
name|int
name|b
init|=
name|__builtin_ptx_read_pm1
argument_list|()
decl_stmt|;
name|int
name|c
init|=
name|__builtin_ptx_read_pm2
argument_list|()
decl_stmt|;
name|int
name|d
init|=
name|__builtin_ptx_read_pm3
argument_list|()
decl_stmt|;
return|return
name|a
operator|+
name|b
operator|+
name|c
operator|+
name|d
return|;
block|}
end_function

begin_function
name|void
name|sync
parameter_list|()
block|{
name|__builtin_ptx_bar_sync
argument_list|(
literal|0
argument_list|)
expr_stmt|;
block|}
end_function

end_unit

