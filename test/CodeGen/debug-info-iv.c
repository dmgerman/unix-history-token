begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|// RUN: %clang_cc1 -triple x86_64-apple-darwin -Os -S -g  -o - %s | FileCheck %s
end_comment

begin_function_decl
name|int
name|calculate
parameter_list|(
name|int
parameter_list|)
function_decl|;
end_function_decl

begin_function
specifier|static
name|void
name|test_indvars
parameter_list|(
name|int
modifier|*
name|Array1
parameter_list|,
name|int
name|Array2
index|[
literal|100
index|]
index|[
literal|200
index|]
parameter_list|)
block|{
name|unsigned
name|i
decl_stmt|,
name|j
decl_stmt|;
name|Array1
index|[
literal|1
index|]
operator|=
name|Array2
index|[
literal|3
index|]
index|[
literal|6
index|]
operator|=
literal|12345
expr_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
literal|100
condition|;
name|i
operator|+=
literal|2
control|)
name|Array1
index|[
name|i
index|]
operator|=
name|i
expr_stmt|;
comment|/* Step by non unit amount */
for|for
control|(
name|i
operator|=
literal|3
init|;
name|i
operator|<
literal|103
condition|;
name|i
operator|++
control|)
name|Array1
index|[
name|i
index|]
operator|=
name|i
operator|+
literal|4
expr_stmt|;
comment|/* Step with an offset */
for|for
control|(
name|i
operator|=
literal|13
init|;
name|i
operator|<
literal|100
condition|;
name|i
operator|++
control|)
for|for
control|(
name|j
operator|=
literal|0
init|;
name|j
operator|<
literal|100
condition|;
name|j
operator|+=
literal|3
control|)
comment|/* 2d array access */
name|Array2
index|[
name|i
index|]
index|[
name|j
operator|/
literal|3
index|]
operator|=
name|Array2
index|[
name|i
index|]
index|[
name|i
index|]
expr_stmt|;
block|}
end_function

begin_function
name|int
name|main
parameter_list|()
block|{
name|int
name|Array
index|[
literal|100
index|]
index|[
literal|200
index|]
decl_stmt|,
name|i
decl_stmt|,
name|j
decl_stmt|;
name|double
name|sum
init|=
literal|0.0
decl_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
literal|100
condition|;
name|i
operator|+=
literal|2
control|)
for|for
control|(
name|j
operator|=
literal|0
init|;
name|j
operator|<
literal|200
condition|;
name|j
operator|++
control|)
name|Array
index|[
name|i
index|]
index|[
name|j
index|]
operator|=
literal|0
expr_stmt|;
name|test_indvars
argument_list|(
name|Array
index|[
literal|0
index|]
argument_list|,
name|Array
argument_list|)
expr_stmt|;
comment|//CHECK:	.loc	2 30 8
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
literal|100
condition|;
name|i
operator|+=
literal|2
control|)
for|for
control|(
name|j
operator|=
literal|0
init|;
name|j
operator|<
literal|200
condition|;
name|j
operator|++
control|)
name|sum
operator|+=
name|Array
index|[
name|i
index|]
index|[
name|j
index|]
expr_stmt|;
return|return
name|calculate
argument_list|(
name|sum
argument_list|)
return|;
block|}
end_function

end_unit

