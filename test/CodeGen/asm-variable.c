begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|// RUN: %clang_cc1 -triple x86_64-unknown-unknown -emit-llvm %s -o - | FileCheck %s
end_comment

begin_function
name|unsigned
name|long
name|long
name|foo
parameter_list|(
name|unsigned
name|long
name|long
name|addr
parameter_list|,
name|unsigned
name|long
name|long
name|a0
parameter_list|,
name|unsigned
name|long
name|long
name|a1
parameter_list|,
name|unsigned
name|long
name|long
name|a2
parameter_list|,
name|unsigned
name|long
name|long
name|a3
parameter_list|,
name|unsigned
name|long
name|long
name|a4
parameter_list|,
name|unsigned
name|long
name|long
name|a5
parameter_list|)
block|{
specifier|register
name|unsigned
name|long
name|long
name|result
name|asm
argument_list|(
literal|"rax"
argument_list|)
decl_stmt|;
specifier|register
name|unsigned
name|long
name|long
name|b0
name|asm
argument_list|(
literal|"rdi"
argument_list|)
decl_stmt|;
specifier|register
name|unsigned
name|long
name|long
name|b1
name|asm
argument_list|(
literal|"rsi"
argument_list|)
decl_stmt|;
specifier|register
name|unsigned
name|long
name|long
name|b2
name|asm
argument_list|(
literal|"rdx"
argument_list|)
decl_stmt|;
specifier|register
name|unsigned
name|long
name|long
name|b3
name|asm
argument_list|(
literal|"rcx"
argument_list|)
decl_stmt|;
specifier|register
name|unsigned
name|long
name|long
name|b4
name|asm
argument_list|(
literal|"r8"
argument_list|)
decl_stmt|;
specifier|register
name|unsigned
name|long
name|long
name|b5
name|asm
argument_list|(
literal|"r9"
argument_list|)
decl_stmt|;
name|b0
operator|=
name|a0
expr_stmt|;
name|b1
operator|=
name|a1
expr_stmt|;
name|b2
operator|=
name|a2
expr_stmt|;
name|b3
operator|=
name|a3
expr_stmt|;
name|b4
operator|=
name|a4
expr_stmt|;
name|b5
operator|=
name|a5
expr_stmt|;
asm|asm("call *%1" : "=r" (result)       : "r"(addr), "r" (b0), "r" (b1), "r" (b2), "r" (b3), "r" (b4), "r" (b5));
return|return
name|result
return|;
block|}
end_function

begin_comment
comment|// CHECK: call i64 asm "call *$1", "={rax},r,{rdi},{rsi},{rdx},{rcx},{r8},{r9},~{dirflag},~{fpsr},~{flags}"
end_comment

begin_function
name|unsigned
name|long
name|long
name|foo2
parameter_list|(
name|unsigned
name|long
name|long
name|addr
parameter_list|,
name|double
name|a0
parameter_list|,
name|double
name|a1
parameter_list|,
name|double
name|a2
parameter_list|,
name|double
name|a3
parameter_list|,
name|double
name|a4
parameter_list|,
name|double
name|a5
parameter_list|,
name|double
name|a6
parameter_list|,
name|double
name|a7
parameter_list|)
block|{
specifier|register
name|double
name|b0
name|asm
argument_list|(
literal|"xmm0"
argument_list|)
decl_stmt|;
specifier|register
name|double
name|b1
name|asm
argument_list|(
literal|"xmm1"
argument_list|)
decl_stmt|;
specifier|register
name|double
name|b2
name|asm
argument_list|(
literal|"xmm2"
argument_list|)
decl_stmt|;
specifier|register
name|double
name|b3
name|asm
argument_list|(
literal|"xmm3"
argument_list|)
decl_stmt|;
specifier|register
name|double
name|b4
name|asm
argument_list|(
literal|"xmm4"
argument_list|)
decl_stmt|;
specifier|register
name|double
name|b5
name|asm
argument_list|(
literal|"xmm5"
argument_list|)
decl_stmt|;
specifier|register
name|double
name|b6
name|asm
argument_list|(
literal|"xmm6"
argument_list|)
decl_stmt|;
specifier|register
name|double
name|b7
name|asm
argument_list|(
literal|"xmm7"
argument_list|)
decl_stmt|;
specifier|register
name|unsigned
name|long
name|long
name|result
name|asm
argument_list|(
literal|"rax"
argument_list|)
decl_stmt|;
name|b0
operator|=
name|a0
expr_stmt|;
name|b1
operator|=
name|a1
expr_stmt|;
name|b2
operator|=
name|a2
expr_stmt|;
name|b3
operator|=
name|a3
expr_stmt|;
name|b4
operator|=
name|a4
expr_stmt|;
name|b5
operator|=
name|a5
expr_stmt|;
name|b6
operator|=
name|a6
expr_stmt|;
name|b7
operator|=
name|a7
expr_stmt|;
asm|asm("call *%1" : "=r" (result)       : "r"(addr), "x" (b0), "x" (b1), "x" (b2), "x" (b3), "x" (b4), "x" (b5), "x" (b6),         "x" (b7));
return|return
name|result
return|;
block|}
end_function

begin_comment
comment|// CHECK: call i64 asm "call *$1", "={rax},r,{xmm0},{xmm1},{xmm2},{xmm3},{xmm4},{xmm5},{xmm6},{xmm7},~{dirflag},~{fpsr},~{flags}
end_comment

end_unit

