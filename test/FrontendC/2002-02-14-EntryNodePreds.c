begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|// RUN: %llvmgcc -S %s -o - | llvm-as -o /dev/null
end_comment

begin_comment
comment|/* GCC Used to generate code that contained a branch to the entry node of   * the do_merge function.  This is illegal LLVM code.  To fix this, GCC now  * inserts an entry node regardless of whether or not it has to insert allocas.  */
end_comment

begin_struct
struct|struct
name|edge_rec
block|{
name|struct
name|VERTEX
modifier|*
name|v
decl_stmt|;
name|struct
name|edge_rec
modifier|*
name|next
decl_stmt|;
name|int
name|wasseen
decl_stmt|;
name|int
name|more_data
decl_stmt|;
block|}
struct|;
end_struct

begin_typedef
typedef|typedef
name|struct
name|edge_rec
modifier|*
name|QUAD_EDGE
typedef|;
end_typedef

begin_typedef
typedef|typedef
struct|struct
block|{
name|QUAD_EDGE
name|left
decl_stmt|,
name|right
decl_stmt|;
block|}
name|EDGE_PAIR
typedef|;
end_typedef

begin_struct
struct|struct
name|EDGE_STACK
block|{
name|int
name|ptr
decl_stmt|;
name|QUAD_EDGE
modifier|*
name|elts
decl_stmt|;
name|int
name|stack_size
decl_stmt|;
block|}
struct|;
end_struct

begin_function
name|int
name|do_merge
parameter_list|(
name|QUAD_EDGE
name|ldo
parameter_list|,
name|QUAD_EDGE
name|rdo
parameter_list|)
block|{
name|int
name|lvalid
decl_stmt|;
name|QUAD_EDGE
name|basel
decl_stmt|,
name|rcand
decl_stmt|;
while|while
condition|(
literal|1
condition|)
block|{
if|if
condition|(
operator|!
name|lvalid
condition|)
block|{
return|return
operator|(
name|int
operator|)
name|basel
operator|->
name|next
return|;
block|}
block|}
block|}
end_function

end_unit

