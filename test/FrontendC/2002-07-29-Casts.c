begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|// RUN: %llvmgcc -S %s -o - | llvm-as -f -o /dev/null
end_comment

begin_include
include|#
directive|include
file|<stdlib.h>
end_include

begin_include
include|#
directive|include
file|<stdio.h>
end_include

begin_include
include|#
directive|include
file|<sys/types.h>
end_include

begin_function
name|int
name|main
parameter_list|(
name|int
name|argc
parameter_list|,
name|char
modifier|*
modifier|*
name|argv
parameter_list|)
block|{
name|char
name|c1
decl_stmt|;
name|short
name|s1
decl_stmt|,
name|ssf1
decl_stmt|,
name|ssd1
decl_stmt|;
name|unsigned
name|char
name|ubs0
decl_stmt|;
name|signed
name|char
name|bs0
decl_stmt|;
name|unsigned
name|char
name|ubc0
decl_stmt|,
name|uc2
decl_stmt|;
name|unsigned
name|short
name|us2
decl_stmt|,
name|usf1
decl_stmt|,
name|usd1
decl_stmt|;
name|int
name|ic3
decl_stmt|,
name|is3
decl_stmt|,
name|sif1
decl_stmt|,
name|sid1
decl_stmt|;
name|unsigned
name|int
name|uic4
decl_stmt|,
name|uis4
decl_stmt|,
name|uif1
decl_stmt|,
name|uid1
decl_stmt|;
name|long
name|slf1
decl_stmt|,
name|sld1
decl_stmt|;
name|unsigned
name|long
name|ulf1
decl_stmt|,
name|uld1
decl_stmt|;
name|float
name|f1
decl_stmt|;
name|double
name|d1
decl_stmt|;
comment|/* Test integer to integer conversions */
name|c1
operator|=
operator|(
name|char
operator|)
operator|(
name|argc
operator|>=
literal|2
operator|)
condition|?
name|atoi
argument_list|(
name|argv
index|[
literal|1
index|]
argument_list|)
else|:
literal|0xff64
expr_stmt|;
comment|/* 100 = 'd' */
name|s1
operator|=
operator|(
name|short
operator|)
operator|(
name|argc
operator|>=
literal|3
operator|)
condition|?
name|atoi
argument_list|(
name|argv
index|[
literal|2
index|]
argument_list|)
else|:
operator|-
literal|769
expr_stmt|;
comment|/* 0xf7ff = -769 */
name|ubc0
operator|=
operator|(
name|unsigned
name|char
operator|)
name|c1
expr_stmt|;
comment|/* 100 = 'd' */
name|ubs0
operator|=
operator|(
name|unsigned
name|char
operator|)
name|s1
expr_stmt|;
comment|/* 0xff = 255 */
name|bs0
operator|=
operator|(
name|signed
name|char
operator|)
name|s1
expr_stmt|;
comment|/* 0xff = -1 */
name|uc2
operator|=
operator|(
name|unsigned
name|char
operator|)
name|c1
expr_stmt|;
comment|/* 100 = 'd' */
name|us2
operator|=
operator|(
name|unsigned
name|short
operator|)
name|s1
expr_stmt|;
comment|/* 0xf7ff = 64767 */
name|ic3
operator|=
operator|(
name|int
operator|)
name|c1
expr_stmt|;
comment|/* 100 = 'd' */
name|is3
operator|=
operator|(
name|int
operator|)
name|s1
expr_stmt|;
comment|/* 0xfffff7ff = -769 */
name|uic4
operator|=
operator|(
name|unsigned
name|int
operator|)
name|c1
expr_stmt|;
comment|/*  100 = 'd' */
name|uis4
operator|=
operator|(
name|unsigned
name|int
operator|)
name|s1
expr_stmt|;
comment|/* 0xfffff7ff = 4294966527 */
name|printf
argument_list|(
literal|"ubc0 = '%c'\n"
argument_list|,
name|ubc0
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"ubs0 = %u\n"
argument_list|,
name|ubs0
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"bs0  = %d\n"
argument_list|,
name|bs0
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"c1   = '%c'\n"
argument_list|,
name|c1
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"s1   = %d\n"
argument_list|,
name|s1
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"uc2  = '%c'\n"
argument_list|,
name|uc2
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"us2  = %u\n"
argument_list|,
name|us2
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"ic3  = '%c'\n"
argument_list|,
name|ic3
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"is3  = %d\n"
argument_list|,
name|is3
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"uic4 = '%c'\n"
argument_list|,
name|uic4
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"uis4 = %u\n"
argument_list|,
name|uis4
argument_list|)
expr_stmt|;
comment|/* Test floating-point to integer conversions */
name|f1
operator|=
operator|(
name|float
operator|)
operator|(
name|argc
operator|>=
literal|4
operator|)
condition|?
name|atof
argument_list|(
name|argv
index|[
literal|3
index|]
argument_list|)
else|:
literal|1.0
expr_stmt|;
name|d1
operator|=
operator|(
name|argc
operator|>=
literal|5
operator|)
condition|?
name|atof
argument_list|(
name|argv
index|[
literal|4
index|]
argument_list|)
else|:
literal|2.0
expr_stmt|;
name|usf1
operator|=
operator|(
name|unsigned
name|short
operator|)
name|f1
expr_stmt|;
name|usd1
operator|=
operator|(
name|unsigned
name|short
operator|)
name|d1
expr_stmt|;
name|uif1
operator|=
operator|(
name|unsigned
name|int
operator|)
name|f1
expr_stmt|;
name|uid1
operator|=
operator|(
name|unsigned
name|int
operator|)
name|d1
expr_stmt|;
name|ulf1
operator|=
operator|(
name|unsigned
name|long
operator|)
name|f1
expr_stmt|;
name|uld1
operator|=
operator|(
name|unsigned
name|long
operator|)
name|d1
expr_stmt|;
name|ssf1
operator|=
operator|(
name|short
operator|)
name|f1
expr_stmt|;
name|ssd1
operator|=
operator|(
name|short
operator|)
name|d1
expr_stmt|;
name|sif1
operator|=
operator|(
name|int
operator|)
name|f1
expr_stmt|;
name|sid1
operator|=
operator|(
name|int
operator|)
name|d1
expr_stmt|;
name|slf1
operator|=
operator|(
name|long
operator|)
name|f1
expr_stmt|;
name|sld1
operator|=
operator|(
name|long
operator|)
name|d1
expr_stmt|;
name|printf
argument_list|(
literal|"usf1 = %u\n"
argument_list|,
name|usf1
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"usd1 = %u\n"
argument_list|,
name|usd1
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"uif1 = %u\n"
argument_list|,
name|uif1
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"uid1 = %u\n"
argument_list|,
name|uid1
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"ulf1 = %u\n"
argument_list|,
name|ulf1
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"uld1 = %u\n"
argument_list|,
name|uld1
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"ssf1 = %d\n"
argument_list|,
name|ssf1
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"ssd1 = %d\n"
argument_list|,
name|ssd1
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"sif1 = %d\n"
argument_list|,
name|sif1
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"sid1 = %d\n"
argument_list|,
name|sid1
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"slf1 = %d\n"
argument_list|,
name|slf1
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"sld1 = %d\n"
argument_list|,
name|sld1
argument_list|)
expr_stmt|;
return|return
literal|0
return|;
block|}
end_function

end_unit

