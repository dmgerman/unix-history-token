begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|// RUN: %llvmgcc -S -emit-llvm -O1 %s -o - | grep call | grep memcpy_chk | count 3
end_comment

begin_comment
comment|// RUN: %llvmgcc -S -emit-llvm -O1 %s -o - | grep call | grep {llvm.memcpy} | count 3
end_comment

begin_comment
comment|// rdar://6716432
end_comment

begin_function
name|void
modifier|*
name|t1
parameter_list|(
name|void
modifier|*
name|d
parameter_list|,
name|void
modifier|*
name|s
parameter_list|)
block|{
return|return
name|__builtin___memcpy_chk
argument_list|(
name|d
argument_list|,
name|s
argument_list|,
literal|16
argument_list|,
literal|0
argument_list|)
return|;
block|}
end_function

begin_function
name|void
modifier|*
name|t2
parameter_list|(
name|void
modifier|*
name|d
parameter_list|,
name|void
modifier|*
name|s
parameter_list|)
block|{
return|return
name|__builtin___memcpy_chk
argument_list|(
name|d
argument_list|,
name|s
argument_list|,
literal|16
argument_list|,
literal|10
argument_list|)
return|;
block|}
end_function

begin_function
name|void
modifier|*
name|t3
parameter_list|(
name|void
modifier|*
name|d
parameter_list|,
name|void
modifier|*
name|s
parameter_list|)
block|{
return|return
name|__builtin___memcpy_chk
argument_list|(
name|d
argument_list|,
name|s
argument_list|,
literal|16
argument_list|,
literal|17
argument_list|)
return|;
block|}
end_function

begin_function
name|void
modifier|*
name|t4
parameter_list|(
name|void
modifier|*
name|d
parameter_list|,
name|void
modifier|*
name|s
parameter_list|,
name|unsigned
name|len
parameter_list|)
block|{
return|return
name|__builtin___memcpy_chk
argument_list|(
name|d
argument_list|,
name|s
argument_list|,
name|len
argument_list|,
literal|17
argument_list|)
return|;
block|}
end_function

begin_decl_stmt
name|char
name|buf
index|[
literal|10
index|]
decl_stmt|;
end_decl_stmt

begin_function
name|void
modifier|*
name|t5
parameter_list|(
name|void
modifier|*
name|s
parameter_list|,
name|unsigned
name|len
parameter_list|)
block|{
return|return
name|__builtin___memcpy_chk
argument_list|(
name|buf
argument_list|,
name|s
argument_list|,
literal|5
argument_list|,
name|__builtin_object_size
argument_list|(
name|buf
argument_list|,
literal|0
argument_list|)
argument_list|)
return|;
block|}
end_function

begin_function
name|void
modifier|*
name|t6
parameter_list|(
name|void
modifier|*
name|d
parameter_list|,
name|void
modifier|*
name|s
parameter_list|)
block|{
return|return
name|__builtin___memcpy_chk
argument_list|(
name|d
argument_list|,
name|s
argument_list|,
literal|16
argument_list|,
name|__builtin_object_size
argument_list|(
name|d
argument_list|,
literal|0
argument_list|)
argument_list|)
return|;
block|}
end_function

end_unit

