begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|// RUN: %clang_cc1 -analyze -analyzer-checker=core,debug.ExprInspection -verify %s
end_comment

begin_function_decl
name|void
name|clang_analyzer_eval
parameter_list|(
name|int
parameter_list|)
function_decl|;
end_function_decl

begin_define
define|#
directive|define
name|UINT_MAX
value|(~0U)
end_define

begin_define
define|#
directive|define
name|INT_MAX
value|(UINT_MAX& (UINT_MAX>> 1))
end_define

begin_define
define|#
directive|define
name|INT_MIN
value|(-INT_MAX - 1)
end_define

begin_comment
comment|// Each of these adjusted ranges has an adjustment small enough to split the
end_comment

begin_comment
comment|// solution range across an overflow boundary (Min for<, Max for>).
end_comment

begin_comment
comment|// This corresponds to one set of branches in RangeConstraintManager.
end_comment

begin_function
name|void
name|smallAdjustmentGT
parameter_list|(
name|unsigned
name|a
parameter_list|)
block|{
if|if
condition|(
name|a
operator|+
literal|2
operator|>
literal|1
condition|)
name|clang_analyzer_eval
argument_list|(
name|a
operator|<
name|UINT_MAX
operator|-
literal|1
argument_list|)
expr_stmt|;
comment|// expected-warning{{TRUE}}
else|else
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
name|UINT_MAX
operator|-
literal|1
operator|||
name|a
operator|==
name|UINT_MAX
argument_list|)
expr_stmt|;
comment|// expected-warning{{TRUE}}
block|}
end_function

begin_function
name|void
name|smallAdjustmentGE
parameter_list|(
name|unsigned
name|a
parameter_list|)
block|{
if|if
condition|(
name|a
operator|+
literal|2
operator|>=
literal|1
condition|)
name|clang_analyzer_eval
argument_list|(
name|a
operator|<
name|UINT_MAX
operator|-
literal|1
operator|||
name|a
operator|==
name|UINT_MAX
argument_list|)
expr_stmt|;
comment|// expected-warning{{TRUE}}
else|else
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
name|UINT_MAX
operator|-
literal|1
argument_list|)
expr_stmt|;
comment|// expected-warning{{TRUE}}
block|}
end_function

begin_function
name|void
name|smallAdjustmentLT
parameter_list|(
name|unsigned
name|a
parameter_list|)
block|{
if|if
condition|(
name|a
operator|+
literal|1
operator|<
literal|2
condition|)
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
literal|0
operator|||
name|a
operator|==
name|UINT_MAX
argument_list|)
expr_stmt|;
comment|// expected-warning{{TRUE}}
block|}
end_function

begin_function
name|void
name|smallAdjustmentLE
parameter_list|(
name|unsigned
name|a
parameter_list|)
block|{
if|if
condition|(
name|a
operator|+
literal|1
operator|<=
literal|2
condition|)
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
literal|0
operator|||
name|a
operator|==
literal|1
operator|||
name|a
operator|==
name|UINT_MAX
argument_list|)
expr_stmt|;
comment|// expected-warning{{TRUE}}
block|}
end_function

begin_comment
comment|// Each of these adjusted ranges has an adjustment large enough to push the
end_comment

begin_comment
comment|// comparison value over an overflow boundary (Min for<, Max for>).
end_comment

begin_comment
comment|// This corresponds to one set of branches in RangeConstraintManager.
end_comment

begin_function
name|void
name|largeAdjustmentGT
parameter_list|(
name|unsigned
name|a
parameter_list|)
block|{
if|if
condition|(
name|a
operator|-
literal|2
operator|>
name|UINT_MAX
operator|-
literal|1
condition|)
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
literal|1
argument_list|)
expr_stmt|;
comment|// expected-warning{{TRUE}}
else|else
name|clang_analyzer_eval
argument_list|(
name|a
operator|!=
literal|1
argument_list|)
expr_stmt|;
comment|// expected-warning{{TRUE}}
block|}
end_function

begin_function
name|void
name|largeAdjustmentGE
parameter_list|(
name|unsigned
name|a
parameter_list|)
block|{
if|if
condition|(
name|a
operator|-
literal|2
operator|>=
name|UINT_MAX
operator|-
literal|1
condition|)
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
literal|1
operator|||
name|a
operator|==
literal|0
argument_list|)
expr_stmt|;
comment|// expected-warning{{TRUE}}
else|else
name|clang_analyzer_eval
argument_list|(
name|a
operator|>
literal|1
argument_list|)
expr_stmt|;
comment|// expected-warning{{TRUE}}
block|}
end_function

begin_function
name|void
name|largeAdjustmentLT
parameter_list|(
name|unsigned
name|a
parameter_list|)
block|{
if|if
condition|(
name|a
operator|+
literal|2
operator|<
literal|1
condition|)
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
name|UINT_MAX
operator|-
literal|1
argument_list|)
expr_stmt|;
comment|// expected-warning{{TRUE}}
else|else
name|clang_analyzer_eval
argument_list|(
name|a
operator|!=
name|UINT_MAX
operator|-
literal|1
argument_list|)
expr_stmt|;
comment|// expected-warning{{TRUE}}
block|}
end_function

begin_function
name|void
name|largeAdjustmentLE
parameter_list|(
name|unsigned
name|a
parameter_list|)
block|{
if|if
condition|(
name|a
operator|+
literal|2
operator|<=
literal|1
condition|)
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
name|UINT_MAX
operator|-
literal|1
operator|||
name|a
operator|==
name|UINT_MAX
argument_list|)
expr_stmt|;
comment|// expected-warning{{TRUE}}
else|else
name|clang_analyzer_eval
argument_list|(
name|a
operator|<
name|UINT_MAX
operator|-
literal|1
argument_list|)
expr_stmt|;
comment|// expected-warning{{TRUE}}
block|}
end_function

begin_comment
comment|// Test the nine cases in RangeConstraintManager's pinning logic.
end_comment

begin_comment
comment|// For out-of-range tautologies, it may be the negation that actually
end_comment

begin_comment
comment|// triggers the case in question.
end_comment

begin_function
name|void
name|mixedComparisons1
parameter_list|(
name|signed
name|char
name|a
parameter_list|)
block|{
comment|// Case 1: The range is entirely below the symbol's range.
name|int
name|min
init|=
name|INT_MIN
decl_stmt|;
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|-
literal|2
operator|)
operator|>=
operator|(
name|min
operator|+
literal|5LL
operator|)
argument_list|)
expr_stmt|;
comment|// expected-warning{{TRUE}}
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
literal|0
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
literal|0x7F
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
operator|-
literal|0x80
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
block|}
end_function

begin_function
name|void
name|mixedComparisons2
parameter_list|(
name|signed
name|char
name|a
parameter_list|)
block|{
comment|// Case 2: Only the lower end of the range is outside.
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|-
literal|5
operator|)
operator|<
operator|(
operator|-
literal|0x81LL
operator|)
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
if|if
condition|(
operator|(
name|a
operator|-
literal|5
operator|)
operator|<
operator|(
operator|-
literal|0x81LL
operator|)
condition|)
block|{
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
literal|0
argument_list|)
expr_stmt|;
comment|// expected-warning{{FALSE}}
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
literal|0x7F
argument_list|)
expr_stmt|;
comment|// expected-warning{{FALSE}}
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
operator|-
literal|0x80
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
block|}
block|}
end_function

begin_function
name|void
name|mixedComparisons3
parameter_list|(
name|signed
name|char
name|a
parameter_list|)
block|{
comment|// Case 3: The entire symbol range is covered.
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|-
literal|0x200
operator|)
operator|<
operator|-
literal|0x100LL
argument_list|)
expr_stmt|;
comment|// expected-warning{{TRUE}}
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
literal|0
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
literal|0x7F
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
operator|-
literal|0x80
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
block|}
end_function

begin_function
name|void
name|mixedComparisons4
parameter_list|(
name|signed
name|char
name|a
parameter_list|)
block|{
comment|// Case 4: The range wraps around, but the lower wrap is out-of-range.
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|-
literal|5
operator|)
operator|>
literal|0LL
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
if|if
condition|(
operator|(
name|a
operator|-
literal|5
operator|)
operator|>
literal|0LL
condition|)
block|{
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
literal|0
argument_list|)
expr_stmt|;
comment|// expected-warning{{FALSE}}
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
literal|0x7F
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
operator|-
literal|0x80
argument_list|)
expr_stmt|;
comment|// expected-warning{{FALSE}}
block|}
block|}
end_function

begin_function
name|void
name|mixedComparisons5
parameter_list|(
name|signed
name|char
name|a
parameter_list|)
block|{
comment|// Case 5: The range is inside and may or may not wrap.
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|5
operator|)
operator|==
literal|0LL
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
if|if
condition|(
operator|(
name|a
operator|+
literal|5
operator|)
operator|==
literal|0LL
condition|)
block|{
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
literal|0
argument_list|)
expr_stmt|;
comment|// expected-warning{{FALSE}}
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
literal|0x7F
argument_list|)
expr_stmt|;
comment|// expected-warning{{FALSE}}
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
operator|-
literal|0x80
argument_list|)
expr_stmt|;
comment|// expected-warning{{FALSE}}
block|}
else|else
block|{
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
literal|0
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
literal|0x7F
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
operator|-
literal|0x80
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
block|}
block|}
end_function

begin_function
name|void
name|mixedComparisons6
parameter_list|(
name|signed
name|char
name|a
parameter_list|)
block|{
comment|// Case 6: Only the upper end of the range is outside.
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|5
operator|)
operator|>
literal|0x81LL
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
if|if
condition|(
operator|(
name|a
operator|+
literal|5
operator|)
operator|>
literal|0x81LL
condition|)
block|{
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
literal|0
argument_list|)
expr_stmt|;
comment|// expected-warning{{FALSE}}
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
literal|0x7F
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
operator|-
literal|0x80
argument_list|)
expr_stmt|;
comment|// expected-warning{{FALSE}}
block|}
block|}
end_function

begin_function
name|void
name|mixedComparisons7
parameter_list|(
name|signed
name|char
name|a
parameter_list|)
block|{
comment|// Case 7: The range wraps around but is entirely outside the symbol's range.
name|int
name|min
init|=
name|INT_MIN
decl_stmt|;
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2
operator|)
operator|>=
operator|(
name|min
operator|+
literal|5LL
operator|)
argument_list|)
expr_stmt|;
comment|// expected-warning{{TRUE}}
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
literal|0
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
literal|0x7F
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
operator|-
literal|0x80
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
block|}
end_function

begin_function
name|void
name|mixedComparisons8
parameter_list|(
name|signed
name|char
name|a
parameter_list|)
block|{
comment|// Case 8: The range wraps, but the upper wrap is out of range.
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|5
operator|)
operator|<
literal|0LL
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
if|if
condition|(
operator|(
name|a
operator|+
literal|5
operator|)
operator|<
literal|0LL
condition|)
block|{
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
literal|0
argument_list|)
expr_stmt|;
comment|// expected-warning{{FALSE}}
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
literal|0x7F
argument_list|)
expr_stmt|;
comment|// expected-warning{{FALSE}}
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
operator|-
literal|0x80
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
block|}
block|}
end_function

begin_function
name|void
name|mixedComparisons9
parameter_list|(
name|signed
name|char
name|a
parameter_list|)
block|{
comment|// Case 9: The range is entirely above the symbol's range.
name|int
name|max
init|=
name|INT_MAX
decl_stmt|;
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2
operator|)
operator|<=
operator|(
name|max
operator|-
literal|5LL
operator|)
argument_list|)
expr_stmt|;
comment|// expected-warning{{TRUE}}
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
literal|0
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
literal|0x7F
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
operator|-
literal|0x80
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
block|}
end_function

begin_function
name|void
name|mixedSignedness1
parameter_list|(
name|int
name|a
parameter_list|)
block|{
name|unsigned
name|max
init|=
name|UINT_MAX
decl_stmt|;
name|clang_analyzer_eval
argument_list|(
name|a
operator|<
name|max
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2
operator|)
operator|<
name|max
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2U
operator|)
operator|<
name|max
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
block|}
end_function

begin_function
name|void
name|mixedSignedness2
parameter_list|(
name|int
name|a
parameter_list|)
block|{
name|unsigned
name|max
init|=
name|UINT_MAX
decl_stmt|;
name|clang_analyzer_eval
argument_list|(
name|a
operator|<=
name|max
argument_list|)
expr_stmt|;
comment|// expected-warning{{TRUE}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2
operator|)
operator|<=
name|max
argument_list|)
expr_stmt|;
comment|// expected-warning{{TRUE}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2U
operator|)
operator|<=
name|max
argument_list|)
expr_stmt|;
comment|// expected-warning{{TRUE}}
block|}
end_function

begin_function
name|void
name|mixedSignedness3
parameter_list|(
name|unsigned
name|a
parameter_list|)
block|{
name|int
name|max
init|=
name|INT_MAX
decl_stmt|;
name|clang_analyzer_eval
argument_list|(
name|a
operator|<
name|max
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2
operator|)
operator|<
name|max
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2U
operator|)
operator|<
name|max
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
block|}
end_function

begin_function
name|void
name|mixedSignedness4
parameter_list|(
name|unsigned
name|a
parameter_list|)
block|{
name|int
name|max
init|=
name|INT_MAX
decl_stmt|;
name|clang_analyzer_eval
argument_list|(
name|a
operator|<=
name|max
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2
operator|)
operator|<=
name|max
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2U
operator|)
operator|<=
name|max
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
block|}
end_function

begin_function
name|void
name|mixedSignedness5
parameter_list|(
name|unsigned
name|a
parameter_list|)
block|{
name|int
name|min
init|=
name|INT_MIN
decl_stmt|;
name|clang_analyzer_eval
argument_list|(
name|a
operator|<
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2
operator|)
operator|<
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2U
operator|)
operator|<
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
block|}
end_function

begin_function
name|void
name|mixedSignedness6
parameter_list|(
name|unsigned
name|a
parameter_list|)
block|{
name|int
name|min
init|=
name|INT_MIN
decl_stmt|;
name|clang_analyzer_eval
argument_list|(
name|a
operator|<=
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2
operator|)
operator|<=
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2U
operator|)
operator|<=
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
block|}
end_function

begin_function
name|void
name|mixedSignedness7
parameter_list|(
name|unsigned
name|a
parameter_list|)
block|{
name|unsigned
name|min
init|=
literal|0
decl_stmt|;
name|clang_analyzer_eval
argument_list|(
name|a
operator|<
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{FALSE}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2
operator|)
operator|<
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{FALSE}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2U
operator|)
operator|<
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{FALSE}}
block|}
end_function

begin_function
name|void
name|mixedSignedness8
parameter_list|(
name|unsigned
name|a
parameter_list|)
block|{
name|unsigned
name|min
init|=
literal|0
decl_stmt|;
name|clang_analyzer_eval
argument_list|(
name|a
operator|<=
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2
operator|)
operator|<=
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2U
operator|)
operator|<=
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
block|}
end_function

begin_function
name|void
name|mixedSignedness9
parameter_list|(
name|unsigned
name|a
parameter_list|)
block|{
name|int
name|min
init|=
literal|0
decl_stmt|;
name|clang_analyzer_eval
argument_list|(
name|a
operator|<
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{FALSE}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2
operator|)
operator|<
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{FALSE}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2U
operator|)
operator|<
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{FALSE}}
block|}
end_function

begin_function
name|void
name|mixedSignedness10
parameter_list|(
name|unsigned
name|a
parameter_list|)
block|{
name|int
name|min
init|=
literal|0
decl_stmt|;
name|clang_analyzer_eval
argument_list|(
name|a
operator|<=
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2
operator|)
operator|<=
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2U
operator|)
operator|<=
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
block|}
end_function

begin_function
name|void
name|mixedSignedness11
parameter_list|(
name|int
name|a
parameter_list|)
block|{
name|int
name|min
init|=
literal|0
decl_stmt|;
name|clang_analyzer_eval
argument_list|(
name|a
operator|<
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2
operator|)
operator|<
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2U
operator|)
operator|<
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{FALSE}}
block|}
end_function

begin_function
name|void
name|mixedSignedness12
parameter_list|(
name|int
name|a
parameter_list|)
block|{
name|int
name|min
init|=
literal|0
decl_stmt|;
name|clang_analyzer_eval
argument_list|(
name|a
operator|<=
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2
operator|)
operator|<=
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2U
operator|)
operator|<=
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
block|}
end_function

begin_function
name|void
name|mixedSignedness13
parameter_list|(
name|int
name|a
parameter_list|)
block|{
name|unsigned
name|max
init|=
name|INT_MAX
decl_stmt|;
name|clang_analyzer_eval
argument_list|(
name|a
operator|<
name|max
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2
operator|)
operator|<
name|max
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2U
operator|)
operator|<
name|max
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
block|}
end_function

begin_function
name|void
name|mixedSignedness14
parameter_list|(
name|int
name|a
parameter_list|)
block|{
name|unsigned
name|max
init|=
name|INT_MAX
decl_stmt|;
name|clang_analyzer_eval
argument_list|(
name|a
operator|<=
name|max
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2
operator|)
operator|<=
name|max
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2U
operator|)
operator|<=
name|max
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
block|}
end_function

begin_function
name|void
name|mixedSignedness15
parameter_list|(
name|int
name|a
parameter_list|)
block|{
name|unsigned
name|min
init|=
name|INT_MIN
decl_stmt|;
name|clang_analyzer_eval
argument_list|(
name|a
operator|<
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2
operator|)
operator|<
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2U
operator|)
operator|<
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
block|}
end_function

begin_function
name|void
name|mixedSignedness16
parameter_list|(
name|int
name|a
parameter_list|)
block|{
name|unsigned
name|min
init|=
name|INT_MIN
decl_stmt|;
name|clang_analyzer_eval
argument_list|(
name|a
operator|<=
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2
operator|)
operator|<=
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
operator|(
name|a
operator|+
literal|2U
operator|)
operator|<=
name|min
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
block|}
end_function

begin_function
name|void
name|mixedSignedness17
parameter_list|(
name|int
name|a
parameter_list|)
block|{
name|unsigned
name|max
init|=
name|INT_MAX
decl_stmt|;
if|if
condition|(
name|a
operator|<
name|max
condition|)
return|return;
name|clang_analyzer_eval
argument_list|(
name|a
operator|<
literal|0
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
literal|0
argument_list|)
expr_stmt|;
comment|// expected-warning{{FALSE}}
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
name|INT_MAX
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
block|}
end_function

begin_function
name|void
name|mixedSignedness18
parameter_list|(
name|int
name|a
parameter_list|)
block|{
if|if
condition|(
name|a
operator|>=
literal|0
condition|)
return|return;
name|clang_analyzer_eval
argument_list|(
name|a
operator|<
literal|0
argument_list|)
expr_stmt|;
comment|// expected-warning{{TRUE}}
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
operator|(
name|unsigned
operator|)
name|INT_MIN
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
name|clang_analyzer_eval
argument_list|(
name|a
operator|==
name|UINT_MAX
argument_list|)
expr_stmt|;
comment|// expected-warning{{UNKNOWN}}
block|}
end_function

end_unit

