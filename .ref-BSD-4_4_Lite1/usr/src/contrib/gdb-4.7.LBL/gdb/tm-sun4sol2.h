begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* Macro definitions for GDB for a Sun 4 running Solaris 2    Copyright 1989, 1992 Free Software Foundation, Inc.  This file is part of GDB.  This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.  This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.  You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.  */
end_comment

begin_include
include|#
directive|include
file|"tm-sparc.h"
end_include

begin_include
include|#
directive|include
file|"tm-sysv4.h"
end_include

begin_comment
comment|/* The values of N_SLINE, N_LBRAC, N_RBRAC symbols in .stab sections are    relative to the current function, rather than being absolute or    relative to the current N_SO.  */
end_comment

begin_define
define|#
directive|define
name|BLOCK_ADDRESS_FUNCTION_RELATIVE
end_define

begin_comment
comment|/* Variables in the debug stabs occur after the N_LBRAC, not before it,    in code generated by Sun C.  */
end_comment

begin_define
define|#
directive|define
name|VARIABLES_INSIDE_BLOCK
parameter_list|(
name|desc
parameter_list|,
name|gcc_p
parameter_list|)
value|(!(gcc_p))
end_define

begin_comment
comment|/* There's no need to correct LBRAC entries by guessing how they should    work.  In fact, this is harmful because the LBRAC entries now all appear    at the end of the function, not intermixed with the SLINE entries.  */
end_comment

begin_define
define|#
directive|define
name|SUN_FIXED_LBRAC_BUG
end_define

begin_if
if|#
directive|if
literal|0
end_if

begin_comment
comment|/* Setjmp/longjmp are not as well doc'd in SunOS 5.x yet */
end_comment

begin_comment
comment|/* Offsets into jmp_buf.  Not defined by Sun, but at least documented in a    comment in<machine/setjmp.h>! */
end_comment

begin_define
define|#
directive|define
name|JB_ELEMENT_SIZE
value|4
end_define

begin_comment
comment|/* Size of each element in jmp_buf */
end_comment

begin_define
define|#
directive|define
name|JB_ONSSTACK
value|0
end_define

begin_define
define|#
directive|define
name|JB_SIGMASK
value|1
end_define

begin_define
define|#
directive|define
name|JB_SP
value|2
end_define

begin_define
define|#
directive|define
name|JB_PC
value|3
end_define

begin_define
define|#
directive|define
name|JB_NPC
value|4
end_define

begin_define
define|#
directive|define
name|JB_PSR
value|5
end_define

begin_define
define|#
directive|define
name|JB_G1
value|6
end_define

begin_define
define|#
directive|define
name|JB_O0
value|7
end_define

begin_define
define|#
directive|define
name|JB_WBCNT
value|8
end_define

begin_comment
comment|/* Figure out where the longjmp will land.  We expect that we have just entered    longjmp and haven't yet setup the stack frame, so the args are still in the    output regs.  %o0 (O0_REGNUM) points at the jmp_buf structure from which we    extract the pc (JB_PC) that we will land at.  The pc is copied into ADDR.    This routine returns true on success */
end_comment

begin_define
unit|extern int get_longjmp_target PARAMS ((CORE_ADDR *));
define|#
directive|define
name|GET_LONGJMP_TARGET
parameter_list|(
name|ADDR
parameter_list|)
value|get_longjmp_target(ADDR)
end_define

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* 0 */
end_comment

end_unit

