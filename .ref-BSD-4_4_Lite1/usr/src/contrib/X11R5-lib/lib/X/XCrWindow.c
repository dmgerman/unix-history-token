begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* $XConsortium: XCrWindow.c,v 11.13 91/01/06 11:45:00 rws Exp $ */
end_comment

begin_comment
comment|/* Copyright    Massachusetts Institute of Technology    1986	*/
end_comment

begin_comment
comment|/* Permission to use, copy, modify, distribute, and sell this software and its documentation for any purpose is hereby granted without fee, provided that the above copyright notice appear in all copies and that both that copyright notice and this permission notice appear in supporting documentation, and that the name of M.I.T. not be used in advertising or publicity pertaining to distribution of the software without specific, written prior permission.  M.I.T. makes no representations about the suitability of this software for any purpose.  It is provided "as is" without express or implied warranty. */
end_comment

begin_include
include|#
directive|include
file|"Xlibint.h"
end_include

begin_function
name|Window
name|XCreateSimpleWindow
parameter_list|(
name|dpy
parameter_list|,
name|parent
parameter_list|,
name|x
parameter_list|,
name|y
parameter_list|,
name|width
parameter_list|,
name|height
parameter_list|,
name|borderWidth
parameter_list|,
name|border
parameter_list|,
name|background
parameter_list|)
specifier|register
name|Display
modifier|*
name|dpy
decl_stmt|;
name|Window
name|parent
decl_stmt|;
name|int
name|x
decl_stmt|,
name|y
decl_stmt|;
name|unsigned
name|int
name|width
decl_stmt|,
name|height
decl_stmt|,
name|borderWidth
decl_stmt|;
name|unsigned
name|long
name|border
decl_stmt|;
name|unsigned
name|long
name|background
decl_stmt|;
block|{
name|Window
name|wid
decl_stmt|;
specifier|register
name|xCreateWindowReq
modifier|*
name|req
decl_stmt|;
name|LockDisplay
argument_list|(
name|dpy
argument_list|)
expr_stmt|;
name|GetReqExtra
argument_list|(
name|CreateWindow
argument_list|,
literal|8
argument_list|,
name|req
argument_list|)
expr_stmt|;
name|req
operator|->
name|parent
operator|=
name|parent
expr_stmt|;
name|req
operator|->
name|x
operator|=
name|x
expr_stmt|;
name|req
operator|->
name|y
operator|=
name|y
expr_stmt|;
name|req
operator|->
name|width
operator|=
name|width
expr_stmt|;
name|req
operator|->
name|height
operator|=
name|height
expr_stmt|;
name|req
operator|->
name|borderWidth
operator|=
name|borderWidth
expr_stmt|;
name|req
operator|->
name|depth
operator|=
literal|0
expr_stmt|;
name|req
operator|->
name|class
operator|=
name|CopyFromParent
expr_stmt|;
name|req
operator|->
name|visual
operator|=
name|CopyFromParent
expr_stmt|;
name|wid
operator|=
name|req
operator|->
name|wid
operator|=
name|XAllocID
argument_list|(
name|dpy
argument_list|)
expr_stmt|;
name|req
operator|->
name|mask
operator|=
name|CWBackPixel
operator||
name|CWBorderPixel
expr_stmt|;
ifdef|#
directive|ifdef
name|MUSTCOPY
block|{
name|unsigned
name|long
name|lbackground
init|=
name|background
decl_stmt|,
name|lborder
init|=
name|border
decl_stmt|;
name|dpy
operator|->
name|bufptr
operator|-=
literal|8
expr_stmt|;
name|Data32
argument_list|(
name|dpy
argument_list|,
operator|(
name|long
operator|*
operator|)
operator|&
name|lbackground
argument_list|,
literal|4
argument_list|)
expr_stmt|;
name|Data32
argument_list|(
name|dpy
argument_list|,
operator|(
name|long
operator|*
operator|)
operator|&
name|lborder
argument_list|,
literal|4
argument_list|)
expr_stmt|;
block|}
else|#
directive|else
block|{
specifier|register
name|unsigned
name|long
modifier|*
name|valuePtr
init|=
operator|(
name|unsigned
name|long
operator|*
operator|)
name|NEXTPTR
argument_list|(
name|req
argument_list|,
name|xCreateWindowReq
argument_list|)
decl_stmt|;
operator|*
name|valuePtr
operator|++
operator|=
name|background
expr_stmt|;
operator|*
name|valuePtr
operator|=
name|border
expr_stmt|;
block|}
endif|#
directive|endif
comment|/* MUSTCOPY */
name|UnlockDisplay
argument_list|(
name|dpy
argument_list|)
expr_stmt|;
name|SyncHandle
argument_list|()
expr_stmt|;
return|return
operator|(
name|wid
operator|)
return|;
block|}
end_function

end_unit

