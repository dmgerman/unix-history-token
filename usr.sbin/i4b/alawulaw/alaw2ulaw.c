begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*  *   Copyright (c) 1997 Hellmuth Michaelis. All rights reserved.  *  *   Redistribution and use in source and binary forms, with or without  *   modification, are permitted provided that the following conditions  *   are met:  *  *   1. Redistributions of source code must retain the above copyright  *      notice, this list of conditions and the following disclaimer.  *   2. Redistributions in binary form must reproduce the above copyright  *      notice, this list of conditions and the following disclaimer in the  *      documentation and/or other materials provided with the distribution.  *  *   THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND  *   ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE  *   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE  *   ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE  *   FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL  *   DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS  *   OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)  *   HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT  *   LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY  *   OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF  *   SUCH DAMAGE.  *  *---------------------------------------------------------------------------  *  *	convert a-law / u-law sound files  *	---------------------------------  *  *	last edit-date: [Sat Dec  5 17:57:56 1998]  *  * $FreeBSD$  *  *	-hm	telephony is ready  *  *---------------------------------------------------------------------------*/
end_comment

begin_include
include|#
directive|include
file|<string.h>
end_include

begin_include
include|#
directive|include
file|<unistd.h>
end_include

begin_define
define|#
directive|define
name|BUF_SIZ
value|2048
end_define

begin_decl_stmt
name|unsigned
name|char
name|alaw_ulaw
index|[]
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|unsigned
name|char
name|ulaw_alaw
index|[]
decl_stmt|;
end_decl_stmt

begin_function
name|int
name|main
parameter_list|(
name|int
name|argc
parameter_list|,
name|char
modifier|*
name|argv
index|[]
parameter_list|)
block|{
name|int
name|i
decl_stmt|,
name|j
decl_stmt|;
name|unsigned
name|char
name|buffer
index|[
name|BUF_SIZ
index|]
decl_stmt|;
name|char
modifier|*
name|p
decl_stmt|;
name|unsigned
name|char
modifier|*
name|cp
decl_stmt|;
if|if
condition|(
operator|(
name|p
operator|=
name|rindex
argument_list|(
operator|*
name|argv
argument_list|,
literal|'/'
argument_list|)
operator|)
operator|!=
name|NULL
condition|)
name|p
operator|++
expr_stmt|;
else|else
name|p
operator|=
operator|*
name|argv
expr_stmt|;
if|if
condition|(
operator|!
name|strcmp
argument_list|(
name|p
argument_list|,
literal|"ulaw2alaw"
argument_list|)
condition|)
block|{
name|cp
operator|=
name|ulaw_alaw
expr_stmt|;
block|}
elseif|else
if|if
condition|(
operator|!
name|strcmp
argument_list|(
name|p
argument_list|,
literal|"alaw2ulaw"
argument_list|)
condition|)
block|{
name|cp
operator|=
name|alaw_ulaw
expr_stmt|;
block|}
else|else
block|{
return|return
operator|(
literal|1
operator|)
return|;
block|}
while|while
condition|(
operator|(
operator|(
name|j
operator|=
name|read
argument_list|(
literal|0
argument_list|,
name|buffer
argument_list|,
name|BUF_SIZ
argument_list|)
operator|)
operator|>
literal|0
operator|)
condition|)
block|{
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|j
condition|;
name|i
operator|++
control|)
name|buffer
index|[
name|i
index|]
operator|=
name|cp
index|[
name|buffer
index|[
name|i
index|]
index|]
expr_stmt|;
name|write
argument_list|(
literal|1
argument_list|,
name|buffer
argument_list|,
name|j
argument_list|)
expr_stmt|;
block|}
return|return
operator|(
literal|0
operator|)
return|;
block|}
end_function

begin_decl_stmt
name|unsigned
name|char
name|alaw_ulaw
index|[]
init|=
block|{
literal|0x002a
block|,
literal|0x00a9
block|,
literal|0x005f
block|,
literal|0x00e3
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x0048
block|,
literal|0x00c8
block|,
literal|0x0039
block|,
literal|0x00b9
block|,
literal|0x006f
block|,
literal|0x00f7
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x0055
block|,
literal|0x00d7
block|,
literal|0x0022
block|,
literal|0x00a1
block|,
literal|0x005b
block|,
literal|0x00dd
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x0040
block|,
literal|0x00c0
block|,
literal|0x0031
block|,
literal|0x00b1
block|,
literal|0x0067
block|,
literal|0x00eb
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x004e
block|,
literal|0x00cf
block|,
literal|0x002e
block|,
literal|0x00ad
block|,
literal|0x0063
block|,
literal|0x00e7
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x004c
block|,
literal|0x00cc
block|,
literal|0x003d
block|,
literal|0x00bd
block|,
literal|0x0077
block|,
literal|0x00ff
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x0059
block|,
literal|0x00db
block|,
literal|0x0026
block|,
literal|0x00a5
block|,
literal|0x005d
block|,
literal|0x00df
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x0044
block|,
literal|0x00c4
block|,
literal|0x0035
block|,
literal|0x00b5
block|,
literal|0x006b
block|,
literal|0x00ef
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x0051
block|,
literal|0x00d3
block|,
literal|0x0028
block|,
literal|0x00a7
block|,
literal|0x005f
block|,
literal|0x00e3
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x0046
block|,
literal|0x00c6
block|,
literal|0x0037
block|,
literal|0x00b7
block|,
literal|0x006f
block|,
literal|0x00f7
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x0053
block|,
literal|0x00d5
block|,
literal|0x0020
block|,
literal|0x009f
block|,
literal|0x005b
block|,
literal|0x00dd
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x003f
block|,
literal|0x00bf
block|,
literal|0x002f
block|,
literal|0x00af
block|,
literal|0x0067
block|,
literal|0x00eb
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x004d
block|,
literal|0x00ce
block|,
literal|0x002c
block|,
literal|0x00ab
block|,
literal|0x0063
block|,
literal|0x00e7
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x004a
block|,
literal|0x00ca
block|,
literal|0x003b
block|,
literal|0x00bb
block|,
literal|0x0077
block|,
literal|0x00ff
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x0057
block|,
literal|0x00d9
block|,
literal|0x0024
block|,
literal|0x00a3
block|,
literal|0x005d
block|,
literal|0x00df
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x0042
block|,
literal|0x00c2
block|,
literal|0x0033
block|,
literal|0x00b3
block|,
literal|0x006b
block|,
literal|0x00ef
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x004f
block|,
literal|0x00d1
block|,
literal|0x002b
block|,
literal|0x00aa
block|,
literal|0x0063
block|,
literal|0x00e3
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x0049
block|,
literal|0x00c9
block|,
literal|0x003a
block|,
literal|0x00ba
block|,
literal|0x0077
block|,
literal|0x00f7
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x0057
block|,
literal|0x00d7
block|,
literal|0x0023
block|,
literal|0x00a2
block|,
literal|0x005d
block|,
literal|0x00dd
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x0041
block|,
literal|0x00c1
block|,
literal|0x0032
block|,
literal|0x00b2
block|,
literal|0x006b
block|,
literal|0x00eb
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x004f
block|,
literal|0x00cf
block|,
literal|0x002f
block|,
literal|0x00ae
block|,
literal|0x0067
block|,
literal|0x00e7
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x004d
block|,
literal|0x00cd
block|,
literal|0x003e
block|,
literal|0x00be
block|,
literal|0x00ff
block|,
literal|0x00ff
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x005b
block|,
literal|0x00db
block|,
literal|0x0027
block|,
literal|0x00a6
block|,
literal|0x005f
block|,
literal|0x00df
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x0045
block|,
literal|0x00c5
block|,
literal|0x0036
block|,
literal|0x00b6
block|,
literal|0x006f
block|,
literal|0x00ef
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x0053
block|,
literal|0x00d3
block|,
literal|0x0029
block|,
literal|0x00a8
block|,
literal|0x005f
block|,
literal|0x00e3
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x0047
block|,
literal|0x00c7
block|,
literal|0x0038
block|,
literal|0x00b8
block|,
literal|0x006f
block|,
literal|0x00f7
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x0055
block|,
literal|0x00d5
block|,
literal|0x0021
block|,
literal|0x00a0
block|,
literal|0x005b
block|,
literal|0x00dd
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x003f
block|,
literal|0x00bf
block|,
literal|0x0030
block|,
literal|0x00b0
block|,
literal|0x0067
block|,
literal|0x00eb
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x004e
block|,
literal|0x00ce
block|,
literal|0x002d
block|,
literal|0x00ac
block|,
literal|0x0063
block|,
literal|0x00e7
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x004b
block|,
literal|0x00cb
block|,
literal|0x003c
block|,
literal|0x00bc
block|,
literal|0x0077
block|,
literal|0x00ff
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x0059
block|,
literal|0x00d9
block|,
literal|0x0025
block|,
literal|0x00a4
block|,
literal|0x005d
block|,
literal|0x00df
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x0043
block|,
literal|0x00c3
block|,
literal|0x0034
block|,
literal|0x00b4
block|,
literal|0x006b
block|,
literal|0x00ef
block|,
literal|0x001f
block|,
literal|0x009f
block|,
literal|0x0051
block|,
literal|0x00d1
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|unsigned
name|char
name|ulaw_alaw
index|[]
init|=
block|{
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00fc
block|,
literal|0x00ac
block|,
literal|0x0050
block|,
literal|0x00d0
block|,
literal|0x0010
block|,
literal|0x0090
block|,
literal|0x0070
block|,
literal|0x00f0
block|,
literal|0x0030
block|,
literal|0x00b0
block|,
literal|0x0040
block|,
literal|0x00c0
block|,
literal|0x0000
block|,
literal|0x0080
block|,
literal|0x0060
block|,
literal|0x00e0
block|,
literal|0x0020
block|,
literal|0x00a0
block|,
literal|0x00d8
block|,
literal|0x0018
block|,
literal|0x0098
block|,
literal|0x0078
block|,
literal|0x00f8
block|,
literal|0x0038
block|,
literal|0x00b8
block|,
literal|0x0048
block|,
literal|0x00c8
block|,
literal|0x0008
block|,
literal|0x0088
block|,
literal|0x0068
block|,
literal|0x00e8
block|,
literal|0x0028
block|,
literal|0x00a8
block|,
literal|0x00d6
block|,
literal|0x0096
block|,
literal|0x0076
block|,
literal|0x00f6
block|,
literal|0x0036
block|,
literal|0x00b6
block|,
literal|0x0046
block|,
literal|0x00c6
block|,
literal|0x0006
block|,
literal|0x0086
block|,
literal|0x0066
block|,
literal|0x00e6
block|,
literal|0x0026
block|,
literal|0x00a6
block|,
literal|0x00de
block|,
literal|0x009e
block|,
literal|0x00fe
block|,
literal|0x00fe
block|,
literal|0x00be
block|,
literal|0x00be
block|,
literal|0x00ce
block|,
literal|0x00ce
block|,
literal|0x008e
block|,
literal|0x008e
block|,
literal|0x00ee
block|,
literal|0x00ee
block|,
literal|0x00d2
block|,
literal|0x00d2
block|,
literal|0x00f2
block|,
literal|0x00f2
block|,
literal|0x00c2
block|,
literal|0x00c2
block|,
literal|0x00e2
block|,
literal|0x00e2
block|,
literal|0x00e2
block|,
literal|0x00da
block|,
literal|0x00da
block|,
literal|0x00da
block|,
literal|0x00da
block|,
literal|0x00fa
block|,
literal|0x00fa
block|,
literal|0x00fa
block|,
literal|0x00fa
block|,
literal|0x00ca
block|,
literal|0x00ca
block|,
literal|0x00ca
block|,
literal|0x00ca
block|,
literal|0x00ea
block|,
literal|0x00ea
block|,
literal|0x00ea
block|,
literal|0x00ea
block|,
literal|0x00ea
block|,
literal|0x00ea
block|,
literal|0x00eb
block|,
literal|0x00eb
block|,
literal|0x00eb
block|,
literal|0x00eb
block|,
literal|0x00eb
block|,
literal|0x00eb
block|,
literal|0x00eb
block|,
literal|0x00eb
block|,
literal|0x00eb
block|,
literal|0x00eb
block|,
literal|0x00eb
block|,
literal|0x00eb
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00fd
block|,
literal|0x00d1
block|,
literal|0x0011
block|,
literal|0x0091
block|,
literal|0x0071
block|,
literal|0x00f1
block|,
literal|0x0031
block|,
literal|0x00b1
block|,
literal|0x0041
block|,
literal|0x00c1
block|,
literal|0x0001
block|,
literal|0x0081
block|,
literal|0x0061
block|,
literal|0x00e1
block|,
literal|0x0021
block|,
literal|0x00a1
block|,
literal|0x0059
block|,
literal|0x00d9
block|,
literal|0x0019
block|,
literal|0x0099
block|,
literal|0x0079
block|,
literal|0x00f9
block|,
literal|0x0039
block|,
literal|0x00b9
block|,
literal|0x0049
block|,
literal|0x00c9
block|,
literal|0x0009
block|,
literal|0x0089
block|,
literal|0x0069
block|,
literal|0x00e9
block|,
literal|0x0029
block|,
literal|0x00a9
block|,
literal|0x0057
block|,
literal|0x0017
block|,
literal|0x0097
block|,
literal|0x0077
block|,
literal|0x00f7
block|,
literal|0x0037
block|,
literal|0x00b7
block|,
literal|0x0047
block|,
literal|0x00c7
block|,
literal|0x0007
block|,
literal|0x0087
block|,
literal|0x0067
block|,
literal|0x00e7
block|,
literal|0x0027
block|,
literal|0x00a7
block|,
literal|0x00df
block|,
literal|0x009f
block|,
literal|0x009f
block|,
literal|0x00ff
block|,
literal|0x00ff
block|,
literal|0x00bf
block|,
literal|0x00bf
block|,
literal|0x00cf
block|,
literal|0x00cf
block|,
literal|0x008f
block|,
literal|0x008f
block|,
literal|0x00ef
block|,
literal|0x00ef
block|,
literal|0x00af
block|,
literal|0x00af
block|,
literal|0x00d3
block|,
literal|0x00d3
block|,
literal|0x00f3
block|,
literal|0x00f3
block|,
literal|0x00f3
block|,
literal|0x00c3
block|,
literal|0x00c3
block|,
literal|0x00c3
block|,
literal|0x00c3
block|,
literal|0x00e3
block|,
literal|0x00e3
block|,
literal|0x00e3
block|,
literal|0x00e3
block|,
literal|0x00db
block|,
literal|0x00db
block|,
literal|0x00db
block|,
literal|0x00db
block|,
literal|0x00fb
block|,
literal|0x00fb
block|,
literal|0x00fb
block|,
literal|0x00fb
block|,
literal|0x00fb
block|,
literal|0x00fb
block|,
literal|0x00cb
block|,
literal|0x00cb
block|,
literal|0x00cb
block|,
literal|0x00cb
block|,
literal|0x00cb
block|,
literal|0x00cb
block|,
literal|0x00cb
block|,
literal|0x00cb
block|,
literal|0x00eb
block|,
literal|0x00eb
block|,
literal|0x00eb
block|,
literal|0x00eb
block|}
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* EOF */
end_comment

end_unit

