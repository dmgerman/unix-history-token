begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*-  * Copyright (c) 1991, 1993  *	The Regents of the University of California.  All rights reserved.  *  * The game adventure was originally written in Fortran by Will Crowther  * and Don Woods.  It was later translated to C and enhanced by Jim  * Gillogly.  This code is derived from software contributed to Berkeley  * by Jim Gillogly at The Rand Corporation.  *  * Redistribution and use in source and binary forms, with or without  * modification, are permitted provided that the following conditions  * are met:  * 1. Redistributions of source code must retain the above copyright  *    notice, this list of conditions and the following disclaimer.  * 2. Redistributions in binary form must reproduce the above copyright  *    notice, this list of conditions and the following disclaimer in the  *    documentation and/or other materials provided with the distribution.  * 3. All advertising materials mentioning features or use of this software  *    must display the following acknowledgement:  *	This product includes software developed by the University of  *	California, Berkeley and its contributors.  * 4. Neither the name of the University nor the names of its contributors  *    may be used to endorse or promote products derived from this software  *    without specific prior written permission.  *  * THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND  * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE  * ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE  * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS  * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)  * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT  * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY  * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF  * SUCH DAMAGE.  */
end_comment

begin_ifndef
ifndef|#
directive|ifndef
name|lint
end_ifndef

begin_if
if|#
directive|if
literal|0
end_if

begin_endif
unit|static char sccsid[] = "@(#)subr.c	8.1 (Berkeley) 5/31/93";
endif|#
directive|endif
end_endif

begin_decl_stmt
specifier|static
specifier|const
name|char
name|rcsid
index|[]
init|=
literal|"$FreeBSD$"
decl_stmt|;
end_decl_stmt

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* not lint */
end_comment

begin_comment
comment|/*      Re-coding of advent in C: subroutines from main                 */
end_comment

begin_include
include|#
directive|include
file|<stdio.h>
end_include

begin_include
include|#
directive|include
file|<string.h>
end_include

begin_include
include|#
directive|include
file|"hdr.h"
end_include

begin_function_decl
specifier|static
name|void
name|badmove
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|int
name|bitset
parameter_list|(
name|int
parameter_list|,
name|int
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|int
name|dropper
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|int
name|liq2
parameter_list|(
name|int
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|int
name|mback
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|int
name|specials
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|int
name|trbridge
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_comment
comment|/*              Statement functions     */
end_comment

begin_function
name|int
name|toting
parameter_list|(
name|objj
parameter_list|)
name|int
name|objj
decl_stmt|;
block|{
if|if
condition|(
name|place
index|[
name|objj
index|]
operator|==
operator|-
literal|1
condition|)
return|return
operator|(
name|TRUE
operator|)
return|;
else|else
return|return
operator|(
name|FALSE
operator|)
return|;
block|}
end_function

begin_function
name|int
name|here
parameter_list|(
name|objj
parameter_list|)
name|int
name|objj
decl_stmt|;
block|{
if|if
condition|(
name|place
index|[
name|objj
index|]
operator|==
name|loc
operator|||
name|toting
argument_list|(
name|objj
argument_list|)
condition|)
return|return
operator|(
name|TRUE
operator|)
return|;
else|else
return|return
operator|(
name|FALSE
operator|)
return|;
block|}
end_function

begin_function
name|int
name|at
parameter_list|(
name|objj
parameter_list|)
name|int
name|objj
decl_stmt|;
block|{
if|if
condition|(
name|place
index|[
name|objj
index|]
operator|==
name|loc
operator|||
name|fixed
index|[
name|objj
index|]
operator|==
name|loc
condition|)
return|return
operator|(
name|TRUE
operator|)
return|;
else|else
return|return
operator|(
name|FALSE
operator|)
return|;
block|}
end_function

begin_function
specifier|static
name|int
name|liq2
parameter_list|(
name|pbotl
parameter_list|)
name|int
name|pbotl
decl_stmt|;
block|{
return|return
operator|(
operator|(
literal|1
operator|-
name|pbotl
operator|)
operator|*
name|water
operator|+
operator|(
name|pbotl
operator|/
literal|2
operator|)
operator|*
operator|(
name|water
operator|+
name|oil
operator|)
operator|)
return|;
block|}
end_function

begin_function
name|int
name|liq
parameter_list|()
block|{
name|int
name|i
decl_stmt|;
name|i
operator|=
name|prop
index|[
name|bottle
index|]
expr_stmt|;
if|if
condition|(
name|i
operator|>
operator|-
literal|1
operator|-
name|i
condition|)
return|return
operator|(
name|liq2
argument_list|(
name|i
argument_list|)
operator|)
return|;
else|else
return|return
operator|(
name|liq2
argument_list|(
operator|-
literal|1
operator|-
name|i
argument_list|)
operator|)
return|;
block|}
end_function

begin_function
name|int
name|liqloc
parameter_list|(
name|locc
parameter_list|)
comment|/* may want to clean this one up a bit */
name|int
name|locc
decl_stmt|;
block|{
name|int
name|i
decl_stmt|,
name|j
decl_stmt|,
name|l
decl_stmt|;
name|i
operator|=
name|cond
index|[
name|locc
index|]
operator|/
literal|2
expr_stmt|;
name|j
operator|=
operator|(
operator|(
name|i
operator|*
literal|2
operator|)
operator|%
literal|8
operator|)
operator|-
literal|5
expr_stmt|;
name|l
operator|=
name|cond
index|[
name|locc
index|]
operator|/
literal|4
expr_stmt|;
name|l
operator|=
name|l
operator|%
literal|2
expr_stmt|;
return|return
operator|(
name|liq2
argument_list|(
name|j
operator|*
name|l
operator|+
literal|1
argument_list|)
operator|)
return|;
block|}
end_function

begin_function
specifier|static
name|int
name|bitset
parameter_list|(
name|l
parameter_list|,
name|n
parameter_list|)
name|int
name|l
decl_stmt|,
name|n
decl_stmt|;
block|{
if|if
condition|(
name|cond
index|[
name|l
index|]
operator|&
name|setbit
index|[
name|n
index|]
condition|)
return|return
operator|(
name|TRUE
operator|)
return|;
return|return
operator|(
name|FALSE
operator|)
return|;
block|}
end_function

begin_function
name|int
name|forced
parameter_list|(
name|locc
parameter_list|)
name|int
name|locc
decl_stmt|;
block|{
if|if
condition|(
name|cond
index|[
name|locc
index|]
operator|==
literal|2
condition|)
return|return
operator|(
name|TRUE
operator|)
return|;
return|return
operator|(
name|FALSE
operator|)
return|;
block|}
end_function

begin_function
name|int
name|dark
parameter_list|()
block|{
if|if
condition|(
operator|(
name|cond
index|[
name|loc
index|]
operator|%
literal|2
operator|)
operator|==
literal|0
operator|&&
operator|(
name|prop
index|[
name|lamp
index|]
operator|==
literal|0
operator|||
operator|!
name|here
argument_list|(
name|lamp
argument_list|)
operator|)
condition|)
return|return
operator|(
name|TRUE
operator|)
return|;
return|return
operator|(
name|FALSE
operator|)
return|;
block|}
end_function

begin_function
name|int
name|pct
parameter_list|(
name|n
parameter_list|)
name|int
name|n
decl_stmt|;
block|{
if|if
condition|(
name|ran
argument_list|(
literal|100
argument_list|)
operator|<
name|n
condition|)
return|return
operator|(
name|TRUE
operator|)
return|;
return|return
operator|(
name|FALSE
operator|)
return|;
block|}
end_function

begin_function
name|int
name|fdwarf
parameter_list|()
comment|/* 71 */
block|{
name|int
name|i
decl_stmt|,
name|j
decl_stmt|;
name|struct
name|travlist
modifier|*
name|kk
decl_stmt|;
if|if
condition|(
name|newloc
operator|!=
name|loc
operator|&&
operator|!
name|forced
argument_list|(
name|loc
argument_list|)
operator|&&
operator|!
name|bitset
argument_list|(
name|loc
argument_list|,
literal|3
argument_list|)
condition|)
block|{
for|for
control|(
name|i
operator|=
literal|1
init|;
name|i
operator|<=
literal|5
condition|;
name|i
operator|++
control|)
block|{
if|if
condition|(
name|odloc
index|[
name|i
index|]
operator|!=
name|newloc
operator|||
operator|!
name|dseen
index|[
name|i
index|]
condition|)
continue|continue;
name|newloc
operator|=
name|loc
expr_stmt|;
name|rspeak
argument_list|(
literal|2
argument_list|)
expr_stmt|;
break|break;
block|}
block|}
name|loc
operator|=
name|newloc
expr_stmt|;
comment|/* 74 */
if|if
condition|(
name|loc
operator|==
literal|0
operator|||
name|forced
argument_list|(
name|loc
argument_list|)
operator|||
name|bitset
argument_list|(
name|newloc
argument_list|,
literal|3
argument_list|)
condition|)
return|return
operator|(
literal|2000
operator|)
return|;
if|if
condition|(
name|dflag
operator|==
literal|0
condition|)
block|{
if|if
condition|(
name|loc
operator|>=
literal|15
condition|)
name|dflag
operator|=
literal|1
expr_stmt|;
return|return
operator|(
literal|2000
operator|)
return|;
block|}
if|if
condition|(
name|dflag
operator|==
literal|1
condition|)
comment|/* 6000 */
block|{
if|if
condition|(
name|loc
operator|<
literal|15
operator|||
name|pct
argument_list|(
literal|95
argument_list|)
condition|)
return|return
operator|(
literal|2000
operator|)
return|;
name|dflag
operator|=
literal|2
expr_stmt|;
for|for
control|(
name|i
operator|=
literal|1
init|;
name|i
operator|<=
literal|2
condition|;
name|i
operator|++
control|)
block|{
name|j
operator|=
literal|1
operator|+
name|ran
argument_list|(
literal|5
argument_list|)
expr_stmt|;
if|if
condition|(
name|pct
argument_list|(
literal|50
argument_list|)
operator|&&
name|saved
operator|==
operator|-
literal|1
condition|)
name|dloc
index|[
name|j
index|]
operator|=
literal|0
expr_stmt|;
comment|/* 6001 */
block|}
for|for
control|(
name|i
operator|=
literal|1
init|;
name|i
operator|<=
literal|5
condition|;
name|i
operator|++
control|)
block|{
if|if
condition|(
name|dloc
index|[
name|i
index|]
operator|==
name|loc
condition|)
name|dloc
index|[
name|i
index|]
operator|=
name|daltlc
expr_stmt|;
name|odloc
index|[
name|i
index|]
operator|=
name|dloc
index|[
name|i
index|]
expr_stmt|;
comment|/* 6002 */
block|}
name|rspeak
argument_list|(
literal|3
argument_list|)
expr_stmt|;
name|drop
argument_list|(
name|axe
argument_list|,
name|loc
argument_list|)
expr_stmt|;
return|return
operator|(
literal|2000
operator|)
return|;
block|}
name|dtotal
operator|=
name|attack
operator|=
name|stick
operator|=
literal|0
expr_stmt|;
comment|/* 6010 */
for|for
control|(
name|i
operator|=
literal|1
init|;
name|i
operator|<=
literal|6
condition|;
name|i
operator|++
control|)
comment|/* loop to 6030 */
block|{
if|if
condition|(
name|dloc
index|[
name|i
index|]
operator|==
literal|0
condition|)
continue|continue;
name|j
operator|=
literal|1
expr_stmt|;
for|for
control|(
name|kk
operator|=
name|travel
index|[
name|dloc
index|[
name|i
index|]
index|]
init|;
name|kk
operator|!=
literal|0
condition|;
name|kk
operator|=
name|kk
operator|->
name|next
control|)
block|{
name|newloc
operator|=
name|kk
operator|->
name|tloc
expr_stmt|;
if|if
condition|(
name|newloc
operator|>
literal|300
operator|||
name|newloc
operator|<
literal|15
operator|||
name|newloc
operator|==
name|odloc
index|[
name|i
index|]
operator|||
operator|(
name|j
operator|>
literal|1
operator|&&
name|newloc
operator|==
name|tk
index|[
name|j
operator|-
literal|1
index|]
operator|)
operator|||
name|j
operator|>=
literal|20
operator|||
name|newloc
operator|==
name|dloc
index|[
name|i
index|]
operator|||
name|forced
argument_list|(
name|newloc
argument_list|)
operator|||
operator|(
name|i
operator|==
literal|6
operator|&&
name|bitset
argument_list|(
name|newloc
argument_list|,
literal|3
argument_list|)
operator|)
operator|||
name|kk
operator|->
name|conditions
operator|==
literal|100
condition|)
continue|continue;
name|tk
index|[
name|j
operator|++
index|]
operator|=
name|newloc
expr_stmt|;
block|}
name|tk
index|[
name|j
index|]
operator|=
name|odloc
index|[
name|i
index|]
expr_stmt|;
comment|/* 6016 */
if|if
condition|(
name|j
operator|>=
literal|2
condition|)
name|j
operator|--
expr_stmt|;
name|j
operator|=
literal|1
operator|+
name|ran
argument_list|(
name|j
argument_list|)
expr_stmt|;
name|odloc
index|[
name|i
index|]
operator|=
name|dloc
index|[
name|i
index|]
expr_stmt|;
name|dloc
index|[
name|i
index|]
operator|=
name|tk
index|[
name|j
index|]
expr_stmt|;
name|dseen
index|[
name|i
index|]
operator|=
operator|(
name|dseen
index|[
name|i
index|]
operator|&&
name|loc
operator|>=
literal|15
operator|)
operator|||
operator|(
name|dloc
index|[
name|i
index|]
operator|==
name|loc
operator|||
name|odloc
index|[
name|i
index|]
operator|==
name|loc
operator|)
expr_stmt|;
if|if
condition|(
operator|!
name|dseen
index|[
name|i
index|]
condition|)
continue|continue;
comment|/* i.e. goto 6030 */
name|dloc
index|[
name|i
index|]
operator|=
name|loc
expr_stmt|;
if|if
condition|(
name|i
operator|==
literal|6
condition|)
comment|/* pirate's spotted him */
block|{
if|if
condition|(
name|loc
operator|==
name|chloc
operator|||
name|prop
index|[
name|chest
index|]
operator|>=
literal|0
condition|)
continue|continue;
name|k
operator|=
literal|0
expr_stmt|;
for|for
control|(
name|j
operator|=
literal|50
init|;
name|j
operator|<=
name|maxtrs
condition|;
name|j
operator|++
control|)
comment|/* loop to 6020 */
block|{
if|if
condition|(
name|j
operator|==
name|pyram
operator|&&
operator|(
name|loc
operator|==
name|plac
index|[
name|pyram
index|]
operator|||
name|loc
operator|==
name|plac
index|[
name|emrald
index|]
operator|)
condition|)
goto|goto
name|l6020
goto|;
if|if
condition|(
name|toting
argument_list|(
name|j
argument_list|)
condition|)
goto|goto
name|l6022
goto|;
name|l6020
label|:
if|if
condition|(
name|here
argument_list|(
name|j
argument_list|)
condition|)
name|k
operator|=
literal|1
expr_stmt|;
block|}
comment|/* 6020 */
if|if
condition|(
name|tally
operator|==
name|tally2
operator|+
literal|1
operator|&&
name|k
operator|==
literal|0
operator|&&
name|place
index|[
name|chest
index|]
operator|==
literal|0
operator|&&
name|here
argument_list|(
name|lamp
argument_list|)
operator|&&
name|prop
index|[
name|lamp
index|]
operator|==
literal|1
condition|)
goto|goto
name|l6025
goto|;
if|if
condition|(
name|odloc
index|[
literal|6
index|]
operator|!=
name|dloc
index|[
literal|6
index|]
operator|&&
name|pct
argument_list|(
literal|20
argument_list|)
condition|)
name|rspeak
argument_list|(
literal|127
argument_list|)
expr_stmt|;
continue|continue;
comment|/* to 6030 */
name|l6022
label|:
name|rspeak
argument_list|(
literal|128
argument_list|)
expr_stmt|;
if|if
condition|(
name|place
index|[
name|messag
index|]
operator|==
literal|0
condition|)
name|move
argument_list|(
name|chest
argument_list|,
name|chloc
argument_list|)
expr_stmt|;
name|move
argument_list|(
name|messag
argument_list|,
name|chloc2
argument_list|)
expr_stmt|;
for|for
control|(
name|j
operator|=
literal|50
init|;
name|j
operator|<=
name|maxtrs
condition|;
name|j
operator|++
control|)
comment|/* loop to 6023 */
block|{
if|if
condition|(
name|j
operator|==
name|pyram
operator|&&
operator|(
name|loc
operator|==
name|plac
index|[
name|pyram
index|]
operator|||
name|loc
operator|==
name|plac
index|[
name|emrald
index|]
operator|)
condition|)
continue|continue;
if|if
condition|(
name|at
argument_list|(
name|j
argument_list|)
operator|&&
name|fixed
index|[
name|j
index|]
operator|==
literal|0
condition|)
name|carry
argument_list|(
name|j
argument_list|,
name|loc
argument_list|)
expr_stmt|;
if|if
condition|(
name|toting
argument_list|(
name|j
argument_list|)
condition|)
name|drop
argument_list|(
name|j
argument_list|,
name|chloc
argument_list|)
expr_stmt|;
block|}
name|l6024
label|:
name|dloc
index|[
literal|6
index|]
operator|=
name|odloc
index|[
literal|6
index|]
operator|=
name|chloc
expr_stmt|;
name|dseen
index|[
literal|6
index|]
operator|=
name|FALSE
expr_stmt|;
continue|continue;
name|l6025
label|:
name|rspeak
argument_list|(
literal|186
argument_list|)
expr_stmt|;
name|move
argument_list|(
name|chest
argument_list|,
name|chloc
argument_list|)
expr_stmt|;
name|move
argument_list|(
name|messag
argument_list|,
name|chloc2
argument_list|)
expr_stmt|;
goto|goto
name|l6024
goto|;
block|}
name|dtotal
operator|++
expr_stmt|;
comment|/* 6027 */
if|if
condition|(
name|odloc
index|[
name|i
index|]
operator|!=
name|dloc
index|[
name|i
index|]
condition|)
continue|continue;
name|attack
operator|++
expr_stmt|;
if|if
condition|(
name|knfloc
operator|>=
literal|0
condition|)
name|knfloc
operator|=
name|loc
expr_stmt|;
if|if
condition|(
name|ran
argument_list|(
literal|1000
argument_list|)
operator|<
literal|95
operator|*
operator|(
name|dflag
operator|-
literal|2
operator|)
condition|)
name|stick
operator|++
expr_stmt|;
block|}
comment|/* 6030 */
if|if
condition|(
name|dtotal
operator|==
literal|0
condition|)
return|return
operator|(
literal|2000
operator|)
return|;
if|if
condition|(
name|dtotal
operator|!=
literal|1
condition|)
block|{
name|printf
argument_list|(
literal|"There are %d threatening little dwarves "
argument_list|,
name|dtotal
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"in the room with you.\n"
argument_list|)
expr_stmt|;
block|}
else|else
name|rspeak
argument_list|(
literal|4
argument_list|)
expr_stmt|;
if|if
condition|(
name|attack
operator|==
literal|0
condition|)
return|return
operator|(
literal|2000
operator|)
return|;
if|if
condition|(
name|dflag
operator|==
literal|2
condition|)
name|dflag
operator|=
literal|3
expr_stmt|;
if|if
condition|(
name|saved
operator|!=
operator|-
literal|1
condition|)
name|dflag
operator|=
literal|20
expr_stmt|;
if|if
condition|(
name|attack
operator|!=
literal|1
condition|)
block|{
name|printf
argument_list|(
literal|"%d of them throw knives at you!\n"
argument_list|,
name|attack
argument_list|)
expr_stmt|;
name|k
operator|=
literal|6
expr_stmt|;
name|l82
label|:
if|if
condition|(
name|stick
operator|<=
literal|1
condition|)
comment|/* 82 */
block|{
name|rspeak
argument_list|(
name|k
operator|+
name|stick
argument_list|)
expr_stmt|;
if|if
condition|(
name|stick
operator|==
literal|0
condition|)
return|return
operator|(
literal|2000
operator|)
return|;
block|}
else|else
name|printf
argument_list|(
literal|"%d of them get you!\n"
argument_list|,
name|stick
argument_list|)
expr_stmt|;
comment|/* 83 */
name|oldlc2
operator|=
name|loc
expr_stmt|;
return|return
operator|(
literal|99
operator|)
return|;
block|}
name|rspeak
argument_list|(
literal|5
argument_list|)
expr_stmt|;
name|k
operator|=
literal|52
expr_stmt|;
goto|goto
name|l82
goto|;
block|}
end_function

begin_function
name|int
name|march
parameter_list|()
comment|/* label 8              */
block|{
name|int
name|ll1
decl_stmt|,
name|ll2
decl_stmt|;
if|if
condition|(
operator|(
name|tkk
operator|=
name|travel
index|[
name|newloc
operator|=
name|loc
index|]
operator|)
operator|==
literal|0
condition|)
name|bug
argument_list|(
literal|26
argument_list|)
expr_stmt|;
if|if
condition|(
name|k
operator|==
name|null
condition|)
return|return
operator|(
literal|2
operator|)
return|;
if|if
condition|(
name|k
operator|==
name|cave
condition|)
comment|/* 40                   */
block|{
if|if
condition|(
name|loc
operator|<
literal|8
condition|)
name|rspeak
argument_list|(
literal|57
argument_list|)
expr_stmt|;
if|if
condition|(
name|loc
operator|>=
literal|8
condition|)
name|rspeak
argument_list|(
literal|58
argument_list|)
expr_stmt|;
return|return
operator|(
literal|2
operator|)
return|;
block|}
if|if
condition|(
name|k
operator|==
name|look
condition|)
comment|/* 30                   */
block|{
if|if
condition|(
name|detail
operator|++
operator|<
literal|3
condition|)
name|rspeak
argument_list|(
literal|15
argument_list|)
expr_stmt|;
name|wzdark
operator|=
name|FALSE
expr_stmt|;
name|abb
index|[
name|loc
index|]
operator|=
literal|0
expr_stmt|;
return|return
operator|(
literal|2
operator|)
return|;
block|}
if|if
condition|(
name|k
operator|==
name|back
condition|)
comment|/* 20                   */
block|{
switch|switch
condition|(
name|mback
argument_list|()
condition|)
block|{
case|case
literal|2
case|:
return|return
operator|(
literal|2
operator|)
return|;
case|case
literal|9
case|:
goto|goto
name|l9
goto|;
default|default:
name|bug
argument_list|(
literal|100
argument_list|)
expr_stmt|;
block|}
block|}
name|oldlc2
operator|=
name|oldloc
expr_stmt|;
name|oldloc
operator|=
name|loc
expr_stmt|;
name|l9
label|:
for|for
control|(
init|;
name|tkk
operator|!=
literal|0
condition|;
name|tkk
operator|=
name|tkk
operator|->
name|next
control|)
if|if
condition|(
name|tkk
operator|->
name|tverb
operator|==
literal|1
operator|||
name|tkk
operator|->
name|tverb
operator|==
name|k
condition|)
break|break;
if|if
condition|(
name|tkk
operator|==
literal|0
condition|)
block|{
name|badmove
argument_list|()
expr_stmt|;
return|return
operator|(
literal|2
operator|)
return|;
block|}
name|l11
label|:
name|ll1
operator|=
name|tkk
operator|->
name|conditions
expr_stmt|;
comment|/* 11                   */
name|ll2
operator|=
name|tkk
operator|->
name|tloc
expr_stmt|;
name|newloc
operator|=
name|ll1
expr_stmt|;
comment|/* newloc=conditions    */
name|k
operator|=
name|newloc
operator|%
literal|100
expr_stmt|;
comment|/* k used for prob      */
if|if
condition|(
name|newloc
operator|<=
literal|300
condition|)
block|{
if|if
condition|(
name|newloc
operator|<=
literal|100
condition|)
comment|/* 13                   */
block|{
if|if
condition|(
name|newloc
operator|!=
literal|0
operator|&&
operator|!
name|pct
argument_list|(
name|newloc
argument_list|)
condition|)
goto|goto
name|l12
goto|;
comment|/* 14   */
name|l16
label|:
name|newloc
operator|=
name|ll2
expr_stmt|;
comment|/* newloc=location      */
if|if
condition|(
name|newloc
operator|<=
literal|300
condition|)
return|return
operator|(
literal|2
operator|)
return|;
if|if
condition|(
name|newloc
operator|<=
literal|500
condition|)
switch|switch
condition|(
name|specials
argument_list|()
condition|)
comment|/* to 30000           */
block|{
case|case
literal|2
case|:
return|return
operator|(
literal|2
operator|)
return|;
case|case
literal|12
case|:
goto|goto
name|l12
goto|;
case|case
literal|99
case|:
return|return
operator|(
literal|99
operator|)
return|;
default|default:
name|bug
argument_list|(
literal|101
argument_list|)
expr_stmt|;
block|}
name|rspeak
argument_list|(
name|newloc
operator|-
literal|500
argument_list|)
expr_stmt|;
name|newloc
operator|=
name|loc
expr_stmt|;
return|return
operator|(
literal|2
operator|)
return|;
block|}
if|if
condition|(
name|toting
argument_list|(
name|k
argument_list|)
operator|||
operator|(
name|newloc
operator|>
literal|200
operator|&&
name|at
argument_list|(
name|k
argument_list|)
operator|)
condition|)
goto|goto
name|l16
goto|;
goto|goto
name|l12
goto|;
block|}
if|if
condition|(
name|prop
index|[
name|k
index|]
operator|!=
operator|(
name|newloc
operator|/
literal|100
operator|)
operator|-
literal|3
condition|)
goto|goto
name|l16
goto|;
comment|/* newloc still conditions*/
name|l12
label|:
comment|/* alternative to probability move      */
for|for
control|(
init|;
name|tkk
operator|!=
literal|0
condition|;
name|tkk
operator|=
name|tkk
operator|->
name|next
control|)
if|if
condition|(
name|tkk
operator|->
name|tloc
operator|!=
name|ll2
operator|||
name|tkk
operator|->
name|conditions
operator|!=
name|ll1
condition|)
break|break;
if|if
condition|(
name|tkk
operator|==
literal|0
condition|)
name|bug
argument_list|(
literal|25
argument_list|)
expr_stmt|;
goto|goto
name|l11
goto|;
block|}
end_function

begin_function
specifier|static
name|int
name|mback
parameter_list|()
comment|/* 20                   */
block|{
name|struct
name|travlist
modifier|*
name|tk2
decl_stmt|,
modifier|*
name|j
decl_stmt|;
name|int
name|ll
decl_stmt|;
if|if
condition|(
name|forced
argument_list|(
name|k
operator|=
name|oldloc
argument_list|)
condition|)
name|k
operator|=
name|oldlc2
expr_stmt|;
comment|/* k=location           */
name|oldlc2
operator|=
name|oldloc
expr_stmt|;
name|oldloc
operator|=
name|loc
expr_stmt|;
name|tk2
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|k
operator|==
name|loc
condition|)
block|{
name|rspeak
argument_list|(
literal|91
argument_list|)
expr_stmt|;
return|return
operator|(
literal|2
operator|)
return|;
block|}
for|for
control|(
init|;
name|tkk
operator|!=
literal|0
condition|;
name|tkk
operator|=
name|tkk
operator|->
name|next
control|)
comment|/* 21                   */
block|{
name|ll
operator|=
name|tkk
operator|->
name|tloc
expr_stmt|;
if|if
condition|(
name|ll
operator|==
name|k
condition|)
block|{
name|k
operator|=
name|tkk
operator|->
name|tverb
expr_stmt|;
comment|/* k back to verb       */
name|tkk
operator|=
name|travel
index|[
name|loc
index|]
expr_stmt|;
return|return
operator|(
literal|9
operator|)
return|;
block|}
if|if
condition|(
name|ll
operator|<=
literal|300
condition|)
block|{
name|j
operator|=
name|travel
index|[
name|loc
index|]
expr_stmt|;
if|if
condition|(
name|forced
argument_list|(
name|ll
argument_list|)
operator|&&
name|k
operator|==
name|j
operator|->
name|tloc
condition|)
name|tk2
operator|=
name|tkk
expr_stmt|;
block|}
block|}
name|tkk
operator|=
name|tk2
expr_stmt|;
comment|/* 23                   */
if|if
condition|(
name|tkk
operator|!=
literal|0
condition|)
block|{
name|k
operator|=
name|tkk
operator|->
name|tverb
expr_stmt|;
name|tkk
operator|=
name|travel
index|[
name|loc
index|]
expr_stmt|;
return|return
operator|(
literal|9
operator|)
return|;
block|}
name|rspeak
argument_list|(
literal|140
argument_list|)
expr_stmt|;
return|return
operator|(
literal|2
operator|)
return|;
block|}
end_function

begin_function
specifier|static
name|int
name|specials
parameter_list|()
comment|/* 30000                */
block|{
switch|switch
condition|(
name|newloc
operator|-=
literal|300
condition|)
block|{
case|case
literal|1
case|:
comment|/* 30100                */
name|newloc
operator|=
literal|99
operator|+
literal|100
operator|-
name|loc
expr_stmt|;
if|if
condition|(
name|holdng
operator|==
literal|0
operator|||
operator|(
name|holdng
operator|==
literal|1
operator|&&
name|toting
argument_list|(
name|emrald
argument_list|)
operator|)
condition|)
return|return
operator|(
literal|2
operator|)
return|;
name|newloc
operator|=
name|loc
expr_stmt|;
name|rspeak
argument_list|(
literal|117
argument_list|)
expr_stmt|;
return|return
operator|(
literal|2
operator|)
return|;
case|case
literal|2
case|:
comment|/* 30200                */
name|drop
argument_list|(
name|emrald
argument_list|,
name|loc
argument_list|)
expr_stmt|;
return|return
operator|(
literal|12
operator|)
return|;
case|case
literal|3
case|:
comment|/* to 30300             */
return|return
operator|(
name|trbridge
argument_list|()
operator|)
return|;
default|default:
name|bug
argument_list|(
literal|29
argument_list|)
expr_stmt|;
block|}
comment|/* NOTREACHED */
return|return
operator|(
operator|-
literal|1
operator|)
return|;
block|}
end_function

begin_function
specifier|static
name|int
name|trbridge
parameter_list|()
comment|/* 30300                */
block|{
if|if
condition|(
name|prop
index|[
name|troll
index|]
operator|==
literal|1
condition|)
block|{
name|pspeak
argument_list|(
name|troll
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|prop
index|[
name|troll
index|]
operator|=
literal|0
expr_stmt|;
name|move
argument_list|(
name|troll2
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|move
argument_list|(
name|troll2
operator|+
literal|100
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|move
argument_list|(
name|troll
argument_list|,
name|plac
index|[
name|troll
index|]
argument_list|)
expr_stmt|;
name|move
argument_list|(
name|troll
operator|+
literal|100
argument_list|,
name|fixd
index|[
name|troll
index|]
argument_list|)
expr_stmt|;
name|juggle
argument_list|(
name|chasm
argument_list|)
expr_stmt|;
name|newloc
operator|=
name|loc
expr_stmt|;
return|return
operator|(
literal|2
operator|)
return|;
block|}
name|newloc
operator|=
name|plac
index|[
name|troll
index|]
operator|+
name|fixd
index|[
name|troll
index|]
operator|-
name|loc
expr_stmt|;
comment|/* 30310                */
if|if
condition|(
name|prop
index|[
name|troll
index|]
operator|==
literal|0
condition|)
name|prop
index|[
name|troll
index|]
operator|=
literal|1
expr_stmt|;
if|if
condition|(
operator|!
name|toting
argument_list|(
name|bear
argument_list|)
condition|)
return|return
operator|(
literal|2
operator|)
return|;
name|rspeak
argument_list|(
literal|162
argument_list|)
expr_stmt|;
name|prop
index|[
name|chasm
index|]
operator|=
literal|1
expr_stmt|;
name|prop
index|[
name|troll
index|]
operator|=
literal|2
expr_stmt|;
name|drop
argument_list|(
name|bear
argument_list|,
name|newloc
argument_list|)
expr_stmt|;
name|fixed
index|[
name|bear
index|]
operator|=
operator|-
literal|1
expr_stmt|;
name|prop
index|[
name|bear
index|]
operator|=
literal|3
expr_stmt|;
if|if
condition|(
name|prop
index|[
name|spices
index|]
operator|<
literal|0
condition|)
name|tally2
operator|++
expr_stmt|;
name|oldlc2
operator|=
name|newloc
expr_stmt|;
return|return
operator|(
literal|99
operator|)
return|;
block|}
end_function

begin_function
specifier|static
name|void
name|badmove
parameter_list|()
comment|/* 20                   */
block|{
name|spk
operator|=
literal|12
expr_stmt|;
if|if
condition|(
name|k
operator|>=
literal|43
operator|&&
name|k
operator|<=
literal|50
condition|)
name|spk
operator|=
literal|9
expr_stmt|;
if|if
condition|(
name|k
operator|==
literal|29
operator|||
name|k
operator|==
literal|30
condition|)
name|spk
operator|=
literal|9
expr_stmt|;
if|if
condition|(
name|k
operator|==
literal|7
operator|||
name|k
operator|==
literal|36
operator|||
name|k
operator|==
literal|37
condition|)
name|spk
operator|=
literal|10
expr_stmt|;
if|if
condition|(
name|k
operator|==
literal|11
operator|||
name|k
operator|==
literal|19
condition|)
name|spk
operator|=
literal|11
expr_stmt|;
if|if
condition|(
name|verb
operator|==
name|find
operator|||
name|verb
operator|==
name|invent
condition|)
name|spk
operator|=
literal|59
expr_stmt|;
if|if
condition|(
name|k
operator|==
literal|62
operator|||
name|k
operator|==
literal|65
condition|)
name|spk
operator|=
literal|42
expr_stmt|;
if|if
condition|(
name|k
operator|==
literal|17
condition|)
name|spk
operator|=
literal|80
expr_stmt|;
name|rspeak
argument_list|(
name|spk
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|int
name|bug
parameter_list|(
name|n
parameter_list|)
name|int
name|n
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"Please tell jim@rand.org that fatal bug %d happened.\n"
argument_list|,
name|n
argument_list|)
expr_stmt|;
name|exit
argument_list|(
literal|1
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|checkhints
parameter_list|()
comment|/* 2600&c              */
block|{
name|int
name|hint
decl_stmt|;
for|for
control|(
name|hint
operator|=
literal|4
init|;
name|hint
operator|<=
name|hntmax
condition|;
name|hint
operator|++
control|)
block|{
if|if
condition|(
name|hinted
index|[
name|hint
index|]
condition|)
continue|continue;
if|if
condition|(
operator|!
name|bitset
argument_list|(
name|loc
argument_list|,
name|hint
argument_list|)
condition|)
name|hintlc
index|[
name|hint
index|]
operator|=
operator|-
literal|1
expr_stmt|;
name|hintlc
index|[
name|hint
index|]
operator|++
expr_stmt|;
if|if
condition|(
name|hintlc
index|[
name|hint
index|]
operator|<
name|hints
index|[
name|hint
index|]
index|[
literal|1
index|]
condition|)
continue|continue;
switch|switch
condition|(
name|hint
condition|)
block|{
case|case
literal|4
case|:
comment|/* 40400 */
if|if
condition|(
name|prop
index|[
name|grate
index|]
operator|==
literal|0
operator|&&
operator|!
name|here
argument_list|(
name|keys
argument_list|)
condition|)
goto|goto
name|l40010
goto|;
goto|goto
name|l40020
goto|;
case|case
literal|5
case|:
comment|/* 40500 */
if|if
condition|(
name|here
argument_list|(
name|bird
argument_list|)
operator|&&
name|toting
argument_list|(
name|rod
argument_list|)
operator|&&
name|obj
operator|==
name|bird
condition|)
goto|goto
name|l40010
goto|;
continue|continue;
comment|/* i.e. goto l40030 */
case|case
literal|6
case|:
comment|/* 40600 */
if|if
condition|(
name|here
argument_list|(
name|snake
argument_list|)
operator|&&
operator|!
name|here
argument_list|(
name|bird
argument_list|)
condition|)
goto|goto
name|l40010
goto|;
goto|goto
name|l40020
goto|;
case|case
literal|7
case|:
comment|/* 40700 */
if|if
condition|(
name|atloc
index|[
name|loc
index|]
operator|==
literal|0
operator|&&
name|atloc
index|[
name|oldloc
index|]
operator|==
literal|0
operator|&&
name|atloc
index|[
name|oldlc2
index|]
operator|==
literal|0
operator|&&
name|holdng
operator|>
literal|1
condition|)
goto|goto
name|l40010
goto|;
goto|goto
name|l40020
goto|;
case|case
literal|8
case|:
comment|/* 40800 */
if|if
condition|(
name|prop
index|[
name|emrald
index|]
operator|!=
operator|-
literal|1
operator|&&
name|prop
index|[
name|pyram
index|]
operator|==
operator|-
literal|1
condition|)
goto|goto
name|l40010
goto|;
goto|goto
name|l40020
goto|;
case|case
literal|9
case|:
goto|goto
name|l40010
goto|;
comment|/* 40900 */
default|default:
name|bug
argument_list|(
literal|27
argument_list|)
expr_stmt|;
block|}
name|l40010
label|:
name|hintlc
index|[
name|hint
index|]
operator|=
literal|0
expr_stmt|;
if|if
condition|(
operator|!
name|yes
argument_list|(
name|hints
index|[
name|hint
index|]
index|[
literal|3
index|]
argument_list|,
literal|0
argument_list|,
literal|54
argument_list|)
condition|)
continue|continue;
name|printf
argument_list|(
literal|"I am prepared to give you a hint, but it will "
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"cost you %d points.\n"
argument_list|,
name|hints
index|[
name|hint
index|]
index|[
literal|2
index|]
argument_list|)
expr_stmt|;
name|hinted
index|[
name|hint
index|]
operator|=
name|yes
argument_list|(
literal|175
argument_list|,
name|hints
index|[
name|hint
index|]
index|[
literal|4
index|]
argument_list|,
literal|54
argument_list|)
expr_stmt|;
name|l40020
label|:
name|hintlc
index|[
name|hint
index|]
operator|=
literal|0
expr_stmt|;
block|}
block|}
end_function

begin_function
name|int
name|trsay
parameter_list|()
comment|/* 9030                 */
block|{
name|int
name|i
decl_stmt|;
if|if
condition|(
operator|*
name|wd2
operator|!=
literal|0
condition|)
name|strcpy
argument_list|(
name|wd1
argument_list|,
name|wd2
argument_list|)
expr_stmt|;
name|i
operator|=
name|vocab
argument_list|(
name|wd1
argument_list|,
operator|-
literal|1
argument_list|,
literal|0
argument_list|)
expr_stmt|;
if|if
condition|(
name|i
operator|==
literal|62
operator|||
name|i
operator|==
literal|65
operator|||
name|i
operator|==
literal|71
operator|||
name|i
operator|==
literal|2025
condition|)
block|{
operator|*
name|wd2
operator|=
literal|0
expr_stmt|;
name|obj
operator|=
literal|0
expr_stmt|;
return|return
operator|(
literal|2630
operator|)
return|;
block|}
name|printf
argument_list|(
literal|"\nOkay, \"%s\".\n"
argument_list|,
name|wd2
argument_list|)
expr_stmt|;
return|return
operator|(
literal|2012
operator|)
return|;
block|}
end_function

begin_function
name|int
name|trtake
parameter_list|()
comment|/* 9010                 */
block|{
if|if
condition|(
name|toting
argument_list|(
name|obj
argument_list|)
condition|)
return|return
operator|(
literal|2011
operator|)
return|;
comment|/* 9010 */
name|spk
operator|=
literal|25
expr_stmt|;
if|if
condition|(
name|obj
operator|==
name|plant
operator|&&
name|prop
index|[
name|plant
index|]
operator|<=
literal|0
condition|)
name|spk
operator|=
literal|115
expr_stmt|;
if|if
condition|(
name|obj
operator|==
name|bear
operator|&&
name|prop
index|[
name|bear
index|]
operator|==
literal|1
condition|)
name|spk
operator|=
literal|169
expr_stmt|;
if|if
condition|(
name|obj
operator|==
name|chain
operator|&&
name|prop
index|[
name|bear
index|]
operator|!=
literal|0
condition|)
name|spk
operator|=
literal|170
expr_stmt|;
if|if
condition|(
name|fixed
index|[
name|obj
index|]
operator|!=
literal|0
condition|)
return|return
operator|(
literal|2011
operator|)
return|;
if|if
condition|(
name|obj
operator|==
name|water
operator|||
name|obj
operator|==
name|oil
condition|)
block|{
if|if
condition|(
name|here
argument_list|(
name|bottle
argument_list|)
operator|&&
name|liq
argument_list|()
operator|==
name|obj
condition|)
block|{
name|obj
operator|=
name|bottle
expr_stmt|;
goto|goto
name|l9017
goto|;
block|}
name|obj
operator|=
name|bottle
expr_stmt|;
if|if
condition|(
name|toting
argument_list|(
name|bottle
argument_list|)
operator|&&
name|prop
index|[
name|bottle
index|]
operator|==
literal|1
condition|)
return|return
operator|(
literal|9220
operator|)
return|;
if|if
condition|(
name|prop
index|[
name|bottle
index|]
operator|!=
literal|1
condition|)
name|spk
operator|=
literal|105
expr_stmt|;
if|if
condition|(
operator|!
name|toting
argument_list|(
name|bottle
argument_list|)
condition|)
name|spk
operator|=
literal|104
expr_stmt|;
return|return
operator|(
literal|2011
operator|)
return|;
block|}
name|l9017
label|:
if|if
condition|(
name|holdng
operator|>=
literal|7
condition|)
block|{
name|rspeak
argument_list|(
literal|92
argument_list|)
expr_stmt|;
return|return
operator|(
literal|2012
operator|)
return|;
block|}
if|if
condition|(
name|obj
operator|==
name|bird
condition|)
block|{
if|if
condition|(
name|prop
index|[
name|bird
index|]
operator|!=
literal|0
condition|)
goto|goto
name|l9014
goto|;
if|if
condition|(
name|toting
argument_list|(
name|rod
argument_list|)
condition|)
block|{
name|rspeak
argument_list|(
literal|26
argument_list|)
expr_stmt|;
return|return
operator|(
literal|2012
operator|)
return|;
block|}
if|if
condition|(
operator|!
name|toting
argument_list|(
name|cage
argument_list|)
condition|)
comment|/* 9013 */
block|{
name|rspeak
argument_list|(
literal|27
argument_list|)
expr_stmt|;
return|return
operator|(
literal|2012
operator|)
return|;
block|}
name|prop
index|[
name|bird
index|]
operator|=
literal|1
expr_stmt|;
comment|/* 9015 */
block|}
name|l9014
label|:
if|if
condition|(
operator|(
name|obj
operator|==
name|bird
operator|||
name|obj
operator|==
name|cage
operator|)
operator|&&
name|prop
index|[
name|bird
index|]
operator|!=
literal|0
condition|)
name|carry
argument_list|(
name|bird
operator|+
name|cage
operator|-
name|obj
argument_list|,
name|loc
argument_list|)
expr_stmt|;
name|carry
argument_list|(
name|obj
argument_list|,
name|loc
argument_list|)
expr_stmt|;
name|k
operator|=
name|liq
argument_list|()
expr_stmt|;
if|if
condition|(
name|obj
operator|==
name|bottle
operator|&&
name|k
operator|!=
literal|0
condition|)
name|place
index|[
name|k
index|]
operator|=
operator|-
literal|1
expr_stmt|;
return|return
operator|(
literal|2009
operator|)
return|;
block|}
end_function

begin_function
specifier|static
name|int
name|dropper
parameter_list|()
comment|/* 9021                 */
block|{
name|k
operator|=
name|liq
argument_list|()
expr_stmt|;
if|if
condition|(
name|k
operator|==
name|obj
condition|)
name|obj
operator|=
name|bottle
expr_stmt|;
if|if
condition|(
name|obj
operator|==
name|bottle
operator|&&
name|k
operator|!=
literal|0
condition|)
name|place
index|[
name|k
index|]
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|obj
operator|==
name|cage
operator|&&
name|prop
index|[
name|bird
index|]
operator|!=
literal|0
condition|)
name|drop
argument_list|(
name|bird
argument_list|,
name|loc
argument_list|)
expr_stmt|;
if|if
condition|(
name|obj
operator|==
name|bird
condition|)
name|prop
index|[
name|bird
index|]
operator|=
literal|0
expr_stmt|;
name|drop
argument_list|(
name|obj
argument_list|,
name|loc
argument_list|)
expr_stmt|;
return|return
operator|(
literal|2012
operator|)
return|;
block|}
end_function

begin_function
name|int
name|trdrop
parameter_list|()
comment|/* 9020                 */
block|{
if|if
condition|(
name|toting
argument_list|(
name|rod2
argument_list|)
operator|&&
name|obj
operator|==
name|rod
operator|&&
operator|!
name|toting
argument_list|(
name|rod
argument_list|)
condition|)
name|obj
operator|=
name|rod2
expr_stmt|;
if|if
condition|(
operator|!
name|toting
argument_list|(
name|obj
argument_list|)
condition|)
return|return
operator|(
literal|2011
operator|)
return|;
if|if
condition|(
name|obj
operator|==
name|bird
operator|&&
name|here
argument_list|(
name|snake
argument_list|)
condition|)
block|{
name|rspeak
argument_list|(
literal|30
argument_list|)
expr_stmt|;
if|if
condition|(
name|closed
condition|)
return|return
operator|(
literal|19000
operator|)
return|;
name|dstroy
argument_list|(
name|snake
argument_list|)
expr_stmt|;
name|prop
index|[
name|snake
index|]
operator|=
literal|1
expr_stmt|;
return|return
operator|(
name|dropper
argument_list|()
operator|)
return|;
block|}
if|if
condition|(
name|obj
operator|==
name|coins
operator|&&
name|here
argument_list|(
name|vend
argument_list|)
condition|)
comment|/* 9024                 */
block|{
name|dstroy
argument_list|(
name|coins
argument_list|)
expr_stmt|;
name|drop
argument_list|(
name|batter
argument_list|,
name|loc
argument_list|)
expr_stmt|;
name|pspeak
argument_list|(
name|batter
argument_list|,
literal|0
argument_list|)
expr_stmt|;
return|return
operator|(
literal|2012
operator|)
return|;
block|}
if|if
condition|(
name|obj
operator|==
name|bird
operator|&&
name|at
argument_list|(
name|dragon
argument_list|)
operator|&&
name|prop
index|[
name|dragon
index|]
operator|==
literal|0
condition|)
comment|/* 9025         */
block|{
name|rspeak
argument_list|(
literal|154
argument_list|)
expr_stmt|;
name|dstroy
argument_list|(
name|bird
argument_list|)
expr_stmt|;
name|prop
index|[
name|bird
index|]
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|place
index|[
name|snake
index|]
operator|==
name|plac
index|[
name|snake
index|]
condition|)
name|tally2
operator|--
expr_stmt|;
return|return
operator|(
literal|2012
operator|)
return|;
block|}
if|if
condition|(
name|obj
operator|==
name|bear
operator|&&
name|at
argument_list|(
name|troll
argument_list|)
condition|)
comment|/* 9026                 */
block|{
name|rspeak
argument_list|(
literal|163
argument_list|)
expr_stmt|;
name|move
argument_list|(
name|troll
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|move
argument_list|(
name|troll
operator|+
literal|100
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|move
argument_list|(
name|troll2
argument_list|,
name|plac
index|[
name|troll
index|]
argument_list|)
expr_stmt|;
name|move
argument_list|(
name|troll2
operator|+
literal|100
argument_list|,
name|fixd
index|[
name|troll
index|]
argument_list|)
expr_stmt|;
name|juggle
argument_list|(
name|chasm
argument_list|)
expr_stmt|;
name|prop
index|[
name|troll
index|]
operator|=
literal|2
expr_stmt|;
return|return
operator|(
name|dropper
argument_list|()
operator|)
return|;
block|}
if|if
condition|(
name|obj
operator|!=
name|vase
operator|||
name|loc
operator|==
name|plac
index|[
name|pillow
index|]
condition|)
comment|/* 9027                 */
block|{
name|rspeak
argument_list|(
literal|54
argument_list|)
expr_stmt|;
return|return
operator|(
name|dropper
argument_list|()
operator|)
return|;
block|}
name|prop
index|[
name|vase
index|]
operator|=
literal|2
expr_stmt|;
comment|/* 9028                 */
if|if
condition|(
name|at
argument_list|(
name|pillow
argument_list|)
condition|)
name|prop
index|[
name|vase
index|]
operator|=
literal|0
expr_stmt|;
name|pspeak
argument_list|(
name|vase
argument_list|,
name|prop
index|[
name|vase
index|]
operator|+
literal|1
argument_list|)
expr_stmt|;
if|if
condition|(
name|prop
index|[
name|vase
index|]
operator|!=
literal|0
condition|)
name|fixed
index|[
name|vase
index|]
operator|=
operator|-
literal|1
expr_stmt|;
return|return
operator|(
name|dropper
argument_list|()
operator|)
return|;
block|}
end_function

begin_function
name|int
name|tropen
parameter_list|()
comment|/* 9040                 */
block|{
if|if
condition|(
name|obj
operator|==
name|clam
operator|||
name|obj
operator|==
name|oyster
condition|)
block|{
name|k
operator|=
literal|0
expr_stmt|;
comment|/* 9046                 */
if|if
condition|(
name|obj
operator|==
name|oyster
condition|)
name|k
operator|=
literal|1
expr_stmt|;
name|spk
operator|=
literal|124
operator|+
name|k
expr_stmt|;
if|if
condition|(
name|toting
argument_list|(
name|obj
argument_list|)
condition|)
name|spk
operator|=
literal|120
operator|+
name|k
expr_stmt|;
if|if
condition|(
operator|!
name|toting
argument_list|(
name|tridnt
argument_list|)
condition|)
name|spk
operator|=
literal|122
operator|+
name|k
expr_stmt|;
if|if
condition|(
name|verb
operator|==
name|lock
condition|)
name|spk
operator|=
literal|61
expr_stmt|;
if|if
condition|(
name|spk
operator|!=
literal|124
condition|)
return|return
operator|(
literal|2011
operator|)
return|;
name|dstroy
argument_list|(
name|clam
argument_list|)
expr_stmt|;
name|drop
argument_list|(
name|oyster
argument_list|,
name|loc
argument_list|)
expr_stmt|;
name|drop
argument_list|(
name|pearl
argument_list|,
literal|105
argument_list|)
expr_stmt|;
return|return
operator|(
literal|2011
operator|)
return|;
block|}
if|if
condition|(
name|obj
operator|==
name|door
condition|)
name|spk
operator|=
literal|111
expr_stmt|;
if|if
condition|(
name|obj
operator|==
name|door
operator|&&
name|prop
index|[
name|door
index|]
operator|==
literal|1
condition|)
name|spk
operator|=
literal|54
expr_stmt|;
if|if
condition|(
name|obj
operator|==
name|cage
condition|)
name|spk
operator|=
literal|32
expr_stmt|;
if|if
condition|(
name|obj
operator|==
name|keys
condition|)
name|spk
operator|=
literal|55
expr_stmt|;
if|if
condition|(
name|obj
operator|==
name|grate
operator|||
name|obj
operator|==
name|chain
condition|)
name|spk
operator|=
literal|31
expr_stmt|;
if|if
condition|(
name|spk
operator|!=
literal|31
operator|||
operator|!
name|here
argument_list|(
name|keys
argument_list|)
condition|)
return|return
operator|(
literal|2011
operator|)
return|;
if|if
condition|(
name|obj
operator|==
name|chain
condition|)
block|{
if|if
condition|(
name|verb
operator|==
name|lock
condition|)
block|{
name|spk
operator|=
literal|172
expr_stmt|;
comment|/* 9049: lock           */
if|if
condition|(
name|prop
index|[
name|chain
index|]
operator|!=
literal|0
condition|)
name|spk
operator|=
literal|34
expr_stmt|;
if|if
condition|(
name|loc
operator|!=
name|plac
index|[
name|chain
index|]
condition|)
name|spk
operator|=
literal|173
expr_stmt|;
if|if
condition|(
name|spk
operator|!=
literal|172
condition|)
return|return
operator|(
literal|2011
operator|)
return|;
name|prop
index|[
name|chain
index|]
operator|=
literal|2
expr_stmt|;
if|if
condition|(
name|toting
argument_list|(
name|chain
argument_list|)
condition|)
name|drop
argument_list|(
name|chain
argument_list|,
name|loc
argument_list|)
expr_stmt|;
name|fixed
index|[
name|chain
index|]
operator|=
operator|-
literal|1
expr_stmt|;
return|return
operator|(
literal|2011
operator|)
return|;
block|}
name|spk
operator|=
literal|171
expr_stmt|;
if|if
condition|(
name|prop
index|[
name|bear
index|]
operator|==
literal|0
condition|)
name|spk
operator|=
literal|41
expr_stmt|;
if|if
condition|(
name|prop
index|[
name|chain
index|]
operator|==
literal|0
condition|)
name|spk
operator|=
literal|37
expr_stmt|;
if|if
condition|(
name|spk
operator|!=
literal|171
condition|)
return|return
operator|(
literal|2011
operator|)
return|;
name|prop
index|[
name|chain
index|]
operator|=
literal|0
expr_stmt|;
name|fixed
index|[
name|chain
index|]
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|prop
index|[
name|bear
index|]
operator|!=
literal|3
condition|)
name|prop
index|[
name|bear
index|]
operator|=
literal|2
expr_stmt|;
name|fixed
index|[
name|bear
index|]
operator|=
literal|2
operator|-
name|prop
index|[
name|bear
index|]
expr_stmt|;
return|return
operator|(
literal|2011
operator|)
return|;
block|}
if|if
condition|(
name|closng
condition|)
block|{
name|k
operator|=
literal|130
expr_stmt|;
if|if
condition|(
operator|!
name|panic
condition|)
name|clock2
operator|=
literal|15
expr_stmt|;
name|panic
operator|=
name|TRUE
expr_stmt|;
return|return
operator|(
literal|2010
operator|)
return|;
block|}
name|k
operator|=
literal|34
operator|+
name|prop
index|[
name|grate
index|]
expr_stmt|;
comment|/* 9043                 */
name|prop
index|[
name|grate
index|]
operator|=
literal|1
expr_stmt|;
if|if
condition|(
name|verb
operator|==
name|lock
condition|)
name|prop
index|[
name|grate
index|]
operator|=
literal|0
expr_stmt|;
name|k
operator|=
name|k
operator|+
literal|2
operator|*
name|prop
index|[
name|grate
index|]
expr_stmt|;
return|return
operator|(
literal|2010
operator|)
return|;
block|}
end_function

begin_function
name|int
name|trkill
parameter_list|()
comment|/* 9120                         */
block|{
name|int
name|i
decl_stmt|;
for|for
control|(
name|i
operator|=
literal|1
init|;
name|i
operator|<=
literal|5
condition|;
name|i
operator|++
control|)
if|if
condition|(
name|dloc
index|[
name|i
index|]
operator|==
name|loc
operator|&&
name|dflag
operator|>=
literal|2
condition|)
break|break;
if|if
condition|(
name|i
operator|==
literal|6
condition|)
name|i
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|obj
operator|==
literal|0
condition|)
comment|/* 9122                         */
block|{
if|if
condition|(
name|i
operator|!=
literal|0
condition|)
name|obj
operator|=
name|dwarf
expr_stmt|;
if|if
condition|(
name|here
argument_list|(
name|snake
argument_list|)
condition|)
name|obj
operator|=
name|obj
operator|*
literal|100
operator|+
name|snake
expr_stmt|;
if|if
condition|(
name|at
argument_list|(
name|dragon
argument_list|)
operator|&&
name|prop
index|[
name|dragon
index|]
operator|==
literal|0
condition|)
name|obj
operator|=
name|obj
operator|*
literal|100
operator|+
name|dragon
expr_stmt|;
if|if
condition|(
name|at
argument_list|(
name|troll
argument_list|)
condition|)
name|obj
operator|=
name|obj
operator|*
literal|100
operator|+
name|troll
expr_stmt|;
if|if
condition|(
name|here
argument_list|(
name|bear
argument_list|)
operator|&&
name|prop
index|[
name|bear
index|]
operator|==
literal|0
condition|)
name|obj
operator|=
name|obj
operator|*
literal|100
operator|+
name|bear
expr_stmt|;
if|if
condition|(
name|obj
operator|>
literal|100
condition|)
return|return
operator|(
literal|8000
operator|)
return|;
if|if
condition|(
name|obj
operator|==
literal|0
condition|)
block|{
if|if
condition|(
name|here
argument_list|(
name|bird
argument_list|)
operator|&&
name|verb
operator|!=
name|throw
condition|)
name|obj
operator|=
name|bird
expr_stmt|;
if|if
condition|(
name|here
argument_list|(
name|clam
argument_list|)
operator|||
name|here
argument_list|(
name|oyster
argument_list|)
condition|)
name|obj
operator|=
literal|100
operator|*
name|obj
operator|+
name|clam
expr_stmt|;
if|if
condition|(
name|obj
operator|>
literal|100
condition|)
return|return
operator|(
literal|8000
operator|)
return|;
block|}
block|}
if|if
condition|(
name|obj
operator|==
name|bird
condition|)
comment|/* 9124                         */
block|{
name|spk
operator|=
literal|137
expr_stmt|;
if|if
condition|(
name|closed
condition|)
return|return
operator|(
literal|2011
operator|)
return|;
name|dstroy
argument_list|(
name|bird
argument_list|)
expr_stmt|;
name|prop
index|[
name|bird
index|]
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|place
index|[
name|snake
index|]
operator|==
name|plac
index|[
name|snake
index|]
condition|)
name|tally2
operator|++
expr_stmt|;
name|spk
operator|=
literal|45
expr_stmt|;
block|}
if|if
condition|(
name|obj
operator|==
literal|0
condition|)
name|spk
operator|=
literal|44
expr_stmt|;
comment|/* 9125                         */
if|if
condition|(
name|obj
operator|==
name|clam
operator|||
name|obj
operator|==
name|oyster
condition|)
name|spk
operator|=
literal|150
expr_stmt|;
if|if
condition|(
name|obj
operator|==
name|snake
condition|)
name|spk
operator|=
literal|46
expr_stmt|;
if|if
condition|(
name|obj
operator|==
name|dwarf
condition|)
name|spk
operator|=
literal|49
expr_stmt|;
if|if
condition|(
name|obj
operator|==
name|dwarf
operator|&&
name|closed
condition|)
return|return
operator|(
literal|19000
operator|)
return|;
if|if
condition|(
name|obj
operator|==
name|dragon
condition|)
name|spk
operator|=
literal|147
expr_stmt|;
if|if
condition|(
name|obj
operator|==
name|troll
condition|)
name|spk
operator|=
literal|157
expr_stmt|;
if|if
condition|(
name|obj
operator|==
name|bear
condition|)
name|spk
operator|=
literal|165
operator|+
operator|(
name|prop
index|[
name|bear
index|]
operator|+
literal|1
operator|)
operator|/
literal|2
expr_stmt|;
if|if
condition|(
name|obj
operator|!=
name|dragon
operator|||
name|prop
index|[
name|dragon
index|]
operator|!=
literal|0
condition|)
return|return
operator|(
literal|2011
operator|)
return|;
name|rspeak
argument_list|(
literal|49
argument_list|)
expr_stmt|;
name|verb
operator|=
literal|0
expr_stmt|;
name|obj
operator|=
literal|0
expr_stmt|;
name|getin
argument_list|(
operator|&
name|wd1
argument_list|,
operator|&
name|wd2
argument_list|)
expr_stmt|;
if|if
condition|(
name|strncmp
argument_list|(
name|wd1
argument_list|,
literal|"y"
argument_list|,
literal|1
argument_list|)
operator|&&
name|strncmp
argument_list|(
name|wd1
argument_list|,
literal|"yes"
argument_list|,
literal|3
argument_list|)
condition|)
return|return
operator|(
literal|2608
operator|)
return|;
name|pspeak
argument_list|(
name|dragon
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|prop
index|[
name|dragon
index|]
operator|=
literal|2
expr_stmt|;
name|prop
index|[
name|rug
index|]
operator|=
literal|0
expr_stmt|;
name|k
operator|=
operator|(
name|plac
index|[
name|dragon
index|]
operator|+
name|fixd
index|[
name|dragon
index|]
operator|)
operator|/
literal|2
expr_stmt|;
name|move
argument_list|(
name|dragon
operator|+
literal|100
argument_list|,
operator|-
literal|1
argument_list|)
expr_stmt|;
name|move
argument_list|(
name|rug
operator|+
literal|100
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|move
argument_list|(
name|dragon
argument_list|,
name|k
argument_list|)
expr_stmt|;
name|move
argument_list|(
name|rug
argument_list|,
name|k
argument_list|)
expr_stmt|;
for|for
control|(
name|obj
operator|=
literal|1
init|;
name|obj
operator|<=
literal|100
condition|;
name|obj
operator|++
control|)
if|if
condition|(
name|place
index|[
name|obj
index|]
operator|==
name|plac
index|[
name|dragon
index|]
operator|||
name|place
index|[
name|obj
index|]
operator|==
name|fixd
index|[
name|dragon
index|]
condition|)
name|move
argument_list|(
name|obj
argument_list|,
name|k
argument_list|)
expr_stmt|;
name|loc
operator|=
name|k
expr_stmt|;
name|k
operator|=
name|null
expr_stmt|;
return|return
operator|(
literal|8
operator|)
return|;
block|}
end_function

begin_function
name|int
name|trtoss
parameter_list|()
comment|/* 9170: throw                  */
block|{
name|int
name|i
decl_stmt|;
if|if
condition|(
name|toting
argument_list|(
name|rod2
argument_list|)
operator|&&
name|obj
operator|==
name|rod
operator|&&
operator|!
name|toting
argument_list|(
name|rod
argument_list|)
condition|)
name|obj
operator|=
name|rod2
expr_stmt|;
if|if
condition|(
operator|!
name|toting
argument_list|(
name|obj
argument_list|)
condition|)
return|return
operator|(
literal|2011
operator|)
return|;
if|if
condition|(
name|obj
operator|>=
literal|50
operator|&&
name|obj
operator|<=
name|maxtrs
operator|&&
name|at
argument_list|(
name|troll
argument_list|)
condition|)
block|{
name|spk
operator|=
literal|159
expr_stmt|;
comment|/* 9178                 */
name|drop
argument_list|(
name|obj
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|move
argument_list|(
name|troll
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|move
argument_list|(
name|troll
operator|+
literal|100
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|drop
argument_list|(
name|troll2
argument_list|,
name|plac
index|[
name|troll
index|]
argument_list|)
expr_stmt|;
name|drop
argument_list|(
name|troll2
operator|+
literal|100
argument_list|,
name|fixd
index|[
name|troll
index|]
argument_list|)
expr_stmt|;
name|juggle
argument_list|(
name|chasm
argument_list|)
expr_stmt|;
return|return
operator|(
literal|2011
operator|)
return|;
block|}
if|if
condition|(
name|obj
operator|==
name|food
operator|&&
name|here
argument_list|(
name|bear
argument_list|)
condition|)
block|{
name|obj
operator|=
name|bear
expr_stmt|;
comment|/* 9177                 */
return|return
operator|(
literal|9210
operator|)
return|;
block|}
if|if
condition|(
name|obj
operator|!=
name|axe
condition|)
return|return
operator|(
literal|9020
operator|)
return|;
for|for
control|(
name|i
operator|=
literal|1
init|;
name|i
operator|<=
literal|5
condition|;
name|i
operator|++
control|)
block|{
if|if
condition|(
name|dloc
index|[
name|i
index|]
operator|==
name|loc
condition|)
block|{
name|spk
operator|=
literal|48
expr_stmt|;
comment|/* 9172                 */
if|if
condition|(
name|ran
argument_list|(
literal|3
argument_list|)
operator|==
literal|0
operator|||
name|saved
operator|!=
operator|-
literal|1
condition|)
name|l9175
label|:
block|{
name|rspeak
argument_list|(
name|spk
argument_list|)
expr_stmt|;
name|drop
argument_list|(
name|axe
argument_list|,
name|loc
argument_list|)
expr_stmt|;
name|k
operator|=
name|null
expr_stmt|;
return|return
operator|(
literal|8
operator|)
return|;
block|}
name|dseen
index|[
name|i
index|]
operator|=
name|FALSE
expr_stmt|;
name|dloc
index|[
name|i
index|]
operator|=
literal|0
expr_stmt|;
name|spk
operator|=
literal|47
expr_stmt|;
name|dkill
operator|++
expr_stmt|;
if|if
condition|(
name|dkill
operator|==
literal|1
condition|)
name|spk
operator|=
literal|149
expr_stmt|;
goto|goto
name|l9175
goto|;
block|}
block|}
name|spk
operator|=
literal|152
expr_stmt|;
if|if
condition|(
name|at
argument_list|(
name|dragon
argument_list|)
operator|&&
name|prop
index|[
name|dragon
index|]
operator|==
literal|0
condition|)
goto|goto
name|l9175
goto|;
name|spk
operator|=
literal|158
expr_stmt|;
if|if
condition|(
name|at
argument_list|(
name|troll
argument_list|)
condition|)
goto|goto
name|l9175
goto|;
if|if
condition|(
name|here
argument_list|(
name|bear
argument_list|)
operator|&&
name|prop
index|[
name|bear
index|]
operator|==
literal|0
condition|)
block|{
name|spk
operator|=
literal|164
expr_stmt|;
name|drop
argument_list|(
name|axe
argument_list|,
name|loc
argument_list|)
expr_stmt|;
name|fixed
index|[
name|axe
index|]
operator|=
operator|-
literal|1
expr_stmt|;
name|prop
index|[
name|axe
index|]
operator|=
literal|1
expr_stmt|;
name|juggle
argument_list|(
name|bear
argument_list|)
expr_stmt|;
return|return
operator|(
literal|2011
operator|)
return|;
block|}
name|obj
operator|=
literal|0
expr_stmt|;
return|return
operator|(
literal|9120
operator|)
return|;
block|}
end_function

begin_function
name|int
name|trfeed
parameter_list|()
comment|/* 9210                 */
block|{
if|if
condition|(
name|obj
operator|==
name|bird
condition|)
block|{
name|spk
operator|=
literal|100
expr_stmt|;
return|return
operator|(
literal|2011
operator|)
return|;
block|}
if|if
condition|(
name|obj
operator|==
name|snake
operator|||
name|obj
operator|==
name|dragon
operator|||
name|obj
operator|==
name|troll
condition|)
block|{
name|spk
operator|=
literal|102
expr_stmt|;
if|if
condition|(
name|obj
operator|==
name|dragon
operator|&&
name|prop
index|[
name|dragon
index|]
operator|!=
literal|0
condition|)
name|spk
operator|=
literal|110
expr_stmt|;
if|if
condition|(
name|obj
operator|==
name|troll
condition|)
name|spk
operator|=
literal|182
expr_stmt|;
if|if
condition|(
name|obj
operator|!=
name|snake
operator|||
name|closed
operator|||
operator|!
name|here
argument_list|(
name|bird
argument_list|)
condition|)
return|return
operator|(
literal|2011
operator|)
return|;
name|spk
operator|=
literal|101
expr_stmt|;
name|dstroy
argument_list|(
name|bird
argument_list|)
expr_stmt|;
name|prop
index|[
name|bird
index|]
operator|=
literal|0
expr_stmt|;
name|tally2
operator|++
expr_stmt|;
return|return
operator|(
literal|2011
operator|)
return|;
block|}
if|if
condition|(
name|obj
operator|==
name|dwarf
condition|)
block|{
if|if
condition|(
operator|!
name|here
argument_list|(
name|food
argument_list|)
condition|)
return|return
operator|(
literal|2011
operator|)
return|;
name|spk
operator|=
literal|103
expr_stmt|;
name|dflag
operator|++
expr_stmt|;
return|return
operator|(
literal|2011
operator|)
return|;
block|}
if|if
condition|(
name|obj
operator|==
name|bear
condition|)
block|{
if|if
condition|(
name|prop
index|[
name|bear
index|]
operator|==
literal|0
condition|)
name|spk
operator|=
literal|102
expr_stmt|;
if|if
condition|(
name|prop
index|[
name|bear
index|]
operator|==
literal|3
condition|)
name|spk
operator|=
literal|110
expr_stmt|;
if|if
condition|(
operator|!
name|here
argument_list|(
name|food
argument_list|)
condition|)
return|return
operator|(
literal|2011
operator|)
return|;
name|dstroy
argument_list|(
name|food
argument_list|)
expr_stmt|;
name|prop
index|[
name|bear
index|]
operator|=
literal|1
expr_stmt|;
name|fixed
index|[
name|axe
index|]
operator|=
literal|0
expr_stmt|;
name|prop
index|[
name|axe
index|]
operator|=
literal|0
expr_stmt|;
name|spk
operator|=
literal|168
expr_stmt|;
return|return
operator|(
literal|2011
operator|)
return|;
block|}
name|spk
operator|=
literal|14
expr_stmt|;
return|return
operator|(
literal|2011
operator|)
return|;
block|}
end_function

begin_function
name|int
name|trfill
parameter_list|()
comment|/* 9220 */
block|{
if|if
condition|(
name|obj
operator|==
name|vase
condition|)
block|{
name|spk
operator|=
literal|29
expr_stmt|;
if|if
condition|(
name|liqloc
argument_list|(
name|loc
argument_list|)
operator|==
literal|0
condition|)
name|spk
operator|=
literal|144
expr_stmt|;
if|if
condition|(
name|liqloc
argument_list|(
name|loc
argument_list|)
operator|==
literal|0
operator|||
operator|!
name|toting
argument_list|(
name|vase
argument_list|)
condition|)
return|return
operator|(
literal|2011
operator|)
return|;
name|rspeak
argument_list|(
literal|145
argument_list|)
expr_stmt|;
name|prop
index|[
name|vase
index|]
operator|=
literal|2
expr_stmt|;
name|fixed
index|[
name|vase
index|]
operator|=
operator|-
literal|1
expr_stmt|;
return|return
operator|(
literal|9020
operator|)
return|;
comment|/* advent/10 goes to 9024 */
block|}
if|if
condition|(
name|obj
operator|!=
literal|0
operator|&&
name|obj
operator|!=
name|bottle
condition|)
return|return
operator|(
literal|2011
operator|)
return|;
if|if
condition|(
name|obj
operator|==
literal|0
operator|&&
operator|!
name|here
argument_list|(
name|bottle
argument_list|)
condition|)
return|return
operator|(
literal|8000
operator|)
return|;
name|spk
operator|=
literal|107
expr_stmt|;
if|if
condition|(
name|liqloc
argument_list|(
name|loc
argument_list|)
operator|==
literal|0
condition|)
name|spk
operator|=
literal|106
expr_stmt|;
if|if
condition|(
name|liq
argument_list|()
operator|!=
literal|0
condition|)
name|spk
operator|=
literal|105
expr_stmt|;
if|if
condition|(
name|spk
operator|!=
literal|107
condition|)
return|return
operator|(
literal|2011
operator|)
return|;
name|prop
index|[
name|bottle
index|]
operator|=
operator|(
operator|(
name|cond
index|[
name|loc
index|]
operator|%
literal|4
operator|)
operator|/
literal|2
operator|)
operator|*
literal|2
expr_stmt|;
name|k
operator|=
name|liq
argument_list|()
expr_stmt|;
if|if
condition|(
name|toting
argument_list|(
name|bottle
argument_list|)
condition|)
name|place
index|[
name|k
index|]
operator|=
operator|-
literal|1
expr_stmt|;
if|if
condition|(
name|k
operator|==
name|oil
condition|)
name|spk
operator|=
literal|108
expr_stmt|;
return|return
operator|(
literal|2011
operator|)
return|;
block|}
end_function

begin_function
name|void
name|closing
parameter_list|()
comment|/* 10000 */
block|{
name|int
name|i
decl_stmt|;
name|prop
index|[
name|grate
index|]
operator|=
name|prop
index|[
name|fissur
index|]
operator|=
literal|0
expr_stmt|;
for|for
control|(
name|i
operator|=
literal|1
init|;
name|i
operator|<=
literal|6
condition|;
name|i
operator|++
control|)
block|{
name|dseen
index|[
name|i
index|]
operator|=
name|FALSE
expr_stmt|;
name|dloc
index|[
name|i
index|]
operator|=
literal|0
expr_stmt|;
block|}
name|move
argument_list|(
name|troll
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|move
argument_list|(
name|troll
operator|+
literal|100
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|move
argument_list|(
name|troll2
argument_list|,
name|plac
index|[
name|troll
index|]
argument_list|)
expr_stmt|;
name|move
argument_list|(
name|troll2
operator|+
literal|100
argument_list|,
name|fixd
index|[
name|troll
index|]
argument_list|)
expr_stmt|;
name|juggle
argument_list|(
name|chasm
argument_list|)
expr_stmt|;
if|if
condition|(
name|prop
index|[
name|bear
index|]
operator|!=
literal|3
condition|)
name|dstroy
argument_list|(
name|bear
argument_list|)
expr_stmt|;
name|prop
index|[
name|chain
index|]
operator|=
literal|0
expr_stmt|;
name|fixed
index|[
name|chain
index|]
operator|=
literal|0
expr_stmt|;
name|prop
index|[
name|axe
index|]
operator|=
literal|0
expr_stmt|;
name|fixed
index|[
name|axe
index|]
operator|=
literal|0
expr_stmt|;
name|rspeak
argument_list|(
literal|129
argument_list|)
expr_stmt|;
name|clock1
operator|=
operator|-
literal|1
expr_stmt|;
name|closng
operator|=
name|TRUE
expr_stmt|;
block|}
end_function

begin_function
name|void
name|caveclose
parameter_list|()
comment|/* 11000 */
block|{
name|int
name|i
decl_stmt|;
name|prop
index|[
name|bottle
index|]
operator|=
name|put
argument_list|(
name|bottle
argument_list|,
literal|115
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|prop
index|[
name|plant
index|]
operator|=
name|put
argument_list|(
name|plant
argument_list|,
literal|115
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|prop
index|[
name|oyster
index|]
operator|=
name|put
argument_list|(
name|oyster
argument_list|,
literal|115
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|prop
index|[
name|lamp
index|]
operator|=
name|put
argument_list|(
name|lamp
argument_list|,
literal|115
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|prop
index|[
name|rod
index|]
operator|=
name|put
argument_list|(
name|rod
argument_list|,
literal|115
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|prop
index|[
name|dwarf
index|]
operator|=
name|put
argument_list|(
name|dwarf
argument_list|,
literal|115
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|loc
operator|=
literal|115
expr_stmt|;
name|oldloc
operator|=
literal|115
expr_stmt|;
name|newloc
operator|=
literal|115
expr_stmt|;
name|put
argument_list|(
name|grate
argument_list|,
literal|116
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|prop
index|[
name|snake
index|]
operator|=
name|put
argument_list|(
name|snake
argument_list|,
literal|116
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|prop
index|[
name|bird
index|]
operator|=
name|put
argument_list|(
name|bird
argument_list|,
literal|116
argument_list|,
literal|1
argument_list|)
expr_stmt|;
name|prop
index|[
name|cage
index|]
operator|=
name|put
argument_list|(
name|cage
argument_list|,
literal|116
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|prop
index|[
name|rod2
index|]
operator|=
name|put
argument_list|(
name|rod2
argument_list|,
literal|116
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|prop
index|[
name|pillow
index|]
operator|=
name|put
argument_list|(
name|pillow
argument_list|,
literal|116
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|prop
index|[
name|mirror
index|]
operator|=
name|put
argument_list|(
name|mirror
argument_list|,
literal|115
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|fixed
index|[
name|mirror
index|]
operator|=
literal|116
expr_stmt|;
for|for
control|(
name|i
operator|=
literal|1
init|;
name|i
operator|<=
literal|100
condition|;
name|i
operator|++
control|)
if|if
condition|(
name|toting
argument_list|(
name|i
argument_list|)
condition|)
name|dstroy
argument_list|(
name|i
argument_list|)
expr_stmt|;
name|rspeak
argument_list|(
literal|132
argument_list|)
expr_stmt|;
name|closed
operator|=
name|TRUE
expr_stmt|;
block|}
end_function

end_unit

