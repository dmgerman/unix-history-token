begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* $XConsortium: SetNrmHint.c,v 1.3 91/01/08 14:39:55 gildea Exp $ */
end_comment

begin_comment
comment|/*********************************************************** Copyright 1988 by Wyse Technology, Inc., San Jose, Ca, and the Massachusetts Institute of Technology, Cambridge, Massachusetts. Copyright 1987 by Digital Equipment Corporation, Maynard, Massachusetts, and the Massachusetts Institute of Technology, Cambridge, Massachusetts.                          All Rights Reserved  Permission to use, copy, modify, and distribute this software and its documentation for any purpose and without fee is hereby granted, provided that the above copyright notice appear in all copies and that both that copyright notice and this permission notice appear in supporting documentation, and that the names of Digital or MIT not be used in advertising or publicity pertaining to distribution of the software without specific, written prior permission.  DIGITAL AND WYSE DISCLAIM ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL DIGITAL OR WYSE BE LIABLE FOR ANY SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.  ******************************************************************/
end_comment

begin_include
include|#
directive|include
file|<X11/Xlibint.h>
end_include

begin_include
include|#
directive|include
file|<X11/Xutil.h>
end_include

begin_include
include|#
directive|include
file|"Xatomtype.h"
end_include

begin_include
include|#
directive|include
file|<X11/Xatom.h>
end_include

begin_include
include|#
directive|include
file|<X11/Xos.h>
end_include

begin_function
name|void
name|XSetWMSizeHints
parameter_list|(
name|dpy
parameter_list|,
name|w
parameter_list|,
name|hints
parameter_list|,
name|prop
parameter_list|)
name|Display
modifier|*
name|dpy
decl_stmt|;
name|Window
name|w
decl_stmt|;
name|XSizeHints
modifier|*
name|hints
decl_stmt|;
name|Atom
name|prop
decl_stmt|;
block|{
name|xPropSizeHints
name|data
decl_stmt|;
name|data
operator|.
name|flags
operator|=
operator|(
name|hints
operator|->
name|flags
operator|&
operator|(
name|USPosition
operator||
name|USSize
operator||
name|PPosition
operator||
name|PSize
operator||
name|PMinSize
operator||
name|PMaxSize
operator||
name|PResizeInc
operator||
name|PAspect
operator||
name|PBaseSize
operator||
name|PWinGravity
operator|)
operator|)
expr_stmt|;
comment|/*      * The x, y, width, and height fields are obsolete; but, applications      * that want to work with old window managers might set them.      */
name|data
operator|.
name|x
operator|=
name|hints
operator|->
name|x
expr_stmt|;
name|data
operator|.
name|y
operator|=
name|hints
operator|->
name|y
expr_stmt|;
name|data
operator|.
name|width
operator|=
name|hints
operator|->
name|width
expr_stmt|;
name|data
operator|.
name|height
operator|=
name|hints
operator|->
name|height
expr_stmt|;
name|data
operator|.
name|minWidth
operator|=
name|hints
operator|->
name|min_width
expr_stmt|;
name|data
operator|.
name|minHeight
operator|=
name|hints
operator|->
name|min_height
expr_stmt|;
name|data
operator|.
name|maxWidth
operator|=
name|hints
operator|->
name|max_width
expr_stmt|;
name|data
operator|.
name|maxHeight
operator|=
name|hints
operator|->
name|max_height
expr_stmt|;
name|data
operator|.
name|widthInc
operator|=
name|hints
operator|->
name|width_inc
expr_stmt|;
name|data
operator|.
name|heightInc
operator|=
name|hints
operator|->
name|height_inc
expr_stmt|;
name|data
operator|.
name|minAspectX
operator|=
name|hints
operator|->
name|min_aspect
operator|.
name|x
expr_stmt|;
name|data
operator|.
name|minAspectY
operator|=
name|hints
operator|->
name|min_aspect
operator|.
name|y
expr_stmt|;
name|data
operator|.
name|maxAspectX
operator|=
name|hints
operator|->
name|max_aspect
operator|.
name|x
expr_stmt|;
name|data
operator|.
name|maxAspectY
operator|=
name|hints
operator|->
name|max_aspect
operator|.
name|y
expr_stmt|;
name|data
operator|.
name|baseWidth
operator|=
name|hints
operator|->
name|base_width
expr_stmt|;
name|data
operator|.
name|baseHeight
operator|=
name|hints
operator|->
name|base_height
expr_stmt|;
name|data
operator|.
name|winGravity
operator|=
name|hints
operator|->
name|win_gravity
expr_stmt|;
name|XChangeProperty
argument_list|(
name|dpy
argument_list|,
name|w
argument_list|,
name|prop
argument_list|,
name|XA_WM_SIZE_HINTS
argument_list|,
literal|32
argument_list|,
name|PropModeReplace
argument_list|,
operator|(
name|unsigned
name|char
operator|*
operator|)
operator|&
name|data
argument_list|,
name|NumPropSizeElements
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|XSetWMNormalHints
parameter_list|(
name|dpy
parameter_list|,
name|w
parameter_list|,
name|hints
parameter_list|)
name|Display
modifier|*
name|dpy
decl_stmt|;
name|Window
name|w
decl_stmt|;
name|XSizeHints
modifier|*
name|hints
decl_stmt|;
block|{
name|XSetWMSizeHints
argument_list|(
name|dpy
argument_list|,
name|w
argument_list|,
name|hints
argument_list|,
name|XA_WM_NORMAL_HINTS
argument_list|)
expr_stmt|;
block|}
end_function

end_unit

