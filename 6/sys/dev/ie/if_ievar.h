begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*-  * $FreeBSD$  */
end_comment

begin_enum
enum|enum
name|ie_hardware
block|{
name|IE_NONE
block|,
name|IE_STARLAN10
block|,
name|IE_EN100
block|,
name|IE_SLFIBER
block|,
name|IE_3C507
block|,
name|IE_NI5210
block|,
name|IE_EE16
block|,
name|IE_UNKNOWN
block|}
enum|;
end_enum

begin_comment
comment|/*  * Ethernet status, per interface.  */
end_comment

begin_struct
struct|struct
name|ie_softc
block|{
name|struct
name|ifnet
modifier|*
name|ifp
decl_stmt|;
name|void
function_decl|(
modifier|*
name|ie_reset_586
function_decl|)
parameter_list|(
name|struct
name|ie_softc
modifier|*
parameter_list|)
function_decl|;
name|void
function_decl|(
modifier|*
name|ie_chan_attn
function_decl|)
parameter_list|(
name|struct
name|ie_softc
modifier|*
parameter_list|)
function_decl|;
name|enum
name|ie_hardware
name|hard_type
decl_stmt|;
name|int
name|hard_vers
decl_stmt|;
name|int
name|unit
decl_stmt|;
name|u_char
name|enaddr
index|[
literal|6
index|]
decl_stmt|;
name|device_t
name|dev
decl_stmt|;
name|struct
name|resource
modifier|*
name|io_res
decl_stmt|;
name|int
name|io_rid
decl_stmt|;
name|bus_space_tag_t
name|io_bt
decl_stmt|;
name|bus_space_handle_t
name|io_bh
decl_stmt|;
name|struct
name|resource
modifier|*
name|irq_res
decl_stmt|;
name|int
name|irq_rid
decl_stmt|;
name|void
modifier|*
name|irq_ih
decl_stmt|;
name|struct
name|resource
modifier|*
name|mem_res
decl_stmt|;
name|int
name|mem_rid
decl_stmt|;
name|bus_space_tag_t
name|mem_bt
decl_stmt|;
name|bus_space_handle_t
name|mem_bh
decl_stmt|;
name|u_int
name|port
decl_stmt|;
comment|/* i/o base address for this interface */
name|caddr_t
name|iomem
decl_stmt|;
comment|/* memory size */
name|caddr_t
name|iomembot
decl_stmt|;
comment|/* memory base address */
name|unsigned
name|iosize
decl_stmt|;
name|int
name|bus_use
decl_stmt|;
comment|/* 0 means 16bit, 1 means 8 bit adapter */
name|int
name|want_mcsetup
decl_stmt|;
name|int
name|promisc
decl_stmt|;
name|int
name|nframes
decl_stmt|;
name|int
name|nrxbufs
decl_stmt|;
name|int
name|ntxbufs
decl_stmt|;
specifier|volatile
name|struct
name|ie_int_sys_conf_ptr
modifier|*
name|iscp
decl_stmt|;
specifier|volatile
name|struct
name|ie_sys_ctl_block
modifier|*
name|scb
decl_stmt|;
specifier|volatile
name|struct
name|ie_recv_frame_desc
modifier|*
modifier|*
name|rframes
decl_stmt|;
comment|/* nframes worth */
specifier|volatile
name|struct
name|ie_recv_buf_desc
modifier|*
modifier|*
name|rbuffs
decl_stmt|;
comment|/* nrxbufs worth */
specifier|volatile
name|u_char
modifier|*
modifier|*
name|cbuffs
decl_stmt|;
comment|/* nrxbufs worth */
name|int
name|rfhead
decl_stmt|,
name|rftail
decl_stmt|,
name|rbhead
decl_stmt|,
name|rbtail
decl_stmt|;
specifier|volatile
name|struct
name|ie_xmit_cmd
modifier|*
modifier|*
name|xmit_cmds
decl_stmt|;
comment|/* ntxbufs worth */
specifier|volatile
name|struct
name|ie_xmit_buf
modifier|*
modifier|*
name|xmit_buffs
decl_stmt|;
comment|/* ntxbufs worth */
specifier|volatile
name|u_char
modifier|*
modifier|*
name|xmit_cbuffs
decl_stmt|;
comment|/* ntxbufs worth */
name|int
name|xmit_count
decl_stmt|;
name|struct
name|ie_en_addr
name|mcast_addrs
index|[
name|MAXMCAST
operator|+
literal|1
index|]
decl_stmt|;
name|int
name|mcast_count
decl_stmt|;
name|u_short
name|irq_encoded
decl_stmt|;
comment|/* encoded interrupt on IEE16 */
block|}
struct|;
end_struct

begin_define
define|#
directive|define
name|PORT
parameter_list|(
name|sc
parameter_list|)
value|sc->port
end_define

begin_define
define|#
directive|define
name|MEM
parameter_list|(
name|sc
parameter_list|)
value|sc->iomem
end_define

begin_function_decl
name|void
name|ie_intr
parameter_list|(
name|void
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ie_alloc_resources
parameter_list|(
name|device_t
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ie_release_resources
parameter_list|(
name|device_t
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ie_attach
parameter_list|(
name|device_t
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ie_detach
parameter_list|(
name|device_t
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|el_reset_586
parameter_list|(
name|struct
name|ie_softc
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|el_chan_attn
parameter_list|(
name|struct
name|ie_softc
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|sl_reset_586
parameter_list|(
name|struct
name|ie_softc
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|sl_chan_attn
parameter_list|(
name|struct
name|ie_softc
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ee16_reset_586
parameter_list|(
name|struct
name|ie_softc
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ee16_chan_attn
parameter_list|(
name|struct
name|ie_softc
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|sl_read_ether
parameter_list|(
name|struct
name|ie_softc
modifier|*
parameter_list|,
name|unsigned
name|char
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|check_ie_present
parameter_list|(
name|struct
name|ie_softc
modifier|*
parameter_list|)
function_decl|;
end_function_decl

end_unit

