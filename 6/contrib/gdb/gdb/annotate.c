begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* Annotation routines for GDB.    Copyright 1986, 1989, 1990, 1991, 1992, 1994, 1995, 1996, 1998, 1999,    2000 Free Software Foundation, Inc.     This file is part of GDB.     This program is free software; you can redistribute it and/or modify    it under the terms of the GNU General Public License as published by    the Free Software Foundation; either version 2 of the License, or    (at your option) any later version.     This program is distributed in the hope that it will be useful,    but WITHOUT ANY WARRANTY; without even the implied warranty of    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the    GNU General Public License for more details.     You should have received a copy of the GNU General Public License    along with this program; if not, write to the Free Software    Foundation, Inc., 59 Temple Place - Suite 330,    Boston, MA 02111-1307, USA.  */
end_comment

begin_include
include|#
directive|include
file|"defs.h"
end_include

begin_include
include|#
directive|include
file|"annotate.h"
end_include

begin_include
include|#
directive|include
file|"value.h"
end_include

begin_include
include|#
directive|include
file|"target.h"
end_include

begin_include
include|#
directive|include
file|"gdbtypes.h"
end_include

begin_include
include|#
directive|include
file|"breakpoint.h"
end_include

begin_escape
end_escape

begin_comment
comment|/* Prototypes for local functions. */
end_comment

begin_function_decl
specifier|extern
name|void
name|_initialize_annotate
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|void
name|print_value_flags
parameter_list|(
name|struct
name|type
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|static
name|void
name|breakpoint_changed
parameter_list|(
name|struct
name|breakpoint
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
function_decl|(
modifier|*
name|annotate_starting_hook
function_decl|)
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
function_decl|(
modifier|*
name|annotate_stopped_hook
function_decl|)
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
function_decl|(
modifier|*
name|annotate_signalled_hook
function_decl|)
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
function_decl|(
modifier|*
name|annotate_signal_hook
function_decl|)
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
function_decl|(
modifier|*
name|annotate_exited_hook
function_decl|)
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_decl_stmt
specifier|static
name|int
name|ignore_count_changed
init|=
literal|0
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|void
name|print_value_flags
parameter_list|(
name|struct
name|type
modifier|*
name|t
parameter_list|)
block|{
if|if
condition|(
name|can_dereference
argument_list|(
name|t
argument_list|)
condition|)
name|printf_filtered
argument_list|(
literal|"*"
argument_list|)
expr_stmt|;
else|else
name|printf_filtered
argument_list|(
literal|"-"
argument_list|)
expr_stmt|;
block|}
end_function

begin_escape
end_escape

begin_function
name|void
name|breakpoints_changed
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|>
literal|1
condition|)
block|{
name|target_terminal_ours
argument_list|()
expr_stmt|;
name|printf_unfiltered
argument_list|(
literal|"\n\032\032breakpoints-invalid\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|ignore_count_changed
condition|)
name|ignore_count_changed
operator|=
literal|0
expr_stmt|;
comment|/* Avoid multiple break annotations. */
block|}
block|}
end_function

begin_comment
comment|/* The GUI needs to be informed of ignore_count changes, but we don't    want to provide successive multiple breakpoints-invalid messages    that are all caused by the fact that the ignore count is changing    (which could keep the GUI very busy).  One is enough, after the    target actually "stops". */
end_comment

begin_function
name|void
name|annotate_ignore_count_change
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|>
literal|1
condition|)
name|ignore_count_changed
operator|=
literal|1
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_breakpoint
parameter_list|(
name|int
name|num
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|>
literal|1
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032breakpoint %d\n"
argument_list|,
name|num
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_catchpoint
parameter_list|(
name|int
name|num
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|>
literal|1
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032catchpoint %d\n"
argument_list|,
name|num
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_watchpoint
parameter_list|(
name|int
name|num
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|>
literal|1
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032watchpoint %d\n"
argument_list|,
name|num
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_starting
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotate_starting_hook
condition|)
name|annotate_starting_hook
argument_list|()
expr_stmt|;
else|else
block|{
if|if
condition|(
name|annotation_level
operator|>
literal|1
condition|)
block|{
name|printf_filtered
argument_list|(
literal|"\n\032\032starting\n"
argument_list|)
expr_stmt|;
block|}
block|}
block|}
end_function

begin_function
name|void
name|annotate_stopped
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotate_stopped_hook
condition|)
name|annotate_stopped_hook
argument_list|()
expr_stmt|;
else|else
block|{
if|if
condition|(
name|annotation_level
operator|>
literal|1
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032stopped\n"
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
name|annotation_level
operator|>
literal|1
operator|&&
name|ignore_count_changed
condition|)
block|{
name|ignore_count_changed
operator|=
literal|0
expr_stmt|;
name|breakpoints_changed
argument_list|()
expr_stmt|;
block|}
block|}
end_function

begin_function
name|void
name|annotate_exited
parameter_list|(
name|int
name|exitstatus
parameter_list|)
block|{
if|if
condition|(
name|annotate_exited_hook
condition|)
name|annotate_exited_hook
argument_list|()
expr_stmt|;
else|else
block|{
if|if
condition|(
name|annotation_level
operator|>
literal|1
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032exited %d\n"
argument_list|,
name|exitstatus
argument_list|)
expr_stmt|;
block|}
block|}
end_function

begin_function
name|void
name|annotate_signalled
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotate_signalled_hook
condition|)
name|annotate_signalled_hook
argument_list|()
expr_stmt|;
if|if
condition|(
name|annotation_level
operator|>
literal|1
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032signalled\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_signal_name
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032signal-name\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_signal_name_end
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032signal-name-end\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_signal_string
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032signal-string\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_signal_string_end
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032signal-string-end\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_signal
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotate_signal_hook
condition|)
name|annotate_signal_hook
argument_list|()
expr_stmt|;
if|if
condition|(
name|annotation_level
operator|>
literal|1
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032signal\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_escape
end_escape

begin_function
name|void
name|annotate_breakpoints_headers
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032breakpoints-headers\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_field
parameter_list|(
name|int
name|num
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032field %d\n"
argument_list|,
name|num
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_breakpoints_table
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032breakpoints-table\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_record
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032record\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_breakpoints_table_end
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032breakpoints-table-end\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_frames_invalid
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|>
literal|1
condition|)
block|{
name|target_terminal_ours
argument_list|()
expr_stmt|;
name|printf_unfiltered
argument_list|(
literal|"\n\032\032frames-invalid\n"
argument_list|)
expr_stmt|;
block|}
block|}
end_function

begin_function
name|void
name|annotate_field_begin
parameter_list|(
name|struct
name|type
modifier|*
name|type
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
block|{
name|printf_filtered
argument_list|(
literal|"\n\032\032field-begin "
argument_list|)
expr_stmt|;
name|print_value_flags
argument_list|(
name|type
argument_list|)
expr_stmt|;
name|printf_filtered
argument_list|(
literal|"\n"
argument_list|)
expr_stmt|;
block|}
block|}
end_function

begin_function
name|void
name|annotate_field_name_end
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032field-name-end\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_field_value
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032field-value\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_field_end
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032field-end\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_escape
end_escape

begin_function
name|void
name|annotate_quit
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|>
literal|1
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032quit\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_error
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|>
literal|1
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032error\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_error_begin
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|>
literal|1
condition|)
name|fprintf_filtered
argument_list|(
name|gdb_stderr
argument_list|,
literal|"\n\032\032error-begin\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_value_history_begin
parameter_list|(
name|int
name|histindex
parameter_list|,
name|struct
name|type
modifier|*
name|type
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
block|{
name|printf_filtered
argument_list|(
literal|"\n\032\032value-history-begin %d "
argument_list|,
name|histindex
argument_list|)
expr_stmt|;
name|print_value_flags
argument_list|(
name|type
argument_list|)
expr_stmt|;
name|printf_filtered
argument_list|(
literal|"\n"
argument_list|)
expr_stmt|;
block|}
block|}
end_function

begin_function
name|void
name|annotate_value_begin
parameter_list|(
name|struct
name|type
modifier|*
name|type
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
block|{
name|printf_filtered
argument_list|(
literal|"\n\032\032value-begin "
argument_list|)
expr_stmt|;
name|print_value_flags
argument_list|(
name|type
argument_list|)
expr_stmt|;
name|printf_filtered
argument_list|(
literal|"\n"
argument_list|)
expr_stmt|;
block|}
block|}
end_function

begin_function
name|void
name|annotate_value_history_value
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032value-history-value\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_value_history_end
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032value-history-end\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_value_end
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032value-end\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_display_begin
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032display-begin\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_display_number_end
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032display-number-end\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_display_format
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032display-format\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_display_expression
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032display-expression\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_display_expression_end
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032display-expression-end\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_display_value
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032display-value\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_display_end
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032display-end\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_arg_begin
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032arg-begin\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_arg_name_end
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032arg-name-end\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_arg_value
parameter_list|(
name|struct
name|type
modifier|*
name|type
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
block|{
name|printf_filtered
argument_list|(
literal|"\n\032\032arg-value "
argument_list|)
expr_stmt|;
name|print_value_flags
argument_list|(
name|type
argument_list|)
expr_stmt|;
name|printf_filtered
argument_list|(
literal|"\n"
argument_list|)
expr_stmt|;
block|}
block|}
end_function

begin_function
name|void
name|annotate_arg_end
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032arg-end\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_source
parameter_list|(
name|char
modifier|*
name|filename
parameter_list|,
name|int
name|line
parameter_list|,
name|int
name|character
parameter_list|,
name|int
name|mid
parameter_list|,
name|CORE_ADDR
name|pc
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|>
literal|1
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032source "
argument_list|)
expr_stmt|;
else|else
name|printf_filtered
argument_list|(
literal|"\032\032"
argument_list|)
expr_stmt|;
name|printf_filtered
argument_list|(
literal|"%s:%d:%d:%s:0x"
argument_list|,
name|filename
argument_list|,
name|line
argument_list|,
name|character
argument_list|,
name|mid
condition|?
literal|"middle"
else|:
literal|"beg"
argument_list|)
expr_stmt|;
name|print_address_numeric
argument_list|(
name|pc
argument_list|,
literal|0
argument_list|,
name|gdb_stdout
argument_list|)
expr_stmt|;
name|printf_filtered
argument_list|(
literal|"\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_frame_begin
parameter_list|(
name|int
name|level
parameter_list|,
name|CORE_ADDR
name|pc
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
block|{
name|printf_filtered
argument_list|(
literal|"\n\032\032frame-begin %d 0x"
argument_list|,
name|level
argument_list|)
expr_stmt|;
name|print_address_numeric
argument_list|(
name|pc
argument_list|,
literal|0
argument_list|,
name|gdb_stdout
argument_list|)
expr_stmt|;
name|printf_filtered
argument_list|(
literal|"\n"
argument_list|)
expr_stmt|;
block|}
block|}
end_function

begin_function
name|void
name|annotate_function_call
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032function-call\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_signal_handler_caller
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032signal-handler-caller\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_frame_address
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032frame-address\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_frame_address_end
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032frame-address-end\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_frame_function_name
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032frame-function-name\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_frame_args
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032frame-args\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_frame_source_begin
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032frame-source-begin\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_frame_source_file
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032frame-source-file\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_frame_source_file_end
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032frame-source-file-end\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_frame_source_line
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032frame-source-line\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_frame_source_end
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032frame-source-end\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_frame_where
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032frame-where\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_frame_end
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032frame-end\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_escape
end_escape

begin_function
name|void
name|annotate_array_section_begin
parameter_list|(
name|int
name|index
parameter_list|,
name|struct
name|type
modifier|*
name|elttype
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
block|{
name|printf_filtered
argument_list|(
literal|"\n\032\032array-section-begin %d "
argument_list|,
name|index
argument_list|)
expr_stmt|;
name|print_value_flags
argument_list|(
name|elttype
argument_list|)
expr_stmt|;
name|printf_filtered
argument_list|(
literal|"\n"
argument_list|)
expr_stmt|;
block|}
block|}
end_function

begin_function
name|void
name|annotate_elt_rep
parameter_list|(
name|unsigned
name|int
name|repcount
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032elt-rep %u\n"
argument_list|,
name|repcount
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_elt_rep_end
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032elt-rep-end\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_elt
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032elt\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|annotate_array_section_end
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|==
literal|2
condition|)
name|printf_filtered
argument_list|(
literal|"\n\032\032array-section-end\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|breakpoint_changed
parameter_list|(
name|struct
name|breakpoint
modifier|*
name|b
parameter_list|)
block|{
name|breakpoints_changed
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
name|void
name|_initialize_annotate
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|annotation_level
operator|>
literal|1
condition|)
block|{
name|delete_breakpoint_hook
operator|=
name|breakpoint_changed
expr_stmt|;
name|modify_breakpoint_hook
operator|=
name|breakpoint_changed
expr_stmt|;
block|}
block|}
end_function

end_unit

