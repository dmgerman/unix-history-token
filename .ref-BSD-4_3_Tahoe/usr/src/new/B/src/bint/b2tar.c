begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* Copyright (c) Stichting Mathematisch Centrum, Amsterdam, 1985. */
end_comment

begin_comment
comment|/*   $Header: b2tar.c,v 1.4 85/08/22 16:56:49 timo Exp $ */
end_comment

begin_include
include|#
directive|include
file|"b.h"
end_include

begin_include
include|#
directive|include
file|"b1obj.h"
end_include

begin_include
include|#
directive|include
file|"b2par.h"
end_include

begin_include
include|#
directive|include
file|"b2syn.h"
end_include

begin_include
include|#
directive|include
file|"b2nod.h"
end_include

begin_include
include|#
directive|include
file|"b3err.h"
end_include

begin_function_decl
name|Forward
name|parsetree
name|singtarg
parameter_list|()
function_decl|;
end_function_decl

begin_function
name|Visible
name|parsetree
name|targ
parameter_list|(
name|q
parameter_list|)
name|txptr
name|q
decl_stmt|;
block|{
return|return
name|collateral
argument_list|(
name|q
argument_list|,
name|singtarg
argument_list|)
return|;
block|}
end_function

begin_function
name|Hidden
name|parsetree
name|singtarg
parameter_list|(
name|q
parameter_list|)
name|txptr
name|q
decl_stmt|;
block|{
name|parsetree
name|v
decl_stmt|;
name|value
name|t
decl_stmt|;
name|skipsp
argument_list|(
operator|&
name|tx
argument_list|)
expr_stmt|;
if|if
condition|(
name|nothing
argument_list|(
name|q
argument_list|,
literal|"target"
argument_list|)
condition|)
return|return
name|NilTree
return|;
if|if
condition|(
name|open_sign
argument_list|()
condition|)
name|v
operator|=
name|compound
argument_list|(
name|q
argument_list|,
name|targ
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
name|is_tag
argument_list|(
operator|&
name|t
argument_list|)
condition|)
name|v
operator|=
name|node2
argument_list|(
name|TAG
argument_list|,
name|t
argument_list|)
expr_stmt|;
else|else
block|{
name|parerr
argument_list|(
name|MESS
argument_list|(
literal|2500
argument_list|,
literal|"no target where expected"
argument_list|)
argument_list|)
expr_stmt|;
name|tx
operator|=
name|q
expr_stmt|;
return|return
name|NilTree
return|;
block|}
name|selection
argument_list|(
name|q
argument_list|,
operator|&
name|v
argument_list|)
expr_stmt|;
name|tar_trimmed_text
argument_list|(
name|q
argument_list|,
operator|&
name|v
argument_list|)
expr_stmt|;
name|upto
argument_list|(
name|q
argument_list|,
literal|"target"
argument_list|)
expr_stmt|;
return|return
name|v
return|;
block|}
end_function

end_unit

