begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* $Header: cmdtab.c,v 2.4 87/03/23 12:31:00 ed Exp $ */
end_comment

begin_comment
comment|/* $Log:	cmdtab.c,v $  * Revision 2.4  87/03/23  12:31:00  ed  * Added archive, restore and unify commands.  *   * Revision 2.3  87/01/09  16:52:28  ed  * Use FilingSubset, if rejected attempt Filing  * Allows user override with -F switch  * Maintain FilingSubset mandatory attributes  * User niceties:  echo file name/type on transfer commands  * 		prompt on delete  * guess type which will determine file type implied by content  * New commands: (type related) Guess, Whatis  * 	      (file transfer) Copy, Move, Rename  *   * Revision 2.2  86/12/11  06:12:07  jqj  * Eliminated form, mode, and struct commands.  Started adding support for  * more file types.  *   * Revision 2.1  86/06/02  07:10:04  jqj  * bugfix in NCMDS  *   * Revision 2.0  85/11/21  07:22:43  jqj  * 4.3BSD standard release  *   * Revision 1.1  85/11/20  14:18:58  jqj  * Initial revision  *   */
end_comment

begin_ifndef
ifndef|#
directive|ifndef
name|lint
end_ifndef

begin_decl_stmt
specifier|static
name|char
name|sccsid
index|[]
init|=
literal|"@(#)cmdtab.c	4.7 (Berkeley) 7/26/83"
decl_stmt|;
end_decl_stmt

begin_endif
endif|#
directive|endif
end_endif

begin_include
include|#
directive|include
file|"ftp_var.h"
end_include

begin_comment
comment|/*  * User FTP -- Command Tables.  */
end_comment

begin_decl_stmt
name|int
name|setascii
argument_list|()
decl_stmt|,
name|setbell
argument_list|()
decl_stmt|,
name|setbinary
argument_list|()
decl_stmt|,
name|setdebug
argument_list|()
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|setglob
argument_list|()
decl_stmt|,
name|sethash
argument_list|()
decl_stmt|,
name|setpeer
argument_list|()
decl_stmt|;
end_decl_stmt

begin_function_decl
name|int
name|setprompt
parameter_list|()
function_decl|;
end_function_decl

begin_decl_stmt
name|int
name|settrace
argument_list|()
decl_stmt|,
name|settype
argument_list|()
decl_stmt|,
name|setverbose
argument_list|()
decl_stmt|;
end_decl_stmt

begin_function_decl
name|int
name|disconnect
parameter_list|()
function_decl|;
end_function_decl

begin_decl_stmt
name|int
name|cd
argument_list|()
decl_stmt|,
name|lcd
argument_list|()
decl_stmt|,
name|delete
argument_list|()
decl_stmt|,
name|mdelete
argument_list|()
decl_stmt|,
name|user
argument_list|()
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|ls
argument_list|()
decl_stmt|,
name|mls
argument_list|()
decl_stmt|,
name|get
argument_list|()
decl_stmt|,
name|mget
argument_list|()
decl_stmt|,
name|help
argument_list|()
decl_stmt|,
name|append
argument_list|()
decl_stmt|,
name|put
argument_list|()
decl_stmt|,
name|mput
argument_list|()
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|quit
argument_list|()
decl_stmt|,
name|renamefile
argument_list|()
decl_stmt|,
name|status
argument_list|()
decl_stmt|;
end_decl_stmt

begin_function_decl
name|int
name|shell
parameter_list|()
function_decl|;
end_function_decl

begin_decl_stmt
name|int
name|pwd
argument_list|()
decl_stmt|,
name|makedir
argument_list|()
decl_stmt|,
name|removedir
argument_list|()
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|setguess
argument_list|()
decl_stmt|,
name|whatis
argument_list|()
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|copyfile
argument_list|()
decl_stmt|,
name|movefile
argument_list|()
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|archive
argument_list|()
decl_stmt|,
name|restore
argument_list|()
decl_stmt|,
name|unify
argument_list|()
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|appendhelp
index|[]
init|=
literal|"append to a file"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|archhelp
index|[]
init|=
literal|"serialize a remote file/descendants to a local file"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|asciihelp
index|[]
init|=
literal|"set ascii (tText) transfer type"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|beephelp
index|[]
init|=
literal|"beep when command completed"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|binaryhelp
index|[]
init|=
literal|"set binary (tUnspecified) transfer type"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|cdhelp
index|[]
init|=
literal|"change remote working directory"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|connecthelp
index|[]
init|=
literal|"connect to remote file service"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|copyhelp
index|[]
init|=
literal|"make a copy of a remote file"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|deletehelp
index|[]
init|=
literal|"delete remote file"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|debughelp
index|[]
init|=
literal|"toggle/set debugging mode"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|dirhelp
index|[]
init|=
literal|"list contents of remote directory"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|disconhelp
index|[]
init|=
literal|"terminate ftp session"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|globhelp
index|[]
init|=
literal|"toggle metacharacter expansion of local file names"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|guesshelp
index|[]
init|=
literal|"set file type to that of input file"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|hashhelp
index|[]
init|=
literal|"toggle printing `#' for each buffer transferred"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|helphelp
index|[]
init|=
literal|"print local help information"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|lcdhelp
index|[]
init|=
literal|"change local working directory"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|lshelp
index|[]
init|=
literal|"nlist contents of remote directory"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|mdeletehelp
index|[]
init|=
literal|"delete multiple files"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|mdirhelp
index|[]
init|=
literal|"list contents of multiple remote directories"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|mgethelp
index|[]
init|=
literal|"get multiple files"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|mkdirhelp
index|[]
init|=
literal|"make directory on the remote machine"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|mlshelp
index|[]
init|=
literal|"nlist contents of multiple remote directories"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|movehelp
index|[]
init|=
literal|"move a remote file to another directory"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|mputhelp
index|[]
init|=
literal|"send multiple files"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|prompthelp
index|[]
init|=
literal|"force interactive prompting on multiple commands"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|pwdhelp
index|[]
init|=
literal|"print working directory on remote machine"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|quithelp
index|[]
init|=
literal|"terminate ftp session and exit"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|quotehelp
index|[]
init|=
literal|"send arbitrary ftp command"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|receivehelp
index|[]
init|=
literal|"receive file"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|remotehelp
index|[]
init|=
literal|"get help from remote server"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|renamehelp
index|[]
init|=
literal|"rename a remote file in the same directory"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|restorhelp
index|[]
init|=
literal|"deserialize a local file to a remote file/descendants"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|rmdirhelp
index|[]
init|=
literal|"remove directory on the remote machine"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|sendhelp
index|[]
init|=
literal|"send one file"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|shellhelp
index|[]
init|=
literal|"escape to the shell"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|statushelp
index|[]
init|=
literal|"show current status"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|tracehelp
index|[]
init|=
literal|"toggle packet tracing"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|typehelp
index|[]
init|=
literal|"set file transfer type"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|unifyhelp
index|[]
init|=
literal|"unify access lists for a remote directory"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|userhelp
index|[]
init|=
literal|"send new user information"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|verbosehelp
index|[]
init|=
literal|"toggle verbose mode"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|whatishelp
index|[]
init|=
literal|"show assumed type of local file"
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|struct
name|cmd
name|cmdtab
index|[]
init|=
block|{
block|{
literal|"!"
block|,
name|shellhelp
block|,
literal|0
block|,
literal|0
block|,
name|shell
block|}
block|,
block|{
literal|"append"
block|,
name|appendhelp
block|,
literal|1
block|,
literal|1
block|,
name|put
block|}
block|,
block|{
literal|"archive"
block|,
name|archhelp
block|,
literal|1
block|,
literal|1
block|,
name|archive
block|}
block|,
block|{
literal|"ascii"
block|,
name|asciihelp
block|,
literal|0
block|,
literal|1
block|,
name|setascii
block|}
block|,
block|{
literal|"bell"
block|,
name|beephelp
block|,
literal|0
block|,
literal|0
block|,
name|setbell
block|}
block|,
block|{
literal|"binary"
block|,
name|binaryhelp
block|,
literal|0
block|,
literal|1
block|,
name|setbinary
block|}
block|,
block|{
literal|"bye"
block|,
name|quithelp
block|,
literal|0
block|,
literal|0
block|,
name|quit
block|}
block|,
block|{
literal|"cd"
block|,
name|cdhelp
block|,
literal|0
block|,
literal|1
block|,
name|cd
block|}
block|,
block|{
literal|"close"
block|,
name|disconhelp
block|,
literal|0
block|,
literal|1
block|,
name|disconnect
block|}
block|,
block|{
literal|"copy"
block|,
name|copyhelp
block|,
literal|0
block|,
literal|1
block|,
name|copyfile
block|}
block|,
block|{
literal|"delete"
block|,
name|deletehelp
block|,
literal|0
block|,
literal|1
block|,
name|delete
block|}
block|,
block|{
literal|"debug"
block|,
name|debughelp
block|,
literal|0
block|,
literal|0
block|,
name|setdebug
block|}
block|,
block|{
literal|"dir"
block|,
name|dirhelp
block|,
literal|1
block|,
literal|1
block|,
name|ls
block|}
block|,
block|{
literal|"get"
block|,
name|receivehelp
block|,
literal|1
block|,
literal|1
block|,
name|get
block|}
block|,
block|{
literal|"glob"
block|,
name|globhelp
block|,
literal|0
block|,
literal|0
block|,
name|setglob
block|}
block|,
block|{
literal|"guess"
block|,
name|guesshelp
block|,
literal|0
block|,
literal|1
block|,
name|setguess
block|}
block|,
block|{
literal|"hash"
block|,
name|hashhelp
block|,
literal|0
block|,
literal|0
block|,
name|sethash
block|}
block|,
block|{
literal|"help"
block|,
name|helphelp
block|,
literal|0
block|,
literal|0
block|,
name|help
block|}
block|,
block|{
literal|"lcd"
block|,
name|lcdhelp
block|,
literal|0
block|,
literal|0
block|,
name|lcd
block|}
block|,
block|{
literal|"ls"
block|,
name|lshelp
block|,
literal|1
block|,
literal|1
block|,
name|ls
block|}
block|,
block|{
literal|"mdelete"
block|,
name|mdeletehelp
block|,
literal|1
block|,
literal|1
block|,
name|mdelete
block|}
block|,
block|{
literal|"mdir"
block|,
name|mdirhelp
block|,
literal|1
block|,
literal|1
block|,
name|mls
block|}
block|,
block|{
literal|"mget"
block|,
name|mgethelp
block|,
literal|1
block|,
literal|1
block|,
name|mget
block|}
block|,
block|{
literal|"mkdir"
block|,
name|mkdirhelp
block|,
literal|0
block|,
literal|1
block|,
name|makedir
block|}
block|,
block|{
literal|"mls"
block|,
name|mlshelp
block|,
literal|1
block|,
literal|1
block|,
name|mls
block|}
block|,
block|{
literal|"move"
block|,
name|movehelp
block|,
literal|0
block|,
literal|1
block|,
name|movefile
block|}
block|,
block|{
literal|"mput"
block|,
name|mputhelp
block|,
literal|1
block|,
literal|1
block|,
name|mput
block|}
block|,
block|{
literal|"open"
block|,
name|connecthelp
block|,
literal|0
block|,
literal|0
block|,
name|setpeer
block|}
block|,
block|{
literal|"prompt"
block|,
name|prompthelp
block|,
literal|0
block|,
literal|0
block|,
name|setprompt
block|}
block|,
block|{
literal|"put"
block|,
name|sendhelp
block|,
literal|1
block|,
literal|1
block|,
name|put
block|}
block|,
block|{
literal|"pwd"
block|,
name|pwdhelp
block|,
literal|0
block|,
literal|1
block|,
name|pwd
block|}
block|,
block|{
literal|"quit"
block|,
name|quithelp
block|,
literal|0
block|,
literal|0
block|,
name|quit
block|}
block|,
block|{
literal|"recv"
block|,
name|receivehelp
block|,
literal|1
block|,
literal|1
block|,
name|get
block|}
block|,
block|{
literal|"rename"
block|,
name|renamehelp
block|,
literal|0
block|,
literal|1
block|,
name|renamefile
block|}
block|,
block|{
literal|"restore"
block|,
name|restorhelp
block|,
literal|1
block|,
literal|1
block|,
name|restore
block|}
block|,
block|{
literal|"rmdir"
block|,
name|rmdirhelp
block|,
literal|0
block|,
literal|1
block|,
name|removedir
block|}
block|,
block|{
literal|"send"
block|,
name|sendhelp
block|,
literal|1
block|,
literal|1
block|,
name|put
block|}
block|,
block|{
literal|"status"
block|,
name|statushelp
block|,
literal|0
block|,
literal|0
block|,
name|status
block|}
block|,
block|{
literal|"trace"
block|,
name|tracehelp
block|,
literal|0
block|,
literal|0
block|,
name|settrace
block|}
block|,
block|{
literal|"type"
block|,
name|typehelp
block|,
literal|0
block|,
literal|1
block|,
name|settype
block|}
block|,
block|{
literal|"unify"
block|,
name|unifyhelp
block|,
literal|1
block|,
literal|1
block|,
name|unify
block|}
block|,
block|{
literal|"user"
block|,
name|userhelp
block|,
literal|0
block|,
literal|1
block|,
name|user
block|}
block|,
block|{
literal|"verbose"
block|,
name|verbosehelp
block|,
literal|0
block|,
literal|0
block|,
name|setverbose
block|}
block|,
block|{
literal|"whatis"
block|,
name|whatishelp
block|,
literal|0
block|,
literal|0
block|,
name|whatis
block|}
block|,
block|{
literal|"?"
block|,
name|helphelp
block|,
literal|0
block|,
literal|0
block|,
name|help
block|}
block|,
block|{
literal|0
block|}
block|, }
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|NCMDS
init|=
operator|(
sizeof|sizeof
argument_list|(
name|cmdtab
argument_list|)
operator|/
sizeof|sizeof
argument_list|(
name|cmdtab
index|[
literal|0
index|]
argument_list|)
operator|-
literal|1
operator|)
decl_stmt|;
end_decl_stmt

end_unit

