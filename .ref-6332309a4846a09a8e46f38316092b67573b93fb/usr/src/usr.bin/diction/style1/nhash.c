begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_ifndef
ifndef|#
directive|ifndef
name|lint
end_ifndef

begin_decl_stmt
specifier|static
name|char
name|nhash_sccsid
index|[]
init|=
literal|"@(#)nhash.c	4.2	(Berkeley)	82/11/06"
decl_stmt|;
end_decl_stmt

begin_endif
endif|#
directive|endif
endif|not lint
end_endif

begin_struct
struct|struct
name|dict
block|{
name|char
modifier|*
name|entry
decl_stmt|;
name|char
name|val
decl_stmt|;
block|}
struct|;
end_struct

begin_decl_stmt
specifier|extern
name|struct
name|dict
name|ary_d
index|[]
decl_stmt|,
name|cy_d
index|[]
decl_stmt|,
name|ery_d
index|[]
decl_stmt|,
name|fy_d
index|[]
decl_stmt|,
name|gy_d
index|[]
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|struct
name|dict
name|ity_d
index|[]
decl_stmt|,
name|ly_d
index|[]
decl_stmt|,
name|ory_d
index|[]
decl_stmt|,
name|ry_d
index|[]
decl_stmt|,
name|ty_d
index|[]
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|struct
name|dict
name|dict
index|[]
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|struct
name|dict
name|abbrev_d
index|[]
decl_stmt|;
end_decl_stmt

begin_function_decl
name|char
name|aahash
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
name|char
name|lookup
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
name|char
name|abbrev
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
name|char
name|ary
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
name|char
name|cy
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
name|char
name|ery
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
name|char
name|fy
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
name|char
name|gy
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
name|char
name|ity
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
name|char
name|ly
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
name|char
name|ory
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
name|char
name|ry
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
name|char
name|ty
parameter_list|()
function_decl|;
end_function_decl

begin_struct
struct|struct
name|hnode
block|{
name|char
modifier|*
name|aakey
decl_stmt|;
name|struct
name|dict
modifier|*
name|aadata
decl_stmt|;
block|}
struct|;
end_struct

begin_function
name|char
name|aahash
parameter_list|(
name|s
parameter_list|,
name|ex
parameter_list|,
name|aatsize
parameter_list|,
name|aapr1
parameter_list|,
name|aapr2
parameter_list|,
name|tbl
parameter_list|,
name|data
parameter_list|)
name|char
modifier|*
name|s
decl_stmt|;
name|struct
name|hnode
name|tbl
index|[]
decl_stmt|;
name|struct
name|dict
modifier|*
name|data
decl_stmt|;
block|{
name|char
modifier|*
name|cp
decl_stmt|;
name|int
name|ii
decl_stmt|,
name|key
decl_stmt|,
name|c
decl_stmt|,
name|p1
decl_stmt|,
name|p2
decl_stmt|;
name|cp
operator|=
name|s
expr_stmt|;
name|key
operator|=
literal|0
expr_stmt|;
while|while
condition|(
name|c
operator|=
operator|*
name|cp
operator|++
condition|)
name|key
operator|=
name|key
operator|+
operator|(
name|key
operator|<<
literal|5
operator|)
operator|+
name|c
expr_stmt|;
name|key
operator|&=
literal|077777
expr_stmt|;
name|p1
operator|=
name|key
operator|%
name|aapr1
expr_stmt|;
name|p2
operator|=
name|key
operator|%
name|aapr2
expr_stmt|;
if|if
condition|(
name|p2
operator|==
literal|0
condition|)
name|p2
operator|=
literal|17
expr_stmt|;
for|for
control|(
name|ii
operator|=
literal|0
init|;
name|ii
operator|<
name|aatsize
condition|;
name|ii
operator|++
control|)
block|{
if|if
condition|(
name|tbl
index|[
name|p1
index|]
operator|.
name|aakey
operator|==
literal|0
condition|)
block|{
comment|/* new item */
if|if
condition|(
name|ex
operator|==
literal|0
condition|)
block|{
name|tbl
index|[
name|p1
index|]
operator|.
name|aakey
operator|=
name|s
expr_stmt|;
name|tbl
index|[
name|p1
index|]
operator|.
name|aadata
operator|=
name|data
expr_stmt|;
return|return
operator|(
name|tbl
index|[
name|p1
index|]
operator|.
name|aadata
operator|->
name|val
operator|)
return|;
block|}
else|else
return|return
operator|(
literal|0
operator|)
return|;
block|}
elseif|else
if|if
condition|(
name|strcmp
argument_list|(
name|tbl
index|[
name|p1
index|]
operator|.
name|aakey
argument_list|,
name|s
argument_list|)
operator|==
literal|0
condition|)
block|{
return|return
operator|(
name|tbl
index|[
name|p1
index|]
operator|.
name|aadata
operator|->
name|val
operator|)
return|;
block|}
name|p1
operator|=
operator|(
name|p1
operator|+
name|p2
operator|)
operator|%
name|aatsize
expr_stmt|;
block|}
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"hash table full:size %d\n"
argument_list|,
name|aatsize
argument_list|)
expr_stmt|;
name|exit
argument_list|()
expr_stmt|;
block|}
end_function

begin_macro
name|getd
argument_list|()
end_macro

begin_block
block|{
name|struct
name|dict
modifier|*
name|ptr
decl_stmt|;
name|ptr
operator|=
name|dict
expr_stmt|;
while|while
condition|(
name|ptr
operator|->
name|entry
operator|!=
literal|0
condition|)
block|{
name|lookup
argument_list|(
name|ptr
operator|->
name|entry
argument_list|,
literal|0
argument_list|,
name|ptr
argument_list|)
expr_stmt|;
name|ptr
operator|++
expr_stmt|;
block|}
block|}
end_block

begin_macro
name|getab
argument_list|()
end_macro

begin_block
block|{
name|struct
name|dict
modifier|*
name|ptr
decl_stmt|;
name|ptr
operator|=
name|abbrev_d
expr_stmt|;
while|while
condition|(
name|ptr
operator|->
name|entry
operator|!=
literal|0
condition|)
block|{
name|abbrev
argument_list|(
name|ptr
operator|->
name|entry
argument_list|,
literal|0
argument_list|,
name|ptr
argument_list|)
expr_stmt|;
name|ptr
operator|++
expr_stmt|;
block|}
block|}
end_block

begin_decl_stmt
name|struct
name|hnode
name|aa1root
index|[
literal|499
index|]
decl_stmt|;
end_decl_stmt

begin_define
define|#
directive|define
name|aa1tsize
value|499
end_define

begin_define
define|#
directive|define
name|aa1p1
value|487
end_define

begin_define
define|#
directive|define
name|aa1p2
value|491
end_define

begin_function
name|char
name|lookup
parameter_list|(
name|a0
parameter_list|,
name|a1
parameter_list|,
name|ptr
parameter_list|)
name|char
modifier|*
name|a0
decl_stmt|;
name|struct
name|dict
modifier|*
name|ptr
decl_stmt|;
block|{
return|return
operator|(
name|aahash
argument_list|(
name|a0
argument_list|,
name|a1
argument_list|,
name|aa1tsize
argument_list|,
name|aa1p1
argument_list|,
name|aa1p2
argument_list|,
name|aa1root
argument_list|,
name|ptr
argument_list|)
operator|)
return|;
block|}
end_function

begin_decl_stmt
name|struct
name|hnode
name|aa6root
index|[
literal|113
index|]
decl_stmt|;
end_decl_stmt

begin_define
define|#
directive|define
name|aa6tsize
value|113
end_define

begin_define
define|#
directive|define
name|aa6p1
value|107
end_define

begin_define
define|#
directive|define
name|aa6p2
value|109
end_define

begin_function
name|char
name|ary
parameter_list|(
name|a0
parameter_list|,
name|a1
parameter_list|,
name|ptr
parameter_list|)
name|char
modifier|*
name|a0
decl_stmt|;
name|struct
name|dict
modifier|*
name|ptr
decl_stmt|;
block|{
return|return
operator|(
name|aahash
argument_list|(
name|a0
argument_list|,
name|a1
argument_list|,
name|aa6tsize
argument_list|,
name|aa6p1
argument_list|,
name|aa6p2
argument_list|,
name|aa6root
argument_list|,
name|ptr
argument_list|)
operator|)
return|;
block|}
end_function

begin_decl_stmt
name|struct
name|hnode
name|aa9root
index|[
literal|13
index|]
decl_stmt|;
end_decl_stmt

begin_define
define|#
directive|define
name|aa9tsize
value|13
end_define

begin_define
define|#
directive|define
name|aa9p1
value|7
end_define

begin_define
define|#
directive|define
name|aa9p2
value|1
end_define

begin_function
name|char
name|cy
parameter_list|(
name|a0
parameter_list|,
name|a1
parameter_list|,
name|ptr
parameter_list|)
name|char
modifier|*
name|a0
decl_stmt|;
name|struct
name|dict
modifier|*
name|ptr
decl_stmt|;
block|{
return|return
operator|(
name|aahash
argument_list|(
name|a0
argument_list|,
name|a1
argument_list|,
name|aa9tsize
argument_list|,
name|aa9p1
argument_list|,
name|aa9p2
argument_list|,
name|aa9root
argument_list|,
name|ptr
argument_list|)
operator|)
return|;
block|}
end_function

begin_decl_stmt
name|struct
name|hnode
name|aa12root
index|[
literal|59
index|]
decl_stmt|;
end_decl_stmt

begin_define
define|#
directive|define
name|aa12tsize
value|59
end_define

begin_define
define|#
directive|define
name|aa12p1
value|47
end_define

begin_define
define|#
directive|define
name|aa12p2
value|43
end_define

begin_function
name|char
name|ery
parameter_list|(
name|a0
parameter_list|,
name|a1
parameter_list|,
name|ptr
parameter_list|)
name|char
modifier|*
name|a0
decl_stmt|;
name|struct
name|dict
modifier|*
name|ptr
decl_stmt|;
block|{
return|return
operator|(
name|aahash
argument_list|(
name|a0
argument_list|,
name|a1
argument_list|,
name|aa12tsize
argument_list|,
name|aa12p1
argument_list|,
name|aa12p2
argument_list|,
name|aa12root
argument_list|,
name|ptr
argument_list|)
operator|)
return|;
block|}
end_function

begin_decl_stmt
name|struct
name|hnode
name|aa16root
index|[
literal|23
index|]
decl_stmt|;
end_decl_stmt

begin_define
define|#
directive|define
name|aa16tsize
value|23
end_define

begin_define
define|#
directive|define
name|aa16p1
value|17
end_define

begin_define
define|#
directive|define
name|aa16p2
value|19
end_define

begin_function
name|char
name|fy
parameter_list|(
name|a0
parameter_list|,
name|a1
parameter_list|,
name|ptr
parameter_list|)
name|char
modifier|*
name|a0
decl_stmt|;
name|struct
name|dict
modifier|*
name|ptr
decl_stmt|;
block|{
return|return
operator|(
name|aahash
argument_list|(
name|a0
argument_list|,
name|a1
argument_list|,
name|aa16tsize
argument_list|,
name|aa16p1
argument_list|,
name|aa16p2
argument_list|,
name|aa16root
argument_list|,
name|ptr
argument_list|)
operator|)
return|;
block|}
end_function

begin_decl_stmt
name|struct
name|hnode
name|aa17root
index|[
literal|29
index|]
decl_stmt|;
end_decl_stmt

begin_define
define|#
directive|define
name|aa17tsize
value|29
end_define

begin_define
define|#
directive|define
name|aa17p1
value|19
end_define

begin_define
define|#
directive|define
name|aa17p2
value|23
end_define

begin_function
name|char
name|gy
parameter_list|(
name|a0
parameter_list|,
name|a1
parameter_list|,
name|ptr
parameter_list|)
name|char
modifier|*
name|a0
decl_stmt|;
name|struct
name|dict
modifier|*
name|ptr
decl_stmt|;
block|{
return|return
operator|(
name|aahash
argument_list|(
name|a0
argument_list|,
name|a1
argument_list|,
name|aa17tsize
argument_list|,
name|aa17p1
argument_list|,
name|aa17p2
argument_list|,
name|aa17root
argument_list|,
name|ptr
argument_list|)
operator|)
return|;
block|}
end_function

begin_decl_stmt
name|struct
name|hnode
name|aa27root
index|[
literal|11
index|]
decl_stmt|;
end_decl_stmt

begin_define
define|#
directive|define
name|aa27tsize
value|11
end_define

begin_define
define|#
directive|define
name|aa27p1
value|5
end_define

begin_define
define|#
directive|define
name|aa27p2
value|7
end_define

begin_function
name|char
name|ity
parameter_list|(
name|a0
parameter_list|,
name|a1
parameter_list|,
name|ptr
parameter_list|)
name|char
modifier|*
name|a0
decl_stmt|;
name|struct
name|dict
modifier|*
name|ptr
decl_stmt|;
block|{
return|return
operator|(
name|aahash
argument_list|(
name|a0
argument_list|,
name|a1
argument_list|,
name|aa27tsize
argument_list|,
name|aa27p1
argument_list|,
name|aa27p2
argument_list|,
name|aa27root
argument_list|,
name|ptr
argument_list|)
operator|)
return|;
block|}
end_function

begin_decl_stmt
name|struct
name|hnode
name|aa32root
index|[
literal|281
index|]
decl_stmt|;
end_decl_stmt

begin_define
define|#
directive|define
name|aa32tsize
value|281
end_define

begin_define
define|#
directive|define
name|aa32p1
value|271
end_define

begin_define
define|#
directive|define
name|aa32p2
value|277
end_define

begin_function
name|char
name|ly
parameter_list|(
name|a0
parameter_list|,
name|a1
parameter_list|,
name|ptr
parameter_list|)
name|char
modifier|*
name|a0
decl_stmt|;
name|struct
name|dict
modifier|*
name|ptr
decl_stmt|;
block|{
return|return
operator|(
name|aahash
argument_list|(
name|a0
argument_list|,
name|a1
argument_list|,
name|aa32tsize
argument_list|,
name|aa32p1
argument_list|,
name|aa32p2
argument_list|,
name|aa32root
argument_list|,
name|ptr
argument_list|)
operator|)
return|;
block|}
end_function

begin_decl_stmt
name|struct
name|hnode
name|aa36root
index|[
literal|59
index|]
decl_stmt|;
end_decl_stmt

begin_define
define|#
directive|define
name|aa36tsize
value|59
end_define

begin_define
define|#
directive|define
name|aa36p1
value|47
end_define

begin_define
define|#
directive|define
name|aa36p2
value|43
end_define

begin_function
name|char
name|ory
parameter_list|(
name|a0
parameter_list|,
name|a1
parameter_list|,
name|ptr
parameter_list|)
name|char
modifier|*
name|a0
decl_stmt|;
name|struct
name|dict
modifier|*
name|ptr
decl_stmt|;
block|{
return|return
operator|(
name|aahash
argument_list|(
name|a0
argument_list|,
name|a1
argument_list|,
name|aa36tsize
argument_list|,
name|aa36p1
argument_list|,
name|aa36p2
argument_list|,
name|aa36root
argument_list|,
name|ptr
argument_list|)
operator|)
return|;
block|}
end_function

begin_decl_stmt
name|struct
name|hnode
name|aa38root
index|[
literal|59
index|]
decl_stmt|;
end_decl_stmt

begin_define
define|#
directive|define
name|aa38tsize
value|59
end_define

begin_define
define|#
directive|define
name|aa38p1
value|47
end_define

begin_define
define|#
directive|define
name|aa38p2
value|53
end_define

begin_function
name|char
name|ry
parameter_list|(
name|a0
parameter_list|,
name|a1
parameter_list|,
name|ptr
parameter_list|)
name|char
modifier|*
name|a0
decl_stmt|;
name|struct
name|dict
modifier|*
name|ptr
decl_stmt|;
block|{
return|return
operator|(
name|aahash
argument_list|(
name|a0
argument_list|,
name|a1
argument_list|,
name|aa38tsize
argument_list|,
name|aa38p1
argument_list|,
name|aa38p2
argument_list|,
name|aa38root
argument_list|,
name|ptr
argument_list|)
operator|)
return|;
block|}
end_function

begin_decl_stmt
name|struct
name|hnode
name|aa41root
index|[
literal|127
index|]
decl_stmt|;
end_decl_stmt

begin_define
define|#
directive|define
name|aa41tsize
value|127
end_define

begin_define
define|#
directive|define
name|aa41p1
value|109
end_define

begin_define
define|#
directive|define
name|aa41p2
value|113
end_define

begin_function
name|char
name|ty
parameter_list|(
name|a0
parameter_list|,
name|a1
parameter_list|,
name|ptr
parameter_list|)
name|char
modifier|*
name|a0
decl_stmt|;
name|struct
name|dict
modifier|*
name|ptr
decl_stmt|;
block|{
return|return
operator|(
name|aahash
argument_list|(
name|a0
argument_list|,
name|a1
argument_list|,
name|aa41tsize
argument_list|,
name|aa41p1
argument_list|,
name|aa41p2
argument_list|,
name|aa41root
argument_list|,
name|ptr
argument_list|)
operator|)
return|;
block|}
end_function

begin_struct
struct|struct
name|fandd
block|{
name|char
function_decl|(
modifier|*
name|fun
function_decl|)
parameter_list|()
function_decl|;
name|struct
name|dict
modifier|*
name|yd
decl_stmt|;
block|}
name|arr
index|[]
init|=
block|{
name|ary
block|,
name|ary_d
block|,
name|cy
block|,
name|cy_d
block|,
name|ery
block|,
name|ery_d
block|,
name|fy
block|,
name|fy_d
block|,
name|gy
block|,
name|gy_d
block|,
name|ity
block|,
name|ity_d
block|,
name|ly
block|,
name|ly_d
block|,
name|ory
block|,
name|ory_d
block|,
name|ry
block|,
name|ry_d
block|,
name|ty
block|,
name|ty_d
block|,
literal|0
block|,
literal|0
block|}
struct|;
end_struct

begin_macro
name|ygetd
argument_list|()
end_macro

begin_block
block|{
name|struct
name|fandd
modifier|*
name|ptr
decl_stmt|;
name|struct
name|dict
modifier|*
name|pp
decl_stmt|;
name|ptr
operator|=
name|arr
expr_stmt|;
while|while
condition|(
name|ptr
operator|->
name|fun
operator|!=
literal|0
condition|)
block|{
name|pp
operator|=
name|ptr
operator|->
name|yd
expr_stmt|;
while|while
condition|(
name|pp
operator|->
name|entry
operator|!=
literal|0
condition|)
block|{
call|(
modifier|*
name|ptr
operator|->
name|fun
call|)
argument_list|(
name|pp
operator|->
name|entry
argument_list|,
literal|0
argument_list|,
name|pp
argument_list|)
expr_stmt|;
name|pp
operator|++
expr_stmt|;
block|}
name|ptr
operator|++
expr_stmt|;
block|}
block|}
end_block

begin_decl_stmt
name|struct
name|hnode
name|aa42root
index|[
literal|71
index|]
decl_stmt|;
end_decl_stmt

begin_define
define|#
directive|define
name|aa42tsize
value|71
end_define

begin_define
define|#
directive|define
name|aa42p1
value|61
end_define

begin_define
define|#
directive|define
name|aa42p2
value|67
end_define

begin_function
name|char
name|abbrev
parameter_list|(
name|a0
parameter_list|,
name|a1
parameter_list|,
name|ptr
parameter_list|)
name|char
modifier|*
name|a0
decl_stmt|;
name|struct
name|dict
modifier|*
name|ptr
decl_stmt|;
block|{
return|return
operator|(
name|aahash
argument_list|(
name|a0
argument_list|,
name|a1
argument_list|,
name|aa42tsize
argument_list|,
name|aa42p1
argument_list|,
name|aa42p2
argument_list|,
name|aa42root
argument_list|,
name|ptr
argument_list|)
operator|)
return|;
block|}
end_function

end_unit

