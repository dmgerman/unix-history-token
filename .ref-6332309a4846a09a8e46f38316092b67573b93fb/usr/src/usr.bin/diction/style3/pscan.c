begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_ifndef
ifndef|#
directive|ifndef
name|lint
end_ifndef

begin_decl_stmt
specifier|static
name|char
name|sccsid
index|[]
init|=
literal|"@(#)pscan.c	4.2	(Berkeley)	82/11/06"
decl_stmt|;
end_decl_stmt

begin_endif
endif|#
directive|endif
endif|not lint
end_endif

begin_include
include|#
directive|include
file|"names.h"
end_include

begin_include
include|#
directive|include
file|"conp.h"
end_include

begin_define
define|#
directive|define
name|isadv
parameter_list|(
name|c
parameter_list|)
value|(c == ADV || c == ADJ_ADV)
end_define

begin_define
define|#
directive|define
name|isadj
parameter_list|(
name|c
parameter_list|)
value|(c == ADJ || c == NOUN_ADJ || c == ADJ_ADV || c == UNK)
end_define

begin_define
define|#
directive|define
name|notnoun
parameter_list|(
name|c
parameter_list|)
value|(c != NOUN&& c != UNK&& c != NOUN_VERB&& c != NV_PL&& c != PNOUN)
end_define

begin_define
define|#
directive|define
name|issing
parameter_list|(
name|c
parameter_list|)
value|(c == UNK || c == NOUN_VERB || c == NOUN || c == NOM || c == NOUN_ADJ)
end_define

begin_define
define|#
directive|define
name|isnoun
parameter_list|(
name|c
parameter_list|)
value|(c == NOUN || c == NOUN_VERB || c == NV_PL || c == UNK || c == PNOUN)
end_define

begin_define
define|#
directive|define
name|nounnom
parameter_list|(
name|c
parameter_list|)
value|(c == NOUN || c == NOM)
end_define

begin_decl_stmt
name|char
name|lastc
decl_stmt|,
name|nextc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|savsub
decl_stmt|;
end_decl_stmt

begin_macro
name|scan
argument_list|(
argument|si
argument_list|,
argument|ce
argument_list|,
argument|command
argument_list|)
end_macro

begin_comment
comment|/*scan a phrase */
end_comment

begin_decl_stmt
name|int
name|si
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|ce
decl_stmt|;
end_decl_stmt

begin_block
block|{
name|int
name|savi
decl_stmt|;
name|char
name|c
decl_stmt|;
name|i
operator|=
name|si
expr_stmt|;
if|if
condition|(
name|command
operator|==
literal|1
condition|)
name|subty
operator|=
name|PLURAL
expr_stmt|;
else|else
name|subty
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|==
name|ADJ_ADV
operator|&&
name|sent
index|[
name|i
operator|+
literal|1
index|]
operator|.
name|cc
operator|!=
name|NOUN
operator|&&
name|sent
index|[
name|i
operator|+
literal|1
index|]
operator|.
name|cc
operator|!=
name|UNK
operator|&&
name|sent
index|[
name|i
operator|+
literal|1
index|]
operator|.
name|cc
operator|!=
name|ADJ
condition|)
name|sent
index|[
name|i
operator|++
index|]
operator|.
name|cc
operator|=
name|ADV
expr_stmt|;
name|done
operator|=
literal|0
expr_stmt|;
name|verb
operator|=
literal|0
expr_stmt|;
name|verb
operator|=
name|getv
argument_list|(
name|i
argument_list|,
name|ce
argument_list|)
expr_stmt|;
comment|/*get verb if obvious*/
if|if
condition|(
name|command
operator|==
literal|0
condition|)
name|j
operator|=
name|getnoun
argument_list|(
name|i
argument_list|,
name|ce
argument_list|)
expr_stmt|;
comment|/*get subject*/
else|else
name|j
operator|=
name|si
expr_stmt|;
if|if
condition|(
name|i
operator|!=
name|j
operator|||
operator|(
operator|(
name|i
operator|==
name|j
operator|)
operator|&&
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|==
name|NOUN
operator|)
condition|)
block|{
name|i
operator|=
name|j
operator|+
literal|1
expr_stmt|;
block|}
for|for
control|(
init|;
operator|(
operator|(
name|c
operator|=
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|)
operator|!=
name|ce
operator|)
operator|&&
operator|(
name|c
operator|!=
name|END
operator|)
operator|&&
operator|(
name|c
operator|!=
literal|'\0'
operator|)
condition|;
name|i
operator|++
control|)
block|{
name|nextc
operator|=
name|sent
index|[
name|i
operator|+
literal|1
index|]
operator|.
name|cc
expr_stmt|;
if|if
condition|(
name|i
operator|>
literal|0
condition|)
block|{
name|lastc
operator|=
name|sent
index|[
name|i
operator|-
literal|1
index|]
operator|.
name|cc
expr_stmt|;
if|if
condition|(
name|lastc
operator|==
name|BE
condition|)
name|be
operator|=
literal|1
expr_stmt|;
else|else
block|{
if|if
condition|(
name|lastc
operator|!=
name|ADV
condition|)
name|be
operator|=
literal|0
expr_stmt|;
block|}
block|}
else|else
name|lastc
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|verb
operator|==
literal|1
condition|)
name|question
operator|=
literal|0
expr_stmt|;
switch|switch
condition|(
name|c
condition|)
block|{
case|case
literal|'"'
case|:
if|if
condition|(
name|nextc
operator|==
name|ED
operator|||
name|nextc
operator|==
name|MVERB
condition|)
block|{
name|verb
operator|=
literal|1
expr_stmt|;
name|sent
index|[
operator|++
name|i
index|]
operator|.
name|cc
operator|=
name|VERB
expr_stmt|;
name|subty
operator|=
name|SING
expr_stmt|;
continue|continue;
block|}
name|subty
operator|=
literal|0
expr_stmt|;
name|verb
operator|=
name|getv
argument_list|(
operator|++
name|i
argument_list|,
name|ce
argument_list|)
expr_stmt|;
name|i
operator|=
name|getnoun
argument_list|(
name|i
argument_list|,
name|ce
argument_list|)
expr_stmt|;
continue|continue;
case|case
name|MVERB
case|:
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|VERB
expr_stmt|;
if|if
condition|(
name|i
operator|<
name|nsleng
operator|*
literal|.5
condition|)
block|{
name|verb
operator|=
name|getv
argument_list|(
operator|++
name|i
argument_list|,
name|ce
argument_list|)
expr_stmt|;
name|i
operator|=
name|getnoun
argument_list|(
name|i
argument_list|,
name|ce
argument_list|)
expr_stmt|;
continue|continue;
block|}
continue|continue;
case|case
name|ART
case|:
case|case
name|ADJ
case|:
case|case
name|POS
case|:
case|case
name|ING
case|:
name|aflg
operator|=
literal|1
expr_stmt|;
name|i
operator|=
name|getnoun
argument_list|(
name|i
argument_list|,
name|ce
argument_list|)
expr_stmt|;
name|aflg
operator|=
literal|0
expr_stmt|;
continue|continue;
case|case
name|PREP
case|:
if|if
condition|(
name|nextc
operator|==
name|ce
condition|)
block|{
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|ADV
expr_stmt|;
goto|goto
name|sdone
goto|;
block|}
name|prep
operator|=
literal|1
expr_stmt|;
name|i
operator|=
name|getnoun
argument_list|(
operator|++
name|i
argument_list|,
name|ce
argument_list|)
expr_stmt|;
name|prep
operator|=
literal|0
expr_stmt|;
continue|continue;
case|case
name|VERB_ADJ
case|:
if|if
condition|(
name|verb
operator|==
literal|0
condition|)
block|{
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|VERB
expr_stmt|;
name|verb
operator|=
literal|1
expr_stmt|;
continue|continue;
block|}
case|case
name|NOUN_ADJ
case|:
if|if
condition|(
name|be
operator|==
literal|1
condition|)
block|{
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
continue|continue;
block|}
case|case
name|PRONP_ADJ
case|:
case|case
name|PRONS_ADJ
case|:
name|i
operator|=
name|getnoun
argument_list|(
name|i
argument_list|,
name|ce
argument_list|)
expr_stmt|;
continue|continue;
case|case
name|NOUN_ADV
case|:
if|if
condition|(
name|verb
operator|==
literal|1
operator|&&
name|iverb
operator|==
name|i
operator|+
literal|1
condition|)
block|{
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|NOUN
expr_stmt|;
block|}
else|else
block|{
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|ADV
expr_stmt|;
block|}
continue|continue;
case|case
name|ADJ_ADV
case|:
if|if
condition|(
name|be
operator|==
literal|1
condition|)
block|{
if|if
condition|(
name|isadj
argument_list|(
name|nextc
argument_list|)
condition|)
block|{
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|ADV
expr_stmt|;
continue|continue;
block|}
if|if
condition|(
name|nextc
operator|==
literal|','
operator|&&
name|isadv
argument_list|(
name|sent
index|[
name|i
operator|+
literal|2
index|]
operator|.
name|cc
argument_list|)
condition|)
block|{
name|sent
index|[
name|i
operator|++
index|]
operator|.
name|cc
operator|=
name|ADV
expr_stmt|;
name|sent
index|[
operator|++
name|i
index|]
operator|.
name|cc
operator|=
name|ADV
expr_stmt|;
name|comma
operator|--
expr_stmt|;
continue|continue;
block|}
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
continue|continue;
block|}
if|if
condition|(
name|lastc
operator|==
name|NOUN
operator|&&
operator|(
name|nextc
operator|==
literal|','
operator|||
name|nextc
operator|==
name|END
operator|)
condition|)
block|{
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
continue|continue;
block|}
if|if
condition|(
name|notnoun
argument_list|(
name|nextc
argument_list|)
condition|)
block|{
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|ADV
expr_stmt|;
continue|continue;
block|}
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
continue|continue;
case|case
name|WHO
case|:
name|i
operator|=
name|who
argument_list|(
name|i
argument_list|,
name|ce
argument_list|)
expr_stmt|;
continue|continue;
case|case
name|PRONP
case|:
name|subty
operator|=
name|PLURAL
expr_stmt|;
continue|continue;
case|case
name|NOUN
case|:
if|if
condition|(
name|nextc
operator|==
name|NOUN
condition|)
block|{
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
continue|continue;
block|}
case|case
name|PRONS
case|:
name|subty
operator|=
name|SING
expr_stmt|;
continue|continue;
case|case
name|PNOUN
case|:
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|NOUN
expr_stmt|;
if|if
condition|(
name|subty
operator|==
literal|0
condition|)
name|subty
operator|=
name|PLURAL
expr_stmt|;
continue|continue;
case|case
name|CONJ
case|:
if|if
condition|(
name|nextc
operator|==
name|UNK
operator|||
name|nextc
operator|==
name|NOUN_VERB
operator|||
name|nextc
operator|==
name|NV_PL
condition|)
block|{
if|if
condition|(
name|lastc
operator|==
name|ADJ
condition|)
name|sent
index|[
operator|++
name|i
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
else|else
name|sent
index|[
operator|++
name|i
index|]
operator|.
name|cc
operator|=
name|VERB
expr_stmt|;
block|}
if|if
condition|(
name|nextc
operator|==
name|ED
condition|)
block|{
name|sent
index|[
operator|++
name|i
index|]
operator|.
name|cc
operator|=
name|VERB
expr_stmt|;
block|}
continue|continue;
case|case
name|AUXP
case|:
case|case
name|AUXS
case|:
case|case
name|BES
case|:
case|case
name|BEP
case|:
case|case
name|AUXV
case|:
case|case
name|AUX
case|:
case|case
name|HAS
case|:
case|case
name|HAVE
case|:
case|case
name|HAD
case|:
name|verb
operator|=
name|getv
argument_list|(
name|i
argument_list|,
name|ce
argument_list|)
expr_stmt|;
continue|continue;
case|case
name|ADV
case|:
case|case
name|AUXX
case|:
case|case
name|VERB
case|:
case|case
name|BE
case|:
case|case
name|INTER
case|:
continue|continue;
case|case
name|THAT
case|:
if|if
condition|(
name|nextc
operator|==
name|SUBCONJ
condition|)
block|{
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|PRONP
expr_stmt|;
goto|goto
name|subc
goto|;
block|}
name|verb
operator|=
name|getv
argument_list|(
name|i
operator|+
literal|1
argument_list|,
name|ce
argument_list|)
expr_stmt|;
name|j
operator|=
name|i
operator|+
literal|1
expr_stmt|;
while|while
condition|(
name|isadv
argument_list|(
name|sent
index|[
name|j
index|]
operator|.
name|cc
argument_list|)
condition|)
block|{
name|j
operator|++
expr_stmt|;
block|}
name|nextc
operator|=
name|sent
index|[
name|j
index|]
operator|.
name|cc
expr_stmt|;
if|if
condition|(
operator|(
name|verb
operator|==
literal|1
operator|&&
name|iverb
operator|==
name|j
operator|)
operator|||
name|nextc
operator|==
name|ED
operator|||
name|nextc
operator|==
name|VERB_ADJ
condition|)
block|{
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|PRONP
expr_stmt|;
while|while
condition|(
name|i
operator|+
literal|1
operator|<
name|j
condition|)
name|sent
index|[
operator|++
name|i
index|]
operator|.
name|cc
operator|=
name|ADV
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|verb
operator|==
literal|0
operator|&&
name|nextc
operator|==
name|NV_PL
operator|&&
operator|(
operator|(
name|lastc
operator|==
name|NOUN
operator|&&
name|issing
argument_list|(
name|sent
index|[
name|i
operator|-
literal|1
index|]
operator|.
name|ic
argument_list|)
operator|)
operator|||
name|lastc
operator|==
literal|','
operator|)
condition|)
block|{
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|PRONP
expr_stmt|;
name|subty
operator|=
name|SING
expr_stmt|;
while|while
condition|(
name|i
operator|+
literal|1
operator|<
name|j
condition|)
name|sent
index|[
operator|++
name|i
index|]
operator|.
name|cc
operator|=
name|ADV
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|verb
operator|==
literal|0
operator|&&
operator|(
name|nextc
operator|==
name|UNK
operator|||
name|nextc
operator|==
name|NOUN_VERB
operator|)
operator|&&
operator|(
name|lastc
operator|==
name|NOUN
operator|&&
name|sent
index|[
name|i
operator|-
literal|1
index|]
operator|.
name|ic
operator|==
name|NV_PL
operator|)
condition|)
block|{
name|subty
operator|=
name|PLURAL
expr_stmt|;
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|PRONP
expr_stmt|;
while|while
condition|(
name|i
operator|+
literal|1
operator|<
name|j
condition|)
name|sent
index|[
operator|++
name|i
index|]
operator|.
name|cc
operator|=
name|ADV
expr_stmt|;
block|}
else|else
block|{
if|if
condition|(
name|i
operator|==
literal|0
condition|)
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
else|else
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|SUBCONJ
expr_stmt|;
name|j
operator|=
name|i
expr_stmt|;
name|subty
operator|=
literal|0
expr_stmt|;
name|i
operator|=
name|getnoun
argument_list|(
name|i
operator|+
literal|1
argument_list|,
name|ce
argument_list|)
expr_stmt|;
if|if
condition|(
name|done
condition|)
name|sent
index|[
name|j
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
block|}
continue|continue;
case|case
literal|','
case|:
if|if
condition|(
name|nextc
operator|!=
name|CONJ
condition|)
block|{
comment|/*parenthetical*/
continue|continue;
block|}
name|i
operator|++
expr_stmt|;
name|comma
operator|--
expr_stmt|;
if|if
condition|(
name|sent
index|[
name|i
operator|+
literal|1
index|]
operator|.
name|cc
operator|==
name|ED
operator|||
name|sent
index|[
name|i
operator|+
literal|1
index|]
operator|.
name|cc
operator|==
name|MVERB
condition|)
block|{
name|sent
index|[
operator|++
name|i
index|]
operator|.
name|cc
operator|=
name|VERB
expr_stmt|;
continue|continue;
block|}
if|if
condition|(
name|command
operator|==
literal|1
condition|)
block|{
name|verb
operator|=
name|getv
argument_list|(
operator|++
name|i
argument_list|,
name|ce
argument_list|)
expr_stmt|;
continue|continue;
block|}
case|case
name|SUBCONJ
case|:
name|subc
label|:
name|savi
operator|=
name|i
expr_stmt|;
if|if
condition|(
name|nextc
operator|==
name|END
operator|||
operator|(
name|lastc
operator|==
literal|','
operator|&&
name|nextc
operator|==
literal|','
operator|)
condition|)
block|{
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|ADV
expr_stmt|;
continue|continue;
block|}
name|subty
operator|=
literal|0
expr_stmt|;
name|ce
operator|=
literal|','
expr_stmt|;
name|verb
operator|=
name|getv
argument_list|(
operator|++
name|i
argument_list|,
name|ce
argument_list|)
expr_stmt|;
if|if
condition|(
name|sent
index|[
name|savi
operator|+
literal|1
index|]
operator|.
name|cc
operator|==
name|VERB
operator|||
name|sent
index|[
name|savi
operator|+
literal|1
index|]
operator|.
name|cc
operator|==
name|AUXX
condition|)
if|if
condition|(
name|sent
index|[
name|savi
index|]
operator|.
name|cc
operator|==
name|SUBCONJ
condition|)
name|sent
index|[
name|savi
index|]
operator|.
name|cc
operator|=
name|ADV
expr_stmt|;
name|i
operator|=
name|getnoun
argument_list|(
name|i
argument_list|,
name|ce
argument_list|)
expr_stmt|;
continue|continue;
case|case
name|PREP_ADV
case|:
if|if
condition|(
name|sent
index|[
name|i
operator|+
literal|2
index|]
operator|.
name|cc
operator|==
name|PREP_ADV
operator|&&
operator|(
name|sent
index|[
name|i
operator|+
literal|1
index|]
operator|.
name|cc
operator|!=
name|NOUN
operator|&&
name|sent
index|[
name|i
operator|+
literal|1
index|]
operator|.
name|cc
operator|!=
name|NOUN_VERB
operator|&&
name|sent
index|[
name|i
operator|+
literal|1
index|]
operator|.
name|cc
operator|!=
name|NV_PL
operator|&&
name|sent
index|[
name|i
operator|+
literal|1
index|]
operator|.
name|cc
operator|!=
name|PNOUN
operator|)
condition|)
block|{
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|ADV
expr_stmt|;
name|sent
index|[
name|i
operator|+
literal|2
index|]
operator|.
name|cc
operator|=
name|CONJ
expr_stmt|;
continue|continue;
block|}
name|sav
operator|=
name|i
operator|++
expr_stmt|;
name|savsub
operator|=
name|subty
expr_stmt|;
name|pverb
operator|=
name|getv
argument_list|(
name|i
argument_list|,
name|ce
argument_list|)
expr_stmt|;
if|if
condition|(
operator|(
name|pverb
operator|==
literal|1
operator|&&
name|iverb
operator|==
name|i
operator|)
operator|||
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|==
name|ED
condition|)
block|{
name|sent
index|[
name|sav
index|]
operator|.
name|cc
operator|=
name|PRONP
expr_stmt|;
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|VERB
expr_stmt|;
continue|continue;
block|}
name|i
operator|=
name|getnoun
argument_list|(
name|i
argument_list|,
name|ce
argument_list|)
expr_stmt|;
if|if
condition|(
name|done
operator|==
literal|1
condition|)
block|{
name|sent
index|[
name|sav
index|]
operator|.
name|cc
operator|=
name|ADV
expr_stmt|;
goto|goto
name|sdone
goto|;
block|}
if|if
condition|(
name|pverb
operator|==
literal|1
operator|&&
name|iverb
operator|==
name|i
operator|+
literal|1
condition|)
block|{
name|sent
index|[
name|sav
index|]
operator|.
name|cc
operator|=
name|SUBCONJ
expr_stmt|;
name|ce
operator|=
literal|','
expr_stmt|;
continue|continue;
block|}
switch|switch
condition|(
name|sent
index|[
name|i
operator|+
literal|1
index|]
operator|.
name|cc
condition|)
block|{
case|case
name|UNK
case|:
case|case
name|NV_PL
case|:
case|case
name|NOUN_VERB
case|:
case|case
name|ED
case|:
name|sent
index|[
name|sav
index|]
operator|.
name|cc
operator|=
name|SUBCONJ
expr_stmt|;
name|verb
operator|=
literal|0
expr_stmt|;
name|ce
operator|=
literal|','
expr_stmt|;
continue|continue;
default|default:
name|sent
index|[
name|sav
index|]
operator|.
name|cc
operator|=
name|PREP
expr_stmt|;
name|subty
operator|=
name|savsub
expr_stmt|;
continue|continue;
block|}
case|case
name|TO
case|:
name|savi
operator|=
name|i
expr_stmt|;
name|sent
index|[
name|i
operator|++
index|]
operator|.
name|cc
operator|=
name|VERB
expr_stmt|;
name|sw
label|:
switch|switch
condition|(
name|nextc
condition|)
block|{
case|case
name|UNK
case|:
case|case
name|AUXS
case|:
case|case
name|VERB_ADJ
case|:
case|case
name|NOUN_VERB
case|:
case|case
name|VERB
case|:
case|case
name|MVERB
case|:
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|VERB
expr_stmt|;
continue|continue;
case|case
name|HAVE
case|:
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|VERB
expr_stmt|;
if|if
condition|(
name|sent
index|[
name|i
operator|+
literal|1
index|]
operator|.
name|cc
operator|==
name|ED
condition|)
block|{
name|sent
index|[
operator|++
name|i
index|]
operator|.
name|cc
operator|=
name|VERB
expr_stmt|;
continue|continue;
block|}
if|if
condition|(
name|sent
index|[
name|i
operator|+
literal|1
index|]
operator|.
name|cc
operator|==
name|ADV
condition|)
name|i
operator|++
expr_stmt|;
if|if
condition|(
name|sent
index|[
name|i
operator|+
literal|1
index|]
operator|.
name|cc
operator|!=
name|BE
condition|)
continue|continue;
name|i
operator|++
expr_stmt|;
case|case
name|BE
case|:
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|VERB
expr_stmt|;
if|if
condition|(
name|sent
index|[
name|i
operator|+
literal|1
index|]
operator|.
name|cc
operator|==
name|ADV
condition|)
name|i
operator|++
expr_stmt|;
if|if
condition|(
name|sent
index|[
name|i
operator|+
literal|1
index|]
operator|.
name|cc
operator|==
name|ED
operator|||
name|sent
index|[
name|i
operator|+
literal|1
index|]
operator|.
name|cc
operator|==
name|ING
condition|)
block|{
name|sent
index|[
operator|++
name|i
index|]
operator|.
name|cc
operator|=
name|VERB
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|sent
index|[
name|i
operator|+
literal|1
index|]
operator|.
name|cc
operator|==
name|UNK
condition|)
block|{
name|sent
index|[
operator|++
name|i
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
block|}
continue|continue;
case|case
name|ADV
case|:
name|nextc
operator|=
name|sent
index|[
operator|++
name|i
index|]
operator|.
name|cc
expr_stmt|;
goto|goto
name|sw
goto|;
default|default:
name|sent
index|[
name|savi
index|]
operator|.
name|cc
operator|=
name|PREP
expr_stmt|;
name|prep
operator|=
literal|1
expr_stmt|;
name|i
operator|=
name|getnoun
argument_list|(
name|i
argument_list|,
name|ce
argument_list|)
expr_stmt|;
name|prep
operator|=
literal|0
expr_stmt|;
continue|continue;
block|}
case|case
name|NV_PL
case|:
if|if
condition|(
name|subty
operator|==
literal|0
condition|)
block|{
name|i
operator|=
name|getnoun
argument_list|(
name|i
argument_list|,
name|ce
argument_list|)
expr_stmt|;
name|subty
operator|=
name|PLURAL
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|verb
operator|==
literal|0
condition|)
block|{
comment|/*need verb*/
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|VERB
expr_stmt|;
name|verb
operator|=
literal|1
expr_stmt|;
block|}
else|else
block|{
name|i
operator|=
name|getnoun
argument_list|(
name|i
argument_list|,
name|ce
argument_list|)
expr_stmt|;
block|}
continue|continue;
case|case
name|UNK
case|:
case|case
name|NOUN_VERB
case|:
if|if
condition|(
name|verb
operator|==
literal|1
condition|)
block|{
if|if
condition|(
name|be
operator|==
literal|1
operator|&&
name|nextc
operator|!=
name|WHO
condition|)
block|{
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
continue|continue;
block|}
name|i
operator|=
name|getnoun
argument_list|(
name|i
argument_list|,
name|ce
argument_list|)
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|nextc
operator|==
name|NV_PL
operator|&&
name|isnoun
argument_list|(
name|sent
index|[
name|i
operator|+
literal|2
index|]
operator|.
name|cc
argument_list|)
condition|)
block|{
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|NOUN
expr_stmt|;
if|if
condition|(
name|sent
index|[
name|i
operator|-
literal|1
index|]
operator|.
name|cc
operator|==
name|NOUN
condition|)
block|{
name|sent
index|[
name|i
operator|-
literal|1
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
block|}
name|subty
operator|=
name|SING
expr_stmt|;
continue|continue;
block|}
elseif|else
if|if
condition|(
name|subty
operator|==
literal|0
condition|)
block|{
name|i
operator|=
name|getnoun
argument_list|(
name|i
argument_list|,
name|ce
argument_list|)
expr_stmt|;
continue|continue;
block|}
else|else
block|{
comment|/* desparation */
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|VERB
expr_stmt|;
name|verb
operator|=
literal|1
expr_stmt|;
block|}
continue|continue;
case|case
name|ED
case|:
if|if
condition|(
name|verb
operator|==
literal|0
condition|)
block|{
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|VERB
expr_stmt|;
name|verb
operator|=
literal|1
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|sent
index|[
name|i
operator|-
literal|1
index|]
operator|.
name|cc
operator|==
name|BE
condition|)
block|{
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
name|VERB
expr_stmt|;
block|}
else|else
block|{
name|i
operator|=
name|getnoun
argument_list|(
name|i
argument_list|,
name|ce
argument_list|)
expr_stmt|;
block|}
continue|continue;
default|default:
name|printf
argument_list|(
literal|"got a %c %o on %sat %d\n"
argument_list|,
name|sent
index|[
name|i
index|]
operator|.
name|cc
argument_list|,
name|sent
index|[
name|i
index|]
operator|.
name|cc
argument_list|,
name|sent
index|[
name|i
index|]
operator|.
name|sp
argument_list|,
name|i
argument_list|)
expr_stmt|;
block|}
block|}
name|sdone
label|:
if|if
condition|(
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|==
name|END
operator|&&
name|sent
index|[
name|i
index|]
operator|.
name|ic
operator|!=
literal|';'
condition|)
return|return
operator|(
operator|-
literal|1
operator|)
return|;
else|else
block|{
if|if
condition|(
name|sent
index|[
name|i
index|]
operator|.
name|ic
operator|==
literal|';'
condition|)
name|sent
index|[
name|i
index|]
operator|.
name|cc
operator|=
literal|';'
expr_stmt|;
else|else
name|comma
operator|--
expr_stmt|;
return|return
operator|(
name|i
operator|)
return|;
block|}
block|}
end_block

begin_macro
name|getv
argument_list|(
argument|si
argument_list|,
argument|ce
argument_list|)
end_macro

begin_decl_stmt
name|int
name|si
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
name|ce
decl_stmt|;
end_decl_stmt

begin_block
block|{
name|int
name|conj
decl_stmt|;
name|char
name|c
decl_stmt|;
name|int
name|ik
decl_stmt|;
name|must
operator|=
literal|0
expr_stmt|;
name|bflg
operator|=
literal|0
expr_stmt|;
name|hflg
operator|=
literal|0
expr_stmt|;
name|verbty
operator|=
literal|0
expr_stmt|;
for|for
control|(
name|j
operator|=
name|si
init|;
operator|(
operator|(
name|c
operator|=
name|sent
index|[
name|j
index|]
operator|.
name|cc
operator|)
operator|!=
name|ce
operator|)
operator|&&
operator|(
name|c
operator|!=
name|END
operator|)
condition|;
name|j
operator|++
control|)
block|{
name|iverb
operator|=
name|j
expr_stmt|;
switch|switch
condition|(
name|c
condition|)
block|{
case|case
name|ED
case|:
continue|continue;
case|case
name|HAS
case|:
name|hflg
operator|=
literal|1
expr_stmt|;
name|verbty
operator|=
name|SING
expr_stmt|;
name|sent
index|[
name|j
index|]
operator|.
name|cc
operator|=
name|AUXX
expr_stmt|;
goto|goto
name|next
goto|;
case|case
name|HAVE
case|:
if|if
condition|(
name|sent
index|[
name|j
operator|-
literal|1
index|]
operator|.
name|cc
operator|==
name|TO
condition|)
block|{
continue|continue;
block|}
case|case
name|HAD
case|:
name|hflg
operator|=
literal|1
expr_stmt|;
name|verbty
operator|=
name|PLURAL
expr_stmt|;
name|sent
index|[
name|j
index|]
operator|.
name|cc
operator|=
name|AUXX
expr_stmt|;
goto|goto
name|next
goto|;
case|case
name|BE
case|:
if|if
condition|(
name|sent
index|[
name|j
index|]
operator|.
name|ic
operator|!=
name|BE
condition|)
block|{
return|return
operator|(
literal|1
operator|)
return|;
block|}
continue|continue;
case|case
name|VERB
case|:
if|if
condition|(
name|sent
index|[
name|j
operator|-
literal|1
index|]
operator|.
name|cc
operator|==
name|TO
condition|)
block|{
continue|continue;
block|}
return|return
operator|(
literal|1
operator|)
return|;
case|case
name|AUXX
case|:
return|return
operator|(
literal|1
operator|)
return|;
case|case
name|AUXP
case|:
name|must
operator|=
literal|1
expr_stmt|;
name|verbty
operator|=
name|PLURAL
expr_stmt|;
name|sent
index|[
name|j
index|]
operator|.
name|cc
operator|=
name|AUXX
expr_stmt|;
goto|goto
name|next
goto|;
case|case
name|AUXS
case|:
if|if
condition|(
name|sent
index|[
name|j
operator|-
literal|1
index|]
operator|.
name|cc
operator|==
name|TO
condition|)
block|{
continue|continue;
block|}
name|verbty
operator|=
name|SING
expr_stmt|;
name|sent
index|[
name|j
index|]
operator|.
name|cc
operator|=
name|AUXX
expr_stmt|;
goto|goto
name|next
goto|;
case|case
name|AUX
case|:
case|case
name|AUXV
case|:
name|must
operator|=
literal|1
expr_stmt|;
name|sent
index|[
name|j
index|]
operator|.
name|cc
operator|=
name|AUXX
expr_stmt|;
name|next
label|:
if|if
condition|(
name|sent
index|[
name|j
operator|-
literal|1
index|]
operator|.
name|cc
operator|==
name|CONJ
operator|&&
name|verb
operator|==
literal|0
condition|)
name|conj
operator|=
literal|0
expr_stmt|;
else|else
name|conj
operator|=
literal|1
expr_stmt|;
if|if
condition|(
name|question
operator|==
literal|1
condition|)
block|{
name|j
operator|=
name|getnoun
argument_list|(
name|j
operator|+
literal|1
argument_list|,
name|ce
argument_list|)
expr_stmt|;
name|question
operator|=
literal|0
expr_stmt|;
block|}
name|getv2
argument_list|(
name|ce
argument_list|)
expr_stmt|;
if|if
condition|(
name|sent
index|[
name|j
index|]
operator|.
name|cc
operator|==
name|AUXX
condition|)
block|{
name|sent
index|[
name|j
index|]
operator|.
name|cc
operator|=
name|VERB
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|sent
index|[
name|j
index|]
operator|.
name|cc
operator|!=
name|VERB
operator|&&
name|sent
index|[
name|j
index|]
operator|.
name|cc
operator|!=
name|BE
operator|)
operator|&&
name|sent
index|[
name|iverb
index|]
operator|.
name|cc
operator|==
name|AUXX
condition|)
block|{
name|sent
index|[
name|iverb
index|]
operator|.
name|cc
operator|=
name|VERB
expr_stmt|;
for|for
control|(
name|ik
operator|=
name|iverb
operator|+
literal|1
init|;
name|ik
operator|<=
name|j
condition|;
name|ik
operator|++
control|)
block|{
if|if
condition|(
name|sent
index|[
name|ik
index|]
operator|.
name|ic
operator|==
name|NOM
condition|)
name|sent
index|[
name|ik
index|]
operator|.
name|cc
operator|=
name|NOUN
expr_stmt|;
else|else
name|sent
index|[
name|ik
index|]
operator|.
name|cc
operator|=
name|sent
index|[
name|ik
index|]
operator|.
name|ic
expr_stmt|;
block|}
block|}
return|return
operator|(
name|conj
operator|)
return|;
case|case
name|BES
case|:
name|verbty
operator|=
name|SING
expr_stmt|;
name|bflg
operator|=
literal|1
expr_stmt|;
name|sent
index|[
name|j
index|]
operator|.
name|cc
operator|=
name|BE
expr_stmt|;
goto|goto
name|next
goto|;
case|case
name|BEP
case|:
name|verbty
operator|=
name|PLURAL
expr_stmt|;
name|bflg
operator|=
literal|1
expr_stmt|;
name|sent
index|[
name|j
index|]
operator|.
name|cc
operator|=
name|BE
expr_stmt|;
goto|goto
name|next
goto|;
case|case
name|SUBCONJ
case|:
if|if
condition|(
name|sent
index|[
name|j
operator|-
literal|1
index|]
operator|.
name|cc
operator|==
literal|','
operator|&&
name|sent
index|[
name|j
operator|+
literal|1
index|]
operator|.
name|cc
operator|==
literal|','
condition|)
block|{
continue|continue;
block|}
case|case
name|THAT
case|:
case|case
name|WHO
case|:
goto|goto
name|vdone
goto|;
case|case
literal|','
case|:
if|if
condition|(
name|comma
operator|==
literal|1
operator|&&
name|sent
index|[
name|j
operator|+
literal|1
index|]
operator|.
name|cc
operator|==
name|CONJ
condition|)
block|{
goto|goto
name|vdone
goto|;
block|}
block|}
block|}
name|vdone
label|:
return|return
operator|(
literal|0
operator|)
return|;
block|}
end_block

begin_macro
name|getv2
argument_list|(
argument|ce
argument_list|)
end_macro

begin_decl_stmt
name|char
name|ce
decl_stmt|;
end_decl_stmt

begin_block
block|{
name|int
name|vflg
decl_stmt|;
name|char
name|c
decl_stmt|;
name|vflg
operator|=
literal|0
expr_stmt|;
while|while
condition|(
operator|(
operator|(
name|c
operator|=
name|sent
index|[
operator|++
name|j
index|]
operator|.
name|cc
operator|)
operator|!=
name|ce
operator|)
operator|&&
operator|(
name|c
operator|!=
name|END
operator|)
condition|)
block|{
switch|switch
condition|(
name|c
condition|)
block|{
case|case
name|NOUN_ADV
case|:
case|case
name|ADJ_ADV
case|:
if|if
condition|(
name|bflg
operator|==
literal|0
operator|||
name|sent
index|[
name|j
operator|+
literal|1
index|]
operator|.
name|cc
operator|==
name|ED
operator|||
name|sent
index|[
name|j
operator|+
literal|1
index|]
operator|.
name|cc
operator|==
name|ING
condition|)
block|{
name|sent
index|[
name|j
index|]
operator|.
name|cc
operator|=
name|ADV
expr_stmt|;
block|}
else|else
block|{
name|j
operator|-=
literal|1
expr_stmt|;
return|return;
block|}
case|case
name|ADV
case|:
continue|continue;
case|case
name|SUBCONJ
case|:
if|if
condition|(
name|sent
index|[
name|j
operator|+
literal|1
index|]
operator|.
name|cc
operator|==
name|ED
operator|||
name|sent
index|[
name|j
operator|+
literal|1
index|]
operator|.
name|cc
operator|==
name|ING
operator|||
name|sent
index|[
name|j
operator|+
literal|1
index|]
operator|.
name|cc
operator|==
name|ADV
operator|||
name|sent
index|[
name|j
operator|+
literal|1
index|]
operator|.
name|cc
operator|==
name|ADJ_ADV
condition|)
name|sent
index|[
name|j
index|]
operator|.
name|cc
operator|=
name|ADV
expr_stmt|;
else|else
return|return;
continue|continue;
case|case
name|VERB
case|:
return|return;
case|case
name|VERB_ADJ
case|:
case|case
name|ED
case|:
name|sent
index|[
name|j
index|]
operator|.
name|cc
operator|=
name|VERB
expr_stmt|;
return|return;
case|case
name|BE
case|:
name|must
operator|=
literal|0
expr_stmt|;
name|bflg
operator|=
literal|1
expr_stmt|;
continue|continue;
case|case
name|ING
case|:
if|if
condition|(
name|bflg
operator|==
literal|1
condition|)
block|{
name|sent
index|[
name|j
index|]
operator|.
name|cc
operator|=
name|VERB
expr_stmt|;
block|}
else|else
block|{
name|j
operator|-=
literal|1
expr_stmt|;
block|}
return|return;
case|case
name|NOUN_VERB
case|:
case|case
name|UNK
case|:
if|if
condition|(
name|bflg
operator|==
literal|1
operator|||
name|vflg
operator|==
literal|1
operator|||
name|hflg
operator|==
literal|1
condition|)
block|{
name|j
operator|-=
literal|1
expr_stmt|;
return|return;
block|}
name|sent
index|[
name|j
index|]
operator|.
name|cc
operator|=
name|VERB
expr_stmt|;
return|return;
case|case
name|PRONP_ADJ
case|:
case|case
name|PRONS_ADJ
case|:
name|c
operator|=
name|sent
index|[
name|j
operator|+
literal|1
index|]
operator|.
name|cc
expr_stmt|;
if|if
condition|(
name|c
operator|==
name|ED
operator|||
name|c
operator|==
name|ING
operator|||
name|c
operator|==
name|BE
operator|||
name|must
operator|==
literal|1
condition|)
block|{
name|sent
index|[
name|j
index|]
operator|.
name|cc
operator|=
name|ADV
expr_stmt|;
block|}
else|else
block|{
name|j
operator|-=
literal|1
expr_stmt|;
return|return;
block|}
continue|continue;
case|case
name|AUXV
case|:
case|case
name|AUX
case|:
case|case
name|AUXP
case|:
case|case
name|AUXS
case|:
case|case
name|HAD
case|:
case|case
name|HAVE
case|:
case|case
name|HAS
case|:
name|must
operator|=
literal|0
expr_stmt|;
name|vflg
operator|=
literal|1
expr_stmt|;
name|sent
index|[
name|j
index|]
operator|.
name|cc
operator|=
name|AUXX
expr_stmt|;
continue|continue;
default|default:
name|j
operator|-=
literal|1
expr_stmt|;
return|return;
block|}
block|}
name|j
operator|-=
literal|1
expr_stmt|;
block|}
end_block

begin_macro
name|getnoun
argument_list|(
argument|k
argument_list|,
argument|ce
argument_list|)
end_macro

begin_decl_stmt
name|int
name|k
decl_stmt|,
name|ce
decl_stmt|;
end_decl_stmt

begin_block
block|{
name|char
name|c
decl_stmt|;
name|int
name|st
decl_stmt|,
name|t
decl_stmt|,
name|nextst
decl_stmt|;
name|int
name|rep
decl_stmt|;
name|int
name|t1
decl_stmt|,
name|tt
decl_stmt|;
name|st
operator|=
name|k
expr_stmt|;
name|rep
operator|=
literal|0
expr_stmt|;
name|b
label|:
name|nextst
operator|=
name|sent
index|[
name|st
operator|+
literal|1
index|]
operator|.
name|cc
expr_stmt|;
switch|switch
condition|(
name|sent
index|[
name|st
index|]
operator|.
name|cc
condition|)
block|{
case|case
name|END
case|:
name|done
operator|=
literal|1
expr_stmt|;
break|break;
case|case
literal|','
case|:
if|if
condition|(
name|ce
operator|==
literal|','
condition|)
block|{
name|done
operator|=
literal|1
expr_stmt|;
break|break;
block|}
else|else
block|{
goto|goto
name|getdef
goto|;
block|}
case|case
literal|'"'
case|:
if|if
condition|(
name|aflg
operator|==
literal|1
condition|)
block|{
name|st
operator|++
expr_stmt|;
goto|goto
name|b
goto|;
block|}
break|break;
case|case
name|NOUN
case|:
switch|switch
condition|(
name|nextst
condition|)
block|{
case|case
name|UNK
case|:
case|case
name|NOUN_VERB
case|:
if|if
condition|(
name|verb
operator|==
literal|1
condition|)
block|{
goto|goto
name|nn
goto|;
block|}
if|if
condition|(
name|subty
operator|!=
name|PLURAL
condition|)
block|{
goto|goto
name|nn
goto|;
block|}
break|break;
case|case
name|NV_PL
case|:
if|if
condition|(
name|verb
operator|==
literal|1
condition|)
block|{
goto|goto
name|nn
goto|;
block|}
if|if
condition|(
name|subty
operator|==
name|PLURAL
condition|)
block|{
goto|goto
name|nn
goto|;
block|}
break|break;
case|case
name|PNOUN
case|:
case|case
name|NOUN_ADJ
case|:
case|case
name|POS
case|:
case|case
name|NOUN
case|:
name|nn
label|:
name|sent
index|[
name|st
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
goto|goto
name|b
goto|;
block|}
if|if
condition|(
name|prep
operator|==
literal|0
condition|)
name|subty
operator|=
name|SING
expr_stmt|;
break|break;
case|case
name|PNOUN
case|:
name|sent
index|[
name|st
index|]
operator|.
name|cc
operator|=
name|NOUN
expr_stmt|;
if|if
condition|(
name|prep
operator|==
literal|0
condition|)
name|subty
operator|=
name|PLURAL
expr_stmt|;
break|break;
case|case
name|ADV
case|:
name|st
operator|++
expr_stmt|;
goto|goto
name|b
goto|;
case|case
name|WHO
case|:
name|st
operator|=
name|who
argument_list|(
name|st
argument_list|,
name|ce
argument_list|)
expr_stmt|;
name|st
operator|++
expr_stmt|;
goto|goto
name|b
goto|;
case|case
name|ADJ_ADV
case|:
case|case
name|VERB_ADJ
case|:
case|case
name|ED
case|:
name|sent
index|[
name|st
operator|++
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
goto|goto
name|b
goto|;
case|case
name|ING
case|:
if|if
condition|(
name|isnoun
argument_list|(
name|nextst
argument_list|)
condition|)
block|{
name|sent
index|[
name|st
operator|++
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
goto|goto
name|b
goto|;
block|}
name|sent
index|[
name|st
index|]
operator|.
name|cc
operator|=
name|NOUN
expr_stmt|;
if|if
condition|(
name|prep
operator|==
literal|0
condition|)
name|subty
operator|=
name|SING
expr_stmt|;
break|break;
case|case
name|ART
case|:
case|case
name|POS
case|:
if|if
condition|(
name|st
operator|!=
name|k
condition|)
block|{
goto|goto
name|getdef
goto|;
block|}
case|case
name|ADJ
case|:
name|st
operator|++
expr_stmt|;
goto|goto
name|b
goto|;
case|case
name|PRONP
case|:
if|if
condition|(
name|prep
operator|==
literal|0
condition|)
name|subty
operator|=
name|PLURAL
expr_stmt|;
break|break;
case|case
name|PRONS
case|:
if|if
condition|(
name|prep
operator|==
literal|0
condition|)
name|subty
operator|=
name|SING
expr_stmt|;
break|break;
case|case
name|NOUN_VERB
case|:
if|if
condition|(
operator|(
name|nextst
operator|==
name|NOUN
operator|||
name|nextst
operator|==
name|PNOUN
operator|)
operator|||
operator|(
name|verb
operator|==
literal|1
operator|&&
operator|(
name|nextst
operator|==
name|NV_PL
operator|||
name|nextst
operator|==
name|NOUN_VERB
operator|)
operator|)
condition|)
block|{
name|sent
index|[
name|st
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
goto|goto
name|b
goto|;
block|}
case|case
name|NV_PL
case|:
name|sent
index|[
name|st
index|]
operator|.
name|cc
operator|=
name|NOUN
expr_stmt|;
if|if
condition|(
name|prep
operator|==
literal|0
condition|)
block|{
if|if
condition|(
name|sent
index|[
name|st
index|]
operator|.
name|ic
operator|==
name|NV_PL
condition|)
name|subty
operator|=
name|PLURAL
expr_stmt|;
else|else
name|subty
operator|=
name|SING
expr_stmt|;
block|}
if|if
condition|(
name|sent
index|[
name|st
operator|-
literal|1
index|]
operator|.
name|cc
operator|==
name|NOUN
operator|&&
name|nounnom
argument_list|(
name|sent
index|[
name|st
operator|-
literal|1
index|]
operator|.
name|ic
argument_list|)
condition|)
block|{
name|sent
index|[
name|st
operator|-
literal|1
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
block|}
break|break;
case|case
name|PRONP_ADJ
case|:
switch|switch
condition|(
name|nextst
condition|)
block|{
case|case
name|PNOUN
case|:
case|case
name|NOUN_ADJ
case|:
case|case
name|NV_PL
case|:
case|case
name|ADJ_ADV
case|:
case|case
name|PRONS_ADJ
case|:
case|case
name|ADJ
case|:
case|case
name|ING
case|:
name|sent
index|[
name|st
operator|++
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
goto|goto
name|b
goto|;
case|case
name|NOUN_VERB
case|:
case|case
name|UNK
case|:
case|case
name|ED
case|:
if|if
condition|(
name|verb
operator|==
literal|0
condition|)
block|{
goto|goto
name|def
goto|;
block|}
else|else
block|{
name|sent
index|[
name|st
operator|++
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
goto|goto
name|b
goto|;
block|}
case|case
name|NOUN
case|:
name|sent
index|[
name|st
operator|++
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
if|if
condition|(
name|prep
operator|==
literal|0
condition|)
name|subty
operator|=
name|SING
expr_stmt|;
break|break;
case|case
name|SUBCONJ
case|:
name|sent
index|[
name|st
operator|++
index|]
operator|.
name|cc
operator|=
name|PRONP
expr_stmt|;
comment|/* more than .. */
name|sent
index|[
name|st
operator|++
index|]
operator|.
name|cc
operator|=
name|CONJ
expr_stmt|;
if|if
condition|(
name|verb
operator|==
literal|0
condition|)
name|verb
operator|=
name|getv
argument_list|(
name|st
argument_list|,
name|ce
argument_list|)
expr_stmt|;
goto|goto
name|b
goto|;
case|case
literal|'"'
case|:
name|sent
index|[
name|st
operator|++
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
name|st
operator|++
expr_stmt|;
goto|goto
name|b
goto|;
default|default:
name|def
label|:
name|sent
index|[
name|st
index|]
operator|.
name|cc
operator|=
name|PRONP
expr_stmt|;
if|if
condition|(
name|prep
operator|==
literal|0
condition|)
name|subty
operator|=
name|PLURAL
expr_stmt|;
break|break;
block|}
break|break;
case|case
name|PRONS_ADJ
case|:
if|if
condition|(
name|aflg
operator|==
literal|1
operator|&&
name|nextst
operator|!=
name|END
operator|&&
name|nextst
operator|!=
name|ART
condition|)
block|{
name|sent
index|[
name|st
operator|++
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
goto|goto
name|b
goto|;
block|}
switch|switch
condition|(
name|nextst
condition|)
block|{
case|case
literal|'"'
case|:
name|sent
index|[
name|st
operator|++
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
name|st
operator|++
expr_stmt|;
goto|goto
name|b
goto|;
case|case
name|PNOUN
case|:
case|case
name|ING
case|:
case|case
name|UNK
case|:
case|case
name|NOUN_VERB
case|:
case|case
name|NOUN_ADJ
case|:
case|case
name|ADJ_ADV
case|:
case|case
name|ADJ
case|:
name|sent
index|[
name|st
operator|++
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
goto|goto
name|b
goto|;
case|case
name|NOUN
case|:
name|sent
index|[
name|st
operator|++
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
if|if
condition|(
name|prep
operator|==
literal|0
condition|)
name|subty
operator|=
name|SING
expr_stmt|;
break|break;
case|case
name|PRONS_ADJ
case|:
name|sent
index|[
name|st
operator|++
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
name|sent
index|[
name|st
index|]
operator|.
name|cc
operator|=
name|PRONP
expr_stmt|;
if|if
condition|(
name|prep
operator|==
literal|0
condition|)
name|subty
operator|=
name|SING
expr_stmt|;
break|break;
case|case
name|NV_PL
case|:
if|if
condition|(
name|verb
operator|==
literal|1
condition|)
block|{
name|sent
index|[
name|st
operator|++
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
name|sent
index|[
name|st
index|]
operator|.
name|cc
operator|=
name|NOUN
expr_stmt|;
if|if
condition|(
name|prep
operator|==
literal|0
condition|)
name|subty
operator|=
name|PLURAL
expr_stmt|;
break|break;
block|}
name|sent
index|[
name|st
index|]
operator|.
name|cc
operator|=
name|PRONP
expr_stmt|;
if|if
condition|(
name|prep
operator|==
literal|0
condition|)
name|subty
operator|=
name|SING
expr_stmt|;
break|break;
default|default:
name|sent
index|[
name|st
index|]
operator|.
name|cc
operator|=
name|PRONP
expr_stmt|;
if|if
condition|(
name|prep
operator|==
literal|0
condition|)
name|subty
operator|=
name|SING
expr_stmt|;
break|break;
block|}
break|break;
case|case
name|NOUN_ADJ
case|:
if|if
condition|(
name|nextst
operator|==
name|NOUN
operator|||
name|nextst
operator|==
name|ADJ
operator|||
name|nextst
operator|==
name|NOUN_ADJ
operator|||
name|nextst
operator|==
name|PRONS_ADJ
operator|||
name|nextst
operator|==
name|PRONP_ADJ
operator|||
name|nextst
operator|==
name|PNOUN
condition|)
block|{
name|sent
index|[
name|st
operator|++
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
goto|goto
name|b
goto|;
block|}
if|if
condition|(
name|nextst
operator|!=
name|UNK
operator|&&
name|nextst
operator|!=
name|NOUN_VERB
operator|&&
name|nextst
operator|!=
name|NV_PL
condition|)
block|{
name|sent
index|[
name|st
index|]
operator|.
name|cc
operator|=
name|NOUN
expr_stmt|;
if|if
condition|(
name|prep
operator|==
literal|0
condition|)
name|subty
operator|=
name|SING
expr_stmt|;
break|break;
block|}
if|if
condition|(
name|verb
operator|==
literal|1
operator|||
name|sent
index|[
name|st
operator|+
literal|2
index|]
operator|.
name|cc
operator|==
name|ED
condition|)
block|{
name|sent
index|[
name|st
operator|++
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
goto|goto
name|b
goto|;
block|}
name|sent
index|[
name|st
index|]
operator|.
name|cc
operator|=
name|NOUN
expr_stmt|;
if|if
condition|(
name|prep
operator|==
literal|0
condition|)
name|subty
operator|=
name|SING
expr_stmt|;
break|break;
case|case
name|UNK
case|:
if|if
condition|(
name|nextst
operator|!=
name|UNK
condition|)
block|{
if|if
condition|(
name|nextst
operator|==
literal|','
operator|&&
name|rep
operator|==
literal|0
condition|)
block|{
name|c
operator|=
name|sent
index|[
name|st
operator|+
literal|2
index|]
operator|.
name|cc
expr_stmt|;
if|if
condition|(
operator|(
name|c
operator|==
name|UNK
operator|||
name|c
operator|==
name|ADJ
operator|||
name|c
operator|==
name|NOUN_ADJ
operator|||
name|c
operator|==
name|ING
operator|)
operator|&&
name|isnoun
argument_list|(
name|sent
index|[
name|st
operator|+
literal|3
index|]
operator|.
name|cc
argument_list|)
condition|)
block|{
name|comma
operator|--
expr_stmt|;
name|sent
index|[
name|st
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
name|sent
index|[
name|st
operator|+
literal|2
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
name|sent
index|[
name|st
operator|+
literal|3
index|]
operator|.
name|cc
operator|=
name|NOUN
expr_stmt|;
if|if
condition|(
name|prep
operator|==
literal|0
condition|)
block|{
if|if
condition|(
name|sent
index|[
name|st
operator|+
literal|3
index|]
operator|.
name|ic
operator|==
name|NV_PL
condition|)
name|subty
operator|=
name|PLURAL
expr_stmt|;
else|else
name|subty
operator|=
name|SING
expr_stmt|;
block|}
return|return
operator|(
name|st
operator|+
literal|3
operator|)
return|;
block|}
else|else
block|{
name|sent
index|[
name|st
index|]
operator|.
name|cc
operator|=
name|NOUN
expr_stmt|;
if|if
condition|(
name|prep
operator|==
literal|0
condition|)
name|subty
operator|=
name|SING
expr_stmt|;
break|break;
block|}
block|}
if|if
condition|(
name|nextst
operator|==
name|NOUN
operator|||
name|nextst
operator|==
name|ING
operator|||
name|nextst
operator|==
name|NOUN_ADJ
operator|||
name|sent
index|[
name|st
operator|-
literal|1
index|]
operator|.
name|cc
operator|==
name|ADV
operator|||
name|nextst
operator|==
name|ADJ
operator|||
name|nextst
operator|==
name|PNOUN
condition|)
block|{
name|sent
index|[
name|st
operator|++
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
goto|goto
name|b
goto|;
block|}
if|if
condition|(
operator|(
name|nextst
operator|==
name|NV_PL
operator|||
name|nextst
operator|==
name|NOUN_VERB
operator|)
operator|&&
operator|(
name|verb
operator|==
literal|1
operator|||
operator|(
name|verb
operator|==
literal|0
operator|&&
operator|(
name|sent
index|[
name|st
operator|+
literal|2
index|]
operator|.
name|cc
operator|==
name|UNK
operator|||
name|sent
index|[
name|st
operator|+
literal|2
index|]
operator|.
name|cc
operator|==
name|NOUN_VERB
operator|||
name|sent
index|[
name|st
operator|+
literal|2
index|]
operator|.
name|cc
operator|==
name|ED
operator|||
name|sent
index|[
name|st
operator|+
literal|2
index|]
operator|.
name|cc
operator|==
name|VERB_ADJ
operator|)
operator|)
operator|)
condition|)
block|{
name|sent
index|[
name|st
operator|++
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
name|sent
index|[
name|st
index|]
operator|.
name|cc
operator|=
name|NOUN
expr_stmt|;
if|if
condition|(
name|prep
operator|==
literal|0
condition|)
name|subty
operator|=
name|PLURAL
expr_stmt|;
break|break;
block|}
if|if
condition|(
name|nextst
operator|==
name|CONJ
operator|&&
name|isadv
argument_list|(
name|sent
index|[
name|st
operator|+
literal|2
index|]
operator|.
name|cc
argument_list|)
condition|)
block|{
name|sent
index|[
name|st
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
goto|goto
name|b
goto|;
block|}
name|sent
index|[
name|st
index|]
operator|.
name|cc
operator|=
name|NOUN
expr_stmt|;
if|if
condition|(
name|prep
operator|==
literal|0
condition|)
name|subty
operator|=
name|SING
expr_stmt|;
break|break;
block|}
for|for
control|(
name|t
operator|=
name|st
operator|+
literal|1
init|;
name|sent
index|[
name|t
index|]
operator|.
name|cc
operator|==
name|UNK
condition|;
name|t
operator|++
control|)
empty_stmt|;
if|if
condition|(
name|verb
operator|==
literal|0
operator|&&
name|prep
operator|==
literal|0
condition|)
block|{
comment|/* UUU. */
if|if
condition|(
name|prep
operator|==
literal|0
condition|)
name|subty
operator|=
name|SING
expr_stmt|;
if|if
condition|(
name|sent
index|[
name|t
index|]
operator|.
name|cc
operator|==
name|NV_PL
operator|||
name|sent
index|[
name|t
index|]
operator|.
name|cc
operator|==
name|PNOUN
condition|)
block|{
comment|/* UUZ.*/
if|if
condition|(
name|sent
index|[
name|t
operator|+
literal|1
index|]
operator|.
name|cc
operator|==
name|UNK
operator|||
name|sent
index|[
name|t
operator|+
literal|1
index|]
operator|.
name|cc
operator|==
name|NOUN_VERB
condition|)
block|{
comment|/* UUZU */
name|sent
index|[
name|t
operator|+
literal|1
index|]
operator|.
name|cc
operator|=
name|VERB
expr_stmt|;
name|verb
operator|=
literal|1
expr_stmt|;
name|sent
index|[
name|t
index|]
operator|.
name|cc
operator|=
name|NOUN
expr_stmt|;
name|t1
operator|=
name|t
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|sent
index|[
name|t
index|]
operator|.
name|cc
operator|==
name|NV_PL
condition|)
block|{
comment|/* UUZ. */
name|sent
index|[
name|t
index|]
operator|.
name|cc
operator|=
name|VERB
expr_stmt|;
name|verb
operator|=
literal|1
expr_stmt|;
name|sent
index|[
name|t
operator|-
literal|1
index|]
operator|.
name|cc
operator|=
name|NOUN
expr_stmt|;
name|t1
operator|=
name|t
operator|-
literal|1
expr_stmt|;
block|}
else|else
block|{
name|sent
index|[
name|t
index|]
operator|.
name|cc
operator|=
name|NOUN
expr_stmt|;
name|t1
operator|=
name|t
expr_stmt|;
block|}
block|}
else|else
block|{
comment|/* UU. */
if|if
condition|(
name|sent
index|[
name|t
index|]
operator|.
name|cc
operator|!=
name|ED
condition|)
block|{
name|sent
index|[
name|t
operator|-
literal|1
index|]
operator|.
name|cc
operator|=
name|VERB
expr_stmt|;
name|verb
operator|=
literal|1
expr_stmt|;
name|sent
index|[
name|t
operator|-
literal|2
index|]
operator|.
name|cc
operator|=
name|NOUN
expr_stmt|;
name|t1
operator|=
name|t
operator|-
literal|2
expr_stmt|;
name|t
operator|--
expr_stmt|;
block|}
else|else
block|{
name|sent
index|[
operator|--
name|t
index|]
operator|.
name|cc
operator|=
name|NOUN
expr_stmt|;
name|t1
operator|=
name|t
expr_stmt|;
block|}
block|}
block|}
else|else
block|{
if|if
condition|(
name|sent
index|[
name|t
index|]
operator|.
name|cc
operator|==
name|NOUN_VERB
operator|||
name|sent
index|[
name|t
index|]
operator|.
name|cc
operator|==
name|NOUN
operator|||
name|sent
index|[
name|t
index|]
operator|.
name|cc
operator|==
name|NV_PL
operator|||
name|sent
index|[
name|t
index|]
operator|.
name|cc
operator|==
name|PNOUN
condition|)
block|{
name|sent
index|[
name|t
index|]
operator|.
name|cc
operator|=
name|NOUN
expr_stmt|;
if|if
condition|(
name|prep
operator|==
literal|0
condition|)
name|subty
operator|=
name|PLURAL
expr_stmt|;
name|t1
operator|=
name|t
expr_stmt|;
block|}
else|else
block|{
name|sent
index|[
operator|--
name|t
index|]
operator|.
name|cc
operator|=
name|NOUN
expr_stmt|;
if|if
condition|(
name|prep
operator|==
literal|0
condition|)
name|subty
operator|=
name|SING
expr_stmt|;
name|t1
operator|=
name|t
expr_stmt|;
block|}
block|}
for|for
control|(
name|tt
operator|=
name|st
init|;
name|tt
operator|<
name|t1
condition|;
name|tt
operator|++
control|)
name|sent
index|[
name|tt
index|]
operator|.
name|cc
operator|=
name|ADJ
expr_stmt|;
name|st
operator|=
name|t
expr_stmt|;
break|break;
block|}
name|getdef
label|:
if|if
condition|(
name|sent
index|[
name|st
index|]
operator|.
name|cc
operator|==
name|CONJ
operator|&&
name|sent
index|[
name|st
operator|-
literal|1
index|]
operator|.
name|cc
operator|==
name|ADJ
condition|)
block|{
name|st
operator|++
expr_stmt|;
goto|goto
name|b
goto|;
block|}
if|if
condition|(
name|sent
index|[
name|st
operator|-
literal|1
index|]
operator|.
name|cc
operator|==
name|PREP
operator|&&
operator|(
name|sent
index|[
name|st
index|]
operator|.
name|cc
operator|==
name|THAT
operator|||
name|sent
index|[
name|st
index|]
operator|.
name|cc
operator|==
name|SUBCONJ
operator|)
condition|)
block|{
name|prep
operator|=
literal|0
expr_stmt|;
return|return
operator|(
operator|--
name|st
operator|)
return|;
block|}
if|if
condition|(
name|sent
index|[
name|st
index|]
operator|.
name|cc
operator|!=
name|NOUN
operator|&&
name|sent
index|[
name|st
index|]
operator|.
name|cc
operator|!=
name|PRONP
operator|&&
name|sent
index|[
name|st
index|]
operator|.
name|cc
operator|!=
name|PRONS
condition|)
block|{
name|st
operator|--
expr_stmt|;
if|if
condition|(
name|sent
index|[
name|st
index|]
operator|.
name|cc
operator|==
name|ADJ
operator|&&
name|sent
index|[
name|st
index|]
operator|.
name|ic
operator|==
name|ING
condition|)
block|{
name|sent
index|[
name|st
index|]
operator|.
name|cc
operator|=
name|NOUN
expr_stmt|;
if|if
condition|(
name|prep
operator|==
literal|0
condition|)
name|subty
operator|=
name|SING
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|sent
index|[
name|st
index|]
operator|.
name|cc
operator|==
name|PREP
condition|)
block|{
name|sent
index|[
name|st
index|]
operator|.
name|cc
operator|=
name|ADV
expr_stmt|;
block|}
name|prep
operator|=
literal|0
expr_stmt|;
return|return
operator|(
name|st
operator|)
return|;
block|}
if|if
condition|(
name|done
operator|==
literal|1
condition|)
block|{
name|prep
operator|=
literal|0
expr_stmt|;
return|return
operator|(
name|st
operator|)
return|;
block|}
if|if
condition|(
name|sent
index|[
name|st
operator|+
literal|1
index|]
operator|.
name|cc
operator|==
literal|','
condition|)
block|{
if|if
condition|(
name|sent
index|[
name|st
operator|+
literal|2
index|]
operator|.
name|cc
operator|==
name|CONJ
condition|)
block|{
if|if
condition|(
name|rep
operator|==
literal|0
condition|)
block|{
name|prep
operator|=
literal|0
expr_stmt|;
return|return
operator|(
name|st
operator|)
return|;
block|}
else|else
block|{
name|st
operator|+=
literal|3
expr_stmt|;
name|comma
operator|--
expr_stmt|;
if|if
condition|(
name|prep
operator|==
literal|0
condition|)
name|subty
operator|=
name|PLURAL
expr_stmt|;
name|prep
operator|=
literal|1
expr_stmt|;
goto|goto
name|b
goto|;
block|}
block|}
if|if
condition|(
name|comma
operator|==
literal|1
condition|)
block|{
name|prep
operator|=
literal|0
expr_stmt|;
return|return
operator|(
name|st
operator|)
return|;
block|}
switch|switch
condition|(
name|sent
index|[
name|st
operator|+
literal|2
index|]
operator|.
name|cc
condition|)
block|{
case|case
name|PREP
case|:
case|case
name|SUBCONJ
case|:
case|case
name|PRONS
case|:
case|case
name|PRONP
case|:
name|prep
operator|=
literal|0
expr_stmt|;
return|return
operator|(
name|st
operator|)
return|;
default|default:
name|rep
operator|++
expr_stmt|;
name|comma
operator|--
expr_stmt|;
name|st
operator|+=
literal|2
expr_stmt|;
if|if
condition|(
name|prep
operator|==
literal|0
condition|)
name|subty
operator|=
name|PLURAL
expr_stmt|;
name|prep
operator|=
literal|1
expr_stmt|;
goto|goto
name|b
goto|;
block|}
block|}
if|if
condition|(
name|sent
index|[
name|st
operator|+
literal|1
index|]
operator|.
name|cc
operator|==
name|CONJ
operator|&&
name|sent
index|[
name|st
operator|+
literal|2
index|]
operator|.
name|cc
operator|!=
name|ED
condition|)
block|{
name|st
operator|+=
literal|2
expr_stmt|;
if|if
condition|(
name|prep
operator|==
literal|0
condition|)
name|subty
operator|=
name|PLURAL
expr_stmt|;
name|prep
operator|=
literal|1
expr_stmt|;
goto|goto
name|b
goto|;
block|}
name|prep
operator|=
literal|0
expr_stmt|;
return|return
operator|(
name|st
operator|)
return|;
block|}
end_block

begin_macro
name|who
argument_list|(
argument|kk
argument_list|,
argument|ce
argument_list|)
end_macro

begin_decl_stmt
name|int
name|kk
decl_stmt|,
name|ce
decl_stmt|;
end_decl_stmt

begin_block
block|{
name|char
name|c
decl_stmt|;
name|sent
index|[
name|kk
index|]
operator|.
name|cc
operator|=
name|PRONP
expr_stmt|;
name|c
operator|=
name|sent
index|[
name|kk
operator|+
literal|1
index|]
operator|.
name|cc
expr_stmt|;
while|while
condition|(
name|isadv
argument_list|(
name|c
argument_list|)
condition|)
block|{
name|sent
index|[
operator|++
name|kk
index|]
operator|.
name|cc
operator|=
name|ADV
expr_stmt|;
name|c
operator|=
name|sent
index|[
name|kk
operator|+
literal|1
index|]
operator|.
name|cc
expr_stmt|;
block|}
if|if
condition|(
name|c
operator|==
name|UNK
operator|||
name|c
operator|==
name|NOUN_VERB
operator|||
name|c
operator|==
name|VERB_ADJ
operator|||
name|c
operator|==
name|ED
operator|||
name|c
operator|==
name|NV_PL
operator|||
name|c
operator|==
name|MVERB
condition|)
block|{
name|sent
index|[
operator|++
name|kk
index|]
operator|.
name|cc
operator|=
name|VERB
expr_stmt|;
if|if
condition|(
name|verb
operator|==
literal|0
condition|)
name|verb
operator|=
name|getv
argument_list|(
name|kk
operator|+
literal|1
argument_list|,
name|ce
argument_list|)
expr_stmt|;
return|return
operator|(
name|kk
operator|)
return|;
block|}
name|w
label|:
switch|switch
condition|(
name|sent
index|[
operator|++
name|kk
index|]
operator|.
name|cc
condition|)
block|{
case|case
name|AUXX
case|:
case|case
name|ADV
case|:
case|case
name|BE
case|:
case|case
name|VERB
case|:
goto|goto
name|w
goto|;
default|default:
name|verb
operator|=
name|getv
argument_list|(
name|kk
argument_list|,
name|ce
argument_list|)
expr_stmt|;
return|return
operator|(
operator|--
name|kk
operator|)
return|;
block|}
block|}
end_block

end_unit

