begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/** @file   Linked List Library Functions.    Copyright (c) 2006 - 2013, Intel Corporation. All rights reserved.<BR>   This program and the accompanying materials   are licensed and made available under the terms and conditions of the BSD License   which accompanies this distribution.  The full text of the license may be found at   http://opensource.org/licenses/bsd-license.php.    THE PROGRAM IS DISTRIBUTED UNDER THE BSD LICENSE ON AN "AS IS" BASIS,   WITHOUT WARRANTIES OR REPRESENTATIONS OF ANY KIND, EITHER EXPRESS OR IMPLIED.  **/
end_comment

begin_include
include|#
directive|include
file|"BaseLibInternals.h"
end_include

begin_comment
comment|/**   Worker function that locates the Node in the List.    By searching the List, finds the location of the Node in List. At the same time,   verifies the validity of this list.    If List is NULL, then ASSERT().   If List->ForwardLink is NULL, then ASSERT().   If List->backLink is NULL, then ASSERT().   If Node is NULL, then ASSERT().   If PcdVerifyNodeInList is TRUE and DoMembershipCheck is TRUE and Node    is in not a member of List, then return FALSE   If PcdMaximumLinkedListLength is not zero, and List contains more than   PcdMaximumLinkedListLength nodes, then ASSERT().    @param  List              A pointer to a node in a linked list.   @param  Node              A pointer to a node in a linked list.   @param  VerifyNodeInList  TRUE if a check should be made to see if Node is a                              member of List.  FALSE if no membership test should                              be performed.    @retval   TRUE if PcdVerifyNodeInList is FALSE   @retval   TRUE if DoMembershipCheck is FALSE   @retval   TRUE if PcdVerifyNodeInList is TRUE and DoMembershipCheck is TRUE              and Node is a member of List.   @retval   FALSE if PcdVerifyNodeInList is TRUE and DoMembershipCheck is TRUE              and Node is in not a member of List.  **/
end_comment

begin_function
name|BOOLEAN
name|EFIAPI
name|InternalBaseLibIsNodeInList
parameter_list|(
name|IN
name|CONST
name|LIST_ENTRY
modifier|*
name|List
parameter_list|,
name|IN
name|CONST
name|LIST_ENTRY
modifier|*
name|Node
parameter_list|,
name|IN
name|BOOLEAN
name|VerifyNodeInList
parameter_list|)
block|{
name|UINTN
name|Count
decl_stmt|;
name|CONST
name|LIST_ENTRY
modifier|*
name|Ptr
decl_stmt|;
comment|//
comment|// Test the validity of List and Node
comment|//
name|ASSERT
argument_list|(
name|List
operator|!=
name|NULL
argument_list|)
expr_stmt|;
name|ASSERT
argument_list|(
name|List
operator|->
name|ForwardLink
operator|!=
name|NULL
argument_list|)
expr_stmt|;
name|ASSERT
argument_list|(
name|List
operator|->
name|BackLink
operator|!=
name|NULL
argument_list|)
expr_stmt|;
name|ASSERT
argument_list|(
name|Node
operator|!=
name|NULL
argument_list|)
expr_stmt|;
name|Count
operator|=
literal|0
expr_stmt|;
name|Ptr
operator|=
name|List
expr_stmt|;
if|if
condition|(
name|FeaturePcdGet
argument_list|(
name|PcdVerifyNodeInList
argument_list|)
operator|&&
name|VerifyNodeInList
condition|)
block|{
comment|//
comment|// Check to see if Node is a member of List.
comment|// Exit early if the number of nodes in List>= PcdMaximumLinkedListLength
comment|//
do|do
block|{
name|Ptr
operator|=
name|Ptr
operator|->
name|ForwardLink
expr_stmt|;
if|if
condition|(
name|PcdGet32
argument_list|(
name|PcdMaximumLinkedListLength
argument_list|)
operator|>
literal|0
condition|)
block|{
name|Count
operator|++
expr_stmt|;
comment|//
comment|// ASSERT() if the linked list is too long
comment|//
name|ASSERT
argument_list|(
name|Count
operator|<
name|PcdGet32
argument_list|(
name|PcdMaximumLinkedListLength
argument_list|)
argument_list|)
expr_stmt|;
comment|//
comment|// Return if the linked list is too long
comment|//
if|if
condition|(
name|Count
operator|>=
name|PcdGet32
argument_list|(
name|PcdMaximumLinkedListLength
argument_list|)
condition|)
block|{
return|return
call|(
name|BOOLEAN
call|)
argument_list|(
name|Ptr
operator|==
name|Node
argument_list|)
return|;
block|}
block|}
block|}
do|while
condition|(
operator|(
name|Ptr
operator|!=
name|List
operator|)
operator|&&
operator|(
name|Ptr
operator|!=
name|Node
operator|)
condition|)
do|;
if|if
condition|(
name|Ptr
operator|!=
name|Node
condition|)
block|{
return|return
name|FALSE
return|;
block|}
block|}
if|if
condition|(
name|PcdGet32
argument_list|(
name|PcdMaximumLinkedListLength
argument_list|)
operator|>
literal|0
condition|)
block|{
comment|//
comment|// Count the total number of nodes in List.
comment|// Exit early if the number of nodes in List>= PcdMaximumLinkedListLength
comment|//
do|do
block|{
name|Ptr
operator|=
name|Ptr
operator|->
name|ForwardLink
expr_stmt|;
name|Count
operator|++
expr_stmt|;
block|}
do|while
condition|(
operator|(
name|Ptr
operator|!=
name|List
operator|)
operator|&&
operator|(
name|Count
operator|<
name|PcdGet32
argument_list|(
name|PcdMaximumLinkedListLength
argument_list|)
operator|)
condition|)
do|;
comment|//
comment|// ASSERT() if the linked list is too long
comment|//
name|ASSERT
argument_list|(
name|Count
operator|<
name|PcdGet32
argument_list|(
name|PcdMaximumLinkedListLength
argument_list|)
argument_list|)
expr_stmt|;
block|}
return|return
name|TRUE
return|;
block|}
end_function

begin_comment
comment|/**   Initializes the head node of a doubly-linked list, and returns the pointer to   the head node of the doubly-linked list.    Initializes the forward and backward links of a new linked list. After   initializing a linked list with this function, the other linked list   functions may be used to add and remove nodes from the linked list. It is up   to the caller of this function to allocate the memory for ListHead.    If ListHead is NULL, then ASSERT().    @param  ListHead  A pointer to the head node of a new doubly-linked list.    @return ListHead  **/
end_comment

begin_function
name|LIST_ENTRY
modifier|*
name|EFIAPI
name|InitializeListHead
parameter_list|(
name|IN
name|OUT
name|LIST_ENTRY
modifier|*
name|ListHead
parameter_list|)
block|{
name|ASSERT
argument_list|(
name|ListHead
operator|!=
name|NULL
argument_list|)
expr_stmt|;
name|ListHead
operator|->
name|ForwardLink
operator|=
name|ListHead
expr_stmt|;
name|ListHead
operator|->
name|BackLink
operator|=
name|ListHead
expr_stmt|;
return|return
name|ListHead
return|;
block|}
end_function

begin_comment
comment|/**   Adds a node to the beginning of a doubly-linked list, and returns the pointer   to the head node of the doubly-linked list.    Adds the node Entry at the beginning of the doubly-linked list denoted by   ListHead, and returns ListHead.    If ListHead is NULL, then ASSERT().   If Entry is NULL, then ASSERT().   If ListHead was not initialized with INTIALIZE_LIST_HEAD_VARIABLE() or   InitializeListHead(), then ASSERT().   If PcdMaximumLinkedListLength is not zero, and prior to insertion the number   of nodes in ListHead, including the ListHead node, is greater than or   equal to PcdMaximumLinkedListLength, then ASSERT().    @param  ListHead  A pointer to the head node of a doubly-linked list.   @param  Entry     A pointer to a node that is to be inserted at the beginning                     of a doubly-linked list.    @return ListHead  **/
end_comment

begin_function
name|LIST_ENTRY
modifier|*
name|EFIAPI
name|InsertHeadList
parameter_list|(
name|IN
name|OUT
name|LIST_ENTRY
modifier|*
name|ListHead
parameter_list|,
name|IN
name|OUT
name|LIST_ENTRY
modifier|*
name|Entry
parameter_list|)
block|{
comment|//
comment|// ASSERT List not too long and Entry is not one of the nodes of List
comment|//
name|ASSERT
argument_list|(
name|InternalBaseLibIsNodeInList
argument_list|(
name|ListHead
argument_list|,
name|Entry
argument_list|,
name|FALSE
argument_list|)
argument_list|)
expr_stmt|;
name|Entry
operator|->
name|ForwardLink
operator|=
name|ListHead
operator|->
name|ForwardLink
expr_stmt|;
name|Entry
operator|->
name|BackLink
operator|=
name|ListHead
expr_stmt|;
name|Entry
operator|->
name|ForwardLink
operator|->
name|BackLink
operator|=
name|Entry
expr_stmt|;
name|ListHead
operator|->
name|ForwardLink
operator|=
name|Entry
expr_stmt|;
return|return
name|ListHead
return|;
block|}
end_function

begin_comment
comment|/**   Adds a node to the end of a doubly-linked list, and returns the pointer to   the head node of the doubly-linked list.    Adds the node Entry to the end of the doubly-linked list denoted by ListHead,   and returns ListHead.    If ListHead is NULL, then ASSERT().   If Entry is NULL, then ASSERT().   If ListHead was not initialized with INTIALIZE_LIST_HEAD_VARIABLE() or    InitializeListHead(), then ASSERT().   If PcdMaximumLinkedListLength is not zero, and prior to insertion the number   of nodes in ListHead, including the ListHead node, is greater than or   equal to PcdMaximumLinkedListLength, then ASSERT().    @param  ListHead  A pointer to the head node of a doubly-linked list.   @param  Entry     A pointer to a node that is to be added at the end of the                     doubly-linked list.    @return ListHead  **/
end_comment

begin_function
name|LIST_ENTRY
modifier|*
name|EFIAPI
name|InsertTailList
parameter_list|(
name|IN
name|OUT
name|LIST_ENTRY
modifier|*
name|ListHead
parameter_list|,
name|IN
name|OUT
name|LIST_ENTRY
modifier|*
name|Entry
parameter_list|)
block|{
comment|//
comment|// ASSERT List not too long and Entry is not one of the nodes of List
comment|//
name|ASSERT
argument_list|(
name|InternalBaseLibIsNodeInList
argument_list|(
name|ListHead
argument_list|,
name|Entry
argument_list|,
name|FALSE
argument_list|)
argument_list|)
expr_stmt|;
name|Entry
operator|->
name|ForwardLink
operator|=
name|ListHead
expr_stmt|;
name|Entry
operator|->
name|BackLink
operator|=
name|ListHead
operator|->
name|BackLink
expr_stmt|;
name|Entry
operator|->
name|BackLink
operator|->
name|ForwardLink
operator|=
name|Entry
expr_stmt|;
name|ListHead
operator|->
name|BackLink
operator|=
name|Entry
expr_stmt|;
return|return
name|ListHead
return|;
block|}
end_function

begin_comment
comment|/**   Retrieves the first node of a doubly-linked list.    Returns the first node of a doubly-linked list.  List must have been    initialized with INTIALIZE_LIST_HEAD_VARIABLE() or InitializeListHead().   If List is empty, then List is returned.    If List is NULL, then ASSERT().   If List was not initialized with INTIALIZE_LIST_HEAD_VARIABLE() or    InitializeListHead(), then ASSERT().   If PcdMaximumLinkedListLength is not zero, and the number of nodes   in List, including the List node, is greater than or equal to   PcdMaximumLinkedListLength, then ASSERT().    @param  List  A pointer to the head node of a doubly-linked list.    @return The first node of a doubly-linked list.   @retval List  The list is empty.  **/
end_comment

begin_function
name|LIST_ENTRY
modifier|*
name|EFIAPI
name|GetFirstNode
parameter_list|(
name|IN
name|CONST
name|LIST_ENTRY
modifier|*
name|List
parameter_list|)
block|{
comment|//
comment|// ASSERT List not too long
comment|//
name|ASSERT
argument_list|(
name|InternalBaseLibIsNodeInList
argument_list|(
name|List
argument_list|,
name|List
argument_list|,
name|FALSE
argument_list|)
argument_list|)
expr_stmt|;
return|return
name|List
operator|->
name|ForwardLink
return|;
block|}
end_function

begin_comment
comment|/**   Retrieves the next node of a doubly-linked list.    Returns the node of a doubly-linked list that follows Node.     List must have been initialized with INTIALIZE_LIST_HEAD_VARIABLE()   or InitializeListHead().  If List is empty, then List is returned.    If List is NULL, then ASSERT().   If Node is NULL, then ASSERT().   If List was not initialized with INTIALIZE_LIST_HEAD_VARIABLE() or    InitializeListHead(), then ASSERT().   If PcdMaximumLinkedListLength is not zero, and List contains more than   PcdMaximumLinkedListLength nodes, then ASSERT().   If PcdVerifyNodeInList is TRUE and Node is not a node in List, then ASSERT().    @param  List  A pointer to the head node of a doubly-linked list.   @param  Node  A pointer to a node in the doubly-linked list.    @return A pointer to the next node if one exists. Otherwise List is returned.  **/
end_comment

begin_function
name|LIST_ENTRY
modifier|*
name|EFIAPI
name|GetNextNode
parameter_list|(
name|IN
name|CONST
name|LIST_ENTRY
modifier|*
name|List
parameter_list|,
name|IN
name|CONST
name|LIST_ENTRY
modifier|*
name|Node
parameter_list|)
block|{
comment|//
comment|// ASSERT List not too long and Node is one of the nodes of List
comment|//
name|ASSERT
argument_list|(
name|InternalBaseLibIsNodeInList
argument_list|(
name|List
argument_list|,
name|Node
argument_list|,
name|TRUE
argument_list|)
argument_list|)
expr_stmt|;
return|return
name|Node
operator|->
name|ForwardLink
return|;
block|}
end_function

begin_comment
comment|/**   Retrieves the previous node of a doubly-linked list.     Returns the node of a doubly-linked list that precedes Node.     List must have been initialized with INTIALIZE_LIST_HEAD_VARIABLE()   or InitializeListHead().  If List is empty, then List is returned.     If List is NULL, then ASSERT().   If Node is NULL, then ASSERT().   If List was not initialized with INTIALIZE_LIST_HEAD_VARIABLE() or    InitializeListHead(), then ASSERT().   If PcdMaximumLinkedListLength is not zero, and List contains more than   PcdMaximumLinkedListLength nodes, then ASSERT().   If PcdVerifyNodeInList is TRUE and Node is not a node in List, then ASSERT().     @param  List  A pointer to the head node of a doubly-linked list.   @param  Node  A pointer to a node in the doubly-linked list.     @return A pointer to the previous node if one exists. Otherwise List is returned.   **/
end_comment

begin_function
name|LIST_ENTRY
modifier|*
name|EFIAPI
name|GetPreviousNode
parameter_list|(
name|IN
name|CONST
name|LIST_ENTRY
modifier|*
name|List
parameter_list|,
name|IN
name|CONST
name|LIST_ENTRY
modifier|*
name|Node
parameter_list|)
block|{
comment|//
comment|// ASSERT List not too long and Node is one of the nodes of List
comment|//
name|ASSERT
argument_list|(
name|InternalBaseLibIsNodeInList
argument_list|(
name|List
argument_list|,
name|Node
argument_list|,
name|TRUE
argument_list|)
argument_list|)
expr_stmt|;
return|return
name|Node
operator|->
name|BackLink
return|;
block|}
end_function

begin_comment
comment|/**   Checks to see if a doubly-linked list is empty or not.    Checks to see if the doubly-linked list is empty. If the linked list contains   zero nodes, this function returns TRUE. Otherwise, it returns FALSE.    If ListHead is NULL, then ASSERT().   If ListHead was not initialized with INTIALIZE_LIST_HEAD_VARIABLE() or    InitializeListHead(), then ASSERT().   If PcdMaximumLinkedListLength is not zero, and the number of nodes   in List, including the List node, is greater than or equal to   PcdMaximumLinkedListLength, then ASSERT().    @param  ListHead  A pointer to the head node of a doubly-linked list.    @retval TRUE  The linked list is empty.   @retval FALSE The linked list is not empty.  **/
end_comment

begin_function
name|BOOLEAN
name|EFIAPI
name|IsListEmpty
parameter_list|(
name|IN
name|CONST
name|LIST_ENTRY
modifier|*
name|ListHead
parameter_list|)
block|{
comment|//
comment|// ASSERT List not too long
comment|//
name|ASSERT
argument_list|(
name|InternalBaseLibIsNodeInList
argument_list|(
name|ListHead
argument_list|,
name|ListHead
argument_list|,
name|FALSE
argument_list|)
argument_list|)
expr_stmt|;
return|return
call|(
name|BOOLEAN
call|)
argument_list|(
name|ListHead
operator|->
name|ForwardLink
operator|==
name|ListHead
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**   Determines if a node in a doubly-linked list is the head node of a the same   doubly-linked list.  This function is typically used to terminate a loop that   traverses all the nodes in a doubly-linked list starting with the head node.    Returns TRUE if Node is equal to List.  Returns FALSE if Node is one of the   nodes in the doubly-linked list specified by List.  List must have been   initialized with INTIALIZE_LIST_HEAD_VARIABLE() or InitializeListHead().    If List is NULL, then ASSERT().   If Node is NULL, then ASSERT().   If List was not initialized with INTIALIZE_LIST_HEAD_VARIABLE() or InitializeListHead(),    then ASSERT().   If PcdMaximumLinkedListLength is not zero, and the number of nodes   in List, including the List node, is greater than or equal to   PcdMaximumLinkedListLength, then ASSERT().   If PcdVerifyNodeInList is TRUE and Node is not a node in List and Node is not    equal to List, then ASSERT().    @param  List  A pointer to the head node of a doubly-linked list.   @param  Node  A pointer to a node in the doubly-linked list.    @retval TRUE  Node is the head of the doubly-linked list pointed by List.   @retval FALSE Node is not the head of the doubly-linked list pointed by List.  **/
end_comment

begin_function
name|BOOLEAN
name|EFIAPI
name|IsNull
parameter_list|(
name|IN
name|CONST
name|LIST_ENTRY
modifier|*
name|List
parameter_list|,
name|IN
name|CONST
name|LIST_ENTRY
modifier|*
name|Node
parameter_list|)
block|{
comment|//
comment|// ASSERT List not too long and Node is one of the nodes of List
comment|//
name|ASSERT
argument_list|(
name|InternalBaseLibIsNodeInList
argument_list|(
name|List
argument_list|,
name|Node
argument_list|,
name|TRUE
argument_list|)
argument_list|)
expr_stmt|;
return|return
call|(
name|BOOLEAN
call|)
argument_list|(
name|Node
operator|==
name|List
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**   Determines if a node the last node in a doubly-linked list.    Returns TRUE if Node is the last node in the doubly-linked list specified by   List. Otherwise, FALSE is returned. List must have been initialized with   INTIALIZE_LIST_HEAD_VARIABLE() or InitializeListHead().    If List is NULL, then ASSERT().   If Node is NULL, then ASSERT().   If List was not initialized with INTIALIZE_LIST_HEAD_VARIABLE() or   InitializeListHead(), then ASSERT().   If PcdMaximumLinkedListLength is not zero, and the number of nodes   in List, including the List node, is greater than or equal to   PcdMaximumLinkedListLength, then ASSERT().   If PcdVerifyNodeInList is TRUE and Node is not a node in List, then ASSERT().    @param  List  A pointer to the head node of a doubly-linked list.   @param  Node  A pointer to a node in the doubly-linked list.    @retval TRUE  Node is the last node in the linked list.   @retval FALSE Node is not the last node in the linked list.  **/
end_comment

begin_function
name|BOOLEAN
name|EFIAPI
name|IsNodeAtEnd
parameter_list|(
name|IN
name|CONST
name|LIST_ENTRY
modifier|*
name|List
parameter_list|,
name|IN
name|CONST
name|LIST_ENTRY
modifier|*
name|Node
parameter_list|)
block|{
comment|//
comment|// ASSERT List not too long and Node is one of the nodes of List
comment|//
name|ASSERT
argument_list|(
name|InternalBaseLibIsNodeInList
argument_list|(
name|List
argument_list|,
name|Node
argument_list|,
name|TRUE
argument_list|)
argument_list|)
expr_stmt|;
return|return
call|(
name|BOOLEAN
call|)
argument_list|(
operator|!
name|IsNull
argument_list|(
name|List
argument_list|,
name|Node
argument_list|)
operator|&&
name|List
operator|->
name|BackLink
operator|==
name|Node
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**   Swaps the location of two nodes in a doubly-linked list, and returns the   first node after the swap.    If FirstEntry is identical to SecondEntry, then SecondEntry is returned.   Otherwise, the location of the FirstEntry node is swapped with the location   of the SecondEntry node in a doubly-linked list. SecondEntry must be in the   same double linked list as FirstEntry and that double linked list must have   been initialized with INTIALIZE_LIST_HEAD_VARIABLE() or InitializeListHead().    SecondEntry is returned after the nodes are swapped.    If FirstEntry is NULL, then ASSERT().   If SecondEntry is NULL, then ASSERT().   If PcdVerifyNodeInList is TRUE and SecondEntry and FirstEntry are not in the    same linked list, then ASSERT().   If PcdMaximumLinkedListLength is not zero, and the number of nodes in the   linked list containing the FirstEntry and SecondEntry nodes, including   the FirstEntry and SecondEntry nodes, is greater than or equal to   PcdMaximumLinkedListLength, then ASSERT().    @param  FirstEntry  A pointer to a node in a linked list.   @param  SecondEntry A pointer to another node in the same linked list.      @return SecondEntry.  **/
end_comment

begin_function
name|LIST_ENTRY
modifier|*
name|EFIAPI
name|SwapListEntries
parameter_list|(
name|IN
name|OUT
name|LIST_ENTRY
modifier|*
name|FirstEntry
parameter_list|,
name|IN
name|OUT
name|LIST_ENTRY
modifier|*
name|SecondEntry
parameter_list|)
block|{
name|LIST_ENTRY
modifier|*
name|Ptr
decl_stmt|;
if|if
condition|(
name|FirstEntry
operator|==
name|SecondEntry
condition|)
block|{
return|return
name|SecondEntry
return|;
block|}
comment|//
comment|// ASSERT Entry1 and Entry2 are in the same linked list
comment|//
name|ASSERT
argument_list|(
name|InternalBaseLibIsNodeInList
argument_list|(
name|FirstEntry
argument_list|,
name|SecondEntry
argument_list|,
name|TRUE
argument_list|)
argument_list|)
expr_stmt|;
comment|//
comment|// Ptr is the node pointed to by FirstEntry->ForwardLink
comment|//
name|Ptr
operator|=
name|RemoveEntryList
argument_list|(
name|FirstEntry
argument_list|)
expr_stmt|;
comment|//
comment|// If FirstEntry immediately follows SecondEntry, FirstEntry will be placed
comment|// immediately in front of SecondEntry
comment|//
if|if
condition|(
name|Ptr
operator|->
name|BackLink
operator|==
name|SecondEntry
condition|)
block|{
return|return
name|InsertTailList
argument_list|(
name|SecondEntry
argument_list|,
name|FirstEntry
argument_list|)
return|;
block|}
comment|//
comment|// Ptr == SecondEntry means SecondEntry immediately follows FirstEntry,
comment|// then there are no further steps necessary
comment|//
if|if
condition|(
name|Ptr
operator|==
name|InsertHeadList
argument_list|(
name|SecondEntry
argument_list|,
name|FirstEntry
argument_list|)
condition|)
block|{
return|return
name|Ptr
return|;
block|}
comment|//
comment|// Move SecondEntry to the front of Ptr
comment|//
name|RemoveEntryList
argument_list|(
name|SecondEntry
argument_list|)
expr_stmt|;
name|InsertTailList
argument_list|(
name|Ptr
argument_list|,
name|SecondEntry
argument_list|)
expr_stmt|;
return|return
name|SecondEntry
return|;
block|}
end_function

begin_comment
comment|/**   Removes a node from a doubly-linked list, and returns the node that follows   the removed node.    Removes the node Entry from a doubly-linked list. It is up to the caller of   this function to release the memory used by this node if that is required. On   exit, the node following Entry in the doubly-linked list is returned. If   Entry is the only node in the linked list, then the head node of the linked   list is returned.    If Entry is NULL, then ASSERT().   If Entry is the head node of an empty list, then ASSERT().   If PcdMaximumLinkedListLength is not zero, and the number of nodes in the   linked list containing Entry, including the Entry node, is greater than   or equal to PcdMaximumLinkedListLength, then ASSERT().    @param  Entry A pointer to a node in a linked list.    @return Entry.  **/
end_comment

begin_function
name|LIST_ENTRY
modifier|*
name|EFIAPI
name|RemoveEntryList
parameter_list|(
name|IN
name|CONST
name|LIST_ENTRY
modifier|*
name|Entry
parameter_list|)
block|{
name|ASSERT
argument_list|(
operator|!
name|IsListEmpty
argument_list|(
name|Entry
argument_list|)
argument_list|)
expr_stmt|;
name|Entry
operator|->
name|ForwardLink
operator|->
name|BackLink
operator|=
name|Entry
operator|->
name|BackLink
expr_stmt|;
name|Entry
operator|->
name|BackLink
operator|->
name|ForwardLink
operator|=
name|Entry
operator|->
name|ForwardLink
expr_stmt|;
return|return
name|Entry
operator|->
name|ForwardLink
return|;
block|}
end_function

end_unit

