begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/** @file    The library provides USB HID Class standard and specific requests defined   in USB HID Firmware Specification 7 section : Requests.      Copyright (c) 2004 - 2010, Intel Corporation. All rights reserved.<BR>   This program and the accompanying materials   are licensed and made available under the terms and conditions of the BSD License   which accompanies this distribution.  The full text of the license may be found at   http://opensource.org/licenses/bsd-license.php.      THE PROGRAM IS DISTRIBUTED UNDER THE BSD LICENSE ON AN "AS IS" BASIS,   WITHOUT WARRANTIES OR REPRESENTATIONS OF ANY KIND, EITHER EXPRESS OR IMPLIED.  **/
end_comment

begin_include
include|#
directive|include
file|"UefiUsbLibInternal.h"
end_include

begin_comment
comment|//
end_comment

begin_comment
comment|//  Hid RequestType Bits specifying characteristics of request.
end_comment

begin_comment
comment|//  Valid values are 10100001b (0xa1) or 00100001b (0x21).
end_comment

begin_comment
comment|//  The following description:
end_comment

begin_comment
comment|//    7 Data transfer direction
end_comment

begin_comment
comment|//        0 = Host to device
end_comment

begin_comment
comment|//        1 = Device to host
end_comment

begin_comment
comment|//    6..5 Type
end_comment

begin_comment
comment|//        1 = Class
end_comment

begin_comment
comment|//    4..0 Recipient
end_comment

begin_comment
comment|//        1 = Interface
end_comment

begin_comment
comment|//
end_comment

begin_comment
comment|/**   Get the descriptor of the specified USB HID interface.    Submit a USB get HID descriptor request for the USB device specified by UsbIo   and Interface and return the HID descriptor in HidDescriptor.   If UsbIo is NULL, then ASSERT().   If HidDescriptor is NULL, then ASSERT().    @param  UsbIo          A pointer to the USB I/O Protocol instance for the specific USB target.   @param  Interface      The index of the HID interface on the USB target.   @param  HidDescriptor  The pointer to the USB HID descriptor that was retrieved from                          the specified USB target and interface. Type EFI_USB_HID_DESCRIPTOR                          is defined in the MDE Package Industry Standard include file Usb.h.    @retval EFI_SUCCESS       The request executed successfully.   @retval EFI_TIMEOUT       A timeout occurred executing the request.   @retval EFI_DEVICE_ERROR  The request failed due to a device error.  **/
end_comment

begin_function
name|EFI_STATUS
name|EFIAPI
name|UsbGetHidDescriptor
parameter_list|(
name|IN
name|EFI_USB_IO_PROTOCOL
modifier|*
name|UsbIo
parameter_list|,
name|IN
name|UINT8
name|Interface
parameter_list|,
name|OUT
name|EFI_USB_HID_DESCRIPTOR
modifier|*
name|HidDescriptor
parameter_list|)
block|{
name|UINT32
name|Status
decl_stmt|;
name|EFI_STATUS
name|Result
decl_stmt|;
name|EFI_USB_DEVICE_REQUEST
name|Request
decl_stmt|;
name|ASSERT
argument_list|(
name|UsbIo
operator|!=
name|NULL
argument_list|)
expr_stmt|;
name|ASSERT
argument_list|(
name|HidDescriptor
operator|!=
name|NULL
argument_list|)
expr_stmt|;
name|Request
operator|.
name|RequestType
operator|=
name|USB_HID_GET_DESCRIPTOR_REQ_TYPE
expr_stmt|;
name|Request
operator|.
name|Request
operator|=
name|USB_REQ_GET_DESCRIPTOR
expr_stmt|;
name|Request
operator|.
name|Value
operator|=
call|(
name|UINT16
call|)
argument_list|(
name|USB_DESC_TYPE_HID
operator|<<
literal|8
argument_list|)
expr_stmt|;
name|Request
operator|.
name|Index
operator|=
name|Interface
expr_stmt|;
name|Request
operator|.
name|Length
operator|=
operator|(
name|UINT16
operator|)
sizeof|sizeof
argument_list|(
name|EFI_USB_HID_DESCRIPTOR
argument_list|)
expr_stmt|;
name|Result
operator|=
name|UsbIo
operator|->
name|UsbControlTransfer
argument_list|(
name|UsbIo
argument_list|,
operator|&
name|Request
argument_list|,
name|EfiUsbDataIn
argument_list|,
name|PcdGet32
argument_list|(
name|PcdUsbTransferTimeoutValue
argument_list|)
argument_list|,
name|HidDescriptor
argument_list|,
sizeof|sizeof
argument_list|(
name|EFI_USB_HID_DESCRIPTOR
argument_list|)
argument_list|,
operator|&
name|Status
argument_list|)
expr_stmt|;
return|return
name|Result
return|;
block|}
end_function

begin_comment
comment|/**   Get the report descriptor of the specified USB HID interface.    Submit a USB get HID report descriptor request for the USB device specified by   UsbIo and Interface and return the report descriptor in DescriptorBuffer.   If UsbIo is NULL, then ASSERT().   If DescriptorBuffer is NULL, then ASSERT().    @param  UsbIo             A pointer to the USB I/O Protocol instance for the specific USB target.   @param  Interface         The index of the report interface on the USB target.   @param  DescriptorLength  The size, in bytes, of DescriptorBuffer.   @param  DescriptorBuffer  A pointer to the buffer to store the report class descriptor.    @retval  EFI_SUCCESS           The request executed successfully.   @retval  EFI_OUT_OF_RESOURCES  The request could not be completed because the                                  buffer specified by DescriptorLength and DescriptorBuffer                                  is not large enough to hold the result of the request.   @retval  EFI_TIMEOUT           A timeout occurred executing the request.   @retval  EFI_DEVICE_ERROR      The request failed due to a device error.  **/
end_comment

begin_function
name|EFI_STATUS
name|EFIAPI
name|UsbGetReportDescriptor
parameter_list|(
name|IN
name|EFI_USB_IO_PROTOCOL
modifier|*
name|UsbIo
parameter_list|,
name|IN
name|UINT8
name|Interface
parameter_list|,
name|IN
name|UINT16
name|DescriptorLength
parameter_list|,
name|OUT
name|UINT8
modifier|*
name|DescriptorBuffer
parameter_list|)
block|{
name|UINT32
name|Status
decl_stmt|;
name|EFI_STATUS
name|Result
decl_stmt|;
name|EFI_USB_DEVICE_REQUEST
name|Request
decl_stmt|;
name|ASSERT
argument_list|(
name|UsbIo
operator|!=
name|NULL
argument_list|)
expr_stmt|;
name|ASSERT
argument_list|(
name|DescriptorBuffer
operator|!=
name|NULL
argument_list|)
expr_stmt|;
comment|//
comment|// Fill Device request packet
comment|//
name|Request
operator|.
name|RequestType
operator|=
name|USB_HID_GET_DESCRIPTOR_REQ_TYPE
expr_stmt|;
name|Request
operator|.
name|Request
operator|=
name|USB_REQ_GET_DESCRIPTOR
expr_stmt|;
name|Request
operator|.
name|Value
operator|=
call|(
name|UINT16
call|)
argument_list|(
name|USB_DESC_TYPE_REPORT
operator|<<
literal|8
argument_list|)
expr_stmt|;
name|Request
operator|.
name|Index
operator|=
name|Interface
expr_stmt|;
name|Request
operator|.
name|Length
operator|=
name|DescriptorLength
expr_stmt|;
name|Result
operator|=
name|UsbIo
operator|->
name|UsbControlTransfer
argument_list|(
name|UsbIo
argument_list|,
operator|&
name|Request
argument_list|,
name|EfiUsbDataIn
argument_list|,
name|PcdGet32
argument_list|(
name|PcdUsbTransferTimeoutValue
argument_list|)
argument_list|,
name|DescriptorBuffer
argument_list|,
name|DescriptorLength
argument_list|,
operator|&
name|Status
argument_list|)
expr_stmt|;
return|return
name|Result
return|;
block|}
end_function

begin_comment
comment|/**   Get the HID protocol of the specified USB HID interface.    Submit a USB get HID protocol request for the USB device specified by UsbIo   and Interface and return the protocol retrieved in Protocol.   If UsbIo is NULL, then ASSERT().   If Protocol is NULL, then ASSERT().    @param  UsbIo      A pointer to the USB I/O Protocol instance for the specific USB target.   @param  Interface  The index of the report interface on the USB target.   @param  Protocol   A pointer to the protocol for the specified USB target.    @retval  EFI_SUCCESS       The request executed successfully.   @retval  EFI_TIMEOUT       A timeout occurred executing the request.   @retval  EFI_DEVICE_ERROR  The request failed due to a device error.  **/
end_comment

begin_function
name|EFI_STATUS
name|EFIAPI
name|UsbGetProtocolRequest
parameter_list|(
name|IN
name|EFI_USB_IO_PROTOCOL
modifier|*
name|UsbIo
parameter_list|,
name|IN
name|UINT8
name|Interface
parameter_list|,
name|OUT
name|UINT8
modifier|*
name|Protocol
parameter_list|)
block|{
name|UINT32
name|Status
decl_stmt|;
name|EFI_STATUS
name|Result
decl_stmt|;
name|EFI_USB_DEVICE_REQUEST
name|Request
decl_stmt|;
name|ASSERT
argument_list|(
name|UsbIo
operator|!=
name|NULL
argument_list|)
expr_stmt|;
name|ASSERT
argument_list|(
name|Protocol
operator|!=
name|NULL
argument_list|)
expr_stmt|;
comment|//
comment|// Fill Device request packet
comment|//
name|Request
operator|.
name|RequestType
operator|=
name|USB_HID_CLASS_GET_REQ_TYPE
expr_stmt|;
name|Request
operator|.
name|Request
operator|=
name|EFI_USB_GET_PROTOCOL_REQUEST
expr_stmt|;
name|Request
operator|.
name|Value
operator|=
literal|0
expr_stmt|;
name|Request
operator|.
name|Index
operator|=
name|Interface
expr_stmt|;
name|Request
operator|.
name|Length
operator|=
literal|1
expr_stmt|;
name|Result
operator|=
name|UsbIo
operator|->
name|UsbControlTransfer
argument_list|(
name|UsbIo
argument_list|,
operator|&
name|Request
argument_list|,
name|EfiUsbDataIn
argument_list|,
name|PcdGet32
argument_list|(
name|PcdUsbTransferTimeoutValue
argument_list|)
argument_list|,
name|Protocol
argument_list|,
sizeof|sizeof
argument_list|(
name|UINT8
argument_list|)
argument_list|,
operator|&
name|Status
argument_list|)
expr_stmt|;
return|return
name|Result
return|;
block|}
end_function

begin_comment
comment|/**   Set the HID protocol of the specified USB HID interface.    Submit a USB set HID protocol request for the USB device specified by UsbIo   and Interface and set the protocol to the value specified by Protocol.   If UsbIo is NULL, then ASSERT().    @param  UsbIo      A pointer to the USB I/O Protocol instance for the specific USB target.   @param  Interface  The index of the report interface on the USB target.   @param  Protocol   The protocol value to set for the specified USB target.    @retval  EFI_SUCCESS       The request executed successfully.   @retval  EFI_TIMEOUT       A timeout occurred executing the request.   @retval  EFI_DEVICE_ERROR  The request failed due to a device error.  **/
end_comment

begin_function
name|EFI_STATUS
name|EFIAPI
name|UsbSetProtocolRequest
parameter_list|(
name|IN
name|EFI_USB_IO_PROTOCOL
modifier|*
name|UsbIo
parameter_list|,
name|IN
name|UINT8
name|Interface
parameter_list|,
name|IN
name|UINT8
name|Protocol
parameter_list|)
block|{
name|UINT32
name|Status
decl_stmt|;
name|EFI_STATUS
name|Result
decl_stmt|;
name|EFI_USB_DEVICE_REQUEST
name|Request
decl_stmt|;
name|ASSERT
argument_list|(
name|UsbIo
operator|!=
name|NULL
argument_list|)
expr_stmt|;
comment|//
comment|// Fill Device request packet
comment|//
name|Request
operator|.
name|RequestType
operator|=
name|USB_HID_CLASS_SET_REQ_TYPE
expr_stmt|;
name|Request
operator|.
name|Request
operator|=
name|EFI_USB_SET_PROTOCOL_REQUEST
expr_stmt|;
name|Request
operator|.
name|Value
operator|=
name|Protocol
expr_stmt|;
name|Request
operator|.
name|Index
operator|=
name|Interface
expr_stmt|;
name|Request
operator|.
name|Length
operator|=
literal|0
expr_stmt|;
name|Result
operator|=
name|UsbIo
operator|->
name|UsbControlTransfer
argument_list|(
name|UsbIo
argument_list|,
operator|&
name|Request
argument_list|,
name|EfiUsbNoData
argument_list|,
name|PcdGet32
argument_list|(
name|PcdUsbTransferTimeoutValue
argument_list|)
argument_list|,
name|NULL
argument_list|,
literal|0
argument_list|,
operator|&
name|Status
argument_list|)
expr_stmt|;
return|return
name|Result
return|;
block|}
end_function

begin_comment
comment|/**   Set the idle rate of the specified USB HID report.    Submit a USB set HID report idle request for the USB device specified by UsbIo,   Interface, and ReportId, and set the idle rate to the value specified by Duration.   If UsbIo is NULL, then ASSERT().    @param  UsbIo      A pointer to the USB I/O Protocol instance for the specific USB target.   @param  Interface  The index of the report interface on the USB target.   @param  ReportId   The identifier of the report to retrieve.   @param  Duration   The idle rate to set for the specified USB target.    @retval  EFI_SUCCESS       The request executed successfully.   @retval  EFI_TIMEOUT       A timeout occurred executing the request.   @retval  EFI_DEVICE_ERROR  The request failed due to a device error.  **/
end_comment

begin_function
name|EFI_STATUS
name|EFIAPI
name|UsbSetIdleRequest
parameter_list|(
name|IN
name|EFI_USB_IO_PROTOCOL
modifier|*
name|UsbIo
parameter_list|,
name|IN
name|UINT8
name|Interface
parameter_list|,
name|IN
name|UINT8
name|ReportId
parameter_list|,
name|IN
name|UINT8
name|Duration
parameter_list|)
block|{
name|UINT32
name|Status
decl_stmt|;
name|EFI_STATUS
name|Result
decl_stmt|;
name|EFI_USB_DEVICE_REQUEST
name|Request
decl_stmt|;
name|ASSERT
argument_list|(
name|UsbIo
operator|!=
name|NULL
argument_list|)
expr_stmt|;
comment|//
comment|// Fill Device request packet
comment|//
name|Request
operator|.
name|RequestType
operator|=
name|USB_HID_CLASS_SET_REQ_TYPE
expr_stmt|;
name|Request
operator|.
name|Request
operator|=
name|EFI_USB_SET_IDLE_REQUEST
expr_stmt|;
name|Request
operator|.
name|Value
operator|=
call|(
name|UINT16
call|)
argument_list|(
operator|(
name|Duration
operator|<<
literal|8
operator|)
operator||
name|ReportId
argument_list|)
expr_stmt|;
name|Request
operator|.
name|Index
operator|=
name|Interface
expr_stmt|;
name|Request
operator|.
name|Length
operator|=
literal|0
expr_stmt|;
name|Result
operator|=
name|UsbIo
operator|->
name|UsbControlTransfer
argument_list|(
name|UsbIo
argument_list|,
operator|&
name|Request
argument_list|,
name|EfiUsbNoData
argument_list|,
name|PcdGet32
argument_list|(
name|PcdUsbTransferTimeoutValue
argument_list|)
argument_list|,
name|NULL
argument_list|,
literal|0
argument_list|,
operator|&
name|Status
argument_list|)
expr_stmt|;
return|return
name|Result
return|;
block|}
end_function

begin_comment
comment|/**   Get the idle rate of the specified USB HID report.    Submit a USB get HID report idle request for the USB device specified by UsbIo,   Interface, and ReportId, and return the ide rate in Duration.   If UsbIo is NULL, then ASSERT().   If Duration is NULL, then ASSERT().    @param  UsbIo      A pointer to the USB I/O Protocol instance for the specific USB target.   @param  Interface  The index of the report interface on the USB target.   @param  ReportId   The identifier of the report to retrieve.   @param  Duration   A pointer to the idle rate retrieved from the specified USB target.    @retval  EFI_SUCCESS       The request executed successfully.   @retval  EFI_TIMEOUT       A timeout occurred executing the request.   @retval  EFI_DEVICE_ERROR  The request failed due to a device error.  **/
end_comment

begin_function
name|EFI_STATUS
name|EFIAPI
name|UsbGetIdleRequest
parameter_list|(
name|IN
name|EFI_USB_IO_PROTOCOL
modifier|*
name|UsbIo
parameter_list|,
name|IN
name|UINT8
name|Interface
parameter_list|,
name|IN
name|UINT8
name|ReportId
parameter_list|,
name|OUT
name|UINT8
modifier|*
name|Duration
parameter_list|)
block|{
name|UINT32
name|Status
decl_stmt|;
name|EFI_STATUS
name|Result
decl_stmt|;
name|EFI_USB_DEVICE_REQUEST
name|Request
decl_stmt|;
name|ASSERT
argument_list|(
name|UsbIo
operator|!=
name|NULL
argument_list|)
expr_stmt|;
name|ASSERT
argument_list|(
name|Duration
operator|!=
name|NULL
argument_list|)
expr_stmt|;
comment|//
comment|// Fill Device request packet
comment|//
name|Request
operator|.
name|RequestType
operator|=
name|USB_HID_CLASS_GET_REQ_TYPE
expr_stmt|;
name|Request
operator|.
name|Request
operator|=
name|EFI_USB_GET_IDLE_REQUEST
expr_stmt|;
name|Request
operator|.
name|Value
operator|=
name|ReportId
expr_stmt|;
name|Request
operator|.
name|Index
operator|=
name|Interface
expr_stmt|;
name|Request
operator|.
name|Length
operator|=
literal|1
expr_stmt|;
name|Result
operator|=
name|UsbIo
operator|->
name|UsbControlTransfer
argument_list|(
name|UsbIo
argument_list|,
operator|&
name|Request
argument_list|,
name|EfiUsbDataIn
argument_list|,
name|PcdGet32
argument_list|(
name|PcdUsbTransferTimeoutValue
argument_list|)
argument_list|,
name|Duration
argument_list|,
literal|1
argument_list|,
operator|&
name|Status
argument_list|)
expr_stmt|;
return|return
name|Result
return|;
block|}
end_function

begin_comment
comment|/**   Set the report descriptor of the specified USB HID interface.    Submit a USB set HID report request for the USB device specified by UsbIo,   Interface, ReportId, and ReportType, and set the report descriptor using the   buffer specified by ReportLength and Report.   If UsbIo is NULL, then ASSERT().   If Report is NULL, then ASSERT().    @param  UsbIo         A pointer to the USB I/O Protocol instance for the specific USB target.   @param  Interface     The index of the report interface on the USB target.   @param  ReportId      The identifier of the report to retrieve.   @param  ReportType    The type of report to retrieve.   @param  ReportLength  The size, in bytes, of Report.   @param  Report        A pointer to the report descriptor buffer to set.    @retval  EFI_SUCCESS       The request executed successfully.   @retval  EFI_TIMEOUT       A timeout occurred executing the request.   @retval  EFI_DEVICE_ERROR  The request failed due to a device error.  **/
end_comment

begin_function
name|EFI_STATUS
name|EFIAPI
name|UsbSetReportRequest
parameter_list|(
name|IN
name|EFI_USB_IO_PROTOCOL
modifier|*
name|UsbIo
parameter_list|,
name|IN
name|UINT8
name|Interface
parameter_list|,
name|IN
name|UINT8
name|ReportId
parameter_list|,
name|IN
name|UINT8
name|ReportType
parameter_list|,
name|IN
name|UINT16
name|ReportLen
parameter_list|,
name|IN
name|UINT8
modifier|*
name|Report
parameter_list|)
block|{
name|UINT32
name|Status
decl_stmt|;
name|EFI_STATUS
name|Result
decl_stmt|;
name|EFI_USB_DEVICE_REQUEST
name|Request
decl_stmt|;
name|ASSERT
argument_list|(
name|UsbIo
operator|!=
name|NULL
argument_list|)
expr_stmt|;
name|ASSERT
argument_list|(
name|Report
operator|!=
name|NULL
argument_list|)
expr_stmt|;
comment|//
comment|// Fill Device request packet
comment|//
name|Request
operator|.
name|RequestType
operator|=
name|USB_HID_CLASS_SET_REQ_TYPE
expr_stmt|;
name|Request
operator|.
name|Request
operator|=
name|EFI_USB_SET_REPORT_REQUEST
expr_stmt|;
name|Request
operator|.
name|Value
operator|=
call|(
name|UINT16
call|)
argument_list|(
operator|(
name|ReportType
operator|<<
literal|8
operator|)
operator||
name|ReportId
argument_list|)
expr_stmt|;
name|Request
operator|.
name|Index
operator|=
name|Interface
expr_stmt|;
name|Request
operator|.
name|Length
operator|=
name|ReportLen
expr_stmt|;
name|Result
operator|=
name|UsbIo
operator|->
name|UsbControlTransfer
argument_list|(
name|UsbIo
argument_list|,
operator|&
name|Request
argument_list|,
name|EfiUsbDataOut
argument_list|,
name|PcdGet32
argument_list|(
name|PcdUsbTransferTimeoutValue
argument_list|)
argument_list|,
name|Report
argument_list|,
name|ReportLen
argument_list|,
operator|&
name|Status
argument_list|)
expr_stmt|;
return|return
name|Result
return|;
block|}
end_function

begin_comment
comment|/**   Get the report descriptor of the specified USB HID interface.    Submit a USB get HID report request for the USB device specified by UsbIo,   Interface, ReportId, and ReportType, and return the report in the buffer   specified by Report.   If UsbIo is NULL, then ASSERT().   If Report is NULL, then ASSERT().    @param  UsbIo         A pointer to the USB I/O Protocol instance for the specific USB target.   @param  Interface     The index of the report interface on the USB target.   @param  ReportId      The identifier of the report to retrieve.   @param  ReportType    The type of report to retrieve.   @param  ReportLength  The size, in bytes, of Report.   @param  Report        A pointer to the buffer to store the report descriptor.    @retval  EFI_SUCCESS           The request executed successfully.   @retval  EFI_OUT_OF_RESOURCES  The request could not be completed because the                                  buffer specified by ReportLength and Report is not                                  large enough to hold the result of the request.   @retval  EFI_TIMEOUT           A timeout occurred executing the request.   @retval  EFI_DEVICE_ERROR      The request failed due to a device error.  **/
end_comment

begin_function
name|EFI_STATUS
name|EFIAPI
name|UsbGetReportRequest
parameter_list|(
name|IN
name|EFI_USB_IO_PROTOCOL
modifier|*
name|UsbIo
parameter_list|,
name|IN
name|UINT8
name|Interface
parameter_list|,
name|IN
name|UINT8
name|ReportId
parameter_list|,
name|IN
name|UINT8
name|ReportType
parameter_list|,
name|IN
name|UINT16
name|ReportLen
parameter_list|,
name|OUT
name|UINT8
modifier|*
name|Report
parameter_list|)
block|{
name|UINT32
name|Status
decl_stmt|;
name|EFI_STATUS
name|Result
decl_stmt|;
name|EFI_USB_DEVICE_REQUEST
name|Request
decl_stmt|;
name|ASSERT
argument_list|(
name|UsbIo
operator|!=
name|NULL
argument_list|)
expr_stmt|;
name|ASSERT
argument_list|(
name|Report
operator|!=
name|NULL
argument_list|)
expr_stmt|;
comment|//
comment|// Fill Device request packet
comment|//
name|Request
operator|.
name|RequestType
operator|=
name|USB_HID_CLASS_GET_REQ_TYPE
expr_stmt|;
name|Request
operator|.
name|Request
operator|=
name|EFI_USB_GET_REPORT_REQUEST
expr_stmt|;
name|Request
operator|.
name|Value
operator|=
call|(
name|UINT16
call|)
argument_list|(
operator|(
name|ReportType
operator|<<
literal|8
operator|)
operator||
name|ReportId
argument_list|)
expr_stmt|;
name|Request
operator|.
name|Index
operator|=
name|Interface
expr_stmt|;
name|Request
operator|.
name|Length
operator|=
name|ReportLen
expr_stmt|;
name|Result
operator|=
name|UsbIo
operator|->
name|UsbControlTransfer
argument_list|(
name|UsbIo
argument_list|,
operator|&
name|Request
argument_list|,
name|EfiUsbDataIn
argument_list|,
name|PcdGet32
argument_list|(
name|PcdUsbTransferTimeoutValue
argument_list|)
argument_list|,
name|Report
argument_list|,
name|ReportLen
argument_list|,
operator|&
name|Status
argument_list|)
expr_stmt|;
return|return
name|Result
return|;
block|}
end_function

end_unit

