begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/** @file   Base Print Library instance implementation.    Copyright (c) 2006 - 2017, Intel Corporation. All rights reserved.<BR>   Portions copyright (c) 2008 - 2009, Apple Inc. All rights reserved.<BR>   This program and the accompanying materials   are licensed and made available under the terms and conditions of the BSD License   which accompanies this distribution.  The full text of the license may be found at   http://opensource.org/licenses/bsd-license.php.    THE PROGRAM IS DISTRIBUTED UNDER THE BSD LICENSE ON AN "AS IS" BASIS,   WITHOUT WARRANTIES OR REPRESENTATIONS OF ANY KIND, EITHER EXPRESS OR IMPLIED.  **/
end_comment

begin_include
include|#
directive|include
file|"PrintLibInternal.h"
end_include

begin_comment
comment|//
end_comment

begin_comment
comment|// Declare a VA_LIST global variable that is used in calls to BasePrintLibSPrintMarker()
end_comment

begin_comment
comment|// when the BASE_LIST parameter is valid and the VA_LIST parameter is ignored.
end_comment

begin_comment
comment|// A NULL VA_LIST can not be passed into  BasePrintLibSPrintMarker() because some
end_comment

begin_comment
comment|// compilers define VA_LIST to be a structure.
end_comment

begin_comment
comment|//
end_comment

begin_decl_stmt
name|VA_LIST
name|gNullVaList
decl_stmt|;
end_decl_stmt

begin_define
define|#
directive|define
name|ASSERT_UNICODE_BUFFER
parameter_list|(
name|Buffer
parameter_list|)
value|ASSERT ((((UINTN) (Buffer))& 0x01) == 0)
end_define

begin_comment
comment|/**   Produces a Null-terminated Unicode string in an output buffer based on   a Null-terminated Unicode format string and a VA_LIST argument list.    This function is similar as vsnprintf_s defined in C11.    Produces a Null-terminated Unicode string in the output buffer specified by StartOfBuffer   and BufferSize.   The Unicode string is produced by parsing the format string specified by FormatString.   Arguments are pulled from the variable argument list specified by Marker based on the   contents of the format string.   The number of Unicode characters in the produced output buffer is returned not including   the Null-terminator.    If StartOfBuffer is not aligned on a 16-bit boundary, then ASSERT().   If FormatString is not aligned on a 16-bit boundary, then ASSERT().    If BufferSize> 1 and StartOfBuffer is NULL, then ASSERT(). Also, the output buffer is   unmodified and 0 is returned.   If BufferSize> 1 and FormatString is NULL, then ASSERT(). Also, the output buffer is   unmodified and 0 is returned.   If PcdMaximumUnicodeStringLength is not zero, and BufferSize>   (PcdMaximumUnicodeStringLength * sizeof (CHAR16) + 1), then ASSERT(). Also, the output   buffer is unmodified and 0 is returned.   If PcdMaximumUnicodeStringLength is not zero, and FormatString contains more than   PcdMaximumUnicodeStringLength Unicode characters not including the Null-terminator, then   ASSERT(). Also, the output buffer is unmodified and 0 is returned.    If BufferSize is 0 or 1, then the output buffer is unmodified and 0 is returned.    @param  StartOfBuffer   A pointer to the output buffer for the produced Null-terminated                           Unicode string.   @param  BufferSize      The size, in bytes, of the output buffer specified by StartOfBuffer.   @param  FormatString    A Null-terminated Unicode format string.   @param  Marker          VA_LIST marker for the variable argument list.    @return The number of Unicode characters in the produced output buffer not including the           Null-terminator.  **/
end_comment

begin_function
name|UINTN
name|EFIAPI
name|UnicodeVSPrint
parameter_list|(
name|OUT
name|CHAR16
modifier|*
name|StartOfBuffer
parameter_list|,
name|IN
name|UINTN
name|BufferSize
parameter_list|,
name|IN
name|CONST
name|CHAR16
modifier|*
name|FormatString
parameter_list|,
name|IN
name|VA_LIST
name|Marker
parameter_list|)
block|{
name|ASSERT_UNICODE_BUFFER
argument_list|(
name|StartOfBuffer
argument_list|)
expr_stmt|;
name|ASSERT_UNICODE_BUFFER
argument_list|(
name|FormatString
argument_list|)
expr_stmt|;
return|return
name|BasePrintLibSPrintMarker
argument_list|(
operator|(
name|CHAR8
operator|*
operator|)
name|StartOfBuffer
argument_list|,
name|BufferSize
operator|>>
literal|1
argument_list|,
name|FORMAT_UNICODE
operator||
name|OUTPUT_UNICODE
argument_list|,
operator|(
name|CHAR8
operator|*
operator|)
name|FormatString
argument_list|,
name|Marker
argument_list|,
name|NULL
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**   Produces a Null-terminated Unicode string in an output buffer based on   a Null-terminated Unicode format string and a BASE_LIST argument list.    Produces a Null-terminated Unicode string in the output buffer specified by StartOfBuffer   and BufferSize.   The Unicode string is produced by parsing the format string specified by FormatString.   Arguments are pulled from the variable argument list specified by Marker based on the   contents of the format string.   The number of Unicode characters in the produced output buffer is returned not including   the Null-terminator.    If StartOfBuffer is not aligned on a 16-bit boundary, then ASSERT().   If FormatString is not aligned on a 16-bit boundary, then ASSERT().    If BufferSize> 1 and StartOfBuffer is NULL, then ASSERT(). Also, the output buffer is   unmodified and 0 is returned.   If BufferSize> 1 and FormatString is NULL, then ASSERT(). Also, the output buffer is   unmodified and 0 is returned.   If PcdMaximumUnicodeStringLength is not zero, and BufferSize>   (PcdMaximumUnicodeStringLength * sizeof (CHAR16) + 1), then ASSERT(). Also, the output   buffer is unmodified and 0 is returned.   If PcdMaximumUnicodeStringLength is not zero, and FormatString contains more than   PcdMaximumUnicodeStringLength Unicode characters not including the Null-terminator, then   ASSERT(). Also, the output buffer is unmodified and 0 is returned.    If BufferSize is 0 or 1, then the output buffer is unmodified and 0 is returned.    @param  StartOfBuffer   A pointer to the output buffer for the produced Null-terminated                           Unicode string.   @param  BufferSize      The size, in bytes, of the output buffer specified by StartOfBuffer.   @param  FormatString    A Null-terminated Unicode format string.   @param  Marker          BASE_LIST marker for the variable argument list.    @return The number of Unicode characters in the produced output buffer not including the           Null-terminator.  **/
end_comment

begin_function
name|UINTN
name|EFIAPI
name|UnicodeBSPrint
parameter_list|(
name|OUT
name|CHAR16
modifier|*
name|StartOfBuffer
parameter_list|,
name|IN
name|UINTN
name|BufferSize
parameter_list|,
name|IN
name|CONST
name|CHAR16
modifier|*
name|FormatString
parameter_list|,
name|IN
name|BASE_LIST
name|Marker
parameter_list|)
block|{
name|ASSERT_UNICODE_BUFFER
argument_list|(
name|StartOfBuffer
argument_list|)
expr_stmt|;
name|ASSERT_UNICODE_BUFFER
argument_list|(
name|FormatString
argument_list|)
expr_stmt|;
return|return
name|BasePrintLibSPrintMarker
argument_list|(
operator|(
name|CHAR8
operator|*
operator|)
name|StartOfBuffer
argument_list|,
name|BufferSize
operator|>>
literal|1
argument_list|,
name|FORMAT_UNICODE
operator||
name|OUTPUT_UNICODE
argument_list|,
operator|(
name|CHAR8
operator|*
operator|)
name|FormatString
argument_list|,
name|gNullVaList
argument_list|,
name|Marker
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**   Produces a Null-terminated Unicode string in an output buffer based on a Null-terminated   Unicode format string and variable argument list.    This function is similar as snprintf_s defined in C11.    Produces a Null-terminated Unicode string in the output buffer specified by StartOfBuffer   and BufferSize.   The Unicode string is produced by parsing the format string specified by FormatString.   Arguments are pulled from the variable argument list based on the contents of the format string.   The number of Unicode characters in the produced output buffer is returned not including   the Null-terminator.    If StartOfBuffer is not aligned on a 16-bit boundary, then ASSERT().   If FormatString is not aligned on a 16-bit boundary, then ASSERT().    If BufferSize> 1 and StartOfBuffer is NULL, then ASSERT(). Also, the output buffer is   unmodified and 0 is returned.   If BufferSize> 1 and FormatString is NULL, then ASSERT(). Also, the output buffer is   unmodified and 0 is returned.   If PcdMaximumUnicodeStringLength is not zero, and BufferSize>   (PcdMaximumUnicodeStringLength * sizeof (CHAR16) + 1), then ASSERT(). Also, the output   buffer is unmodified and 0 is returned.   If PcdMaximumUnicodeStringLength is not zero, and FormatString contains more than   PcdMaximumUnicodeStringLength Unicode characters not including the Null-terminator, then   ASSERT(). Also, the output buffer is unmodified and 0 is returned.    If BufferSize is 0 or 1, then the output buffer is unmodified and 0 is returned.    @param  StartOfBuffer   A pointer to the output buffer for the produced Null-terminated                           Unicode string.   @param  BufferSize      The size, in bytes, of the output buffer specified by StartOfBuffer.   @param  FormatString    A Null-terminated Unicode format string.   @param  ...             Variable argument list whose contents are accessed based on the                           format string specified by FormatString.    @return The number of Unicode characters in the produced output buffer not including the           Null-terminator.  **/
end_comment

begin_function
name|UINTN
name|EFIAPI
name|UnicodeSPrint
parameter_list|(
name|OUT
name|CHAR16
modifier|*
name|StartOfBuffer
parameter_list|,
name|IN
name|UINTN
name|BufferSize
parameter_list|,
name|IN
name|CONST
name|CHAR16
modifier|*
name|FormatString
parameter_list|,
modifier|...
parameter_list|)
block|{
name|VA_LIST
name|Marker
decl_stmt|;
name|UINTN
name|NumberOfPrinted
decl_stmt|;
name|VA_START
argument_list|(
name|Marker
argument_list|,
name|FormatString
argument_list|)
expr_stmt|;
name|NumberOfPrinted
operator|=
name|UnicodeVSPrint
argument_list|(
name|StartOfBuffer
argument_list|,
name|BufferSize
argument_list|,
name|FormatString
argument_list|,
name|Marker
argument_list|)
expr_stmt|;
name|VA_END
argument_list|(
name|Marker
argument_list|)
expr_stmt|;
return|return
name|NumberOfPrinted
return|;
block|}
end_function

begin_comment
comment|/**   Produces a Null-terminated Unicode string in an output buffer based on a Null-terminated   ASCII format string and a VA_LIST argument list.    This function is similar as vsnprintf_s defined in C11.    Produces a Null-terminated Unicode string in the output buffer specified by StartOfBuffer   and BufferSize.   The Unicode string is produced by parsing the format string specified by FormatString.   Arguments are pulled from the variable argument list specified by Marker based on the   contents of the format string.   The number of Unicode characters in the produced output buffer is returned not including   the Null-terminator.    If StartOfBuffer is not aligned on a 16-bit boundary, then ASSERT().    If BufferSize> 1 and StartOfBuffer is NULL, then ASSERT(). Also, the output buffer is   unmodified and 0 is returned.   If BufferSize> 1 and FormatString is NULL, then ASSERT(). Also, the output buffer is   unmodified and 0 is returned.   If PcdMaximumUnicodeStringLength is not zero, and BufferSize>   (PcdMaximumUnicodeStringLength * sizeof (CHAR16) + 1), then ASSERT(). Also, the output   buffer is unmodified and 0 is returned.   If PcdMaximumAsciiStringLength is not zero, and FormatString contains more than   PcdMaximumAsciiStringLength Ascii characters not including the Null-terminator, then   ASSERT(). Also, the output buffer is unmodified and 0 is returned.    If BufferSize is 0 or 1, then no output buffer is produced and 0 is returned.    @param  StartOfBuffer   A pointer to the output buffer for the produced Null-terminated                           Unicode string.   @param  BufferSize      The size, in bytes, of the output buffer specified by StartOfBuffer.   @param  FormatString    A Null-terminated ASCII format string.   @param  Marker          VA_LIST marker for the variable argument list.    @return The number of Unicode characters in the produced output buffer not including the           Null-terminator.  **/
end_comment

begin_function
name|UINTN
name|EFIAPI
name|UnicodeVSPrintAsciiFormat
parameter_list|(
name|OUT
name|CHAR16
modifier|*
name|StartOfBuffer
parameter_list|,
name|IN
name|UINTN
name|BufferSize
parameter_list|,
name|IN
name|CONST
name|CHAR8
modifier|*
name|FormatString
parameter_list|,
name|IN
name|VA_LIST
name|Marker
parameter_list|)
block|{
name|ASSERT_UNICODE_BUFFER
argument_list|(
name|StartOfBuffer
argument_list|)
expr_stmt|;
return|return
name|BasePrintLibSPrintMarker
argument_list|(
operator|(
name|CHAR8
operator|*
operator|)
name|StartOfBuffer
argument_list|,
name|BufferSize
operator|>>
literal|1
argument_list|,
name|OUTPUT_UNICODE
argument_list|,
name|FormatString
argument_list|,
name|Marker
argument_list|,
name|NULL
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**   Produces a Null-terminated Unicode string in an output buffer based on a Null-terminated   ASCII format string and a BASE_LIST argument list.    Produces a Null-terminated Unicode string in the output buffer specified by StartOfBuffer   and BufferSize.   The Unicode string is produced by parsing the format string specified by FormatString.   Arguments are pulled from the variable argument list specified by Marker based on the   contents of the format string.   The number of Unicode characters in the produced output buffer is returned not including   the Null-terminator.    If StartOfBuffer is not aligned on a 16-bit boundary, then ASSERT().    If BufferSize> 1 and StartOfBuffer is NULL, then ASSERT(). Also, the output buffer is   unmodified and 0 is returned.   If BufferSize> 1 and FormatString is NULL, then ASSERT(). Also, the output buffer is   unmodified and 0 is returned.   If PcdMaximumUnicodeStringLength is not zero, and BufferSize>   (PcdMaximumUnicodeStringLength * sizeof (CHAR16) + 1), then ASSERT(). Also, the output   buffer is unmodified and 0 is returned.   If PcdMaximumAsciiStringLength is not zero, and FormatString contains more than   PcdMaximumAsciiStringLength Ascii characters not including the Null-terminator, then   ASSERT(). Also, the output buffer is unmodified and 0 is returned.    If BufferSize is 0 or 1, then no output buffer is produced and 0 is returned.    @param  StartOfBuffer   A pointer to the output buffer for the produced Null-terminated                           Unicode string.   @param  BufferSize      The size, in bytes, of the output buffer specified by StartOfBuffer.   @param  FormatString    A Null-terminated ASCII format string.   @param  Marker          BASE_LIST marker for the variable argument list.    @return The number of Unicode characters in the produced output buffer not including the           Null-terminator.  **/
end_comment

begin_function
name|UINTN
name|EFIAPI
name|UnicodeBSPrintAsciiFormat
parameter_list|(
name|OUT
name|CHAR16
modifier|*
name|StartOfBuffer
parameter_list|,
name|IN
name|UINTN
name|BufferSize
parameter_list|,
name|IN
name|CONST
name|CHAR8
modifier|*
name|FormatString
parameter_list|,
name|IN
name|BASE_LIST
name|Marker
parameter_list|)
block|{
name|ASSERT_UNICODE_BUFFER
argument_list|(
name|StartOfBuffer
argument_list|)
expr_stmt|;
return|return
name|BasePrintLibSPrintMarker
argument_list|(
operator|(
name|CHAR8
operator|*
operator|)
name|StartOfBuffer
argument_list|,
name|BufferSize
operator|>>
literal|1
argument_list|,
name|OUTPUT_UNICODE
argument_list|,
name|FormatString
argument_list|,
name|gNullVaList
argument_list|,
name|Marker
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**   Produces a Null-terminated Unicode string in an output buffer based on a Null-terminated   ASCII format string and  variable argument list.    This function is similar as snprintf_s defined in C11.    Produces a Null-terminated Unicode string in the output buffer specified by StartOfBuffer   and BufferSize.   The Unicode string is produced by parsing the format string specified by FormatString.   Arguments are pulled from the variable argument list based on the contents of the   format string.   The number of Unicode characters in the produced output buffer is returned not including   the Null-terminator.    If StartOfBuffer is not aligned on a 16-bit boundary, then ASSERT().    If BufferSize> 1 and StartOfBuffer is NULL, then ASSERT(). Also, the output buffer is   unmodified and 0 is returned.   If BufferSize> 1 and FormatString is NULL, then ASSERT(). Also, the output buffer is   unmodified and 0 is returned.   If PcdMaximumUnicodeStringLength is not zero, and BufferSize>   (PcdMaximumUnicodeStringLength * sizeof (CHAR16) + 1), then ASSERT(). Also, the output   buffer is unmodified and 0 is returned.   If PcdMaximumAsciiStringLength is not zero, and FormatString contains more than   PcdMaximumAsciiStringLength Ascii characters not including the Null-terminator, then   ASSERT(). Also, the output buffer is unmodified and 0 is returned.    If BufferSize is 0 or 1, then no output buffer is produced and 0 is returned.    @param  StartOfBuffer   A pointer to the output buffer for the produced Null-terminated                           Unicode string.   @param  BufferSize      The size, in bytes, of the output buffer specified by StartOfBuffer.   @param  FormatString    A Null-terminated ASCII format string.   @param  ...             Variable argument list whose contents are accessed based on the                           format string specified by FormatString.    @return The number of Unicode characters in the produced output buffer not including the           Null-terminator.  **/
end_comment

begin_function
name|UINTN
name|EFIAPI
name|UnicodeSPrintAsciiFormat
parameter_list|(
name|OUT
name|CHAR16
modifier|*
name|StartOfBuffer
parameter_list|,
name|IN
name|UINTN
name|BufferSize
parameter_list|,
name|IN
name|CONST
name|CHAR8
modifier|*
name|FormatString
parameter_list|,
modifier|...
parameter_list|)
block|{
name|VA_LIST
name|Marker
decl_stmt|;
name|UINTN
name|NumberOfPrinted
decl_stmt|;
name|VA_START
argument_list|(
name|Marker
argument_list|,
name|FormatString
argument_list|)
expr_stmt|;
name|NumberOfPrinted
operator|=
name|UnicodeVSPrintAsciiFormat
argument_list|(
name|StartOfBuffer
argument_list|,
name|BufferSize
argument_list|,
name|FormatString
argument_list|,
name|Marker
argument_list|)
expr_stmt|;
name|VA_END
argument_list|(
name|Marker
argument_list|)
expr_stmt|;
return|return
name|NumberOfPrinted
return|;
block|}
end_function

begin_ifndef
ifndef|#
directive|ifndef
name|DISABLE_NEW_DEPRECATED_INTERFACES
end_ifndef

begin_comment
comment|/**   [ATTENTION] This function is deprecated for security reason.    Converts a decimal value to a Null-terminated Unicode string.      Converts the decimal number specified by Value to a Null-terminated Unicode    string specified by Buffer containing at most Width characters. No padding of spaces    is ever performed. If Width is 0 then a width of MAXIMUM_VALUE_CHARACTERS is assumed.   The number of Unicode characters in Buffer is returned not including the Null-terminator.   If the conversion contains more than Width characters, then only the first   Width characters are returned, and the total number of characters    required to perform the conversion is returned.   Additional conversion parameters are specified in Flags.        The Flags bit LEFT_JUSTIFY is always ignored.   All conversions are left justified in Buffer.   If Width is 0, PREFIX_ZERO is ignored in Flags.   If COMMA_TYPE is set in Flags, then PREFIX_ZERO is ignored in Flags, and commas   are inserted every 3rd digit starting from the right.   If RADIX_HEX is set in Flags, then the output buffer will be    formatted in hexadecimal format.   If Value is< 0 and RADIX_HEX is not set in Flags, then the fist character in Buffer is a '-'.   If PREFIX_ZERO is set in Flags and PREFIX_ZERO is not being ignored,    then Buffer is padded with '0' characters so the combination of the optional '-'    sign character, '0' characters, digit characters for Value, and the Null-terminator   add up to Width characters.   If both COMMA_TYPE and RADIX_HEX are set in Flags, then ASSERT().   If Buffer is NULL, then ASSERT().   If Buffer is not aligned on a 16-bit boundary, then ASSERT().   If unsupported bits are set in Flags, then ASSERT().   If both COMMA_TYPE and RADIX_HEX are set in Flags, then ASSERT().   If Width>= MAXIMUM_VALUE_CHARACTERS, then ASSERT()    @param  Buffer  The pointer to the output buffer for the produced Null-terminated                   Unicode string.   @param  Flags   The bitmask of flags that specify left justification, zero pad, and commas.   @param  Value   The 64-bit signed value to convert to a string.   @param  Width   The maximum number of Unicode characters to place in Buffer, not including                   the Null-terminator.      @return The number of Unicode characters in Buffer not including the Null-terminator.  **/
end_comment

begin_function
name|UINTN
name|EFIAPI
name|UnicodeValueToString
parameter_list|(
name|IN
name|OUT
name|CHAR16
modifier|*
name|Buffer
parameter_list|,
name|IN
name|UINTN
name|Flags
parameter_list|,
name|IN
name|INT64
name|Value
parameter_list|,
name|IN
name|UINTN
name|Width
parameter_list|)
block|{
name|ASSERT_UNICODE_BUFFER
argument_list|(
name|Buffer
argument_list|)
expr_stmt|;
return|return
name|BasePrintLibConvertValueToString
argument_list|(
operator|(
name|CHAR8
operator|*
operator|)
name|Buffer
argument_list|,
name|Flags
argument_list|,
name|Value
argument_list|,
name|Width
argument_list|,
literal|2
argument_list|)
return|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/**   Converts a decimal value to a Null-terminated Unicode string.    Converts the decimal number specified by Value to a Null-terminated Unicode   string specified by Buffer containing at most Width characters. No padding of   spaces is ever performed. If Width is 0 then a width of   MAXIMUM_VALUE_CHARACTERS is assumed. If the conversion contains more than   Width characters, then only the first Width characters are placed in Buffer.   Additional conversion parameters are specified in Flags.    The Flags bit LEFT_JUSTIFY is always ignored.   All conversions are left justified in Buffer.   If Width is 0, PREFIX_ZERO is ignored in Flags.   If COMMA_TYPE is set in Flags, then PREFIX_ZERO is ignored in Flags, and   commas are inserted every 3rd digit starting from the right.   If RADIX_HEX is set in Flags, then the output buffer will be formatted in   hexadecimal format.   If Value is< 0 and RADIX_HEX is not set in Flags, then the fist character in   Buffer is a '-'.   If PREFIX_ZERO is set in Flags and PREFIX_ZERO is not being ignored, then   Buffer is padded with '0' characters so the combination of the optional '-'   sign character, '0' characters, digit characters for Value, and the   Null-terminator add up to Width characters.    If Buffer is not aligned on a 16-bit boundary, then ASSERT().   If an error would be returned, then the function will also ASSERT().    @param  Buffer      The pointer to the output buffer for the produced                       Null-terminated Unicode string.   @param  BufferSize  The size of Buffer in bytes, including the                       Null-terminator.   @param  Flags       The bitmask of flags that specify left justification,                       zero pad, and commas.   @param  Value       The 64-bit signed value to convert to a string.   @param  Width       The maximum number of Unicode characters to place in                       Buffer, not including the Null-terminator.    @retval RETURN_SUCCESS           The decimal value is converted.   @retval RETURN_BUFFER_TOO_SMALL  If BufferSize cannot hold the converted                                    value.   @retval RETURN_INVALID_PARAMETER If Buffer is NULL.                                    If PcdMaximumUnicodeStringLength is not                                    zero, and BufferSize is greater than                                    (PcdMaximumUnicodeStringLength *                                    sizeof (CHAR16) + 1).                                    If unsupported bits are set in Flags.                                    If both COMMA_TYPE and RADIX_HEX are set in                                    Flags.                                    If Width>= MAXIMUM_VALUE_CHARACTERS.  **/
end_comment

begin_function
name|RETURN_STATUS
name|EFIAPI
name|UnicodeValueToStringS
parameter_list|(
name|IN
name|OUT
name|CHAR16
modifier|*
name|Buffer
parameter_list|,
name|IN
name|UINTN
name|BufferSize
parameter_list|,
name|IN
name|UINTN
name|Flags
parameter_list|,
name|IN
name|INT64
name|Value
parameter_list|,
name|IN
name|UINTN
name|Width
parameter_list|)
block|{
name|ASSERT_UNICODE_BUFFER
argument_list|(
name|Buffer
argument_list|)
expr_stmt|;
return|return
name|BasePrintLibConvertValueToStringS
argument_list|(
operator|(
name|CHAR8
operator|*
operator|)
name|Buffer
argument_list|,
name|BufferSize
argument_list|,
name|Flags
argument_list|,
name|Value
argument_list|,
name|Width
argument_list|,
literal|2
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**   Produces a Null-terminated ASCII string in an output buffer based on a Null-terminated   ASCII format string and a VA_LIST argument list.    This function is similar as vsnprintf_s defined in C11.    Produces a Null-terminated ASCII string in the output buffer specified by StartOfBuffer   and BufferSize.   The ASCII string is produced by parsing the format string specified by FormatString.   Arguments are pulled from the variable argument list specified by Marker based on   the contents of the format string.   The number of ASCII characters in the produced output buffer is returned not including   the Null-terminator.    If BufferSize> 0 and StartOfBuffer is NULL, then ASSERT(). Also, the output buffer is   unmodified and 0 is returned.   If BufferSize> 0 and FormatString is NULL, then ASSERT(). Also, the output buffer is   unmodified and 0 is returned.   If PcdMaximumAsciiStringLength is not zero, and BufferSize>   (PcdMaximumAsciiStringLength * sizeof (CHAR8)), then ASSERT(). Also, the output buffer   is unmodified and 0 is returned.   If PcdMaximumAsciiStringLength is not zero, and FormatString contains more than   PcdMaximumAsciiStringLength Ascii characters not including the Null-terminator, then   ASSERT(). Also, the output buffer is unmodified and 0 is returned.    If BufferSize is 0, then no output buffer is produced and 0 is returned.    @param  StartOfBuffer   A pointer to the output buffer for the produced Null-terminated                           ASCII string.   @param  BufferSize      The size, in bytes, of the output buffer specified by StartOfBuffer.   @param  FormatString    A Null-terminated ASCII format string.   @param  Marker          VA_LIST marker for the variable argument list.    @return The number of ASCII characters in the produced output buffer not including the           Null-terminator.  **/
end_comment

begin_function
name|UINTN
name|EFIAPI
name|AsciiVSPrint
parameter_list|(
name|OUT
name|CHAR8
modifier|*
name|StartOfBuffer
parameter_list|,
name|IN
name|UINTN
name|BufferSize
parameter_list|,
name|IN
name|CONST
name|CHAR8
modifier|*
name|FormatString
parameter_list|,
name|IN
name|VA_LIST
name|Marker
parameter_list|)
block|{
return|return
name|BasePrintLibSPrintMarker
argument_list|(
name|StartOfBuffer
argument_list|,
name|BufferSize
argument_list|,
literal|0
argument_list|,
name|FormatString
argument_list|,
name|Marker
argument_list|,
name|NULL
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**   Produces a Null-terminated ASCII string in an output buffer based on a Null-terminated   ASCII format string and a BASE_LIST argument list.    Produces a Null-terminated ASCII string in the output buffer specified by StartOfBuffer   and BufferSize.   The ASCII string is produced by parsing the format string specified by FormatString.   Arguments are pulled from the variable argument list specified by Marker based on   the contents of the format string.   The number of ASCII characters in the produced output buffer is returned not including   the Null-terminator.    If BufferSize> 0 and StartOfBuffer is NULL, then ASSERT(). Also, the output buffer is   unmodified and 0 is returned.   If BufferSize> 0 and FormatString is NULL, then ASSERT(). Also, the output buffer is   unmodified and 0 is returned.   If PcdMaximumAsciiStringLength is not zero, and BufferSize>   (PcdMaximumAsciiStringLength * sizeof (CHAR8)), then ASSERT(). Also, the output buffer   is unmodified and 0 is returned.   If PcdMaximumAsciiStringLength is not zero, and FormatString contains more than   PcdMaximumAsciiStringLength Ascii characters not including the Null-terminator, then   ASSERT(). Also, the output buffer is unmodified and 0 is returned.    If BufferSize is 0, then no output buffer is produced and 0 is returned.    @param  StartOfBuffer   A pointer to the output buffer for the produced Null-terminated                           ASCII string.   @param  BufferSize      The size, in bytes, of the output buffer specified by StartOfBuffer.   @param  FormatString    A Null-terminated ASCII format string.   @param  Marker          BASE_LIST marker for the variable argument list.    @return The number of ASCII characters in the produced output buffer not including the           Null-terminator.  **/
end_comment

begin_function
name|UINTN
name|EFIAPI
name|AsciiBSPrint
parameter_list|(
name|OUT
name|CHAR8
modifier|*
name|StartOfBuffer
parameter_list|,
name|IN
name|UINTN
name|BufferSize
parameter_list|,
name|IN
name|CONST
name|CHAR8
modifier|*
name|FormatString
parameter_list|,
name|IN
name|BASE_LIST
name|Marker
parameter_list|)
block|{
return|return
name|BasePrintLibSPrintMarker
argument_list|(
name|StartOfBuffer
argument_list|,
name|BufferSize
argument_list|,
literal|0
argument_list|,
name|FormatString
argument_list|,
name|gNullVaList
argument_list|,
name|Marker
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**   Produces a Null-terminated ASCII string in an output buffer based on a Null-terminated   ASCII format string and  variable argument list.    This function is similar as snprintf_s defined in C11.    Produces a Null-terminated ASCII string in the output buffer specified by StartOfBuffer   and BufferSize.   The ASCII string is produced by parsing the format string specified by FormatString.   Arguments are pulled from the variable argument list based on the contents of the   format string.   The number of ASCII characters in the produced output buffer is returned not including   the Null-terminator.    If BufferSize> 0 and StartOfBuffer is NULL, then ASSERT(). Also, the output buffer is   unmodified and 0 is returned.   If BufferSize> 0 and FormatString is NULL, then ASSERT(). Also, the output buffer is   unmodified and 0 is returned.   If PcdMaximumAsciiStringLength is not zero, and BufferSize>   (PcdMaximumAsciiStringLength * sizeof (CHAR8)), then ASSERT(). Also, the output buffer   is unmodified and 0 is returned.   If PcdMaximumAsciiStringLength is not zero, and FormatString contains more than   PcdMaximumAsciiStringLength Ascii characters not including the Null-terminator, then   ASSERT(). Also, the output buffer is unmodified and 0 is returned.    If BufferSize is 0, then no output buffer is produced and 0 is returned.    @param  StartOfBuffer   A pointer to the output buffer for the produced Null-terminated                           ASCII string.   @param  BufferSize      The size, in bytes, of the output buffer specified by StartOfBuffer.   @param  FormatString    A Null-terminated ASCII format string.   @param  ...             Variable argument list whose contents are accessed based on the                           format string specified by FormatString.    @return The number of ASCII characters in the produced output buffer not including the           Null-terminator.  **/
end_comment

begin_function
name|UINTN
name|EFIAPI
name|AsciiSPrint
parameter_list|(
name|OUT
name|CHAR8
modifier|*
name|StartOfBuffer
parameter_list|,
name|IN
name|UINTN
name|BufferSize
parameter_list|,
name|IN
name|CONST
name|CHAR8
modifier|*
name|FormatString
parameter_list|,
modifier|...
parameter_list|)
block|{
name|VA_LIST
name|Marker
decl_stmt|;
name|UINTN
name|NumberOfPrinted
decl_stmt|;
name|VA_START
argument_list|(
name|Marker
argument_list|,
name|FormatString
argument_list|)
expr_stmt|;
name|NumberOfPrinted
operator|=
name|AsciiVSPrint
argument_list|(
name|StartOfBuffer
argument_list|,
name|BufferSize
argument_list|,
name|FormatString
argument_list|,
name|Marker
argument_list|)
expr_stmt|;
name|VA_END
argument_list|(
name|Marker
argument_list|)
expr_stmt|;
return|return
name|NumberOfPrinted
return|;
block|}
end_function

begin_comment
comment|/**   Produces a Null-terminated ASCII string in an output buffer based on a Null-terminated   Unicode format string and a VA_LIST argument list.    This function is similar as vsnprintf_s defined in C11.    Produces a Null-terminated ASCII string in the output buffer specified by StartOfBuffer   and BufferSize.   The ASCII string is produced by parsing the format string specified by FormatString.   Arguments are pulled from the variable argument list specified by Marker based on   the contents of the format string.   The number of ASCII characters in the produced output buffer is returned not including   the Null-terminator.    If FormatString is not aligned on a 16-bit boundary, then ASSERT().    If BufferSize> 0 and StartOfBuffer is NULL, then ASSERT(). Also, the output buffer is   unmodified and 0 is returned.   If BufferSize> 0 and FormatString is NULL, then ASSERT(). Also, the output buffer is   unmodified and 0 is returned.   If PcdMaximumAsciiStringLength is not zero, and BufferSize>   (PcdMaximumAsciiStringLength * sizeof (CHAR8)), then ASSERT(). Also, the output buffer   is unmodified and 0 is returned.   If PcdMaximumUnicodeStringLength is not zero, and FormatString contains more than   PcdMaximumUnicodeStringLength Unicode characters not including the Null-terminator, then   ASSERT(). Also, the output buffer is unmodified and 0 is returned.    If BufferSize is 0, then no output buffer is produced and 0 is returned.    @param  StartOfBuffer   A pointer to the output buffer for the produced Null-terminated                           ASCII string.   @param  BufferSize      The size, in bytes, of the output buffer specified by StartOfBuffer.   @param  FormatString    A Null-terminated Unicode format string.   @param  Marker          VA_LIST marker for the variable argument list.    @return The number of ASCII characters in the produced output buffer not including the           Null-terminator.  **/
end_comment

begin_function
name|UINTN
name|EFIAPI
name|AsciiVSPrintUnicodeFormat
parameter_list|(
name|OUT
name|CHAR8
modifier|*
name|StartOfBuffer
parameter_list|,
name|IN
name|UINTN
name|BufferSize
parameter_list|,
name|IN
name|CONST
name|CHAR16
modifier|*
name|FormatString
parameter_list|,
name|IN
name|VA_LIST
name|Marker
parameter_list|)
block|{
name|ASSERT_UNICODE_BUFFER
argument_list|(
name|FormatString
argument_list|)
expr_stmt|;
return|return
name|BasePrintLibSPrintMarker
argument_list|(
name|StartOfBuffer
argument_list|,
name|BufferSize
argument_list|,
name|FORMAT_UNICODE
argument_list|,
operator|(
name|CHAR8
operator|*
operator|)
name|FormatString
argument_list|,
name|Marker
argument_list|,
name|NULL
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**   Produces a Null-terminated ASCII string in an output buffer based on a Null-terminated   Unicode format string and a BASE_LIST argument list.    Produces a Null-terminated ASCII string in the output buffer specified by StartOfBuffer   and BufferSize.   The ASCII string is produced by parsing the format string specified by FormatString.   Arguments are pulled from the variable argument list specified by Marker based on   the contents of the format string.   The number of ASCII characters in the produced output buffer is returned not including   the Null-terminator.    If FormatString is not aligned on a 16-bit boundary, then ASSERT().    If BufferSize> 0 and StartOfBuffer is NULL, then ASSERT(). Also, the output buffer is   unmodified and 0 is returned.   If BufferSize> 0 and FormatString is NULL, then ASSERT(). Also, the output buffer is   unmodified and 0 is returned.   If PcdMaximumAsciiStringLength is not zero, and BufferSize>   (PcdMaximumAsciiStringLength * sizeof (CHAR8)), then ASSERT(). Also, the output buffer   is unmodified and 0 is returned.   If PcdMaximumUnicodeStringLength is not zero, and FormatString contains more than   PcdMaximumUnicodeStringLength Unicode characters not including the Null-terminator, then   ASSERT(). Also, the output buffer is unmodified and 0 is returned.    If BufferSize is 0, then no output buffer is produced and 0 is returned.    @param  StartOfBuffer   A pointer to the output buffer for the produced Null-terminated                           ASCII string.   @param  BufferSize      The size, in bytes, of the output buffer specified by StartOfBuffer.   @param  FormatString    A Null-terminated Unicode format string.   @param  Marker          BASE_LIST marker for the variable argument list.    @return The number of ASCII characters in the produced output buffer not including the           Null-terminator.  **/
end_comment

begin_function
name|UINTN
name|EFIAPI
name|AsciiBSPrintUnicodeFormat
parameter_list|(
name|OUT
name|CHAR8
modifier|*
name|StartOfBuffer
parameter_list|,
name|IN
name|UINTN
name|BufferSize
parameter_list|,
name|IN
name|CONST
name|CHAR16
modifier|*
name|FormatString
parameter_list|,
name|IN
name|BASE_LIST
name|Marker
parameter_list|)
block|{
name|ASSERT_UNICODE_BUFFER
argument_list|(
name|FormatString
argument_list|)
expr_stmt|;
return|return
name|BasePrintLibSPrintMarker
argument_list|(
name|StartOfBuffer
argument_list|,
name|BufferSize
argument_list|,
name|FORMAT_UNICODE
argument_list|,
operator|(
name|CHAR8
operator|*
operator|)
name|FormatString
argument_list|,
name|gNullVaList
argument_list|,
name|Marker
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**   Produces a Null-terminated ASCII string in an output buffer based on a Null-terminated   Unicode format string and  variable argument list.    This function is similar as snprintf_s defined in C11.    Produces a Null-terminated ASCII string in the output buffer specified by StartOfBuffer   and BufferSize.   The ASCII string is produced by parsing the format string specified by FormatString.   Arguments are pulled from the variable argument list based on the contents of the   format string.   The number of ASCII characters in the produced output buffer is returned not including   the Null-terminator.    If FormatString is not aligned on a 16-bit boundary, then ASSERT().    If BufferSize> 0 and StartOfBuffer is NULL, then ASSERT(). Also, the output buffer is   unmodified and 0 is returned.   If BufferSize> 0 and FormatString is NULL, then ASSERT(). Also, the output buffer is   unmodified and 0 is returned.   If PcdMaximumAsciiStringLength is not zero, and BufferSize>   (PcdMaximumAsciiStringLength * sizeof (CHAR8)), then ASSERT(). Also, the output buffer   is unmodified and 0 is returned.   If PcdMaximumUnicodeStringLength is not zero, and FormatString contains more than   PcdMaximumUnicodeStringLength Unicode characters not including the Null-terminator, then   ASSERT(). Also, the output buffer is unmodified and 0 is returned.    If BufferSize is 0, then no output buffer is produced and 0 is returned.    @param  StartOfBuffer   A pointer to the output buffer for the produced Null-terminated                           ASCII string.   @param  BufferSize      The size, in bytes, of the output buffer specified by StartOfBuffer.   @param  FormatString    A Null-terminated Unicode format string.   @param  ...             Variable argument list whose contents are accessed based on the                           format string specified by FormatString.    @return The number of ASCII characters in the produced output buffer not including the           Null-terminator.  **/
end_comment

begin_function
name|UINTN
name|EFIAPI
name|AsciiSPrintUnicodeFormat
parameter_list|(
name|OUT
name|CHAR8
modifier|*
name|StartOfBuffer
parameter_list|,
name|IN
name|UINTN
name|BufferSize
parameter_list|,
name|IN
name|CONST
name|CHAR16
modifier|*
name|FormatString
parameter_list|,
modifier|...
parameter_list|)
block|{
name|VA_LIST
name|Marker
decl_stmt|;
name|UINTN
name|NumberOfPrinted
decl_stmt|;
name|VA_START
argument_list|(
name|Marker
argument_list|,
name|FormatString
argument_list|)
expr_stmt|;
name|NumberOfPrinted
operator|=
name|AsciiVSPrintUnicodeFormat
argument_list|(
name|StartOfBuffer
argument_list|,
name|BufferSize
argument_list|,
name|FormatString
argument_list|,
name|Marker
argument_list|)
expr_stmt|;
name|VA_END
argument_list|(
name|Marker
argument_list|)
expr_stmt|;
return|return
name|NumberOfPrinted
return|;
block|}
end_function

begin_ifndef
ifndef|#
directive|ifndef
name|DISABLE_NEW_DEPRECATED_INTERFACES
end_ifndef

begin_comment
comment|/**   [ATTENTION] This function is deprecated for security reason.    Converts a decimal value to a Null-terminated ASCII string.      Converts the decimal number specified by Value to a Null-terminated ASCII string    specified by Buffer containing at most Width characters. No padding of spaces    is ever performed.   If Width is 0 then a width of  MAXIMUM_VALUE_CHARACTERS is assumed.   The number of ASCII characters in Buffer is returned not including the Null-terminator.   If the conversion contains more than Width characters, then only the first Width   characters are returned, and the total number of characters required to perform   the conversion is returned.   Additional conversion parameters are specified in Flags.     The Flags bit LEFT_JUSTIFY is always ignored.   All conversions are left justified in Buffer.   If Width is 0, PREFIX_ZERO is ignored in Flags.   If COMMA_TYPE is set in Flags, then PREFIX_ZERO is ignored in Flags, and commas   are inserted every 3rd digit starting from the right.   If RADIX_HEX is set in Flags, then the output buffer will be    formatted in hexadecimal format.   If Value is< 0 and RADIX_HEX is not set in Flags, then the fist character in Buffer is a '-'.   If PREFIX_ZERO is set in Flags and PREFIX_ZERO is not being ignored,    then Buffer is padded with '0' characters so the combination of the optional '-'    sign character, '0' characters, digit characters for Value, and the Null-terminator   add up to Width characters.      If Buffer is NULL, then ASSERT().   If unsupported bits are set in Flags, then ASSERT().   If both COMMA_TYPE and RADIX_HEX are set in Flags, then ASSERT().   If Width>= MAXIMUM_VALUE_CHARACTERS, then ASSERT()    @param  Buffer  The pointer to the output buffer for the produced Null-terminated                   ASCII string.   @param  Flags   The bitmask of flags that specify left justification, zero pad, and commas.   @param  Value   The 64-bit signed value to convert to a string.   @param  Width   The maximum number of ASCII characters to place in Buffer, not including                   the Null-terminator.      @return The number of ASCII characters in Buffer not including the Null-terminator.  **/
end_comment

begin_function
name|UINTN
name|EFIAPI
name|AsciiValueToString
parameter_list|(
name|OUT
name|CHAR8
modifier|*
name|Buffer
parameter_list|,
name|IN
name|UINTN
name|Flags
parameter_list|,
name|IN
name|INT64
name|Value
parameter_list|,
name|IN
name|UINTN
name|Width
parameter_list|)
block|{
return|return
name|BasePrintLibConvertValueToString
argument_list|(
name|Buffer
argument_list|,
name|Flags
argument_list|,
name|Value
argument_list|,
name|Width
argument_list|,
literal|1
argument_list|)
return|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/**   Converts a decimal value to a Null-terminated Ascii string.    Converts the decimal number specified by Value to a Null-terminated Ascii   string specified by Buffer containing at most Width characters. No padding of   spaces is ever performed. If Width is 0 then a width of   MAXIMUM_VALUE_CHARACTERS is assumed. If the conversion contains more than   Width characters, then only the first Width characters are placed in Buffer.   Additional conversion parameters are specified in Flags.    The Flags bit LEFT_JUSTIFY is always ignored.   All conversions are left justified in Buffer.   If Width is 0, PREFIX_ZERO is ignored in Flags.   If COMMA_TYPE is set in Flags, then PREFIX_ZERO is ignored in Flags, and   commas are inserted every 3rd digit starting from the right.   If RADIX_HEX is set in Flags, then the output buffer will be formatted in   hexadecimal format.   If Value is< 0 and RADIX_HEX is not set in Flags, then the fist character in   Buffer is a '-'.   If PREFIX_ZERO is set in Flags and PREFIX_ZERO is not being ignored, then   Buffer is padded with '0' characters so the combination of the optional '-'   sign character, '0' characters, digit characters for Value, and the   Null-terminator add up to Width characters.    If Buffer is not aligned on a 16-bit boundary, then ASSERT().   If an error would be returned, then the function will also ASSERT().    @param  Buffer      The pointer to the output buffer for the produced                       Null-terminated Ascii string.   @param  BufferSize  The size of Buffer in bytes, including the                       Null-terminator.   @param  Flags       The bitmask of flags that specify left justification,                       zero pad, and commas.   @param  Value       The 64-bit signed value to convert to a string.   @param  Width       The maximum number of Ascii characters to place in                       Buffer, not including the Null-terminator.    @retval RETURN_SUCCESS           The decimal value is converted.   @retval RETURN_BUFFER_TOO_SMALL  If BufferSize cannot hold the converted                                    value.   @retval RETURN_INVALID_PARAMETER If Buffer is NULL.                                    If PcdMaximumAsciiStringLength is not                                    zero, and BufferSize is greater than                                    PcdMaximumAsciiStringLength.                                    If unsupported bits are set in Flags.                                    If both COMMA_TYPE and RADIX_HEX are set in                                    Flags.                                    If Width>= MAXIMUM_VALUE_CHARACTERS.  **/
end_comment

begin_function
name|RETURN_STATUS
name|EFIAPI
name|AsciiValueToStringS
parameter_list|(
name|IN
name|OUT
name|CHAR8
modifier|*
name|Buffer
parameter_list|,
name|IN
name|UINTN
name|BufferSize
parameter_list|,
name|IN
name|UINTN
name|Flags
parameter_list|,
name|IN
name|INT64
name|Value
parameter_list|,
name|IN
name|UINTN
name|Width
parameter_list|)
block|{
return|return
name|BasePrintLibConvertValueToStringS
argument_list|(
name|Buffer
argument_list|,
name|BufferSize
argument_list|,
name|Flags
argument_list|,
name|Value
argument_list|,
name|Width
argument_list|,
literal|1
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**   Returns the number of characters that would be produced by if the formatted    output were produced not including the Null-terminator.    If FormatString is not aligned on a 16-bit boundary, then ASSERT().    If FormatString is NULL, then ASSERT() and 0 is returned.   If PcdMaximumUnicodeStringLength is not zero, and FormatString contains more   than PcdMaximumUnicodeStringLength Unicode characters not including the   Null-terminator, then ASSERT() and 0 is returned.    @param[in]  FormatString    A Null-terminated Unicode format string.   @param[in]  Marker          VA_LIST marker for the variable argument list.    @return The number of characters that would be produced, not including the            Null-terminator. **/
end_comment

begin_function
name|UINTN
name|EFIAPI
name|SPrintLength
parameter_list|(
name|IN
name|CONST
name|CHAR16
modifier|*
name|FormatString
parameter_list|,
name|IN
name|VA_LIST
name|Marker
parameter_list|)
block|{
name|ASSERT_UNICODE_BUFFER
argument_list|(
name|FormatString
argument_list|)
expr_stmt|;
return|return
name|BasePrintLibSPrintMarker
argument_list|(
name|NULL
argument_list|,
literal|0
argument_list|,
name|FORMAT_UNICODE
operator||
name|OUTPUT_UNICODE
operator||
name|COUNT_ONLY_NO_PRINT
argument_list|,
operator|(
name|CHAR8
operator|*
operator|)
name|FormatString
argument_list|,
name|Marker
argument_list|,
name|NULL
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**   Returns the number of characters that would be produced by if the formatted    output were produced not including the Null-terminator.    If FormatString is NULL, then ASSERT() and 0 is returned.   If PcdMaximumAsciiStringLength is not zero, and FormatString contains more   than PcdMaximumAsciiStringLength Ascii characters not including the   Null-terminator, then ASSERT() and 0 is returned.    @param[in]  FormatString    A Null-terminated ASCII format string.   @param[in]  Marker          VA_LIST marker for the variable argument list.    @return The number of characters that would be produced, not including the            Null-terminator. **/
end_comment

begin_function
name|UINTN
name|EFIAPI
name|SPrintLengthAsciiFormat
parameter_list|(
name|IN
name|CONST
name|CHAR8
modifier|*
name|FormatString
parameter_list|,
name|IN
name|VA_LIST
name|Marker
parameter_list|)
block|{
return|return
name|BasePrintLibSPrintMarker
argument_list|(
name|NULL
argument_list|,
literal|0
argument_list|,
name|OUTPUT_UNICODE
operator||
name|COUNT_ONLY_NO_PRINT
argument_list|,
operator|(
name|CHAR8
operator|*
operator|)
name|FormatString
argument_list|,
name|Marker
argument_list|,
name|NULL
argument_list|)
return|;
block|}
end_function

end_unit

