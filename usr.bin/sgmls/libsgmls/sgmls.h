begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* sgmls.h    Interface to a library for reading output of sgmls. */
end_comment

begin_struct
struct|struct
name|sgmls_data
block|{
name|char
modifier|*
name|s
decl_stmt|;
name|unsigned
name|len
decl_stmt|;
name|char
name|is_sdata
decl_stmt|;
block|}
struct|;
end_struct

begin_struct
struct|struct
name|sgmls_notation
block|{
name|char
modifier|*
name|name
decl_stmt|;
name|char
modifier|*
name|sysid
decl_stmt|;
name|char
modifier|*
name|pubid
decl_stmt|;
block|}
struct|;
end_struct

begin_struct
struct|struct
name|sgmls_internal_entity
block|{
name|char
modifier|*
name|name
decl_stmt|;
name|struct
name|sgmls_data
name|data
decl_stmt|;
block|}
struct|;
end_struct

begin_enum
enum|enum
name|sgmls_external_entity_type
block|{
name|SGMLS_ENTITY_CDATA
block|,
name|SGMLS_ENTITY_SDATA
block|,
name|SGMLS_ENTITY_NDATA
block|,
name|SGMLS_ENTITY_SUBDOC
block|}
enum|;
end_enum

begin_struct
struct|struct
name|sgmls_external_entity
block|{
name|char
modifier|*
name|name
decl_stmt|;
name|enum
name|sgmls_external_entity_type
name|type
decl_stmt|;
name|char
modifier|*
modifier|*
name|filenames
decl_stmt|;
name|int
name|nfilenames
decl_stmt|;
name|char
modifier|*
name|pubid
decl_stmt|;
name|char
modifier|*
name|sysid
decl_stmt|;
name|struct
name|sgmls_attribute
modifier|*
name|attributes
decl_stmt|;
name|struct
name|sgmls_notation
modifier|*
name|notation
decl_stmt|;
block|}
struct|;
end_struct

begin_struct
struct|struct
name|sgmls_entity
block|{
union|union
block|{
name|struct
name|sgmls_internal_entity
name|internal
decl_stmt|;
name|struct
name|sgmls_external_entity
name|external
decl_stmt|;
block|}
name|u
union|;
name|char
name|is_internal
decl_stmt|;
block|}
struct|;
end_struct

begin_enum
enum|enum
name|sgmls_attribute_type
block|{
name|SGMLS_ATTR_IMPLIED
block|,
name|SGMLS_ATTR_CDATA
block|,
name|SGMLS_ATTR_TOKEN
block|,
name|SGMLS_ATTR_ENTITY
block|,
name|SGMLS_ATTR_NOTATION
block|}
enum|;
end_enum

begin_struct
struct|struct
name|sgmls_attribute
block|{
name|struct
name|sgmls_attribute
modifier|*
name|next
decl_stmt|;
name|char
modifier|*
name|name
decl_stmt|;
name|enum
name|sgmls_attribute_type
name|type
decl_stmt|;
union|union
block|{
struct|struct
block|{
name|struct
name|sgmls_data
modifier|*
name|v
decl_stmt|;
name|int
name|n
decl_stmt|;
block|}
name|data
struct|;
struct|struct
block|{
name|struct
name|sgmls_entity
modifier|*
modifier|*
name|v
decl_stmt|;
name|int
name|n
decl_stmt|;
block|}
name|entity
struct|;
struct|struct
block|{
name|char
modifier|*
modifier|*
name|v
decl_stmt|;
name|int
name|n
decl_stmt|;
block|}
name|token
struct|;
name|struct
name|sgmls_notation
modifier|*
name|notation
decl_stmt|;
block|}
name|value
union|;
block|}
struct|;
end_struct

begin_enum
enum|enum
name|sgmls_event_type
block|{
name|SGMLS_EVENT_DATA
block|,
comment|/* data */
name|SGMLS_EVENT_ENTITY
block|,
comment|/* external entity reference */
name|SGMLS_EVENT_PI
block|,
comment|/* processing instruction */
name|SGMLS_EVENT_START
block|,
comment|/* element start */
name|SGMLS_EVENT_END
block|,
comment|/* element end */
name|SGMLS_EVENT_SUBSTART
block|,
comment|/* subdocument start */
name|SGMLS_EVENT_SUBEND
block|,
comment|/* subdocument end */
name|SGMLS_EVENT_APPINFO
block|,
comment|/* appinfo */
name|SGMLS_EVENT_CONFORMING
comment|/* the document was conforming */
block|}
enum|;
end_enum

begin_struct
struct|struct
name|sgmls_event
block|{
name|enum
name|sgmls_event_type
name|type
decl_stmt|;
union|union
block|{
struct|struct
block|{
name|struct
name|sgmls_data
modifier|*
name|v
decl_stmt|;
name|int
name|n
decl_stmt|;
block|}
name|data
struct|;
name|struct
name|sgmls_external_entity
modifier|*
name|entity
decl_stmt|;
struct|struct
block|{
name|char
modifier|*
name|s
decl_stmt|;
name|unsigned
name|len
decl_stmt|;
block|}
name|pi
struct|;
struct|struct
block|{
name|char
modifier|*
name|gi
decl_stmt|;
name|struct
name|sgmls_attribute
modifier|*
name|attributes
decl_stmt|;
block|}
name|start
struct|;
struct|struct
block|{
name|char
modifier|*
name|gi
decl_stmt|;
block|}
name|end
struct|;
name|char
modifier|*
name|appinfo
decl_stmt|;
block|}
name|u
union|;
name|char
modifier|*
name|filename
decl_stmt|;
comment|/* SGML filename */
name|unsigned
name|long
name|lineno
decl_stmt|;
comment|/* SGML lineno */
block|}
struct|;
end_struct

begin_ifdef
ifdef|#
directive|ifdef
name|__STDC__
end_ifdef

begin_function_decl
name|void
name|sgmls_free_attributes
parameter_list|(
name|struct
name|sgmls_attribute
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|struct
name|sgmls
modifier|*
name|sgmls_create
parameter_list|(
name|FILE
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|sgmls_next
parameter_list|(
name|struct
name|sgmls
modifier|*
parameter_list|,
name|struct
name|sgmls_event
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|sgmls_free
parameter_list|(
name|struct
name|sgmls
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_typedef
typedef|typedef
name|void
name|sgmls_errhandler
parameter_list|(
name|int
parameter_list|,
name|char
modifier|*
parameter_list|,
name|unsigned
name|long
parameter_list|)
function_decl|;
end_typedef

begin_function_decl
name|sgmls_errhandler
modifier|*
name|sgmls_set_errhandler
parameter_list|(
name|sgmls_errhandler
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_else
else|#
directive|else
end_else

begin_comment
comment|/* not __STDC__ */
end_comment

begin_function_decl
name|void
name|sgmls_free_attributes
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
name|struct
name|sgmls
modifier|*
name|sgmls_create
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
name|int
name|sgmls_next
parameter_list|()
function_decl|;
end_function_decl

begin_function_decl
name|void
name|sgmls_free
parameter_list|()
function_decl|;
end_function_decl

begin_typedef
typedef|typedef
name|void
name|sgmls_errhandler
parameter_list|()
function_decl|;
end_typedef

begin_function_decl
name|sgmls_errhandler
modifier|*
name|sgmls_set_errhandler
parameter_list|()
function_decl|;
end_function_decl

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* not __STDC__ */
end_comment

end_unit

