begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* ===============================================================================  This C source file is part of TestFloat, Release 2a, a package of programs for testing the correctness of floating-point arithmetic complying to the IEC/IEEE Standard for Floating-Point.  Written by John R. Hauser.  More information is available through the Web page `http://HTTP.CS.Berkeley.EDU/~jhauser/arithmetic/TestFloat.html'.  THIS SOFTWARE IS DISTRIBUTED AS IS, FOR FREE.  Although reasonable effort has been made to avoid it, THIS SOFTWARE MAY CONTAIN FAULTS THAT WILL AT TIMES RESULT IN INCORRECT BEHAVIOR.  USE OF THIS SOFTWARE IS RESTRICTED TO PERSONS AND ORGANIZATIONS WHO CAN AND WILL TAKE FULL RESPONSIBILITY FOR ANY AND ALL LOSSES, COSTS, OR OTHER PROBLEMS ARISING FROM ITS USE.  Derivative works are acceptable, even for commercial purposes, so long as (1) they include prominent notice that the work is derivative, and (2) they include prominent notice akin to these four paragraphs for those parts of this code that are retained.  =============================================================================== */
end_comment

begin_include
include|#
directive|include
file|<stdlib.h>
end_include

begin_include
include|#
directive|include
file|<stdio.h>
end_include

begin_include
include|#
directive|include
file|"milieu.h"
end_include

begin_include
include|#
directive|include
file|"softfloat.h"
end_include

begin_include
include|#
directive|include
file|"testCases.h"
end_include

begin_include
include|#
directive|include
file|"writeHex.h"
end_include

begin_include
include|#
directive|include
file|"testLoops.h"
end_include

begin_decl_stmt
specifier|volatile
name|flag
name|stop
init|=
name|FALSE
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
modifier|*
name|trueName
decl_stmt|,
modifier|*
name|testName
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|flag
name|forever
decl_stmt|,
name|errorStop
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|uint32
name|maxErrorCount
init|=
literal|0
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|flag
name|checkNaNs
init|=
name|FALSE
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int8
modifier|*
name|trueFlagsPtr
decl_stmt|;
end_decl_stmt

begin_function_decl
name|int8
function_decl|(
modifier|*
name|testFlagsFunctionPtr
function_decl|)
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_decl_stmt
name|char
modifier|*
name|functionName
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|char
modifier|*
name|roundingPrecisionName
decl_stmt|,
modifier|*
name|roundingModeName
decl_stmt|,
modifier|*
name|tininessModeName
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|flag
name|anyErrors
init|=
name|FALSE
decl_stmt|;
end_decl_stmt

begin_function
name|void
name|writeFunctionName
parameter_list|(
name|FILE
modifier|*
name|stream
parameter_list|)
block|{
name|fputs
argument_list|(
name|functionName
argument_list|,
name|stream
argument_list|)
expr_stmt|;
if|if
condition|(
name|roundingModeName
condition|)
block|{
if|if
condition|(
name|roundingPrecisionName
condition|)
block|{
name|fputs
argument_list|(
literal|", precision "
argument_list|,
name|stream
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
name|roundingPrecisionName
argument_list|,
name|stream
argument_list|)
expr_stmt|;
block|}
name|fputs
argument_list|(
literal|", rounding "
argument_list|,
name|stream
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
name|roundingModeName
argument_list|,
name|stream
argument_list|)
expr_stmt|;
if|if
condition|(
name|tininessModeName
condition|)
block|{
name|fputs
argument_list|(
literal|", tininess "
argument_list|,
name|stream
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
name|tininessModeName
argument_list|,
name|stream
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|" rounding"
argument_list|,
name|stream
argument_list|)
expr_stmt|;
block|}
block|}
block|}
end_function

begin_function
name|void
name|exitWithStatus
parameter_list|(
name|void
parameter_list|)
block|{
name|exit
argument_list|(
name|anyErrors
condition|?
name|EXIT_FAILURE
else|:
name|EXIT_SUCCESS
argument_list|)
expr_stmt|;
block|}
end_function

begin_decl_stmt
specifier|static
name|uint32
name|tenthousandsCount
decl_stmt|,
name|errorCount
init|=
literal|0
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|void
name|writeTestsTotal
parameter_list|(
name|void
parameter_list|)
block|{
if|if
condition|(
name|forever
condition|)
block|{
name|fputs
argument_list|(
literal|"Unbounded tests.\n"
argument_list|,
name|stderr
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"\r%d tests total.\n"
argument_list|,
name|testCases_total
argument_list|)
expr_stmt|;
block|}
block|}
end_function

begin_function
specifier|static
name|void
name|writeTestsPerformed
parameter_list|(
name|int16
name|count
parameter_list|)
block|{
if|if
condition|(
name|tenthousandsCount
condition|)
block|{
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"\r%d%04d tests performed"
argument_list|,
name|tenthousandsCount
argument_list|,
name|count
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"\r%d tests performed"
argument_list|,
name|count
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
name|errorCount
condition|)
block|{
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"; %d error%s found.\n"
argument_list|,
name|errorCount
argument_list|,
operator|(
name|errorCount
operator|==
literal|1
operator|)
condition|?
literal|""
else|:
literal|"s"
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|fputs
argument_list|(
literal|".\n"
argument_list|,
name|stderr
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|"No errors found in "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeFunctionName
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|".\n"
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
block|}
block|}
end_function

begin_function
specifier|static
name|void
name|checkEarlyExit
parameter_list|(
name|void
parameter_list|)
block|{
operator|++
name|tenthousandsCount
expr_stmt|;
if|if
condition|(
name|stop
condition|)
block|{
name|writeTestsPerformed
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|exitWithStatus
argument_list|()
expr_stmt|;
block|}
name|fprintf
argument_list|(
name|stderr
argument_list|,
literal|"\r%3d0000"
argument_list|,
name|tenthousandsCount
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|writeErrorFound
parameter_list|(
name|int16
name|count
parameter_list|)
block|{
name|fputc
argument_list|(
literal|'\r'
argument_list|,
name|stderr
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
literal|1
condition|)
block|{
name|fputs
argument_list|(
literal|"Errors found in "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeFunctionName
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|":\n"
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
name|stop
condition|)
block|{
name|writeTestsPerformed
argument_list|(
name|count
argument_list|)
expr_stmt|;
name|exitWithStatus
argument_list|()
expr_stmt|;
block|}
name|anyErrors
operator|=
name|TRUE
expr_stmt|;
block|}
end_function

begin_function
name|INLINE
name|void
name|writeInput_a_int32
parameter_list|(
name|void
parameter_list|)
block|{
name|writeHex_bits32
argument_list|(
name|testCases_a_int32
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
block|}
end_function

begin_ifdef
ifdef|#
directive|ifdef
name|BITS64
end_ifdef

begin_function
name|INLINE
name|void
name|writeInput_a_int64
parameter_list|(
name|void
parameter_list|)
block|{
name|writeHex_bits64
argument_list|(
name|testCases_a_int64
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_function
name|INLINE
name|void
name|writeInput_a_float32
parameter_list|(
name|void
parameter_list|)
block|{
name|writeHex_float32
argument_list|(
name|testCases_a_float32
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|writeInputs_ab_float32
parameter_list|(
name|void
parameter_list|)
block|{
name|writeHex_float32
argument_list|(
name|testCases_a_float32
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_float32
argument_list|(
name|testCases_b_float32
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|INLINE
name|void
name|writeInput_a_float64
parameter_list|(
name|void
parameter_list|)
block|{
name|writeHex_float64
argument_list|(
name|testCases_a_float64
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|writeInputs_ab_float64
parameter_list|(
name|void
parameter_list|)
block|{
name|writeHex_float64
argument_list|(
name|testCases_a_float64
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_float64
argument_list|(
name|testCases_b_float64
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
block|}
end_function

begin_ifdef
ifdef|#
directive|ifdef
name|FLOATX80
end_ifdef

begin_function
name|INLINE
name|void
name|writeInput_a_floatx80
parameter_list|(
name|void
parameter_list|)
block|{
name|writeHex_floatx80
argument_list|(
name|testCases_a_floatx80
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|writeInputs_ab_floatx80
parameter_list|(
name|void
parameter_list|)
block|{
name|writeHex_floatx80
argument_list|(
name|testCases_a_floatx80
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_floatx80
argument_list|(
name|testCases_b_floatx80
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_ifdef
ifdef|#
directive|ifdef
name|FLOAT128
end_ifdef

begin_function
name|INLINE
name|void
name|writeInput_a_float128
parameter_list|(
name|void
parameter_list|)
block|{
name|writeHex_float128
argument_list|(
name|testCases_a_float128
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|writeInputs_ab_float128
parameter_list|(
name|void
parameter_list|)
block|{
name|writeHex_float128
argument_list|(
name|testCases_a_float128
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_float128
argument_list|(
name|testCases_b_float128
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_function
specifier|static
name|void
name|writeOutputs_z_flag
parameter_list|(
name|flag
name|trueZ
parameter_list|,
name|uint8
name|trueFlags
parameter_list|,
name|flag
name|testZ
parameter_list|,
name|uint8
name|testFlags
parameter_list|)
block|{
name|fputs
argument_list|(
name|trueName
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|": "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_flag
argument_list|(
name|trueZ
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputc
argument_list|(
literal|' '
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_float_flags
argument_list|(
name|trueFlags
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
name|testName
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|": "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_flag
argument_list|(
name|testZ
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputc
argument_list|(
literal|' '
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_float_flags
argument_list|(
name|testFlags
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputc
argument_list|(
literal|'\n'
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|writeOutputs_z_int32
parameter_list|(
name|int32
name|trueZ
parameter_list|,
name|uint8
name|trueFlags
parameter_list|,
name|int32
name|testZ
parameter_list|,
name|uint8
name|testFlags
parameter_list|)
block|{
name|fputs
argument_list|(
name|trueName
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|": "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_bits32
argument_list|(
name|trueZ
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputc
argument_list|(
literal|' '
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_float_flags
argument_list|(
name|trueFlags
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
name|testName
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|": "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_bits32
argument_list|(
name|testZ
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputc
argument_list|(
literal|' '
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_float_flags
argument_list|(
name|testFlags
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputc
argument_list|(
literal|'\n'
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
block|}
end_function

begin_ifdef
ifdef|#
directive|ifdef
name|BITS64
end_ifdef

begin_function
specifier|static
name|void
name|writeOutputs_z_int64
parameter_list|(
name|int64
name|trueZ
parameter_list|,
name|uint8
name|trueFlags
parameter_list|,
name|int64
name|testZ
parameter_list|,
name|uint8
name|testFlags
parameter_list|)
block|{
name|fputs
argument_list|(
name|trueName
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|": "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_bits64
argument_list|(
name|trueZ
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputc
argument_list|(
literal|' '
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_float_flags
argument_list|(
name|trueFlags
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
name|testName
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|": "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_bits64
argument_list|(
name|testZ
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputc
argument_list|(
literal|' '
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_float_flags
argument_list|(
name|testFlags
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputc
argument_list|(
literal|'\n'
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_function
specifier|static
name|void
name|writeOutputs_z_float32
parameter_list|(
name|float32
name|trueZ
parameter_list|,
name|uint8
name|trueFlags
parameter_list|,
name|float32
name|testZ
parameter_list|,
name|uint8
name|testFlags
parameter_list|)
block|{
name|fputs
argument_list|(
name|trueName
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|": "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_float32
argument_list|(
name|trueZ
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputc
argument_list|(
literal|' '
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_float_flags
argument_list|(
name|trueFlags
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
name|testName
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|": "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_float32
argument_list|(
name|testZ
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputc
argument_list|(
literal|' '
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_float_flags
argument_list|(
name|testFlags
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputc
argument_list|(
literal|'\n'
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|writeOutputs_z_float64
parameter_list|(
name|float64
name|trueZ
parameter_list|,
name|uint8
name|trueFlags
parameter_list|,
name|float64
name|testZ
parameter_list|,
name|uint8
name|testFlags
parameter_list|)
block|{
name|fputs
argument_list|(
name|trueName
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|": "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_float64
argument_list|(
name|trueZ
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputc
argument_list|(
literal|' '
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_float_flags
argument_list|(
name|trueFlags
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
name|testName
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|": "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_float64
argument_list|(
name|testZ
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputc
argument_list|(
literal|' '
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_float_flags
argument_list|(
name|testFlags
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputc
argument_list|(
literal|'\n'
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
block|}
end_function

begin_ifdef
ifdef|#
directive|ifdef
name|FLOATX80
end_ifdef

begin_function
specifier|static
name|void
name|writeOutputs_z_floatx80
parameter_list|(
name|floatx80
name|trueZ
parameter_list|,
name|uint8
name|trueFlags
parameter_list|,
name|floatx80
name|testZ
parameter_list|,
name|uint8
name|testFlags
parameter_list|)
block|{
name|fputs
argument_list|(
name|trueName
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|": "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_floatx80
argument_list|(
name|trueZ
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputc
argument_list|(
literal|' '
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_float_flags
argument_list|(
name|trueFlags
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
name|testName
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|": "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_floatx80
argument_list|(
name|testZ
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputc
argument_list|(
literal|' '
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_float_flags
argument_list|(
name|testFlags
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputc
argument_list|(
literal|'\n'
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_ifdef
ifdef|#
directive|ifdef
name|FLOAT128
end_ifdef

begin_function
specifier|static
name|void
name|writeOutputs_z_float128
parameter_list|(
name|float128
name|trueZ
parameter_list|,
name|uint8
name|trueFlags
parameter_list|,
name|float128
name|testZ
parameter_list|,
name|uint8
name|testFlags
parameter_list|)
block|{
name|fputs
argument_list|(
name|trueName
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|": "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_float128
argument_list|(
name|trueZ
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputc
argument_list|(
literal|' '
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_float_flags
argument_list|(
name|trueFlags
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|"\n\t"
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
name|testName
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputs
argument_list|(
literal|": "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_float128
argument_list|(
name|testZ
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputc
argument_list|(
literal|' '
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeHex_float_flags
argument_list|(
name|testFlags
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|fputc
argument_list|(
literal|'\n'
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_function
name|INLINE
name|flag
name|float32_isNaN
parameter_list|(
name|float32
name|a
parameter_list|)
block|{
return|return
literal|0x7F800000
operator|<
operator|(
name|a
operator|&
literal|0x7FFFFFFF
operator|)
return|;
block|}
end_function

begin_ifdef
ifdef|#
directive|ifdef
name|BITS64
end_ifdef

begin_function
name|INLINE
name|flag
name|float64_same
parameter_list|(
name|float64
name|a
parameter_list|,
name|float64
name|b
parameter_list|)
block|{
return|return
name|a
operator|==
name|b
return|;
block|}
end_function

begin_function
name|INLINE
name|flag
name|float64_isNaN
parameter_list|(
name|float64
name|a
parameter_list|)
block|{
return|return
name|LIT64
argument_list|(
literal|0x7FF0000000000000
argument_list|)
operator|<
operator|(
name|a
operator|&
name|LIT64
argument_list|(
literal|0x7FFFFFFFFFFFFFFF
argument_list|)
operator|)
return|;
block|}
end_function

begin_else
else|#
directive|else
end_else

begin_function
name|INLINE
name|flag
name|float64_same
parameter_list|(
name|float64
name|a
parameter_list|,
name|float64
name|b
parameter_list|)
block|{
return|return
operator|(
name|a
operator|.
name|high
operator|==
name|b
operator|.
name|high
operator|)
operator|&&
operator|(
name|a
operator|.
name|low
operator|==
name|b
operator|.
name|low
operator|)
return|;
block|}
end_function

begin_function
name|INLINE
name|flag
name|float64_isNaN
parameter_list|(
name|float64
name|a
parameter_list|)
block|{
name|bits32
name|absAHigh
decl_stmt|;
name|absAHigh
operator|=
name|a
operator|.
name|high
operator|&
literal|0x7FFFFFFF
expr_stmt|;
return|return
operator|(
literal|0x7FF00000
operator|<
name|absAHigh
operator|)
operator|||
operator|(
operator|(
name|absAHigh
operator|==
literal|0x7FF00000
operator|)
operator|&&
name|a
operator|.
name|low
operator|)
return|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_ifdef
ifdef|#
directive|ifdef
name|FLOATX80
end_ifdef

begin_function
name|INLINE
name|flag
name|floatx80_same
parameter_list|(
name|floatx80
name|a
parameter_list|,
name|floatx80
name|b
parameter_list|)
block|{
return|return
operator|(
name|a
operator|.
name|high
operator|==
name|b
operator|.
name|high
operator|)
operator|&&
operator|(
name|a
operator|.
name|low
operator|==
name|b
operator|.
name|low
operator|)
return|;
block|}
end_function

begin_function
name|INLINE
name|flag
name|floatx80_isNaN
parameter_list|(
name|floatx80
name|a
parameter_list|)
block|{
return|return
operator|(
operator|(
name|a
operator|.
name|high
operator|&
literal|0x7FFF
operator|)
operator|==
literal|0x7FFF
operator|)
operator|&&
name|a
operator|.
name|low
return|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_ifdef
ifdef|#
directive|ifdef
name|FLOAT128
end_ifdef

begin_function
name|INLINE
name|flag
name|float128_same
parameter_list|(
name|float128
name|a
parameter_list|,
name|float128
name|b
parameter_list|)
block|{
return|return
operator|(
name|a
operator|.
name|high
operator|==
name|b
operator|.
name|high
operator|)
operator|&&
operator|(
name|a
operator|.
name|low
operator|==
name|b
operator|.
name|low
operator|)
return|;
block|}
end_function

begin_function
name|INLINE
name|flag
name|float128_isNaN
parameter_list|(
name|float128
name|a
parameter_list|)
block|{
name|bits64
name|absAHigh
decl_stmt|;
name|absAHigh
operator|=
name|a
operator|.
name|high
operator|&
name|LIT64
argument_list|(
literal|0x7FFFFFFFFFFFFFFF
argument_list|)
expr_stmt|;
return|return
operator|(
name|LIT64
argument_list|(
literal|0x7FFF000000000000
argument_list|)
operator|<
name|absAHigh
operator|)
operator|||
operator|(
operator|(
name|absAHigh
operator|==
name|LIT64
argument_list|(
literal|0x7FFF000000000000
argument_list|)
operator|)
operator|&&
name|a
operator|.
name|low
operator|)
return|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_function
name|void
name|test_a_int32_z_float32
parameter_list|(
name|float32
name|trueFunction
parameter_list|(
name|int32
parameter_list|)
parameter_list|,
name|float32
name|testFunction
parameter_list|(
name|int32
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|float32
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_int32
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_int32
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_int32
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|!=
name|testZ
operator|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float32_isNaN
argument_list|(
name|trueZ
argument_list|)
operator|&&
name|float32_isNaN
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|!
name|float32_is_signaling_nan
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|(
name|trueFlags
operator|==
name|testFlags
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_int32
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_float32
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|test_a_int32_z_float64
parameter_list|(
name|float64
name|trueFunction
parameter_list|(
name|int32
parameter_list|)
parameter_list|,
name|float64
name|testFunction
parameter_list|(
name|int32
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|float64
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_int32
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_int32
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_int32
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|float64_same
argument_list|(
name|trueZ
argument_list|,
name|testZ
argument_list|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float64_isNaN
argument_list|(
name|trueZ
argument_list|)
operator|&&
name|float64_isNaN
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|!
name|float64_is_signaling_nan
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|(
name|trueFlags
operator|==
name|testFlags
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_int32
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_float64
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_ifdef
ifdef|#
directive|ifdef
name|FLOATX80
end_ifdef

begin_function
name|void
name|test_a_int32_z_floatx80
parameter_list|(
name|floatx80
name|trueFunction
parameter_list|(
name|int32
parameter_list|)
parameter_list|,
name|floatx80
name|testFunction
parameter_list|(
name|int32
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|floatx80
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_int32
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_int32
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_int32
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|floatx80_same
argument_list|(
name|trueZ
argument_list|,
name|testZ
argument_list|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|floatx80_isNaN
argument_list|(
name|trueZ
argument_list|)
operator|&&
name|floatx80_isNaN
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|!
name|floatx80_is_signaling_nan
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|(
name|trueFlags
operator|==
name|testFlags
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_int32
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_floatx80
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_ifdef
ifdef|#
directive|ifdef
name|FLOAT128
end_ifdef

begin_function
name|void
name|test_a_int32_z_float128
parameter_list|(
name|float128
name|trueFunction
parameter_list|(
name|int32
parameter_list|)
parameter_list|,
name|float128
name|testFunction
parameter_list|(
name|int32
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|float128
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_int32
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_int32
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_int32
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|float128_same
argument_list|(
name|trueZ
argument_list|,
name|testZ
argument_list|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float128_isNaN
argument_list|(
name|trueZ
argument_list|)
operator|&&
name|float128_isNaN
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|!
name|float128_is_signaling_nan
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|(
name|trueFlags
operator|==
name|testFlags
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_int32
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"\n\t"
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_float128
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_ifdef
ifdef|#
directive|ifdef
name|BITS64
end_ifdef

begin_function
name|void
name|test_a_int64_z_float32
parameter_list|(
name|float32
name|trueFunction
parameter_list|(
name|int64
parameter_list|)
parameter_list|,
name|float32
name|testFunction
parameter_list|(
name|int64
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|float32
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_int64
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_int64
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_int64
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|!=
name|testZ
operator|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float32_isNaN
argument_list|(
name|trueZ
argument_list|)
operator|&&
name|float32_isNaN
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|!
name|float32_is_signaling_nan
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|(
name|trueFlags
operator|==
name|testFlags
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_int64
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_float32
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|test_a_int64_z_float64
parameter_list|(
name|float64
name|trueFunction
parameter_list|(
name|int64
parameter_list|)
parameter_list|,
name|float64
name|testFunction
parameter_list|(
name|int64
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|float64
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_int64
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_int64
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_int64
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|float64_same
argument_list|(
name|trueZ
argument_list|,
name|testZ
argument_list|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float64_isNaN
argument_list|(
name|trueZ
argument_list|)
operator|&&
name|float64_isNaN
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|!
name|float64_is_signaling_nan
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|(
name|trueFlags
operator|==
name|testFlags
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_int64
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_float64
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_ifdef
ifdef|#
directive|ifdef
name|FLOATX80
end_ifdef

begin_function
name|void
name|test_a_int64_z_floatx80
parameter_list|(
name|floatx80
name|trueFunction
parameter_list|(
name|int64
parameter_list|)
parameter_list|,
name|floatx80
name|testFunction
parameter_list|(
name|int64
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|floatx80
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_int64
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_int64
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_int64
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|floatx80_same
argument_list|(
name|trueZ
argument_list|,
name|testZ
argument_list|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|floatx80_isNaN
argument_list|(
name|trueZ
argument_list|)
operator|&&
name|floatx80_isNaN
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|!
name|floatx80_is_signaling_nan
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|(
name|trueFlags
operator|==
name|testFlags
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_int64
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_floatx80
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_ifdef
ifdef|#
directive|ifdef
name|FLOAT128
end_ifdef

begin_function
name|void
name|test_a_int64_z_float128
parameter_list|(
name|float128
name|trueFunction
parameter_list|(
name|int64
parameter_list|)
parameter_list|,
name|float128
name|testFunction
parameter_list|(
name|int64
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|float128
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_int64
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_int64
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_int64
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|float128_same
argument_list|(
name|trueZ
argument_list|,
name|testZ
argument_list|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float128_isNaN
argument_list|(
name|trueZ
argument_list|)
operator|&&
name|float128_isNaN
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|!
name|float128_is_signaling_nan
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|(
name|trueFlags
operator|==
name|testFlags
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_int64
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"\n\t"
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_float128
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_endif
endif|#
directive|endif
end_endif

begin_function
name|void
name|test_a_float32_z_int32
parameter_list|(
name|int32
name|trueFunction
parameter_list|(
name|float32
parameter_list|)
parameter_list|,
name|int32
name|testFunction
parameter_list|(
name|float32
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|int32
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_float32
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_float32
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_float32
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|!=
name|testZ
operator|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float32_is_signaling_nan
argument_list|(
name|testCases_a_float32
argument_list|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|==
literal|0x7FFFFFFF
operator|)
operator|&&
operator|(
operator|(
name|testZ
operator|==
literal|0x7FFFFFFF
operator|)
operator|||
operator|(
name|testZ
operator|==
operator|(
name|sbits32
operator|)
literal|0x80000000
operator|)
operator|)
operator|&&
operator|(
name|trueFlags
operator|==
name|float_flag_invalid
operator|)
operator|&&
operator|(
name|testFlags
operator|==
name|float_flag_invalid
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_float32
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_int32
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_ifdef
ifdef|#
directive|ifdef
name|BITS64
end_ifdef

begin_function
name|void
name|test_a_float32_z_int64
parameter_list|(
name|int64
name|trueFunction
parameter_list|(
name|float32
parameter_list|)
parameter_list|,
name|int64
name|testFunction
parameter_list|(
name|float32
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|int64
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_float32
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_float32
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_float32
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|!=
name|testZ
operator|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float32_is_signaling_nan
argument_list|(
name|testCases_a_float32
argument_list|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|==
name|LIT64
argument_list|(
literal|0x7FFFFFFFFFFFFFFF
argument_list|)
operator|)
operator|&&
operator|(
operator|(
name|testZ
operator|==
name|LIT64
argument_list|(
literal|0x7FFFFFFFFFFFFFFF
argument_list|)
operator|)
operator|||
operator|(
name|testZ
operator|==
operator|(
name|sbits64
operator|)
name|LIT64
argument_list|(
literal|0x8000000000000000
argument_list|)
operator|)
operator|)
operator|&&
operator|(
name|trueFlags
operator|==
name|float_flag_invalid
operator|)
operator|&&
operator|(
name|testFlags
operator|==
name|float_flag_invalid
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_float32
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_int64
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_function
name|void
name|test_a_float32_z_float64
parameter_list|(
name|float64
name|trueFunction
parameter_list|(
name|float32
parameter_list|)
parameter_list|,
name|float64
name|testFunction
parameter_list|(
name|float32
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|float64
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_float32
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_float32
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_float32
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|float64_same
argument_list|(
name|trueZ
argument_list|,
name|testZ
argument_list|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float32_is_signaling_nan
argument_list|(
name|testCases_a_float32
argument_list|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float64_isNaN
argument_list|(
name|trueZ
argument_list|)
operator|&&
name|float64_isNaN
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|!
name|float64_is_signaling_nan
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|(
name|trueFlags
operator|==
name|testFlags
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_float32
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_float64
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_ifdef
ifdef|#
directive|ifdef
name|FLOATX80
end_ifdef

begin_function
name|void
name|test_a_float32_z_floatx80
parameter_list|(
name|floatx80
name|trueFunction
parameter_list|(
name|float32
parameter_list|)
parameter_list|,
name|floatx80
name|testFunction
parameter_list|(
name|float32
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|floatx80
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_float32
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_float32
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_float32
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|floatx80_same
argument_list|(
name|trueZ
argument_list|,
name|testZ
argument_list|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float32_is_signaling_nan
argument_list|(
name|testCases_a_float32
argument_list|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|floatx80_isNaN
argument_list|(
name|trueZ
argument_list|)
operator|&&
name|floatx80_isNaN
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|!
name|floatx80_is_signaling_nan
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|(
name|trueFlags
operator|==
name|testFlags
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_float32
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"\n\t"
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_floatx80
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_ifdef
ifdef|#
directive|ifdef
name|FLOAT128
end_ifdef

begin_function
name|void
name|test_a_float32_z_float128
parameter_list|(
name|float128
name|trueFunction
parameter_list|(
name|float32
parameter_list|)
parameter_list|,
name|float128
name|testFunction
parameter_list|(
name|float32
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|float128
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_float32
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_float32
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_float32
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|float128_same
argument_list|(
name|trueZ
argument_list|,
name|testZ
argument_list|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float32_is_signaling_nan
argument_list|(
name|testCases_a_float32
argument_list|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float128_isNaN
argument_list|(
name|trueZ
argument_list|)
operator|&&
name|float128_isNaN
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|!
name|float128_is_signaling_nan
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|(
name|trueFlags
operator|==
name|testFlags
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_float32
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"\n\t"
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_float128
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_function
name|void
name|test_az_float32
parameter_list|(
name|float32
name|trueFunction
parameter_list|(
name|float32
parameter_list|)
parameter_list|,
name|float32
name|testFunction
parameter_list|(
name|float32
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|float32
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_float32
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_float32
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_float32
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|!=
name|testZ
operator|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float32_is_signaling_nan
argument_list|(
name|testCases_a_float32
argument_list|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float32_isNaN
argument_list|(
name|trueZ
argument_list|)
operator|&&
name|float32_isNaN
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|!
name|float32_is_signaling_nan
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|(
name|trueFlags
operator|==
name|testFlags
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_float32
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_float32
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|test_ab_float32_z_flag
parameter_list|(
name|flag
name|trueFunction
parameter_list|(
name|float32
parameter_list|,
name|float32
parameter_list|)
parameter_list|,
name|flag
name|testFunction
parameter_list|(
name|float32
parameter_list|,
name|float32
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|flag
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_ab_float32
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_float32
argument_list|,
name|testCases_b_float32
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_float32
argument_list|,
name|testCases_b_float32
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|!=
name|testZ
operator|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
operator|(
name|float32_is_signaling_nan
argument_list|(
name|testCases_a_float32
argument_list|)
operator|||
name|float32_is_signaling_nan
argument_list|(
name|testCases_b_float32
argument_list|)
operator|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|!=
name|testZ
operator|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInputs_ab_float32
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_flag
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
return|return;
block|}
end_function

begin_function
name|void
name|test_abz_float32
parameter_list|(
name|float32
name|trueFunction
parameter_list|(
name|float32
parameter_list|,
name|float32
parameter_list|)
parameter_list|,
name|float32
name|testFunction
parameter_list|(
name|float32
parameter_list|,
name|float32
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|float32
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_ab_float32
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_float32
argument_list|,
name|testCases_b_float32
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_float32
argument_list|,
name|testCases_b_float32
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|!=
name|testZ
operator|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
operator|(
name|float32_is_signaling_nan
argument_list|(
name|testCases_a_float32
argument_list|)
operator|||
name|float32_is_signaling_nan
argument_list|(
name|testCases_b_float32
argument_list|)
operator|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float32_isNaN
argument_list|(
name|trueZ
argument_list|)
operator|&&
name|float32_isNaN
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|!
name|float32_is_signaling_nan
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|(
name|trueFlags
operator|==
name|testFlags
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInputs_ab_float32
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_float32
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
return|return;
block|}
end_function

begin_function
name|void
name|test_a_float64_z_int32
parameter_list|(
name|int32
name|trueFunction
parameter_list|(
name|float64
parameter_list|)
parameter_list|,
name|int32
name|testFunction
parameter_list|(
name|float64
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|int32
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_float64
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_float64
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_float64
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|!=
name|testZ
operator|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float64_is_signaling_nan
argument_list|(
name|testCases_a_float64
argument_list|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|==
literal|0x7FFFFFFF
operator|)
operator|&&
operator|(
operator|(
name|testZ
operator|==
literal|0x7FFFFFFF
operator|)
operator|||
operator|(
name|testZ
operator|==
operator|(
name|sbits32
operator|)
literal|0x80000000
operator|)
operator|)
operator|&&
operator|(
name|trueFlags
operator|==
name|float_flag_invalid
operator|)
operator|&&
operator|(
name|testFlags
operator|==
name|float_flag_invalid
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_float64
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_int32
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_ifdef
ifdef|#
directive|ifdef
name|BITS64
end_ifdef

begin_function
name|void
name|test_a_float64_z_int64
parameter_list|(
name|int64
name|trueFunction
parameter_list|(
name|float64
parameter_list|)
parameter_list|,
name|int64
name|testFunction
parameter_list|(
name|float64
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|int64
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_float64
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_float64
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_float64
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|!=
name|testZ
operator|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float64_is_signaling_nan
argument_list|(
name|testCases_a_float64
argument_list|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|==
name|LIT64
argument_list|(
literal|0x7FFFFFFFFFFFFFFF
argument_list|)
operator|)
operator|&&
operator|(
operator|(
name|testZ
operator|==
name|LIT64
argument_list|(
literal|0x7FFFFFFFFFFFFFFF
argument_list|)
operator|)
operator|||
operator|(
name|testZ
operator|==
operator|(
name|sbits64
operator|)
name|LIT64
argument_list|(
literal|0x8000000000000000
argument_list|)
operator|)
operator|)
operator|&&
operator|(
name|trueFlags
operator|==
name|float_flag_invalid
operator|)
operator|&&
operator|(
name|testFlags
operator|==
name|float_flag_invalid
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_float64
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_int64
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_function
name|void
name|test_a_float64_z_float32
parameter_list|(
name|float32
name|trueFunction
parameter_list|(
name|float64
parameter_list|)
parameter_list|,
name|float32
name|testFunction
parameter_list|(
name|float64
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|float32
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_float64
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_float64
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_float64
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|!=
name|testZ
operator|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float64_is_signaling_nan
argument_list|(
name|testCases_a_float64
argument_list|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float32_isNaN
argument_list|(
name|trueZ
argument_list|)
operator|&&
name|float32_isNaN
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|!
name|float32_is_signaling_nan
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|(
name|trueFlags
operator|==
name|testFlags
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_float64
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_float32
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_ifdef
ifdef|#
directive|ifdef
name|FLOATX80
end_ifdef

begin_function
name|void
name|test_a_float64_z_floatx80
parameter_list|(
name|floatx80
name|trueFunction
parameter_list|(
name|float64
parameter_list|)
parameter_list|,
name|floatx80
name|testFunction
parameter_list|(
name|float64
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|floatx80
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_float64
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_float64
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_float64
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|floatx80_same
argument_list|(
name|trueZ
argument_list|,
name|testZ
argument_list|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float64_is_signaling_nan
argument_list|(
name|testCases_a_float64
argument_list|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|floatx80_isNaN
argument_list|(
name|trueZ
argument_list|)
operator|&&
name|floatx80_isNaN
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|!
name|floatx80_is_signaling_nan
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|(
name|trueFlags
operator|==
name|testFlags
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_float64
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"\n\t"
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_floatx80
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_ifdef
ifdef|#
directive|ifdef
name|FLOAT128
end_ifdef

begin_function
name|void
name|test_a_float64_z_float128
parameter_list|(
name|float128
name|trueFunction
parameter_list|(
name|float64
parameter_list|)
parameter_list|,
name|float128
name|testFunction
parameter_list|(
name|float64
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|float128
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_float64
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_float64
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_float64
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|float128_same
argument_list|(
name|trueZ
argument_list|,
name|testZ
argument_list|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float64_is_signaling_nan
argument_list|(
name|testCases_a_float64
argument_list|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float128_isNaN
argument_list|(
name|trueZ
argument_list|)
operator|&&
name|float128_isNaN
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|!
name|float128_is_signaling_nan
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|(
name|trueFlags
operator|==
name|testFlags
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_float64
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"\n\t"
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_float128
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_function
name|void
name|test_az_float64
parameter_list|(
name|float64
name|trueFunction
parameter_list|(
name|float64
parameter_list|)
parameter_list|,
name|float64
name|testFunction
parameter_list|(
name|float64
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|float64
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_float64
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_float64
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_float64
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|float64_same
argument_list|(
name|trueZ
argument_list|,
name|testZ
argument_list|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float64_is_signaling_nan
argument_list|(
name|testCases_a_float64
argument_list|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float64_isNaN
argument_list|(
name|trueZ
argument_list|)
operator|&&
name|float64_isNaN
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|!
name|float64_is_signaling_nan
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|(
name|trueFlags
operator|==
name|testFlags
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_float64
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_float64
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|test_ab_float64_z_flag
parameter_list|(
name|flag
name|trueFunction
parameter_list|(
name|float64
parameter_list|,
name|float64
parameter_list|)
parameter_list|,
name|flag
name|testFunction
parameter_list|(
name|float64
parameter_list|,
name|float64
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|flag
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_ab_float64
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_float64
argument_list|,
name|testCases_b_float64
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_float64
argument_list|,
name|testCases_b_float64
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|!=
name|testZ
operator|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
operator|(
name|float64_is_signaling_nan
argument_list|(
name|testCases_a_float64
argument_list|)
operator|||
name|float64_is_signaling_nan
argument_list|(
name|testCases_b_float64
argument_list|)
operator|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|!=
name|testZ
operator|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInputs_ab_float64
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_flag
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
return|return;
block|}
end_function

begin_function
name|void
name|test_abz_float64
parameter_list|(
name|float64
name|trueFunction
parameter_list|(
name|float64
parameter_list|,
name|float64
parameter_list|)
parameter_list|,
name|float64
name|testFunction
parameter_list|(
name|float64
parameter_list|,
name|float64
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|float64
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_ab_float64
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_float64
argument_list|,
name|testCases_b_float64
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_float64
argument_list|,
name|testCases_b_float64
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|float64_same
argument_list|(
name|trueZ
argument_list|,
name|testZ
argument_list|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
operator|(
name|float64_is_signaling_nan
argument_list|(
name|testCases_a_float64
argument_list|)
operator|||
name|float64_is_signaling_nan
argument_list|(
name|testCases_b_float64
argument_list|)
operator|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float64_isNaN
argument_list|(
name|trueZ
argument_list|)
operator|&&
name|float64_isNaN
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|!
name|float64_is_signaling_nan
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|(
name|trueFlags
operator|==
name|testFlags
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInputs_ab_float64
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"\n\t"
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_float64
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
return|return;
block|}
end_function

begin_ifdef
ifdef|#
directive|ifdef
name|FLOATX80
end_ifdef

begin_function
name|void
name|test_a_floatx80_z_int32
parameter_list|(
name|int32
name|trueFunction
parameter_list|(
name|floatx80
parameter_list|)
parameter_list|,
name|int32
name|testFunction
parameter_list|(
name|floatx80
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|int32
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_floatx80
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_floatx80
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_floatx80
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|!=
name|testZ
operator|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|floatx80_is_signaling_nan
argument_list|(
name|testCases_a_floatx80
argument_list|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|==
literal|0x7FFFFFFF
operator|)
operator|&&
operator|(
operator|(
name|testZ
operator|==
literal|0x7FFFFFFF
operator|)
operator|||
operator|(
name|testZ
operator|==
operator|(
name|sbits32
operator|)
literal|0x80000000
operator|)
operator|)
operator|&&
operator|(
name|trueFlags
operator|==
name|float_flag_invalid
operator|)
operator|&&
operator|(
name|testFlags
operator|==
name|float_flag_invalid
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_floatx80
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_int32
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_ifdef
ifdef|#
directive|ifdef
name|BITS64
end_ifdef

begin_function
name|void
name|test_a_floatx80_z_int64
parameter_list|(
name|int64
name|trueFunction
parameter_list|(
name|floatx80
parameter_list|)
parameter_list|,
name|int64
name|testFunction
parameter_list|(
name|floatx80
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|int64
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_floatx80
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_floatx80
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_floatx80
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|!=
name|testZ
operator|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|floatx80_is_signaling_nan
argument_list|(
name|testCases_a_floatx80
argument_list|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|==
name|LIT64
argument_list|(
literal|0x7FFFFFFFFFFFFFFF
argument_list|)
operator|)
operator|&&
operator|(
operator|(
name|testZ
operator|==
name|LIT64
argument_list|(
literal|0x7FFFFFFFFFFFFFFF
argument_list|)
operator|)
operator|||
operator|(
name|testZ
operator|==
operator|(
name|sbits64
operator|)
name|LIT64
argument_list|(
literal|0x8000000000000000
argument_list|)
operator|)
operator|)
operator|&&
operator|(
name|trueFlags
operator|==
name|float_flag_invalid
operator|)
operator|&&
operator|(
name|testFlags
operator|==
name|float_flag_invalid
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_floatx80
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_int64
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_function
name|void
name|test_a_floatx80_z_float32
parameter_list|(
name|float32
name|trueFunction
parameter_list|(
name|floatx80
parameter_list|)
parameter_list|,
name|float32
name|testFunction
parameter_list|(
name|floatx80
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|float32
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_floatx80
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_floatx80
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_floatx80
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|!=
name|testZ
operator|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|floatx80_is_signaling_nan
argument_list|(
name|testCases_a_floatx80
argument_list|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float32_isNaN
argument_list|(
name|trueZ
argument_list|)
operator|&&
name|float32_isNaN
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|!
name|float32_is_signaling_nan
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|(
name|trueFlags
operator|==
name|testFlags
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_floatx80
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_float32
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|test_a_floatx80_z_float64
parameter_list|(
name|float64
name|trueFunction
parameter_list|(
name|floatx80
parameter_list|)
parameter_list|,
name|float64
name|testFunction
parameter_list|(
name|floatx80
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|float64
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_floatx80
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_floatx80
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_floatx80
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|float64_same
argument_list|(
name|trueZ
argument_list|,
name|testZ
argument_list|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|floatx80_is_signaling_nan
argument_list|(
name|testCases_a_floatx80
argument_list|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float64_isNaN
argument_list|(
name|trueZ
argument_list|)
operator|&&
name|float64_isNaN
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|!
name|float64_is_signaling_nan
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|(
name|trueFlags
operator|==
name|testFlags
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_floatx80
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"\n\t"
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_float64
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_ifdef
ifdef|#
directive|ifdef
name|FLOAT128
end_ifdef

begin_function
name|void
name|test_a_floatx80_z_float128
parameter_list|(
name|float128
name|trueFunction
parameter_list|(
name|floatx80
parameter_list|)
parameter_list|,
name|float128
name|testFunction
parameter_list|(
name|floatx80
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|float128
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_floatx80
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_floatx80
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_floatx80
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|float128_same
argument_list|(
name|trueZ
argument_list|,
name|testZ
argument_list|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|floatx80_is_signaling_nan
argument_list|(
name|testCases_a_floatx80
argument_list|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float128_isNaN
argument_list|(
name|trueZ
argument_list|)
operator|&&
name|float128_isNaN
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|!
name|float128_is_signaling_nan
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|(
name|trueFlags
operator|==
name|testFlags
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_floatx80
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"\n\t"
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_float128
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_function
name|void
name|test_az_floatx80
parameter_list|(
name|floatx80
name|trueFunction
parameter_list|(
name|floatx80
parameter_list|)
parameter_list|,
name|floatx80
name|testFunction
parameter_list|(
name|floatx80
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|floatx80
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_floatx80
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_floatx80
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_floatx80
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|floatx80_same
argument_list|(
name|trueZ
argument_list|,
name|testZ
argument_list|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|floatx80_is_signaling_nan
argument_list|(
name|testCases_a_floatx80
argument_list|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|floatx80_isNaN
argument_list|(
name|trueZ
argument_list|)
operator|&&
name|floatx80_isNaN
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|!
name|floatx80_is_signaling_nan
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|(
name|trueFlags
operator|==
name|testFlags
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_floatx80
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"\n\t"
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_floatx80
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|test_ab_floatx80_z_flag
parameter_list|(
name|flag
name|trueFunction
parameter_list|(
name|floatx80
parameter_list|,
name|floatx80
parameter_list|)
parameter_list|,
name|flag
name|testFunction
parameter_list|(
name|floatx80
parameter_list|,
name|floatx80
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|flag
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_ab_floatx80
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_floatx80
argument_list|,
name|testCases_b_floatx80
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_floatx80
argument_list|,
name|testCases_b_floatx80
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|!=
name|testZ
operator|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
operator|(
name|floatx80_is_signaling_nan
argument_list|(
name|testCases_a_floatx80
argument_list|)
operator|||
name|floatx80_is_signaling_nan
argument_list|(
name|testCases_b_floatx80
argument_list|)
operator|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|!=
name|testZ
operator|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInputs_ab_floatx80
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_flag
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
return|return;
block|}
end_function

begin_function
name|void
name|test_abz_floatx80
parameter_list|(
name|floatx80
name|trueFunction
parameter_list|(
name|floatx80
parameter_list|,
name|floatx80
parameter_list|)
parameter_list|,
name|floatx80
name|testFunction
parameter_list|(
name|floatx80
parameter_list|,
name|floatx80
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|floatx80
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_ab_floatx80
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_floatx80
argument_list|,
name|testCases_b_floatx80
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_floatx80
argument_list|,
name|testCases_b_floatx80
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|floatx80_same
argument_list|(
name|trueZ
argument_list|,
name|testZ
argument_list|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
operator|(
name|floatx80_is_signaling_nan
argument_list|(
name|testCases_a_floatx80
argument_list|)
operator|||
name|floatx80_is_signaling_nan
argument_list|(
name|testCases_b_floatx80
argument_list|)
operator|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|floatx80_isNaN
argument_list|(
name|trueZ
argument_list|)
operator|&&
name|floatx80_isNaN
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|!
name|floatx80_is_signaling_nan
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|(
name|trueFlags
operator|==
name|testFlags
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInputs_ab_floatx80
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"\n\t"
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_floatx80
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
return|return;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_ifdef
ifdef|#
directive|ifdef
name|FLOAT128
end_ifdef

begin_function
name|void
name|test_a_float128_z_int32
parameter_list|(
name|int32
name|trueFunction
parameter_list|(
name|float128
parameter_list|)
parameter_list|,
name|int32
name|testFunction
parameter_list|(
name|float128
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|int32
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_float128
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_float128
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_float128
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|!=
name|testZ
operator|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float128_is_signaling_nan
argument_list|(
name|testCases_a_float128
argument_list|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|==
literal|0x7FFFFFFF
operator|)
operator|&&
operator|(
operator|(
name|testZ
operator|==
literal|0x7FFFFFFF
operator|)
operator|||
operator|(
name|testZ
operator|==
operator|(
name|sbits32
operator|)
literal|0x80000000
operator|)
operator|)
operator|&&
operator|(
name|trueFlags
operator|==
name|float_flag_invalid
operator|)
operator|&&
operator|(
name|testFlags
operator|==
name|float_flag_invalid
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_float128
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_int32
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_ifdef
ifdef|#
directive|ifdef
name|BITS64
end_ifdef

begin_function
name|void
name|test_a_float128_z_int64
parameter_list|(
name|int64
name|trueFunction
parameter_list|(
name|float128
parameter_list|)
parameter_list|,
name|int64
name|testFunction
parameter_list|(
name|float128
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|int64
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_float128
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_float128
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_float128
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|!=
name|testZ
operator|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float128_is_signaling_nan
argument_list|(
name|testCases_a_float128
argument_list|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|==
name|LIT64
argument_list|(
literal|0x7FFFFFFFFFFFFFFF
argument_list|)
operator|)
operator|&&
operator|(
operator|(
name|testZ
operator|==
name|LIT64
argument_list|(
literal|0x7FFFFFFFFFFFFFFF
argument_list|)
operator|)
operator|||
operator|(
name|testZ
operator|==
operator|(
name|sbits64
operator|)
name|LIT64
argument_list|(
literal|0x8000000000000000
argument_list|)
operator|)
operator|)
operator|&&
operator|(
name|trueFlags
operator|==
name|float_flag_invalid
operator|)
operator|&&
operator|(
name|testFlags
operator|==
name|float_flag_invalid
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_float128
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"\n\t"
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_int64
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_function
name|void
name|test_a_float128_z_float32
parameter_list|(
name|float32
name|trueFunction
parameter_list|(
name|float128
parameter_list|)
parameter_list|,
name|float32
name|testFunction
parameter_list|(
name|float128
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|float32
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_float128
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_float128
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_float128
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|!=
name|testZ
operator|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float128_is_signaling_nan
argument_list|(
name|testCases_a_float128
argument_list|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float32_isNaN
argument_list|(
name|trueZ
argument_list|)
operator|&&
name|float32_isNaN
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|!
name|float32_is_signaling_nan
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|(
name|trueFlags
operator|==
name|testFlags
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_float128
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"  "
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_float32
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|test_a_float128_z_float64
parameter_list|(
name|float64
name|trueFunction
parameter_list|(
name|float128
parameter_list|)
parameter_list|,
name|float64
name|testFunction
parameter_list|(
name|float128
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|float64
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_float128
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_float128
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_float128
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|float64_same
argument_list|(
name|trueZ
argument_list|,
name|testZ
argument_list|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float128_is_signaling_nan
argument_list|(
name|testCases_a_float128
argument_list|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float64_isNaN
argument_list|(
name|trueZ
argument_list|)
operator|&&
name|float64_isNaN
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|!
name|float64_is_signaling_nan
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|(
name|trueFlags
operator|==
name|testFlags
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_float128
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"\n\t"
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_float64
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_ifdef
ifdef|#
directive|ifdef
name|FLOATX80
end_ifdef

begin_function
name|void
name|test_a_float128_z_floatx80
parameter_list|(
name|floatx80
name|trueFunction
parameter_list|(
name|float128
parameter_list|)
parameter_list|,
name|floatx80
name|testFunction
parameter_list|(
name|float128
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|floatx80
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_float128
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_float128
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_float128
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|floatx80_same
argument_list|(
name|trueZ
argument_list|,
name|testZ
argument_list|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float128_is_signaling_nan
argument_list|(
name|testCases_a_float128
argument_list|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|floatx80_isNaN
argument_list|(
name|trueZ
argument_list|)
operator|&&
name|floatx80_isNaN
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|!
name|floatx80_is_signaling_nan
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|(
name|trueFlags
operator|==
name|testFlags
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_float128
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"\n\t"
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_floatx80
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_function
name|void
name|test_az_float128
parameter_list|(
name|float128
name|trueFunction
parameter_list|(
name|float128
parameter_list|)
parameter_list|,
name|float128
name|testFunction
parameter_list|(
name|float128
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|float128
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_a_float128
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_float128
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_float128
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|float128_same
argument_list|(
name|trueZ
argument_list|,
name|testZ
argument_list|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float128_is_signaling_nan
argument_list|(
name|testCases_a_float128
argument_list|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float128_isNaN
argument_list|(
name|trueZ
argument_list|)
operator|&&
name|float128_isNaN
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|!
name|float128_is_signaling_nan
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|(
name|trueFlags
operator|==
name|testFlags
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInput_a_float128
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"\n\t"
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_float128
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|test_ab_float128_z_flag
parameter_list|(
name|flag
name|trueFunction
parameter_list|(
name|float128
parameter_list|,
name|float128
parameter_list|)
parameter_list|,
name|flag
name|testFunction
parameter_list|(
name|float128
parameter_list|,
name|float128
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|flag
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_ab_float128
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_float128
argument_list|,
name|testCases_b_float128
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_float128
argument_list|,
name|testCases_b_float128
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|!=
name|testZ
operator|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
operator|(
name|float128_is_signaling_nan
argument_list|(
name|testCases_a_float128
argument_list|)
operator|||
name|float128_is_signaling_nan
argument_list|(
name|testCases_b_float128
argument_list|)
operator|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|trueZ
operator|!=
name|testZ
operator|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInputs_ab_float128
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"\n\t"
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_flag
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
return|return;
block|}
end_function

begin_function
name|void
name|test_abz_float128
parameter_list|(
name|float128
name|trueFunction
parameter_list|(
name|float128
parameter_list|,
name|float128
parameter_list|)
parameter_list|,
name|float128
name|testFunction
parameter_list|(
name|float128
parameter_list|,
name|float128
parameter_list|)
parameter_list|)
block|{
name|int16
name|count
decl_stmt|;
name|float128
name|trueZ
decl_stmt|,
name|testZ
decl_stmt|;
name|uint8
name|trueFlags
decl_stmt|,
name|testFlags
decl_stmt|;
name|errorCount
operator|=
literal|0
expr_stmt|;
name|tenthousandsCount
operator|=
literal|0
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
name|testCases_initSequence
argument_list|(
name|testCases_sequence_ab_float128
argument_list|)
expr_stmt|;
name|writeTestsTotal
argument_list|()
expr_stmt|;
while|while
condition|(
operator|!
name|testCases_done
operator|||
name|forever
condition|)
block|{
name|testCases_next
argument_list|()
expr_stmt|;
operator|*
name|trueFlagsPtr
operator|=
literal|0
expr_stmt|;
name|trueZ
operator|=
name|trueFunction
argument_list|(
name|testCases_a_float128
argument_list|,
name|testCases_b_float128
argument_list|)
expr_stmt|;
name|trueFlags
operator|=
operator|*
name|trueFlagsPtr
expr_stmt|;
operator|(
name|void
operator|)
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
name|testZ
operator|=
name|testFunction
argument_list|(
name|testCases_a_float128
argument_list|,
name|testCases_b_float128
argument_list|)
expr_stmt|;
name|testFlags
operator|=
name|testFlagsFunctionPtr
argument_list|()
expr_stmt|;
operator|--
name|count
expr_stmt|;
if|if
condition|(
name|count
operator|==
literal|0
condition|)
block|{
name|checkEarlyExit
argument_list|()
expr_stmt|;
name|count
operator|=
literal|10000
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|float128_same
argument_list|(
name|trueZ
argument_list|,
name|testZ
argument_list|)
operator|||
operator|(
name|trueFlags
operator|!=
name|testFlags
operator|)
condition|)
block|{
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
operator|(
name|float128_is_signaling_nan
argument_list|(
name|testCases_a_float128
argument_list|)
operator|||
name|float128_is_signaling_nan
argument_list|(
name|testCases_b_float128
argument_list|)
operator|)
condition|)
block|{
name|trueFlags
operator||=
name|float_flag_invalid
expr_stmt|;
block|}
if|if
condition|(
operator|!
name|checkNaNs
operator|&&
name|float128_isNaN
argument_list|(
name|trueZ
argument_list|)
operator|&&
name|float128_isNaN
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|!
name|float128_is_signaling_nan
argument_list|(
name|testZ
argument_list|)
operator|&&
operator|(
name|trueFlags
operator|==
name|testFlags
operator|)
condition|)
block|{
comment|/* no problem */
block|}
else|else
block|{
operator|++
name|errorCount
expr_stmt|;
name|writeErrorFound
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
name|writeInputs_ab_float128
argument_list|()
expr_stmt|;
name|fputs
argument_list|(
literal|"\n\t"
argument_list|,
name|stdout
argument_list|)
expr_stmt|;
name|writeOutputs_z_float128
argument_list|(
name|trueZ
argument_list|,
name|trueFlags
argument_list|,
name|testZ
argument_list|,
name|testFlags
argument_list|)
expr_stmt|;
name|fflush
argument_list|(
name|stdout
argument_list|)
expr_stmt|;
if|if
condition|(
name|errorCount
operator|==
name|maxErrorCount
condition|)
goto|goto
name|exit
goto|;
block|}
block|}
block|}
name|exit
label|:
name|writeTestsPerformed
argument_list|(
literal|10000
operator|-
name|count
argument_list|)
expr_stmt|;
return|return;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

end_unit

