begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*	$NetBSD: netif.h,v 1.4 1995/09/14 23:45:30 pk Exp $	*/
end_comment

begin_comment
comment|/* $FreeBSD$ */
end_comment

begin_ifndef
ifndef|#
directive|ifndef
name|__SYS_LIBNETBOOT_NETIF_H
end_ifndef

begin_define
define|#
directive|define
name|__SYS_LIBNETBOOT_NETIF_H
end_define

begin_include
include|#
directive|include
file|"iodesc.h"
end_include

begin_define
define|#
directive|define
name|NENTS
parameter_list|(
name|x
parameter_list|)
value|sizeof(x)/sizeof(x[0])
end_define

begin_struct
struct|struct
name|netif_driver
block|{
specifier|const
name|char
modifier|*
name|netif_bname
decl_stmt|;
name|int
function_decl|(
modifier|*
name|netif_match
function_decl|)
parameter_list|(
name|struct
name|netif
modifier|*
parameter_list|,
name|void
modifier|*
parameter_list|)
function_decl|;
name|int
function_decl|(
modifier|*
name|netif_probe
function_decl|)
parameter_list|(
name|struct
name|netif
modifier|*
parameter_list|,
name|void
modifier|*
parameter_list|)
function_decl|;
name|void
function_decl|(
modifier|*
name|netif_init
function_decl|)
parameter_list|(
name|struct
name|iodesc
modifier|*
parameter_list|,
name|void
modifier|*
parameter_list|)
function_decl|;
name|int
function_decl|(
modifier|*
name|netif_get
function_decl|)
parameter_list|(
name|struct
name|iodesc
modifier|*
parameter_list|,
name|void
modifier|*
parameter_list|,
name|size_t
parameter_list|,
name|time_t
parameter_list|)
function_decl|;
name|int
function_decl|(
modifier|*
name|netif_put
function_decl|)
parameter_list|(
name|struct
name|iodesc
modifier|*
parameter_list|,
name|void
modifier|*
parameter_list|,
name|size_t
parameter_list|)
function_decl|;
name|void
function_decl|(
modifier|*
name|netif_end
function_decl|)
parameter_list|(
name|struct
name|netif
modifier|*
parameter_list|)
function_decl|;
name|struct
name|netif_dif
modifier|*
name|netif_ifs
decl_stmt|;
name|int
name|netif_nifs
decl_stmt|;
block|}
struct|;
end_struct

begin_struct
struct|struct
name|netif_dif
block|{
name|int
name|dif_unit
decl_stmt|;
name|int
name|dif_nsel
decl_stmt|;
name|struct
name|netif_stats
modifier|*
name|dif_stats
decl_stmt|;
name|void
modifier|*
name|dif_private
decl_stmt|;
comment|/* the following fields are used internally by the netif layer */
name|u_long
name|dif_used
decl_stmt|;
block|}
struct|;
end_struct

begin_struct
struct|struct
name|netif_stats
block|{
name|int
name|collisions
decl_stmt|;
name|int
name|collision_error
decl_stmt|;
name|int
name|missed
decl_stmt|;
name|int
name|sent
decl_stmt|;
name|int
name|received
decl_stmt|;
name|int
name|deferred
decl_stmt|;
name|int
name|overflow
decl_stmt|;
block|}
struct|;
end_struct

begin_struct
struct|struct
name|netif
block|{
name|struct
name|netif_driver
modifier|*
name|nif_driver
decl_stmt|;
name|int
name|nif_unit
decl_stmt|;
name|int
name|nif_sel
decl_stmt|;
name|void
modifier|*
name|nif_devdata
decl_stmt|;
block|}
struct|;
end_struct

begin_decl_stmt
specifier|extern
name|struct
name|netif_driver
modifier|*
name|netif_drivers
index|[]
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* machdep */
end_comment

begin_decl_stmt
specifier|extern
name|int
name|n_netif_drivers
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|extern
name|int
name|netif_debug
decl_stmt|;
end_decl_stmt

begin_function_decl
name|void
name|netif_init
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|struct
name|netif
modifier|*
name|netif_select
parameter_list|(
name|void
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|netif_probe
parameter_list|(
name|struct
name|netif
modifier|*
parameter_list|,
name|void
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|netif_attach
parameter_list|(
name|struct
name|netif
modifier|*
parameter_list|,
name|struct
name|iodesc
modifier|*
parameter_list|,
name|void
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|netif_detach
parameter_list|(
name|struct
name|netif
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|ssize_t
name|netif_get
parameter_list|(
name|struct
name|iodesc
modifier|*
parameter_list|,
name|void
modifier|*
parameter_list|,
name|size_t
parameter_list|,
name|time_t
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|ssize_t
name|netif_put
parameter_list|(
name|struct
name|iodesc
modifier|*
parameter_list|,
name|void
modifier|*
parameter_list|,
name|size_t
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|netif_open
parameter_list|(
name|void
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|netif_close
parameter_list|(
name|int
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|struct
name|iodesc
modifier|*
name|socktodesc
parameter_list|(
name|int
parameter_list|)
function_decl|;
end_function_decl

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* __SYS_LIBNETBOOT_NETIF_H */
end_comment

end_unit

