begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* 		      Library for ftpd clients.(libftp) 			Copyright by Oleg Orel 			 All rights reserved.  This  library is desined  for  free,  non-commercial  software  creation. It is changeable and can be improved. The author would greatly appreciate any  advises, new  components  and  patches  of  the  existing  programs. Commercial  usage is  also  possible  with  participation of it's author.    */
end_comment

begin_include
include|#
directive|include
file|"FtpLibrary.h"
end_include

begin_function
name|STATUS
name|FtpOpenDir
parameter_list|(
name|FTP
modifier|*
name|con
parameter_list|,
name|char
modifier|*
name|file
parameter_list|)
block|{
name|String
name|command
decl_stmt|;
if|if
condition|(
name|file
operator|==
name|NULL
operator|||
operator|*
name|file
operator|==
literal|'\0'
condition|)
name|strcpy
argument_list|(
name|command
argument_list|,
literal|"NLST"
argument_list|)
expr_stmt|;
else|else
name|sprintf
argument_list|(
name|command
argument_list|,
literal|"NLST %s"
argument_list|,
name|file
argument_list|)
expr_stmt|;
return|return
name|FtpCommand
argument_list|(
name|con
argument_list|,
name|command
argument_list|,
literal|""
argument_list|,
literal|120
argument_list|,
literal|150
argument_list|,
literal|200
argument_list|,
name|EOF
argument_list|)
return|;
block|}
end_function

end_unit

