begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*-  * Copyright (c) 2005-2008 David Schultz<das@FreeBSD.ORG>  * All rights reserved.  *  * Redistribution and use in source and binary forms, with or without  * modification, are permitted provided that the following conditions  * are met:  * 1. Redistributions of source code must retain the above copyright  *    notice, this list of conditions and the following disclaimer.  * 2. Redistributions in binary form must reproduce the above copyright  *    notice, this list of conditions and the following disclaimer in the  *    documentation and/or other materials provided with the distribution.  *  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND  * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE  * ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE  * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS  * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)  * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT  * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY  * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF  * SUCH DAMAGE.  */
end_comment

begin_include
include|#
directive|include
file|<sys/cdefs.h>
end_include

begin_expr_stmt
name|__FBSDID
argument_list|(
literal|"$FreeBSD$"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_include
include|#
directive|include
file|<float.h>
end_include

begin_include
include|#
directive|include
file|<stdint.h>
end_include

begin_include
include|#
directive|include
file|"fpmath.h"
end_include

begin_include
include|#
directive|include
file|"math.h"
end_include

begin_define
define|#
directive|define
name|TBLBITS
value|7
end_define

begin_define
define|#
directive|define
name|TBLSIZE
value|(1<< TBLBITS)
end_define

begin_define
define|#
directive|define
name|BIAS
value|(LDBL_MAX_EXP - 1)
end_define

begin_define
define|#
directive|define
name|EXPMASK
value|(BIAS + LDBL_MAX_EXP)
end_define

begin_if
if|#
directive|if
literal|0
end_if

begin_comment
comment|/* XXX Prevent gcc from erroneously constant folding this. */
end_comment

begin_else
unit|static const long double twom10000 = 0x1p-10000L;
else|#
directive|else
end_else

begin_decl_stmt
specifier|static
specifier|volatile
name|long
name|double
name|twom10000
init|=
literal|0x1p
operator|-
literal|10000L
decl_stmt|;
end_decl_stmt

begin_endif
endif|#
directive|endif
end_endif

begin_decl_stmt
specifier|static
specifier|const
name|long
name|double
name|huge
init|=
literal|0x1p10000L
decl_stmt|,
name|P1
init|=
literal|0x1
literal|.62e42fefa39ef35793c7673007e6p
operator|-
literal|1L
decl_stmt|,
name|P2
init|=
literal|0x1
operator|.
name|ebfbdff82c58ea86f16b06ec9736p
operator|-
literal|3L
decl_stmt|,
name|P3
init|=
literal|0x1
operator|.
name|c6b08d704a0bf8b33a762bad3459p
operator|-
literal|5L
decl_stmt|,
name|P4
init|=
literal|0x1
literal|.3b2ab6fba4e7729ccbbe0b4f3fc2p
operator|-
literal|7L
decl_stmt|,
name|P5
init|=
literal|0x1
literal|.5d87fe78a67311071dee13fd11d9p
operator|-
literal|10L
decl_stmt|,
name|P6
init|=
literal|0x1
literal|.430912f86c7876f4b663b23c5fe5p
operator|-
literal|13L
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
specifier|const
name|double
name|P7
init|=
literal|0x1
operator|.
name|ffcbfc588b041p
operator|-
literal|17
decl_stmt|,
name|P8
init|=
literal|0x1
literal|.62c0223a5c7c7p
operator|-
literal|20
decl_stmt|,
name|P9
init|=
literal|0x1
operator|.
name|b52541ff59713p
operator|-
literal|24
decl_stmt|,
name|P10
init|=
literal|0x1
operator|.
name|e4cf56a391e22p
operator|-
literal|28
decl_stmt|,
name|redux
init|=
literal|0x1
literal|.8p112
operator|/
name|TBLSIZE
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
specifier|const
name|long
name|double
name|tbl
index|[
name|TBLSIZE
index|]
init|=
block|{
literal|0x1
literal|.6a09e667f3bcc908b2fb1366dfeap
operator|-
literal|1L
block|,
literal|0x1
literal|.6c012750bdabeed76a99800f4edep
operator|-
literal|1L
block|,
literal|0x1
literal|.6dfb23c651a2ef220e2cbe1bc0d4p
operator|-
literal|1L
block|,
literal|0x1
literal|.6ff7df9519483cf87e1b4f3e1e98p
operator|-
literal|1L
block|,
literal|0x1
literal|.71f75e8ec5f73dd2370f2ef0b148p
operator|-
literal|1L
block|,
literal|0x1
literal|.73f9a48a58173bd5c9a4e68ab074p
operator|-
literal|1L
block|,
literal|0x1
literal|.75feb564267c8bf6e9aa33a489a8p
operator|-
literal|1L
block|,
literal|0x1
literal|.780694fde5d3f619ae02808592a4p
operator|-
literal|1L
block|,
literal|0x1
literal|.7a11473eb0186d7d51023f6ccb1ap
operator|-
literal|1L
block|,
literal|0x1
literal|.7c1ed0130c1327c49334459378dep
operator|-
literal|1L
block|,
literal|0x1
literal|.7e2f336cf4e62105d02ba1579756p
operator|-
literal|1L
block|,
literal|0x1
literal|.80427543e1a11b60de67649a3842p
operator|-
literal|1L
block|,
literal|0x1
literal|.82589994cce128acf88afab34928p
operator|-
literal|1L
block|,
literal|0x1
literal|.8471a4623c7acce52f6b97c6444cp
operator|-
literal|1L
block|,
literal|0x1
literal|.868d99b4492ec80e41d90ac2556ap
operator|-
literal|1L
block|,
literal|0x1
literal|.88ac7d98a669966530bcdf2d4cc0p
operator|-
literal|1L
block|,
literal|0x1
literal|.8ace5422aa0db5ba7c55a192c648p
operator|-
literal|1L
block|,
literal|0x1
literal|.8cf3216b5448bef2aa1cd161c57ap
operator|-
literal|1L
block|,
literal|0x1
literal|.8f1ae991577362b982745c72eddap
operator|-
literal|1L
block|,
literal|0x1
literal|.9145b0b91ffc588a61b469f6b6a0p
operator|-
literal|1L
block|,
literal|0x1
literal|.93737b0cdc5e4f4501c3f2540ae8p
operator|-
literal|1L
block|,
literal|0x1
literal|.95a44cbc8520ee9b483695a0e7fep
operator|-
literal|1L
block|,
literal|0x1
literal|.97d829fde4e4f8b9e920f91e8eb6p
operator|-
literal|1L
block|,
literal|0x1
literal|.9a0f170ca07b9ba3109b8c467844p
operator|-
literal|1L
block|,
literal|0x1
literal|.9c49182a3f0901c7c46b071f28dep
operator|-
literal|1L
block|,
literal|0x1
literal|.9e86319e323231824ca78e64c462p
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|a0c667b5de564b29ada8b8cabbacp
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|a309bec4a2d3358c171f770db1f4p
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|a5503b23e255c8b424491caf88ccp
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|a799e1330b3586f2dfb2b158f31ep
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|a9e6b5579fdbf43eb243bdff53a2p
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|ac36bbfd3f379c0db966a3126988p
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|ae89f995ad3ad5e8734d17731c80p
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|b0e07298db66590842acdfc6fb4ep
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|b33a2b84f15faf6bfd0e7bd941b0p
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|b59728de559398e3881111648738p
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|b7f76f2fb5e46eaa7b081ab53ff6p
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|ba5b030a10649840cb3c6af5b74cp
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|bcc1e904bc1d2247ba0f45b3d06cp
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|bf2c25bd71e088408d7025190cd0p
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|c199bdd85529c2220cb12a0916bap
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|c40ab5fffd07a6d14df820f17deap
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|c67f12e57d14b4a2137fd20f2a26p
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|c8f6d9406e7b511acbc48805c3f6p
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|cb720dcef90691503cbd1e949d0ap
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|cdf0b555dc3f9c44f8958fac4f12p
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|d072d4a07897b8d0f22f21a13792p
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|d2f87080d89f18ade123989ea50ep
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|d5818dcfba48725da05aeb66dff8p
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|d80e316c98397bb84f9d048807a0p
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|da9e603db3285708c01a5b6d480cp
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|dd321f301b4604b695de3c0630c0p
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|dfc97337b9b5eb968cac39ed284cp
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|e264614f5a128a12761fa17adc74p
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|e502ee78b3ff6273d130153992d0p
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|e7a51fbc74c834b548b2832378a4p
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|ea4afa2a490d9858f73a18f5dab4p
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|ecf482d8e67f08db0312fb949d50p
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|efa1bee615a27771fd21a92dabb6p
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|f252b376bba974e8696fc3638f24p
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|f50765b6e4540674f84b762861a6p
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|f7bfdad9cbe138913b4bfe72bd78p
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|fa7c1819e90d82e90a7e74b26360p
operator|-
literal|1L
block|,
literal|0x1
operator|.
name|fd3c22b8f71f10975ba4b32bd006p
operator|-
literal|1L
block|,
literal|0x1
literal|.0000000000000000000000000000p
operator|+
literal|0L
block|,
literal|0x1
literal|.0163da9fb33356d84a66ae336e98p
operator|+
literal|0L
block|,
literal|0x1
literal|.02c9a3e778060ee6f7caca4f7a18p
operator|+
literal|0L
block|,
literal|0x1
literal|.04315e86e7f84bd738f9a20da442p
operator|+
literal|0L
block|,
literal|0x1
literal|.059b0d31585743ae7c548eb68c6ap
operator|+
literal|0L
block|,
literal|0x1
literal|.0706b29ddf6ddc6dc403a9d87b1ep
operator|+
literal|0L
block|,
literal|0x1
literal|.0874518759bc808c35f25d942856p
operator|+
literal|0L
block|,
literal|0x1
literal|.09e3ecac6f3834521e060c584d5cp
operator|+
literal|0L
block|,
literal|0x1
literal|.0b5586cf9890f6298b92b7184200p
operator|+
literal|0L
block|,
literal|0x1
literal|.0cc922b7247f7407b705b893dbdep
operator|+
literal|0L
block|,
literal|0x1
literal|.0e3ec32d3d1a2020742e4f8af794p
operator|+
literal|0L
block|,
literal|0x1
literal|.0fb66affed31af232091dd8a169ep
operator|+
literal|0L
block|,
literal|0x1
literal|.11301d0125b50a4ebbf1aed9321cp
operator|+
literal|0L
block|,
literal|0x1
literal|.12abdc06c31cbfb92bad324d6f84p
operator|+
literal|0L
block|,
literal|0x1
literal|.1429aaea92ddfb34101943b2588ep
operator|+
literal|0L
block|,
literal|0x1
literal|.15a98c8a58e512480d573dd562aep
operator|+
literal|0L
block|,
literal|0x1
literal|.172b83c7d517adcdf7c8c50eb162p
operator|+
literal|0L
block|,
literal|0x1
literal|.18af9388c8de9bbbf70b9a3c269cp
operator|+
literal|0L
block|,
literal|0x1
literal|.1a35beb6fcb753cb698f692d2038p
operator|+
literal|0L
block|,
literal|0x1
literal|.1bbe084045cd39ab1e72b442810ep
operator|+
literal|0L
block|,
literal|0x1
literal|.1d4873168b9aa7805b8028990be8p
operator|+
literal|0L
block|,
literal|0x1
literal|.1ed5022fcd91cb8819ff61121fbep
operator|+
literal|0L
block|,
literal|0x1
literal|.2063b88628cd63b8eeb0295093f6p
operator|+
literal|0L
block|,
literal|0x1
literal|.21f49917ddc962552fd29294bc20p
operator|+
literal|0L
block|,
literal|0x1
literal|.2387a6e75623866c1fadb1c159c0p
operator|+
literal|0L
block|,
literal|0x1
literal|.251ce4fb2a63f3582ab7de9e9562p
operator|+
literal|0L
block|,
literal|0x1
literal|.26b4565e27cdd257a673281d3068p
operator|+
literal|0L
block|,
literal|0x1
literal|.284dfe1f5638096cf15cf03c9fa0p
operator|+
literal|0L
block|,
literal|0x1
literal|.29e9df51fdee12c25d15f5a25022p
operator|+
literal|0L
block|,
literal|0x1
literal|.2b87fd0dad98ffddea46538fca24p
operator|+
literal|0L
block|,
literal|0x1
literal|.2d285a6e4030b40091d536d0733ep
operator|+
literal|0L
block|,
literal|0x1
literal|.2ecafa93e2f5611ca0f45d5239a4p
operator|+
literal|0L
block|,
literal|0x1
literal|.306fe0a31b7152de8d5a463063bep
operator|+
literal|0L
block|,
literal|0x1
literal|.32170fc4cd8313539cf1c3009330p
operator|+
literal|0L
block|,
literal|0x1
literal|.33c08b26416ff4c9c8610d96680ep
operator|+
literal|0L
block|,
literal|0x1
literal|.356c55f929ff0c94623476373be4p
operator|+
literal|0L
block|,
literal|0x1
literal|.371a7373aa9caa7145502f45452ap
operator|+
literal|0L
block|,
literal|0x1
literal|.38cae6d05d86585a9cb0d9bed530p
operator|+
literal|0L
block|,
literal|0x1
literal|.3a7db34e59ff6ea1bc9299e0a1fep
operator|+
literal|0L
block|,
literal|0x1
literal|.3c32dc313a8e484001f228b58cf0p
operator|+
literal|0L
block|,
literal|0x1
literal|.3dea64c12342235b41223e13d7eep
operator|+
literal|0L
block|,
literal|0x1
literal|.3fa4504ac801ba0bf701aa417b9cp
operator|+
literal|0L
block|,
literal|0x1
literal|.4160a21f72e29f84325b8f3dbacap
operator|+
literal|0L
block|,
literal|0x1
literal|.431f5d950a896dc704439410b628p
operator|+
literal|0L
block|,
literal|0x1
literal|.44e086061892d03136f409df0724p
operator|+
literal|0L
block|,
literal|0x1
literal|.46a41ed1d005772512f459229f0ap
operator|+
literal|0L
block|,
literal|0x1
literal|.486a2b5c13cd013c1a3b69062f26p
operator|+
literal|0L
block|,
literal|0x1
literal|.4a32af0d7d3de672d8bcf46f99b4p
operator|+
literal|0L
block|,
literal|0x1
literal|.4bfdad5362a271d4397afec42e36p
operator|+
literal|0L
block|,
literal|0x1
literal|.4dcb299fddd0d63b36ef1a9e19dep
operator|+
literal|0L
block|,
literal|0x1
literal|.4f9b2769d2ca6ad33d8b69aa0b8cp
operator|+
literal|0L
block|,
literal|0x1
literal|.516daa2cf6641c112f52c84d6066p
operator|+
literal|0L
block|,
literal|0x1
literal|.5342b569d4f81df0a83c49d86bf4p
operator|+
literal|0L
block|,
literal|0x1
literal|.551a4ca5d920ec52ec620243540cp
operator|+
literal|0L
block|,
literal|0x1
literal|.56f4736b527da66ecb004764e61ep
operator|+
literal|0L
block|,
literal|0x1
literal|.58d12d497c7fd252bc2b7343d554p
operator|+
literal|0L
block|,
literal|0x1
literal|.5ab07dd48542958c93015191e9a8p
operator|+
literal|0L
block|,
literal|0x1
literal|.5c9268a5946b701c4b1b81697ed4p
operator|+
literal|0L
block|,
literal|0x1
literal|.5e76f15ad21486e9be4c20399d12p
operator|+
literal|0L
block|,
literal|0x1
literal|.605e1b976dc08b076f592a487066p
operator|+
literal|0L
block|,
literal|0x1
literal|.6247eb03a5584b1f0fa06fd2d9eap
operator|+
literal|0L
block|,
literal|0x1
literal|.6434634ccc31fc76f8714c4ee122p
operator|+
literal|0L
block|,
literal|0x1
literal|.66238825522249127d9e29b92ea2p
operator|+
literal|0L
block|,
literal|0x1
literal|.68155d44ca973081c57227b9f69ep
operator|+
literal|0L
block|, }
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
specifier|const
name|float
name|eps
index|[
name|TBLSIZE
index|]
init|=
block|{
operator|-
literal|0x1
literal|.5c50p
operator|-
literal|101
block|,
operator|-
literal|0x1
literal|.5d00p
operator|-
literal|106
block|,
literal|0x1
literal|.8e90p
operator|-
literal|102
block|,
operator|-
literal|0x1
literal|.5340p
operator|-
literal|103
block|,
literal|0x1
literal|.1bd0p
operator|-
literal|102
block|,
operator|-
literal|0x1
literal|.4600p
operator|-
literal|105
block|,
operator|-
literal|0x1
literal|.7a40p
operator|-
literal|104
block|,
literal|0x1
operator|.
name|d590p
operator|-
literal|102
block|,
operator|-
literal|0x1
operator|.
name|d590p
operator|-
literal|101
block|,
literal|0x1
operator|.
name|b100p
operator|-
literal|103
block|,
operator|-
literal|0x1
literal|.0d80p
operator|-
literal|105
block|,
literal|0x1
literal|.6b00p
operator|-
literal|103
block|,
operator|-
literal|0x1
literal|.9f00p
operator|-
literal|105
block|,
literal|0x1
operator|.
name|c400p
operator|-
literal|103
block|,
literal|0x1
operator|.
name|e120p
operator|-
literal|103
block|,
operator|-
literal|0x1
operator|.
name|c100p
operator|-
literal|104
block|,
operator|-
literal|0x1
literal|.9d20p
operator|-
literal|103
block|,
literal|0x1
operator|.
name|a800p
operator|-
literal|108
block|,
literal|0x1
literal|.4c00p
operator|-
literal|106
block|,
operator|-
literal|0x1
literal|.9500p
operator|-
literal|106
block|,
literal|0x1
literal|.6900p
operator|-
literal|105
block|,
operator|-
literal|0x1
literal|.29d0p
operator|-
literal|100
block|,
literal|0x1
literal|.4c60p
operator|-
literal|103
block|,
literal|0x1
literal|.13a0p
operator|-
literal|102
block|,
operator|-
literal|0x1
literal|.5b60p
operator|-
literal|103
block|,
operator|-
literal|0x1
literal|.1c40p
operator|-
literal|103
block|,
literal|0x1
operator|.
name|db80p
operator|-
literal|102
block|,
literal|0x1
literal|.91a0p
operator|-
literal|102
block|,
literal|0x1
operator|.
name|dc00p
operator|-
literal|105
block|,
literal|0x1
literal|.44c0p
operator|-
literal|104
block|,
literal|0x1
literal|.9710p
operator|-
literal|102
block|,
literal|0x1
literal|.8760p
operator|-
literal|103
block|,
operator|-
literal|0x1
operator|.
name|a720p
operator|-
literal|103
block|,
literal|0x1
operator|.
name|ed20p
operator|-
literal|103
block|,
operator|-
literal|0x1
literal|.49c0p
operator|-
literal|102
block|,
operator|-
literal|0x1
operator|.
name|e000p
operator|-
literal|111
block|,
literal|0x1
literal|.86a0p
operator|-
literal|103
block|,
literal|0x1
literal|.2b40p
operator|-
literal|103
block|,
operator|-
literal|0x1
operator|.
name|b400p
operator|-
literal|108
block|,
literal|0x1
literal|.1280p
operator|-
literal|99
block|,
operator|-
literal|0x1
literal|.02d8p
operator|-
literal|102
block|,
operator|-
literal|0x1
operator|.
name|e3d0p
operator|-
literal|103
block|,
operator|-
literal|0x1
operator|.
name|b080p
operator|-
literal|105
block|,
operator|-
literal|0x1
operator|.
name|f100p
operator|-
literal|107
block|,
operator|-
literal|0x1
literal|.16c0p
operator|-
literal|105
block|,
operator|-
literal|0x1
literal|.1190p
operator|-
literal|103
block|,
operator|-
literal|0x1
operator|.
name|a7d2p
operator|-
literal|100
block|,
literal|0x1
literal|.3450p
operator|-
literal|103
block|,
operator|-
literal|0x1
literal|.67c0p
operator|-
literal|105
block|,
literal|0x1
literal|.4b80p
operator|-
literal|104
block|,
operator|-
literal|0x1
operator|.
name|c4e0p
operator|-
literal|103
block|,
literal|0x1
literal|.6000p
operator|-
literal|108
block|,
operator|-
literal|0x1
literal|.3f60p
operator|-
literal|105
block|,
literal|0x1
literal|.93f0p
operator|-
literal|104
block|,
literal|0x1
literal|.5fe0p
operator|-
literal|105
block|,
literal|0x1
literal|.6f80p
operator|-
literal|107
block|,
operator|-
literal|0x1
literal|.7600p
operator|-
literal|106
block|,
literal|0x1
literal|.21e0p
operator|-
literal|106
block|,
operator|-
literal|0x1
literal|.3a40p
operator|-
literal|106
block|,
operator|-
literal|0x1
literal|.40c0p
operator|-
literal|104
block|,
operator|-
literal|0x1
literal|.9860p
operator|-
literal|105
block|,
operator|-
literal|0x1
literal|.5d40p
operator|-
literal|108
block|,
operator|-
literal|0x1
literal|.1d70p
operator|-
literal|106
block|,
literal|0x1
literal|.2760p
operator|-
literal|105
block|,
literal|0x0
literal|.0000p
operator|+
literal|0
block|,
literal|0x1
literal|.21e2p
operator|-
literal|104
block|,
operator|-
literal|0x1
literal|.9520p
operator|-
literal|108
block|,
operator|-
literal|0x1
literal|.5720p
operator|-
literal|106
block|,
operator|-
literal|0x1
literal|.4810p
operator|-
literal|106
block|,
operator|-
literal|0x1
operator|.
name|be00p
operator|-
literal|109
block|,
literal|0x1
literal|.0080p
operator|-
literal|105
block|,
operator|-
literal|0x1
literal|.5780p
operator|-
literal|108
block|,
operator|-
literal|0x1
operator|.
name|d460p
operator|-
literal|105
block|,
operator|-
literal|0x1
literal|.6140p
operator|-
literal|105
block|,
literal|0x1
literal|.4630p
operator|-
literal|104
block|,
literal|0x1
operator|.
name|ad50p
operator|-
literal|103
block|,
literal|0x1
literal|.82e0p
operator|-
literal|105
block|,
literal|0x1
literal|.1d3cp
operator|-
literal|101
block|,
literal|0x1
literal|.6100p
operator|-
literal|107
block|,
literal|0x1
operator|.
name|ec30p
operator|-
literal|104
block|,
literal|0x1
operator|.
name|f200p
operator|-
literal|108
block|,
literal|0x1
literal|.0b40p
operator|-
literal|103
block|,
literal|0x1
literal|.3660p
operator|-
literal|102
block|,
literal|0x1
operator|.
name|d9d0p
operator|-
literal|103
block|,
operator|-
literal|0x1
literal|.02d0p
operator|-
literal|102
block|,
literal|0x1
operator|.
name|b070p
operator|-
literal|103
block|,
literal|0x1
operator|.
name|b9c0p
operator|-
literal|104
block|,
operator|-
literal|0x1
literal|.01c0p
operator|-
literal|103
block|,
operator|-
literal|0x1
operator|.
name|dfe0p
operator|-
literal|103
block|,
literal|0x1
literal|.1b60p
operator|-
literal|104
block|,
operator|-
literal|0x1
operator|.
name|ae94p
operator|-
literal|101
block|,
operator|-
literal|0x1
literal|.3340p
operator|-
literal|104
block|,
literal|0x1
operator|.
name|b3d8p
operator|-
literal|102
block|,
operator|-
literal|0x1
literal|.6e40p
operator|-
literal|105
block|,
operator|-
literal|0x1
literal|.3670p
operator|-
literal|103
block|,
literal|0x1
operator|.
name|c140p
operator|-
literal|104
block|,
literal|0x1
literal|.1840p
operator|-
literal|101
block|,
literal|0x1
literal|.1ab0p
operator|-
literal|102
block|,
operator|-
literal|0x1
operator|.
name|a400p
operator|-
literal|104
block|,
literal|0x1
literal|.1f00p
operator|-
literal|104
block|,
operator|-
literal|0x1
literal|.7180p
operator|-
literal|103
block|,
literal|0x1
literal|.4ce0p
operator|-
literal|102
block|,
literal|0x1
literal|.9200p
operator|-
literal|107
block|,
operator|-
literal|0x1
literal|.54c0p
operator|-
literal|103
block|,
literal|0x1
literal|.1b80p
operator|-
literal|105
block|,
operator|-
literal|0x1
literal|.1828p
operator|-
literal|101
block|,
literal|0x1
literal|.5720p
operator|-
literal|102
block|,
operator|-
literal|0x1
operator|.
name|a060p
operator|-
literal|100
block|,
literal|0x1
literal|.9160p
operator|-
literal|102
block|,
literal|0x1
operator|.
name|a280p
operator|-
literal|104
block|,
literal|0x1
literal|.3400p
operator|-
literal|107
block|,
literal|0x1
literal|.2b20p
operator|-
literal|102
block|,
literal|0x1
literal|.7800p
operator|-
literal|108
block|,
literal|0x1
operator|.
name|cfd0p
operator|-
literal|101
block|,
literal|0x1
literal|.2ef0p
operator|-
literal|102
block|,
operator|-
literal|0x1
literal|.2760p
operator|-
literal|99
block|,
literal|0x1
operator|.
name|b380p
operator|-
literal|104
block|,
literal|0x1
literal|.0048p
operator|-
literal|101
block|,
operator|-
literal|0x1
literal|.60b0p
operator|-
literal|102
block|,
literal|0x1
operator|.
name|a1ccp
operator|-
literal|100
block|,
operator|-
literal|0x1
operator|.
name|a640p
operator|-
literal|104
block|,
operator|-
literal|0x1
literal|.08a0p
operator|-
literal|101
block|,
literal|0x1
literal|.7e60p
operator|-
literal|102
block|,
literal|0x1
literal|.22c0p
operator|-
literal|103
block|,
operator|-
literal|0x1
literal|.7200p
operator|-
literal|106
block|,
literal|0x1
operator|.
name|f0f0p
operator|-
literal|102
block|,
literal|0x1
operator|.
name|eb4ep
operator|-
literal|99
block|,
literal|0x1
operator|.
name|c6e0p
operator|-
literal|103
block|, }
decl_stmt|;
end_decl_stmt

begin_comment
comment|/*  * exp2l(x): compute the base 2 exponential of x  *  * Accuracy: Peak error< 0.502 ulp.  *  * Method: (accurate tables)  *  *   Reduce x:  *     x = 2**k + y, for integer k and |y|<= 1/2.  *     Thus we have exp2(x) = 2**k * exp2(y).  *  *   Reduce y:  *     y = i/TBLSIZE + z - eps[i] for integer i near y * TBLSIZE.  *     Thus we have exp2(y) = exp2(i/TBLSIZE) * exp2(z - eps[i]),  *     with |z - eps[i]|<= 2**-8 + 2**-98 for the table used.  *  *   We compute exp2(i/TBLSIZE) via table lookup and exp2(z - eps[i]) via  *   a degree-10 minimax polynomial with maximum error under 2**-120.  *   The values in exp2t[] and eps[] are chosen such that  *   exp2t[i] = exp2(i/TBLSIZE + eps[i]), and eps[i] is a small offset such  *   that exp2t[i] is accurate to 2**-122.  *  *   Note that the range of i is +-TBLSIZE/2, so we actually index the tables  *   by i0 = i + TBLSIZE/2.  *  *   This method is due to Gal, with many details due to Gal and Bachelis:  *  *	Gal, S. and Bachelis, B.  An Accurate Elementary Mathematical Library  *	for the IEEE Floating Point Standard.  TOMS 17(1), 26-46 (1991).  */
end_comment

begin_function
name|long
name|double
name|exp2l
parameter_list|(
name|long
name|double
name|x
parameter_list|)
block|{
name|union
name|IEEEl2bits
name|u
decl_stmt|,
name|v
decl_stmt|;
name|long
name|double
name|r
decl_stmt|,
name|t
decl_stmt|,
name|twopk
decl_stmt|,
name|twopkp10000
decl_stmt|,
name|z
decl_stmt|;
name|uint32_t
name|hx
decl_stmt|,
name|ix
decl_stmt|,
name|i0
decl_stmt|;
name|int
name|k
decl_stmt|;
name|u
operator|.
name|e
operator|=
name|x
expr_stmt|;
comment|/* Filter out exceptional cases. */
name|hx
operator|=
name|u
operator|.
name|xbits
operator|.
name|expsign
expr_stmt|;
name|ix
operator|=
name|hx
operator|&
name|EXPMASK
expr_stmt|;
if|if
condition|(
name|ix
operator|>=
name|BIAS
operator|+
literal|14
condition|)
block|{
comment|/* |x|>= 16384 */
if|if
condition|(
name|ix
operator|==
name|BIAS
operator|+
name|LDBL_MAX_EXP
condition|)
block|{
if|if
condition|(
name|u
operator|.
name|xbits
operator|.
name|manh
operator|!=
literal|0
operator|||
name|u
operator|.
name|xbits
operator|.
name|manl
operator|!=
literal|0
operator|||
operator|(
name|hx
operator|&
literal|0x8000
operator|)
operator|==
literal|0
condition|)
return|return
operator|(
name|x
operator|+
name|x
operator|)
return|;
comment|/* x is NaN or +Inf */
else|else
return|return
operator|(
literal|0.0
operator|)
return|;
comment|/* x is -Inf */
block|}
if|if
condition|(
name|x
operator|>=
literal|16384
condition|)
return|return
operator|(
name|huge
operator|*
name|huge
operator|)
return|;
comment|/* overflow */
if|if
condition|(
name|x
operator|<=
operator|-
literal|16495
condition|)
return|return
operator|(
name|twom10000
operator|*
name|twom10000
operator|)
return|;
comment|/* underflow */
block|}
elseif|else
if|if
condition|(
name|ix
operator|<=
name|BIAS
operator|-
literal|115
condition|)
block|{
comment|/* |x|< 0x1p-115 */
return|return
operator|(
literal|1.0
operator|+
name|x
operator|)
return|;
block|}
comment|/* 	 * Reduce x, computing z, i0, and k. The low bits of x + redux 	 * contain the 16-bit integer part of the exponent (k) followed by 	 * TBLBITS fractional bits (i0). We use bit tricks to extract these 	 * as integers, then set z to the remainder. 	 * 	 * Example: Suppose x is 0xabc.123456p0 and TBLBITS is 8. 	 * Then the low-order word of x + redux is 0x000abc12, 	 * We split this into k = 0xabc and i0 = 0x12 (adjusted to 	 * index into the table), then we compute z = 0x0.003456p0. 	 * 	 * XXX If the exponent is negative, the computation of k depends on 	 *     '>>' doing sign extension. 	 */
name|u
operator|.
name|e
operator|=
name|x
operator|+
name|redux
expr_stmt|;
name|i0
operator|=
operator|(
name|u
operator|.
name|bits
operator|.
name|manl
operator|&
literal|0xffffffff
operator|)
operator|+
name|TBLSIZE
operator|/
literal|2
expr_stmt|;
name|k
operator|=
operator|(
name|int
operator|)
name|i0
operator|>>
name|TBLBITS
expr_stmt|;
name|i0
operator|=
name|i0
operator|&
operator|(
name|TBLSIZE
operator|-
literal|1
operator|)
expr_stmt|;
name|u
operator|.
name|e
operator|-=
name|redux
expr_stmt|;
name|z
operator|=
name|x
operator|-
name|u
operator|.
name|e
expr_stmt|;
name|v
operator|.
name|xbits
operator|.
name|manh
operator|=
literal|0
expr_stmt|;
name|v
operator|.
name|xbits
operator|.
name|manl
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|k
operator|>=
name|LDBL_MIN_EXP
condition|)
block|{
name|v
operator|.
name|xbits
operator|.
name|expsign
operator|=
name|LDBL_MAX_EXP
operator|-
literal|1
operator|+
name|k
expr_stmt|;
name|twopk
operator|=
name|v
operator|.
name|e
expr_stmt|;
block|}
else|else
block|{
name|v
operator|.
name|xbits
operator|.
name|expsign
operator|=
name|LDBL_MAX_EXP
operator|-
literal|1
operator|+
name|k
operator|+
literal|10000
expr_stmt|;
name|twopkp10000
operator|=
name|v
operator|.
name|e
expr_stmt|;
block|}
comment|/* Compute r = exp2(y) = exp2t[i0] * p(z - eps[i]). */
name|t
operator|=
name|tbl
index|[
name|i0
index|]
expr_stmt|;
comment|/* exp2t[i0] */
name|z
operator|-=
name|eps
index|[
name|i0
index|]
expr_stmt|;
comment|/* eps[i0]   */
name|r
operator|=
name|t
operator|+
name|t
operator|*
name|z
operator|*
operator|(
name|P1
operator|+
name|z
operator|*
operator|(
name|P2
operator|+
name|z
operator|*
operator|(
name|P3
operator|+
name|z
operator|*
operator|(
name|P4
operator|+
name|z
operator|*
operator|(
name|P5
operator|+
name|z
operator|*
operator|(
name|P6
operator|+
name|z
operator|*
operator|(
name|P7
operator|+
name|z
operator|*
operator|(
name|P8
operator|+
name|z
operator|*
operator|(
name|P9
operator|+
name|z
operator|*
name|P10
operator|)
operator|)
operator|)
operator|)
operator|)
operator|)
operator|)
operator|)
operator|)
expr_stmt|;
comment|/* Scale by 2**k. */
if|if
condition|(
name|k
operator|>=
name|LDBL_MIN_EXP
condition|)
block|{
if|if
condition|(
name|k
operator|==
name|LDBL_MAX_EXP
condition|)
return|return
operator|(
name|r
operator|*
literal|2.0
operator|*
literal|0x1p16383L
operator|)
return|;
return|return
operator|(
name|r
operator|*
name|twopk
operator|)
return|;
block|}
else|else
block|{
return|return
operator|(
name|r
operator|*
name|twopkp10000
operator|*
name|twom10000
operator|)
return|;
block|}
block|}
end_function

end_unit

