begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*-  * SPDX-License-Identifier: BSD-2-Clause-FreeBSD  *  * Copyright (c) 2005-2008 David Schultz<das@FreeBSD.ORG>  * All rights reserved.  *  * Redistribution and use in source and binary forms, with or without  * modification, are permitted provided that the following conditions  * are met:  * 1. Redistributions of source code must retain the above copyright  *    notice, this list of conditions and the following disclaimer.  * 2. Redistributions in binary form must reproduce the above copyright  *    notice, this list of conditions and the following disclaimer in the  *    documentation and/or other materials provided with the distribution.  *  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND  * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE  * ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE  * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS  * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)  * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT  * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY  * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF  * SUCH DAMAGE.  */
end_comment

begin_include
include|#
directive|include
file|<sys/cdefs.h>
end_include

begin_expr_stmt
name|__FBSDID
argument_list|(
literal|"$FreeBSD$"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_include
include|#
directive|include
file|<float.h>
end_include

begin_include
include|#
directive|include
file|<stdint.h>
end_include

begin_ifdef
ifdef|#
directive|ifdef
name|__i386__
end_ifdef

begin_include
include|#
directive|include
file|<ieeefp.h>
end_include

begin_endif
endif|#
directive|endif
end_endif

begin_include
include|#
directive|include
file|"fpmath.h"
end_include

begin_include
include|#
directive|include
file|"math.h"
end_include

begin_include
include|#
directive|include
file|"math_private.h"
end_include

begin_define
define|#
directive|define
name|TBLBITS
value|7
end_define

begin_define
define|#
directive|define
name|TBLSIZE
value|(1<< TBLBITS)
end_define

begin_define
define|#
directive|define
name|BIAS
value|(LDBL_MAX_EXP - 1)
end_define

begin_decl_stmt
specifier|static
specifier|volatile
name|long
name|double
name|huge
init|=
literal|0x1p10000L
decl_stmt|,
name|twom10000
init|=
literal|0x1p
operator|-
literal|10000L
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
specifier|const
name|union
name|IEEEl2bits
name|P1
init|=
name|LD80C
argument_list|(
literal|0xb17217f7d1cf79ac
argument_list|,
operator|-
literal|1
argument_list|,
literal|6.93147180559945309429e-1L
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
specifier|const
name|double
name|redux
init|=
literal|0x1
literal|.8p63
operator|/
name|TBLSIZE
decl_stmt|,
comment|/*  * Domain [-0.00390625, 0.00390625], range ~[-1.7079e-23, 1.7079e-23]  * |exp(x) - p(x)|< 2**-75.6  */
name|P2
init|=
literal|2.4022650695910072e-1
decl_stmt|,
comment|/*  0x1ebfbdff82c58f.0p-55 */
name|P3
init|=
literal|5.5504108664816879e-2
decl_stmt|,
comment|/*  0x1c6b08d7049e1a.0p-57 */
name|P4
init|=
literal|9.6181291055695180e-3
decl_stmt|,
comment|/*  0x13b2ab6fa8321a.0p-59 */
name|P5
init|=
literal|1.3333563089183052e-3
decl_stmt|,
comment|/*  0x15d8806f67f251.0p-62 */
name|P6
init|=
literal|1.5413361552277414e-4
decl_stmt|;
end_decl_stmt

begin_comment
comment|/*  0x1433ddacff3441.0p-65 */
end_comment

begin_decl_stmt
specifier|static
specifier|const
name|double
name|tbl
index|[
name|TBLSIZE
operator|*
literal|2
index|]
init|=
block|{
literal|0x1
literal|.6a09e667f3bcdp
operator|-
literal|1
block|,
operator|-
literal|0x1
operator|.
name|bdd3413b2648p
operator|-
literal|55
block|,
literal|0x1
literal|.6c012750bdabfp
operator|-
literal|1
block|,
operator|-
literal|0x1
literal|.2895667ff0cp
operator|-
literal|57
block|,
literal|0x1
literal|.6dfb23c651a2fp
operator|-
literal|1
block|,
operator|-
literal|0x1
operator|.
name|bbe3a683c88p
operator|-
literal|58
block|,
literal|0x1
literal|.6ff7df9519484p
operator|-
literal|1
block|,
operator|-
literal|0x1
literal|.83c0f25860fp
operator|-
literal|56
block|,
literal|0x1
literal|.71f75e8ec5f74p
operator|-
literal|1
block|,
operator|-
literal|0x1
literal|.16e4786887bp
operator|-
literal|56
block|,
literal|0x1
literal|.73f9a48a58174p
operator|-
literal|1
block|,
operator|-
literal|0x1
literal|.0a8d96c65d5p
operator|-
literal|55
block|,
literal|0x1
literal|.75feb564267c9p
operator|-
literal|1
block|,
operator|-
literal|0x1
literal|.0245957316ep
operator|-
literal|55
block|,
literal|0x1
literal|.780694fde5d3fp
operator|-
literal|1
block|,
literal|0x1
literal|.866b80a0216p
operator|-
literal|55
block|,
literal|0x1
literal|.7a11473eb0187p
operator|-
literal|1
block|,
operator|-
literal|0x1
literal|.41577ee0499p
operator|-
literal|56
block|,
literal|0x1
literal|.7c1ed0130c132p
operator|-
literal|1
block|,
literal|0x1
operator|.
name|f124cd1164ep
operator|-
literal|55
block|,
literal|0x1
literal|.7e2f336cf4e62p
operator|-
literal|1
block|,
literal|0x1
literal|.05d02ba157ap
operator|-
literal|57
block|,
literal|0x1
literal|.80427543e1a12p
operator|-
literal|1
block|,
operator|-
literal|0x1
literal|.27c86626d97p
operator|-
literal|55
block|,
literal|0x1
literal|.82589994cce13p
operator|-
literal|1
block|,
operator|-
literal|0x1
operator|.
name|d4c1dd41533p
operator|-
literal|55
block|,
literal|0x1
literal|.8471a4623c7adp
operator|-
literal|1
block|,
operator|-
literal|0x1
literal|.8d684a341cep
operator|-
literal|56
block|,
literal|0x1
literal|.868d99b4492edp
operator|-
literal|1
block|,
operator|-
literal|0x1
operator|.
name|fc6f89bd4f68p
operator|-
literal|55
block|,
literal|0x1
literal|.88ac7d98a6699p
operator|-
literal|1
block|,
literal|0x1
literal|.994c2f37cb5p
operator|-
literal|55
block|,
literal|0x1
literal|.8ace5422aa0dbp
operator|-
literal|1
block|,
literal|0x1
literal|.6e9f156864bp
operator|-
literal|55
block|,
literal|0x1
literal|.8cf3216b5448cp
operator|-
literal|1
block|,
operator|-
literal|0x1
literal|.0d55e32e9e4p
operator|-
literal|57
block|,
literal|0x1
literal|.8f1ae99157736p
operator|-
literal|1
block|,
literal|0x1
literal|.5cc13a2e397p
operator|-
literal|56
block|,
literal|0x1
literal|.9145b0b91ffc6p
operator|-
literal|1
block|,
operator|-
literal|0x1
operator|.
name|dd6792e5825p
operator|-
literal|55
block|,
literal|0x1
literal|.93737b0cdc5e5p
operator|-
literal|1
block|,
operator|-
literal|0x1
literal|.75fc781b58p
operator|-
literal|58
block|,
literal|0x1
literal|.95a44cbc8520fp
operator|-
literal|1
block|,
operator|-
literal|0x1
literal|.64b7c96a5fp
operator|-
literal|57
block|,
literal|0x1
literal|.97d829fde4e5p
operator|-
literal|1
block|,
operator|-
literal|0x1
operator|.
name|d185b7c1b86p
operator|-
literal|55
block|,
literal|0x1
literal|.9a0f170ca07bap
operator|-
literal|1
block|,
operator|-
literal|0x1
literal|.173bd91cee6p
operator|-
literal|55
block|,
literal|0x1
literal|.9c49182a3f09p
operator|-
literal|1
block|,
literal|0x1
operator|.
name|c7c46b071f2p
operator|-
literal|57
block|,
literal|0x1
literal|.9e86319e32323p
operator|-
literal|1
block|,
literal|0x1
literal|.824ca78e64cp
operator|-
literal|57
block|,
literal|0x1
operator|.
name|a0c667b5de565p
operator|-
literal|1
block|,
operator|-
literal|0x1
literal|.359495d1cd5p
operator|-
literal|55
block|,
literal|0x1
operator|.
name|a309bec4a2d33p
operator|-
literal|1
block|,
literal|0x1
literal|.6305c7ddc368p
operator|-
literal|55
block|,
literal|0x1
operator|.
name|a5503b23e255dp
operator|-
literal|1
block|,
operator|-
literal|0x1
operator|.
name|d2f6edb8d42p
operator|-
literal|55
block|,
literal|0x1
operator|.
name|a799e1330b358p
operator|-
literal|1
block|,
literal|0x1
operator|.
name|bcb7ecac564p
operator|-
literal|55
block|,
literal|0x1
operator|.
name|a9e6b5579fdbfp
operator|-
literal|1
block|,
literal|0x1
literal|.0fac90ef7fdp
operator|-
literal|55
block|,
literal|0x1
operator|.
name|ac36bbfd3f37ap
operator|-
literal|1
block|,
operator|-
literal|0x1
operator|.
name|f9234cae76dp
operator|-
literal|56
block|,
literal|0x1
operator|.
name|ae89f995ad3adp
operator|-
literal|1
block|,
literal|0x1
literal|.7a1cd345dcc8p
operator|-
literal|55
block|,
literal|0x1
operator|.
name|b0e07298db666p
operator|-
literal|1
block|,
operator|-
literal|0x1
operator|.
name|bdef54c80e4p
operator|-
literal|55
block|,
literal|0x1
operator|.
name|b33a2b84f15fbp
operator|-
literal|1
block|,
operator|-
literal|0x1
literal|.2805e3084d8p
operator|-
literal|58
block|,
literal|0x1
operator|.
name|b59728de5593ap
operator|-
literal|1
block|,
operator|-
literal|0x1
operator|.
name|c71dfbbba6ep
operator|-
literal|55
block|,
literal|0x1
operator|.
name|b7f76f2fb5e47p
operator|-
literal|1
block|,
operator|-
literal|0x1
literal|.5584f7e54acp
operator|-
literal|57
block|,
literal|0x1
operator|.
name|ba5b030a1064ap
operator|-
literal|1
block|,
operator|-
literal|0x1
operator|.
name|efcd30e5429p
operator|-
literal|55
block|,
literal|0x1
operator|.
name|bcc1e904bc1d2p
operator|-
literal|1
block|,
literal|0x1
literal|.23dd07a2d9fp
operator|-
literal|56
block|,
literal|0x1
operator|.
name|bf2c25bd71e09p
operator|-
literal|1
block|,
operator|-
literal|0x1
operator|.
name|efdca3f6b9c8p
operator|-
literal|55
block|,
literal|0x1
operator|.
name|c199bdd85529cp
operator|-
literal|1
block|,
literal|0x1
literal|.11065895049p
operator|-
literal|56
block|,
literal|0x1
operator|.
name|c40ab5fffd07ap
operator|-
literal|1
block|,
literal|0x1
operator|.
name|b4537e083c6p
operator|-
literal|55
block|,
literal|0x1
operator|.
name|c67f12e57d14bp
operator|-
literal|1
block|,
literal|0x1
literal|.2884dff483c8p
operator|-
literal|55
block|,
literal|0x1
operator|.
name|c8f6d9406e7b5p
operator|-
literal|1
block|,
literal|0x1
literal|.1acbc48805cp
operator|-
literal|57
block|,
literal|0x1
operator|.
name|cb720dcef9069p
operator|-
literal|1
block|,
literal|0x1
literal|.503cbd1e94ap
operator|-
literal|57
block|,
literal|0x1
operator|.
name|cdf0b555dc3fap
operator|-
literal|1
block|,
operator|-
literal|0x1
operator|.
name|dd83b53829dp
operator|-
literal|56
block|,
literal|0x1
operator|.
name|d072d4a07897cp
operator|-
literal|1
block|,
operator|-
literal|0x1
operator|.
name|cbc3743797a8p
operator|-
literal|55
block|,
literal|0x1
operator|.
name|d2f87080d89f2p
operator|-
literal|1
block|,
operator|-
literal|0x1
operator|.
name|d487b719d858p
operator|-
literal|55
block|,
literal|0x1
operator|.
name|d5818dcfba487p
operator|-
literal|1
block|,
literal|0x1
literal|.2ed02d75b37p
operator|-
literal|56
block|,
literal|0x1
operator|.
name|d80e316c98398p
operator|-
literal|1
block|,
operator|-
literal|0x1
literal|.11ec18bedep
operator|-
literal|55
block|,
literal|0x1
operator|.
name|da9e603db3285p
operator|-
literal|1
block|,
literal|0x1
operator|.
name|c2300696db5p
operator|-
literal|55
block|,
literal|0x1
operator|.
name|dd321f301b46p
operator|-
literal|1
block|,
literal|0x1
literal|.2da5778f019p
operator|-
literal|55
block|,
literal|0x1
operator|.
name|dfc97337b9b5fp
operator|-
literal|1
block|,
operator|-
literal|0x1
literal|.1a5cd4f184b8p
operator|-
literal|55
block|,
literal|0x1
operator|.
name|e264614f5a129p
operator|-
literal|1
block|,
operator|-
literal|0x1
literal|.7b627817a148p
operator|-
literal|55
block|,
literal|0x1
operator|.
name|e502ee78b3ff6p
operator|-
literal|1
block|,
literal|0x1
literal|.39e8980a9cdp
operator|-
literal|56
block|,
literal|0x1
operator|.
name|e7a51fbc74c83p
operator|-
literal|1
block|,
literal|0x1
literal|.2d522ca0c8ep
operator|-
literal|55
block|,
literal|0x1
operator|.
name|ea4afa2a490dap
operator|-
literal|1
block|,
operator|-
literal|0x1
operator|.
name|e9c23179c288p
operator|-
literal|55
block|,
literal|0x1
operator|.
name|ecf482d8e67f1p
operator|-
literal|1
block|,
operator|-
literal|0x1
operator|.
name|c93f3b411ad8p
operator|-
literal|55
block|,
literal|0x1
operator|.
name|efa1bee615a27p
operator|-
literal|1
block|,
literal|0x1
operator|.
name|dc7f486a4b68p
operator|-
literal|55
block|,
literal|0x1
operator|.
name|f252b376bba97p
operator|-
literal|1
block|,
literal|0x1
literal|.3a1a5bf0d8e8p
operator|-
literal|55
block|,
literal|0x1
operator|.
name|f50765b6e454p
operator|-
literal|1
block|,
literal|0x1
literal|.9d3e12dd8a18p
operator|-
literal|55
block|,
literal|0x1
operator|.
name|f7bfdad9cbe14p
operator|-
literal|1
block|,
operator|-
literal|0x1
operator|.
name|dbb12d00635p
operator|-
literal|55
block|,
literal|0x1
operator|.
name|fa7c1819e90d8p
operator|-
literal|1
block|,
literal|0x1
literal|.74853f3a593p
operator|-
literal|56
block|,
literal|0x1
operator|.
name|fd3c22b8f71f1p
operator|-
literal|1
block|,
literal|0x1
literal|.2eb74966578p
operator|-
literal|58
block|,
literal|0x1p
operator|+
literal|0
block|,
literal|0x0p
operator|+
literal|0
block|,
literal|0x1
literal|.0163da9fb3335p
operator|+
literal|0
block|,
literal|0x1
operator|.
name|b61299ab8cd8p
operator|-
literal|54
block|,
literal|0x1
literal|.02c9a3e778061p
operator|+
literal|0
block|,
operator|-
literal|0x1
literal|.19083535b08p
operator|-
literal|56
block|,
literal|0x1
literal|.04315e86e7f85p
operator|+
literal|0
block|,
operator|-
literal|0x1
literal|.0a31c1977c98p
operator|-
literal|54
block|,
literal|0x1
literal|.059b0d3158574p
operator|+
literal|0
block|,
literal|0x1
operator|.
name|d73e2a475b4p
operator|-
literal|55
block|,
literal|0x1
literal|.0706b29ddf6dep
operator|+
literal|0
block|,
operator|-
literal|0x1
operator|.
name|c91dfe2b13cp
operator|-
literal|55
block|,
literal|0x1
literal|.0874518759bc8p
operator|+
literal|0
block|,
literal|0x1
literal|.186be4bb284p
operator|-
literal|57
block|,
literal|0x1
literal|.09e3ecac6f383p
operator|+
literal|0
block|,
literal|0x1
literal|.14878183161p
operator|-
literal|54
block|,
literal|0x1
literal|.0b5586cf9890fp
operator|+
literal|0
block|,
literal|0x1
literal|.8a62e4adc61p
operator|-
literal|54
block|,
literal|0x1
literal|.0cc922b7247f7p
operator|+
literal|0
block|,
literal|0x1
literal|.01edc16e24f8p
operator|-
literal|54
block|,
literal|0x1
literal|.0e3ec32d3d1a2p
operator|+
literal|0
block|,
literal|0x1
literal|.03a1727c58p
operator|-
literal|59
block|,
literal|0x1
literal|.0fb66affed31bp
operator|+
literal|0
block|,
operator|-
literal|0x1
operator|.
name|b9bedc44ebcp
operator|-
literal|57
block|,
literal|0x1
literal|.11301d0125b51p
operator|+
literal|0
block|,
operator|-
literal|0x1
literal|.6c51039449bp
operator|-
literal|54
block|,
literal|0x1
literal|.12abdc06c31ccp
operator|+
literal|0
block|,
operator|-
literal|0x1
literal|.1b514b36ca8p
operator|-
literal|58
block|,
literal|0x1
literal|.1429aaea92dep
operator|+
literal|0
block|,
operator|-
literal|0x1
literal|.32fbf9af1368p
operator|-
literal|54
block|,
literal|0x1
literal|.15a98c8a58e51p
operator|+
literal|0
block|,
literal|0x1
literal|.2406ab9eeabp
operator|-
literal|55
block|,
literal|0x1
literal|.172b83c7d517bp
operator|+
literal|0
block|,
operator|-
literal|0x1
literal|.19041b9d78ap
operator|-
literal|55
block|,
literal|0x1
literal|.18af9388c8deap
operator|+
literal|0
block|,
operator|-
literal|0x1
literal|.11023d1970f8p
operator|-
literal|54
block|,
literal|0x1
literal|.1a35beb6fcb75p
operator|+
literal|0
block|,
literal|0x1
operator|.
name|e5b4c7b4969p
operator|-
literal|55
block|,
literal|0x1
literal|.1bbe084045cd4p
operator|+
literal|0
block|,
operator|-
literal|0x1
literal|.95386352ef6p
operator|-
literal|54
block|,
literal|0x1
literal|.1d4873168b9aap
operator|+
literal|0
block|,
literal|0x1
operator|.
name|e016e00a264p
operator|-
literal|54
block|,
literal|0x1
literal|.1ed5022fcd91dp
operator|+
literal|0
block|,
operator|-
literal|0x1
literal|.1df98027bb78p
operator|-
literal|54
block|,
literal|0x1
literal|.2063b88628cd6p
operator|+
literal|0
block|,
literal|0x1
operator|.
name|dc775814a85p
operator|-
literal|55
block|,
literal|0x1
literal|.21f49917ddc96p
operator|+
literal|0
block|,
literal|0x1
literal|.2a97e9494a6p
operator|-
literal|55
block|,
literal|0x1
literal|.2387a6e756238p
operator|+
literal|0
block|,
literal|0x1
literal|.9b07eb6c7058p
operator|-
literal|54
block|,
literal|0x1
literal|.251ce4fb2a63fp
operator|+
literal|0
block|,
literal|0x1
operator|.
name|ac155bef4f5p
operator|-
literal|55
block|,
literal|0x1
literal|.26b4565e27cddp
operator|+
literal|0
block|,
literal|0x1
literal|.2bd339940eap
operator|-
literal|55
block|,
literal|0x1
literal|.284dfe1f56381p
operator|+
literal|0
block|,
operator|-
literal|0x1
operator|.
name|a4c3a8c3f0d8p
operator|-
literal|54
block|,
literal|0x1
literal|.29e9df51fdee1p
operator|+
literal|0
block|,
literal|0x1
literal|.612e8afad12p
operator|-
literal|55
block|,
literal|0x1
literal|.2b87fd0dad99p
operator|+
literal|0
block|,
operator|-
literal|0x1
literal|.10adcd6382p
operator|-
literal|59
block|,
literal|0x1
literal|.2d285a6e4030bp
operator|+
literal|0
block|,
literal|0x1
literal|.0024754db42p
operator|-
literal|54
block|,
literal|0x1
literal|.2ecafa93e2f56p
operator|+
literal|0
block|,
literal|0x1
literal|.1ca0f45d524p
operator|-
literal|56
block|,
literal|0x1
literal|.306fe0a31b715p
operator|+
literal|0
block|,
literal|0x1
literal|.6f46ad23183p
operator|-
literal|55
block|,
literal|0x1
literal|.32170fc4cd831p
operator|+
literal|0
block|,
literal|0x1
operator|.
name|a9ce78e1804p
operator|-
literal|55
block|,
literal|0x1
literal|.33c08b26416ffp
operator|+
literal|0
block|,
literal|0x1
literal|.327218436598p
operator|-
literal|54
block|,
literal|0x1
literal|.356c55f929ff1p
operator|+
literal|0
block|,
operator|-
literal|0x1
operator|.
name|b5cee5c4e46p
operator|-
literal|55
block|,
literal|0x1
literal|.371a7373aa9cbp
operator|+
literal|0
block|,
operator|-
literal|0x1
literal|.63aeabf42ebp
operator|-
literal|54
block|,
literal|0x1
literal|.38cae6d05d866p
operator|+
literal|0
block|,
operator|-
literal|0x1
operator|.
name|e958d3c99048p
operator|-
literal|54
block|,
literal|0x1
literal|.3a7db34e59ff7p
operator|+
literal|0
block|,
operator|-
literal|0x1
literal|.5e436d661f6p
operator|-
literal|56
block|,
literal|0x1
literal|.3c32dc313a8e5p
operator|+
literal|0
block|,
operator|-
literal|0x1
operator|.
name|efff8375d2ap
operator|-
literal|54
block|,
literal|0x1
literal|.3dea64c123422p
operator|+
literal|0
block|,
literal|0x1
operator|.
name|ada0911f09fp
operator|-
literal|55
block|,
literal|0x1
literal|.3fa4504ac801cp
operator|+
literal|0
block|,
operator|-
literal|0x1
literal|.7d023f956fap
operator|-
literal|54
block|,
literal|0x1
literal|.4160a21f72e2ap
operator|+
literal|0
block|,
operator|-
literal|0x1
operator|.
name|ef3691c309p
operator|-
literal|58
block|,
literal|0x1
literal|.431f5d950a897p
operator|+
literal|0
block|,
operator|-
literal|0x1
literal|.1c7dde35f7ap
operator|-
literal|55
block|,
literal|0x1
literal|.44e086061892dp
operator|+
literal|0
block|,
literal|0x1
literal|.89b7a04ef8p
operator|-
literal|59
block|,
literal|0x1
literal|.46a41ed1d0057p
operator|+
literal|0
block|,
literal|0x1
operator|.
name|c944bd1648a8p
operator|-
literal|54
block|,
literal|0x1
literal|.486a2b5c13cdp
operator|+
literal|0
block|,
literal|0x1
literal|.3c1a3b69062p
operator|-
literal|56
block|,
literal|0x1
literal|.4a32af0d7d3dep
operator|+
literal|0
block|,
literal|0x1
literal|.9cb62f3d1be8p
operator|-
literal|54
block|,
literal|0x1
literal|.4bfdad5362a27p
operator|+
literal|0
block|,
literal|0x1
operator|.
name|d4397afec42p
operator|-
literal|56
block|,
literal|0x1
literal|.4dcb299fddd0dp
operator|+
literal|0
block|,
literal|0x1
literal|.8ecdbbc6a78p
operator|-
literal|54
block|,
literal|0x1
literal|.4f9b2769d2ca7p
operator|+
literal|0
block|,
operator|-
literal|0x1
literal|.4b309d25958p
operator|-
literal|54
block|,
literal|0x1
literal|.516daa2cf6642p
operator|+
literal|0
block|,
operator|-
literal|0x1
operator|.
name|f768569bd94p
operator|-
literal|55
block|,
literal|0x1
literal|.5342b569d4f82p
operator|+
literal|0
block|,
operator|-
literal|0x1
literal|.07abe1db13dp
operator|-
literal|55
block|,
literal|0x1
literal|.551a4ca5d920fp
operator|+
literal|0
block|,
operator|-
literal|0x1
operator|.
name|d689cefede6p
operator|-
literal|55
block|,
literal|0x1
literal|.56f4736b527dap
operator|+
literal|0
block|,
literal|0x1
literal|.9bb2c011d938p
operator|-
literal|54
block|,
literal|0x1
literal|.58d12d497c7fdp
operator|+
literal|0
block|,
literal|0x1
literal|.295e15b9a1ep
operator|-
literal|55
block|,
literal|0x1
literal|.5ab07dd485429p
operator|+
literal|0
block|,
literal|0x1
literal|.6324c0546478p
operator|-
literal|54
block|,
literal|0x1
literal|.5c9268a5946b7p
operator|+
literal|0
block|,
literal|0x1
operator|.
name|c4b1b81698p
operator|-
literal|60
block|,
literal|0x1
literal|.5e76f15ad2148p
operator|+
literal|0
block|,
literal|0x1
operator|.
name|ba6f93080e68p
operator|-
literal|54
block|,
literal|0x1
literal|.605e1b976dc09p
operator|+
literal|0
block|,
operator|-
literal|0x1
literal|.3e2429b56de8p
operator|-
literal|54
block|,
literal|0x1
literal|.6247eb03a5585p
operator|+
literal|0
block|,
operator|-
literal|0x1
literal|.383c17e40b48p
operator|-
literal|54
block|,
literal|0x1
literal|.6434634ccc32p
operator|+
literal|0
block|,
operator|-
literal|0x1
operator|.
name|c483c759d89p
operator|-
literal|55
block|,
literal|0x1
literal|.6623882552225p
operator|+
literal|0
block|,
operator|-
literal|0x1
operator|.
name|bb60987591cp
operator|-
literal|54
block|,
literal|0x1
literal|.68155d44ca973p
operator|+
literal|0
block|,
literal|0x1
literal|.038ae44f74p
operator|-
literal|57
block|, }
decl_stmt|;
end_decl_stmt

begin_comment
comment|/**  * Compute the base 2 exponential of x for Intel 80-bit format.  *  * Accuracy: Peak error< 0.511 ulp.  *  * Method: (equally-spaced tables)  *  *   Reduce x:  *     x = 2**k + y, for integer k and |y|<= 1/2.  *     Thus we have exp2l(x) = 2**k * exp2(y).  *  *   Reduce y:  *     y = i/TBLSIZE + z for integer i near y * TBLSIZE.  *     Thus we have exp2(y) = exp2(i/TBLSIZE) * exp2(z),  *     with |z|<= 2**-(TBLBITS+1).  *  *   We compute exp2(i/TBLSIZE) via table lookup and exp2(z) via a  *   degree-6 minimax polynomial with maximum error under 2**-75.6.  *   The table entries each have 104 bits of accuracy, encoded as  *   a pair of double precision values.  */
end_comment

begin_function
name|long
name|double
name|exp2l
parameter_list|(
name|long
name|double
name|x
parameter_list|)
block|{
name|union
name|IEEEl2bits
name|u
decl_stmt|,
name|v
decl_stmt|;
name|long
name|double
name|r
decl_stmt|,
name|twopk
decl_stmt|,
name|twopkp10000
decl_stmt|,
name|z
decl_stmt|;
name|uint32_t
name|hx
decl_stmt|,
name|ix
decl_stmt|,
name|i0
decl_stmt|;
name|int
name|k
decl_stmt|;
comment|/* Filter out exceptional cases. */
name|u
operator|.
name|e
operator|=
name|x
expr_stmt|;
name|hx
operator|=
name|u
operator|.
name|xbits
operator|.
name|expsign
expr_stmt|;
name|ix
operator|=
name|hx
operator|&
literal|0x7fff
expr_stmt|;
if|if
condition|(
name|ix
operator|>=
name|BIAS
operator|+
literal|14
condition|)
block|{
comment|/* |x|>= 16384 or x is NaN */
if|if
condition|(
name|ix
operator|==
name|BIAS
operator|+
name|LDBL_MAX_EXP
condition|)
block|{
if|if
condition|(
name|hx
operator|&
literal|0x8000
operator|&&
name|u
operator|.
name|xbits
operator|.
name|man
operator|==
literal|1ULL
operator|<<
literal|63
condition|)
return|return
operator|(
literal|0.0L
operator|)
return|;
comment|/* x is -Inf */
return|return
operator|(
name|x
operator|+
name|x
operator|)
return|;
comment|/* x is +Inf, NaN or unsupported */
block|}
if|if
condition|(
name|x
operator|>=
literal|16384
condition|)
return|return
operator|(
name|huge
operator|*
name|huge
operator|)
return|;
comment|/* overflow */
if|if
condition|(
name|x
operator|<=
operator|-
literal|16446
condition|)
return|return
operator|(
name|twom10000
operator|*
name|twom10000
operator|)
return|;
comment|/* underflow */
block|}
elseif|else
if|if
condition|(
name|ix
operator|<=
name|BIAS
operator|-
literal|66
condition|)
block|{
comment|/* |x|< 0x1p-65 (includes pseudos) */
return|return
operator|(
literal|1.0L
operator|+
name|x
operator|)
return|;
comment|/* 1 with inexact */
block|}
name|ENTERI
argument_list|()
expr_stmt|;
comment|/* 	 * Reduce x, computing z, i0, and k. The low bits of x + redux 	 * contain the 16-bit integer part of the exponent (k) followed by 	 * TBLBITS fractional bits (i0). We use bit tricks to extract these 	 * as integers, then set z to the remainder. 	 * 	 * Example: Suppose x is 0xabc.123456p0 and TBLBITS is 8. 	 * Then the low-order word of x + redux is 0x000abc12, 	 * We split this into k = 0xabc and i0 = 0x12 (adjusted to 	 * index into the table), then we compute z = 0x0.003456p0. 	 * 	 * XXX If the exponent is negative, the computation of k depends on 	 *     '>>' doing sign extension. 	 */
name|u
operator|.
name|e
operator|=
name|x
operator|+
name|redux
expr_stmt|;
name|i0
operator|=
name|u
operator|.
name|bits
operator|.
name|manl
operator|+
name|TBLSIZE
operator|/
literal|2
expr_stmt|;
name|k
operator|=
operator|(
name|int
operator|)
name|i0
operator|>>
name|TBLBITS
expr_stmt|;
name|i0
operator|=
operator|(
name|i0
operator|&
operator|(
name|TBLSIZE
operator|-
literal|1
operator|)
operator|)
operator|<<
literal|1
expr_stmt|;
name|u
operator|.
name|e
operator|-=
name|redux
expr_stmt|;
name|z
operator|=
name|x
operator|-
name|u
operator|.
name|e
expr_stmt|;
name|v
operator|.
name|xbits
operator|.
name|man
operator|=
literal|1ULL
operator|<<
literal|63
expr_stmt|;
if|if
condition|(
name|k
operator|>=
name|LDBL_MIN_EXP
condition|)
block|{
name|v
operator|.
name|xbits
operator|.
name|expsign
operator|=
name|BIAS
operator|+
name|k
expr_stmt|;
name|twopk
operator|=
name|v
operator|.
name|e
expr_stmt|;
block|}
else|else
block|{
name|v
operator|.
name|xbits
operator|.
name|expsign
operator|=
name|BIAS
operator|+
name|k
operator|+
literal|10000
expr_stmt|;
name|twopkp10000
operator|=
name|v
operator|.
name|e
expr_stmt|;
block|}
comment|/* Compute r = exp2l(y) = exp2lt[i0] * p(z). */
name|long
name|double
name|t_hi
init|=
name|tbl
index|[
name|i0
index|]
decl_stmt|;
name|long
name|double
name|t_lo
init|=
name|tbl
index|[
name|i0
operator|+
literal|1
index|]
decl_stmt|;
name|r
operator|=
name|t_lo
operator|+
operator|(
name|t_hi
operator|+
name|t_lo
operator|)
operator|*
name|z
operator|*
operator|(
name|P1
operator|.
name|e
operator|+
name|z
operator|*
operator|(
name|P2
operator|+
name|z
operator|*
operator|(
name|P3
operator|+
name|z
operator|*
operator|(
name|P4
operator|+
name|z
operator|*
operator|(
name|P5
operator|+
name|z
operator|*
name|P6
operator|)
operator|)
operator|)
operator|)
operator|)
operator|+
name|t_hi
expr_stmt|;
comment|/* Scale by 2**k. */
if|if
condition|(
name|k
operator|>=
name|LDBL_MIN_EXP
condition|)
block|{
if|if
condition|(
name|k
operator|==
name|LDBL_MAX_EXP
condition|)
name|RETURNI
argument_list|(
name|r
operator|*
literal|2.0
operator|*
literal|0x1p16383L
argument_list|)
expr_stmt|;
name|RETURNI
argument_list|(
name|r
operator|*
name|twopk
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|RETURNI
argument_list|(
name|r
operator|*
name|twopkp10000
operator|*
name|twom10000
argument_list|)
expr_stmt|;
block|}
block|}
end_function

end_unit

