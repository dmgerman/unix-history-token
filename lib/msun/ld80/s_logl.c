begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*-  * Copyright (c) 2007-2013 Bruce D. Evans  * All rights reserved.  *  * Redistribution and use in source and binary forms, with or without  * modification, are permitted provided that the following conditions  * are met:  * 1. Redistributions of source code must retain the above copyright  *    notice unmodified, this list of conditions, and the following  *    disclaimer.  * 2. Redistributions in binary form must reproduce the above copyright  *    notice, this list of conditions and the following disclaimer in the  *    documentation and/or other materials provided with the distribution.  *  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR  * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES  * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  * IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,  * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT  * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,  * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY  * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT  * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF  * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.  */
end_comment

begin_include
include|#
directive|include
file|<sys/cdefs.h>
end_include

begin_expr_stmt
name|__FBSDID
argument_list|(
literal|"$FreeBSD$"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_comment
comment|/**  * Implementation of the natural logarithm of x for Intel 80-bit format.  *  * First decompose x into its base 2 representation:  *  *    log(x) = log(X * 2**k), where X is in [1, 2)  *           = log(X) + k * log(2).  *  * Let X = X_i + e, where X_i is the center of one of the intervals  * [-1.0/256, 1.0/256), [1.0/256, 3.0/256), .... [2.0-1.0/256, 2.0+1.0/256)  * and X is in this interval.  Then  *  *    log(X) = log(X_i + e)  *           = log(X_i * (1 + e / X_i))  *           = log(X_i) + log(1 + e / X_i).  *  * The values log(X_i) are tabulated below.  Let d = e / X_i and use  *  *    log(1 + d) = p(d)  *  * where p(d) = d - 0.5*d*d + ... is a special minimax polynomial of  * suitably high degree.  *  * To get sufficiently small roundoff errors, k * log(2), log(X_i), and  * sometimes (if |k| is not large) the first term in p(d) must be evaluated  * and added up in extra precision.  Extra precision is not needed for the  * rest of p(d).  In the worst case when k = 0 and log(X_i) is 0, the final  * error is controlled mainly by the error in the second term in p(d).  The  * error in this term itself is at most 0.5 ulps from the d*d operation in  * it.  The error in this term relative to the first term is thus at most  * 0.5 * |-0.5| * |d|< 1.0/1024 ulps.  We aim for an accumulated error of  * at most twice this at the point of the final rounding step.  Thus the  * final error should be at most 0.5 + 1.0/512 = 0.5020 ulps.  Exhaustive  * testing of a float variant of this function showed a maximum final error  * of 0.5008 ulps.  Non-exhaustive testing of a double variant of this  * function showed a maximum final error of 0.5078 ulps (near 1+1.0/256).  *  * We made the maximum of |d| (and thus the total relative error and the  * degree of p(d)) small by using a large number of intervals.  Using  * centers of intervals instead of endpoints reduces this maximum by a  * factor of 2 for a given number of intervals.  p(d) is special only  * in beginning with the Taylor coefficients 0 + 1*d, which tends to happen  * naturally.  The most accurate minimax polynomial of a given degree might  * be different, but then we wouldn't want it since we would have to do  * extra work to avoid roundoff error (especially for P0*d instead of d).  */
end_comment

begin_ifdef
ifdef|#
directive|ifdef
name|DEBUG
end_ifdef

begin_include
include|#
directive|include
file|<assert.h>
end_include

begin_include
include|#
directive|include
file|<fenv.h>
end_include

begin_endif
endif|#
directive|endif
end_endif

begin_ifdef
ifdef|#
directive|ifdef
name|__i386__
end_ifdef

begin_include
include|#
directive|include
file|<ieeefp.h>
end_include

begin_endif
endif|#
directive|endif
end_endif

begin_include
include|#
directive|include
file|"fpmath.h"
end_include

begin_include
include|#
directive|include
file|"math.h"
end_include

begin_define
define|#
directive|define
name|i386_SSE_GOOD
end_define

begin_ifndef
ifndef|#
directive|ifndef
name|NO_STRUCT_RETURN
end_ifndef

begin_define
define|#
directive|define
name|STRUCT_RETURN
end_define

begin_endif
endif|#
directive|endif
end_endif

begin_include
include|#
directive|include
file|"math_private.h"
end_include

begin_if
if|#
directive|if
operator|!
name|defined
argument_list|(
name|NO_UTAB
argument_list|)
operator|&&
operator|!
name|defined
argument_list|(
name|NO_UTABL
argument_list|)
end_if

begin_define
define|#
directive|define
name|USE_UTAB
end_define

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/*  * Domain [-0.005280, 0.004838], range ~[-5.1736e-22, 5.1738e-22]:  * |log(1 + d)/d - p(d)|< 2**-70.7  */
end_comment

begin_decl_stmt
specifier|static
specifier|const
name|double
name|P2
init|=
operator|-
literal|0.5
decl_stmt|,
name|P3
init|=
literal|3.3333333333333359e-1
decl_stmt|,
comment|/*  0x1555555555555a.0p-54 */
name|P4
init|=
operator|-
literal|2.5000000000004424e-1
decl_stmt|,
comment|/* -0x1000000000031d.0p-54 */
name|P5
init|=
literal|1.9999999992970016e-1
decl_stmt|,
comment|/*  0x1999999972f3c7.0p-55 */
name|P6
init|=
operator|-
literal|1.6666666072191585e-1
decl_stmt|,
comment|/* -0x15555548912c09.0p-55 */
name|P7
init|=
literal|1.4286227413310518e-1
decl_stmt|,
comment|/*  0x12494f9d9def91.0p-55 */
name|P8
init|=
operator|-
literal|1.2518388626763144e-1
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* -0x1006068cc0b97c.0p-55 */
end_comment

begin_decl_stmt
specifier|static
specifier|volatile
specifier|const
name|double
name|zero
init|=
literal|0
decl_stmt|;
end_decl_stmt

begin_define
define|#
directive|define
name|INTERVALS
value|128
end_define

begin_define
define|#
directive|define
name|LOG2_INTERVALS
value|7
end_define

begin_define
define|#
directive|define
name|TSIZE
value|(INTERVALS + 1)
end_define

begin_define
define|#
directive|define
name|G
parameter_list|(
name|i
parameter_list|)
value|(T[(i)].G)
end_define

begin_define
define|#
directive|define
name|F_hi
parameter_list|(
name|i
parameter_list|)
value|(T[(i)].F_hi)
end_define

begin_define
define|#
directive|define
name|F_lo
parameter_list|(
name|i
parameter_list|)
value|(T[(i)].F_lo)
end_define

begin_define
define|#
directive|define
name|ln2_hi
value|F_hi(TSIZE - 1)
end_define

begin_define
define|#
directive|define
name|ln2_lo
value|F_lo(TSIZE - 1)
end_define

begin_define
define|#
directive|define
name|E
parameter_list|(
name|i
parameter_list|)
value|(U[(i)].E)
end_define

begin_define
define|#
directive|define
name|H
parameter_list|(
name|i
parameter_list|)
value|(U[(i)].H)
end_define

begin_struct
specifier|static
specifier|const
struct|struct
block|{
name|float
name|G
decl_stmt|;
comment|/* 1/(1 + i/128) rounded to 8/9 bits */
name|float
name|F_hi
decl_stmt|;
comment|/* log(1 / G_i) rounded (see below) */
name|double
name|F_lo
decl_stmt|;
comment|/* next 53 bits for log(1 / G_i) */
block|}
name|T
index|[
name|TSIZE
index|]
init|=
block|{
comment|/* 	 * ln2_hi and each F_hi(i) are rounded to a number of bits that 	 * makes F_hi(i) + dk*ln2_hi exact for all i and all dk. 	 * 	 * The last entry (for X just below 2) is used to define ln2_hi 	 * and ln2_lo, to ensure that F_hi(i) and F_lo(i) cancel exactly 	 * with dk*ln2_hi and dk*ln2_lo, respectively, when dk = -1. 	 * This is needed for accuracy when x is just below 1.  (To avoid 	 * special cases, such x are "reduced" strangely to X just below 	 * 2 and dk = -1, and then the exact cancellation is needed 	 * because any the error from any non-exactness would be too 	 * large). 	 * 	 * We want to share this table between double precision and ld80, 	 * so the relevant range of dk is the larger one of ld80 	 * ([-16445, 16383]) and the relevant exactness requirement is 	 * the stricter one of double precision.  The maximum number of 	 * bits in F_hi(i) that works is very dependent on i but has 	 * a minimum of 33.  We only need about 12 bits in F_hi(i) for 	 * it to provide enough extra precision in double precision (11 	 * more than that are required for ld80). 	 * 	 * We round F_hi(i) to 24 bits so that it can have type float, 	 * mainly to minimize the size of the table.  Using all 24 bits 	 * in a float for it automatically satisfies the above constraints. 	 */
block|{
literal|0x800000
literal|.0p
operator|-
literal|23
block|,
literal|0
block|,
literal|0
block|}
block|,
block|{
literal|0xfe0000
literal|.0p
operator|-
literal|24
block|,
literal|0x8080ac
literal|.0p
operator|-
literal|30
block|,
operator|-
literal|0x14ee431dae6675
literal|.0p
operator|-
literal|84
block|}
block|,
block|{
literal|0xfc0000
literal|.0p
operator|-
literal|24
block|,
literal|0x8102b3
literal|.0p
operator|-
literal|29
block|,
operator|-
literal|0x1db29ee2d83718
literal|.0p
operator|-
literal|84
block|}
block|,
block|{
literal|0xfa0000
literal|.0p
operator|-
literal|24
block|,
literal|0xc24929
literal|.0p
operator|-
literal|29
block|,
literal|0x1191957d173698
literal|.0p
operator|-
literal|83
block|}
block|,
block|{
literal|0xf80000
literal|.0p
operator|-
literal|24
block|,
literal|0x820aec
literal|.0p
operator|-
literal|28
block|,
literal|0x13ce8888e02e79
literal|.0p
operator|-
literal|82
block|}
block|,
block|{
literal|0xf60000
literal|.0p
operator|-
literal|24
block|,
literal|0xa33577
literal|.0p
operator|-
literal|28
block|,
operator|-
literal|0x17a4382ce6eb7c
literal|.0p
operator|-
literal|82
block|}
block|,
block|{
literal|0xf48000
literal|.0p
operator|-
literal|24
block|,
literal|0xbc42cb
literal|.0p
operator|-
literal|28
block|,
operator|-
literal|0x172a21161a1076
literal|.0p
operator|-
literal|83
block|}
block|,
block|{
literal|0xf30000
literal|.0p
operator|-
literal|24
block|,
literal|0xd57797
literal|.0p
operator|-
literal|28
block|,
operator|-
literal|0x1e09de07cb9589
literal|.0p
operator|-
literal|82
block|}
block|,
block|{
literal|0xf10000
literal|.0p
operator|-
literal|24
block|,
literal|0xf7518e
literal|.0p
operator|-
literal|28
block|,
literal|0x1ae1eec1b036c5
literal|.0p
operator|-
literal|91
block|}
block|,
block|{
literal|0xef0000
literal|.0p
operator|-
literal|24
block|,
literal|0x8cb9df
literal|.0p
operator|-
literal|27
block|,
operator|-
literal|0x1d7355325d560e
literal|.0p
operator|-
literal|81
block|}
block|,
block|{
literal|0xed8000
literal|.0p
operator|-
literal|24
block|,
literal|0x999ec0
literal|.0p
operator|-
literal|27
block|,
operator|-
literal|0x1f9f02d256d503
literal|.0p
operator|-
literal|82
block|}
block|,
block|{
literal|0xec0000
literal|.0p
operator|-
literal|24
block|,
literal|0xa6988b
literal|.0p
operator|-
literal|27
block|,
operator|-
literal|0x16fc0a9d12c17a
literal|.0p
operator|-
literal|83
block|}
block|,
block|{
literal|0xea0000
literal|.0p
operator|-
literal|24
block|,
literal|0xb80698
literal|.0p
operator|-
literal|27
block|,
literal|0x15d581c1e8da9a
literal|.0p
operator|-
literal|81
block|}
block|,
block|{
literal|0xe80000
literal|.0p
operator|-
literal|24
block|,
literal|0xc99af3
literal|.0p
operator|-
literal|27
block|,
operator|-
literal|0x1535b3ba8f150b
literal|.0p
operator|-
literal|83
block|}
block|,
block|{
literal|0xe70000
literal|.0p
operator|-
literal|24
block|,
literal|0xd273b2
literal|.0p
operator|-
literal|27
block|,
literal|0x163786f5251af0
literal|.0p
operator|-
literal|85
block|}
block|,
block|{
literal|0xe50000
literal|.0p
operator|-
literal|24
block|,
literal|0xe442c0
literal|.0p
operator|-
literal|27
block|,
literal|0x1bc4b2368e32d5
literal|.0p
operator|-
literal|84
block|}
block|,
block|{
literal|0xe38000
literal|.0p
operator|-
literal|24
block|,
literal|0xf1b83f
literal|.0p
operator|-
literal|27
block|,
literal|0x1c6090f684e676
literal|.0p
operator|-
literal|81
block|}
block|,
block|{
literal|0xe20000
literal|.0p
operator|-
literal|24
block|,
literal|0xff448a
literal|.0p
operator|-
literal|27
block|,
operator|-
literal|0x1890aa69ac9f42
literal|.0p
operator|-
literal|82
block|}
block|,
block|{
literal|0xe08000
literal|.0p
operator|-
literal|24
block|,
literal|0x8673f6
literal|.0p
operator|-
literal|26
block|,
literal|0x1b9985194b6b00
literal|.0p
operator|-
literal|80
block|}
block|,
block|{
literal|0xdf0000
literal|.0p
operator|-
literal|24
block|,
literal|0x8d515c
literal|.0p
operator|-
literal|26
block|,
operator|-
literal|0x1dc08d61c6ef1e
literal|.0p
operator|-
literal|83
block|}
block|,
block|{
literal|0xdd8000
literal|.0p
operator|-
literal|24
block|,
literal|0x943a9e
literal|.0p
operator|-
literal|26
block|,
operator|-
literal|0x1f72a2dac729b4
literal|.0p
operator|-
literal|82
block|}
block|,
block|{
literal|0xdc0000
literal|.0p
operator|-
literal|24
block|,
literal|0x9b2fe6
literal|.0p
operator|-
literal|26
block|,
operator|-
literal|0x1fd4dfd3a0afb9
literal|.0p
operator|-
literal|80
block|}
block|,
block|{
literal|0xda8000
literal|.0p
operator|-
literal|24
block|,
literal|0xa2315d
literal|.0p
operator|-
literal|26
block|,
operator|-
literal|0x11b26121629c47
literal|.0p
operator|-
literal|82
block|}
block|,
block|{
literal|0xd90000
literal|.0p
operator|-
literal|24
block|,
literal|0xa93f2f
literal|.0p
operator|-
literal|26
block|,
literal|0x1286d633e8e569
literal|.0p
operator|-
literal|81
block|}
block|,
block|{
literal|0xd78000
literal|.0p
operator|-
literal|24
block|,
literal|0xb05988
literal|.0p
operator|-
literal|26
block|,
literal|0x16128eba936770
literal|.0p
operator|-
literal|84
block|}
block|,
block|{
literal|0xd60000
literal|.0p
operator|-
literal|24
block|,
literal|0xb78094
literal|.0p
operator|-
literal|26
block|,
literal|0x16ead577390d32
literal|.0p
operator|-
literal|80
block|}
block|,
block|{
literal|0xd50000
literal|.0p
operator|-
literal|24
block|,
literal|0xbc4c6c
literal|.0p
operator|-
literal|26
block|,
literal|0x151131ccf7c7b7
literal|.0p
operator|-
literal|81
block|}
block|,
block|{
literal|0xd38000
literal|.0p
operator|-
literal|24
block|,
literal|0xc3890a
literal|.0p
operator|-
literal|26
block|,
operator|-
literal|0x115e2cd714bd06
literal|.0p
operator|-
literal|80
block|}
block|,
block|{
literal|0xd20000
literal|.0p
operator|-
literal|24
block|,
literal|0xcad2d7
literal|.0p
operator|-
literal|26
block|,
operator|-
literal|0x1847f406ebd3b0
literal|.0p
operator|-
literal|82
block|}
block|,
block|{
literal|0xd10000
literal|.0p
operator|-
literal|24
block|,
literal|0xcfb620
literal|.0p
operator|-
literal|26
block|,
literal|0x1c2259904d6866
literal|.0p
operator|-
literal|81
block|}
block|,
block|{
literal|0xcf8000
literal|.0p
operator|-
literal|24
block|,
literal|0xd71653
literal|.0p
operator|-
literal|26
block|,
literal|0x1ece57a8d5ae55
literal|.0p
operator|-
literal|80
block|}
block|,
block|{
literal|0xce0000
literal|.0p
operator|-
literal|24
block|,
literal|0xde843a
literal|.0p
operator|-
literal|26
block|,
operator|-
literal|0x1f109d4bc45954
literal|.0p
operator|-
literal|81
block|}
block|,
block|{
literal|0xcd0000
literal|.0p
operator|-
literal|24
block|,
literal|0xe37fde
literal|.0p
operator|-
literal|26
block|,
literal|0x1bc03dc271a74d
literal|.0p
operator|-
literal|81
block|}
block|,
block|{
literal|0xcb8000
literal|.0p
operator|-
literal|24
block|,
literal|0xeb050c
literal|.0p
operator|-
literal|26
block|,
operator|-
literal|0x1bf2badc0df842
literal|.0p
operator|-
literal|85
block|}
block|,
block|{
literal|0xca0000
literal|.0p
operator|-
literal|24
block|,
literal|0xf29878
literal|.0p
operator|-
literal|26
block|,
operator|-
literal|0x18efededd89fbe
literal|.0p
operator|-
literal|87
block|}
block|,
block|{
literal|0xc90000
literal|.0p
operator|-
literal|24
block|,
literal|0xf7ad6f
literal|.0p
operator|-
literal|26
block|,
literal|0x1373ff977baa69
literal|.0p
operator|-
literal|81
block|}
block|,
block|{
literal|0xc80000
literal|.0p
operator|-
literal|24
block|,
literal|0xfcc8e3
literal|.0p
operator|-
literal|26
block|,
literal|0x196766f2fb3283
literal|.0p
operator|-
literal|80
block|}
block|,
block|{
literal|0xc68000
literal|.0p
operator|-
literal|24
block|,
literal|0x823f30
literal|.0p
operator|-
literal|25
block|,
literal|0x19bd076f7c434e
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0xc58000
literal|.0p
operator|-
literal|24
block|,
literal|0x84d52c
literal|.0p
operator|-
literal|25
block|,
operator|-
literal|0x1a327257af0f46
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0xc40000
literal|.0p
operator|-
literal|24
block|,
literal|0x88bc74
literal|.0p
operator|-
literal|25
block|,
literal|0x113f23def19c5a
literal|.0p
operator|-
literal|81
block|}
block|,
block|{
literal|0xc30000
literal|.0p
operator|-
literal|24
block|,
literal|0x8b5ae6
literal|.0p
operator|-
literal|25
block|,
literal|0x1759f6e6b37de9
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0xc20000
literal|.0p
operator|-
literal|24
block|,
literal|0x8dfccb
literal|.0p
operator|-
literal|25
block|,
literal|0x1ad35ca6ed5148
literal|.0p
operator|-
literal|81
block|}
block|,
block|{
literal|0xc10000
literal|.0p
operator|-
literal|24
block|,
literal|0x90a22b
literal|.0p
operator|-
literal|25
block|,
literal|0x1a1d71a87deba4
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0xbf8000
literal|.0p
operator|-
literal|24
block|,
literal|0x94a0d8
literal|.0p
operator|-
literal|25
block|,
operator|-
literal|0x139e5210c2b731
literal|.0p
operator|-
literal|80
block|}
block|,
block|{
literal|0xbe8000
literal|.0p
operator|-
literal|24
block|,
literal|0x974f16
literal|.0p
operator|-
literal|25
block|,
operator|-
literal|0x18f6ebcff3ed73
literal|.0p
operator|-
literal|81
block|}
block|,
block|{
literal|0xbd8000
literal|.0p
operator|-
literal|24
block|,
literal|0x9a00f1
literal|.0p
operator|-
literal|25
block|,
operator|-
literal|0x1aa268be39aab7
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0xbc8000
literal|.0p
operator|-
literal|24
block|,
literal|0x9cb672
literal|.0p
operator|-
literal|25
block|,
operator|-
literal|0x14c8815839c566
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0xbb0000
literal|.0p
operator|-
literal|24
block|,
literal|0xa0cda1
literal|.0p
operator|-
literal|25
block|,
literal|0x1eaf46390dbb24
literal|.0p
operator|-
literal|81
block|}
block|,
block|{
literal|0xba0000
literal|.0p
operator|-
literal|24
block|,
literal|0xa38c6e
literal|.0p
operator|-
literal|25
block|,
literal|0x138e20d831f698
literal|.0p
operator|-
literal|81
block|}
block|,
block|{
literal|0xb90000
literal|.0p
operator|-
literal|24
block|,
literal|0xa64f05
literal|.0p
operator|-
literal|25
block|,
operator|-
literal|0x1e8d3c41123616
literal|.0p
operator|-
literal|82
block|}
block|,
block|{
literal|0xb80000
literal|.0p
operator|-
literal|24
block|,
literal|0xa91570
literal|.0p
operator|-
literal|25
block|,
literal|0x1ce28f5f3840b2
literal|.0p
operator|-
literal|80
block|}
block|,
block|{
literal|0xb70000
literal|.0p
operator|-
literal|24
block|,
literal|0xabdfbb
literal|.0p
operator|-
literal|25
block|,
operator|-
literal|0x186e5c0a424234
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0xb60000
literal|.0p
operator|-
literal|24
block|,
literal|0xaeadef
literal|.0p
operator|-
literal|25
block|,
operator|-
literal|0x14d41a0b2a08a4
literal|.0p
operator|-
literal|83
block|}
block|,
block|{
literal|0xb50000
literal|.0p
operator|-
literal|24
block|,
literal|0xb18018
literal|.0p
operator|-
literal|25
block|,
literal|0x16755892770634
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0xb40000
literal|.0p
operator|-
literal|24
block|,
literal|0xb45642
literal|.0p
operator|-
literal|25
block|,
operator|-
literal|0x16395ebe59b152
literal|.0p
operator|-
literal|82
block|}
block|,
block|{
literal|0xb30000
literal|.0p
operator|-
literal|24
block|,
literal|0xb73077
literal|.0p
operator|-
literal|25
block|,
literal|0x1abc65c8595f09
literal|.0p
operator|-
literal|80
block|}
block|,
block|{
literal|0xb20000
literal|.0p
operator|-
literal|24
block|,
literal|0xba0ec4
literal|.0p
operator|-
literal|25
block|,
operator|-
literal|0x1273089d3dad89
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0xb10000
literal|.0p
operator|-
literal|24
block|,
literal|0xbcf133
literal|.0p
operator|-
literal|25
block|,
literal|0x10f9f67b1f4bbf
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0xb00000
literal|.0p
operator|-
literal|24
block|,
literal|0xbfd7d2
literal|.0p
operator|-
literal|25
block|,
operator|-
literal|0x109fab90486409
literal|.0p
operator|-
literal|80
block|}
block|,
block|{
literal|0xaf0000
literal|.0p
operator|-
literal|24
block|,
literal|0xc2c2ac
literal|.0p
operator|-
literal|25
block|,
operator|-
literal|0x1124680aa43333
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0xae8000
literal|.0p
operator|-
literal|24
block|,
literal|0xc439b3
literal|.0p
operator|-
literal|25
block|,
operator|-
literal|0x1f360cc4710fc0
literal|.0p
operator|-
literal|80
block|}
block|,
block|{
literal|0xad8000
literal|.0p
operator|-
literal|24
block|,
literal|0xc72afd
literal|.0p
operator|-
literal|25
block|,
operator|-
literal|0x132d91f21d89c9
literal|.0p
operator|-
literal|80
block|}
block|,
block|{
literal|0xac8000
literal|.0p
operator|-
literal|24
block|,
literal|0xca20a2
literal|.0p
operator|-
literal|25
block|,
operator|-
literal|0x16bf9b4d1f8da8
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0xab8000
literal|.0p
operator|-
literal|24
block|,
literal|0xcd1aae
literal|.0p
operator|-
literal|25
block|,
literal|0x19deb5ce6a6a87
literal|.0p
operator|-
literal|81
block|}
block|,
block|{
literal|0xaa8000
literal|.0p
operator|-
literal|24
block|,
literal|0xd0192f
literal|.0p
operator|-
literal|25
block|,
literal|0x1a29fb48f7d3cb
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0xaa0000
literal|.0p
operator|-
literal|24
block|,
literal|0xd19a20
literal|.0p
operator|-
literal|25
block|,
literal|0x1127d3c6457f9d
literal|.0p
operator|-
literal|81
block|}
block|,
block|{
literal|0xa90000
literal|.0p
operator|-
literal|24
block|,
literal|0xd49f6a
literal|.0p
operator|-
literal|25
block|,
operator|-
literal|0x1ba930e486a0ac
literal|.0p
operator|-
literal|81
block|}
block|,
block|{
literal|0xa80000
literal|.0p
operator|-
literal|24
block|,
literal|0xd7a94b
literal|.0p
operator|-
literal|25
block|,
operator|-
literal|0x1b6e645f31549e
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0xa70000
literal|.0p
operator|-
literal|24
block|,
literal|0xdab7d0
literal|.0p
operator|-
literal|25
block|,
literal|0x1118a425494b61
literal|.0p
operator|-
literal|80
block|}
block|,
block|{
literal|0xa68000
literal|.0p
operator|-
literal|24
block|,
literal|0xdc40d5
literal|.0p
operator|-
literal|25
block|,
literal|0x1966f24d29d3a3
literal|.0p
operator|-
literal|80
block|}
block|,
block|{
literal|0xa58000
literal|.0p
operator|-
literal|24
block|,
literal|0xdf566d
literal|.0p
operator|-
literal|25
block|,
operator|-
literal|0x1d8e52eb2248f1
literal|.0p
operator|-
literal|82
block|}
block|,
block|{
literal|0xa48000
literal|.0p
operator|-
literal|24
block|,
literal|0xe270ce
literal|.0p
operator|-
literal|25
block|,
operator|-
literal|0x1ee370f96e6b68
literal|.0p
operator|-
literal|80
block|}
block|,
block|{
literal|0xa40000
literal|.0p
operator|-
literal|24
block|,
literal|0xe3ffce
literal|.0p
operator|-
literal|25
block|,
literal|0x1d155324911f57
literal|.0p
operator|-
literal|80
block|}
block|,
block|{
literal|0xa30000
literal|.0p
operator|-
literal|24
block|,
literal|0xe72179
literal|.0p
operator|-
literal|25
block|,
operator|-
literal|0x1fe6e2f2f867d9
literal|.0p
operator|-
literal|80
block|}
block|,
block|{
literal|0xa20000
literal|.0p
operator|-
literal|24
block|,
literal|0xea4812
literal|.0p
operator|-
literal|25
block|,
literal|0x1b7be9add7f4d4
literal|.0p
operator|-
literal|80
block|}
block|,
block|{
literal|0xa18000
literal|.0p
operator|-
literal|24
block|,
literal|0xebdd3d
literal|.0p
operator|-
literal|25
block|,
literal|0x1b3cfb3f7511dd
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0xa08000
literal|.0p
operator|-
literal|24
block|,
literal|0xef0b5b
literal|.0p
operator|-
literal|25
block|,
operator|-
literal|0x1220de1f730190
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0xa00000
literal|.0p
operator|-
literal|24
block|,
literal|0xf0a451
literal|.0p
operator|-
literal|25
block|,
operator|-
literal|0x176364c9ac81cd
literal|.0p
operator|-
literal|80
block|}
block|,
block|{
literal|0x9f0000
literal|.0p
operator|-
literal|24
block|,
literal|0xf3da16
literal|.0p
operator|-
literal|25
block|,
literal|0x1eed6b9aafac8d
literal|.0p
operator|-
literal|81
block|}
block|,
block|{
literal|0x9e8000
literal|.0p
operator|-
literal|24
block|,
literal|0xf576e9
literal|.0p
operator|-
literal|25
block|,
literal|0x1d593218675af2
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0x9d8000
literal|.0p
operator|-
literal|24
block|,
literal|0xf8b47c
literal|.0p
operator|-
literal|25
block|,
operator|-
literal|0x13e8eb7da053e0
literal|.0p
operator|-
literal|84
block|}
block|,
block|{
literal|0x9d0000
literal|.0p
operator|-
literal|24
block|,
literal|0xfa553f
literal|.0p
operator|-
literal|25
block|,
literal|0x1c063259bcade0
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0x9c0000
literal|.0p
operator|-
literal|24
block|,
literal|0xfd9ac5
literal|.0p
operator|-
literal|25
block|,
literal|0x1ef491085fa3c1
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0x9b8000
literal|.0p
operator|-
literal|24
block|,
literal|0xff3f8c
literal|.0p
operator|-
literal|25
block|,
literal|0x1d607a7c2b8c53
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0x9a8000
literal|.0p
operator|-
literal|24
block|,
literal|0x814697
literal|.0p
operator|-
literal|24
block|,
operator|-
literal|0x12ad3817004f3f
literal|.0p
operator|-
literal|78
block|}
block|,
block|{
literal|0x9a0000
literal|.0p
operator|-
literal|24
block|,
literal|0x821b06
literal|.0p
operator|-
literal|24
block|,
operator|-
literal|0x189fc53117f9e5
literal|.0p
operator|-
literal|81
block|}
block|,
block|{
literal|0x990000
literal|.0p
operator|-
literal|24
block|,
literal|0x83c5f8
literal|.0p
operator|-
literal|24
block|,
literal|0x14cf15a048907b
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0x988000
literal|.0p
operator|-
literal|24
block|,
literal|0x849c7d
literal|.0p
operator|-
literal|24
block|,
literal|0x1cbb1d35fb8287
literal|.0p
operator|-
literal|78
block|}
block|,
block|{
literal|0x978000
literal|.0p
operator|-
literal|24
block|,
literal|0x864ba6
literal|.0p
operator|-
literal|24
block|,
literal|0x1128639b814f9c
literal|.0p
operator|-
literal|78
block|}
block|,
block|{
literal|0x970000
literal|.0p
operator|-
literal|24
block|,
literal|0x87244c
literal|.0p
operator|-
literal|24
block|,
literal|0x184733853300f0
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0x968000
literal|.0p
operator|-
literal|24
block|,
literal|0x87fdaa
literal|.0p
operator|-
literal|24
block|,
literal|0x109d23aef77dd6
literal|.0p
operator|-
literal|80
block|}
block|,
block|{
literal|0x958000
literal|.0p
operator|-
literal|24
block|,
literal|0x89b293
literal|.0p
operator|-
literal|24
block|,
operator|-
literal|0x1a81ef367a59de
literal|.0p
operator|-
literal|78
block|}
block|,
block|{
literal|0x950000
literal|.0p
operator|-
literal|24
block|,
literal|0x8a8e20
literal|.0p
operator|-
literal|24
block|,
operator|-
literal|0x121ad3dbb2f452
literal|.0p
operator|-
literal|78
block|}
block|,
block|{
literal|0x948000
literal|.0p
operator|-
literal|24
block|,
literal|0x8b6a6a
literal|.0p
operator|-
literal|24
block|,
operator|-
literal|0x1cfb981628af72
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0x938000
literal|.0p
operator|-
literal|24
block|,
literal|0x8d253a
literal|.0p
operator|-
literal|24
block|,
operator|-
literal|0x1d21730ea76cfe
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0x930000
literal|.0p
operator|-
literal|24
block|,
literal|0x8e03c2
literal|.0p
operator|-
literal|24
block|,
literal|0x135cc00e566f77
literal|.0p
operator|-
literal|78
block|}
block|,
block|{
literal|0x928000
literal|.0p
operator|-
literal|24
block|,
literal|0x8ee30d
literal|.0p
operator|-
literal|24
block|,
operator|-
literal|0x10fcb5df257a26
literal|.0p
operator|-
literal|80
block|}
block|,
block|{
literal|0x918000
literal|.0p
operator|-
literal|24
block|,
literal|0x90a3ee
literal|.0p
operator|-
literal|24
block|,
operator|-
literal|0x16e171b15433d7
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0x910000
literal|.0p
operator|-
literal|24
block|,
literal|0x918587
literal|.0p
operator|-
literal|24
block|,
operator|-
literal|0x1d050da07f3237
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0x908000
literal|.0p
operator|-
literal|24
block|,
literal|0x9267e7
literal|.0p
operator|-
literal|24
block|,
literal|0x1be03669a5268d
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0x8f8000
literal|.0p
operator|-
literal|24
block|,
literal|0x942f04
literal|.0p
operator|-
literal|24
block|,
literal|0x10b28e0e26c337
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0x8f0000
literal|.0p
operator|-
literal|24
block|,
literal|0x9513c3
literal|.0p
operator|-
literal|24
block|,
literal|0x1a1d820da57cf3
literal|.0p
operator|-
literal|78
block|}
block|,
block|{
literal|0x8e8000
literal|.0p
operator|-
literal|24
block|,
literal|0x95f950
literal|.0p
operator|-
literal|24
block|,
operator|-
literal|0x19ef8f13ae3cf1
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0x8e0000
literal|.0p
operator|-
literal|24
block|,
literal|0x96dfab
literal|.0p
operator|-
literal|24
block|,
operator|-
literal|0x109e417a6e507c
literal|.0p
operator|-
literal|78
block|}
block|,
block|{
literal|0x8d0000
literal|.0p
operator|-
literal|24
block|,
literal|0x98aed2
literal|.0p
operator|-
literal|24
block|,
literal|0x10d01a2c5b0e98
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0x8c8000
literal|.0p
operator|-
literal|24
block|,
literal|0x9997a2
literal|.0p
operator|-
literal|24
block|,
operator|-
literal|0x1d6a50d4b61ea7
literal|.0p
operator|-
literal|78
block|}
block|,
block|{
literal|0x8c0000
literal|.0p
operator|-
literal|24
block|,
literal|0x9a8145
literal|.0p
operator|-
literal|24
block|,
literal|0x1b3b190b83f952
literal|.0p
operator|-
literal|78
block|}
block|,
block|{
literal|0x8b8000
literal|.0p
operator|-
literal|24
block|,
literal|0x9b6bbf
literal|.0p
operator|-
literal|24
block|,
literal|0x13a69fad7e7abe
literal|.0p
operator|-
literal|78
block|}
block|,
block|{
literal|0x8b0000
literal|.0p
operator|-
literal|24
block|,
literal|0x9c5711
literal|.0p
operator|-
literal|24
block|,
operator|-
literal|0x11cd12316f576b
literal|.0p
operator|-
literal|78
block|}
block|,
block|{
literal|0x8a8000
literal|.0p
operator|-
literal|24
block|,
literal|0x9d433b
literal|.0p
operator|-
literal|24
block|,
literal|0x1c95c444b807a2
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0x898000
literal|.0p
operator|-
literal|24
block|,
literal|0x9f1e22
literal|.0p
operator|-
literal|24
block|,
operator|-
literal|0x1b9c224ea698c3
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0x890000
literal|.0p
operator|-
literal|24
block|,
literal|0xa00ce1
literal|.0p
operator|-
literal|24
block|,
literal|0x125ca93186cf0f
literal|.0p
operator|-
literal|81
block|}
block|,
block|{
literal|0x888000
literal|.0p
operator|-
literal|24
block|,
literal|0xa0fc80
literal|.0p
operator|-
literal|24
block|,
operator|-
literal|0x1ee38a7bc228b3
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0x880000
literal|.0p
operator|-
literal|24
block|,
literal|0xa1ed00
literal|.0p
operator|-
literal|24
block|,
operator|-
literal|0x1a0db876613d20
literal|.0p
operator|-
literal|78
block|}
block|,
block|{
literal|0x878000
literal|.0p
operator|-
literal|24
block|,
literal|0xa2de62
literal|.0p
operator|-
literal|24
block|,
literal|0x193224e8516c01
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0x870000
literal|.0p
operator|-
literal|24
block|,
literal|0xa3d0a9
literal|.0p
operator|-
literal|24
block|,
literal|0x1fa28b4d2541ad
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0x868000
literal|.0p
operator|-
literal|24
block|,
literal|0xa4c3d6
literal|.0p
operator|-
literal|24
block|,
literal|0x1c1b5760fb4572
literal|.0p
operator|-
literal|78
block|}
block|,
block|{
literal|0x858000
literal|.0p
operator|-
literal|24
block|,
literal|0xa6acea
literal|.0p
operator|-
literal|24
block|,
literal|0x1fed5d0f65949c
literal|.0p
operator|-
literal|80
block|}
block|,
block|{
literal|0x850000
literal|.0p
operator|-
literal|24
block|,
literal|0xa7a2d4
literal|.0p
operator|-
literal|24
block|,
literal|0x1ad270c9d74936
literal|.0p
operator|-
literal|80
block|}
block|,
block|{
literal|0x848000
literal|.0p
operator|-
literal|24
block|,
literal|0xa899ab
literal|.0p
operator|-
literal|24
block|,
literal|0x199ff15ce53266
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0x840000
literal|.0p
operator|-
literal|24
block|,
literal|0xa99171
literal|.0p
operator|-
literal|24
block|,
literal|0x1a19e15ccc45d2
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0x838000
literal|.0p
operator|-
literal|24
block|,
literal|0xaa8a28
literal|.0p
operator|-
literal|24
block|,
operator|-
literal|0x121a14ec532b36
literal|.0p
operator|-
literal|80
block|}
block|,
block|{
literal|0x830000
literal|.0p
operator|-
literal|24
block|,
literal|0xab83d1
literal|.0p
operator|-
literal|24
block|,
literal|0x1aee319980bff3
literal|.0p
operator|-
literal|79
block|}
block|,
block|{
literal|0x828000
literal|.0p
operator|-
literal|24
block|,
literal|0xac7e6f
literal|.0p
operator|-
literal|24
block|,
operator|-
literal|0x18ffd9e3900346
literal|.0p
operator|-
literal|80
block|}
block|,
block|{
literal|0x820000
literal|.0p
operator|-
literal|24
block|,
literal|0xad7a03
literal|.0p
operator|-
literal|24
block|,
operator|-
literal|0x1e4db102ce29f8
literal|.0p
operator|-
literal|80
block|}
block|,
block|{
literal|0x818000
literal|.0p
operator|-
literal|24
block|,
literal|0xae768f
literal|.0p
operator|-
literal|24
block|,
literal|0x17c35c55a04a83
literal|.0p
operator|-
literal|81
block|}
block|,
block|{
literal|0x810000
literal|.0p
operator|-
literal|24
block|,
literal|0xaf7415
literal|.0p
operator|-
literal|24
block|,
literal|0x1448324047019b
literal|.0p
operator|-
literal|78
block|}
block|,
block|{
literal|0x808000
literal|.0p
operator|-
literal|24
block|,
literal|0xb07298
literal|.0p
operator|-
literal|24
block|,
operator|-
literal|0x1750ee3915a198
literal|.0p
operator|-
literal|78
block|}
block|,
block|{
literal|0x800000
literal|.0p
operator|-
literal|24
block|,
literal|0xb17218
literal|.0p
operator|-
literal|24
block|,
operator|-
literal|0x105c610ca86c39
literal|.0p
operator|-
literal|81
block|}
block|, }
struct|;
end_struct

begin_ifdef
ifdef|#
directive|ifdef
name|USE_UTAB
end_ifdef

begin_struct
specifier|static
specifier|const
struct|struct
block|{
name|float
name|H
decl_stmt|;
comment|/* 1 + i/INTERVALS (exact) */
name|float
name|E
decl_stmt|;
comment|/* H(i) * G(i) - 1 (exact) */
block|}
name|U
index|[
name|TSIZE
index|]
init|=
block|{
block|{
literal|0x800000
literal|.0p
operator|-
literal|23
block|,
literal|0
block|}
block|,
block|{
literal|0x810000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x800000
literal|.0p
operator|-
literal|37
block|}
block|,
block|{
literal|0x820000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x800000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0x830000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x900000
literal|.0p
operator|-
literal|34
block|}
block|,
block|{
literal|0x840000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x800000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0x850000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xc80000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0x860000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xa00000
literal|.0p
operator|-
literal|36
block|}
block|,
block|{
literal|0x870000
literal|.0p
operator|-
literal|23
block|,
literal|0x940000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0x880000
literal|.0p
operator|-
literal|23
block|,
literal|0x800000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0x890000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xc80000
literal|.0p
operator|-
literal|34
block|}
block|,
block|{
literal|0x8a0000
literal|.0p
operator|-
literal|23
block|,
literal|0xe00000
literal|.0p
operator|-
literal|36
block|}
block|,
block|{
literal|0x8b0000
literal|.0p
operator|-
literal|23
block|,
literal|0x900000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0x8c0000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x800000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0x8d0000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xe00000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0x8e0000
literal|.0p
operator|-
literal|23
block|,
literal|0x880000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0x8f0000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xa80000
literal|.0p
operator|-
literal|34
block|}
block|,
block|{
literal|0x900000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x800000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0x910000
literal|.0p
operator|-
literal|23
block|,
literal|0x800000
literal|.0p
operator|-
literal|37
block|}
block|,
block|{
literal|0x920000
literal|.0p
operator|-
literal|23
block|,
literal|0x900000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0x930000
literal|.0p
operator|-
literal|23
block|,
literal|0xd00000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0x940000
literal|.0p
operator|-
literal|23
block|,
literal|0xe00000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0x950000
literal|.0p
operator|-
literal|23
block|,
literal|0xc00000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0x960000
literal|.0p
operator|-
literal|23
block|,
literal|0xe00000
literal|.0p
operator|-
literal|36
block|}
block|,
block|{
literal|0x970000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x800000
literal|.0p
operator|-
literal|38
block|}
block|,
block|{
literal|0x980000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xc00000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0x990000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xd00000
literal|.0p
operator|-
literal|34
block|}
block|,
block|{
literal|0x9a0000
literal|.0p
operator|-
literal|23
block|,
literal|0x880000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0x9b0000
literal|.0p
operator|-
literal|23
block|,
literal|0xe80000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0x9c0000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x800000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0x9d0000
literal|.0p
operator|-
literal|23
block|,
literal|0xb40000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0x9e0000
literal|.0p
operator|-
literal|23
block|,
literal|0x880000
literal|.0p
operator|-
literal|34
block|}
block|,
block|{
literal|0x9f0000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xe00000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0xa00000
literal|.0p
operator|-
literal|23
block|,
literal|0x800000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xa10000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x900000
literal|.0p
operator|-
literal|36
block|}
block|,
block|{
literal|0xa20000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xb00000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xa30000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xa00000
literal|.0p
operator|-
literal|36
block|}
block|,
block|{
literal|0xa40000
literal|.0p
operator|-
literal|23
block|,
literal|0x800000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xa50000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xf80000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0xa60000
literal|.0p
operator|-
literal|23
block|,
literal|0x880000
literal|.0p
operator|-
literal|34
block|}
block|,
block|{
literal|0xa70000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x900000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xa80000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x800000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0xa90000
literal|.0p
operator|-
literal|23
block|,
literal|0x900000
literal|.0p
operator|-
literal|34
block|}
block|,
block|{
literal|0xaa0000
literal|.0p
operator|-
literal|23
block|,
literal|0xa80000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xab0000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xac0000
literal|.0p
operator|-
literal|34
block|}
block|,
block|{
literal|0xac0000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x800000
literal|.0p
operator|-
literal|37
block|}
block|,
block|{
literal|0xad0000
literal|.0p
operator|-
literal|23
block|,
literal|0xf80000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0xae0000
literal|.0p
operator|-
literal|23
block|,
literal|0xf80000
literal|.0p
operator|-
literal|34
block|}
block|,
block|{
literal|0xaf0000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xac0000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xb00000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x800000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xb10000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xb80000
literal|.0p
operator|-
literal|34
block|}
block|,
block|{
literal|0xb20000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x800000
literal|.0p
operator|-
literal|34
block|}
block|,
block|{
literal|0xb30000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xb00000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0xb40000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x800000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0xb50000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xe00000
literal|.0p
operator|-
literal|36
block|}
block|,
block|{
literal|0xb60000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x800000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0xb70000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xb00000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0xb80000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x800000
literal|.0p
operator|-
literal|34
block|}
block|,
block|{
literal|0xb90000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xb80000
literal|.0p
operator|-
literal|34
block|}
block|,
block|{
literal|0xba0000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x800000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xbb0000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xac0000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xbc0000
literal|.0p
operator|-
literal|23
block|,
literal|0x980000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xbd0000
literal|.0p
operator|-
literal|23
block|,
literal|0xbc0000
literal|.0p
operator|-
literal|34
block|}
block|,
block|{
literal|0xbe0000
literal|.0p
operator|-
literal|23
block|,
literal|0xe00000
literal|.0p
operator|-
literal|36
block|}
block|,
block|{
literal|0xbf0000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xb80000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0xc00000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x800000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xc10000
literal|.0p
operator|-
literal|23
block|,
literal|0xa80000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xc20000
literal|.0p
operator|-
literal|23
block|,
literal|0x900000
literal|.0p
operator|-
literal|34
block|}
block|,
block|{
literal|0xc30000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x800000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0xc40000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x900000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xc50000
literal|.0p
operator|-
literal|23
block|,
literal|0x820000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xc60000
literal|.0p
operator|-
literal|23
block|,
literal|0x800000
literal|.0p
operator|-
literal|38
block|}
block|,
block|{
literal|0xc70000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x820000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xc80000
literal|.0p
operator|-
literal|23
block|,
literal|0x800000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xc90000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xa00000
literal|.0p
operator|-
literal|36
block|}
block|,
block|{
literal|0xca0000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xb00000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xcb0000
literal|.0p
operator|-
literal|23
block|,
literal|0x840000
literal|.0p
operator|-
literal|34
block|}
block|,
block|{
literal|0xcc0000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xd00000
literal|.0p
operator|-
literal|34
block|}
block|,
block|{
literal|0xcd0000
literal|.0p
operator|-
literal|23
block|,
literal|0x800000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xce0000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xe00000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0xcf0000
literal|.0p
operator|-
literal|23
block|,
literal|0xa60000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xd00000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x800000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0xd10000
literal|.0p
operator|-
literal|23
block|,
literal|0xb40000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xd20000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x800000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0xd30000
literal|.0p
operator|-
literal|23
block|,
literal|0xaa0000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xd40000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xe00000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0xd50000
literal|.0p
operator|-
literal|23
block|,
literal|0x880000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xd60000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xd00000
literal|.0p
operator|-
literal|34
block|}
block|,
block|{
literal|0xd70000
literal|.0p
operator|-
literal|23
block|,
literal|0x9c0000
literal|.0p
operator|-
literal|34
block|}
block|,
block|{
literal|0xd80000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xb00000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xd90000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x800000
literal|.0p
operator|-
literal|38
block|}
block|,
block|{
literal|0xda0000
literal|.0p
operator|-
literal|23
block|,
literal|0xa40000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xdb0000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xdc0000
literal|.0p
operator|-
literal|34
block|}
block|,
block|{
literal|0xdc0000
literal|.0p
operator|-
literal|23
block|,
literal|0xc00000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0xdd0000
literal|.0p
operator|-
literal|23
block|,
literal|0xca0000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xde0000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xb80000
literal|.0p
operator|-
literal|34
block|}
block|,
block|{
literal|0xdf0000
literal|.0p
operator|-
literal|23
block|,
literal|0xd00000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0xe00000
literal|.0p
operator|-
literal|23
block|,
literal|0xc00000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xe10000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xf40000
literal|.0p
operator|-
literal|34
block|}
block|,
block|{
literal|0xe20000
literal|.0p
operator|-
literal|23
block|,
literal|0x800000
literal|.0p
operator|-
literal|37
block|}
block|,
block|{
literal|0xe30000
literal|.0p
operator|-
literal|23
block|,
literal|0x860000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xe40000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xc80000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xe50000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xa80000
literal|.0p
operator|-
literal|34
block|}
block|,
block|{
literal|0xe60000
literal|.0p
operator|-
literal|23
block|,
literal|0xe00000
literal|.0p
operator|-
literal|36
block|}
block|,
block|{
literal|0xe70000
literal|.0p
operator|-
literal|23
block|,
literal|0x880000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xe80000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xe00000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xe90000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xfc0000
literal|.0p
operator|-
literal|34
block|}
block|,
block|{
literal|0xea0000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x800000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0xeb0000
literal|.0p
operator|-
literal|23
block|,
literal|0xe80000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0xec0000
literal|.0p
operator|-
literal|23
block|,
literal|0x900000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xed0000
literal|.0p
operator|-
literal|23
block|,
literal|0xe20000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xee0000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xac0000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xef0000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xc80000
literal|.0p
operator|-
literal|34
block|}
block|,
block|{
literal|0xf00000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x800000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0xf10000
literal|.0p
operator|-
literal|23
block|,
literal|0x800000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0xf20000
literal|.0p
operator|-
literal|23
block|,
literal|0xb80000
literal|.0p
operator|-
literal|34
block|}
block|,
block|{
literal|0xf30000
literal|.0p
operator|-
literal|23
block|,
literal|0x940000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xf40000
literal|.0p
operator|-
literal|23
block|,
literal|0xc80000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xf50000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xf20000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xf60000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xc80000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xf70000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xa20000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xf80000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x800000
literal|.0p
operator|-
literal|33
block|}
block|,
block|{
literal|0xf90000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xc40000
literal|.0p
operator|-
literal|34
block|}
block|,
block|{
literal|0xfa0000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x900000
literal|.0p
operator|-
literal|34
block|}
block|,
block|{
literal|0xfb0000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0xc80000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0xfc0000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x800000
literal|.0p
operator|-
literal|35
block|}
block|,
block|{
literal|0xfd0000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x900000
literal|.0p
operator|-
literal|36
block|}
block|,
block|{
literal|0xfe0000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x800000
literal|.0p
operator|-
literal|37
block|}
block|,
block|{
literal|0xff0000
literal|.0p
operator|-
literal|23
block|,
operator|-
literal|0x800000
literal|.0p
operator|-
literal|39
block|}
block|,
block|{
literal|0x800000
literal|.0p
operator|-
literal|22
block|,
literal|0
block|}
block|, }
struct|;
end_struct

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* USE_UTAB */
end_comment

begin_ifdef
ifdef|#
directive|ifdef
name|STRUCT_RETURN
end_ifdef

begin_define
define|#
directive|define
name|RETURN1
parameter_list|(
name|rp
parameter_list|,
name|v
parameter_list|)
value|do {	\ 	(rp)->hi = (v);		\ 	(rp)->lo_set = 0;	\ 	return;			\ } while (0)
end_define

begin_define
define|#
directive|define
name|RETURN2
parameter_list|(
name|rp
parameter_list|,
name|h
parameter_list|,
name|l
parameter_list|)
value|do {	\ 	(rp)->hi = (h);		\ 	(rp)->lo = (l);		\ 	(rp)->lo_set = 1;	\ 	return;			\ } while (0)
end_define

begin_struct
struct|struct
name|ld
block|{
name|long
name|double
name|hi
decl_stmt|;
name|long
name|double
name|lo
decl_stmt|;
name|int
name|lo_set
decl_stmt|;
block|}
struct|;
end_struct

begin_else
else|#
directive|else
end_else

begin_define
define|#
directive|define
name|RETURN1
parameter_list|(
name|rp
parameter_list|,
name|v
parameter_list|)
value|RETURNF(v)
end_define

begin_define
define|#
directive|define
name|RETURN2
parameter_list|(
name|rp
parameter_list|,
name|h
parameter_list|,
name|l
parameter_list|)
value|RETURNI((h) + (l))
end_define

begin_endif
endif|#
directive|endif
end_endif

begin_ifdef
ifdef|#
directive|ifdef
name|STRUCT_RETURN
end_ifdef

begin_decl_stmt
specifier|static
specifier|inline
name|__always_inline
name|void
name|k_logl
argument_list|(
name|long
name|double
name|x
argument_list|,
expr|struct
name|ld
operator|*
name|rp
argument_list|)
else|#
directive|else
name|long
name|double
name|logl
argument_list|(
name|long
name|double
name|x
argument_list|)
endif|#
directive|endif
block|{
name|long
name|double
name|d
decl_stmt|,
name|dk
decl_stmt|,
name|val_hi
decl_stmt|,
name|val_lo
decl_stmt|,
name|z
decl_stmt|;
name|uint64_t
name|ix
decl_stmt|,
name|lx
decl_stmt|;
name|int
name|i
decl_stmt|,
name|k
decl_stmt|;
name|uint16_t
name|hx
decl_stmt|;
name|EXTRACT_LDBL80_WORDS
argument_list|(
name|hx
argument_list|,
name|lx
argument_list|,
name|x
argument_list|)
expr_stmt|;
name|k
operator|=
operator|-
literal|16383
expr_stmt|;
if|#
directive|if
literal|0
comment|/* Hard to do efficiently.  Don't do it until we support all modes. */
block|if (x == 1) 		RETURN1(rp, 0);
comment|/* log(1) = +0 in all rounding modes */
endif|#
directive|endif
if|if
condition|(
name|hx
operator|==
literal|0
operator|||
name|hx
operator|>=
literal|0x8000
condition|)
block|{
comment|/* zero, negative or subnormal? */
if|if
condition|(
operator|(
operator|(
name|hx
operator|&
literal|0x7fff
operator|)
operator||
name|lx
operator|)
operator|==
literal|0
condition|)
name|RETURN1
argument_list|(
name|rp
argument_list|,
operator|-
literal|1
operator|/
name|zero
argument_list|)
expr_stmt|;
comment|/* log(+-0) = -Inf */
if|if
condition|(
name|hx
operator|!=
literal|0
condition|)
comment|/* log(neg or [pseudo-]NaN) = qNaN: */
name|RETURN1
argument_list|(
name|rp
argument_list|,
operator|(
name|x
operator|-
name|x
operator|)
operator|/
name|zero
argument_list|)
expr_stmt|;
name|x
operator|*=
literal|0x1
literal|.0p65
expr_stmt|;
comment|/* subnormal; scale up x */
comment|/* including pseudo-subnormals */
name|EXTRACT_LDBL80_WORDS
argument_list|(
name|hx
argument_list|,
name|lx
argument_list|,
name|x
argument_list|)
expr_stmt|;
name|k
operator|=
operator|-
literal|16383
operator|-
literal|65
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|hx
operator|>=
literal|0x7fff
operator|||
operator|(
name|lx
operator|&
literal|0x8000000000000000ULL
operator|)
operator|==
literal|0
condition|)
name|RETURN1
argument_list|(
name|rp
argument_list|,
name|x
operator|+
name|x
argument_list|)
expr_stmt|;
comment|/* log(Inf or NaN) = Inf or qNaN */
comment|/* log(pseudo-Inf) = qNaN */
comment|/* log(pseudo-NaN) = qNaN */
comment|/* log(unnormal) = qNaN */
ifndef|#
directive|ifndef
name|STRUCT_RETURN
name|ENTERI
argument_list|()
expr_stmt|;
endif|#
directive|endif
name|k
operator|+=
name|hx
expr_stmt|;
name|ix
operator|=
name|lx
operator|&
literal|0x7fffffffffffffffULL
expr_stmt|;
name|dk
operator|=
name|k
expr_stmt|;
comment|/* Scale x to be in [1, 2). */
name|SET_LDBL_EXPSIGN
argument_list|(
name|x
argument_list|,
literal|0x3fff
argument_list|)
expr_stmt|;
comment|/* 0<= i<= INTERVALS: */
define|#
directive|define
name|L2I
value|(64 - LOG2_INTERVALS)
name|i
operator|=
operator|(
name|ix
operator|+
operator|(
literal|1LL
operator|<<
operator|(
name|L2I
operator|-
literal|2
operator|)
operator|)
operator|)
operator|>>
operator|(
name|L2I
operator|-
literal|1
operator|)
expr_stmt|;
comment|/* 	 * -0.005280< d< 0.004838.  In particular, the infinite- 	 * precision |d| is<= 2**-7.  Rounding of G(i) to 8 bits 	 * ensures that d is representable without extra precision for 	 * this bound on |d| (since when this calculation is expressed 	 * as x*G(i)-1, the multiplication needs as many extra bits as 	 * G(i) has and the subtraction cancels 8 bits).  But for 	 * most i (107 cases out of 129), the infinite-precision |d| 	 * is<= 2**-8.  G(i) is rounded to 9 bits for such i to give 	 * better accuracy (this works by improving the bound on |d|, 	 * which in turn allows rounding to 9 bits in more cases). 	 * This is only important when the original x is near 1 -- it 	 * lets us avoid using a special method to give the desired 	 * accuracy for such x. 	 */
if|if
condition|(
literal|0
condition|)
name|d
operator|=
name|x
operator|*
name|G
argument_list|(
name|i
argument_list|)
operator|-
literal|1
expr_stmt|;
else|else
block|{
ifdef|#
directive|ifdef
name|USE_UTAB
name|d
operator|=
operator|(
name|x
operator|-
name|H
argument_list|(
name|i
argument_list|)
operator|)
operator|*
name|G
argument_list|(
name|i
argument_list|)
operator|+
name|E
argument_list|(
name|i
argument_list|)
expr_stmt|;
else|#
directive|else
name|long
name|double
name|x_hi
decl_stmt|,
name|x_lo
decl_stmt|;
name|float
name|fx_hi
decl_stmt|;
comment|/* 		 * Split x into x_hi + x_lo to calculate x*G(i)-1 exactly. 		 * G(i) has at most 9 bits, so the splitting point is not 		 * critical. 		 */
name|SET_FLOAT_WORD
argument_list|(
name|fx_hi
argument_list|,
operator|(
name|lx
operator|>>
literal|40
operator|)
operator||
literal|0x3f800000
argument_list|)
expr_stmt|;
name|x_hi
operator|=
name|fx_hi
expr_stmt|;
name|x_lo
operator|=
name|x
operator|-
name|x_hi
expr_stmt|;
name|d
operator|=
name|x_hi
operator|*
name|G
argument_list|(
name|i
argument_list|)
operator|-
literal|1
operator|+
name|x_lo
operator|*
name|G
argument_list|(
name|i
argument_list|)
expr_stmt|;
endif|#
directive|endif
block|}
comment|/* 	 * Our algorithm depends on exact cancellation of F_lo(i) and 	 * F_hi(i) with dk*ln_2_lo and dk*ln2_hi when k is -1 and i is 	 * at the end of the table.  This and other technical complications 	 * make it difficult to avoid the double scaling in (dk*ln2) * 	 * log(base) for base != e without losing more accuracy and/or 	 * efficiency than is gained. 	 */
name|z
operator|=
name|d
operator|*
name|d
expr_stmt|;
name|val_lo
operator|=
name|z
operator|*
name|d
operator|*
name|z
operator|*
operator|(
name|z
operator|*
operator|(
name|d
operator|*
name|P8
operator|+
name|P7
operator|)
operator|+
operator|(
name|d
operator|*
name|P6
operator|+
name|P5
operator|)
operator|)
operator|+
operator|(
name|F_lo
argument_list|(
name|i
argument_list|)
operator|+
name|dk
operator|*
name|ln2_lo
operator|+
name|z
operator|*
name|d
operator|*
operator|(
name|d
operator|*
name|P4
operator|+
name|P3
operator|)
operator|)
operator|+
name|z
operator|*
name|P2
expr_stmt|;
name|val_hi
operator|=
name|d
expr_stmt|;
ifdef|#
directive|ifdef
name|DEBUG
if|if
condition|(
name|fetestexcept
argument_list|(
name|FE_UNDERFLOW
argument_list|)
condition|)
name|breakpoint
argument_list|()
expr_stmt|;
endif|#
directive|endif
name|_3sumF
argument_list|(
name|val_hi
argument_list|,
name|val_lo
argument_list|,
name|F_hi
argument_list|(
name|i
argument_list|)
operator|+
name|dk
operator|*
name|ln2_hi
argument_list|)
expr_stmt|;
name|RETURN2
argument_list|(
name|rp
argument_list|,
name|val_hi
argument_list|,
name|val_lo
argument_list|)
expr_stmt|;
block|}
end_decl_stmt

begin_function
name|long
name|double
name|log1pl
parameter_list|(
name|long
name|double
name|x
parameter_list|)
block|{
name|long
name|double
name|d
decl_stmt|,
name|d_hi
decl_stmt|,
name|d_lo
decl_stmt|,
name|dk
decl_stmt|,
name|f_lo
decl_stmt|,
name|val_hi
decl_stmt|,
name|val_lo
decl_stmt|,
name|z
decl_stmt|;
name|long
name|double
name|f_hi
decl_stmt|,
name|twopminusk
decl_stmt|;
name|uint64_t
name|ix
decl_stmt|,
name|lx
decl_stmt|;
name|int
name|i
decl_stmt|,
name|k
decl_stmt|;
name|int16_t
name|ax
decl_stmt|,
name|hx
decl_stmt|;
name|DOPRINT_START
argument_list|(
operator|&
name|x
argument_list|)
expr_stmt|;
name|EXTRACT_LDBL80_WORDS
argument_list|(
name|hx
argument_list|,
name|lx
argument_list|,
name|x
argument_list|)
expr_stmt|;
if|if
condition|(
name|hx
operator|<
literal|0x3fff
condition|)
block|{
comment|/* x< 1, or x neg NaN */
name|ax
operator|=
name|hx
operator|&
literal|0x7fff
expr_stmt|;
if|if
condition|(
name|ax
operator|>=
literal|0x3fff
condition|)
block|{
comment|/* x<= -1, or x neg NaN */
if|if
condition|(
name|ax
operator|==
literal|0x3fff
operator|&&
name|lx
operator|==
literal|0x8000000000000000ULL
condition|)
name|RETURNP
argument_list|(
operator|-
literal|1
operator|/
name|zero
argument_list|)
expr_stmt|;
comment|/* log1p(-1) = -Inf */
comment|/* log1p(x< 1, or x [pseudo-]NaN) = qNaN: */
name|RETURNP
argument_list|(
operator|(
name|x
operator|-
name|x
operator|)
operator|/
operator|(
name|x
operator|-
name|x
operator|)
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
name|ax
operator|<=
literal|0x3fbe
condition|)
block|{
comment|/* |x|< 2**-64 */
if|if
condition|(
operator|(
name|int
operator|)
name|x
operator|==
literal|0
condition|)
name|RETURNP
argument_list|(
name|x
argument_list|)
expr_stmt|;
comment|/* x with inexact if x != 0 */
block|}
name|f_hi
operator|=
literal|1
expr_stmt|;
name|f_lo
operator|=
name|x
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|hx
operator|>=
literal|0x7fff
condition|)
block|{
comment|/* x +Inf or non-neg NaN */
name|RETURNP
argument_list|(
name|x
operator|+
name|x
argument_list|)
expr_stmt|;
comment|/* log1p(Inf or NaN) = Inf or qNaN */
comment|/* log1p(pseudo-Inf) = qNaN */
comment|/* log1p(pseudo-NaN) = qNaN */
comment|/* log1p(unnormal) = qNaN */
block|}
elseif|else
if|if
condition|(
name|hx
operator|<
literal|0x407f
condition|)
block|{
comment|/* 1<= x< 2**128 */
name|f_hi
operator|=
name|x
expr_stmt|;
name|f_lo
operator|=
literal|1
expr_stmt|;
block|}
else|else
block|{
comment|/* 2**128<= x< +Inf */
name|f_hi
operator|=
name|x
expr_stmt|;
name|f_lo
operator|=
literal|0
expr_stmt|;
comment|/* avoid underflow of the P5 term */
block|}
name|ENTERI
argument_list|()
expr_stmt|;
name|x
operator|=
name|f_hi
operator|+
name|f_lo
expr_stmt|;
name|f_lo
operator|=
operator|(
name|f_hi
operator|-
name|x
operator|)
operator|+
name|f_lo
expr_stmt|;
name|EXTRACT_LDBL80_WORDS
argument_list|(
name|hx
argument_list|,
name|lx
argument_list|,
name|x
argument_list|)
expr_stmt|;
name|k
operator|=
operator|-
literal|16383
expr_stmt|;
name|k
operator|+=
name|hx
expr_stmt|;
name|ix
operator|=
name|lx
operator|&
literal|0x7fffffffffffffffULL
expr_stmt|;
name|dk
operator|=
name|k
expr_stmt|;
name|SET_LDBL_EXPSIGN
argument_list|(
name|x
argument_list|,
literal|0x3fff
argument_list|)
expr_stmt|;
name|twopminusk
operator|=
literal|1
expr_stmt|;
name|SET_LDBL_EXPSIGN
argument_list|(
name|twopminusk
argument_list|,
literal|0x7ffe
operator|-
operator|(
name|hx
operator|&
literal|0x7fff
operator|)
argument_list|)
expr_stmt|;
name|f_lo
operator|*=
name|twopminusk
expr_stmt|;
name|i
operator|=
operator|(
name|ix
operator|+
operator|(
literal|1LL
operator|<<
operator|(
name|L2I
operator|-
literal|2
operator|)
operator|)
operator|)
operator|>>
operator|(
name|L2I
operator|-
literal|1
operator|)
expr_stmt|;
comment|/* 	 * x*G(i)-1 (with a reduced x) can be represented exactly, as 	 * above, but now we need to evaluate the polynomial on d = 	 * (x+f_lo)*G(i)-1 and extra precision is needed for that. 	 * Since x+x_lo is a hi+lo decomposition and subtracting 1 	 * doesn't lose too many bits, an inexact calculation for 	 * f_lo*G(i) is good enough. 	 */
if|if
condition|(
literal|0
condition|)
name|d_hi
operator|=
name|x
operator|*
name|G
argument_list|(
name|i
argument_list|)
operator|-
literal|1
expr_stmt|;
else|else
block|{
ifdef|#
directive|ifdef
name|USE_UTAB
name|d_hi
operator|=
operator|(
name|x
operator|-
name|H
argument_list|(
name|i
argument_list|)
operator|)
operator|*
name|G
argument_list|(
name|i
argument_list|)
operator|+
name|E
argument_list|(
name|i
argument_list|)
expr_stmt|;
else|#
directive|else
name|long
name|double
name|x_hi
decl_stmt|,
name|x_lo
decl_stmt|;
name|float
name|fx_hi
decl_stmt|;
name|SET_FLOAT_WORD
argument_list|(
name|fx_hi
argument_list|,
operator|(
name|lx
operator|>>
literal|40
operator|)
operator||
literal|0x3f800000
argument_list|)
expr_stmt|;
name|x_hi
operator|=
name|fx_hi
expr_stmt|;
name|x_lo
operator|=
name|x
operator|-
name|x_hi
expr_stmt|;
name|d_hi
operator|=
name|x_hi
operator|*
name|G
argument_list|(
name|i
argument_list|)
operator|-
literal|1
operator|+
name|x_lo
operator|*
name|G
argument_list|(
name|i
argument_list|)
expr_stmt|;
endif|#
directive|endif
block|}
name|d_lo
operator|=
name|f_lo
operator|*
name|G
argument_list|(
name|i
argument_list|)
expr_stmt|;
comment|/* 	 * This is _2sumF(d_hi, d_lo) inlined.  The condition 	 * (d_hi == 0 || |d_hi|>= |d_lo|) for using _2sumF() is not 	 * always satisifed, so it is not clear that this works, but 	 * it works in practice.  It works even if it gives a wrong 	 * normalized d_lo, since |d_lo|> |d_hi| implies that i is 	 * nonzero and d is tiny, so the F(i) term dominates d_lo. 	 * In float precision: 	 * (By exhaustive testing, the worst case is d_hi = 0x1.bp-25. 	 * And if d is only a little tinier than that, we would have 	 * another underflow problem for the P3 term; this is also ruled 	 * out by exhaustive testing.) 	 */
name|d
operator|=
name|d_hi
operator|+
name|d_lo
expr_stmt|;
name|d_lo
operator|=
name|d_hi
operator|-
name|d
operator|+
name|d_lo
expr_stmt|;
name|d_hi
operator|=
name|d
expr_stmt|;
name|z
operator|=
name|d
operator|*
name|d
expr_stmt|;
name|val_lo
operator|=
name|z
operator|*
name|d
operator|*
name|z
operator|*
operator|(
name|z
operator|*
operator|(
name|d
operator|*
name|P8
operator|+
name|P7
operator|)
operator|+
operator|(
name|d
operator|*
name|P6
operator|+
name|P5
operator|)
operator|)
operator|+
operator|(
name|F_lo
argument_list|(
name|i
argument_list|)
operator|+
name|dk
operator|*
name|ln2_lo
operator|+
name|d_lo
operator|+
name|z
operator|*
name|d
operator|*
operator|(
name|d
operator|*
name|P4
operator|+
name|P3
operator|)
operator|)
operator|+
name|z
operator|*
name|P2
expr_stmt|;
name|val_hi
operator|=
name|d_hi
expr_stmt|;
ifdef|#
directive|ifdef
name|DEBUG
if|if
condition|(
name|fetestexcept
argument_list|(
name|FE_UNDERFLOW
argument_list|)
condition|)
name|breakpoint
argument_list|()
expr_stmt|;
endif|#
directive|endif
name|_3sumF
argument_list|(
name|val_hi
argument_list|,
name|val_lo
argument_list|,
name|F_hi
argument_list|(
name|i
argument_list|)
operator|+
name|dk
operator|*
name|ln2_hi
argument_list|)
expr_stmt|;
name|RETURN2PI
argument_list|(
name|val_hi
argument_list|,
name|val_lo
argument_list|)
expr_stmt|;
block|}
end_function

begin_ifdef
ifdef|#
directive|ifdef
name|STRUCT_RETURN
end_ifdef

begin_function
name|long
name|double
name|logl
parameter_list|(
name|long
name|double
name|x
parameter_list|)
block|{
name|struct
name|ld
name|r
decl_stmt|;
name|ENTERI
argument_list|()
expr_stmt|;
name|DOPRINT_START
argument_list|(
operator|&
name|x
argument_list|)
expr_stmt|;
name|k_logl
argument_list|(
name|x
argument_list|,
operator|&
name|r
argument_list|)
expr_stmt|;
name|RETURNSPI
argument_list|(
operator|&
name|r
argument_list|)
expr_stmt|;
block|}
end_function

begin_decl_stmt
specifier|static
specifier|const
name|double
name|invln10_hi
init|=
literal|4.3429448190317999e-1
decl_stmt|,
comment|/*  0x1bcb7b1526e000.0p-54 */
name|invln10_lo
init|=
literal|7.1842412889749798e-14
decl_stmt|,
comment|/*  0x1438ca9aadd558.0p-96 */
name|invln2_hi
init|=
literal|1.4426950408887933e0
decl_stmt|,
comment|/*  0x171547652b8000.0p-52 */
name|invln2_lo
init|=
literal|1.7010652264631490e-13
decl_stmt|;
end_decl_stmt

begin_comment
comment|/*  0x17f0bbbe87fed0.0p-95 */
end_comment

begin_function
name|long
name|double
name|log10l
parameter_list|(
name|long
name|double
name|x
parameter_list|)
block|{
name|struct
name|ld
name|r
decl_stmt|;
name|long
name|double
name|hi
decl_stmt|,
name|lo
decl_stmt|;
name|ENTERI
argument_list|()
expr_stmt|;
name|DOPRINT_START
argument_list|(
operator|&
name|x
argument_list|)
expr_stmt|;
name|k_logl
argument_list|(
name|x
argument_list|,
operator|&
name|r
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|r
operator|.
name|lo_set
condition|)
name|RETURNPI
argument_list|(
name|r
operator|.
name|hi
argument_list|)
expr_stmt|;
name|_2sumF
argument_list|(
name|r
operator|.
name|hi
argument_list|,
name|r
operator|.
name|lo
argument_list|)
expr_stmt|;
name|hi
operator|=
operator|(
name|float
operator|)
name|r
operator|.
name|hi
expr_stmt|;
name|lo
operator|=
name|r
operator|.
name|lo
operator|+
operator|(
name|r
operator|.
name|hi
operator|-
name|hi
operator|)
expr_stmt|;
name|RETURN2PI
argument_list|(
name|invln10_hi
operator|*
name|hi
argument_list|,
operator|(
name|invln10_lo
operator|+
name|invln10_hi
operator|)
operator|*
name|lo
operator|+
name|invln10_lo
operator|*
name|hi
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|long
name|double
name|log2l
parameter_list|(
name|long
name|double
name|x
parameter_list|)
block|{
name|struct
name|ld
name|r
decl_stmt|;
name|long
name|double
name|hi
decl_stmt|,
name|lo
decl_stmt|;
name|ENTERI
argument_list|()
expr_stmt|;
name|DOPRINT_START
argument_list|(
operator|&
name|x
argument_list|)
expr_stmt|;
name|k_logl
argument_list|(
name|x
argument_list|,
operator|&
name|r
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|r
operator|.
name|lo_set
condition|)
name|RETURNPI
argument_list|(
name|r
operator|.
name|hi
argument_list|)
expr_stmt|;
name|_2sumF
argument_list|(
name|r
operator|.
name|hi
argument_list|,
name|r
operator|.
name|lo
argument_list|)
expr_stmt|;
name|hi
operator|=
operator|(
name|float
operator|)
name|r
operator|.
name|hi
expr_stmt|;
name|lo
operator|=
name|r
operator|.
name|lo
operator|+
operator|(
name|r
operator|.
name|hi
operator|-
name|hi
operator|)
expr_stmt|;
name|RETURN2PI
argument_list|(
name|invln2_hi
operator|*
name|hi
argument_list|,
operator|(
name|invln2_lo
operator|+
name|invln2_hi
operator|)
operator|*
name|lo
operator|+
name|invln2_lo
operator|*
name|hi
argument_list|)
expr_stmt|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* STRUCT_RETURN */
end_comment

end_unit

