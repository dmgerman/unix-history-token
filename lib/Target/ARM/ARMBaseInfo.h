begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|//===-- ARMBaseInfo.h - Top level definitions for ARM -------- --*- C++ -*-===//
end_comment

begin_comment
comment|//
end_comment

begin_comment
comment|//                     The LLVM Compiler Infrastructure
end_comment

begin_comment
comment|//
end_comment

begin_comment
comment|// This file is distributed under the University of Illinois Open Source
end_comment

begin_comment
comment|// License. See LICENSE.TXT for details.
end_comment

begin_comment
comment|//
end_comment

begin_comment
comment|//===----------------------------------------------------------------------===//
end_comment

begin_comment
comment|//
end_comment

begin_comment
comment|// This file contains small standalone helper functions and enum definitions for
end_comment

begin_comment
comment|// the ARM target useful for the compiler back-end and the MC libraries.
end_comment

begin_comment
comment|// As such, it deliberately does not include references to LLVM core
end_comment

begin_comment
comment|// code gen types, passes, etc..
end_comment

begin_comment
comment|//
end_comment

begin_comment
comment|//===----------------------------------------------------------------------===//
end_comment

begin_ifndef
ifndef|#
directive|ifndef
name|ARMBASEINFO_H
end_ifndef

begin_define
define|#
directive|define
name|ARMBASEINFO_H
end_define

begin_include
include|#
directive|include
file|"llvm/Support/ErrorHandling.h"
end_include

begin_comment
comment|// Note that the following auto-generated files only defined enum types, and
end_comment

begin_comment
comment|// so are safe to include here.
end_comment

begin_comment
comment|// Defines symbolic names for ARM registers.  This defines a mapping from
end_comment

begin_comment
comment|// register name to register number.
end_comment

begin_comment
comment|//
end_comment

begin_include
include|#
directive|include
file|"ARMGenRegisterNames.inc"
end_include

begin_comment
comment|// Defines symbolic names for the ARM instructions.
end_comment

begin_comment
comment|//
end_comment

begin_include
include|#
directive|include
file|"ARMGenInstrNames.inc"
end_include

begin_decl_stmt
name|namespace
name|llvm
block|{
comment|// Enums corresponding to ARM condition codes
name|namespace
name|ARMCC
block|{
comment|// The CondCodes constants map directly to the 4-bit encoding of the
comment|// condition field for predicated instructions.
enum|enum
name|CondCodes
block|{
comment|// Meaning (integer)          Meaning (floating-point)
name|EQ
block|,
comment|// Equal                      Equal
name|NE
block|,
comment|// Not equal                  Not equal, or unordered
name|HS
block|,
comment|// Carry set>, ==, or unordered
name|LO
block|,
comment|// Carry clear                Less than
name|MI
block|,
comment|// Minus, negative            Less than
name|PL
block|,
comment|// Plus, positive or zero>, ==, or unordered
name|VS
block|,
comment|// Overflow                   Unordered
name|VC
block|,
comment|// No overflow                Not unordered
name|HI
block|,
comment|// Unsigned higher            Greater than, or unordered
name|LS
block|,
comment|// Unsigned lower or same     Less than or equal
name|GE
block|,
comment|// Greater than or equal      Greater than or equal
name|LT
block|,
comment|// Less than                  Less than, or unordered
name|GT
block|,
comment|// Greater than               Greater than
name|LE
block|,
comment|// Less than or equal<, ==, or unordered
name|AL
comment|// Always (unconditional)     Always (unconditional)
block|}
enum|;
specifier|inline
specifier|static
name|CondCodes
name|getOppositeCondition
parameter_list|(
name|CondCodes
name|CC
parameter_list|)
block|{
switch|switch
condition|(
name|CC
condition|)
block|{
default|default:
name|llvm_unreachable
argument_list|(
literal|"Unknown condition code"
argument_list|)
expr_stmt|;
case|case
name|EQ
case|:
return|return
name|NE
return|;
case|case
name|NE
case|:
return|return
name|EQ
return|;
case|case
name|HS
case|:
return|return
name|LO
return|;
case|case
name|LO
case|:
return|return
name|HS
return|;
case|case
name|MI
case|:
return|return
name|PL
return|;
case|case
name|PL
case|:
return|return
name|MI
return|;
case|case
name|VS
case|:
return|return
name|VC
return|;
case|case
name|VC
case|:
return|return
name|VS
return|;
case|case
name|HI
case|:
return|return
name|LS
return|;
case|case
name|LS
case|:
return|return
name|HI
return|;
case|case
name|GE
case|:
return|return
name|LT
return|;
case|case
name|LT
case|:
return|return
name|GE
return|;
case|case
name|GT
case|:
return|return
name|LE
return|;
case|case
name|LE
case|:
return|return
name|GT
return|;
block|}
block|}
block|}
comment|// namespace ARMCC
specifier|inline
specifier|static
specifier|const
name|char
modifier|*
name|ARMCondCodeToString
argument_list|(
name|ARMCC
operator|::
name|CondCodes
name|CC
argument_list|)
block|{
switch|switch
condition|(
name|CC
condition|)
block|{
default|default:
name|llvm_unreachable
argument_list|(
literal|"Unknown condition code"
argument_list|)
expr_stmt|;
case|case
name|ARMCC
operator|::
name|EQ
case|:
return|return
literal|"eq"
return|;
case|case
name|ARMCC
operator|::
name|NE
case|:
return|return
literal|"ne"
return|;
case|case
name|ARMCC
operator|::
name|HS
case|:
return|return
literal|"hs"
return|;
case|case
name|ARMCC
operator|::
name|LO
case|:
return|return
literal|"lo"
return|;
case|case
name|ARMCC
operator|::
name|MI
case|:
return|return
literal|"mi"
return|;
case|case
name|ARMCC
operator|::
name|PL
case|:
return|return
literal|"pl"
return|;
case|case
name|ARMCC
operator|::
name|VS
case|:
return|return
literal|"vs"
return|;
case|case
name|ARMCC
operator|::
name|VC
case|:
return|return
literal|"vc"
return|;
case|case
name|ARMCC
operator|::
name|HI
case|:
return|return
literal|"hi"
return|;
case|case
name|ARMCC
operator|::
name|LS
case|:
return|return
literal|"ls"
return|;
case|case
name|ARMCC
operator|::
name|GE
case|:
return|return
literal|"ge"
return|;
case|case
name|ARMCC
operator|::
name|LT
case|:
return|return
literal|"lt"
return|;
case|case
name|ARMCC
operator|::
name|GT
case|:
return|return
literal|"gt"
return|;
case|case
name|ARMCC
operator|::
name|LE
case|:
return|return
literal|"le"
return|;
case|case
name|ARMCC
operator|::
name|AL
case|:
return|return
literal|"al"
return|;
block|}
block|}
name|namespace
name|ARM_PROC
block|{
enum|enum
name|IMod
block|{
name|IE
init|=
literal|2
block|,
name|ID
init|=
literal|3
block|}
enum|;
enum|enum
name|IFlags
block|{
name|F
init|=
literal|1
block|,
name|I
init|=
literal|2
block|,
name|A
init|=
literal|4
block|}
enum|;
specifier|inline
specifier|static
specifier|const
name|char
modifier|*
name|IFlagsToString
parameter_list|(
name|unsigned
name|val
parameter_list|)
block|{
switch|switch
condition|(
name|val
condition|)
block|{
default|default:
name|llvm_unreachable
argument_list|(
literal|"Unknown iflags operand"
argument_list|)
expr_stmt|;
case|case
name|F
case|:
return|return
literal|"f"
return|;
case|case
name|I
case|:
return|return
literal|"i"
return|;
case|case
name|A
case|:
return|return
literal|"a"
return|;
block|}
block|}
specifier|inline
specifier|static
specifier|const
name|char
modifier|*
name|IModToString
parameter_list|(
name|unsigned
name|val
parameter_list|)
block|{
switch|switch
condition|(
name|val
condition|)
block|{
default|default:
name|llvm_unreachable
argument_list|(
literal|"Unknown imod operand"
argument_list|)
expr_stmt|;
case|case
name|IE
case|:
return|return
literal|"ie"
return|;
case|case
name|ID
case|:
return|return
literal|"id"
return|;
block|}
block|}
block|}
name|namespace
name|ARM_MB
block|{
comment|// The Memory Barrier Option constants map directly to the 4-bit encoding of
comment|// the option field for memory barrier operations.
enum|enum
name|MemBOpt
block|{
name|SY
init|=
literal|15
block|,
name|ST
init|=
literal|14
block|,
name|ISH
init|=
literal|11
block|,
name|ISHST
init|=
literal|10
block|,
name|NSH
init|=
literal|7
block|,
name|NSHST
init|=
literal|6
block|,
name|OSH
init|=
literal|3
block|,
name|OSHST
init|=
literal|2
block|}
enum|;
specifier|inline
specifier|static
specifier|const
name|char
modifier|*
name|MemBOptToString
parameter_list|(
name|unsigned
name|val
parameter_list|)
block|{
switch|switch
condition|(
name|val
condition|)
block|{
default|default:
name|llvm_unreachable
argument_list|(
literal|"Unknown memory operation"
argument_list|)
expr_stmt|;
case|case
name|SY
case|:
return|return
literal|"sy"
return|;
case|case
name|ST
case|:
return|return
literal|"st"
return|;
case|case
name|ISH
case|:
return|return
literal|"ish"
return|;
case|case
name|ISHST
case|:
return|return
literal|"ishst"
return|;
case|case
name|NSH
case|:
return|return
literal|"nsh"
return|;
case|case
name|NSHST
case|:
return|return
literal|"nshst"
return|;
case|case
name|OSH
case|:
return|return
literal|"osh"
return|;
case|case
name|OSHST
case|:
return|return
literal|"oshst"
return|;
block|}
block|}
block|}
comment|// namespace ARM_MB
comment|/// getARMRegisterNumbering - Given the enum value for some register, e.g.
comment|/// ARM::LR, return the number that it corresponds to (e.g. 14).
specifier|inline
specifier|static
name|unsigned
name|getARMRegisterNumbering
parameter_list|(
name|unsigned
name|Reg
parameter_list|)
block|{
name|using
name|namespace
name|ARM
decl_stmt|;
switch|switch
condition|(
name|Reg
condition|)
block|{
default|default:
name|llvm_unreachable
argument_list|(
literal|"Unknown ARM register!"
argument_list|)
expr_stmt|;
case|case
name|R0
case|:
case|case
name|S0
case|:
case|case
name|D0
case|:
case|case
name|Q0
case|:
return|return
literal|0
return|;
case|case
name|R1
case|:
case|case
name|S1
case|:
case|case
name|D1
case|:
case|case
name|Q1
case|:
return|return
literal|1
return|;
case|case
name|R2
case|:
case|case
name|S2
case|:
case|case
name|D2
case|:
case|case
name|Q2
case|:
return|return
literal|2
return|;
case|case
name|R3
case|:
case|case
name|S3
case|:
case|case
name|D3
case|:
case|case
name|Q3
case|:
return|return
literal|3
return|;
case|case
name|R4
case|:
case|case
name|S4
case|:
case|case
name|D4
case|:
case|case
name|Q4
case|:
return|return
literal|4
return|;
case|case
name|R5
case|:
case|case
name|S5
case|:
case|case
name|D5
case|:
case|case
name|Q5
case|:
return|return
literal|5
return|;
case|case
name|R6
case|:
case|case
name|S6
case|:
case|case
name|D6
case|:
case|case
name|Q6
case|:
return|return
literal|6
return|;
case|case
name|R7
case|:
case|case
name|S7
case|:
case|case
name|D7
case|:
case|case
name|Q7
case|:
return|return
literal|7
return|;
case|case
name|R8
case|:
case|case
name|S8
case|:
case|case
name|D8
case|:
case|case
name|Q8
case|:
return|return
literal|8
return|;
case|case
name|R9
case|:
case|case
name|S9
case|:
case|case
name|D9
case|:
case|case
name|Q9
case|:
return|return
literal|9
return|;
case|case
name|R10
case|:
case|case
name|S10
case|:
case|case
name|D10
case|:
case|case
name|Q10
case|:
return|return
literal|10
return|;
case|case
name|R11
case|:
case|case
name|S11
case|:
case|case
name|D11
case|:
case|case
name|Q11
case|:
return|return
literal|11
return|;
case|case
name|R12
case|:
case|case
name|S12
case|:
case|case
name|D12
case|:
case|case
name|Q12
case|:
return|return
literal|12
return|;
case|case
name|SP
case|:
case|case
name|S13
case|:
case|case
name|D13
case|:
case|case
name|Q13
case|:
return|return
literal|13
return|;
case|case
name|LR
case|:
case|case
name|S14
case|:
case|case
name|D14
case|:
case|case
name|Q14
case|:
return|return
literal|14
return|;
case|case
name|PC
case|:
case|case
name|S15
case|:
case|case
name|D15
case|:
case|case
name|Q15
case|:
return|return
literal|15
return|;
case|case
name|S16
case|:
case|case
name|D16
case|:
return|return
literal|16
return|;
case|case
name|S17
case|:
case|case
name|D17
case|:
return|return
literal|17
return|;
case|case
name|S18
case|:
case|case
name|D18
case|:
return|return
literal|18
return|;
case|case
name|S19
case|:
case|case
name|D19
case|:
return|return
literal|19
return|;
case|case
name|S20
case|:
case|case
name|D20
case|:
return|return
literal|20
return|;
case|case
name|S21
case|:
case|case
name|D21
case|:
return|return
literal|21
return|;
case|case
name|S22
case|:
case|case
name|D22
case|:
return|return
literal|22
return|;
case|case
name|S23
case|:
case|case
name|D23
case|:
return|return
literal|23
return|;
case|case
name|S24
case|:
case|case
name|D24
case|:
return|return
literal|24
return|;
case|case
name|S25
case|:
case|case
name|D25
case|:
return|return
literal|25
return|;
case|case
name|S26
case|:
case|case
name|D26
case|:
return|return
literal|26
return|;
case|case
name|S27
case|:
case|case
name|D27
case|:
return|return
literal|27
return|;
case|case
name|S28
case|:
case|case
name|D28
case|:
return|return
literal|28
return|;
case|case
name|S29
case|:
case|case
name|D29
case|:
return|return
literal|29
return|;
case|case
name|S30
case|:
case|case
name|D30
case|:
return|return
literal|30
return|;
case|case
name|S31
case|:
case|case
name|D31
case|:
return|return
literal|31
return|;
block|}
block|}
name|namespace
name|ARMII
block|{
comment|/// Target Operand Flag enum.
enum|enum
name|TOF
block|{
comment|//===------------------------------------------------------------------===//
comment|// ARM Specific MachineOperand flags.
name|MO_NO_FLAG
block|,
comment|/// MO_LO16 - On a symbol operand, this represents a relocation containing
comment|/// lower 16 bit of the address. Used only via movw instruction.
name|MO_LO16
block|,
comment|/// MO_HI16 - On a symbol operand, this represents a relocation containing
comment|/// higher 16 bit of the address. Used only via movt instruction.
name|MO_HI16
block|,
comment|/// MO_LO16_NONLAZY - On a symbol operand "FOO", this represents a
comment|/// relocation containing lower 16 bit of the non-lazy-ptr indirect symbol,
comment|/// i.e. "FOO$non_lazy_ptr".
comment|/// Used only via movw instruction.
name|MO_LO16_NONLAZY
block|,
comment|/// MO_HI16_NONLAZY - On a symbol operand "FOO", this represents a
comment|/// relocation containing lower 16 bit of the non-lazy-ptr indirect symbol,
comment|/// i.e. "FOO$non_lazy_ptr". Used only via movt instruction.
name|MO_HI16_NONLAZY
block|,
comment|/// MO_LO16_NONLAZY_PIC - On a symbol operand "FOO", this represents a
comment|/// relocation containing lower 16 bit of the PC relative address of the
comment|/// non-lazy-ptr indirect symbol, i.e. "FOO$non_lazy_ptr - LABEL".
comment|/// Used only via movw instruction.
name|MO_LO16_NONLAZY_PIC
block|,
comment|/// MO_HI16_NONLAZY_PIC - On a symbol operand "FOO", this represents a
comment|/// relocation containing lower 16 bit of the PC relative address of the
comment|/// non-lazy-ptr indirect symbol, i.e. "FOO$non_lazy_ptr - LABEL".
comment|/// Used only via movt instruction.
name|MO_HI16_NONLAZY_PIC
block|,
comment|/// MO_PLT - On a symbol operand, this represents an ELF PLT reference on a
comment|/// call operand.
name|MO_PLT
block|}
enum|;
block|}
comment|// end namespace ARMII
block|}
end_decl_stmt

begin_comment
comment|// end namespace llvm;
end_comment

begin_endif
endif|#
directive|endif
end_endif

end_unit

