begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*-  * Copyright (c) 2016 John H. Baldwin<jhb@FreeBSD.org>  * All rights reserved.  *  * Redistribution and use in source and binary forms, with or without  * modification, are permitted provided that the following conditions  * are met:  * 1. Redistributions of source code must retain the above copyright  *    notice, this list of conditions and the following disclaimer.  * 2. Redistributions in binary form must reproduce the above copyright  *    notice, this list of conditions and the following disclaimer in the  *    documentation and/or other materials provided with the distribution.  *  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND  * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE  * ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE  * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS  * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)  * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT  * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY  * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF  * SUCH DAMAGE.  */
end_comment

begin_include
include|#
directive|include
file|<sys/cdefs.h>
end_include

begin_expr_stmt
name|__FBSDID
argument_list|(
literal|"$FreeBSD$"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_include
include|#
directive|include
file|<sys/param.h>
end_include

begin_include
include|#
directive|include
file|<signal.h>
end_include

begin_include
include|#
directive|include
file|<stdbool.h>
end_include

begin_include
include|#
directive|include
file|<stdio.h>
end_include

begin_include
include|#
directive|include
file|<sysdecode.h>
end_include

begin_decl_stmt
specifier|static
specifier|const
name|char
modifier|*
name|signames
index|[]
init|=
block|{
index|[
name|SIGHUP
index|]
operator|=
literal|"SIGHUP"
block|,
index|[
name|SIGINT
index|]
operator|=
literal|"SIGINT"
block|,
index|[
name|SIGQUIT
index|]
operator|=
literal|"SIGQUIT"
block|,
index|[
name|SIGILL
index|]
operator|=
literal|"SIGILL"
block|,
index|[
name|SIGTRAP
index|]
operator|=
literal|"SIGTRAP"
block|,
index|[
name|SIGABRT
index|]
operator|=
literal|"SIGABRT"
block|,
index|[
name|SIGEMT
index|]
operator|=
literal|"SIGEMT"
block|,
index|[
name|SIGFPE
index|]
operator|=
literal|"SIGFPE"
block|,
index|[
name|SIGKILL
index|]
operator|=
literal|"SIGKILL"
block|,
index|[
name|SIGBUS
index|]
operator|=
literal|"SIGBUS"
block|,
index|[
name|SIGSEGV
index|]
operator|=
literal|"SIGSEGV"
block|,
index|[
name|SIGSYS
index|]
operator|=
literal|"SIGSYS"
block|,
index|[
name|SIGPIPE
index|]
operator|=
literal|"SIGPIPE"
block|,
index|[
name|SIGALRM
index|]
operator|=
literal|"SIGALRM"
block|,
index|[
name|SIGTERM
index|]
operator|=
literal|"SIGTERM"
block|,
index|[
name|SIGURG
index|]
operator|=
literal|"SIGURG"
block|,
index|[
name|SIGSTOP
index|]
operator|=
literal|"SIGSTOP"
block|,
index|[
name|SIGTSTP
index|]
operator|=
literal|"SIGTSTP"
block|,
index|[
name|SIGCONT
index|]
operator|=
literal|"SIGCONT"
block|,
index|[
name|SIGCHLD
index|]
operator|=
literal|"SIGCHLD"
block|,
index|[
name|SIGTTIN
index|]
operator|=
literal|"SIGTTIN"
block|,
index|[
name|SIGTTOU
index|]
operator|=
literal|"SIGTTOU"
block|,
index|[
name|SIGIO
index|]
operator|=
literal|"SIGIO"
block|,
index|[
name|SIGXCPU
index|]
operator|=
literal|"SIGXCPU"
block|,
index|[
name|SIGXFSZ
index|]
operator|=
literal|"SIGXFSZ"
block|,
index|[
name|SIGVTALRM
index|]
operator|=
literal|"SIGVTALRM"
block|,
index|[
name|SIGPROF
index|]
operator|=
literal|"SIGPROF"
block|,
index|[
name|SIGWINCH
index|]
operator|=
literal|"SIGWINCH"
block|,
index|[
name|SIGINFO
index|]
operator|=
literal|"SIGINFO"
block|,
index|[
name|SIGUSR1
index|]
operator|=
literal|"SIGUSR1"
block|,
index|[
name|SIGUSR2
index|]
operator|=
literal|"SIGUSR2"
block|,
index|[
name|SIGTHR
index|]
operator|=
literal|"SIGTHR"
block|,
index|[
name|SIGLIBRT
index|]
operator|=
literal|"SIGLIBRT"
block|,
comment|/* XXX: Solaris uses SIGRTMIN, SIGRTMIN+<x>...SIGRTMAX-<x>, SIGRTMAX */
index|[
name|SIGRTMIN
index|]
operator|=
literal|"SIGRT0"
block|,
index|[
name|SIGRTMIN
operator|+
literal|1
index|]
operator|=
literal|"SIGRT1"
block|,
index|[
name|SIGRTMIN
operator|+
literal|2
index|]
operator|=
literal|"SIGRT2"
block|,
index|[
name|SIGRTMIN
operator|+
literal|3
index|]
operator|=
literal|"SIGRT3"
block|,
index|[
name|SIGRTMIN
operator|+
literal|4
index|]
operator|=
literal|"SIGRT4"
block|,
index|[
name|SIGRTMIN
operator|+
literal|5
index|]
operator|=
literal|"SIGRT5"
block|,
index|[
name|SIGRTMIN
operator|+
literal|6
index|]
operator|=
literal|"SIGRT6"
block|,
index|[
name|SIGRTMIN
operator|+
literal|7
index|]
operator|=
literal|"SIGRT7"
block|,
index|[
name|SIGRTMIN
operator|+
literal|8
index|]
operator|=
literal|"SIGRT8"
block|,
index|[
name|SIGRTMIN
operator|+
literal|9
index|]
operator|=
literal|"SIGRT9"
block|,
index|[
name|SIGRTMIN
operator|+
literal|10
index|]
operator|=
literal|"SIGRT10"
block|,
index|[
name|SIGRTMIN
operator|+
literal|11
index|]
operator|=
literal|"SIGRT11"
block|,
index|[
name|SIGRTMIN
operator|+
literal|12
index|]
operator|=
literal|"SIGRT12"
block|,
index|[
name|SIGRTMIN
operator|+
literal|13
index|]
operator|=
literal|"SIGRT13"
block|,
index|[
name|SIGRTMIN
operator|+
literal|14
index|]
operator|=
literal|"SIGRT14"
block|,
index|[
name|SIGRTMIN
operator|+
literal|15
index|]
operator|=
literal|"SIGRT15"
block|,
index|[
name|SIGRTMIN
operator|+
literal|16
index|]
operator|=
literal|"SIGRT16"
block|,
index|[
name|SIGRTMIN
operator|+
literal|17
index|]
operator|=
literal|"SIGRT17"
block|,
index|[
name|SIGRTMIN
operator|+
literal|18
index|]
operator|=
literal|"SIGRT18"
block|,
index|[
name|SIGRTMIN
operator|+
literal|19
index|]
operator|=
literal|"SIGRT19"
block|,
index|[
name|SIGRTMIN
operator|+
literal|20
index|]
operator|=
literal|"SIGRT20"
block|,
index|[
name|SIGRTMIN
operator|+
literal|21
index|]
operator|=
literal|"SIGRT21"
block|,
index|[
name|SIGRTMIN
operator|+
literal|22
index|]
operator|=
literal|"SIGRT22"
block|,
index|[
name|SIGRTMIN
operator|+
literal|23
index|]
operator|=
literal|"SIGRT23"
block|,
index|[
name|SIGRTMIN
operator|+
literal|24
index|]
operator|=
literal|"SIGRT24"
block|,
index|[
name|SIGRTMIN
operator|+
literal|25
index|]
operator|=
literal|"SIGRT25"
block|,
index|[
name|SIGRTMIN
operator|+
literal|26
index|]
operator|=
literal|"SIGRT26"
block|,
index|[
name|SIGRTMIN
operator|+
literal|27
index|]
operator|=
literal|"SIGRT27"
block|,
index|[
name|SIGRTMIN
operator|+
literal|28
index|]
operator|=
literal|"SIGRT28"
block|,
index|[
name|SIGRTMIN
operator|+
literal|29
index|]
operator|=
literal|"SIGRT29"
block|,
index|[
name|SIGRTMIN
operator|+
literal|30
index|]
operator|=
literal|"SIGRT30"
block|,
index|[
name|SIGRTMIN
operator|+
literal|31
index|]
operator|=
literal|"SIGRT31"
block|,
index|[
name|SIGRTMIN
operator|+
literal|32
index|]
operator|=
literal|"SIGRT32"
block|,
index|[
name|SIGRTMIN
operator|+
literal|33
index|]
operator|=
literal|"SIGRT33"
block|,
index|[
name|SIGRTMIN
operator|+
literal|34
index|]
operator|=
literal|"SIGRT34"
block|,
index|[
name|SIGRTMIN
operator|+
literal|35
index|]
operator|=
literal|"SIGRT35"
block|,
index|[
name|SIGRTMIN
operator|+
literal|36
index|]
operator|=
literal|"SIGRT36"
block|,
index|[
name|SIGRTMIN
operator|+
literal|37
index|]
operator|=
literal|"SIGRT37"
block|,
index|[
name|SIGRTMIN
operator|+
literal|38
index|]
operator|=
literal|"SIGRT38"
block|,
index|[
name|SIGRTMIN
operator|+
literal|39
index|]
operator|=
literal|"SIGRT39"
block|,
index|[
name|SIGRTMIN
operator|+
literal|40
index|]
operator|=
literal|"SIGRT40"
block|,
index|[
name|SIGRTMIN
operator|+
literal|41
index|]
operator|=
literal|"SIGRT41"
block|,
index|[
name|SIGRTMIN
operator|+
literal|42
index|]
operator|=
literal|"SIGRT42"
block|,
index|[
name|SIGRTMIN
operator|+
literal|43
index|]
operator|=
literal|"SIGRT43"
block|,
index|[
name|SIGRTMIN
operator|+
literal|44
index|]
operator|=
literal|"SIGRT44"
block|,
index|[
name|SIGRTMIN
operator|+
literal|45
index|]
operator|=
literal|"SIGRT45"
block|,
index|[
name|SIGRTMIN
operator|+
literal|46
index|]
operator|=
literal|"SIGRT46"
block|,
index|[
name|SIGRTMIN
operator|+
literal|47
index|]
operator|=
literal|"SIGRT47"
block|,
index|[
name|SIGRTMIN
operator|+
literal|48
index|]
operator|=
literal|"SIGRT48"
block|,
index|[
name|SIGRTMIN
operator|+
literal|49
index|]
operator|=
literal|"SIGRT49"
block|,
index|[
name|SIGRTMIN
operator|+
literal|50
index|]
operator|=
literal|"SIGRT50"
block|,
index|[
name|SIGRTMIN
operator|+
literal|51
index|]
operator|=
literal|"SIGRT51"
block|,
index|[
name|SIGRTMIN
operator|+
literal|52
index|]
operator|=
literal|"SIGRT52"
block|,
index|[
name|SIGRTMIN
operator|+
literal|53
index|]
operator|=
literal|"SIGRT53"
block|,
index|[
name|SIGRTMIN
operator|+
literal|54
index|]
operator|=
literal|"SIGRT54"
block|,
index|[
name|SIGRTMIN
operator|+
literal|55
index|]
operator|=
literal|"SIGRT55"
block|,
index|[
name|SIGRTMIN
operator|+
literal|56
index|]
operator|=
literal|"SIGRT56"
block|,
index|[
name|SIGRTMIN
operator|+
literal|57
index|]
operator|=
literal|"SIGRT57"
block|,
index|[
name|SIGRTMIN
operator|+
literal|58
index|]
operator|=
literal|"SIGRT58"
block|,
index|[
name|SIGRTMIN
operator|+
literal|59
index|]
operator|=
literal|"SIGRT59"
block|,
index|[
name|SIGRTMIN
operator|+
literal|60
index|]
operator|=
literal|"SIGRT60"
block|,
index|[
name|SIGRTMIN
operator|+
literal|61
index|]
operator|=
literal|"SIGRT61"
block|, }
decl_stmt|;
end_decl_stmt

begin_function
specifier|const
name|char
modifier|*
name|sysdecode_signal
parameter_list|(
name|int
name|sig
parameter_list|)
block|{
if|if
condition|(
operator|(
name|unsigned
operator|)
name|sig
operator|<
name|nitems
argument_list|(
name|signames
argument_list|)
condition|)
return|return
operator|(
name|signames
index|[
name|sig
index|]
operator|)
return|;
return|return
operator|(
name|NULL
operator|)
return|;
block|}
end_function

end_unit

