begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_ifndef
ifndef|#
directive|ifndef
name|lint
end_ifndef

begin_decl_stmt
specifier|static
name|char
name|sccsid
index|[]
init|=
literal|"@(#)token.c	4.2 %G%"
decl_stmt|;
end_decl_stmt

begin_endif
endif|#
directive|endif
end_endif

begin_include
include|#
directive|include
file|"awk.h"
end_include

begin_struct
struct|struct
name|tok
block|{
name|char
modifier|*
name|tnm
decl_stmt|;
name|int
name|yval
decl_stmt|;
block|}
name|tok
index|[]
init|=
block|{
literal|"FIRSTTOKEN"
block|,
literal|257
block|,
literal|"FINAL"
block|,
literal|258
block|,
literal|"FATAL"
block|,
literal|259
block|,
literal|"LT"
block|,
literal|260
block|,
literal|"LE"
block|,
literal|261
block|,
literal|"GT"
block|,
literal|262
block|,
literal|"GE"
block|,
literal|263
block|,
literal|"EQ"
block|,
literal|264
block|,
literal|"NE"
block|,
literal|265
block|,
literal|"MATCH"
block|,
literal|266
block|,
literal|"NOTMATCH"
block|,
literal|267
block|,
literal|"APPEND"
block|,
literal|268
block|,
literal|"ADD"
block|,
literal|269
block|,
literal|"MINUS"
block|,
literal|270
block|,
literal|"MULT"
block|,
literal|271
block|,
literal|"DIVIDE"
block|,
literal|272
block|,
literal|"MOD"
block|,
literal|273
block|,
literal|"UMINUS"
block|,
literal|274
block|,
literal|"ASSIGN"
block|,
literal|275
block|,
literal|"ADDEQ"
block|,
literal|276
block|,
literal|"SUBEQ"
block|,
literal|277
block|,
literal|"MULTEQ"
block|,
literal|278
block|,
literal|"DIVEQ"
block|,
literal|279
block|,
literal|"MODEQ"
block|,
literal|280
block|,
literal|"JUMP"
block|,
literal|281
block|,
literal|"XBEGIN"
block|,
literal|282
block|,
literal|"XEND"
block|,
literal|283
block|,
literal|"NL"
block|,
literal|284
block|,
literal|"PRINT"
block|,
literal|285
block|,
literal|"PRINTF"
block|,
literal|286
block|,
literal|"SPRINTF"
block|,
literal|287
block|,
literal|"SPLIT"
block|,
literal|288
block|,
literal|"IF"
block|,
literal|289
block|,
literal|"ELSE"
block|,
literal|290
block|,
literal|"WHILE"
block|,
literal|291
block|,
literal|"FOR"
block|,
literal|292
block|,
literal|"IN"
block|,
literal|293
block|,
literal|"NEXT"
block|,
literal|294
block|,
literal|"EXIT"
block|,
literal|295
block|,
literal|"BREAK"
block|,
literal|296
block|,
literal|"CONTINUE"
block|,
literal|297
block|,
literal|"PROGRAM"
block|,
literal|298
block|,
literal|"PASTAT"
block|,
literal|299
block|,
literal|"PASTAT2"
block|,
literal|300
block|,
literal|"ASGNOP"
block|,
literal|301
block|,
literal|"BOR"
block|,
literal|302
block|,
literal|"AND"
block|,
literal|303
block|,
literal|"NOT"
block|,
literal|304
block|,
literal|"NUMBER"
block|,
literal|305
block|,
literal|"VAR"
block|,
literal|306
block|,
literal|"ARRAY"
block|,
literal|307
block|,
literal|"FNCN"
block|,
literal|308
block|,
literal|"SUBSTR"
block|,
literal|309
block|,
literal|"LSUBSTR"
block|,
literal|310
block|,
literal|"INDEX"
block|,
literal|311
block|,
literal|"GETLINE"
block|,
literal|312
block|,
literal|"RELOP"
block|,
literal|313
block|,
literal|"MATCHOP"
block|,
literal|314
block|,
literal|"OR"
block|,
literal|315
block|,
literal|"STRING"
block|,
literal|316
block|,
literal|"DOT"
block|,
literal|317
block|,
literal|"CCL"
block|,
literal|318
block|,
literal|"NCCL"
block|,
literal|319
block|,
literal|"CHAR"
block|,
literal|320
block|,
literal|"CAT"
block|,
literal|321
block|,
literal|"STAR"
block|,
literal|322
block|,
literal|"PLUS"
block|,
literal|323
block|,
literal|"QUEST"
block|,
literal|324
block|,
literal|"POSTINCR"
block|,
literal|325
block|,
literal|"PREINCR"
block|,
literal|326
block|,
literal|"POSTDECR"
block|,
literal|327
block|,
literal|"PREDECR"
block|,
literal|328
block|,
literal|"INCR"
block|,
literal|329
block|,
literal|"DECR"
block|,
literal|330
block|,
literal|"FIELD"
block|,
literal|331
block|,
literal|"INDIRECT"
block|,
literal|332
block|,
literal|"LASTTOKEN"
block|,
literal|333
block|, }
struct|;
end_struct

begin_macro
name|ptoken
argument_list|(
argument|n
argument_list|)
end_macro

begin_block
block|{
if|if
condition|(
name|n
operator|<
literal|128
condition|)
name|printf
argument_list|(
literal|"lex: %c\n"
argument_list|,
name|n
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
name|n
operator|<=
literal|256
condition|)
name|printf
argument_list|(
literal|"lex:? %o\n"
argument_list|,
name|n
argument_list|)
expr_stmt|;
elseif|else
if|if
condition|(
name|n
operator|<
name|LASTTOKEN
condition|)
name|printf
argument_list|(
literal|"lex: %s\n"
argument_list|,
name|tok
index|[
name|n
operator|-
literal|257
index|]
operator|.
name|tnm
argument_list|)
expr_stmt|;
else|else
name|printf
argument_list|(
literal|"lex:? %o\n"
argument_list|,
name|n
argument_list|)
expr_stmt|;
return|return;
block|}
end_block

begin_function
name|char
modifier|*
name|tokname
parameter_list|(
name|n
parameter_list|)
block|{
if|if
condition|(
name|n
operator|<=
literal|256
operator|||
name|n
operator|>=
name|LASTTOKEN
condition|)
name|n
operator|=
literal|257
expr_stmt|;
return|return
operator|(
name|tok
index|[
name|n
operator|-
literal|257
index|]
operator|.
name|tnm
operator|)
return|;
block|}
end_function

end_unit

