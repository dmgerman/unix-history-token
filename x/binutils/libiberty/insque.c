begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* insque(3C) routines    This file is in the public domain.  */
end_comment

begin_comment
comment|/*  @deftypefn Supplemental void insque (struct qelem *@var{elem}, struct qelem *@var{pred}) @deftypefnx Supplemental void remque (struct qelem *@var{elem})  Routines to manipulate queues built from doubly linked lists.  The @code{insque} routine inserts @var{elem} in the queue immediately after @var{pred}.  The @code{remque} routine removes @var{elem} from its containing queue.  These routines expect to be passed pointers to structures which have as their first members a forward pointer and a back pointer, like this prototype (although no prototype is provided):  @example struct qelem @{   struct qelem *q_forw;   struct qelem *q_back;   char q_data[]; @}; @end example  @end deftypefn  */
end_comment

begin_struct
struct|struct
name|qelem
block|{
name|struct
name|qelem
modifier|*
name|q_forw
decl_stmt|;
name|struct
name|qelem
modifier|*
name|q_back
decl_stmt|;
block|}
struct|;
end_struct

begin_function
name|void
name|insque
parameter_list|(
name|elem
parameter_list|,
name|pred
parameter_list|)
name|struct
name|qelem
modifier|*
name|elem
decl_stmt|;
name|struct
name|qelem
modifier|*
name|pred
decl_stmt|;
block|{
name|elem
operator|->
name|q_forw
operator|=
name|pred
operator|->
name|q_forw
expr_stmt|;
name|pred
operator|->
name|q_forw
operator|->
name|q_back
operator|=
name|elem
expr_stmt|;
name|elem
operator|->
name|q_back
operator|=
name|pred
expr_stmt|;
name|pred
operator|->
name|q_forw
operator|=
name|elem
expr_stmt|;
block|}
end_function

begin_function
name|void
name|remque
parameter_list|(
name|elem
parameter_list|)
name|struct
name|qelem
modifier|*
name|elem
decl_stmt|;
block|{
name|elem
operator|->
name|q_forw
operator|->
name|q_back
operator|=
name|elem
operator|->
name|q_back
expr_stmt|;
name|elem
operator|->
name|q_back
operator|->
name|q_forw
operator|=
name|elem
operator|->
name|q_forw
expr_stmt|;
block|}
end_function

end_unit

