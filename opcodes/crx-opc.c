begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* crx-opc.c -- Table of opcodes for the CRX processor.    Copyright 2004 Free Software Foundation, Inc.    Contributed by Tomer Levi NSC, Israel.    Originally written for GAS 2.12 by Tomer Levi.     This file is part of GAS, GDB and the GNU binutils.     GAS, GDB, and GNU binutils is free software; you can redistribute it    and/or modify it under the terms of the GNU General Public License as    published by the Free Software Foundation; either version 2, or (at your    option) any later version.     GAS, GDB, and GNU binutils are distributed in the hope that they will be    useful, but WITHOUT ANY WARRANTY; without even the implied warranty of    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the    GNU General Public License for more details.     You should have received a copy of the GNU General Public License    along with this program; if not, write to the Free Software    Foundation, Inc., 51 Franklin Street - Fifth Floor, Boston, MA 02110-1301, USA.  */
end_comment

begin_include
include|#
directive|include
file|<stdio.h>
end_include

begin_include
include|#
directive|include
file|"libiberty.h"
end_include

begin_include
include|#
directive|include
file|"symcat.h"
end_include

begin_include
include|#
directive|include
file|"opcode/crx.h"
end_include

begin_decl_stmt
specifier|const
name|inst
name|crx_instruction
index|[]
init|=
block|{
comment|/* Create an arithmetic instruction - INST[bw].  */
define|#
directive|define
name|ARITH_BYTE_INST
parameter_list|(
name|NAME
parameter_list|,
name|OPC
parameter_list|)
define|\
comment|/* opc8 cst4 r */
define|\
value|{NAME, 1, OPC,  24, ARITH_BYTE_INS | CST4MAP, {{cst4,20}, {regr,16}}},	\
comment|/* opc8 i16 r */
value|\   {NAME, 2, (OPC<<4)+0xE, 20, ARITH_BYTE_INS | CST4MAP, {{i16,0}, {regr,16}}},  \
comment|/* opc8 r r */
value|\   {NAME, 1, OPC+0x40, 24, ARITH_BYTE_INS, {{regr,20}, {regr,16}}}
name|ARITH_BYTE_INST
argument_list|(
literal|"addub"
argument_list|,
literal|0x0
argument_list|)
block|,
name|ARITH_BYTE_INST
argument_list|(
literal|"addb"
argument_list|,
literal|0x1
argument_list|)
block|,
name|ARITH_BYTE_INST
argument_list|(
literal|"addcb"
argument_list|,
literal|0x2
argument_list|)
block|,
name|ARITH_BYTE_INST
argument_list|(
literal|"andb"
argument_list|,
literal|0x3
argument_list|)
block|,
name|ARITH_BYTE_INST
argument_list|(
literal|"cmpb"
argument_list|,
literal|0x4
argument_list|)
block|,
name|ARITH_BYTE_INST
argument_list|(
literal|"movb"
argument_list|,
literal|0x5
argument_list|)
block|,
name|ARITH_BYTE_INST
argument_list|(
literal|"orb"
argument_list|,
literal|0x6
argument_list|)
block|,
name|ARITH_BYTE_INST
argument_list|(
literal|"subb"
argument_list|,
literal|0x7
argument_list|)
block|,
name|ARITH_BYTE_INST
argument_list|(
literal|"subcb"
argument_list|,
literal|0x8
argument_list|)
block|,
name|ARITH_BYTE_INST
argument_list|(
literal|"xorb"
argument_list|,
literal|0x9
argument_list|)
block|,
name|ARITH_BYTE_INST
argument_list|(
literal|"mulb"
argument_list|,
literal|0xA
argument_list|)
block|,
name|ARITH_BYTE_INST
argument_list|(
literal|"adduw"
argument_list|,
literal|0x10
argument_list|)
block|,
name|ARITH_BYTE_INST
argument_list|(
literal|"addw"
argument_list|,
literal|0x11
argument_list|)
block|,
name|ARITH_BYTE_INST
argument_list|(
literal|"addcw"
argument_list|,
literal|0x12
argument_list|)
block|,
name|ARITH_BYTE_INST
argument_list|(
literal|"andw"
argument_list|,
literal|0x13
argument_list|)
block|,
name|ARITH_BYTE_INST
argument_list|(
literal|"cmpw"
argument_list|,
literal|0x14
argument_list|)
block|,
name|ARITH_BYTE_INST
argument_list|(
literal|"movw"
argument_list|,
literal|0x15
argument_list|)
block|,
name|ARITH_BYTE_INST
argument_list|(
literal|"orw"
argument_list|,
literal|0x16
argument_list|)
block|,
name|ARITH_BYTE_INST
argument_list|(
literal|"subw"
argument_list|,
literal|0x17
argument_list|)
block|,
name|ARITH_BYTE_INST
argument_list|(
literal|"subcw"
argument_list|,
literal|0x18
argument_list|)
block|,
name|ARITH_BYTE_INST
argument_list|(
literal|"xorw"
argument_list|,
literal|0x19
argument_list|)
block|,
name|ARITH_BYTE_INST
argument_list|(
literal|"mulw"
argument_list|,
literal|0x1A
argument_list|)
block|,
comment|/* Create an arithmetic instruction - INST[d].  */
define|#
directive|define
name|ARITH_INST
parameter_list|(
name|NAME
parameter_list|,
name|OPC
parameter_list|)
define|\
comment|/* opc8 cst4 r */
define|\
value|{NAME, 1, OPC,  24, ARITH_INS | CST4MAP, {{cst4,20}, {regr,16}}},	    \
comment|/* opc8 i16 r */
value|\   {NAME, 2, (OPC<<4)+0xE, 20, ARITH_INS | CST4MAP, {{i16,0},  {regr,16}}},  \
comment|/* opc8 i32 r */
value|\   {NAME, 3, (OPC<<4)+0xF, 20, ARITH_INS, {{i32,0},  {regr,16}}},	    \
comment|/* opc8 r r */
value|\   {NAME, 1, OPC+0x40, 24, ARITH_INS, {{regr,20}, {regr,16}}}
name|ARITH_INST
argument_list|(
literal|"addud"
argument_list|,
literal|0x20
argument_list|)
block|,
name|ARITH_INST
argument_list|(
literal|"addd"
argument_list|,
literal|0x21
argument_list|)
block|,
name|ARITH_INST
argument_list|(
literal|"addcd"
argument_list|,
literal|0x22
argument_list|)
block|,
name|ARITH_INST
argument_list|(
literal|"andd"
argument_list|,
literal|0x23
argument_list|)
block|,
name|ARITH_INST
argument_list|(
literal|"cmpd"
argument_list|,
literal|0x24
argument_list|)
block|,
name|ARITH_INST
argument_list|(
literal|"movd"
argument_list|,
literal|0x25
argument_list|)
block|,
name|ARITH_INST
argument_list|(
literal|"ord"
argument_list|,
literal|0x26
argument_list|)
block|,
name|ARITH_INST
argument_list|(
literal|"subd"
argument_list|,
literal|0x27
argument_list|)
block|,
name|ARITH_INST
argument_list|(
literal|"subcd"
argument_list|,
literal|0x28
argument_list|)
block|,
name|ARITH_INST
argument_list|(
literal|"xord"
argument_list|,
literal|0x29
argument_list|)
block|,
name|ARITH_INST
argument_list|(
literal|"muld"
argument_list|,
literal|0x2A
argument_list|)
block|,
comment|/* Create a shift instruction.  */
define|#
directive|define
name|SHIFT_INST
parameter_list|(
name|NAME
parameter_list|,
name|OPRD
parameter_list|,
name|OPC1
parameter_list|,
name|SHIFT1
parameter_list|,
name|OPC2
parameter_list|)
define|\
comment|/* OPRD=ui3 -->> opc9 ui3 r */
define|\
comment|/* OPRD=ui4 -->> opc8 ui4 r */
define|\
comment|/* OPRD=ui5 -->> opc7 ui5 r */
define|\
value|{NAME, 1, OPC1, SHIFT1, SHIFT_INS, {{OPRD,20}, {regr,16}}}, \
comment|/* opc8 r r */
value|\   {NAME, 1, OPC2, 24, SHIFT_INS, {{regr,20}, {regr,16}}}
name|SHIFT_INST
argument_list|(
literal|"sllb"
argument_list|,
name|ui3
argument_list|,
literal|0x1F8
argument_list|,
literal|23
argument_list|,
literal|0x4D
argument_list|)
block|,
name|SHIFT_INST
argument_list|(
literal|"srlb"
argument_list|,
name|ui3
argument_list|,
literal|0x1F9
argument_list|,
literal|23
argument_list|,
literal|0x4E
argument_list|)
block|,
name|SHIFT_INST
argument_list|(
literal|"srab"
argument_list|,
name|ui3
argument_list|,
literal|0x1FA
argument_list|,
literal|23
argument_list|,
literal|0x4F
argument_list|)
block|,
name|SHIFT_INST
argument_list|(
literal|"sllw"
argument_list|,
name|ui4
argument_list|,
literal|0xB6
argument_list|,
literal|24
argument_list|,
literal|0x5D
argument_list|)
block|,
name|SHIFT_INST
argument_list|(
literal|"srlw"
argument_list|,
name|ui4
argument_list|,
literal|0xB7
argument_list|,
literal|24
argument_list|,
literal|0x5E
argument_list|)
block|,
name|SHIFT_INST
argument_list|(
literal|"sraw"
argument_list|,
name|ui4
argument_list|,
literal|0xB8
argument_list|,
literal|24
argument_list|,
literal|0x5F
argument_list|)
block|,
name|SHIFT_INST
argument_list|(
literal|"slld"
argument_list|,
name|ui5
argument_list|,
literal|0x78
argument_list|,
literal|25
argument_list|,
literal|0x6D
argument_list|)
block|,
name|SHIFT_INST
argument_list|(
literal|"srld"
argument_list|,
name|ui5
argument_list|,
literal|0x79
argument_list|,
literal|25
argument_list|,
literal|0x6E
argument_list|)
block|,
name|SHIFT_INST
argument_list|(
literal|"srad"
argument_list|,
name|ui5
argument_list|,
literal|0x7A
argument_list|,
literal|25
argument_list|,
literal|0x6F
argument_list|)
block|,
comment|/* Create a conditional branch instruction.  */
define|#
directive|define
name|BRANCH_INST
parameter_list|(
name|NAME
parameter_list|,
name|OPC
parameter_list|)
define|\
comment|/* opc4 c4 dispe9 */
define|\
value|{NAME,  1, OPC, 24, BRANCH_INS | RELAXABLE, {{dispe9,16}}},		\
comment|/* opc4 c4 disps17 */
value|\   {NAME,  2, (OPC<<8)+0x7E, 16,	BRANCH_INS | RELAXABLE, {{disps17,0}}}, \
comment|/* opc4 c4 disps32 */
value|\   {NAME,  3, (OPC<<8)+0x7F, 16,	BRANCH_INS | RELAXABLE, {{disps32,0}}}
name|BRANCH_INST
argument_list|(
literal|"beq"
argument_list|,
literal|0x70
argument_list|)
block|,
name|BRANCH_INST
argument_list|(
literal|"bne"
argument_list|,
literal|0x71
argument_list|)
block|,
name|BRANCH_INST
argument_list|(
literal|"bcs"
argument_list|,
literal|0x72
argument_list|)
block|,
name|BRANCH_INST
argument_list|(
literal|"bcc"
argument_list|,
literal|0x73
argument_list|)
block|,
name|BRANCH_INST
argument_list|(
literal|"bhi"
argument_list|,
literal|0x74
argument_list|)
block|,
name|BRANCH_INST
argument_list|(
literal|"bls"
argument_list|,
literal|0x75
argument_list|)
block|,
name|BRANCH_INST
argument_list|(
literal|"bgt"
argument_list|,
literal|0x76
argument_list|)
block|,
name|BRANCH_INST
argument_list|(
literal|"ble"
argument_list|,
literal|0x77
argument_list|)
block|,
name|BRANCH_INST
argument_list|(
literal|"bfs"
argument_list|,
literal|0x78
argument_list|)
block|,
name|BRANCH_INST
argument_list|(
literal|"bfc"
argument_list|,
literal|0x79
argument_list|)
block|,
name|BRANCH_INST
argument_list|(
literal|"blo"
argument_list|,
literal|0x7A
argument_list|)
block|,
name|BRANCH_INST
argument_list|(
literal|"bhs"
argument_list|,
literal|0x7B
argument_list|)
block|,
name|BRANCH_INST
argument_list|(
literal|"blt"
argument_list|,
literal|0x7C
argument_list|)
block|,
name|BRANCH_INST
argument_list|(
literal|"bge"
argument_list|,
literal|0x7D
argument_list|)
block|,
name|BRANCH_INST
argument_list|(
literal|"br"
argument_list|,
literal|0x7E
argument_list|)
block|,
comment|/* Create a 'Branch if Equal to 0' instruction.  */
define|#
directive|define
name|BRANCH_NEQ_INST
parameter_list|(
name|NAME
parameter_list|,
name|OPC
parameter_list|)
define|\
comment|/* opc8 dispu5 r */
define|\
value|{NAME,  1, OPC, 24, BRANCH_NEQ_INS, {{regr,16}, {dispu5,20}}}
name|BRANCH_NEQ_INST
argument_list|(
literal|"beq0b"
argument_list|,
literal|0xB0
argument_list|)
block|,
name|BRANCH_NEQ_INST
argument_list|(
literal|"bne0b"
argument_list|,
literal|0xB1
argument_list|)
block|,
name|BRANCH_NEQ_INST
argument_list|(
literal|"beq0w"
argument_list|,
literal|0xB2
argument_list|)
block|,
name|BRANCH_NEQ_INST
argument_list|(
literal|"bne0w"
argument_list|,
literal|0xB3
argument_list|)
block|,
name|BRANCH_NEQ_INST
argument_list|(
literal|"beq0d"
argument_list|,
literal|0xB4
argument_list|)
block|,
name|BRANCH_NEQ_INST
argument_list|(
literal|"bne0d"
argument_list|,
literal|0xB5
argument_list|)
block|,
comment|/* Create instruction with no operands.  */
define|#
directive|define
name|NO_OP_INST
parameter_list|(
name|NAME
parameter_list|,
name|OPC
parameter_list|)
define|\
comment|/* opc16 */
define|\
value|{NAME,  1, OPC, 16, 0, {{0, 0}}}
name|NO_OP_INST
argument_list|(
literal|"nop"
argument_list|,
literal|0x3002
argument_list|)
block|,
name|NO_OP_INST
argument_list|(
literal|"retx"
argument_list|,
literal|0x3003
argument_list|)
block|,
name|NO_OP_INST
argument_list|(
literal|"di"
argument_list|,
literal|0x3004
argument_list|)
block|,
name|NO_OP_INST
argument_list|(
literal|"ei"
argument_list|,
literal|0x3005
argument_list|)
block|,
name|NO_OP_INST
argument_list|(
literal|"wait"
argument_list|,
literal|0x3006
argument_list|)
block|,
name|NO_OP_INST
argument_list|(
literal|"eiwait"
argument_list|,
literal|0x3007
argument_list|)
block|,
comment|/* Create a 'Compare& Branch' instruction.  */
define|#
directive|define
name|CMPBR_INST
parameter_list|(
name|NAME
parameter_list|,
name|OPC1
parameter_list|,
name|OPC2
parameter_list|,
name|C4
parameter_list|)
define|\
comment|/* opc12 r r c4 disps9 */
define|\
value|{NAME, 2, ((0x300+OPC1)<<12)+C4,  8, CMPBR_INS | FMT_3| RELAXABLE,  \       {{regr,16}, {regr,12}, {disps9,0}}},			      \
comment|/* opc12 r r c4 disps25 */
value|\   {NAME, 3, ((0x310+OPC1)<<12)+C4,  8, CMPBR_INS | FMT_3 | RELAXABLE, \       {{regr,16}, {regr,12}, {disps25,0}}},			      \
comment|/* opc12 i4cst4 r c4 disps9 */
value|\   {NAME, 2, ((0x300+OPC2)<<12)+C4,  8, CMPBR_INS | FMT_3 | RELAXABLE, \       {{cst4,16}, {regr,12}, {disps9,0}}},			      \
comment|/* opc12 i4cst4 r c4 disps25 */
value|\   {NAME, 3, ((0x310+OPC2)<<12)+C4,  8, CMPBR_INS | FMT_3 | RELAXABLE, \       {{cst4,16}, {regr,12}, {disps25,0}}}
name|CMPBR_INST
argument_list|(
literal|"cmpbeqb"
argument_list|,
literal|0x8
argument_list|,
literal|0xC
argument_list|,
literal|0x0
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpbneb"
argument_list|,
literal|0x8
argument_list|,
literal|0xC
argument_list|,
literal|0x1
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpbhib"
argument_list|,
literal|0x8
argument_list|,
literal|0xC
argument_list|,
literal|0x4
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpblsb"
argument_list|,
literal|0x8
argument_list|,
literal|0xC
argument_list|,
literal|0x5
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpbgtb"
argument_list|,
literal|0x8
argument_list|,
literal|0xC
argument_list|,
literal|0x6
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpbleb"
argument_list|,
literal|0x8
argument_list|,
literal|0xC
argument_list|,
literal|0x7
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpblob"
argument_list|,
literal|0x8
argument_list|,
literal|0xC
argument_list|,
literal|0xA
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpbhsb"
argument_list|,
literal|0x8
argument_list|,
literal|0xC
argument_list|,
literal|0xB
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpbltb"
argument_list|,
literal|0x8
argument_list|,
literal|0xC
argument_list|,
literal|0xC
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpbgeb"
argument_list|,
literal|0x8
argument_list|,
literal|0xC
argument_list|,
literal|0xD
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpbeqw"
argument_list|,
literal|0x9
argument_list|,
literal|0xD
argument_list|,
literal|0x0
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpbnew"
argument_list|,
literal|0x9
argument_list|,
literal|0xD
argument_list|,
literal|0x1
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpbhiw"
argument_list|,
literal|0x9
argument_list|,
literal|0xD
argument_list|,
literal|0x4
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpblsw"
argument_list|,
literal|0x9
argument_list|,
literal|0xD
argument_list|,
literal|0x5
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpbgtw"
argument_list|,
literal|0x9
argument_list|,
literal|0xD
argument_list|,
literal|0x6
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpblew"
argument_list|,
literal|0x9
argument_list|,
literal|0xD
argument_list|,
literal|0x7
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpblow"
argument_list|,
literal|0x9
argument_list|,
literal|0xD
argument_list|,
literal|0xA
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpbhsw"
argument_list|,
literal|0x9
argument_list|,
literal|0xD
argument_list|,
literal|0xB
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpbltw"
argument_list|,
literal|0x9
argument_list|,
literal|0xD
argument_list|,
literal|0xC
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpbgew"
argument_list|,
literal|0x9
argument_list|,
literal|0xD
argument_list|,
literal|0xD
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpbeqd"
argument_list|,
literal|0xA
argument_list|,
literal|0xE
argument_list|,
literal|0x0
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpbned"
argument_list|,
literal|0xA
argument_list|,
literal|0xE
argument_list|,
literal|0x1
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpbhid"
argument_list|,
literal|0xA
argument_list|,
literal|0xE
argument_list|,
literal|0x4
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpblsd"
argument_list|,
literal|0xA
argument_list|,
literal|0xE
argument_list|,
literal|0x5
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpbgtd"
argument_list|,
literal|0xA
argument_list|,
literal|0xE
argument_list|,
literal|0x6
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpbled"
argument_list|,
literal|0xA
argument_list|,
literal|0xE
argument_list|,
literal|0x7
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpblod"
argument_list|,
literal|0xA
argument_list|,
literal|0xE
argument_list|,
literal|0xA
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpbhsd"
argument_list|,
literal|0xA
argument_list|,
literal|0xE
argument_list|,
literal|0xB
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpbltd"
argument_list|,
literal|0xA
argument_list|,
literal|0xE
argument_list|,
literal|0xC
argument_list|)
block|,
name|CMPBR_INST
argument_list|(
literal|"cmpbged"
argument_list|,
literal|0xA
argument_list|,
literal|0xE
argument_list|,
literal|0xD
argument_list|)
block|,
comment|/* Create an instruction using a single register operand.  */
define|#
directive|define
name|REG1_INST
parameter_list|(
name|NAME
parameter_list|,
name|OPC
parameter_list|)
define|\
comment|/* opc8 c4 r */
define|\
value|{NAME,  1, OPC, 20, NO_TYPE_INS, {{regr,16}}}
comment|/* Same as REG1_INST, with additional FLAGS.  */
define|#
directive|define
name|REG1_FLAG_INST
parameter_list|(
name|NAME
parameter_list|,
name|OPC
parameter_list|,
name|FLAGS
parameter_list|)
define|\
comment|/* opc8 c4 r */
define|\
value|{NAME,  1, OPC, 20, NO_TYPE_INS | FLAGS, {{regr,16}}}
comment|/* JCond instructions	*/
name|REG1_INST
argument_list|(
literal|"jeq"
argument_list|,
literal|0xBA0
argument_list|)
block|,
name|REG1_INST
argument_list|(
literal|"jne"
argument_list|,
literal|0xBA1
argument_list|)
block|,
name|REG1_INST
argument_list|(
literal|"jcs"
argument_list|,
literal|0xBA2
argument_list|)
block|,
name|REG1_INST
argument_list|(
literal|"jcc"
argument_list|,
literal|0xBA3
argument_list|)
block|,
name|REG1_INST
argument_list|(
literal|"jhi"
argument_list|,
literal|0xBA4
argument_list|)
block|,
name|REG1_INST
argument_list|(
literal|"jls"
argument_list|,
literal|0xBA5
argument_list|)
block|,
name|REG1_INST
argument_list|(
literal|"jgt"
argument_list|,
literal|0xBA6
argument_list|)
block|,
name|REG1_INST
argument_list|(
literal|"jle"
argument_list|,
literal|0xBA7
argument_list|)
block|,
name|REG1_INST
argument_list|(
literal|"jfs"
argument_list|,
literal|0xBA8
argument_list|)
block|,
name|REG1_INST
argument_list|(
literal|"jfc"
argument_list|,
literal|0xBA9
argument_list|)
block|,
name|REG1_INST
argument_list|(
literal|"jlo"
argument_list|,
literal|0xBAA
argument_list|)
block|,
name|REG1_INST
argument_list|(
literal|"jhs"
argument_list|,
literal|0xBAB
argument_list|)
block|,
name|REG1_INST
argument_list|(
literal|"jlt"
argument_list|,
literal|0xBAC
argument_list|)
block|,
name|REG1_INST
argument_list|(
literal|"jge"
argument_list|,
literal|0xBAD
argument_list|)
block|,
name|REG1_INST
argument_list|(
literal|"jump"
argument_list|,
literal|0xBAE
argument_list|)
block|,
comment|/* SCond instructions */
name|REG1_INST
argument_list|(
literal|"seq"
argument_list|,
literal|0xBB0
argument_list|)
block|,
name|REG1_INST
argument_list|(
literal|"sne"
argument_list|,
literal|0xBB1
argument_list|)
block|,
name|REG1_INST
argument_list|(
literal|"scs"
argument_list|,
literal|0xBB2
argument_list|)
block|,
name|REG1_INST
argument_list|(
literal|"scc"
argument_list|,
literal|0xBB3
argument_list|)
block|,
name|REG1_INST
argument_list|(
literal|"shi"
argument_list|,
literal|0xBB4
argument_list|)
block|,
name|REG1_INST
argument_list|(
literal|"sls"
argument_list|,
literal|0xBB5
argument_list|)
block|,
name|REG1_INST
argument_list|(
literal|"sgt"
argument_list|,
literal|0xBB6
argument_list|)
block|,
name|REG1_INST
argument_list|(
literal|"sle"
argument_list|,
literal|0xBB7
argument_list|)
block|,
name|REG1_INST
argument_list|(
literal|"sfs"
argument_list|,
literal|0xBB8
argument_list|)
block|,
name|REG1_INST
argument_list|(
literal|"sfc"
argument_list|,
literal|0xBB9
argument_list|)
block|,
name|REG1_INST
argument_list|(
literal|"slo"
argument_list|,
literal|0xBBA
argument_list|)
block|,
name|REG1_INST
argument_list|(
literal|"shs"
argument_list|,
literal|0xBBB
argument_list|)
block|,
name|REG1_INST
argument_list|(
literal|"slt"
argument_list|,
literal|0xBBC
argument_list|)
block|,
name|REG1_INST
argument_list|(
literal|"sge"
argument_list|,
literal|0xBBD
argument_list|)
block|,
comment|/* Create an instruction using two register operands.  */
define|#
directive|define
name|REG2_INST
parameter_list|(
name|NAME
parameter_list|,
name|OPC
parameter_list|)
define|\
comment|/* opc24 r r  OR  opc20 c4 r r */
define|\
value|{NAME,  2, 0x300800+OPC,  8, NO_TYPE_INS, {{regr,4}, {regr,0}}}
comment|/* MULTIPLY INSTRUCTIONS */
name|REG2_INST
argument_list|(
literal|"macsb"
argument_list|,
literal|0x40
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"macub"
argument_list|,
literal|0x41
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"macqb"
argument_list|,
literal|0x42
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"macsw"
argument_list|,
literal|0x50
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"macuw"
argument_list|,
literal|0x51
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"macqw"
argument_list|,
literal|0x52
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"macsd"
argument_list|,
literal|0x60
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"macud"
argument_list|,
literal|0x61
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"macqd"
argument_list|,
literal|0x62
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"mullsd"
argument_list|,
literal|0x65
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"mullud"
argument_list|,
literal|0x66
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"mulsbw"
argument_list|,
literal|0x3B
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"mulubw"
argument_list|,
literal|0x3C
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"mulswd"
argument_list|,
literal|0x3D
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"muluwd"
argument_list|,
literal|0x3E
argument_list|)
block|,
comment|/*  SIGNEXTEND STUFF    */
name|REG2_INST
argument_list|(
literal|"sextbw"
argument_list|,
literal|0x30
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"sextbd"
argument_list|,
literal|0x31
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"sextwd"
argument_list|,
literal|0x32
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"zextbw"
argument_list|,
literal|0x34
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"zextbd"
argument_list|,
literal|0x35
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"zextwd"
argument_list|,
literal|0x36
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"bswap"
argument_list|,
literal|0x3F
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"maxsb"
argument_list|,
literal|0x80
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"minsb"
argument_list|,
literal|0x81
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"maxub"
argument_list|,
literal|0x82
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"minub"
argument_list|,
literal|0x83
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"absb"
argument_list|,
literal|0x84
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"negb"
argument_list|,
literal|0x85
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"cntl0b"
argument_list|,
literal|0x86
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"cntl1b"
argument_list|,
literal|0x87
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"popcntb"
argument_list|,
literal|0x88
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"rotlb"
argument_list|,
literal|0x89
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"rotrb"
argument_list|,
literal|0x8A
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"mulqb"
argument_list|,
literal|0x8B
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"addqb"
argument_list|,
literal|0x8C
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"subqb"
argument_list|,
literal|0x8D
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"cntlsb"
argument_list|,
literal|0x8E
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"maxsw"
argument_list|,
literal|0x90
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"minsw"
argument_list|,
literal|0x91
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"maxuw"
argument_list|,
literal|0x92
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"minuw"
argument_list|,
literal|0x93
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"absw"
argument_list|,
literal|0x94
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"negw"
argument_list|,
literal|0x95
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"cntl0w"
argument_list|,
literal|0x96
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"cntl1w"
argument_list|,
literal|0x97
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"popcntw"
argument_list|,
literal|0x98
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"rotlw"
argument_list|,
literal|0x99
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"rotrw"
argument_list|,
literal|0x9A
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"mulqw"
argument_list|,
literal|0x9B
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"addqw"
argument_list|,
literal|0x9C
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"subqw"
argument_list|,
literal|0x9D
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"cntlsw"
argument_list|,
literal|0x9E
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"maxsd"
argument_list|,
literal|0xA0
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"minsd"
argument_list|,
literal|0xA1
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"maxud"
argument_list|,
literal|0xA2
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"minud"
argument_list|,
literal|0xA3
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"absd"
argument_list|,
literal|0xA4
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"negd"
argument_list|,
literal|0xA5
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"cntl0d"
argument_list|,
literal|0xA6
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"cntl1d"
argument_list|,
literal|0xA7
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"popcntd"
argument_list|,
literal|0xA8
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"rotld"
argument_list|,
literal|0xA9
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"rotrd"
argument_list|,
literal|0xAA
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"mulqd"
argument_list|,
literal|0xAB
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"addqd"
argument_list|,
literal|0xAC
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"subqd"
argument_list|,
literal|0xAD
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"cntlsd"
argument_list|,
literal|0xAE
argument_list|)
block|,
comment|/* Conditional move instructions */
name|REG2_INST
argument_list|(
literal|"cmoveqd"
argument_list|,
literal|0x70
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"cmovned"
argument_list|,
literal|0x71
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"cmovcsd"
argument_list|,
literal|0x72
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"cmovccd"
argument_list|,
literal|0x73
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"cmovhid"
argument_list|,
literal|0x74
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"cmovlsd"
argument_list|,
literal|0x75
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"cmovgtd"
argument_list|,
literal|0x76
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"cmovled"
argument_list|,
literal|0x77
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"cmovfsd"
argument_list|,
literal|0x78
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"cmovfcd"
argument_list|,
literal|0x79
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"cmovlod"
argument_list|,
literal|0x7A
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"cmovhsd"
argument_list|,
literal|0x7B
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"cmovltd"
argument_list|,
literal|0x7C
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"cmovged"
argument_list|,
literal|0x7D
argument_list|)
block|,
comment|/* Load instructions (from memory to register).  */
define|#
directive|define
name|LD_REG_INST
parameter_list|(
name|NAME
parameter_list|,
name|OPC1
parameter_list|,
name|OPC2
parameter_list|,
name|DISP
parameter_list|)
define|\
comment|/* opc12 r abs16 */
define|\
value|{NAME,  2, 0x320+OPC1,  20, LD_STOR_INS | REVERSE_MATCH,		    \       {{abs16,0}, {regr,16}}},						    \
comment|/* opc12 r abs32 */
value|\   {NAME,  3, 0x330+OPC1,  20, LD_STOR_INS | REVERSE_MATCH,		    \       {{abs32,0}, {regr,16}}},						    \
comment|/* opc4 r rbase dispu[bwd]4 */
value|\   {NAME,  1, 0x8+OPC2,  28, LD_STOR_INS | DISP | REVERSE_MATCH,		    \       {{rbase_dispu4,16}, {regr,24}}},					    \
comment|/* opc4 r rbase disps16 */
value|\   {NAME,  2, ((0x8+OPC2)<<8)+0xE, 20, LD_STOR_INS | FMT_1 | REVERSE_MATCH,  \       {{rbase_disps16,16}, {regr,24}}},					    \
comment|/* opc4 r rbase disps32 */
value|\   {NAME,  3, ((0x8+OPC2)<<8)+0xF,  20, LD_STOR_INS | FMT_1 | REVERSE_MATCH, \       {{rbase_disps32,16}, {regr,24}}},					    \
comment|/* opc12 r rbase ridx scl2 disps6 */
value|\   {NAME,  2, 0x32C+OPC1,  20, LD_STOR_INS | REVERSE_MATCH,		    \       {{rindex_disps6,0}, {regr,16}}},					    \
comment|/* opc12 r rbase ridx scl2 disps22 */
value|\   {NAME,  3, 0x33C+OPC1,  20, LD_STOR_INS | REVERSE_MATCH,		    \       {{rindex_disps22,0}, {regr,16}}},					    \
comment|/* opc12 r rbase disps12 */
value|\   {NAME,  2, 0x328+OPC1,  20, LD_STOR_INS_INC | REVERSE_MATCH,		    \       {{rbase_disps12,12}, {regr,16}}}
name|LD_REG_INST
argument_list|(
literal|"loadb"
argument_list|,
literal|0x0
argument_list|,
literal|0x0
argument_list|,
name|DISPUB4
argument_list|)
block|,
name|LD_REG_INST
argument_list|(
literal|"loadw"
argument_list|,
literal|0x1
argument_list|,
literal|0x1
argument_list|,
name|DISPUW4
argument_list|)
block|,
name|LD_REG_INST
argument_list|(
literal|"loadd"
argument_list|,
literal|0x2
argument_list|,
literal|0x2
argument_list|,
name|DISPUD4
argument_list|)
block|,
comment|/* Store instructions (from Register to Memory).  */
define|#
directive|define
name|ST_REG_INST
parameter_list|(
name|NAME
parameter_list|,
name|OPC1
parameter_list|,
name|OPC2
parameter_list|,
name|DISP
parameter_list|)
define|\
comment|/* opc12 r abs16 */
define|\
value|{NAME,  2, 0x320+OPC1,  20, LD_STOR_INS, {{regr,16}, {abs16,0}}},	      \
comment|/* opc12 r abs32 */
value|\   {NAME,  3, 0x330+OPC1,  20, LD_STOR_INS, {{regr,16}, {abs32,0}}},	      \
comment|/* opc4 r rbase dispu[bwd]4 */
value|\   {NAME,  1, 0x8+OPC2,  28, LD_STOR_INS | DISP,				      \       {{regr,24}, {rbase_dispu4,16}}},					      \
comment|/* opc4 r rbase disps16 */
value|\   {NAME,  2, ((0x8+OPC2)<<8)+0xE,  20, LD_STOR_INS | FMT_1,	  	      \       {{regr,24}, {rbase_disps16,16}}},					      \
comment|/* opc4 r rbase disps32 */
value|\   {NAME,  3, ((0x8+OPC2)<<8)+0xF,  20, LD_STOR_INS | FMT_1,		      \       {{regr,24}, {rbase_disps32,16}}},					      \
comment|/* opc12 r rbase ridx scl2 disps6 */
value|\   {NAME,  2, 0x32C+OPC1,  20, LD_STOR_INS,				      \       {{regr,16}, {rindex_disps6,0}}},					      \
comment|/* opc12 r rbase ridx scl2 disps22 */
value|\   {NAME,  3, 0x33C+OPC1,  20, LD_STOR_INS, {{regr,16}, {rindex_disps22,0}}},  \
comment|/* opc12 r rbase disps12 */
value|\   {NAME,  2, 0x328+OPC1,  20, LD_STOR_INS_INC, {{regr,16}, {rbase_disps12,12}}}
comment|/* Store instructions (Immediate to Memory).  */
define|#
directive|define
name|ST_I_INST
parameter_list|(
name|NAME
parameter_list|,
name|OPC
parameter_list|)
define|\
comment|/* opc12 ui4 rbase disps12 */
define|\
value|{NAME,  2, 0x368+OPC,	20, LD_STOR_INS_INC, {{ui4,16}, {rbase_disps12,12}}}, \
comment|/* opc12 ui4 abs16 */
value|\   {NAME,  2, 0x360+OPC,	20, STOR_IMM_INS, {{ui4,16}, {abs16,0}}},	      \
comment|/* opc12 ui4 abs32 */
value|\   {NAME,  3, 0x370+OPC,	20, STOR_IMM_INS, {{ui4,16}, {abs32,0}}},	      \
comment|/* opc12 ui4 rbase disps12 */
value|\   {NAME,  2, 0x364+OPC,	20, STOR_IMM_INS, {{ui4,16}, {rbase_disps12,12}}},    \
comment|/* opc12 ui4 rbase disps28 */
value|\   {NAME,  3, 0x374+OPC,	20, STOR_IMM_INS, {{ui4,16}, {rbase_disps28,12}}},    \
comment|/* opc12 ui4 rbase ridx scl2 disps6 */
value|\   {NAME,  2, 0x36C+OPC,	20, STOR_IMM_INS, {{ui4,16}, {rindex_disps6,0}}},     \
comment|/* opc12 ui4 rbase ridx scl2 disps22 */
value|\   {NAME,  3, 0x37C+OPC,	20, STOR_IMM_INS, {{ui4,16}, {rindex_disps22,0}}}
name|ST_REG_INST
argument_list|(
literal|"storb"
argument_list|,
literal|0x20
argument_list|,
literal|0x4
argument_list|,
name|DISPUB4
argument_list|)
block|,
name|ST_I_INST
argument_list|(
literal|"storb"
argument_list|,
literal|0x0
argument_list|)
block|,
name|ST_REG_INST
argument_list|(
literal|"storw"
argument_list|,
literal|0x21
argument_list|,
literal|0x5
argument_list|,
name|DISPUW4
argument_list|)
block|,
name|ST_I_INST
argument_list|(
literal|"storw"
argument_list|,
literal|0x1
argument_list|)
block|,
name|ST_REG_INST
argument_list|(
literal|"stord"
argument_list|,
literal|0x22
argument_list|,
literal|0x6
argument_list|,
name|DISPUD4
argument_list|)
block|,
name|ST_I_INST
argument_list|(
literal|"stord"
argument_list|,
literal|0x2
argument_list|)
block|,
comment|/* Create a bit instruction.  */
define|#
directive|define
name|CSTBIT_INST
parameter_list|(
name|NAME
parameter_list|,
name|OP
parameter_list|,
name|OPC1
parameter_list|,
name|DIFF
parameter_list|,
name|SHIFT
parameter_list|,
name|OPC2
parameter_list|)
define|\
comment|/* OP=ui3 -->> opc13 ui3 */
define|\
comment|/* OP=ui4 -->> opc12 ui4 */
define|\
comment|/* OP=ui5 -->> opc11 ui5 */
define|\ 									      \
comment|/* opcNN iN abs16 */
define|\
value|{NAME,  2, OPC1+0*DIFF, SHIFT, CSTBIT_INS, {{OP,16}, {abs16,0}}},	      \
comment|/* opcNN iN abs32 */
value|\   {NAME,  3, OPC1+1*DIFF, SHIFT, CSTBIT_INS, {{OP,16}, {abs32,0}}},	      \
comment|/* opcNN iN rbase */
value|\   {NAME,  1, OPC2,  SHIFT+4,  CSTBIT_INS, {{OP,20}, {rbase,16}}},	      \
comment|/* opcNN iN rbase disps12 */
value|\   {NAME,  2, OPC1+2*DIFF, SHIFT, CSTBIT_INS, {{OP,16}, {rbase_disps12,12}}},  \
comment|/* opcNN iN rbase disps28 */
value|\   {NAME,  3, OPC1+3*DIFF, SHIFT, CSTBIT_INS, {{OP,16}, {rbase_disps28,12}}},  \
comment|/* opcNN iN rbase ridx scl2 disps6 */
value|\   {NAME,  2, OPC1+4*DIFF, SHIFT, CSTBIT_INS, {{OP,16}, {rindex_disps6,0}}},   \
comment|/* opcNN iN rbase ridx scl2 disps22 */
value|\   {NAME,  3, OPC1+5*DIFF, SHIFT, CSTBIT_INS, {{OP,16}, {rindex_disps22,0}}}
name|CSTBIT_INST
argument_list|(
literal|"cbitb"
argument_list|,
name|ui3
argument_list|,
literal|0x700
argument_list|,
literal|0x20
argument_list|,
literal|19
argument_list|,
literal|0x1FC
argument_list|)
block|,
name|CSTBIT_INST
argument_list|(
literal|"cbitw"
argument_list|,
name|ui4
argument_list|,
literal|0x382
argument_list|,
literal|0x10
argument_list|,
literal|20
argument_list|,
literal|0xBD
argument_list|)
block|,
name|CSTBIT_INST
argument_list|(
literal|"cbitd"
argument_list|,
name|ui5
argument_list|,
literal|0x1C3
argument_list|,
literal|0x8
argument_list|,
literal|21
argument_list|,
literal|0x7B
argument_list|)
block|,
block|{
literal|"cbitd"
block|,
literal|2
block|,
literal|0x300838
block|,
literal|8
block|,
name|CSTBIT_INS
block|,
block|{
block|{
name|regr
block|,
literal|4
block|}
block|,
block|{
name|regr
block|,
literal|0
block|}
block|}
block|}
block|,
block|{
literal|"cbitd"
block|,
literal|2
block|,
literal|0x18047B
block|,
literal|9
block|,
name|CSTBIT_INS
block|,
block|{
block|{
name|ui5
block|,
literal|4
block|}
block|,
block|{
name|regr
block|,
literal|0
block|}
block|}
block|}
block|,
name|CSTBIT_INST
argument_list|(
literal|"sbitb"
argument_list|,
name|ui3
argument_list|,
literal|0x701
argument_list|,
literal|0x20
argument_list|,
literal|19
argument_list|,
literal|0x1FD
argument_list|)
block|,
name|CSTBIT_INST
argument_list|(
literal|"sbitw"
argument_list|,
name|ui4
argument_list|,
literal|0x383
argument_list|,
literal|0x10
argument_list|,
literal|20
argument_list|,
literal|0xBE
argument_list|)
block|,
name|CSTBIT_INST
argument_list|(
literal|"sbitd"
argument_list|,
name|ui5
argument_list|,
literal|0x1C4
argument_list|,
literal|0x8
argument_list|,
literal|21
argument_list|,
literal|0x7C
argument_list|)
block|,
block|{
literal|"sbitd"
block|,
literal|2
block|,
literal|0x300839
block|,
literal|8
block|,
name|CSTBIT_INS
block|,
block|{
block|{
name|regr
block|,
literal|4
block|}
block|,
block|{
name|regr
block|,
literal|0
block|}
block|}
block|}
block|,
block|{
literal|"sbitd"
block|,
literal|2
block|,
literal|0x18047C
block|,
literal|9
block|,
name|CSTBIT_INS
block|,
block|{
block|{
name|ui5
block|,
literal|4
block|}
block|,
block|{
name|regr
block|,
literal|0
block|}
block|}
block|}
block|,
name|CSTBIT_INST
argument_list|(
literal|"tbitb"
argument_list|,
name|ui3
argument_list|,
literal|0x702
argument_list|,
literal|0x20
argument_list|,
literal|19
argument_list|,
literal|0x1FE
argument_list|)
block|,
name|CSTBIT_INST
argument_list|(
literal|"tbitw"
argument_list|,
name|ui4
argument_list|,
literal|0x384
argument_list|,
literal|0x10
argument_list|,
literal|20
argument_list|,
literal|0xBF
argument_list|)
block|,
name|CSTBIT_INST
argument_list|(
literal|"tbitd"
argument_list|,
name|ui5
argument_list|,
literal|0x1C5
argument_list|,
literal|0x8
argument_list|,
literal|21
argument_list|,
literal|0x7D
argument_list|)
block|,
block|{
literal|"tbitd"
block|,
literal|2
block|,
literal|0x30083A
block|,
literal|8
block|,
name|CSTBIT_INS
block|,
block|{
block|{
name|regr
block|,
literal|4
block|}
block|,
block|{
name|regr
block|,
literal|0
block|}
block|}
block|}
block|,
block|{
literal|"tbitd"
block|,
literal|2
block|,
literal|0x18047D
block|,
literal|9
block|,
name|CSTBIT_INS
block|,
block|{
block|{
name|ui5
block|,
literal|4
block|}
block|,
block|{
name|regr
block|,
literal|0
block|}
block|}
block|}
block|,
comment|/* Instructions including a register list (opcode is represented as a mask).  */
define|#
directive|define
name|REGLIST_INST
parameter_list|(
name|NAME
parameter_list|,
name|OPC
parameter_list|,
name|FLAG
parameter_list|)
define|\
comment|/* opc12 r mask16 */
define|\
value|{NAME,  2, OPC, 20, NO_TYPE_INS | REG_LIST | FLAG, {{regr,16}, {ui16,0}}}
name|REG1_INST
argument_list|(
literal|"getrfid"
argument_list|,
literal|0xFF9
argument_list|)
block|,
name|REG1_INST
argument_list|(
literal|"setrfid"
argument_list|,
literal|0xFFA
argument_list|)
block|,
name|REGLIST_INST
argument_list|(
literal|"push"
argument_list|,
literal|0x346
argument_list|,
name|NO_RPTR
argument_list|)
block|,
name|REG1_FLAG_INST
argument_list|(
literal|"push"
argument_list|,
literal|0xFFB
argument_list|,
name|NO_SP
argument_list|)
block|,
name|REGLIST_INST
argument_list|(
literal|"pushx"
argument_list|,
literal|0x347
argument_list|,
name|NO_RPTR
argument_list|)
block|,
name|REGLIST_INST
argument_list|(
literal|"pop"
argument_list|,
literal|0x324
argument_list|,
name|NO_RPTR
argument_list|)
block|,
name|REG1_FLAG_INST
argument_list|(
literal|"pop"
argument_list|,
literal|0xFFC
argument_list|,
name|NO_SP
argument_list|)
block|,
name|REGLIST_INST
argument_list|(
literal|"popx"
argument_list|,
literal|0x327
argument_list|,
name|NO_RPTR
argument_list|)
block|,
name|REGLIST_INST
argument_list|(
literal|"popret"
argument_list|,
literal|0x326
argument_list|,
name|NO_RPTR
argument_list|)
block|,
name|REG1_FLAG_INST
argument_list|(
literal|"popret"
argument_list|,
literal|0xFFD
argument_list|,
name|NO_SP
argument_list|)
block|,
name|REGLIST_INST
argument_list|(
literal|"loadm"
argument_list|,
literal|0x324
argument_list|,
name|NO_RPTR
argument_list|)
block|,
name|REGLIST_INST
argument_list|(
literal|"loadma"
argument_list|,
literal|0x325
argument_list|,
name|USER_REG
argument_list|)
block|,
name|REGLIST_INST
argument_list|(
literal|"storm"
argument_list|,
literal|0x344
argument_list|,
name|NO_RPTR
argument_list|)
block|,
name|REGLIST_INST
argument_list|(
literal|"storma"
argument_list|,
literal|0x345
argument_list|,
name|USER_REG
argument_list|)
block|,
comment|/* Create a branch instruction.  */
define|#
directive|define
name|BR_INST
parameter_list|(
name|NAME
parameter_list|,
name|OPC1
parameter_list|,
name|OPC2
parameter_list|,
name|INS_TYPE
parameter_list|)
define|\
comment|/* opc12 r disps17 */
define|\
value|{NAME,  2, OPC1,  20, INS_TYPE | RELAXABLE, {{regr,16}, {disps17,0}}},  \
comment|/* opc12 r disps32 */
value|\   {NAME,  3, OPC2,  20, INS_TYPE | RELAXABLE, {{regr,16}, {disps32,0}}}
name|BR_INST
argument_list|(
literal|"bal"
argument_list|,
literal|0x307
argument_list|,
literal|0x317
argument_list|,
name|NO_TYPE_INS
argument_list|)
block|,
comment|/* Decrement and Branch instructions.  */
name|BR_INST
argument_list|(
literal|"dbnzb"
argument_list|,
literal|0x304
argument_list|,
literal|0x314
argument_list|,
name|DCR_BRANCH_INS
argument_list|)
block|,
name|BR_INST
argument_list|(
literal|"dbnzw"
argument_list|,
literal|0x305
argument_list|,
literal|0x315
argument_list|,
name|DCR_BRANCH_INS
argument_list|)
block|,
name|BR_INST
argument_list|(
literal|"dbnzd"
argument_list|,
literal|0x306
argument_list|,
literal|0x316
argument_list|,
name|DCR_BRANCH_INS
argument_list|)
block|,
comment|/* Jump and link instructions.  */
name|REG1_INST
argument_list|(
literal|"jal"
argument_list|,
literal|0xFF8
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"jal"
argument_list|,
literal|0x37
argument_list|)
block|,
name|REG2_INST
argument_list|(
literal|"jalid"
argument_list|,
literal|0x33
argument_list|)
block|,
comment|/* Create a CO-processor instruction.  */
comment|/* esc12 c4 ui16 */
block|{
literal|"cpi"
block|,
literal|2
block|,
literal|0x301
block|,
literal|20
block|,
name|COP_REG_INS
block|,
block|{
block|{
name|ui4
block|,
literal|16
block|}
block|,
block|{
name|ui16
block|,
literal|0
block|}
block|}
block|}
block|,
comment|/* esc12 c4 ui16 ui16 */
block|{
literal|"cpi"
block|,
literal|3
block|,
literal|0x311
block|,
literal|20
block|,
name|COP_REG_INS
block|,
block|{
block|{
name|ui4
block|,
literal|16
block|}
block|,
block|{
name|ui16
block|,
literal|0
block|}
block|,
block|{
name|ui16
block|,
literal|16
block|}
block|}
block|}
block|,
define|#
directive|define
name|COP_INST
parameter_list|(
name|NAME
parameter_list|,
name|OPC
parameter_list|,
name|TYPE
parameter_list|,
name|REG1
parameter_list|,
name|REG2
parameter_list|)
define|\
comment|/* opc12 c4 opc8 REG1 REG2 */
define|\
value|{NAME,  2, 0x301030+OPC,  8, TYPE | FMT_2, {{ui4,16}, {REG1,4}, {REG2,0}}}
comment|/* A reverse form of the above macro.  */
define|#
directive|define
name|REV_COP_INST
parameter_list|(
name|NAME
parameter_list|,
name|OPC
parameter_list|,
name|TYPE
parameter_list|,
name|REG1
parameter_list|,
name|REG2
parameter_list|)
define|\
comment|/* opc12 c4 opc8 REG2 REG1 */
define|\
value|{NAME,  2, 0x301030+OPC,  8, TYPE | FMT_2, {{ui4,16}, {REG1,0}, {REG2,4}}}
name|COP_INST
argument_list|(
literal|"mtcr"
argument_list|,
literal|0
argument_list|,
name|COP_REG_INS
argument_list|,
name|regr
argument_list|,
name|copregr
argument_list|)
block|,
name|COP_INST
argument_list|(
literal|"mfcr"
argument_list|,
literal|1
argument_list|,
name|COP_REG_INS
argument_list|,
name|copregr
argument_list|,
name|regr
argument_list|)
block|,
name|COP_INST
argument_list|(
literal|"mtcsr"
argument_list|,
literal|2
argument_list|,
name|COPS_REG_INS
argument_list|,
name|regr
argument_list|,
name|copsregr
argument_list|)
block|,
name|COP_INST
argument_list|(
literal|"mfcsr"
argument_list|,
literal|3
argument_list|,
name|COPS_REG_INS
argument_list|,
name|copsregr
argument_list|,
name|regr
argument_list|)
block|,
name|COP_INST
argument_list|(
literal|"ldcr"
argument_list|,
literal|4
argument_list|,
name|COP_REG_INS
argument_list|,
name|regr
argument_list|,
name|copregr
argument_list|)
block|,
name|REV_COP_INST
argument_list|(
literal|"stcr"
argument_list|,
literal|5
argument_list|,
name|COP_REG_INS
argument_list|,
name|copregr
argument_list|,
name|regr
argument_list|)
block|,
name|COP_INST
argument_list|(
literal|"ldcsr"
argument_list|,
literal|6
argument_list|,
name|COPS_REG_INS
argument_list|,
name|regr
argument_list|,
name|copsregr
argument_list|)
block|,
name|REV_COP_INST
argument_list|(
literal|"stcsr"
argument_list|,
literal|7
argument_list|,
name|COPS_REG_INS
argument_list|,
name|copsregr
argument_list|,
name|regr
argument_list|)
block|,
comment|/* Create a memory-related CO-processor instruction.  */
define|#
directive|define
name|COPMEM_INST
parameter_list|(
name|NAME
parameter_list|,
name|OPC
parameter_list|,
name|TYPE
parameter_list|)
define|\
comment|/* opc12 c4 opc12 r mask16 */
define|\
value|{NAME,  3, 0x3110300+OPC,  4, TYPE | REG_LIST | FMT_5,  \       {{ui4,16}, {regr,0}, {ui16,16}}}
name|COPMEM_INST
argument_list|(
literal|"loadmcr"
argument_list|,
literal|0
argument_list|,
name|COP_REG_INS
argument_list|)
block|,
name|COPMEM_INST
argument_list|(
literal|"stormcr"
argument_list|,
literal|1
argument_list|,
name|COP_REG_INS
argument_list|)
block|,
name|COPMEM_INST
argument_list|(
literal|"loadmcsr"
argument_list|,
literal|2
argument_list|,
name|COPS_REG_INS
argument_list|)
block|,
name|COPMEM_INST
argument_list|(
literal|"stormcsr"
argument_list|,
literal|3
argument_list|,
name|COPS_REG_INS
argument_list|)
block|,
comment|/* CO-processor extensions.  */
comment|/* opc12 c4 opc4 ui4 disps9 */
block|{
literal|"bcop"
block|,
literal|2
block|,
literal|0x30107
block|,
literal|12
block|,
name|COP_BRANCH_INS
operator||
name|FMT_4
operator||
name|RELAXABLE
block|,
block|{
block|{
name|ui4
block|,
literal|8
block|}
block|,
block|{
name|ui4
block|,
literal|16
block|}
block|,
block|{
name|disps9
block|,
literal|0
block|}
block|}
block|}
block|,
comment|/* opc12 c4 opc4 ui4 disps25 */
block|{
literal|"bcop"
block|,
literal|3
block|,
literal|0x31107
block|,
literal|12
block|,
name|COP_BRANCH_INS
operator||
name|FMT_4
operator||
name|RELAXABLE
block|,
block|{
block|{
name|ui4
block|,
literal|8
block|}
block|,
block|{
name|ui4
block|,
literal|16
block|}
block|,
block|{
name|disps25
block|,
literal|0
block|}
block|}
block|}
block|,
comment|/* opc12 c4 opc4 cpdo r r */
block|{
literal|"cpdop"
block|,
literal|2
block|,
literal|0x3010B
block|,
literal|12
block|,
name|COP_REG_INS
operator||
name|FMT_4
block|,
block|{
block|{
name|ui4
block|,
literal|16
block|}
block|,
block|{
name|ui4
block|,
literal|8
block|}
block|,
block|{
name|regr
block|,
literal|4
block|}
block|,
block|{
name|regr
block|,
literal|0
block|}
block|}
block|}
block|,
comment|/* opc12 c4 opc4 cpdo r r cpdo16 */
block|{
literal|"cpdop"
block|,
literal|3
block|,
literal|0x3110B
block|,
literal|12
block|,
name|COP_REG_INS
operator||
name|FMT_4
block|,
block|{
block|{
name|ui4
block|,
literal|16
block|}
block|,
block|{
name|ui4
block|,
literal|8
block|}
block|,
block|{
name|regr
block|,
literal|4
block|}
block|,
block|{
name|regr
block|,
literal|0
block|}
block|,
block|{
name|ui16
block|,
literal|16
block|}
block|}
block|}
block|,
comment|/* esc16 r procreg */
block|{
literal|"mtpr"
block|,
literal|2
block|,
literal|0x3009
block|,
literal|16
block|,
name|NO_TYPE_INS
block|,
block|{
block|{
name|regr8
block|,
literal|8
block|}
block|,
block|{
name|regr8
block|,
literal|0
block|}
block|}
block|}
block|,
comment|/* esc16 procreg r */
block|{
literal|"mfpr"
block|,
literal|2
block|,
literal|0x300A
block|,
literal|16
block|,
name|NO_TYPE_INS
block|,
block|{
block|{
name|regr8
block|,
literal|8
block|}
block|,
block|{
name|regr8
block|,
literal|0
block|}
block|}
block|}
block|,
comment|/* Miscellaneous.  */
comment|/* opc12 ui4 */
block|{
literal|"excp"
block|,
literal|1
block|,
literal|0xFFF
block|,
literal|20
block|,
name|NO_TYPE_INS
block|,
block|{
block|{
name|ui4
block|,
literal|16
block|}
block|}
block|}
block|,
comment|/* opc28 ui4 */
block|{
literal|"cinv"
block|,
literal|2
block|,
literal|0x3010000
block|,
literal|4
block|,
name|NO_TYPE_INS
block|,
block|{
block|{
name|ui4
block|,
literal|0
block|}
block|}
block|}
block|,
comment|/* opc9 ui5 ui5 ui5 r r */
block|{
literal|"ram"
block|,
literal|2
block|,
literal|0x7C
block|,
literal|23
block|,
name|NO_TYPE_INS
block|,
block|{
block|{
name|ui5
block|,
literal|18
block|}
block|,
block|{
name|ui5
block|,
literal|13
block|}
block|,
block|{
name|ui5
block|,
literal|8
block|}
block|,
block|{
name|regr
block|,
literal|4
block|}
block|,
block|{
name|regr
block|,
literal|0
block|}
block|}
block|}
block|,
block|{
literal|"rim"
block|,
literal|2
block|,
literal|0x7D
block|,
literal|23
block|,
name|NO_TYPE_INS
block|,
block|{
block|{
name|ui5
block|,
literal|18
block|}
block|,
block|{
name|ui5
block|,
literal|13
block|}
block|,
block|{
name|ui5
block|,
literal|8
block|}
block|,
block|{
name|regr
block|,
literal|4
block|}
block|,
block|{
name|regr
block|,
literal|0
block|}
block|}
block|}
block|,
comment|/* opc9 ui3 r */
block|{
literal|"rotb"
block|,
literal|1
block|,
literal|0x1FB
block|,
literal|23
block|,
name|NO_TYPE_INS
block|,
block|{
block|{
name|ui3
block|,
literal|20
block|}
block|,
block|{
name|regr
block|,
literal|16
block|}
block|}
block|}
block|,
comment|/* opc8 ui4 r */
block|{
literal|"rotw"
block|,
literal|1
block|,
literal|0xB9
block|,
literal|24
block|,
name|NO_TYPE_INS
block|,
block|{
block|{
name|ui4
block|,
literal|20
block|}
block|,
block|{
name|regr
block|,
literal|16
block|}
block|}
block|}
block|,
comment|/* opc23 ui5 r */
block|{
literal|"rotd"
block|,
literal|2
block|,
literal|0x180478
block|,
literal|9
block|,
name|NO_TYPE_INS
block|,
block|{
block|{
name|ui5
block|,
literal|4
block|}
block|,
block|{
name|regr
block|,
literal|0
block|}
block|}
block|}
block|,
block|{
name|NULL
block|,
literal|0
block|,
literal|0
block|,
literal|0
block|,
literal|0
block|,
block|{
block|{
literal|0
block|,
literal|0
block|}
block|}
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|const
name|int
name|crx_num_opcodes
init|=
name|ARRAY_SIZE
argument_list|(
name|crx_instruction
argument_list|)
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* Macro to build a reg_entry, which have an opcode image :    For example :       REG(u4, 0x84, CRX_U_REGTYPE)    is interpreted as :       {"u4",  u4, 0x84, CRX_U_REGTYPE}  */
end_comment

begin_define
define|#
directive|define
name|REG
parameter_list|(
name|NAME
parameter_list|,
name|N
parameter_list|,
name|TYPE
parameter_list|)
value|{STRINGX(NAME), {NAME}, N, TYPE}
end_define

begin_decl_stmt
specifier|const
name|reg_entry
name|crx_regtab
index|[]
init|=
block|{
comment|/* Build a general purpose register r<N>.  */
define|#
directive|define
name|REG_R
parameter_list|(
name|N
parameter_list|)
value|REG(CONCAT2(r,N), N, CRX_R_REGTYPE)
name|REG_R
argument_list|(
literal|0
argument_list|)
block|,
name|REG_R
argument_list|(
literal|1
argument_list|)
block|,
name|REG_R
argument_list|(
literal|2
argument_list|)
block|,
name|REG_R
argument_list|(
literal|3
argument_list|)
block|,
name|REG_R
argument_list|(
literal|4
argument_list|)
block|,
name|REG_R
argument_list|(
literal|5
argument_list|)
block|,
name|REG_R
argument_list|(
literal|6
argument_list|)
block|,
name|REG_R
argument_list|(
literal|7
argument_list|)
block|,
name|REG_R
argument_list|(
literal|8
argument_list|)
block|,
name|REG_R
argument_list|(
literal|9
argument_list|)
block|,
name|REG_R
argument_list|(
literal|10
argument_list|)
block|,
name|REG_R
argument_list|(
literal|11
argument_list|)
block|,
name|REG_R
argument_list|(
literal|12
argument_list|)
block|,
name|REG_R
argument_list|(
literal|13
argument_list|)
block|,
name|REG_R
argument_list|(
literal|14
argument_list|)
block|,
name|REG_R
argument_list|(
literal|15
argument_list|)
block|,
name|REG
argument_list|(
name|ra
argument_list|,
literal|0xe
argument_list|,
name|CRX_R_REGTYPE
argument_list|)
block|,
name|REG
argument_list|(
name|sp
argument_list|,
literal|0xf
argument_list|,
name|CRX_R_REGTYPE
argument_list|)
block|,
comment|/* Build a user register u<N>.  */
define|#
directive|define
name|REG_U
parameter_list|(
name|N
parameter_list|)
value|REG(CONCAT2(u,N), 0x80 + N, CRX_U_REGTYPE)
name|REG_U
argument_list|(
literal|0
argument_list|)
block|,
name|REG_U
argument_list|(
literal|1
argument_list|)
block|,
name|REG_U
argument_list|(
literal|2
argument_list|)
block|,
name|REG_U
argument_list|(
literal|3
argument_list|)
block|,
name|REG_U
argument_list|(
literal|4
argument_list|)
block|,
name|REG_U
argument_list|(
literal|5
argument_list|)
block|,
name|REG_U
argument_list|(
literal|6
argument_list|)
block|,
name|REG_U
argument_list|(
literal|7
argument_list|)
block|,
name|REG_U
argument_list|(
literal|8
argument_list|)
block|,
name|REG_U
argument_list|(
literal|9
argument_list|)
block|,
name|REG_U
argument_list|(
literal|10
argument_list|)
block|,
name|REG_U
argument_list|(
literal|11
argument_list|)
block|,
name|REG_U
argument_list|(
literal|12
argument_list|)
block|,
name|REG_U
argument_list|(
literal|13
argument_list|)
block|,
name|REG_U
argument_list|(
literal|14
argument_list|)
block|,
name|REG_U
argument_list|(
literal|15
argument_list|)
block|,
name|REG
argument_list|(
name|ura
argument_list|,
literal|0x8e
argument_list|,
name|CRX_U_REGTYPE
argument_list|)
block|,
name|REG
argument_list|(
name|usp
argument_list|,
literal|0x8f
argument_list|,
name|CRX_U_REGTYPE
argument_list|)
block|,
comment|/* Build a configuration register.  */
define|#
directive|define
name|REG_CFG
parameter_list|(
name|NAME
parameter_list|,
name|N
parameter_list|)
value|REG(NAME, N, CRX_CFG_REGTYPE)
name|REG_CFG
argument_list|(
name|hi
argument_list|,
literal|0x10
argument_list|)
block|,
name|REG_CFG
argument_list|(
name|lo
argument_list|,
literal|0x11
argument_list|)
block|,
name|REG_CFG
argument_list|(
name|uhi
argument_list|,
literal|0x90
argument_list|)
block|,
name|REG_CFG
argument_list|(
name|ulo
argument_list|,
literal|0x91
argument_list|)
block|,
name|REG_CFG
argument_list|(
name|psr
argument_list|,
literal|0x12
argument_list|)
block|,
name|REG_CFG
argument_list|(
name|intbase
argument_list|,
literal|0x13
argument_list|)
block|,
name|REG_CFG
argument_list|(
name|isp
argument_list|,
literal|0x14
argument_list|)
block|,
name|REG_CFG
argument_list|(
name|cfg
argument_list|,
literal|0x15
argument_list|)
block|,
name|REG_CFG
argument_list|(
name|cpcfg
argument_list|,
literal|0x16
argument_list|)
block|,
name|REG_CFG
argument_list|(
argument|cen
argument_list|,
literal|0x17
argument_list|)
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|const
name|int
name|crx_num_regs
init|=
name|ARRAY_SIZE
argument_list|(
name|crx_regtab
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|const
name|reg_entry
name|crx_copregtab
index|[]
init|=
block|{
comment|/* Build a Coprocessor register c<N>.  */
define|#
directive|define
name|REG_C
parameter_list|(
name|N
parameter_list|)
value|REG(CONCAT2(c,N), N, CRX_C_REGTYPE)
name|REG_C
argument_list|(
literal|0
argument_list|)
block|,
name|REG_C
argument_list|(
literal|1
argument_list|)
block|,
name|REG_C
argument_list|(
literal|2
argument_list|)
block|,
name|REG_C
argument_list|(
literal|3
argument_list|)
block|,
name|REG_C
argument_list|(
literal|4
argument_list|)
block|,
name|REG_C
argument_list|(
literal|5
argument_list|)
block|,
name|REG_C
argument_list|(
literal|6
argument_list|)
block|,
name|REG_C
argument_list|(
literal|7
argument_list|)
block|,
name|REG_C
argument_list|(
literal|8
argument_list|)
block|,
name|REG_C
argument_list|(
literal|9
argument_list|)
block|,
name|REG_C
argument_list|(
literal|10
argument_list|)
block|,
name|REG_C
argument_list|(
literal|11
argument_list|)
block|,
name|REG_C
argument_list|(
literal|12
argument_list|)
block|,
name|REG_C
argument_list|(
literal|13
argument_list|)
block|,
name|REG_C
argument_list|(
literal|14
argument_list|)
block|,
name|REG_C
argument_list|(
literal|15
argument_list|)
block|,
comment|/* Build a Coprocessor Special register cs<N>.  */
define|#
directive|define
name|REG_CS
parameter_list|(
name|N
parameter_list|)
value|REG(CONCAT2(cs,N), N, CRX_CS_REGTYPE)
name|REG_CS
argument_list|(
literal|0
argument_list|)
block|,
name|REG_CS
argument_list|(
literal|1
argument_list|)
block|,
name|REG_CS
argument_list|(
literal|2
argument_list|)
block|,
name|REG_CS
argument_list|(
literal|3
argument_list|)
block|,
name|REG_CS
argument_list|(
literal|4
argument_list|)
block|,
name|REG_CS
argument_list|(
literal|5
argument_list|)
block|,
name|REG_CS
argument_list|(
literal|6
argument_list|)
block|,
name|REG_CS
argument_list|(
literal|7
argument_list|)
block|,
name|REG_CS
argument_list|(
literal|8
argument_list|)
block|,
name|REG_CS
argument_list|(
literal|9
argument_list|)
block|,
name|REG_CS
argument_list|(
literal|10
argument_list|)
block|,
name|REG_CS
argument_list|(
literal|11
argument_list|)
block|,
name|REG_CS
argument_list|(
literal|12
argument_list|)
block|,
name|REG_CS
argument_list|(
literal|13
argument_list|)
block|,
name|REG_CS
argument_list|(
literal|14
argument_list|)
block|,
name|REG_CS
argument_list|(
literal|15
argument_list|)
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|const
name|int
name|crx_num_copregs
init|=
name|ARRAY_SIZE
argument_list|(
name|crx_copregtab
argument_list|)
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* CRX operands table.  */
end_comment

begin_decl_stmt
specifier|const
name|operand_entry
name|crx_optab
index|[]
init|=
block|{
comment|/* Index 0 is dummy, so we can count the instruction's operands.  */
block|{
literal|0
block|,
name|nullargs
block|,
literal|0
block|}
block|,
comment|/* dummy */
block|{
literal|4
block|,
name|arg_ic
block|,
name|OP_CST4
block|}
block|,
comment|/* cst4 */
block|{
literal|16
block|,
name|arg_ic
block|,
name|OP_SIGNED
block|}
block|,
comment|/* i16 */
block|{
literal|32
block|,
name|arg_ic
block|,
name|OP_SIGNED
block|}
block|,
comment|/* i32 */
block|{
literal|3
block|,
name|arg_ic
block|,
name|OP_UNSIGNED
block|}
block|,
comment|/* ui3 */
block|{
literal|4
block|,
name|arg_ic
block|,
name|OP_UNSIGNED
block|}
block|,
comment|/* ui4 */
block|{
literal|5
block|,
name|arg_ic
block|,
name|OP_UNSIGNED
block|}
block|,
comment|/* ui5 */
block|{
literal|16
block|,
name|arg_ic
block|,
name|OP_UNSIGNED
block|}
block|,
comment|/* ui16 */
block|{
literal|8
block|,
name|arg_c
block|,
name|OP_EVEN
operator||
name|OP_SHIFT
operator||
name|OP_SIGNED
block|}
block|,
comment|/* disps9 */
block|{
literal|16
block|,
name|arg_c
block|,
name|OP_EVEN
operator||
name|OP_SHIFT
operator||
name|OP_SIGNED
block|}
block|,
comment|/* disps17 */
block|{
literal|24
block|,
name|arg_c
block|,
name|OP_EVEN
operator||
name|OP_SHIFT
operator||
name|OP_SIGNED
block|}
block|,
comment|/* disps25 */
block|{
literal|32
block|,
name|arg_c
block|,
name|OP_EVEN
operator||
name|OP_SHIFT
operator||
name|OP_SIGNED
block|}
block|,
comment|/* disps32 */
block|{
literal|4
block|,
name|arg_c
block|,
name|OP_EVEN
operator||
name|OP_SHIFT_DEC
operator||
name|OP_UNSIGNED
block|}
block|,
comment|/* dispu5 */
block|{
literal|8
block|,
name|arg_c
block|,
name|OP_EVEN
operator||
name|OP_SHIFT
operator||
name|OP_SIGNED
operator||
name|OP_ESC
block|}
block|,
comment|/* dispe9 */
block|{
literal|16
block|,
name|arg_c
block|,
name|OP_UNSIGNED
operator||
name|OP_UPPER_64KB
block|}
block|,
comment|/* abs16 */
block|{
literal|32
block|,
name|arg_c
block|,
name|OP_UNSIGNED
block|}
block|,
comment|/* abs32 */
block|{
literal|4
block|,
name|arg_rbase
block|,
literal|0
block|}
block|,
comment|/* rbase */
block|{
literal|4
block|,
name|arg_cr
block|,
name|OP_DISPU4
block|}
block|,
comment|/* rbase_dispu4 */
block|{
literal|12
block|,
name|arg_cr
block|,
name|OP_SIGNED
block|}
block|,
comment|/* rbase_disps12 */
block|{
literal|16
block|,
name|arg_cr
block|,
name|OP_SIGNED
block|}
block|,
comment|/* rbase_disps16 */
block|{
literal|28
block|,
name|arg_cr
block|,
name|OP_SIGNED
block|}
block|,
comment|/* rbase_disps28 */
block|{
literal|32
block|,
name|arg_cr
block|,
name|OP_SIGNED
block|}
block|,
comment|/* rbase_disps32 */
block|{
literal|6
block|,
name|arg_idxr
block|,
name|OP_SIGNED
block|}
block|,
comment|/* rindex_disps6 */
block|{
literal|22
block|,
name|arg_idxr
block|,
name|OP_SIGNED
block|}
block|,
comment|/* rindex_disps22 */
block|{
literal|4
block|,
name|arg_r
block|,
literal|0
block|}
block|,
comment|/* regr */
block|{
literal|8
block|,
name|arg_r
block|,
literal|0
block|}
block|,
comment|/* regr8 */
block|{
literal|4
block|,
name|arg_copr
block|,
literal|0
block|}
block|,
comment|/* copregr */
block|{
literal|4
block|,
name|arg_copsr
block|,
literal|0
block|}
comment|/* copsregr */
block|}
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* CRX traps/interrupts.  */
end_comment

begin_decl_stmt
specifier|const
name|trap_entry
name|crx_traps
index|[]
init|=
block|{
block|{
literal|"nmi"
block|,
literal|1
block|}
block|,
block|{
literal|"svc"
block|,
literal|5
block|}
block|,
block|{
literal|"dvz"
block|,
literal|6
block|}
block|,
block|{
literal|"flg"
block|,
literal|7
block|}
block|,
block|{
literal|"bpt"
block|,
literal|8
block|}
block|,
block|{
literal|"und"
block|,
literal|10
block|}
block|,
block|{
literal|"prv"
block|,
literal|11
block|}
block|,
block|{
literal|"iberr"
block|,
literal|12
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|const
name|int
name|crx_num_traps
init|=
name|ARRAY_SIZE
argument_list|(
name|crx_traps
argument_list|)
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* cst4 operand mapping: The value in entry<N> is mapped to the value<N>       Value		  Binary mapping     cst4_map[N]	  -->>		N  Example (for N=5):      cst4_map[5]=-4  -->>	5		*/
end_comment

begin_decl_stmt
specifier|const
name|long
name|cst4_map
index|[]
init|=
block|{
literal|0
block|,
literal|1
block|,
literal|2
block|,
literal|3
block|,
literal|4
block|,
operator|-
literal|4
block|,
operator|-
literal|1
block|,
literal|7
block|,
literal|8
block|,
literal|16
block|,
literal|32
block|,
literal|20
block|,
literal|12
block|,
literal|48
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|const
name|int
name|cst4_maps
init|=
name|ARRAY_SIZE
argument_list|(
name|cst4_map
argument_list|)
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* CRX instructions that don't have arguments.  */
end_comment

begin_decl_stmt
specifier|const
name|char
modifier|*
name|no_op_insn
index|[]
init|=
block|{
literal|"di"
block|,
literal|"ei"
block|,
literal|"eiwait"
block|,
literal|"nop"
block|,
literal|"retx"
block|,
literal|"wait"
block|,
name|NULL
block|}
decl_stmt|;
end_decl_stmt

end_unit

