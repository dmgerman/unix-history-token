begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*  * Copyright (c) 2002-2009 Sam Leffler, Errno Consulting  * Copyright (c) 2002-2008 Atheros Communications, Inc.  *  * Permission to use, copy, modify, and/or distribute this software for any  * purpose with or without fee is hereby granted, provided that the above  * copyright notice and this permission notice appear in all copies.  *  * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES  * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF  * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR  * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES  * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN  * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF  * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.  *  * $FreeBSD: head/sys/dev/ath/ath_hal/ar5212/ar5212_attach.c 235972 2012-05-25 05:01:27Z adrian $  */
end_comment

begin_include
include|#
directive|include
file|"opt_ah.h"
end_include

begin_include
include|#
directive|include
file|"ah.h"
end_include

begin_include
include|#
directive|include
file|"ah_internal.h"
end_include

begin_include
include|#
directive|include
file|"ah_devid.h"
end_include

begin_include
include|#
directive|include
file|"ar9300/ar9300.h"
end_include

begin_include
include|#
directive|include
file|"ar9300/ar9300reg.h"
end_include

begin_include
include|#
directive|include
file|"ar9300/ar9300phy.h"
end_include

begin_include
include|#
directive|include
file|"ar9300/ar9300_stub.h"
end_include

begin_include
include|#
directive|include
file|"ar9300/ar9300_stub_funcs.h"
end_include

begin_function
name|void
name|ar9300_set_stub_functions
parameter_list|(
name|struct
name|ath_hal
modifier|*
name|ah
parameter_list|)
block|{
comment|//	ath_hal_printf(ah, "%s: setting stub functions\n", __func__);
name|ah
operator|->
name|ah_getRateTable
operator|=
name|ar9300_Stub_GetRateTable
expr_stmt|;
comment|//	ah->ah_detach			= ar9300_Stub_detach;
comment|/* Reset Functions */
name|ah
operator|->
name|ah_reset
operator|=
name|ar9300_Stub_Reset
expr_stmt|;
name|ah
operator|->
name|ah_phyDisable
operator|=
name|ar9300_Stub_PhyDisable
expr_stmt|;
name|ah
operator|->
name|ah_disable
operator|=
name|ar9300_Stub_Disable
expr_stmt|;
name|ah
operator|->
name|ah_configPCIE
operator|=
name|ar9300_Stub_ConfigPCIE
expr_stmt|;
name|ah
operator|->
name|ah_disablePCIE
operator|=
name|ar9300_Stub_DisablePCIE
expr_stmt|;
name|ah
operator|->
name|ah_setPCUConfig
operator|=
name|ar9300_Stub_SetPCUConfig
expr_stmt|;
name|ah
operator|->
name|ah_perCalibration
operator|=
name|ar9300_Stub_PerCalibration
expr_stmt|;
name|ah
operator|->
name|ah_perCalibrationN
operator|=
name|ar9300_Stub_PerCalibrationN
expr_stmt|;
name|ah
operator|->
name|ah_resetCalValid
operator|=
name|ar9300_Stub_ResetCalValid
expr_stmt|;
name|ah
operator|->
name|ah_setTxPowerLimit
operator|=
name|ar9300_Stub_SetTxPowerLimit
expr_stmt|;
name|ah
operator|->
name|ah_getChanNoise
operator|=
name|ath_hal_getChanNoise
expr_stmt|;
comment|/* Transmit functions */
name|ah
operator|->
name|ah_updateTxTrigLevel
operator|=
name|ar9300_Stub_UpdateTxTrigLevel
expr_stmt|;
name|ah
operator|->
name|ah_setupTxQueue
operator|=
name|ar9300_Stub_SetupTxQueue
expr_stmt|;
name|ah
operator|->
name|ah_setTxQueueProps
operator|=
name|ar9300_Stub_SetTxQueueProps
expr_stmt|;
name|ah
operator|->
name|ah_getTxQueueProps
operator|=
name|ar9300_Stub_GetTxQueueProps
expr_stmt|;
name|ah
operator|->
name|ah_releaseTxQueue
operator|=
name|ar9300_Stub_ReleaseTxQueue
expr_stmt|;
name|ah
operator|->
name|ah_resetTxQueue
operator|=
name|ar9300_Stub_ResetTxQueue
expr_stmt|;
name|ah
operator|->
name|ah_getTxDP
operator|=
name|ar9300_Stub_GetTxDP
expr_stmt|;
name|ah
operator|->
name|ah_setTxDP
operator|=
name|ar9300_Stub_SetTxDP
expr_stmt|;
name|ah
operator|->
name|ah_numTxPending
operator|=
name|ar9300_Stub_NumTxPending
expr_stmt|;
name|ah
operator|->
name|ah_startTxDma
operator|=
name|ar9300_Stub_StartTxDma
expr_stmt|;
name|ah
operator|->
name|ah_stopTxDma
operator|=
name|ar9300_Stub_StopTxDma
expr_stmt|;
name|ah
operator|->
name|ah_setupTxDesc
operator|=
name|ar9300_Stub_SetupTxDesc
expr_stmt|;
name|ah
operator|->
name|ah_setupXTxDesc
operator|=
name|ar9300_Stub_SetupXTxDesc
expr_stmt|;
name|ah
operator|->
name|ah_fillTxDesc
operator|=
name|ar9300_Stub_FillTxDesc
expr_stmt|;
name|ah
operator|->
name|ah_procTxDesc
operator|=
name|ar9300_Stub_ProcTxDesc
expr_stmt|;
name|ah
operator|->
name|ah_getTxIntrQueue
operator|=
name|ar9300_Stub_GetTxIntrQueue
expr_stmt|;
name|ah
operator|->
name|ah_reqTxIntrDesc
operator|=
name|ar9300_Stub_IntrReqTxDesc
expr_stmt|;
name|ah
operator|->
name|ah_getTxCompletionRates
operator|=
name|ar9300_Stub_GetTxCompletionRates
expr_stmt|;
comment|/* RX Functions */
name|ah
operator|->
name|ah_getRxDP
operator|=
name|ar9300_Stub_GetRxDP
expr_stmt|;
name|ah
operator|->
name|ah_setRxDP
operator|=
name|ar9300_Stub_SetRxDP
expr_stmt|;
name|ah
operator|->
name|ah_enableReceive
operator|=
name|ar9300_Stub_EnableReceive
expr_stmt|;
name|ah
operator|->
name|ah_stopDmaReceive
operator|=
name|ar9300_Stub_StopDmaReceive
expr_stmt|;
name|ah
operator|->
name|ah_startPcuReceive
operator|=
name|ar9300_Stub_StartPcuReceive
expr_stmt|;
name|ah
operator|->
name|ah_stopPcuReceive
operator|=
name|ar9300_Stub_StopPcuReceive
expr_stmt|;
name|ah
operator|->
name|ah_setMulticastFilter
operator|=
name|ar9300_Stub_SetMulticastFilter
expr_stmt|;
name|ah
operator|->
name|ah_setMulticastFilterIndex
operator|=
name|ar9300_Stub_SetMulticastFilterIndex
expr_stmt|;
name|ah
operator|->
name|ah_clrMulticastFilterIndex
operator|=
name|ar9300_Stub_ClrMulticastFilterIndex
expr_stmt|;
name|ah
operator|->
name|ah_getRxFilter
operator|=
name|ar9300_Stub_GetRxFilter
expr_stmt|;
name|ah
operator|->
name|ah_setRxFilter
operator|=
name|ar9300_Stub_SetRxFilter
expr_stmt|;
name|ah
operator|->
name|ah_setupRxDesc
operator|=
name|ar9300_Stub_SetupRxDesc
expr_stmt|;
name|ah
operator|->
name|ah_procRxDesc
operator|=
name|ar9300_Stub_ProcRxDesc
expr_stmt|;
name|ah
operator|->
name|ah_rxMonitor
operator|=
name|ar9300_Stub_RxMonitor
expr_stmt|;
name|ah
operator|->
name|ah_aniPoll
operator|=
name|ar9300_Stub_AniPoll
expr_stmt|;
name|ah
operator|->
name|ah_procMibEvent
operator|=
name|ar9300_Stub_ProcessMibIntr
expr_stmt|;
comment|/* Misc Functions */
name|ah
operator|->
name|ah_getCapability
operator|=
name|ar9300_Stub_GetCapability
expr_stmt|;
name|ah
operator|->
name|ah_setCapability
operator|=
name|ar9300_Stub_SetCapability
expr_stmt|;
name|ah
operator|->
name|ah_getDiagState
operator|=
name|ar9300_Stub_GetDiagState
expr_stmt|;
name|ah
operator|->
name|ah_getMacAddress
operator|=
name|ar9300_Stub_GetMacAddress
expr_stmt|;
name|ah
operator|->
name|ah_setMacAddress
operator|=
name|ar9300_Stub_SetMacAddress
expr_stmt|;
name|ah
operator|->
name|ah_getBssIdMask
operator|=
name|ar9300_Stub_GetBssIdMask
expr_stmt|;
name|ah
operator|->
name|ah_setBssIdMask
operator|=
name|ar9300_Stub_SetBssIdMask
expr_stmt|;
name|ah
operator|->
name|ah_setRegulatoryDomain
operator|=
name|ar9300_Stub_SetRegulatoryDomain
expr_stmt|;
name|ah
operator|->
name|ah_setLedState
operator|=
name|ar9300_Stub_SetLedState
expr_stmt|;
name|ah
operator|->
name|ah_writeAssocid
operator|=
name|ar9300_Stub_WriteAssocid
expr_stmt|;
name|ah
operator|->
name|ah_gpioCfgInput
operator|=
name|ar9300_Stub_GpioCfgInput
expr_stmt|;
name|ah
operator|->
name|ah_gpioCfgOutput
operator|=
name|ar9300_Stub_GpioCfgOutput
expr_stmt|;
name|ah
operator|->
name|ah_gpioGet
operator|=
name|ar9300_Stub_GpioGet
expr_stmt|;
name|ah
operator|->
name|ah_gpioSet
operator|=
name|ar9300_Stub_GpioSet
expr_stmt|;
name|ah
operator|->
name|ah_gpioSetIntr
operator|=
name|ar9300_Stub_GpioSetIntr
expr_stmt|;
name|ah
operator|->
name|ah_getTsf32
operator|=
name|ar9300_Stub_GetTsf32
expr_stmt|;
name|ah
operator|->
name|ah_getTsf64
operator|=
name|ar9300_Stub_GetTsf64
expr_stmt|;
name|ah
operator|->
name|ah_resetTsf
operator|=
name|ar9300_Stub_ResetTsf
expr_stmt|;
name|ah
operator|->
name|ah_detectCardPresent
operator|=
name|ar9300_Stub_DetectCardPresent
expr_stmt|;
name|ah
operator|->
name|ah_updateMibCounters
operator|=
name|ar9300_Stub_UpdateMibCounters
expr_stmt|;
name|ah
operator|->
name|ah_getRfGain
operator|=
name|ar9300_Stub_GetRfgain
expr_stmt|;
name|ah
operator|->
name|ah_getDefAntenna
operator|=
name|ar9300_Stub_GetDefAntenna
expr_stmt|;
name|ah
operator|->
name|ah_setDefAntenna
operator|=
name|ar9300_Stub_SetDefAntenna
expr_stmt|;
name|ah
operator|->
name|ah_getAntennaSwitch
operator|=
name|ar9300_Stub_GetAntennaSwitch
expr_stmt|;
name|ah
operator|->
name|ah_setAntennaSwitch
operator|=
name|ar9300_Stub_SetAntennaSwitch
expr_stmt|;
name|ah
operator|->
name|ah_setSifsTime
operator|=
name|ar9300_Stub_SetSifsTime
expr_stmt|;
name|ah
operator|->
name|ah_getSifsTime
operator|=
name|ar9300_Stub_GetSifsTime
expr_stmt|;
name|ah
operator|->
name|ah_setSlotTime
operator|=
name|ar9300_Stub_SetSlotTime
expr_stmt|;
name|ah
operator|->
name|ah_getSlotTime
operator|=
name|ar9300_Stub_GetSlotTime
expr_stmt|;
name|ah
operator|->
name|ah_setAckTimeout
operator|=
name|ar9300_Stub_SetAckTimeout
expr_stmt|;
name|ah
operator|->
name|ah_getAckTimeout
operator|=
name|ar9300_Stub_GetAckTimeout
expr_stmt|;
name|ah
operator|->
name|ah_setAckCTSRate
operator|=
name|ar9300_Stub_SetAckCTSRate
expr_stmt|;
name|ah
operator|->
name|ah_getAckCTSRate
operator|=
name|ar9300_Stub_GetAckCTSRate
expr_stmt|;
name|ah
operator|->
name|ah_setCTSTimeout
operator|=
name|ar9300_Stub_SetCTSTimeout
expr_stmt|;
name|ah
operator|->
name|ah_getCTSTimeout
operator|=
name|ar9300_Stub_GetCTSTimeout
expr_stmt|;
name|ah
operator|->
name|ah_setDecompMask
operator|=
name|ar9300_Stub_SetDecompMask
expr_stmt|;
name|ah
operator|->
name|ah_setCoverageClass
operator|=
name|ar9300_Stub_SetCoverageClass
expr_stmt|;
name|ah
operator|->
name|ah_setQuiet
operator|=
name|ar9300_Stub_SetQuiet
expr_stmt|;
name|ah
operator|->
name|ah_getMibCycleCounts
operator|=
name|ar9300_Stub_GetMibCycleCounts
expr_stmt|;
comment|/* DFS Functions */
name|ah
operator|->
name|ah_enableDfs
operator|=
name|ar9300_Stub_EnableDfs
expr_stmt|;
name|ah
operator|->
name|ah_getDfsThresh
operator|=
name|ar9300_Stub_GetDfsThresh
expr_stmt|;
name|ah
operator|->
name|ah_procRadarEvent
operator|=
name|ar9300_Stub_ProcessRadarEvent
expr_stmt|;
name|ah
operator|->
name|ah_isFastClockEnabled
operator|=
name|ar9300_Stub_IsFastClockEnabled
expr_stmt|;
name|ah
operator|->
name|ah_get11nExtBusy
operator|=
name|ar9300_Stub_Get11nExtBusy
expr_stmt|;
comment|/* Key Cache Functions */
name|ah
operator|->
name|ah_getKeyCacheSize
operator|=
name|ar9300_Stub_GetKeyCacheSize
expr_stmt|;
name|ah
operator|->
name|ah_resetKeyCacheEntry
operator|=
name|ar9300_Stub_ResetKeyCacheEntry
expr_stmt|;
name|ah
operator|->
name|ah_isKeyCacheEntryValid
operator|=
name|ar9300_Stub_IsKeyCacheEntryValid
expr_stmt|;
name|ah
operator|->
name|ah_setKeyCacheEntry
operator|=
name|ar9300_Stub_SetKeyCacheEntry
expr_stmt|;
name|ah
operator|->
name|ah_setKeyCacheEntryMac
operator|=
name|ar9300_Stub_SetKeyCacheEntryMac
expr_stmt|;
comment|/* Power Management Functions */
name|ah
operator|->
name|ah_setPowerMode
operator|=
name|ar9300_Stub_SetPowerMode
expr_stmt|;
name|ah
operator|->
name|ah_getPowerMode
operator|=
name|ar9300_Stub_GetPowerMode
expr_stmt|;
comment|/* Beacon Functions */
name|ah
operator|->
name|ah_setBeaconTimers
operator|=
name|ar9300_Stub_SetBeaconTimers
expr_stmt|;
name|ah
operator|->
name|ah_beaconInit
operator|=
name|ar9300_Stub_BeaconInit
expr_stmt|;
name|ah
operator|->
name|ah_setStationBeaconTimers
operator|=
name|ar9300_Stub_SetStaBeaconTimers
expr_stmt|;
name|ah
operator|->
name|ah_resetStationBeaconTimers
operator|=
name|ar9300_Stub_ResetStaBeaconTimers
expr_stmt|;
name|ah
operator|->
name|ah_getNextTBTT
operator|=
name|ar9300_Stub_GetNextTBTT
expr_stmt|;
comment|/* Interrupt Functions */
name|ah
operator|->
name|ah_isInterruptPending
operator|=
name|ar9300_Stub_IsInterruptPending
expr_stmt|;
name|ah
operator|->
name|ah_getPendingInterrupts
operator|=
name|ar9300_Stub_GetPendingInterrupts
expr_stmt|;
name|ah
operator|->
name|ah_getInterrupts
operator|=
name|ar9300_Stub_GetInterrupts
expr_stmt|;
name|ah
operator|->
name|ah_setInterrupts
operator|=
name|ar9300_Stub_SetInterrupts
expr_stmt|;
name|AH_PRIVATE
argument_list|(
name|ah
argument_list|)
operator|->
name|ah_getChannelEdges
operator|=
name|ar9300_Stub_GetChannelEdges
expr_stmt|;
name|AH_PRIVATE
argument_list|(
name|ah
argument_list|)
operator|->
name|ah_getWirelessModes
operator|=
name|ar9300_Stub_GetWirelessModes
expr_stmt|;
name|AH_PRIVATE
argument_list|(
name|ah
argument_list|)
operator|->
name|ah_eepromRead
operator|=
name|ar9300_Stub_EepromRead
expr_stmt|;
ifdef|#
directive|ifdef
name|AH_SUPPORT_WRITE_EEPROM
name|AH_PRIVATE
argument_list|(
name|ah
argument_list|)
operator|->
name|ah_eepromWrite
operator|=
name|ar9300_Stub_EepromWrite
expr_stmt|;
endif|#
directive|endif
name|AH_PRIVATE
argument_list|(
name|ah
argument_list|)
operator|->
name|ah_getChipPowerLimits
operator|=
name|ar9300_Stub_GetChipPowerLimits
expr_stmt|;
block|}
end_function

end_unit

