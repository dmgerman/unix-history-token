begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/***********************license start***************  *  Copyright (c) 2003-2009 Cavium Networks (support@cavium.com). All rights  *  reserved.  *  *  *  Redistribution and use in source and binary forms, with or without  *  modification, are permitted provided that the following conditions are  *  met:  *  *      * Redistributions of source code must retain the above copyright  *        notice, this list of conditions and the following disclaimer.  *  *      * Redistributions in binary form must reproduce the above  *        copyright notice, this list of conditions and the following  *        disclaimer in the documentation and/or other materials provided  *        with the distribution.  *  *      * Neither the name of Cavium Networks nor the names of  *        its contributors may be used to endorse or promote products  *        derived from this software without specific prior written  *        permission.  *  *  TO THE MAXIMUM EXTENT PERMITTED BY LAW, THE SOFTWARE IS PROVIDED "AS IS"  *  AND WITH ALL FAULTS AND CAVIUM NETWORKS MAKES NO PROMISES, REPRESENTATIONS  *  OR WARRANTIES, EITHER EXPRESS, IMPLIED, STATUTORY, OR OTHERWISE, WITH  *  RESPECT TO THE SOFTWARE, INCLUDING ITS CONDITION, ITS CONFORMITY TO ANY  *  REPRESENTATION OR DESCRIPTION, OR THE EXISTENCE OF ANY LATENT OR PATENT  *  DEFECTS, AND CAVIUM SPECIFICALLY DISCLAIMS ALL IMPLIED (IF ANY) WARRANTIES  *  OF TITLE, MERCHANTABILITY, NONINFRINGEMENT, FITNESS FOR A PARTICULAR  *  PURPOSE, LACK OF VIRUSES, ACCURACY OR COMPLETENESS, QUIET ENJOYMENT, QUIET  *  POSSESSION OR CORRESPONDENCE TO DESCRIPTION.  THE ENTIRE RISK ARISING OUT  *  OF USE OR PERFORMANCE OF THE SOFTWARE LIES WITH YOU.  *  *  *  For any questions regarding licensing please contact marketing@caviumnetworks.com  *  ***********************license end**************************************/
end_comment

begin_comment
comment|/**  * @file  *  * Automatically generated functions useful for enabling  * and decoding RSL_INT_BLOCKS interrupts.  *  * This file is auto generated. Do not edit.  *  *<hr>$Revision$<hr>  *  */
end_comment

begin_include
include|#
directive|include
file|"cvmx.h"
end_include

begin_include
include|#
directive|include
file|"cvmx-interrupt.h"
end_include

begin_include
include|#
directive|include
file|"cvmx-pcie.h"
end_include

begin_ifndef
ifndef|#
directive|ifndef
name|PRINT_ERROR
end_ifndef

begin_define
define|#
directive|define
name|PRINT_ERROR
parameter_list|(
name|format
parameter_list|,
modifier|...
parameter_list|)
value|cvmx_safe_printf("ERROR " format, ##__VA_ARGS__)
end_define

begin_endif
endif|#
directive|endif
end_endif

begin_function_decl
name|void
name|__cvmx_interrupt_pci_int_enb2_enable
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|__cvmx_interrupt_pci_int_sum2_decode
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|__cvmx_interrupt_pescx_dbg_info_en_enable
parameter_list|(
name|int
name|index
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|__cvmx_interrupt_pescx_dbg_info_decode
parameter_list|(
name|int
name|index
parameter_list|)
function_decl|;
end_function_decl

begin_comment
comment|/**  * __cvmx_interrupt_agl_gmx_rxx_int_en_enable enables all interrupt bits in cvmx_agl_gmx_rxx_int_en_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_agl_gmx_rxx_int_en_enable
parameter_list|(
name|int
name|index
parameter_list|)
block|{
name|cvmx_agl_gmx_rxx_int_en_t
name|agl_gmx_rx_int_en
decl_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_AGL_GMX_RXX_INT_REG
argument_list|(
name|index
argument_list|)
argument_list|,
name|cvmx_read_csr
argument_list|(
name|CVMX_AGL_GMX_RXX_INT_REG
argument_list|(
name|index
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|agl_gmx_rx_int_en
operator|.
name|u64
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN56XX
argument_list|)
condition|)
block|{
comment|// Skipping agl_gmx_rx_int_en.s.reserved_20_63
name|agl_gmx_rx_int_en
operator|.
name|s
operator|.
name|pause_drp
operator|=
literal|1
expr_stmt|;
comment|// Skipping agl_gmx_rx_int_en.s.reserved_16_18
name|agl_gmx_rx_int_en
operator|.
name|s
operator|.
name|ifgerr
operator|=
literal|1
expr_stmt|;
comment|//agl_gmx_rx_int_en.s.coldet = 1; // Collsion detect
comment|//agl_gmx_rx_int_en.s.falerr = 1; // False carrier error or extend error after slottime
comment|//agl_gmx_rx_int_en.s.rsverr = 1; // RGMII reserved opcodes
comment|//agl_gmx_rx_int_en.s.pcterr = 1; // Bad Preamble / Protocol
name|agl_gmx_rx_int_en
operator|.
name|s
operator|.
name|ovrerr
operator|=
literal|1
expr_stmt|;
comment|// Skipping agl_gmx_rx_int_en.s.reserved_9_9
name|agl_gmx_rx_int_en
operator|.
name|s
operator|.
name|skperr
operator|=
literal|1
expr_stmt|;
name|agl_gmx_rx_int_en
operator|.
name|s
operator|.
name|rcverr
operator|=
literal|1
expr_stmt|;
name|agl_gmx_rx_int_en
operator|.
name|s
operator|.
name|lenerr
operator|=
literal|1
expr_stmt|;
name|agl_gmx_rx_int_en
operator|.
name|s
operator|.
name|alnerr
operator|=
literal|1
expr_stmt|;
name|agl_gmx_rx_int_en
operator|.
name|s
operator|.
name|fcserr
operator|=
literal|1
expr_stmt|;
name|agl_gmx_rx_int_en
operator|.
name|s
operator|.
name|jabber
operator|=
literal|1
expr_stmt|;
name|agl_gmx_rx_int_en
operator|.
name|s
operator|.
name|maxerr
operator|=
literal|1
expr_stmt|;
comment|// Skipping agl_gmx_rx_int_en.s.reserved_1_1
name|agl_gmx_rx_int_en
operator|.
name|s
operator|.
name|minerr
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN52XX
argument_list|)
condition|)
block|{
comment|// Skipping agl_gmx_rx_int_en.s.reserved_20_63
name|agl_gmx_rx_int_en
operator|.
name|s
operator|.
name|pause_drp
operator|=
literal|1
expr_stmt|;
comment|// Skipping agl_gmx_rx_int_en.s.reserved_16_18
name|agl_gmx_rx_int_en
operator|.
name|s
operator|.
name|ifgerr
operator|=
literal|1
expr_stmt|;
comment|//agl_gmx_rx_int_en.s.coldet = 1; // Collsion detect
comment|//agl_gmx_rx_int_en.s.falerr = 1; // False carrier error or extend error after slottime
comment|//agl_gmx_rx_int_en.s.rsverr = 1; // RGMII reserved opcodes
comment|//agl_gmx_rx_int_en.s.pcterr = 1; // Bad Preamble / Protocol
name|agl_gmx_rx_int_en
operator|.
name|s
operator|.
name|ovrerr
operator|=
literal|1
expr_stmt|;
comment|// Skipping agl_gmx_rx_int_en.s.reserved_9_9
name|agl_gmx_rx_int_en
operator|.
name|s
operator|.
name|skperr
operator|=
literal|1
expr_stmt|;
name|agl_gmx_rx_int_en
operator|.
name|s
operator|.
name|rcverr
operator|=
literal|1
expr_stmt|;
name|agl_gmx_rx_int_en
operator|.
name|s
operator|.
name|lenerr
operator|=
literal|1
expr_stmt|;
name|agl_gmx_rx_int_en
operator|.
name|s
operator|.
name|alnerr
operator|=
literal|1
expr_stmt|;
name|agl_gmx_rx_int_en
operator|.
name|s
operator|.
name|fcserr
operator|=
literal|1
expr_stmt|;
name|agl_gmx_rx_int_en
operator|.
name|s
operator|.
name|jabber
operator|=
literal|1
expr_stmt|;
name|agl_gmx_rx_int_en
operator|.
name|s
operator|.
name|maxerr
operator|=
literal|1
expr_stmt|;
comment|// Skipping agl_gmx_rx_int_en.s.reserved_1_1
name|agl_gmx_rx_int_en
operator|.
name|s
operator|.
name|minerr
operator|=
literal|1
expr_stmt|;
block|}
name|cvmx_write_csr
argument_list|(
name|CVMX_AGL_GMX_RXX_INT_EN
argument_list|(
name|index
argument_list|)
argument_list|,
name|agl_gmx_rx_int_en
operator|.
name|u64
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_agl_gmx_rxx_int_reg_decode decodes all interrupt bits in cvmx_agl_gmx_rxx_int_reg_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_agl_gmx_rxx_int_reg_decode
parameter_list|(
name|int
name|index
parameter_list|)
block|{
name|cvmx_agl_gmx_rxx_int_reg_t
name|agl_gmx_rx_int_reg
decl_stmt|;
name|agl_gmx_rx_int_reg
operator|.
name|u64
operator|=
name|cvmx_read_csr
argument_list|(
name|CVMX_AGL_GMX_RXX_INT_REG
argument_list|(
name|index
argument_list|)
argument_list|)
expr_stmt|;
name|agl_gmx_rx_int_reg
operator|.
name|u64
operator|&=
name|cvmx_read_csr
argument_list|(
name|CVMX_AGL_GMX_RXX_INT_EN
argument_list|(
name|index
argument_list|)
argument_list|)
expr_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_AGL_GMX_RXX_INT_REG
argument_list|(
name|index
argument_list|)
argument_list|,
name|agl_gmx_rx_int_reg
operator|.
name|u64
argument_list|)
expr_stmt|;
comment|// Skipping agl_gmx_rx_int_reg.s.reserved_20_63
if|if
condition|(
name|agl_gmx_rx_int_reg
operator|.
name|s
operator|.
name|pause_drp
condition|)
name|PRINT_ERROR
argument_list|(
literal|"AGL_GMX_RX%d_INT_REG[PAUSE_DRP]: Pause packet was dropped due to full GMX RX FIFO\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
comment|// Skipping agl_gmx_rx_int_reg.s.reserved_16_18
if|if
condition|(
name|agl_gmx_rx_int_reg
operator|.
name|s
operator|.
name|ifgerr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"AGL_GMX_RX%d_INT_REG[IFGERR]: Interframe Gap Violation\n"
literal|"    Does not necessarily indicate a failure\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|agl_gmx_rx_int_reg
operator|.
name|s
operator|.
name|coldet
condition|)
name|PRINT_ERROR
argument_list|(
literal|"AGL_GMX_RX%d_INT_REG[COLDET]: Collision Detection\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|agl_gmx_rx_int_reg
operator|.
name|s
operator|.
name|falerr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"AGL_GMX_RX%d_INT_REG[FALERR]: False carrier error or extend error after slottime\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|agl_gmx_rx_int_reg
operator|.
name|s
operator|.
name|rsverr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"AGL_GMX_RX%d_INT_REG[RSVERR]: MII reserved opcodes\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|agl_gmx_rx_int_reg
operator|.
name|s
operator|.
name|pcterr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"AGL_GMX_RX%d_INT_REG[PCTERR]: Bad Preamble / Protocol\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|agl_gmx_rx_int_reg
operator|.
name|s
operator|.
name|ovrerr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"AGL_GMX_RX%d_INT_REG[OVRERR]: Internal Data Aggregation Overflow\n"
literal|"    This interrupt should never assert\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
comment|// Skipping agl_gmx_rx_int_reg.s.reserved_9_9
if|if
condition|(
name|agl_gmx_rx_int_reg
operator|.
name|s
operator|.
name|skperr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"AGL_GMX_RX%d_INT_REG[SKPERR]: Skipper error\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|agl_gmx_rx_int_reg
operator|.
name|s
operator|.
name|rcverr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"AGL_GMX_RX%d_INT_REG[RCVERR]: Frame was received with MII Data reception error\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|agl_gmx_rx_int_reg
operator|.
name|s
operator|.
name|lenerr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"AGL_GMX_RX%d_INT_REG[LENERR]: Frame was received with length error\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|agl_gmx_rx_int_reg
operator|.
name|s
operator|.
name|alnerr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"AGL_GMX_RX%d_INT_REG[ALNERR]: Frame was received with an alignment error\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|agl_gmx_rx_int_reg
operator|.
name|s
operator|.
name|fcserr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"AGL_GMX_RX%d_INT_REG[FCSERR]: Frame was received with FCS/CRC error\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|agl_gmx_rx_int_reg
operator|.
name|s
operator|.
name|jabber
condition|)
name|PRINT_ERROR
argument_list|(
literal|"AGL_GMX_RX%d_INT_REG[JABBER]: Frame was received with length> sys_length\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|agl_gmx_rx_int_reg
operator|.
name|s
operator|.
name|maxerr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"AGL_GMX_RX%d_INT_REG[MAXERR]: Frame was received with length> max_length\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
comment|// Skipping agl_gmx_rx_int_reg.s.reserved_1_1
if|if
condition|(
name|agl_gmx_rx_int_reg
operator|.
name|s
operator|.
name|minerr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"AGL_GMX_RX%d_INT_REG[MINERR]: Frame was received with length< min_length\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_fpa_int_enb_enable enables all interrupt bits in cvmx_fpa_int_enb_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_fpa_int_enb_enable
parameter_list|(
name|void
parameter_list|)
block|{
name|cvmx_fpa_int_enb_t
name|fpa_int_enb
decl_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_FPA_INT_SUM
argument_list|,
name|cvmx_read_csr
argument_list|(
name|CVMX_FPA_INT_SUM
argument_list|)
argument_list|)
expr_stmt|;
name|fpa_int_enb
operator|.
name|u64
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN56XX
argument_list|)
condition|)
block|{
comment|// Skipping fpa_int_enb.s.reserved_28_63
name|fpa_int_enb
operator|.
name|s
operator|.
name|q7_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q7_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q7_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q6_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q6_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q6_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q5_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q5_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q5_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q4_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q4_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q4_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q3_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q3_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q3_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q2_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q2_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q2_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q1_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q1_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q1_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q0_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q0_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q0_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|fed1_dbe
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|fed1_sbe
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|fed0_dbe
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|fed0_sbe
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN30XX
argument_list|)
condition|)
block|{
comment|// Skipping fpa_int_enb.s.reserved_28_63
name|fpa_int_enb
operator|.
name|s
operator|.
name|q7_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q7_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q7_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q6_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q6_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q6_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q5_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q5_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q5_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q4_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q4_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q4_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q3_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q3_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q3_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q2_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q2_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q2_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q1_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q1_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q1_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q0_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q0_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q0_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|fed1_dbe
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|fed1_sbe
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|fed0_dbe
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|fed0_sbe
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN50XX
argument_list|)
condition|)
block|{
comment|// Skipping fpa_int_enb.s.reserved_28_63
name|fpa_int_enb
operator|.
name|s
operator|.
name|q7_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q7_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q7_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q6_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q6_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q6_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q5_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q5_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q5_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q4_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q4_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q4_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q3_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q3_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q3_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q2_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q2_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q2_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q1_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q1_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q1_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q0_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q0_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q0_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|fed1_dbe
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|fed1_sbe
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|fed0_dbe
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|fed0_sbe
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN38XX
argument_list|)
condition|)
block|{
comment|// Skipping fpa_int_enb.s.reserved_28_63
name|fpa_int_enb
operator|.
name|s
operator|.
name|q7_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q7_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q7_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q6_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q6_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q6_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q5_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q5_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q5_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q4_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q4_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q4_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q3_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q3_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q3_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q2_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q2_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q2_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q1_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q1_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q1_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q0_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q0_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q0_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|fed1_dbe
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|fed1_sbe
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|fed0_dbe
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|fed0_sbe
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN31XX
argument_list|)
condition|)
block|{
comment|// Skipping fpa_int_enb.s.reserved_28_63
name|fpa_int_enb
operator|.
name|s
operator|.
name|q7_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q7_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q7_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q6_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q6_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q6_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q5_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q5_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q5_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q4_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q4_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q4_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q3_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q3_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q3_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q2_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q2_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q2_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q1_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q1_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q1_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q0_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q0_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q0_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|fed1_dbe
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|fed1_sbe
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|fed0_dbe
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|fed0_sbe
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN58XX
argument_list|)
condition|)
block|{
comment|// Skipping fpa_int_enb.s.reserved_28_63
name|fpa_int_enb
operator|.
name|s
operator|.
name|q7_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q7_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q7_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q6_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q6_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q6_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q5_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q5_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q5_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q4_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q4_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q4_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q3_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q3_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q3_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q2_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q2_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q2_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q1_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q1_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q1_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q0_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q0_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q0_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|fed1_dbe
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|fed1_sbe
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|fed0_dbe
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|fed0_sbe
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN52XX
argument_list|)
condition|)
block|{
comment|// Skipping fpa_int_enb.s.reserved_28_63
name|fpa_int_enb
operator|.
name|s
operator|.
name|q7_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q7_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q7_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q6_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q6_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q6_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q5_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q5_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q5_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q4_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q4_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q4_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q3_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q3_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q3_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q2_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q2_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q2_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q1_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q1_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q1_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q0_perr
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q0_coff
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|q0_und
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|fed1_dbe
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|fed1_sbe
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|fed0_dbe
operator|=
literal|1
expr_stmt|;
name|fpa_int_enb
operator|.
name|s
operator|.
name|fed0_sbe
operator|=
literal|1
expr_stmt|;
block|}
name|cvmx_write_csr
argument_list|(
name|CVMX_FPA_INT_ENB
argument_list|,
name|fpa_int_enb
operator|.
name|u64
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_fpa_int_sum_decode decodes all interrupt bits in cvmx_fpa_int_sum_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_fpa_int_sum_decode
parameter_list|(
name|void
parameter_list|)
block|{
name|cvmx_fpa_int_sum_t
name|fpa_int_sum
decl_stmt|;
name|fpa_int_sum
operator|.
name|u64
operator|=
name|cvmx_read_csr
argument_list|(
name|CVMX_FPA_INT_SUM
argument_list|)
expr_stmt|;
name|fpa_int_sum
operator|.
name|u64
operator|&=
name|cvmx_read_csr
argument_list|(
name|CVMX_FPA_INT_ENB
argument_list|)
expr_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_FPA_INT_SUM
argument_list|,
name|fpa_int_sum
operator|.
name|u64
argument_list|)
expr_stmt|;
comment|// Skipping fpa_int_sum.s.reserved_28_63
if|if
condition|(
name|fpa_int_sum
operator|.
name|s
operator|.
name|q7_perr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"FPA_INT_SUM[Q7_PERR]: Set when a Queue0 pointer read from the stack in\n"
literal|"    the L2C does not have the FPA owner ship bit set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|fpa_int_sum
operator|.
name|s
operator|.
name|q7_coff
condition|)
name|PRINT_ERROR
argument_list|(
literal|"FPA_INT_SUM[Q7_COFF]: Set when a Queue0 stack end tag is present and\n"
literal|"    the count available is greater than than pointers\n"
literal|"    present in the FPA.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|fpa_int_sum
operator|.
name|s
operator|.
name|q7_und
condition|)
name|PRINT_ERROR
argument_list|(
literal|"FPA_INT_SUM[Q7_UND]: Set when a Queue0 page count available goes\n"
literal|"    negative.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|fpa_int_sum
operator|.
name|s
operator|.
name|q6_perr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"FPA_INT_SUM[Q6_PERR]: Set when a Queue0 pointer read from the stack in\n"
literal|"    the L2C does not have the FPA owner ship bit set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|fpa_int_sum
operator|.
name|s
operator|.
name|q6_coff
condition|)
name|PRINT_ERROR
argument_list|(
literal|"FPA_INT_SUM[Q6_COFF]: Set when a Queue0 stack end tag is present and\n"
literal|"    the count available is greater than than pointers\n"
literal|"    present in the FPA.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|fpa_int_sum
operator|.
name|s
operator|.
name|q6_und
condition|)
name|PRINT_ERROR
argument_list|(
literal|"FPA_INT_SUM[Q6_UND]: Set when a Queue0 page count available goes\n"
literal|"    negative.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|fpa_int_sum
operator|.
name|s
operator|.
name|q5_perr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"FPA_INT_SUM[Q5_PERR]: Set when a Queue0 pointer read from the stack in\n"
literal|"    the L2C does not have the FPA owner ship bit set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|fpa_int_sum
operator|.
name|s
operator|.
name|q5_coff
condition|)
name|PRINT_ERROR
argument_list|(
literal|"FPA_INT_SUM[Q5_COFF]: Set when a Queue0 stack end tag is present and\n"
literal|"    the count available is greater than than pointers\n"
literal|"    present in the FPA.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|fpa_int_sum
operator|.
name|s
operator|.
name|q5_und
condition|)
name|PRINT_ERROR
argument_list|(
literal|"FPA_INT_SUM[Q5_UND]: Set when a Queue0 page count available goes\n"
literal|"    negative.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|fpa_int_sum
operator|.
name|s
operator|.
name|q4_perr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"FPA_INT_SUM[Q4_PERR]: Set when a Queue0 pointer read from the stack in\n"
literal|"    the L2C does not have the FPA owner ship bit set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|fpa_int_sum
operator|.
name|s
operator|.
name|q4_coff
condition|)
name|PRINT_ERROR
argument_list|(
literal|"FPA_INT_SUM[Q4_COFF]: Set when a Queue0 stack end tag is present and\n"
literal|"    the count available is greater than than pointers\n"
literal|"    present in the FPA.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|fpa_int_sum
operator|.
name|s
operator|.
name|q4_und
condition|)
name|PRINT_ERROR
argument_list|(
literal|"FPA_INT_SUM[Q4_UND]: Set when a Queue0 page count available goes\n"
literal|"    negative.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|fpa_int_sum
operator|.
name|s
operator|.
name|q3_perr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"FPA_INT_SUM[Q3_PERR]: Set when a Queue0 pointer read from the stack in\n"
literal|"    the L2C does not have the FPA owner ship bit set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|fpa_int_sum
operator|.
name|s
operator|.
name|q3_coff
condition|)
name|PRINT_ERROR
argument_list|(
literal|"FPA_INT_SUM[Q3_COFF]: Set when a Queue0 stack end tag is present and\n"
literal|"    the count available is greater than than pointers\n"
literal|"    present in the FPA.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|fpa_int_sum
operator|.
name|s
operator|.
name|q3_und
condition|)
name|PRINT_ERROR
argument_list|(
literal|"FPA_INT_SUM[Q3_UND]: Set when a Queue0 page count available goes\n"
literal|"    negative.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|fpa_int_sum
operator|.
name|s
operator|.
name|q2_perr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"FPA_INT_SUM[Q2_PERR]: Set when a Queue0 pointer read from the stack in\n"
literal|"    the L2C does not have the FPA owner ship bit set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|fpa_int_sum
operator|.
name|s
operator|.
name|q2_coff
condition|)
name|PRINT_ERROR
argument_list|(
literal|"FPA_INT_SUM[Q2_COFF]: Set when a Queue0 stack end tag is present and\n"
literal|"    the count available is greater than than pointers\n"
literal|"    present in the FPA.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|fpa_int_sum
operator|.
name|s
operator|.
name|q2_und
condition|)
name|PRINT_ERROR
argument_list|(
literal|"FPA_INT_SUM[Q2_UND]: Set when a Queue0 page count available goes\n"
literal|"    negative.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|fpa_int_sum
operator|.
name|s
operator|.
name|q1_perr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"FPA_INT_SUM[Q1_PERR]: Set when a Queue0 pointer read from the stack in\n"
literal|"    the L2C does not have the FPA owner ship bit set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|fpa_int_sum
operator|.
name|s
operator|.
name|q1_coff
condition|)
name|PRINT_ERROR
argument_list|(
literal|"FPA_INT_SUM[Q1_COFF]: Set when a Queue0 stack end tag is present and\n"
literal|"    the count available is greater than pointers\n"
literal|"    present in the FPA.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|fpa_int_sum
operator|.
name|s
operator|.
name|q1_und
condition|)
name|PRINT_ERROR
argument_list|(
literal|"FPA_INT_SUM[Q1_UND]: Set when a Queue0 page count available goes\n"
literal|"    negative.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|fpa_int_sum
operator|.
name|s
operator|.
name|q0_perr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"FPA_INT_SUM[Q0_PERR]: Set when a Queue0 pointer read from the stack in\n"
literal|"    the L2C does not have the FPA owner ship bit set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|fpa_int_sum
operator|.
name|s
operator|.
name|q0_coff
condition|)
name|PRINT_ERROR
argument_list|(
literal|"FPA_INT_SUM[Q0_COFF]: Set when a Queue0 stack end tag is present and\n"
literal|"    the count available is greater than pointers\n"
literal|"    present in the FPA.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|fpa_int_sum
operator|.
name|s
operator|.
name|q0_und
condition|)
name|PRINT_ERROR
argument_list|(
literal|"FPA_INT_SUM[Q0_UND]: Set when a Queue0 page count available goes\n"
literal|"    negative.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|fpa_int_sum
operator|.
name|s
operator|.
name|fed1_dbe
condition|)
name|PRINT_ERROR
argument_list|(
literal|"FPA_INT_SUM[FED1_DBE]: Set when a Double Bit Error is detected in FPF1.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|fpa_int_sum
operator|.
name|s
operator|.
name|fed1_sbe
condition|)
name|PRINT_ERROR
argument_list|(
literal|"FPA_INT_SUM[FED1_SBE]: Set when a Single Bit Error is detected in FPF1.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|fpa_int_sum
operator|.
name|s
operator|.
name|fed0_dbe
condition|)
name|PRINT_ERROR
argument_list|(
literal|"FPA_INT_SUM[FED0_DBE]: Set when a Double Bit Error is detected in FPF0.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|fpa_int_sum
operator|.
name|s
operator|.
name|fed0_sbe
condition|)
name|PRINT_ERROR
argument_list|(
literal|"FPA_INT_SUM[FED0_SBE]: Set when a Single Bit Error is detected in FPF0.\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_gmxx_rxx_int_en_enable enables all interrupt bits in cvmx_gmxx_rxx_int_en_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_gmxx_rxx_int_en_enable
parameter_list|(
name|int
name|index
parameter_list|,
name|int
name|block
parameter_list|)
block|{
name|cvmx_gmxx_rxx_int_en_t
name|gmx_rx_int_en
decl_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_GMXX_RXX_INT_REG
argument_list|(
name|index
argument_list|,
name|block
argument_list|)
argument_list|,
name|cvmx_read_csr
argument_list|(
name|CVMX_GMXX_RXX_INT_REG
argument_list|(
name|index
argument_list|,
name|block
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|u64
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN56XX
argument_list|)
condition|)
block|{
comment|// Skipping gmx_rx_int_en.s.reserved_29_63
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|hg2cc
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|hg2fld
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|undat
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|uneop
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|unsop
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|bad_term
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|bad_seq
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|rem_fault
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|loc_fault
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|pause_drp
operator|=
literal|1
expr_stmt|;
comment|// Skipping gmx_rx_int_en.s.reserved_16_18
comment|//gmx_rx_int_en.s.ifgerr = 1;
comment|//gmx_rx_int_en.s.coldet = 1; // Collsion detect
comment|//gmx_rx_int_en.s.falerr = 1; // False carrier error or extend error after slottime
comment|//gmx_rx_int_en.s.rsverr = 1; // RGMII reserved opcodes
comment|//gmx_rx_int_en.s.pcterr = 1; // Bad Preamble / Protocol
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|ovrerr
operator|=
literal|1
expr_stmt|;
comment|// Skipping gmx_rx_int_en.s.reserved_9_9
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|skperr
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|rcverr
operator|=
literal|1
expr_stmt|;
comment|// Skipping gmx_rx_int_en.s.reserved_5_6
comment|//gmx_rx_int_en.s.fcserr = 1; // FCS errors are handled when we get work
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|jabber
operator|=
literal|1
expr_stmt|;
comment|// Skipping gmx_rx_int_en.s.reserved_2_2
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|carext
operator|=
literal|1
expr_stmt|;
comment|// Skipping gmx_rx_int_en.s.reserved_0_0
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN30XX
argument_list|)
condition|)
block|{
comment|// Skipping gmx_rx_int_en.s.reserved_19_63
comment|//gmx_rx_int_en.s.phy_dupx = 1;
comment|//gmx_rx_int_en.s.phy_spd = 1;
comment|//gmx_rx_int_en.s.phy_link = 1;
comment|//gmx_rx_int_en.s.ifgerr = 1;
comment|//gmx_rx_int_en.s.coldet = 1; // Collsion detect
comment|//gmx_rx_int_en.s.falerr = 1; // False carrier error or extend error after slottime
comment|//gmx_rx_int_en.s.rsverr = 1; // RGMII reserved opcodes
comment|//gmx_rx_int_en.s.pcterr = 1; // Bad Preamble / Protocol
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|ovrerr
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|niberr
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|skperr
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|rcverr
operator|=
literal|1
expr_stmt|;
comment|//gmx_rx_int_en.s.lenerr = 1; // Length errors are handled when we get work
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|alnerr
operator|=
literal|1
expr_stmt|;
comment|//gmx_rx_int_en.s.fcserr = 1; // FCS errors are handled when we get work
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|jabber
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|maxerr
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|carext
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|minerr
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN50XX
argument_list|)
condition|)
block|{
comment|// Skipping gmx_rx_int_en.s.reserved_20_63
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|pause_drp
operator|=
literal|1
expr_stmt|;
comment|//gmx_rx_int_en.s.phy_dupx = 1;
comment|//gmx_rx_int_en.s.phy_spd = 1;
comment|//gmx_rx_int_en.s.phy_link = 1;
comment|//gmx_rx_int_en.s.ifgerr = 1;
comment|//gmx_rx_int_en.s.coldet = 1; // Collsion detect
comment|//gmx_rx_int_en.s.falerr = 1; // False carrier error or extend error after slottime
comment|//gmx_rx_int_en.s.rsverr = 1; // RGMII reserved opcodes
comment|//gmx_rx_int_en.s.pcterr = 1; // Bad Preamble / Protocol
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|ovrerr
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|niberr
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|skperr
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|rcverr
operator|=
literal|1
expr_stmt|;
comment|// Skipping gmx_rx_int_en.s.reserved_6_6
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|alnerr
operator|=
literal|1
expr_stmt|;
comment|//gmx_rx_int_en.s.fcserr = 1; // FCS errors are handled when we get work
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|jabber
operator|=
literal|1
expr_stmt|;
comment|// Skipping gmx_rx_int_en.s.reserved_2_2
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|carext
operator|=
literal|1
expr_stmt|;
comment|// Skipping gmx_rx_int_en.s.reserved_0_0
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN38XX
argument_list|)
condition|)
block|{
comment|// Skipping gmx_rx_int_en.s.reserved_19_63
comment|//gmx_rx_int_en.s.phy_dupx = 1;
comment|//gmx_rx_int_en.s.phy_spd = 1;
comment|//gmx_rx_int_en.s.phy_link = 1;
comment|//gmx_rx_int_en.s.ifgerr = 1;
comment|//gmx_rx_int_en.s.coldet = 1; // Collsion detect
comment|//gmx_rx_int_en.s.falerr = 1; // False carrier error or extend error after slottime
comment|//gmx_rx_int_en.s.rsverr = 1; // RGMII reserved opcodes
comment|//gmx_rx_int_en.s.pcterr = 1; // Bad Preamble / Protocol
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|ovrerr
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|niberr
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|skperr
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|rcverr
operator|=
literal|1
expr_stmt|;
comment|//gmx_rx_int_en.s.lenerr = 1; // Length errors are handled when we get work
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|alnerr
operator|=
literal|1
expr_stmt|;
comment|//gmx_rx_int_en.s.fcserr = 1; // FCS errors are handled when we get work
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|jabber
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|maxerr
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|carext
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|minerr
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN31XX
argument_list|)
condition|)
block|{
comment|// Skipping gmx_rx_int_en.s.reserved_19_63
comment|//gmx_rx_int_en.s.phy_dupx = 1;
comment|//gmx_rx_int_en.s.phy_spd = 1;
comment|//gmx_rx_int_en.s.phy_link = 1;
comment|//gmx_rx_int_en.s.ifgerr = 1;
comment|//gmx_rx_int_en.s.coldet = 1; // Collsion detect
comment|//gmx_rx_int_en.s.falerr = 1; // False carrier error or extend error after slottime
comment|//gmx_rx_int_en.s.rsverr = 1; // RGMII reserved opcodes
comment|//gmx_rx_int_en.s.pcterr = 1; // Bad Preamble / Protocol
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|ovrerr
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|niberr
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|skperr
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|rcverr
operator|=
literal|1
expr_stmt|;
comment|//gmx_rx_int_en.s.lenerr = 1; // Length errors are handled when we get work
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|alnerr
operator|=
literal|1
expr_stmt|;
comment|//gmx_rx_int_en.s.fcserr = 1; // FCS errors are handled when we get work
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|jabber
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|maxerr
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|carext
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|minerr
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN58XX
argument_list|)
condition|)
block|{
comment|// Skipping gmx_rx_int_en.s.reserved_20_63
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|pause_drp
operator|=
literal|1
expr_stmt|;
comment|//gmx_rx_int_en.s.phy_dupx = 1;
comment|//gmx_rx_int_en.s.phy_spd = 1;
comment|//gmx_rx_int_en.s.phy_link = 1;
comment|//gmx_rx_int_en.s.ifgerr = 1;
comment|//gmx_rx_int_en.s.coldet = 1; // Collsion detect
comment|//gmx_rx_int_en.s.falerr = 1; // False carrier error or extend error after slottime
comment|//gmx_rx_int_en.s.rsverr = 1; // RGMII reserved opcodes
comment|//gmx_rx_int_en.s.pcterr = 1; // Bad Preamble / Protocol
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|ovrerr
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|niberr
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|skperr
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|rcverr
operator|=
literal|1
expr_stmt|;
comment|//gmx_rx_int_en.s.lenerr = 1; // Length errors are handled when we get work
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|alnerr
operator|=
literal|1
expr_stmt|;
comment|//gmx_rx_int_en.s.fcserr = 1; // FCS errors are handled when we get work
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|jabber
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|maxerr
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|carext
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|minerr
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN52XX
argument_list|)
condition|)
block|{
comment|// Skipping gmx_rx_int_en.s.reserved_29_63
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|hg2cc
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|hg2fld
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|undat
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|uneop
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|unsop
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|bad_term
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|bad_seq
operator|=
literal|0
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|rem_fault
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|loc_fault
operator|=
literal|0
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|pause_drp
operator|=
literal|1
expr_stmt|;
comment|// Skipping gmx_rx_int_en.s.reserved_16_18
comment|//gmx_rx_int_en.s.ifgerr = 1;
comment|//gmx_rx_int_en.s.coldet = 1; // Collsion detect
comment|//gmx_rx_int_en.s.falerr = 1; // False carrier error or extend error after slottime
comment|//gmx_rx_int_en.s.rsverr = 1; // RGMII reserved opcodes
comment|//gmx_rx_int_en.s.pcterr = 1; // Bad Preamble / Protocol
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|ovrerr
operator|=
literal|1
expr_stmt|;
comment|// Skipping gmx_rx_int_en.s.reserved_9_9
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|skperr
operator|=
literal|1
expr_stmt|;
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|rcverr
operator|=
literal|1
expr_stmt|;
comment|// Skipping gmx_rx_int_en.s.reserved_5_6
comment|//gmx_rx_int_en.s.fcserr = 1; // FCS errors are handled when we get work
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|jabber
operator|=
literal|1
expr_stmt|;
comment|// Skipping gmx_rx_int_en.s.reserved_2_2
name|gmx_rx_int_en
operator|.
name|s
operator|.
name|carext
operator|=
literal|1
expr_stmt|;
comment|// Skipping gmx_rx_int_en.s.reserved_0_0
block|}
name|cvmx_write_csr
argument_list|(
name|CVMX_GMXX_RXX_INT_EN
argument_list|(
name|index
argument_list|,
name|block
argument_list|)
argument_list|,
name|gmx_rx_int_en
operator|.
name|u64
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_gmxx_rxx_int_reg_decode decodes all interrupt bits in cvmx_gmxx_rxx_int_reg_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_gmxx_rxx_int_reg_decode
parameter_list|(
name|int
name|index
parameter_list|,
name|int
name|block
parameter_list|)
block|{
name|cvmx_gmxx_rxx_int_reg_t
name|gmx_rx_int_reg
decl_stmt|;
name|gmx_rx_int_reg
operator|.
name|u64
operator|=
name|cvmx_read_csr
argument_list|(
name|CVMX_GMXX_RXX_INT_REG
argument_list|(
name|index
argument_list|,
name|block
argument_list|)
argument_list|)
expr_stmt|;
comment|/* Don't clear inband status bits so someone else can use them */
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|phy_dupx
operator|=
literal|0
expr_stmt|;
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|phy_spd
operator|=
literal|0
expr_stmt|;
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|phy_link
operator|=
literal|0
expr_stmt|;
name|gmx_rx_int_reg
operator|.
name|u64
operator|&=
name|cvmx_read_csr
argument_list|(
name|CVMX_GMXX_RXX_INT_EN
argument_list|(
name|index
argument_list|,
name|block
argument_list|)
argument_list|)
expr_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_GMXX_RXX_INT_REG
argument_list|(
name|index
argument_list|,
name|block
argument_list|)
argument_list|,
name|gmx_rx_int_reg
operator|.
name|u64
argument_list|)
expr_stmt|;
comment|// Skipping gmx_rx_int_reg.s.reserved_29_63
if|if
condition|(
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|hg2cc
condition|)
name|PRINT_ERROR
argument_list|(
literal|"GMX%d_RX%d_INT_REG[HG2CC]: HiGig2 received message CRC or Control char  error\n"
literal|"    Set when either CRC8 error detected or when\n"
literal|"    a Control Character is found in the message\n"
literal|"    bytes after the K.SOM\n"
literal|"    NOTE: HG2CC has higher priority than HG2FLD\n"
literal|"          i.e. a HiGig2 message that results in HG2CC\n"
literal|"          getting set, will never set HG2FLD.\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|hg2fld
condition|)
name|PRINT_ERROR
argument_list|(
literal|"GMX%d_RX%d_INT_REG[HG2FLD]: HiGig2 received message field error, as below\n"
literal|"    1) MSG_TYPE field not 6'b00_0000\n"
literal|"       i.e. it is not a FLOW CONTROL message, which\n"
literal|"       is the only defined type for HiGig2\n"
literal|"    2) FWD_TYPE field not 2'b00 i.e. Link Level msg\n"
literal|"       which is the only defined type for HiGig2\n"
literal|"    3) FC_OBJECT field is neither 4'b0000 for\n"
literal|"       Physical Link nor 4'b0010 for Logical Link.\n"
literal|"       Those are the only two defined types in HiGig2\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|undat
condition|)
name|PRINT_ERROR
argument_list|(
literal|"GMX%d_RX%d_INT_REG[UNDAT]: Unexpected Data\n"
literal|"    (XAUI Mode only)\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|uneop
condition|)
name|PRINT_ERROR
argument_list|(
literal|"GMX%d_RX%d_INT_REG[UNEOP]: Unexpected EOP\n"
literal|"    (XAUI Mode only)\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|unsop
condition|)
name|PRINT_ERROR
argument_list|(
literal|"GMX%d_RX%d_INT_REG[UNSOP]: Unexpected SOP\n"
literal|"    (XAUI Mode only)\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|bad_term
condition|)
name|PRINT_ERROR
argument_list|(
literal|"GMX%d_RX%d_INT_REG[BAD_TERM]: Frame is terminated by control character other\n"
literal|"    than /T/.  The error propagation control\n"
literal|"    character /E/ will be included as part of the\n"
literal|"    frame and does not cause a frame termination.\n"
literal|"    (XAUI Mode only)\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|bad_seq
condition|)
name|PRINT_ERROR
argument_list|(
literal|"GMX%d_RX%d_INT_REG[BAD_SEQ]: Reserved Sequence Deteted\n"
literal|"    (XAUI Mode only)\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|rem_fault
condition|)
name|PRINT_ERROR
argument_list|(
literal|"GMX%d_RX%d_INT_REG[REM_FAULT]: Remote Fault Sequence Deteted\n"
literal|"    (XAUI Mode only)\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|loc_fault
condition|)
name|PRINT_ERROR
argument_list|(
literal|"GMX%d_RX%d_INT_REG[LOC_FAULT]: Local Fault Sequence Deteted\n"
literal|"    (XAUI Mode only)\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|pause_drp
condition|)
name|PRINT_ERROR
argument_list|(
literal|"GMX%d_RX%d_INT_REG[PAUSE_DRP]: Pause packet was dropped due to full GMX RX FIFO\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|#
directive|if
literal|0
block|if (gmx_rx_int_reg.s.phy_dupx)         PRINT_ERROR("GMX%d_RX%d_INT_REG[PHY_DUPX]: Change in the RMGII inbound LinkDuplex\n", block, index);     if (gmx_rx_int_reg.s.phy_spd)         PRINT_ERROR("GMX%d_RX%d_INT_REG[PHY_SPD]: Change in the RMGII inbound LinkSpeed\n", block, index);     if (gmx_rx_int_reg.s.phy_link)         PRINT_ERROR("GMX%d_RX%d_INT_REG[PHY_LINK]: Change in the RMGII inbound LinkStatus\n", block, index);
endif|#
directive|endif
if|if
condition|(
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|ifgerr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"GMX%d_RX%d_INT_REG[IFGERR]: Interframe Gap Violation\n"
literal|"    Does not necessarily indicate a failure\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|coldet
condition|)
name|PRINT_ERROR
argument_list|(
literal|"GMX%d_RX%d_INT_REG[COLDET]: Collision Detection\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|falerr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"GMX%d_RX%d_INT_REG[FALERR]: False carrier error or extend error after slottime\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|rsverr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"GMX%d_RX%d_INT_REG[RSVERR]: RGMII reserved opcodes\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|pcterr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"GMX%d_RX%d_INT_REG[PCTERR]: Bad Preamble / Protocol\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|ovrerr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"GMX%d_RX%d_INT_REG[OVRERR]: Internal Data Aggregation Overflow\n"
literal|"    This interrupt should never assert\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|niberr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"GMX%d_RX%d_INT_REG[NIBERR]: Nibble error (hi_nibble != lo_nibble)\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|skperr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"GMX%d_RX%d_INT_REG[SKPERR]: Skipper error\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|rcverr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"GMX%d_RX%d_INT_REG[RCVERR]: Frame was received with RMGII Data reception error\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|lenerr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"GMX%d_RX%d_INT_REG[LENERR]: Frame was received with length error\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|alnerr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"GMX%d_RX%d_INT_REG[ALNERR]: Frame was received with an alignment error\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|fcserr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"GMX%d_RX%d_INT_REG[FCSERR]: Frame was received with FCS/CRC error\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|jabber
condition|)
name|PRINT_ERROR
argument_list|(
literal|"GMX%d_RX%d_INT_REG[JABBER]: Frame was received with length> sys_length\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|maxerr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"GMX%d_RX%d_INT_REG[MAXERR]: Frame was received with length> max_length\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|carext
condition|)
name|PRINT_ERROR
argument_list|(
literal|"GMX%d_RX%d_INT_REG[CAREXT]: RGMII carrier extend error\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|gmx_rx_int_reg
operator|.
name|s
operator|.
name|minerr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"GMX%d_RX%d_INT_REG[MINERR]: Frame was received with length< min_length\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_iob_int_enb_enable enables all interrupt bits in cvmx_iob_int_enb_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_iob_int_enb_enable
parameter_list|(
name|void
parameter_list|)
block|{
name|cvmx_iob_int_enb_t
name|iob_int_enb
decl_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_IOB_INT_SUM
argument_list|,
name|cvmx_read_csr
argument_list|(
name|CVMX_IOB_INT_SUM
argument_list|)
argument_list|)
expr_stmt|;
name|iob_int_enb
operator|.
name|u64
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN56XX
argument_list|)
condition|)
block|{
comment|// Skipping iob_int_enb.s.reserved_6_63
name|iob_int_enb
operator|.
name|s
operator|.
name|p_dat
operator|=
literal|1
expr_stmt|;
name|iob_int_enb
operator|.
name|s
operator|.
name|p_eop
operator|=
literal|1
expr_stmt|;
name|iob_int_enb
operator|.
name|s
operator|.
name|p_sop
operator|=
literal|1
expr_stmt|;
comment|/* These interrupts are disabled on CN56XXp2.X due to errata IOB-800 */
if|if
condition|(
operator|!
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN56XX_PASS2_X
argument_list|)
condition|)
block|{
name|iob_int_enb
operator|.
name|s
operator|.
name|np_dat
operator|=
literal|1
expr_stmt|;
name|iob_int_enb
operator|.
name|s
operator|.
name|np_eop
operator|=
literal|1
expr_stmt|;
name|iob_int_enb
operator|.
name|s
operator|.
name|np_sop
operator|=
literal|1
expr_stmt|;
block|}
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN30XX
argument_list|)
condition|)
block|{
comment|// Skipping iob_int_enb.s.reserved_4_63
name|iob_int_enb
operator|.
name|s
operator|.
name|p_eop
operator|=
literal|1
expr_stmt|;
name|iob_int_enb
operator|.
name|s
operator|.
name|p_sop
operator|=
literal|1
expr_stmt|;
name|iob_int_enb
operator|.
name|s
operator|.
name|np_eop
operator|=
literal|1
expr_stmt|;
name|iob_int_enb
operator|.
name|s
operator|.
name|np_sop
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN50XX
argument_list|)
condition|)
block|{
comment|// Skipping iob_int_enb.s.reserved_6_63
name|iob_int_enb
operator|.
name|s
operator|.
name|p_dat
operator|=
literal|1
expr_stmt|;
name|iob_int_enb
operator|.
name|s
operator|.
name|np_dat
operator|=
literal|1
expr_stmt|;
name|iob_int_enb
operator|.
name|s
operator|.
name|p_eop
operator|=
literal|1
expr_stmt|;
name|iob_int_enb
operator|.
name|s
operator|.
name|p_sop
operator|=
literal|1
expr_stmt|;
name|iob_int_enb
operator|.
name|s
operator|.
name|np_eop
operator|=
literal|1
expr_stmt|;
name|iob_int_enb
operator|.
name|s
operator|.
name|np_sop
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN38XX
argument_list|)
condition|)
block|{
comment|// Skipping iob_int_enb.s.reserved_4_63
name|iob_int_enb
operator|.
name|s
operator|.
name|p_eop
operator|=
literal|1
expr_stmt|;
name|iob_int_enb
operator|.
name|s
operator|.
name|p_sop
operator|=
literal|1
expr_stmt|;
name|iob_int_enb
operator|.
name|s
operator|.
name|np_eop
operator|=
literal|1
expr_stmt|;
name|iob_int_enb
operator|.
name|s
operator|.
name|np_sop
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN31XX
argument_list|)
condition|)
block|{
comment|// Skipping iob_int_enb.s.reserved_4_63
name|iob_int_enb
operator|.
name|s
operator|.
name|p_eop
operator|=
literal|1
expr_stmt|;
name|iob_int_enb
operator|.
name|s
operator|.
name|p_sop
operator|=
literal|1
expr_stmt|;
name|iob_int_enb
operator|.
name|s
operator|.
name|np_eop
operator|=
literal|1
expr_stmt|;
name|iob_int_enb
operator|.
name|s
operator|.
name|np_sop
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN58XX
argument_list|)
condition|)
block|{
comment|// Skipping iob_int_enb.s.reserved_6_63
name|iob_int_enb
operator|.
name|s
operator|.
name|p_dat
operator|=
literal|1
expr_stmt|;
name|iob_int_enb
operator|.
name|s
operator|.
name|np_dat
operator|=
literal|1
expr_stmt|;
name|iob_int_enb
operator|.
name|s
operator|.
name|p_eop
operator|=
literal|1
expr_stmt|;
name|iob_int_enb
operator|.
name|s
operator|.
name|p_sop
operator|=
literal|1
expr_stmt|;
name|iob_int_enb
operator|.
name|s
operator|.
name|np_eop
operator|=
literal|1
expr_stmt|;
name|iob_int_enb
operator|.
name|s
operator|.
name|np_sop
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN52XX
argument_list|)
condition|)
block|{
comment|// Skipping iob_int_enb.s.reserved_6_63
name|iob_int_enb
operator|.
name|s
operator|.
name|p_dat
operator|=
literal|1
expr_stmt|;
name|iob_int_enb
operator|.
name|s
operator|.
name|p_eop
operator|=
literal|1
expr_stmt|;
name|iob_int_enb
operator|.
name|s
operator|.
name|p_sop
operator|=
literal|1
expr_stmt|;
comment|/* These interrupts are disabled on CN52XXp2.X due to errata IOB-800 */
if|if
condition|(
operator|!
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN52XX_PASS2_X
argument_list|)
condition|)
block|{
name|iob_int_enb
operator|.
name|s
operator|.
name|np_dat
operator|=
literal|1
expr_stmt|;
name|iob_int_enb
operator|.
name|s
operator|.
name|np_eop
operator|=
literal|1
expr_stmt|;
name|iob_int_enb
operator|.
name|s
operator|.
name|np_sop
operator|=
literal|1
expr_stmt|;
block|}
block|}
name|cvmx_write_csr
argument_list|(
name|CVMX_IOB_INT_ENB
argument_list|,
name|iob_int_enb
operator|.
name|u64
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_iob_int_sum_decode decodes all interrupt bits in cvmx_iob_int_sum_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_iob_int_sum_decode
parameter_list|(
name|void
parameter_list|)
block|{
name|cvmx_iob_int_sum_t
name|iob_int_sum
decl_stmt|;
name|iob_int_sum
operator|.
name|u64
operator|=
name|cvmx_read_csr
argument_list|(
name|CVMX_IOB_INT_SUM
argument_list|)
expr_stmt|;
name|iob_int_sum
operator|.
name|u64
operator|&=
name|cvmx_read_csr
argument_list|(
name|CVMX_IOB_INT_ENB
argument_list|)
expr_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_IOB_INT_SUM
argument_list|,
name|iob_int_sum
operator|.
name|u64
argument_list|)
expr_stmt|;
comment|// Skipping iob_int_sum.s.reserved_6_63
if|if
condition|(
name|iob_int_sum
operator|.
name|s
operator|.
name|p_dat
condition|)
name|PRINT_ERROR
argument_list|(
literal|"IOB_INT_SUM[P_DAT]: Set when a data arrives before a SOP for the same\n"
literal|"    port for a passthrough packet.\n"
literal|"    The first detected error associated with bits [5:0]\n"
literal|"    of this register will only be set here. A new bit\n"
literal|"    can be set when the previous reported bit is cleared.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|iob_int_sum
operator|.
name|s
operator|.
name|np_dat
condition|)
name|PRINT_ERROR
argument_list|(
literal|"IOB_INT_SUM[NP_DAT]: Set when a data arrives before a SOP for the same\n"
literal|"    port for a non-passthrough packet.\n"
literal|"    The first detected error associated with bits [5:0]\n"
literal|"    of this register will only be set here. A new bit\n"
literal|"    can be set when the previous reported bit is cleared.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|iob_int_sum
operator|.
name|s
operator|.
name|p_eop
condition|)
name|PRINT_ERROR
argument_list|(
literal|"IOB_INT_SUM[P_EOP]: Set when a EOP is followed by an EOP for the same\n"
literal|"    port for a passthrough packet.\n"
literal|"    The first detected error associated with bits [5:0]\n"
literal|"    of this register will only be set here. A new bit\n"
literal|"    can be set when the previous reported bit is cleared.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|iob_int_sum
operator|.
name|s
operator|.
name|p_sop
condition|)
name|PRINT_ERROR
argument_list|(
literal|"IOB_INT_SUM[P_SOP]: Set when a SOP is followed by an SOP for the same\n"
literal|"    port for a passthrough packet.\n"
literal|"    The first detected error associated with bits [5:0]\n"
literal|"    of this register will only be set here. A new bit\n"
literal|"    can be set when the previous reported bit is cleared.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|iob_int_sum
operator|.
name|s
operator|.
name|np_eop
condition|)
name|PRINT_ERROR
argument_list|(
literal|"IOB_INT_SUM[NP_EOP]: Set when a EOP is followed by an EOP for the same\n"
literal|"    port for a non-passthrough packet.\n"
literal|"    The first detected error associated with bits [5:0]\n"
literal|"    of this register will only be set here. A new bit\n"
literal|"    can be set when the previous reported bit is cleared.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|iob_int_sum
operator|.
name|s
operator|.
name|np_sop
condition|)
name|PRINT_ERROR
argument_list|(
literal|"IOB_INT_SUM[NP_SOP]: Set when a SOP is followed by an SOP for the same\n"
literal|"    port for a non-passthrough packet.\n"
literal|"    The first detected error associated with bits [5:0]\n"
literal|"    of this register will only be set here. A new bit\n"
literal|"    can be set when the previous reported bit is cleared.\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_ipd_int_enb_enable enables all interrupt bits in cvmx_ipd_int_enb_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_ipd_int_enb_enable
parameter_list|(
name|void
parameter_list|)
block|{
name|cvmx_ipd_int_enb_t
name|ipd_int_enb
decl_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_IPD_INT_SUM
argument_list|,
name|cvmx_read_csr
argument_list|(
name|CVMX_IPD_INT_SUM
argument_list|)
argument_list|)
expr_stmt|;
name|ipd_int_enb
operator|.
name|u64
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN56XX
argument_list|)
condition|)
block|{
comment|// Skipping ipd_int_enb.s.reserved_12_63
comment|//ipd_int_enb.s.pq_sub = 1; // Disable per port backpressure overflow checking since it happens when not in use
comment|//ipd_int_enb.s.pq_add = 1; // Disable per port backpressure overflow checking since it happens when not in use
name|ipd_int_enb
operator|.
name|s
operator|.
name|bc_ovr
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|d_coll
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|c_coll
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|cc_ovr
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|dc_ovr
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|bp_sub
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|prc_par3
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|prc_par2
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|prc_par1
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|prc_par0
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN30XX
argument_list|)
condition|)
block|{
comment|// Skipping ipd_int_enb.s.reserved_5_63
name|ipd_int_enb
operator|.
name|s
operator|.
name|bp_sub
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|prc_par3
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|prc_par2
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|prc_par1
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|prc_par0
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN50XX
argument_list|)
condition|)
block|{
comment|// Skipping ipd_int_enb.s.reserved_10_63
name|ipd_int_enb
operator|.
name|s
operator|.
name|bc_ovr
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|d_coll
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|c_coll
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|cc_ovr
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|dc_ovr
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|bp_sub
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|prc_par3
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|prc_par2
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|prc_par1
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|prc_par0
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN38XX
argument_list|)
condition|)
block|{
comment|// Skipping ipd_int_enb.s.reserved_10_63
if|if
condition|(
operator|!
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN38XX_PASS2
argument_list|)
condition|)
block|{
name|ipd_int_enb
operator|.
name|s
operator|.
name|bc_ovr
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|d_coll
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|c_coll
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|cc_ovr
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|dc_ovr
operator|=
literal|1
expr_stmt|;
block|}
name|ipd_int_enb
operator|.
name|s
operator|.
name|bp_sub
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|prc_par3
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|prc_par2
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|prc_par1
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|prc_par0
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN31XX
argument_list|)
condition|)
block|{
comment|// Skipping ipd_int_enb.s.reserved_5_63
name|ipd_int_enb
operator|.
name|s
operator|.
name|bp_sub
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|prc_par3
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|prc_par2
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|prc_par1
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|prc_par0
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN58XX
argument_list|)
condition|)
block|{
comment|// Skipping ipd_int_enb.s.reserved_10_63
name|ipd_int_enb
operator|.
name|s
operator|.
name|bc_ovr
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|d_coll
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|c_coll
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|cc_ovr
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|dc_ovr
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|bp_sub
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|prc_par3
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|prc_par2
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|prc_par1
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|prc_par0
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN52XX
argument_list|)
condition|)
block|{
comment|// Skipping ipd_int_enb.s.reserved_12_63
comment|//ipd_int_enb.s.pq_sub = 1; // Disable per port backpressure overflow checking since it happens when not in use
comment|//ipd_int_enb.s.pq_add = 1; // Disable per port backpressure overflow checking since it happens when not in use
name|ipd_int_enb
operator|.
name|s
operator|.
name|bc_ovr
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|d_coll
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|c_coll
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|cc_ovr
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|dc_ovr
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|bp_sub
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|prc_par3
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|prc_par2
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|prc_par1
operator|=
literal|1
expr_stmt|;
name|ipd_int_enb
operator|.
name|s
operator|.
name|prc_par0
operator|=
literal|1
expr_stmt|;
block|}
name|cvmx_write_csr
argument_list|(
name|CVMX_IPD_INT_ENB
argument_list|,
name|ipd_int_enb
operator|.
name|u64
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_ipd_int_sum_decode decodes all interrupt bits in cvmx_ipd_int_sum_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_ipd_int_sum_decode
parameter_list|(
name|void
parameter_list|)
block|{
name|cvmx_ipd_int_sum_t
name|ipd_int_sum
decl_stmt|;
name|ipd_int_sum
operator|.
name|u64
operator|=
name|cvmx_read_csr
argument_list|(
name|CVMX_IPD_INT_SUM
argument_list|)
expr_stmt|;
name|ipd_int_sum
operator|.
name|u64
operator|&=
name|cvmx_read_csr
argument_list|(
name|CVMX_IPD_INT_ENB
argument_list|)
expr_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_IPD_INT_SUM
argument_list|,
name|ipd_int_sum
operator|.
name|u64
argument_list|)
expr_stmt|;
comment|// Skipping ipd_int_sum.s.reserved_12_63
if|if
condition|(
name|ipd_int_sum
operator|.
name|s
operator|.
name|pq_sub
condition|)
name|PRINT_ERROR
argument_list|(
literal|"IPD_INT_SUM[PQ_SUB]: Set when a port-qos does an sub to the count\n"
literal|"    that causes the counter to wrap.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|ipd_int_sum
operator|.
name|s
operator|.
name|pq_add
condition|)
name|PRINT_ERROR
argument_list|(
literal|"IPD_INT_SUM[PQ_ADD]: Set when a port-qos does an add to the count\n"
literal|"    that causes the counter to wrap.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|ipd_int_sum
operator|.
name|s
operator|.
name|bc_ovr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"IPD_INT_SUM[BC_OVR]: Set when the byte-count to send to IOB overflows.\n"
literal|"    This is a PASS-3 Field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|ipd_int_sum
operator|.
name|s
operator|.
name|d_coll
condition|)
name|PRINT_ERROR
argument_list|(
literal|"IPD_INT_SUM[D_COLL]: Set when the packet/WQE data to be sent to IOB\n"
literal|"    collides.\n"
literal|"    This is a PASS-3 Field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|ipd_int_sum
operator|.
name|s
operator|.
name|c_coll
condition|)
name|PRINT_ERROR
argument_list|(
literal|"IPD_INT_SUM[C_COLL]: Set when the packet/WQE commands to be sent to IOB\n"
literal|"    collides.\n"
literal|"    This is a PASS-3 Field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|ipd_int_sum
operator|.
name|s
operator|.
name|cc_ovr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"IPD_INT_SUM[CC_OVR]: Set when the command credits to the IOB overflow.\n"
literal|"    This is a PASS-3 Field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|ipd_int_sum
operator|.
name|s
operator|.
name|dc_ovr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"IPD_INT_SUM[DC_OVR]: Set when the data credits to the IOB overflow.\n"
literal|"    This is a PASS-3 Field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|ipd_int_sum
operator|.
name|s
operator|.
name|bp_sub
condition|)
name|PRINT_ERROR
argument_list|(
literal|"IPD_INT_SUM[BP_SUB]: Set when a backpressure subtract is done with a\n"
literal|"    supplied illegal value.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|ipd_int_sum
operator|.
name|s
operator|.
name|prc_par3
condition|)
name|PRINT_ERROR
argument_list|(
literal|"IPD_INT_SUM[PRC_PAR3]: Set when a parity error is dected for bits\n"
literal|"    [127:96] of the PBM memory.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|ipd_int_sum
operator|.
name|s
operator|.
name|prc_par2
condition|)
name|PRINT_ERROR
argument_list|(
literal|"IPD_INT_SUM[PRC_PAR2]: Set when a parity error is dected for bits\n"
literal|"    [95:64] of the PBM memory.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|ipd_int_sum
operator|.
name|s
operator|.
name|prc_par1
condition|)
name|PRINT_ERROR
argument_list|(
literal|"IPD_INT_SUM[PRC_PAR1]: Set when a parity error is dected for bits\n"
literal|"    [63:32] of the PBM memory.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|ipd_int_sum
operator|.
name|s
operator|.
name|prc_par0
condition|)
name|PRINT_ERROR
argument_list|(
literal|"IPD_INT_SUM[PRC_PAR0]: Set when a parity error is dected for bits\n"
literal|"    [31:0] of the PBM memory.\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_key_int_enb_enable enables all interrupt bits in cvmx_key_int_enb_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_key_int_enb_enable
parameter_list|(
name|void
parameter_list|)
block|{
name|cvmx_key_int_enb_t
name|key_int_enb
decl_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_KEY_INT_SUM
argument_list|,
name|cvmx_read_csr
argument_list|(
name|CVMX_KEY_INT_SUM
argument_list|)
argument_list|)
expr_stmt|;
name|key_int_enb
operator|.
name|u64
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN56XX
argument_list|)
condition|)
block|{
comment|// Skipping key_int_enb.s.reserved_4_63
name|key_int_enb
operator|.
name|s
operator|.
name|ked1_dbe
operator|=
literal|1
expr_stmt|;
name|key_int_enb
operator|.
name|s
operator|.
name|ked1_sbe
operator|=
literal|1
expr_stmt|;
name|key_int_enb
operator|.
name|s
operator|.
name|ked0_dbe
operator|=
literal|1
expr_stmt|;
name|key_int_enb
operator|.
name|s
operator|.
name|ked0_sbe
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN38XX
argument_list|)
condition|)
block|{
comment|// Skipping key_int_enb.s.reserved_4_63
name|key_int_enb
operator|.
name|s
operator|.
name|ked1_dbe
operator|=
literal|1
expr_stmt|;
name|key_int_enb
operator|.
name|s
operator|.
name|ked1_sbe
operator|=
literal|1
expr_stmt|;
name|key_int_enb
operator|.
name|s
operator|.
name|ked0_dbe
operator|=
literal|1
expr_stmt|;
name|key_int_enb
operator|.
name|s
operator|.
name|ked0_sbe
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN58XX
argument_list|)
condition|)
block|{
comment|// Skipping key_int_enb.s.reserved_4_63
name|key_int_enb
operator|.
name|s
operator|.
name|ked1_dbe
operator|=
literal|1
expr_stmt|;
name|key_int_enb
operator|.
name|s
operator|.
name|ked1_sbe
operator|=
literal|1
expr_stmt|;
name|key_int_enb
operator|.
name|s
operator|.
name|ked0_dbe
operator|=
literal|1
expr_stmt|;
name|key_int_enb
operator|.
name|s
operator|.
name|ked0_sbe
operator|=
literal|1
expr_stmt|;
block|}
name|cvmx_write_csr
argument_list|(
name|CVMX_KEY_INT_ENB
argument_list|,
name|key_int_enb
operator|.
name|u64
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_key_int_sum_decode decodes all interrupt bits in cvmx_key_int_sum_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_key_int_sum_decode
parameter_list|(
name|void
parameter_list|)
block|{
name|cvmx_key_int_sum_t
name|key_int_sum
decl_stmt|;
name|key_int_sum
operator|.
name|u64
operator|=
name|cvmx_read_csr
argument_list|(
name|CVMX_KEY_INT_SUM
argument_list|)
expr_stmt|;
name|key_int_sum
operator|.
name|u64
operator|&=
name|cvmx_read_csr
argument_list|(
name|CVMX_KEY_INT_ENB
argument_list|)
expr_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_KEY_INT_SUM
argument_list|,
name|key_int_sum
operator|.
name|u64
argument_list|)
expr_stmt|;
comment|// Skipping key_int_sum.s.reserved_4_63
if|if
condition|(
name|key_int_sum
operator|.
name|s
operator|.
name|ked1_dbe
condition|)
name|PRINT_ERROR
argument_list|(
literal|"KEY_INT_SUM[KED1_DBE]: Error bit\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|key_int_sum
operator|.
name|s
operator|.
name|ked1_sbe
condition|)
name|PRINT_ERROR
argument_list|(
literal|"KEY_INT_SUM[KED1_SBE]: Error bit\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|key_int_sum
operator|.
name|s
operator|.
name|ked0_dbe
condition|)
name|PRINT_ERROR
argument_list|(
literal|"KEY_INT_SUM[KED0_DBE]: Error bit\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|key_int_sum
operator|.
name|s
operator|.
name|ked0_sbe
condition|)
name|PRINT_ERROR
argument_list|(
literal|"KEY_INT_SUM[KED0_SBE]: Error bit\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_mio_boot_int_enable enables all interrupt bits in cvmx_mio_boot_int_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_mio_boot_int_enable
parameter_list|(
name|void
parameter_list|)
block|{
name|cvmx_mio_boot_int_t
name|mio_boot_int
decl_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_MIO_BOOT_ERR
argument_list|,
name|cvmx_read_csr
argument_list|(
name|CVMX_MIO_BOOT_ERR
argument_list|)
argument_list|)
expr_stmt|;
name|mio_boot_int
operator|.
name|u64
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN56XX
argument_list|)
condition|)
block|{
comment|// Skipping mio_boot_int.s.reserved_2_63
name|mio_boot_int
operator|.
name|s
operator|.
name|wait_int
operator|=
literal|1
expr_stmt|;
name|mio_boot_int
operator|.
name|s
operator|.
name|adr_int
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN30XX
argument_list|)
condition|)
block|{
comment|// Skipping mio_boot_int.s.reserved_2_63
name|mio_boot_int
operator|.
name|s
operator|.
name|wait_int
operator|=
literal|1
expr_stmt|;
name|mio_boot_int
operator|.
name|s
operator|.
name|adr_int
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN50XX
argument_list|)
condition|)
block|{
comment|// Skipping mio_boot_int.s.reserved_2_63
name|mio_boot_int
operator|.
name|s
operator|.
name|wait_int
operator|=
literal|1
expr_stmt|;
name|mio_boot_int
operator|.
name|s
operator|.
name|adr_int
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN38XX
argument_list|)
condition|)
block|{
comment|// Skipping mio_boot_int.s.reserved_2_63
name|mio_boot_int
operator|.
name|s
operator|.
name|wait_int
operator|=
literal|1
expr_stmt|;
name|mio_boot_int
operator|.
name|s
operator|.
name|adr_int
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN31XX
argument_list|)
condition|)
block|{
comment|// Skipping mio_boot_int.s.reserved_2_63
name|mio_boot_int
operator|.
name|s
operator|.
name|wait_int
operator|=
literal|1
expr_stmt|;
name|mio_boot_int
operator|.
name|s
operator|.
name|adr_int
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN58XX
argument_list|)
condition|)
block|{
comment|// Skipping mio_boot_int.s.reserved_2_63
name|mio_boot_int
operator|.
name|s
operator|.
name|wait_int
operator|=
literal|1
expr_stmt|;
name|mio_boot_int
operator|.
name|s
operator|.
name|adr_int
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN52XX
argument_list|)
condition|)
block|{
comment|// Skipping mio_boot_int.s.reserved_2_63
name|mio_boot_int
operator|.
name|s
operator|.
name|wait_int
operator|=
literal|1
expr_stmt|;
name|mio_boot_int
operator|.
name|s
operator|.
name|adr_int
operator|=
literal|1
expr_stmt|;
block|}
name|cvmx_write_csr
argument_list|(
name|CVMX_MIO_BOOT_INT
argument_list|,
name|mio_boot_int
operator|.
name|u64
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_mio_boot_err_decode decodes all interrupt bits in cvmx_mio_boot_err_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_mio_boot_err_decode
parameter_list|(
name|void
parameter_list|)
block|{
name|cvmx_mio_boot_err_t
name|mio_boot_err
decl_stmt|;
name|mio_boot_err
operator|.
name|u64
operator|=
name|cvmx_read_csr
argument_list|(
name|CVMX_MIO_BOOT_ERR
argument_list|)
expr_stmt|;
name|mio_boot_err
operator|.
name|u64
operator|&=
name|cvmx_read_csr
argument_list|(
name|CVMX_MIO_BOOT_INT
argument_list|)
expr_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_MIO_BOOT_ERR
argument_list|,
name|mio_boot_err
operator|.
name|u64
argument_list|)
expr_stmt|;
comment|// Skipping mio_boot_err.s.reserved_2_63
if|if
condition|(
name|mio_boot_err
operator|.
name|s
operator|.
name|wait_err
condition|)
name|PRINT_ERROR
argument_list|(
literal|"MIO_BOOT_ERR[WAIT_ERR]: Wait mode error\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|mio_boot_err
operator|.
name|s
operator|.
name|adr_err
condition|)
name|PRINT_ERROR
argument_list|(
literal|"MIO_BOOT_ERR[ADR_ERR]: Address decode error\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_npei_int_sum_decode decodes all interrupt bits in cvmx_npei_int_sum_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_npei_int_sum_decode
parameter_list|(
name|void
parameter_list|)
block|{
name|cvmx_npei_int_sum_t
name|npei_int_sum
decl_stmt|;
name|npei_int_sum
operator|.
name|u64
operator|=
name|cvmx_read_csr
argument_list|(
name|CVMX_PEXP_NPEI_INT_SUM
argument_list|)
expr_stmt|;
comment|/* Note that NPEI_INT_ENB2 controls the internal RSL interrupts.         NPEI_INT_ENB controls external forwarding which is not what we         want. It is a little strange that we are using NPEI_INT_SUM with         NPEI_INT_ENB2, but we need the R/W version of NPEI_INT_SUM2 and         internal RSL interrupts */
name|npei_int_sum
operator|.
name|u64
operator|&=
name|cvmx_read_csr
argument_list|(
name|CVMX_PEXP_NPEI_INT_ENB2
argument_list|)
expr_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_PEXP_NPEI_INT_SUM
argument_list|,
name|npei_int_sum
operator|.
name|u64
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|mio_inta
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[MIO_INTA]: Interrupt from MIO.\n"
argument_list|)
expr_stmt|;
comment|// Skipping npei_int_sum.s.reserved_62_62
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|int_a
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[INT_A]: Set when a bit in the NPEI_INT_A_SUM register and\n"
literal|"    the cooresponding bit in the NPEI_INT_A_ENB\n"
literal|"    register is set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c1_ldwn
condition|)
block|{
name|cvmx_ciu_soft_prst_t
name|ciu_soft_prst
decl_stmt|;
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C1_LDWN]: Reset request due to link1 down status.\n"
argument_list|)
expr_stmt|;
name|ciu_soft_prst
operator|.
name|u64
operator|=
name|cvmx_read_csr
argument_list|(
name|CVMX_CIU_SOFT_PRST1
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|ciu_soft_prst
operator|.
name|s
operator|.
name|soft_prst
condition|)
block|{
comment|/* Attempt to automatically bring the link back up */
name|cvmx_pcie_rc_shutdown
argument_list|(
literal|1
argument_list|)
expr_stmt|;
name|cvmx_pcie_rc_initialize
argument_list|(
literal|1
argument_list|)
expr_stmt|;
block|}
name|cvmx_write_csr
argument_list|(
name|CVMX_PEXP_NPEI_INT_SUM
argument_list|,
name|cvmx_read_csr
argument_list|(
name|CVMX_PEXP_NPEI_INT_SUM
argument_list|)
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c0_ldwn
condition|)
block|{
name|cvmx_ciu_soft_prst_t
name|ciu_soft_prst
decl_stmt|;
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C0_LDWN]: Reset request due to link0 down status.\n"
argument_list|)
expr_stmt|;
name|ciu_soft_prst
operator|.
name|u64
operator|=
name|cvmx_read_csr
argument_list|(
name|CVMX_CIU_SOFT_PRST
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|ciu_soft_prst
operator|.
name|s
operator|.
name|soft_prst
condition|)
block|{
comment|/* Attempt to automatically bring the link back up */
name|cvmx_pcie_rc_shutdown
argument_list|(
literal|0
argument_list|)
expr_stmt|;
name|cvmx_pcie_rc_initialize
argument_list|(
literal|0
argument_list|)
expr_stmt|;
block|}
name|cvmx_write_csr
argument_list|(
name|CVMX_PEXP_NPEI_INT_SUM
argument_list|,
name|cvmx_read_csr
argument_list|(
name|CVMX_PEXP_NPEI_INT_SUM
argument_list|)
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c1_exc
condition|)
block|{
if|#
directive|if
literal|0
block|PRINT_ERROR("NPEI_INT_SUM[C1_EXC]: Set when the PESC1_DBG_INFO register has a bit\n"                     "    set and its cooresponding PESC1_DBG_INFO_EN bit\n"                     "    is set.\n");
endif|#
directive|endif
name|__cvmx_interrupt_pescx_dbg_info_decode
argument_list|(
literal|1
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c0_exc
condition|)
block|{
if|#
directive|if
literal|0
block|PRINT_ERROR("NPEI_INT_SUM[C0_EXC]: Set when the PESC0_DBG_INFO register has a bit\n"                     "    set and its cooresponding PESC0_DBG_INFO_EN bit\n"                     "    is set.\n");
endif|#
directive|endif
name|__cvmx_interrupt_pescx_dbg_info_decode
argument_list|(
literal|0
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c1_up_wf
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C1_UP_WF]: Received Unsupported P-TLP for filtered window\n"
literal|"    register. Core1.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c0_up_wf
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C0_UP_WF]: Received Unsupported P-TLP for filtered window\n"
literal|"    register. Core0.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c1_un_wf
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C1_UN_WF]: Received Unsupported N-TLP for filtered window\n"
literal|"    register. Core1.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c0_un_wf
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C0_UN_WF]: Received Unsupported N-TLP for filtered window\n"
literal|"    register. Core0.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c1_un_bx
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C1_UN_BX]: Received Unsupported N-TLP for unknown Bar.\n"
literal|"    Core 1.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c1_un_wi
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C1_UN_WI]: Received Unsupported N-TLP for Window Register.\n"
literal|"    Core 1.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c1_un_b2
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C1_UN_B2]: Received Unsupported N-TLP for Bar2.\n"
literal|"    Core 1.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c1_un_b1
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C1_UN_B1]: Received Unsupported N-TLP for Bar1.\n"
literal|"    Core 1.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c1_un_b0
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C1_UN_B0]: Received Unsupported N-TLP for Bar0.\n"
literal|"    Core 1.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c1_up_bx
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C1_UP_BX]: Received Unsupported P-TLP for unknown Bar.\n"
literal|"    Core 1.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c1_up_wi
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C1_UP_WI]: Received Unsupported P-TLP for Window Register.\n"
literal|"    Core 1.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c1_up_b2
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C1_UP_B2]: Received Unsupported P-TLP for Bar2.\n"
literal|"    Core 1.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c1_up_b1
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C1_UP_B1]: Received Unsupported P-TLP for Bar1.\n"
literal|"    Core 1.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c1_up_b0
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C1_UP_B0]: Received Unsupported P-TLP for Bar0.\n"
literal|"    Core 1.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c0_un_bx
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C0_UN_BX]: Received Unsupported N-TLP for unknown Bar.\n"
literal|"    Core 0.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c0_un_wi
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C0_UN_WI]: Received Unsupported N-TLP for Window Register.\n"
literal|"    Core 0.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c0_un_b2
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C0_UN_B2]: Received Unsupported N-TLP for Bar2.\n"
literal|"    Core 0.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c0_un_b1
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C0_UN_B1]: Received Unsupported N-TLP for Bar1.\n"
literal|"    Core 0.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c0_un_b0
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C0_UN_B0]: Received Unsupported N-TLP for Bar0.\n"
literal|"    Core 0.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c0_up_bx
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C0_UP_BX]: Received Unsupported P-TLP for unknown Bar.\n"
literal|"    Core 0.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c0_up_wi
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C0_UP_WI]: Received Unsupported P-TLP for Window Register.\n"
literal|"    Core 0.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c0_up_b2
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C0_UP_B2]: Received Unsupported P-TLP for Bar2.\n"
literal|"    Core 0.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c0_up_b1
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C0_UP_B1]: Received Unsupported P-TLP for Bar1.\n"
literal|"    Core 0.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c0_up_b0
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C0_UP_B0]: Received Unsupported P-TLP for Bar0.\n"
literal|"    Core 0.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c1_hpint
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C1_HPINT]: Hot-Plug Interrupt.\n"
literal|"    Pcie Core 1 (hp_int).\n"
literal|"    This interrupt will only be generated when\n"
literal|"    PCIERC1_CFG034[DLLS_C] is generated. Hot plug is\n"
literal|"    not supported.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c1_pmei
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C1_PMEI]: PME Interrupt.\n"
literal|"    Pcie Core 1. (cfg_pme_int)\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c1_wake
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C1_WAKE]: Wake up from Power Management Unit.\n"
literal|"    Pcie Core 1. (wake_n)\n"
literal|"    Octeon will never generate this interrupt.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|crs1_dr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[CRS1_DR]: Had a CRS when Retries were disabled.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c1_se
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C1_SE]: System Error, RC Mode Only.\n"
literal|"    Pcie Core 1. (cfg_sys_err_rc)\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|crs1_er
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[CRS1_ER]: Had a CRS Timeout when Retries were enabled.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c1_aeri
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C1_AERI]: Advanced Error Reporting Interrupt, RC Mode Only.\n"
literal|"    Pcie Core 1.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c0_hpint
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C0_HPINT]: Hot-Plug Interrupt.\n"
literal|"    Pcie Core 0 (hp_int).\n"
literal|"    This interrupt will only be generated when\n"
literal|"    PCIERC0_CFG034[DLLS_C] is generated. Hot plug is\n"
literal|"    not supported.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c0_pmei
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C0_PMEI]: PME Interrupt.\n"
literal|"    Pcie Core 0. (cfg_pme_int)\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c0_wake
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C0_WAKE]: Wake up from Power Management Unit.\n"
literal|"    Pcie Core 0. (wake_n)\n"
literal|"    Octeon will never generate this interrupt.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|crs0_dr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[CRS0_DR]: Had a CRS when Retries were disabled.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c0_se
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C0_SE]: System Error, RC Mode Only.\n"
literal|"    Pcie Core 0. (cfg_sys_err_rc)\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|crs0_er
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[CRS0_ER]: Had a CRS Timeout when Retries were enabled.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|c0_aeri
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[C0_AERI]: Advanced Error Reporting Interrupt, RC Mode Only.\n"
literal|"    Pcie Core 0 (cfg_aer_rc_err_int).\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|ptime
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[PTIME]: Packet Timer has an interrupt. Which rings can\n"
literal|"    be found in NPEI_PKT_TIME_INT.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|pcnt
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[PCNT]: Packet Counter has an interrupt. Which rings can\n"
literal|"    be found in NPEI_PKT_CNT_INT.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|pidbof
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[PIDBOF]: Packet Instruction Doorbell count overflowed. Which\n"
literal|"    doorbell can be found in NPEI_INT_INFO[PIDBOF]\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|psldbof
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[PSLDBOF]: Packet Scatterlist Doorbell count overflowed. Which\n"
literal|"    doorbell can be found in NPEI_INT_INFO[PSLDBOF]\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|dtime1
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[DTIME1]: Whenever NPEI_DMA_CNTS[DMA1] is not 0, the\n"
literal|"    DMA_CNT1 timer increments every core clock. When\n"
literal|"    DMA_CNT1 timer exceeds NPEI_DMA1_INT_LEVEL[TIME],\n"
literal|"    this bit is set. Writing a '1' to this bit also\n"
literal|"    clears the DMA_CNT1 timer.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|dtime0
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[DTIME0]: Whenever NPEI_DMA_CNTS[DMA0] is not 0, the\n"
literal|"    DMA_CNT0 timer increments every core clock. When\n"
literal|"    DMA_CNT0 timer exceeds NPEI_DMA0_INT_LEVEL[TIME],\n"
literal|"    this bit is set. Writing a '1' to this bit also\n"
literal|"    clears the DMA_CNT0 timer.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|dcnt1
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[DCNT1]: This bit indicates that NPEI_DMA_CNTS[DMA1] was/is\n"
literal|"    greater than NPEI_DMA1_INT_LEVEL[CNT].\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|dcnt0
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[DCNT0]: This bit indicates that NPEI_DMA_CNTS[DMA0] was/is\n"
literal|"    greater than NPEI_DMA0_INT_LEVEL[CNT].\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|dma1fi
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[DMA1FI]: DMA0 set Forced Interrupt.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|dma0fi
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[DMA0FI]: DMA0 set Forced Interrupt.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|dma4dbo
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[DMA4DBO]: DMA4 doorbell overflow.\n"
literal|"    Bit[32] of the doorbell count was set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|dma3dbo
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[DMA3DBO]: DMA3 doorbell overflow.\n"
literal|"    Bit[32] of the doorbell count was set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|dma2dbo
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[DMA2DBO]: DMA2 doorbell overflow.\n"
literal|"    Bit[32] of the doorbell count was set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|dma1dbo
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[DMA1DBO]: DMA1 doorbell overflow.\n"
literal|"    Bit[32] of the doorbell count was set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|dma0dbo
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[DMA0DBO]: DMA0 doorbell overflow.\n"
literal|"    Bit[32] of the doorbell count was set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|iob2big
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[IOB2BIG]: A requested IOBDMA is to large.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|bar0_to
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[BAR0_TO]: BAR0 R/W to a NCB device did not receive\n"
literal|"    read-data/commit in 0xffff core clocks.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|rml_wto
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[RML_WTO]: RML write did not get commit in 0xffff core clocks.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npei_int_sum
operator|.
name|s
operator|.
name|rml_rto
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPEI_INT_SUM[RML_RTO]: RML read did not return data in 0xffff core clocks.\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_npei_int_enb2_enable enables all interrupt bits in cvmx_npei_int_enb2_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_npei_int_enb2_enable
parameter_list|(
name|void
parameter_list|)
block|{
name|int
name|enable_pcie0
init|=
literal|0
decl_stmt|;
name|int
name|enable_pcie1
init|=
literal|0
decl_stmt|;
name|cvmx_npei_int_enb2_t
name|npei_int_enb2
decl_stmt|;
comment|/* Reset NPEI_INT_SUM, as NPEI_INT_SUM2 is a read-only copy of NPEI_INT_SUM. */
name|cvmx_write_csr
argument_list|(
name|CVMX_PEXP_NPEI_INT_SUM
argument_list|,
name|cvmx_read_csr
argument_list|(
name|CVMX_PEXP_NPEI_INT_SUM
argument_list|)
argument_list|)
expr_stmt|;
name|npei_int_enb2
operator|.
name|u64
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN56XX
argument_list|)
condition|)
block|{
name|cvmx_pescx_ctl_status2_t
name|pescx_ctl_status2
decl_stmt|;
name|pescx_ctl_status2
operator|.
name|u64
operator|=
name|cvmx_read_csr
argument_list|(
name|CVMX_PESCX_CTL_STATUS2
argument_list|(
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|enable_pcie0
operator|=
operator|!
name|pescx_ctl_status2
operator|.
name|s
operator|.
name|pcierst
expr_stmt|;
name|pescx_ctl_status2
operator|.
name|u64
operator|=
name|cvmx_read_csr
argument_list|(
name|CVMX_PESCX_CTL_STATUS2
argument_list|(
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|enable_pcie1
operator|=
operator|!
name|pescx_ctl_status2
operator|.
name|s
operator|.
name|pcierst
expr_stmt|;
comment|// Skipping npei_int_enb2.s.reserved_62_63
name|npei_int_enb2
operator|.
name|s
operator|.
name|int_a
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_ldwn
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_ldwn
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_exc
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_exc
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_up_wf
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_up_wf
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_un_wf
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_un_wf
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_un_bx
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_un_wi
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_un_b2
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_un_b1
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_un_b0
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_up_bx
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_up_wi
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_up_b2
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_up_b1
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_up_b0
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_un_bx
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_un_wi
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_un_b2
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_un_b1
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_un_b0
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_up_bx
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_up_wi
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_up_b2
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_up_b1
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_up_b0
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_hpint
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_pmei
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_wake
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|crs1_dr
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_se
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|crs1_er
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_aeri
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_hpint
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_pmei
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_wake
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|crs0_dr
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_se
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|crs0_er
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_aeri
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|ptime
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|pcnt
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|pidbof
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|psldbof
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|dtime1
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|dtime0
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|dcnt1
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|dcnt0
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|dma1fi
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|dma0fi
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|dma4dbo
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|dma3dbo
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|dma2dbo
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|dma1dbo
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|dma0dbo
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|iob2big
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|bar0_to
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|rml_wto
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|rml_rto
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN52XX
argument_list|)
condition|)
block|{
name|cvmx_pescx_ctl_status2_t
name|pescx_ctl_status2
decl_stmt|;
name|cvmx_npei_dbg_data_t
name|npei_dbg_data
decl_stmt|;
name|pescx_ctl_status2
operator|.
name|u64
operator|=
name|cvmx_read_csr
argument_list|(
name|CVMX_PESCX_CTL_STATUS2
argument_list|(
literal|0
argument_list|)
argument_list|)
expr_stmt|;
name|enable_pcie0
operator|=
operator|!
name|pescx_ctl_status2
operator|.
name|s
operator|.
name|pcierst
expr_stmt|;
name|npei_dbg_data
operator|.
name|u64
operator|=
name|cvmx_read_csr
argument_list|(
name|CVMX_PEXP_NPEI_DBG_DATA
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|npei_dbg_data
operator|.
name|cn52xx
operator|.
name|qlm0_link_width
condition|)
block|{
name|pescx_ctl_status2
operator|.
name|u64
operator|=
name|cvmx_read_csr
argument_list|(
name|CVMX_PESCX_CTL_STATUS2
argument_list|(
literal|1
argument_list|)
argument_list|)
expr_stmt|;
name|enable_pcie1
operator|=
operator|!
name|pescx_ctl_status2
operator|.
name|s
operator|.
name|pcierst
expr_stmt|;
block|}
comment|// Skipping npei_int_enb2.s.reserved_62_63
name|npei_int_enb2
operator|.
name|s
operator|.
name|int_a
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_ldwn
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_ldwn
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_exc
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_exc
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_up_wf
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_up_wf
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_un_wf
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_un_wf
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_un_bx
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_un_wi
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_un_b2
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_un_b1
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_un_b0
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_up_bx
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_up_wi
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_up_b2
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_up_b1
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_up_b0
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_un_bx
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_un_wi
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_un_b2
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_un_b1
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_un_b0
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_up_bx
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_up_wi
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_up_b2
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_up_b1
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_up_b0
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_hpint
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_pmei
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_wake
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|crs1_dr
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_se
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|crs1_er
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c1_aeri
operator|=
name|enable_pcie1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_hpint
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_pmei
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_wake
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|crs0_dr
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_se
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|crs0_er
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|c0_aeri
operator|=
name|enable_pcie0
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|ptime
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|pcnt
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|pidbof
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|psldbof
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|dtime1
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|dtime0
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|dcnt1
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|dcnt0
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|dma1fi
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|dma0fi
operator|=
literal|1
expr_stmt|;
if|if
condition|(
operator|!
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN52XX_PASS1_X
argument_list|)
condition|)
name|npei_int_enb2
operator|.
name|s
operator|.
name|dma4dbo
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|dma3dbo
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|dma2dbo
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|dma1dbo
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|dma0dbo
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|iob2big
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|bar0_to
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|rml_wto
operator|=
literal|1
expr_stmt|;
name|npei_int_enb2
operator|.
name|s
operator|.
name|rml_rto
operator|=
literal|1
expr_stmt|;
block|}
name|cvmx_write_csr
argument_list|(
name|CVMX_PEXP_NPEI_INT_ENB2
argument_list|,
name|npei_int_enb2
operator|.
name|u64
argument_list|)
expr_stmt|;
if|if
condition|(
name|enable_pcie0
condition|)
name|__cvmx_interrupt_pescx_dbg_info_en_enable
argument_list|(
literal|0
argument_list|)
expr_stmt|;
if|if
condition|(
name|enable_pcie1
condition|)
name|__cvmx_interrupt_pescx_dbg_info_en_enable
argument_list|(
literal|1
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_npi_int_enb_enable enables all interrupt bits in cvmx_npi_int_enb_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_npi_int_enb_enable
parameter_list|(
name|void
parameter_list|)
block|{
name|cvmx_npi_int_enb_t
name|npi_int_enb
decl_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_NPI_INT_SUM
argument_list|,
name|cvmx_read_csr
argument_list|(
name|CVMX_NPI_INT_SUM
argument_list|)
argument_list|)
expr_stmt|;
name|npi_int_enb
operator|.
name|u64
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN30XX
argument_list|)
condition|)
block|{
comment|// Skipping npi_int_enb.s.reserved_62_63
name|npi_int_enb
operator|.
name|s
operator|.
name|q1_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|q1_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pdf_p_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pdf_p_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pcf_p_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pcf_p_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|rdx_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|rwx_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pnc_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pnc_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|com_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|com_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|q3_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|q3_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|q2_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|q2_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pcr_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pcr_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|fcr_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|fcr_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|iobdma
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p_dperr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|win_rto
operator|=
literal|1
expr_stmt|;
comment|// Skipping npi_int_enb.s.reserved_36_38
name|npi_int_enb
operator|.
name|s
operator|.
name|i0_pperr
operator|=
literal|1
expr_stmt|;
comment|// Skipping npi_int_enb.s.reserved_32_34
name|npi_int_enb
operator|.
name|s
operator|.
name|p0_ptout
operator|=
literal|1
expr_stmt|;
comment|// Skipping npi_int_enb.s.reserved_28_30
name|npi_int_enb
operator|.
name|s
operator|.
name|p0_pperr
operator|=
literal|1
expr_stmt|;
comment|// Skipping npi_int_enb.s.reserved_24_26
name|npi_int_enb
operator|.
name|s
operator|.
name|g0_rtout
operator|=
literal|1
expr_stmt|;
comment|// Skipping npi_int_enb.s.reserved_20_22
name|npi_int_enb
operator|.
name|s
operator|.
name|p0_perr
operator|=
literal|1
expr_stmt|;
comment|// Skipping npi_int_enb.s.reserved_16_18
name|npi_int_enb
operator|.
name|s
operator|.
name|p0_rtout
operator|=
literal|1
expr_stmt|;
comment|// Skipping npi_int_enb.s.reserved_12_14
name|npi_int_enb
operator|.
name|s
operator|.
name|i0_overf
operator|=
literal|1
expr_stmt|;
comment|// Skipping npi_int_enb.s.reserved_8_10
name|npi_int_enb
operator|.
name|s
operator|.
name|i0_rtout
operator|=
literal|1
expr_stmt|;
comment|// Skipping npi_int_enb.s.reserved_4_6
name|npi_int_enb
operator|.
name|s
operator|.
name|po0_2sml
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pci_rsl
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|rml_wto
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|rml_rto
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN50XX
argument_list|)
condition|)
block|{
comment|// Skipping npi_int_enb.s.reserved_62_63
name|npi_int_enb
operator|.
name|s
operator|.
name|q1_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|q1_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pdf_p_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pdf_p_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pcf_p_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pcf_p_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|rdx_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|rwx_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pnc_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pnc_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|com_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|com_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|q3_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|q3_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|q2_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|q2_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pcr_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pcr_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|fcr_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|fcr_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|iobdma
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p_dperr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|win_rto
operator|=
literal|1
expr_stmt|;
comment|// Skipping npi_int_enb.s.reserved_37_38
name|npi_int_enb
operator|.
name|s
operator|.
name|i1_pperr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i0_pperr
operator|=
literal|1
expr_stmt|;
comment|// Skipping npi_int_enb.s.reserved_33_34
name|npi_int_enb
operator|.
name|s
operator|.
name|p1_ptout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p0_ptout
operator|=
literal|1
expr_stmt|;
comment|// Skipping npi_int_enb.s.reserved_29_30
name|npi_int_enb
operator|.
name|s
operator|.
name|p1_pperr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p0_pperr
operator|=
literal|1
expr_stmt|;
comment|// Skipping npi_int_enb.s.reserved_25_26
name|npi_int_enb
operator|.
name|s
operator|.
name|g1_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|g0_rtout
operator|=
literal|1
expr_stmt|;
comment|// Skipping npi_int_enb.s.reserved_21_22
name|npi_int_enb
operator|.
name|s
operator|.
name|p1_perr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p0_perr
operator|=
literal|1
expr_stmt|;
comment|// Skipping npi_int_enb.s.reserved_17_18
name|npi_int_enb
operator|.
name|s
operator|.
name|p1_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p0_rtout
operator|=
literal|1
expr_stmt|;
comment|// Skipping npi_int_enb.s.reserved_13_14
name|npi_int_enb
operator|.
name|s
operator|.
name|i1_overf
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i0_overf
operator|=
literal|1
expr_stmt|;
comment|// Skipping npi_int_enb.s.reserved_9_10
name|npi_int_enb
operator|.
name|s
operator|.
name|i1_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i0_rtout
operator|=
literal|1
expr_stmt|;
comment|// Skipping npi_int_enb.s.reserved_5_6
name|npi_int_enb
operator|.
name|s
operator|.
name|po1_2sml
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|po0_2sml
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pci_rsl
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|rml_wto
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|rml_rto
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN38XX
argument_list|)
condition|)
block|{
comment|// Skipping npi_int_enb.s.reserved_62_63
name|npi_int_enb
operator|.
name|s
operator|.
name|q1_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|q1_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pdf_p_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pdf_p_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pcf_p_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pcf_p_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|rdx_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|rwx_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pnc_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pnc_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|com_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|com_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|q3_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|q3_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|q2_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|q2_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pcr_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pcr_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|fcr_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|fcr_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|iobdma
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p_dperr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|win_rto
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i3_pperr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i2_pperr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i1_pperr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i0_pperr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p3_ptout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p2_ptout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p1_ptout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p0_ptout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p3_pperr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p2_pperr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p1_pperr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p0_pperr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|g3_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|g2_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|g1_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|g0_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p3_perr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p2_perr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p1_perr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p0_perr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p3_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p2_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p1_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p0_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i3_overf
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i2_overf
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i1_overf
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i0_overf
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i3_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i2_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i1_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i0_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|po3_2sml
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|po2_2sml
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|po1_2sml
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|po0_2sml
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pci_rsl
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|rml_wto
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|rml_rto
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN31XX
argument_list|)
condition|)
block|{
comment|// Skipping npi_int_enb.s.reserved_62_63
name|npi_int_enb
operator|.
name|s
operator|.
name|q1_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|q1_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pdf_p_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pdf_p_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pcf_p_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pcf_p_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|rdx_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|rwx_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pnc_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pnc_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|com_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|com_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|q3_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|q3_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|q2_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|q2_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pcr_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pcr_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|fcr_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|fcr_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|iobdma
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p_dperr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|win_rto
operator|=
literal|1
expr_stmt|;
comment|// Skipping npi_int_enb.s.reserved_37_38
name|npi_int_enb
operator|.
name|s
operator|.
name|i1_pperr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i0_pperr
operator|=
literal|1
expr_stmt|;
comment|// Skipping npi_int_enb.s.reserved_33_34
name|npi_int_enb
operator|.
name|s
operator|.
name|p1_ptout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p0_ptout
operator|=
literal|1
expr_stmt|;
comment|// Skipping npi_int_enb.s.reserved_29_30
name|npi_int_enb
operator|.
name|s
operator|.
name|p1_pperr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p0_pperr
operator|=
literal|1
expr_stmt|;
comment|// Skipping npi_int_enb.s.reserved_25_26
name|npi_int_enb
operator|.
name|s
operator|.
name|g1_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|g0_rtout
operator|=
literal|1
expr_stmt|;
comment|// Skipping npi_int_enb.s.reserved_21_22
name|npi_int_enb
operator|.
name|s
operator|.
name|p1_perr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p0_perr
operator|=
literal|1
expr_stmt|;
comment|// Skipping npi_int_enb.s.reserved_17_18
name|npi_int_enb
operator|.
name|s
operator|.
name|p1_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p0_rtout
operator|=
literal|1
expr_stmt|;
comment|// Skipping npi_int_enb.s.reserved_13_14
name|npi_int_enb
operator|.
name|s
operator|.
name|i1_overf
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i0_overf
operator|=
literal|1
expr_stmt|;
comment|// Skipping npi_int_enb.s.reserved_9_10
name|npi_int_enb
operator|.
name|s
operator|.
name|i1_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i0_rtout
operator|=
literal|1
expr_stmt|;
comment|// Skipping npi_int_enb.s.reserved_5_6
name|npi_int_enb
operator|.
name|s
operator|.
name|po1_2sml
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|po0_2sml
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pci_rsl
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|rml_wto
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|rml_rto
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN58XX
argument_list|)
condition|)
block|{
comment|// Skipping npi_int_enb.s.reserved_62_63
name|npi_int_enb
operator|.
name|s
operator|.
name|q1_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|q1_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pdf_p_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pdf_p_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pcf_p_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pcf_p_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|rdx_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|rwx_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pnc_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pnc_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|com_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|com_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|q3_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|q3_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|q2_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|q2_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pcr_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pcr_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|fcr_a_f
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|fcr_s_e
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|iobdma
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p_dperr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|win_rto
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i3_pperr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i2_pperr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i1_pperr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i0_pperr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p3_ptout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p2_ptout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p1_ptout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p0_ptout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p3_pperr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p2_pperr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p1_pperr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p0_pperr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|g3_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|g2_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|g1_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|g0_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p3_perr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p2_perr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p1_perr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p0_perr
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p3_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p2_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p1_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|p0_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i3_overf
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i2_overf
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i1_overf
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i0_overf
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i3_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i2_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i1_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|i0_rtout
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|po3_2sml
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|po2_2sml
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|po1_2sml
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|po0_2sml
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|pci_rsl
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|rml_wto
operator|=
literal|1
expr_stmt|;
name|npi_int_enb
operator|.
name|s
operator|.
name|rml_rto
operator|=
literal|1
expr_stmt|;
block|}
name|cvmx_write_csr
argument_list|(
name|CVMX_NPI_INT_ENB
argument_list|,
name|npi_int_enb
operator|.
name|u64
argument_list|)
expr_stmt|;
name|__cvmx_interrupt_pci_int_enb2_enable
argument_list|()
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_npi_int_sum_decode decodes all interrupt bits in cvmx_npi_int_sum_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_npi_int_sum_decode
parameter_list|(
name|void
parameter_list|)
block|{
name|cvmx_npi_int_sum_t
name|npi_int_sum
decl_stmt|;
name|npi_int_sum
operator|.
name|u64
operator|=
name|cvmx_read_csr
argument_list|(
name|CVMX_NPI_INT_SUM
argument_list|)
expr_stmt|;
name|npi_int_sum
operator|.
name|u64
operator|&=
name|cvmx_read_csr
argument_list|(
name|CVMX_NPI_INT_ENB
argument_list|)
expr_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_NPI_INT_SUM
argument_list|,
name|npi_int_sum
operator|.
name|u64
argument_list|)
expr_stmt|;
comment|// Skipping npi_int_sum.s.reserved_62_63
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|q1_a_f
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[Q1_A_F]: Attempted to add when Queue-1 FIFO is full.\n"
literal|"    PASS3 Field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|q1_s_e
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[Q1_S_E]: Attempted to subtract when Queue-1 FIFO is empty.\n"
literal|"    PASS3 Field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|pdf_p_f
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[PDF_P_F]: Attempted to push a full PCN-DATA-FIFO.\n"
literal|"    PASS3 Field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|pdf_p_e
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[PDF_P_E]: Attempted to pop an empty PCN-DATA-FIFO.\n"
literal|"    PASS3 Field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|pcf_p_f
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[PCF_P_F]: Attempted to push a full PCN-CNT-FIFO.\n"
literal|"    PASS3 Field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|pcf_p_e
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[PCF_P_E]: Attempted to pop an empty PCN-CNT-FIFO.\n"
literal|"    PASS3 Field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|rdx_s_e
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[RDX_S_E]: Attempted to subtract when DPI-XFR-Wait count is 0.\n"
literal|"    PASS3 Field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|rwx_s_e
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[RWX_S_E]: Attempted to subtract when RDN-XFR-Wait count is 0.\n"
literal|"    PASS3 Field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|pnc_a_f
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[PNC_A_F]: Attempted to add when PNI-NPI Credits are max.\n"
literal|"    PASS3 Field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|pnc_s_e
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[PNC_S_E]: Attempted to subtract when PNI-NPI Credits are 0.\n"
literal|"    PASS3 Field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|com_a_f
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[COM_A_F]: Attempted to add when PCN-Commit Counter is max.\n"
literal|"    PASS3 Field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|com_s_e
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[COM_S_E]: Attempted to subtract when PCN-Commit Counter is 0.\n"
literal|"    PASS3 Field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|q3_a_f
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[Q3_A_F]: Attempted to add when Queue-3 FIFO is full.\n"
literal|"    PASS3 Field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|q3_s_e
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[Q3_S_E]: Attempted to subtract when Queue-3 FIFO is empty.\n"
literal|"    PASS3 Field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|q2_a_f
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[Q2_A_F]: Attempted to add when Queue-2 FIFO is full.\n"
literal|"    PASS3 Field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|q2_s_e
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[Q2_S_E]: Attempted to subtract when Queue-2 FIFO is empty.\n"
literal|"    PASS3 Field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|pcr_a_f
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[PCR_A_F]: Attempted to add when POW Credits is full.\n"
literal|"    PASS3 Field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|pcr_s_e
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[PCR_S_E]: Attempted to subtract when POW Credits is empty.\n"
literal|"    PASS3 Field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|fcr_a_f
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[FCR_A_F]: Attempted to add when FPA Credits is full.\n"
literal|"    PASS3 Field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|fcr_s_e
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[FCR_S_E]: Attempted to subtract when FPA Credits is empty.\n"
literal|"    PASS3 Field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|iobdma
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[IOBDMA]: Requested IOBDMA read size exceeded 128 words.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|p_dperr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[P_DPERR]: If a parity error occured on data written to L2C\n"
literal|"    from the PCI this bit may be set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|win_rto
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[WIN_RTO]: Windowed Load Timed Out.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|i3_pperr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[I3_PPERR]: If a parity error occured on the port's instruction\n"
literal|"    this bit may be set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|i2_pperr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[I2_PPERR]: If a parity error occured on the port's instruction\n"
literal|"    this bit may be set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|i1_pperr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[I1_PPERR]: If a parity error occured on the port's instruction\n"
literal|"    this bit may be set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|i0_pperr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[I0_PPERR]: If a parity error occured on the port's instruction\n"
literal|"    this bit may be set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|p3_ptout
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[P3_PTOUT]: Port-3 output had a read timeout on a DATA/INFO\n"
literal|"    pair.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|p2_ptout
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[P2_PTOUT]: Port-2 output had a read timeout on a DATA/INFO\n"
literal|"    pair.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|p1_ptout
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[P1_PTOUT]: Port-1 output had a read timeout on a DATA/INFO\n"
literal|"    pair.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|p0_ptout
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[P0_PTOUT]: Port-0 output had a read timeout on a DATA/INFO\n"
literal|"    pair.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|p3_pperr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[P3_PPERR]: If a parity error occured on the port DATA/INFO\n"
literal|"    pointer-pair, this bit may be set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|p2_pperr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[P2_PPERR]: If a parity error occured on the port DATA/INFO\n"
literal|"    pointer-pair, this bit may be set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|p1_pperr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[P1_PPERR]: If a parity error occured on the port DATA/INFO\n"
literal|"    pointer-pair, this bit may be set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|p0_pperr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[P0_PPERR]: If a parity error occured on the port DATA/INFO\n"
literal|"    pointer-pair, this bit may be set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|g3_rtout
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[G3_RTOUT]: Port-3 had a read timeout while attempting to\n"
literal|"    read a gather list.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|g2_rtout
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[G2_RTOUT]: Port-2 had a read timeout while attempting to\n"
literal|"    read a gather list.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|g1_rtout
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[G1_RTOUT]: Port-1 had a read timeout while attempting to\n"
literal|"    read a gather list.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|g0_rtout
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[G0_RTOUT]: Port-0 had a read timeout while attempting to\n"
literal|"    read a gather list.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|p3_perr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[P3_PERR]: If a parity error occured on the port's packet\n"
literal|"    data this bit may be set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|p2_perr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[P2_PERR]: If a parity error occured on the port's packet\n"
literal|"    data this bit may be set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|p1_perr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[P1_PERR]: If a parity error occured on the port's packet\n"
literal|"    data this bit may be set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|p0_perr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[P0_PERR]: If a parity error occured on the port's packet\n"
literal|"    data this bit may be set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|p3_rtout
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[P3_RTOUT]: Port-3 had a read timeout while attempting to\n"
literal|"    read packet data.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|p2_rtout
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[P2_RTOUT]: Port-2 had a read timeout while attempting to\n"
literal|"    read packet data.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|p1_rtout
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[P1_RTOUT]: Port-1 had a read timeout while attempting to\n"
literal|"    read packet data.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|p0_rtout
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[P0_RTOUT]: Port-0 had a read timeout while attempting to\n"
literal|"    read packet data.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|i3_overf
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[I3_OVERF]: Port-3 had a doorbell overflow. Bit[31] of the\n"
literal|"    doorbell count was set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|i2_overf
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[I2_OVERF]: Port-2 had a doorbell overflow. Bit[31] of the\n"
literal|"    doorbell count was set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|i1_overf
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[I1_OVERF]: Port-1 had a doorbell overflow. Bit[31] of the\n"
literal|"    doorbell count was set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|i0_overf
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[I0_OVERF]: Port-0 had a doorbell overflow. Bit[31] of the\n"
literal|"    doorbell count was set.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|i3_rtout
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[I3_RTOUT]: Port-3 had a read timeout while attempting to\n"
literal|"    read instructions.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|i2_rtout
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[I2_RTOUT]: Port-2 had a read timeout while attempting to\n"
literal|"    read instructions.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|i1_rtout
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[I1_RTOUT]: Port-1 had a read timeout while attempting to\n"
literal|"    read instructions.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|i0_rtout
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[I0_RTOUT]: Port-0 had a read timeout while attempting to\n"
literal|"    read instructions.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|po3_2sml
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[PO3_2SML]: The packet being sent out on Port3 is smaller\n"
literal|"    than the NPI_BUFF_SIZE_OUTPUT3[ISIZE] field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|po2_2sml
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[PO2_2SML]: The packet being sent out on Port2 is smaller\n"
literal|"    than the NPI_BUFF_SIZE_OUTPUT2[ISIZE] field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|po1_2sml
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[PO1_2SML]: The packet being sent out on Port1 is smaller\n"
literal|"    than the NPI_BUFF_SIZE_OUTPUT1[ISIZE] field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|po0_2sml
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[PO0_2SML]: The packet being sent out on Port0 is smaller\n"
literal|"    than the NPI_BUFF_SIZE_OUTPUT0[ISIZE] field.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|pci_rsl
condition|)
block|{
if|#
directive|if
literal|0
block|PRINT_ERROR("NPI_INT_SUM[PCI_RSL]: This '1' when a bit in PCI_INT_SUM2 is SET and the\n"                     "    corresponding bit in the PCI_INT_ENB2 is SET.\n");
endif|#
directive|endif
name|__cvmx_interrupt_pci_int_sum2_decode
argument_list|()
expr_stmt|;
block|}
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|rml_wto
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[RML_WTO]: Set '1' when the RML does not receive a commit\n"
literal|"    back from a RSL after sending a write command to\n"
literal|"    a RSL.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|npi_int_sum
operator|.
name|s
operator|.
name|rml_rto
condition|)
name|PRINT_ERROR
argument_list|(
literal|"NPI_INT_SUM[RML_RTO]: Set '1' when the RML does not receive read data\n"
literal|"    back from a RSL after sending a read command to\n"
literal|"    a RSL.\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_pci_int_enb2_enable enables all interrupt bits in cvmx_pci_int_enb2_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_pci_int_enb2_enable
parameter_list|(
name|void
parameter_list|)
block|{
name|cvmx_pci_int_enb2_t
name|pci_int_enb2
decl_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_NPI_PCI_INT_SUM2
argument_list|,
name|cvmx_read_csr
argument_list|(
name|CVMX_NPI_PCI_INT_SUM2
argument_list|)
argument_list|)
expr_stmt|;
name|pci_int_enb2
operator|.
name|u64
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN30XX
argument_list|)
condition|)
block|{
comment|// Skipping pci_int_enb2.s.reserved_34_63
name|pci_int_enb2
operator|.
name|s
operator|.
name|ill_rd
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|ill_wr
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|win_wr
operator|=
literal|1
expr_stmt|;
comment|// pci_int_enb2.s.dma1_fi = 1; // Not an error condition
comment|// pci_int_enb2.s.dma0_fi = 1; // Not an error condition
comment|// pci_int_enb2.s.rdtime1 = 1; // Not an error condition
comment|// pci_int_enb2.s.rdtime0 = 1; // Not an error condition
comment|// pci_int_enb2.s.rdcnt1 = 1; // Not an error condition
comment|// pci_int_enb2.s.rdcnt0 = 1; // Not an error condition
comment|// Skipping pci_int_enb2.s.reserved_22_24
comment|// pci_int_enb2.s.rptime0 = 1; // Not an error condition
comment|// Skipping pci_int_enb2.s.reserved_18_20
comment|// pci_int_enb2.s.rpcnt0 = 1; // Not an error condition
comment|// pci_int_enb2.s.rrsl_int = 1; // Not an error condition
name|pci_int_enb2
operator|.
name|s
operator|.
name|ill_rrd
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|ill_rwr
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rdperr
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|raperr
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rserr
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rtsr_abt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmsc_msg
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmsi_mabt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmsi_tabt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmsi_per
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmr_tto
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmr_abt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rtr_abt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmr_wtto
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmr_wabt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rtr_wabt
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN50XX
argument_list|)
condition|)
block|{
comment|// Skipping pci_int_enb2.s.reserved_34_63
name|pci_int_enb2
operator|.
name|s
operator|.
name|ill_rd
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|ill_wr
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|win_wr
operator|=
literal|1
expr_stmt|;
comment|// pci_int_enb2.s.dma1_fi = 1; // Not an error condition
comment|// pci_int_enb2.s.dma0_fi = 1; // Not an error condition
comment|// pci_int_enb2.s.rdtime1 = 1; // Not an error condition
comment|// pci_int_enb2.s.rdtime0 = 1; // Not an error condition
comment|// pci_int_enb2.s.rdcnt1 = 1; // Not an error condition
comment|// pci_int_enb2.s.rdcnt0 = 1; // Not an error condition
comment|// Skipping pci_int_enb2.s.reserved_23_24
comment|// pci_int_enb2.s.rptime1 = 1; // Not an error condition
comment|// pci_int_enb2.s.rptime0 = 1; // Not an error condition
comment|// Skipping pci_int_enb2.s.reserved_19_20
comment|// pci_int_enb2.s.rpcnt1 = 1; // Not an error condition
comment|// pci_int_enb2.s.rpcnt0 = 1; // Not an error condition
comment|// pci_int_enb2.s.rrsl_int = 1; // Not an error condition
name|pci_int_enb2
operator|.
name|s
operator|.
name|ill_rrd
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|ill_rwr
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rdperr
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|raperr
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rserr
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rtsr_abt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmsc_msg
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmsi_mabt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmsi_tabt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmsi_per
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmr_tto
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmr_abt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rtr_abt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmr_wtto
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmr_wabt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rtr_wabt
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN38XX
argument_list|)
condition|)
block|{
comment|// Skipping pci_int_enb2.s.reserved_34_63
name|pci_int_enb2
operator|.
name|s
operator|.
name|ill_rd
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|ill_wr
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|win_wr
operator|=
literal|1
expr_stmt|;
comment|// pci_int_enb2.s.dma1_fi = 1; // Not an error condition
comment|// pci_int_enb2.s.dma0_fi = 1; // Not an error condition
comment|// pci_int_enb2.s.rdtime1 = 1; // Not an error condition
comment|// pci_int_enb2.s.rdtime0 = 1; // Not an error condition
comment|// pci_int_enb2.s.rdcnt1 = 1; // Not an error condition
comment|// pci_int_enb2.s.rdcnt0 = 1; // Not an error condition
comment|// pci_int_enb2.s.rptime3 = 1; // Not an error condition
comment|// pci_int_enb2.s.rptime2 = 1; // Not an error condition
comment|// pci_int_enb2.s.rptime1 = 1; // Not an error condition
comment|// pci_int_enb2.s.rptime0 = 1; // Not an error condition
comment|// pci_int_enb2.s.rpcnt3 = 1; // Not an error condition
comment|// pci_int_enb2.s.rpcnt2 = 1; // Not an error condition
comment|// pci_int_enb2.s.rpcnt1 = 1; // Not an error condition
comment|// pci_int_enb2.s.rpcnt0 = 1; // Not an error condition
comment|// pci_int_enb2.s.rrsl_int = 1; // Not an error condition
name|pci_int_enb2
operator|.
name|s
operator|.
name|ill_rrd
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|ill_rwr
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rdperr
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|raperr
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rserr
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rtsr_abt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmsc_msg
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmsi_mabt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmsi_tabt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmsi_per
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmr_tto
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmr_abt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rtr_abt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmr_wtto
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmr_wabt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rtr_wabt
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN31XX
argument_list|)
condition|)
block|{
comment|// Skipping pci_int_enb2.s.reserved_34_63
name|pci_int_enb2
operator|.
name|s
operator|.
name|ill_rd
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|ill_wr
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|win_wr
operator|=
literal|1
expr_stmt|;
comment|// pci_int_enb2.s.dma1_fi = 1; // Not an error condition
comment|// pci_int_enb2.s.dma0_fi = 1; // Not an error condition
comment|// pci_int_enb2.s.rdtime1 = 1; // Not an error condition
comment|// pci_int_enb2.s.rdtime0 = 1; // Not an error condition
comment|// pci_int_enb2.s.rdcnt1 = 1; // Not an error condition
comment|// pci_int_enb2.s.rdcnt0 = 1; // Not an error condition
comment|// Skipping pci_int_enb2.s.reserved_23_24
comment|// pci_int_enb2.s.rptime1 = 1; // Not an error condition
comment|// pci_int_enb2.s.rptime0 = 1; // Not an error condition
comment|// Skipping pci_int_enb2.s.reserved_19_20
comment|// pci_int_enb2.s.rpcnt1 = 1; // Not an error condition
comment|// pci_int_enb2.s.rpcnt0 = 1; // Not an error condition
comment|// pci_int_enb2.s.rrsl_int = 1; // Not an error condition
name|pci_int_enb2
operator|.
name|s
operator|.
name|ill_rrd
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|ill_rwr
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rdperr
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|raperr
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rserr
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rtsr_abt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmsc_msg
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmsi_mabt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmsi_tabt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmsi_per
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmr_tto
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmr_abt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rtr_abt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmr_wtto
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmr_wabt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rtr_wabt
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN58XX
argument_list|)
condition|)
block|{
comment|// Skipping pci_int_enb2.s.reserved_34_63
name|pci_int_enb2
operator|.
name|s
operator|.
name|ill_rd
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|ill_wr
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|win_wr
operator|=
literal|1
expr_stmt|;
comment|// pci_int_enb2.s.dma1_fi = 1; // Not an error condition
comment|// pci_int_enb2.s.dma0_fi = 1; // Not an error condition
comment|// pci_int_enb2.s.rdtime1 = 1; // Not an error condition
comment|// pci_int_enb2.s.rdtime0 = 1; // Not an error condition
comment|// pci_int_enb2.s.rdcnt1 = 1; // Not an error condition
comment|// pci_int_enb2.s.rdcnt0 = 1; // Not an error condition
comment|// pci_int_enb2.s.rptime3 = 1; // Not an error condition
comment|// pci_int_enb2.s.rptime2 = 1; // Not an error condition
comment|// pci_int_enb2.s.rptime1 = 1; // Not an error condition
comment|// pci_int_enb2.s.rptime0 = 1; // Not an error condition
comment|// pci_int_enb2.s.rpcnt3 = 1; // Not an error condition
comment|// pci_int_enb2.s.rpcnt2 = 1; // Not an error condition
comment|// pci_int_enb2.s.rpcnt1 = 1; // Not an error condition
comment|// pci_int_enb2.s.rpcnt0 = 1; // Not an error condition
comment|// pci_int_enb2.s.rrsl_int = 1; // Not an error condition
name|pci_int_enb2
operator|.
name|s
operator|.
name|ill_rrd
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|ill_rwr
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rdperr
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|raperr
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rserr
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rtsr_abt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmsc_msg
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmsi_mabt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmsi_tabt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmsi_per
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmr_tto
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmr_abt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rtr_abt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmr_wtto
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rmr_wabt
operator|=
literal|1
expr_stmt|;
name|pci_int_enb2
operator|.
name|s
operator|.
name|rtr_wabt
operator|=
literal|1
expr_stmt|;
block|}
name|cvmx_write_csr
argument_list|(
name|CVMX_NPI_PCI_INT_ENB2
argument_list|,
name|pci_int_enb2
operator|.
name|u64
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_pci_int_sum2_decode decodes all interrupt bits in cvmx_pci_int_sum2_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_pci_int_sum2_decode
parameter_list|(
name|void
parameter_list|)
block|{
name|cvmx_pci_int_sum2_t
name|pci_int_sum2
decl_stmt|;
name|pci_int_sum2
operator|.
name|u64
operator|=
name|cvmx_read_csr
argument_list|(
name|CVMX_NPI_PCI_INT_SUM2
argument_list|)
expr_stmt|;
name|pci_int_sum2
operator|.
name|u64
operator|&=
name|cvmx_read_csr
argument_list|(
name|CVMX_NPI_PCI_INT_ENB2
argument_list|)
expr_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_NPI_PCI_INT_SUM2
argument_list|,
name|pci_int_sum2
operator|.
name|u64
argument_list|)
expr_stmt|;
comment|// Skipping pci_int_sum2.s.reserved_34_63
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|ill_rd
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[ILL_RD]: A read to a disabled area of bar1 or bar2,\n"
literal|"    when the mem area is disabled.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|ill_wr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[ILL_WR]: A write to a disabled area of bar1 or bar2,\n"
literal|"    when the mem area is disabled.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|win_wr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[WIN_WR]: A write to the disabled Window Write Data or\n"
literal|"    Read-Address Register took place.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|dma1_fi
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[DMA1_FI]: A DMA operation operation finished that was\n"
literal|"    required to set the FORCE-INT bit for counter 1.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|dma0_fi
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[DMA0_FI]: A DMA operation operation finished that was\n"
literal|"    required to set the FORCE-INT bit for counter 0.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|dtime1
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[DTIME1]: When the value in the PCI_DMA_CNT1\n"
literal|"    register is not 0 the DMA_CNT1 timer counts.\n"
literal|"    When the DMA1_CNT timer has a value greater\n"
literal|"    than the PCI_DMA_TIME1 register this\n"
literal|"    bit is set. The timer is reset when bit is\n"
literal|"    written with a one.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|dtime0
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[DTIME0]: When the value in the PCI_DMA_CNT0\n"
literal|"    register is not 0 the DMA_CNT0 timer counts.\n"
literal|"    When the DMA0_CNT timer has a value greater\n"
literal|"    than the PCI_DMA_TIME0 register this\n"
literal|"    bit is set. The timer is reset when bit is\n"
literal|"    written with a one.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|dcnt1
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[DCNT1]: This bit indicates that PCI_DMA_CNT1\n"
literal|"    value is greater than the value\n"
literal|"    in the PCI_DMA_INT_LEV1 register.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|dcnt0
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[DCNT0]: This bit indicates that PCI_DMA_CNT0\n"
literal|"    value is greater than the value\n"
literal|"    in the PCI_DMA_INT_LEV0 register.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|ptime3
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[PTIME3]: When the value in the PCI_PKTS_SENT3\n"
literal|"    register is not 0 the Sent-3 timer counts.\n"
literal|"    When the Sent-3 timer has a value greater\n"
literal|"    than the PCI_PKTS_SENT_TIME3 register this\n"
literal|"    bit is set. The timer is reset when bit is\n"
literal|"    written with a one.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|ptime2
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[PTIME2]: When the value in the PCI_PKTS_SENT2\n"
literal|"    register is not 0 the Sent-2 timer counts.\n"
literal|"    When the Sent-2 timer has a value greater\n"
literal|"    than the PCI_PKTS_SENT_TIME2 register this\n"
literal|"    bit is set. The timer is reset when bit is\n"
literal|"    written with a one.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|ptime1
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[PTIME1]: When the value in the PCI_PKTS_SENT1\n"
literal|"    register is not 0 the Sent-1 timer counts.\n"
literal|"    When the Sent-1 timer has a value greater\n"
literal|"    than the PCI_PKTS_SENT_TIME1 register this\n"
literal|"    bit is set. The timer is reset when bit is\n"
literal|"    written with a one.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|ptime0
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[PTIME0]: When the value in the PCI_PKTS_SENT0\n"
literal|"    register is not 0 the Sent-0 timer counts.\n"
literal|"    When the Sent-0 timer has a value greater\n"
literal|"    than the PCI_PKTS_SENT_TIME0 register this\n"
literal|"    bit is set. The timer is reset when bit is\n"
literal|"    written with a one.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|pcnt3
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[PCNT3]: This bit indicates that PCI_PKTS_SENT3\n"
literal|"    value is greater than the value\n"
literal|"    in the PCI_PKTS_SENT_INT_LEV3 register.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|pcnt2
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[PCNT2]: This bit indicates that PCI_PKTS_SENT2\n"
literal|"    value is greater than the value\n"
literal|"    in the PCI_PKTS_SENT_INT_LEV2 register.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|pcnt1
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[PCNT1]: This bit indicates that PCI_PKTS_SENT1\n"
literal|"    value is greater than the value\n"
literal|"    in the PCI_PKTS_SENT_INT_LEV1 register.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|pcnt0
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[PCNT0]: This bit indicates that PCI_PKTS_SENT0\n"
literal|"    value is greater than the value\n"
literal|"    in the PCI_PKTS_SENT_INT_LEV0 register.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|rsl_int
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[RSL_INT]: This bit is set when the RSL Chain has\n"
literal|"    generated an interrupt.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|ill_rrd
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[ILL_RRD]: A read  to the disabled PCI registers took place.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|ill_rwr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[ILL_RWR]: A write to the disabled PCI registers took place.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|dperr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[DPERR]: Data Parity Error detected by PCX Core\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|aperr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[APERR]: Address Parity Error detected by PCX Core\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|serr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[SERR]: SERR# detected by PCX Core\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|tsr_abt
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[TSR_ABT]: Target Split-Read Abort Detected\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|msc_msg
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[MSC_MSG]: Master Split Completion Message Detected\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|msi_mabt
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[MSI_MABT]: PCI MSI Master Abort.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|msi_tabt
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[MSI_TABT]: PCI MSI Target Abort.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|msi_per
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[MSI_PER]: PCI MSI Parity Error.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|mr_tto
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[MR_TTO]: PCI Master Retry Timeout On Read.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|mr_abt
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[MR_ABT]: PCI Master Abort On Read.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|tr_abt
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[TR_ABT]: PCI Target Abort On Read.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|mr_wtto
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[MR_WTTO]: PCI Master Retry Timeout on write.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|mr_wabt
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[MR_WABT]: PCI Master Abort detected on write.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pci_int_sum2
operator|.
name|s
operator|.
name|tr_wabt
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCI_INT_SUM2[TR_WABT]: PCI Target Abort detected on write.\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_pcsx_intx_en_reg_enable enables all interrupt bits in cvmx_pcsx_intx_en_reg_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_pcsx_intx_en_reg_enable
parameter_list|(
name|int
name|index
parameter_list|,
name|int
name|block
parameter_list|)
block|{
name|cvmx_pcsx_intx_en_reg_t
name|pcs_int_en_reg
decl_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_PCSX_INTX_REG
argument_list|(
name|index
argument_list|,
name|block
argument_list|)
argument_list|,
name|cvmx_read_csr
argument_list|(
name|CVMX_PCSX_INTX_REG
argument_list|(
name|index
argument_list|,
name|block
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|pcs_int_en_reg
operator|.
name|u64
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN56XX
argument_list|)
condition|)
block|{
comment|// Skipping pcs_int_en_reg.s.reserved_12_63
comment|//pcs_int_en_reg.s.dup = 1; // This happens during normal operation
name|pcs_int_en_reg
operator|.
name|s
operator|.
name|sync_bad_en
operator|=
literal|1
expr_stmt|;
name|pcs_int_en_reg
operator|.
name|s
operator|.
name|an_bad_en
operator|=
literal|1
expr_stmt|;
name|pcs_int_en_reg
operator|.
name|s
operator|.
name|rxlock_en
operator|=
literal|1
expr_stmt|;
name|pcs_int_en_reg
operator|.
name|s
operator|.
name|rxbad_en
operator|=
literal|1
expr_stmt|;
comment|//pcs_int_en_reg.s.rxerr_en = 1; // This happens during normal operation
name|pcs_int_en_reg
operator|.
name|s
operator|.
name|txbad_en
operator|=
literal|1
expr_stmt|;
name|pcs_int_en_reg
operator|.
name|s
operator|.
name|txfifo_en
operator|=
literal|1
expr_stmt|;
name|pcs_int_en_reg
operator|.
name|s
operator|.
name|txfifu_en
operator|=
literal|1
expr_stmt|;
name|pcs_int_en_reg
operator|.
name|s
operator|.
name|an_err_en
operator|=
literal|1
expr_stmt|;
comment|//pcs_int_en_reg.s.xmit_en = 1; // This happens during normal operation
comment|//pcs_int_en_reg.s.lnkspd_en = 1; // This happens during normal operation
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN52XX
argument_list|)
condition|)
block|{
comment|// Skipping pcs_int_en_reg.s.reserved_12_63
comment|//pcs_int_en_reg.s.dup = 1; // This happens during normal operation
name|pcs_int_en_reg
operator|.
name|s
operator|.
name|sync_bad_en
operator|=
literal|1
expr_stmt|;
name|pcs_int_en_reg
operator|.
name|s
operator|.
name|an_bad_en
operator|=
literal|1
expr_stmt|;
name|pcs_int_en_reg
operator|.
name|s
operator|.
name|rxlock_en
operator|=
literal|1
expr_stmt|;
name|pcs_int_en_reg
operator|.
name|s
operator|.
name|rxbad_en
operator|=
literal|1
expr_stmt|;
comment|//pcs_int_en_reg.s.rxerr_en = 1; // This happens during normal operation
name|pcs_int_en_reg
operator|.
name|s
operator|.
name|txbad_en
operator|=
literal|1
expr_stmt|;
name|pcs_int_en_reg
operator|.
name|s
operator|.
name|txfifo_en
operator|=
literal|1
expr_stmt|;
name|pcs_int_en_reg
operator|.
name|s
operator|.
name|txfifu_en
operator|=
literal|1
expr_stmt|;
name|pcs_int_en_reg
operator|.
name|s
operator|.
name|an_err_en
operator|=
literal|1
expr_stmt|;
comment|//pcs_int_en_reg.s.xmit_en = 1; // This happens during normal operation
comment|//pcs_int_en_reg.s.lnkspd_en = 1; // This happens during normal operation
block|}
name|cvmx_write_csr
argument_list|(
name|CVMX_PCSX_INTX_EN_REG
argument_list|(
name|index
argument_list|,
name|block
argument_list|)
argument_list|,
name|pcs_int_en_reg
operator|.
name|u64
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_pcsx_intx_reg_decode decodes all interrupt bits in cvmx_pcsx_intx_reg_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_pcsx_intx_reg_decode
parameter_list|(
name|int
name|index
parameter_list|,
name|int
name|block
parameter_list|)
block|{
name|cvmx_pcsx_intx_reg_t
name|pcs_int_reg
decl_stmt|;
name|pcs_int_reg
operator|.
name|u64
operator|=
name|cvmx_read_csr
argument_list|(
name|CVMX_PCSX_INTX_REG
argument_list|(
name|index
argument_list|,
name|block
argument_list|)
argument_list|)
expr_stmt|;
name|pcs_int_reg
operator|.
name|u64
operator|&=
name|cvmx_read_csr
argument_list|(
name|CVMX_PCSX_INTX_EN_REG
argument_list|(
name|index
argument_list|,
name|block
argument_list|)
argument_list|)
expr_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_PCSX_INTX_REG
argument_list|(
name|index
argument_list|,
name|block
argument_list|)
argument_list|,
name|pcs_int_reg
operator|.
name|u64
argument_list|)
expr_stmt|;
comment|// Skipping pcs_int_reg.s.reserved_12_63
if|if
condition|(
name|pcs_int_reg
operator|.
name|s
operator|.
name|dup
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCS%d_INT%d_REG[DUP]: Set whenever Duplex mode changes on the link\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pcs_int_reg
operator|.
name|s
operator|.
name|sync_bad
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCS%d_INT%d_REG[SYNC_BAD]: Set by HW whenever rx sync st machine reaches a bad\n"
literal|"    state. Should never be set during normal operation\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pcs_int_reg
operator|.
name|s
operator|.
name|an_bad
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCS%d_INT%d_REG[AN_BAD]: Set by HW whenever AN st machine reaches a bad\n"
literal|"    state. Should never be set during normal operation\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pcs_int_reg
operator|.
name|s
operator|.
name|rxlock
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCS%d_INT%d_REG[RXLOCK]: Set by HW whenever code group Sync or bit lock\n"
literal|"    failure occurs\n"
literal|"    Cannot fire in loopback1 mode\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pcs_int_reg
operator|.
name|s
operator|.
name|rxbad
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCS%d_INT%d_REG[RXBAD]: Set by HW whenever rx st machine reaches a  bad\n"
literal|"    state. Should never be set during normal operation\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pcs_int_reg
operator|.
name|s
operator|.
name|rxerr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCS%d_INT%d_REG[RXERR]: Set whenever RX receives a code group error in\n"
literal|"    10 bit to 8 bit decode logic\n"
literal|"    Cannot fire in loopback1 mode\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pcs_int_reg
operator|.
name|s
operator|.
name|txbad
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCS%d_INT%d_REG[TXBAD]: Set by HW whenever tx st machine reaches a bad\n"
literal|"    state. Should never be set during normal operation\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pcs_int_reg
operator|.
name|s
operator|.
name|txfifo
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCS%d_INT%d_REG[TXFIFO]: Set whenever HW detects a TX fifo overflow\n"
literal|"    condition\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pcs_int_reg
operator|.
name|s
operator|.
name|txfifu
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCS%d_INT%d_REG[TXFIFU]: Set whenever HW detects a TX fifo underflowflow\n"
literal|"    condition\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pcs_int_reg
operator|.
name|s
operator|.
name|an_err
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCS%d_INT%d_REG[AN_ERR]: AN Error, AN resolution function failed\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pcs_int_reg
operator|.
name|s
operator|.
name|xmit
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCS%d_INT%d_REG[XMIT]: Set whenever HW detects a change in the XMIT\n"
literal|"    variable. XMIT variable states are IDLE, CONFIG and\n"
literal|"    DATA\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pcs_int_reg
operator|.
name|s
operator|.
name|lnkspd
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCS%d_INT%d_REG[LNKSPD]: Set by HW whenever Link Speed has changed\n"
argument_list|,
name|block
argument_list|,
name|index
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_pcsxx_int_en_reg_enable enables all interrupt bits in cvmx_pcsxx_int_en_reg_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_pcsxx_int_en_reg_enable
parameter_list|(
name|int
name|index
parameter_list|)
block|{
name|cvmx_pcsxx_int_en_reg_t
name|pcsx_int_en_reg
decl_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_PCSXX_INT_REG
argument_list|(
name|index
argument_list|)
argument_list|,
name|cvmx_read_csr
argument_list|(
name|CVMX_PCSXX_INT_REG
argument_list|(
name|index
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|pcsx_int_en_reg
operator|.
name|u64
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN56XX
argument_list|)
condition|)
block|{
comment|// Skipping pcsx_int_en_reg.s.reserved_6_63
name|pcsx_int_en_reg
operator|.
name|s
operator|.
name|algnlos_en
operator|=
literal|1
expr_stmt|;
name|pcsx_int_en_reg
operator|.
name|s
operator|.
name|synlos_en
operator|=
literal|1
expr_stmt|;
name|pcsx_int_en_reg
operator|.
name|s
operator|.
name|bitlckls_en
operator|=
literal|1
expr_stmt|;
name|pcsx_int_en_reg
operator|.
name|s
operator|.
name|rxsynbad_en
operator|=
literal|1
expr_stmt|;
name|pcsx_int_en_reg
operator|.
name|s
operator|.
name|rxbad_en
operator|=
literal|1
expr_stmt|;
name|pcsx_int_en_reg
operator|.
name|s
operator|.
name|txflt_en
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN52XX
argument_list|)
condition|)
block|{
comment|// Skipping pcsx_int_en_reg.s.reserved_6_63
name|pcsx_int_en_reg
operator|.
name|s
operator|.
name|algnlos_en
operator|=
literal|1
expr_stmt|;
name|pcsx_int_en_reg
operator|.
name|s
operator|.
name|synlos_en
operator|=
literal|1
expr_stmt|;
name|pcsx_int_en_reg
operator|.
name|s
operator|.
name|bitlckls_en
operator|=
literal|0
expr_stmt|;
comment|// Happens if XAUI module is not installed
name|pcsx_int_en_reg
operator|.
name|s
operator|.
name|rxsynbad_en
operator|=
literal|1
expr_stmt|;
name|pcsx_int_en_reg
operator|.
name|s
operator|.
name|rxbad_en
operator|=
literal|1
expr_stmt|;
name|pcsx_int_en_reg
operator|.
name|s
operator|.
name|txflt_en
operator|=
literal|1
expr_stmt|;
block|}
name|cvmx_write_csr
argument_list|(
name|CVMX_PCSXX_INT_EN_REG
argument_list|(
name|index
argument_list|)
argument_list|,
name|pcsx_int_en_reg
operator|.
name|u64
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_pcsxx_int_reg_decode decodes all interrupt bits in cvmx_pcsxx_int_reg_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_pcsxx_int_reg_decode
parameter_list|(
name|int
name|index
parameter_list|)
block|{
name|cvmx_pcsxx_int_reg_t
name|pcsx_int_reg
decl_stmt|;
name|pcsx_int_reg
operator|.
name|u64
operator|=
name|cvmx_read_csr
argument_list|(
name|CVMX_PCSXX_INT_REG
argument_list|(
name|index
argument_list|)
argument_list|)
expr_stmt|;
name|pcsx_int_reg
operator|.
name|u64
operator|&=
name|cvmx_read_csr
argument_list|(
name|CVMX_PCSXX_INT_EN_REG
argument_list|(
name|index
argument_list|)
argument_list|)
expr_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_PCSXX_INT_REG
argument_list|(
name|index
argument_list|)
argument_list|,
name|pcsx_int_reg
operator|.
name|u64
argument_list|)
expr_stmt|;
comment|// Skipping pcsx_int_reg.s.reserved_6_63
if|if
condition|(
name|pcsx_int_reg
operator|.
name|s
operator|.
name|algnlos
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCSX%d_INT_REG[ALGNLOS]: Set when XAUI lanes lose alignment\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pcsx_int_reg
operator|.
name|s
operator|.
name|synlos
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCSX%d_INT_REG[SYNLOS]: Set when Code group sync lost on 1 or more  lanes\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pcsx_int_reg
operator|.
name|s
operator|.
name|bitlckls
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCSX%d_INT_REG[BITLCKLS]: Set when Bit lock lost on 1 or more xaui lanes\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pcsx_int_reg
operator|.
name|s
operator|.
name|rxsynbad
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCSX%d_INT_REG[RXSYNBAD]: Set when RX code grp sync st machine in bad state\n"
literal|"    in one of the 4 xaui lanes\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pcsx_int_reg
operator|.
name|s
operator|.
name|rxbad
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCSX%d_INT_REG[RXBAD]: Set when RX state machine in bad state\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pcsx_int_reg
operator|.
name|s
operator|.
name|txflt
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PCSX%d_INT_REG[TXFLT]: None defined at this time, always 0x0\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_pescx_dbg_info_en_enable enables all interrupt bits in cvmx_pescx_dbg_info_en_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_pescx_dbg_info_en_enable
parameter_list|(
name|int
name|index
parameter_list|)
block|{
name|cvmx_pescx_dbg_info_en_t
name|pesc_dbg_info_en
decl_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_PESCX_DBG_INFO
argument_list|(
name|index
argument_list|)
argument_list|,
name|cvmx_read_csr
argument_list|(
name|CVMX_PESCX_DBG_INFO
argument_list|(
name|index
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|u64
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN56XX
argument_list|)
condition|)
block|{
comment|// Skipping pesc_dbg_info_en.s.reserved_31_63
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|ecrc_e
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rawwpp
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|racpp
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|ramtlp
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rarwdns
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|caar
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|racca
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|racur
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rauc
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rqo
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|fcuv
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rpe
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|fcpvwt
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|dpeoosd
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rtwdle
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rdwdle
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|mre
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rte
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|acto
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rvdm
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rumep
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rptamrc
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rpmerc
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rfemrc
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rnfemrc
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rcemrc
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rpoison
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|recrce
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rtlplle
operator|=
literal|1
expr_stmt|;
if|#
directive|if
literal|0
comment|/* RTLPMAL is disabled since it will be generated under normal conditions,         like devices causing legacy PCI interrupts */
block|pesc_dbg_info_en.s.rtlpmal = 1;
endif|#
directive|endif
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|spoison
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN52XX
argument_list|)
condition|)
block|{
comment|// Skipping pesc_dbg_info_en.s.reserved_31_63
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|ecrc_e
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rawwpp
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|racpp
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|ramtlp
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rarwdns
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|caar
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|racca
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|racur
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rauc
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rqo
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|fcuv
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rpe
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|fcpvwt
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|dpeoosd
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rtwdle
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rdwdle
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|mre
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rte
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|acto
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rvdm
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rumep
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rptamrc
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rpmerc
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rfemrc
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rnfemrc
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rcemrc
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rpoison
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|recrce
operator|=
literal|1
expr_stmt|;
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|rtlplle
operator|=
literal|1
expr_stmt|;
if|#
directive|if
literal|0
comment|/* RTLPMAL is disabled since it will be generated under normal conditions,         like devices causing legacy PCI interrupts */
block|pesc_dbg_info_en.s.rtlpmal = 1;
endif|#
directive|endif
name|pesc_dbg_info_en
operator|.
name|s
operator|.
name|spoison
operator|=
literal|1
expr_stmt|;
block|}
name|cvmx_write_csr
argument_list|(
name|CVMX_PESCX_DBG_INFO_EN
argument_list|(
name|index
argument_list|)
argument_list|,
name|pesc_dbg_info_en
operator|.
name|u64
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_pescx_dbg_info_decode decodes all interrupt bits in cvmx_pescx_dbg_info_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_pescx_dbg_info_decode
parameter_list|(
name|int
name|index
parameter_list|)
block|{
name|cvmx_pescx_dbg_info_t
name|pesc_dbg_info
decl_stmt|;
name|pesc_dbg_info
operator|.
name|u64
operator|=
name|cvmx_read_csr
argument_list|(
name|CVMX_PESCX_DBG_INFO
argument_list|(
name|index
argument_list|)
argument_list|)
expr_stmt|;
name|pesc_dbg_info
operator|.
name|u64
operator|&=
name|cvmx_read_csr
argument_list|(
name|CVMX_PESCX_DBG_INFO_EN
argument_list|(
name|index
argument_list|)
argument_list|)
expr_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_PESCX_DBG_INFO
argument_list|(
name|index
argument_list|)
argument_list|,
name|pesc_dbg_info
operator|.
name|u64
argument_list|)
expr_stmt|;
comment|// Skipping pesc_dbg_info.s.reserved_31_63
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|ecrc_e
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[ECRC_E]: Received a ECRC error.\n"
literal|"    radm_ecrc_err\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|rawwpp
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[RAWWPP]: Received a write with poisoned payload\n"
literal|"    radm_rcvd_wreq_poisoned\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|racpp
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[RACPP]: Received a completion with poisoned payload\n"
literal|"    radm_rcvd_cpl_poisoned\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|ramtlp
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[RAMTLP]: Received a malformed TLP\n"
literal|"    radm_mlf_tlp_err\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|rarwdns
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[RARWDNS]: Recieved a request which device does not support\n"
literal|"    radm_rcvd_ur_req\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|caar
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[CAAR]: Completer aborted a request\n"
literal|"    radm_rcvd_ca_req\n"
literal|"    This bit will never be set because Octeon does\n"
literal|"    not generate Completer Aborts.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|racca
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[RACCA]: Received a completion with CA status\n"
literal|"    radm_rcvd_cpl_ca\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|racur
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[RACUR]: Received a completion with UR status\n"
literal|"    radm_rcvd_cpl_ur\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|rauc
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[RAUC]: Received an unexpected completion\n"
literal|"    radm_unexp_cpl_err\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|rqo
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[RQO]: Receive queue overflow. Normally happens only when\n"
literal|"    flow control advertisements are ignored\n"
literal|"    radm_qoverflow\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|fcuv
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[FCUV]: Flow Control Update Violation (opt. checks)\n"
literal|"    int_xadm_fc_prot_err\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|rpe
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[RPE]: When the PHY reports 8B/10B decode error\n"
literal|"    (RxStatus = 3b100) or disparity error\n"
literal|"    (RxStatus = 3b111), the signal rmlh_rcvd_err will\n"
literal|"    be asserted.\n"
literal|"    rmlh_rcvd_err\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|fcpvwt
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[FCPVWT]: Flow Control Protocol Violation (Watchdog Timer)\n"
literal|"    rtlh_fc_prot_err\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|dpeoosd
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[DPEOOSD]: DLLP protocol error (out of sequence DLLP)\n"
literal|"    rdlh_prot_err\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|rtwdle
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[RTWDLE]: Received TLP with DataLink Layer Error\n"
literal|"    rdlh_bad_tlp_err\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|rdwdle
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[RDWDLE]: Received DLLP with DataLink Layer Error\n"
literal|"    rdlh_bad_dllp_err\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|mre
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[MRE]: Max Retries Exceeded\n"
literal|"    xdlh_replay_num_rlover_err\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|rte
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[RTE]: Replay Timer Expired\n"
literal|"    xdlh_replay_timeout_err\n"
literal|"    This bit is set when the REPLAY_TIMER expires in\n"
literal|"    the PCIE core. The probability of this bit being\n"
literal|"    set will increase with the traffic load.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|acto
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[ACTO]: A Completion Timeout Occured\n"
literal|"    pedc_radm_cpl_timeout\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|rvdm
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[RVDM]: Received Vendor-Defined Message\n"
literal|"    pedc_radm_vendor_msg\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|rumep
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[RUMEP]: Received Unlock Message (EP Mode Only)\n"
literal|"    pedc_radm_msg_unlock\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|rptamrc
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[RPTAMRC]: Received PME Turnoff Acknowledge Message\n"
literal|"    (RC Mode only)\n"
literal|"    pedc_radm_pm_to_ack\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|rpmerc
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[RPMERC]: Received PME Message (RC Mode only)\n"
literal|"    pedc_radm_pm_pme\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|rfemrc
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[RFEMRC]: Received Fatal Error Message (RC Mode only)\n"
literal|"    pedc_radm_fatal_err\n"
literal|"    Bit set when a message with ERR_FATAL is set.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|rnfemrc
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[RNFEMRC]: Received Non-Fatal Error Message (RC Mode only)\n"
literal|"    pedc_radm_nonfatal_err\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|rcemrc
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[RCEMRC]: Received Correctable Error Message (RC Mode only)\n"
literal|"    pedc_radm_correctable_err\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|rpoison
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[RPOISON]: Received Poisoned TLP\n"
literal|"    pedc__radm_trgt1_poisoned& pedc__radm_trgt1_hv\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|recrce
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[RECRCE]: Received ECRC Error\n"
literal|"    pedc_radm_trgt1_ecrc_err& pedc__radm_trgt1_eot\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|rtlplle
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[RTLPLLE]: Received TLP has link layer error\n"
literal|"    pedc_radm_trgt1_dllp_abort& pedc__radm_trgt1_eot\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|rtlpmal
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[RTLPMAL]: Received TLP is malformed or a message.\n"
literal|"    pedc_radm_trgt1_tlp_abort& pedc__radm_trgt1_eot\n"
literal|"    If the core receives a MSG (or Vendor Message)\n"
literal|"    this bit will be set.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|pesc_dbg_info
operator|.
name|s
operator|.
name|spoison
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PESC%d_DBG_INFO[SPOISON]: Poisoned TLP sent\n"
literal|"    peai__client0_tlp_ep& peai__client0_tlp_hv\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_pip_int_en_enable enables all interrupt bits in cvmx_pip_int_en_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_pip_int_en_enable
parameter_list|(
name|void
parameter_list|)
block|{
name|cvmx_pip_int_en_t
name|pip_int_en
decl_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_PIP_INT_REG
argument_list|,
name|cvmx_read_csr
argument_list|(
name|CVMX_PIP_INT_REG
argument_list|)
argument_list|)
expr_stmt|;
name|pip_int_en
operator|.
name|u64
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN56XX
argument_list|)
condition|)
block|{
comment|// Skipping pip_int_en.s.reserved_13_63
name|pip_int_en
operator|.
name|s
operator|.
name|punyerr
operator|=
literal|1
expr_stmt|;
comment|//pip_int_en.s.lenerr = 1; // Signalled in packet WQE
comment|//pip_int_en.s.maxerr = 1; // Signalled in packet WQE
comment|//pip_int_en.s.minerr = 1; // Signalled in packet WQE
name|pip_int_en
operator|.
name|s
operator|.
name|beperr
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|feperr
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|todoovr
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|skprunt
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|badtag
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|prtnxa
operator|=
literal|1
expr_stmt|;
comment|//pip_int_en.s.bckprs = 1; // Don't care
comment|//pip_int_en.s.crcerr = 1; // Signalled in packet WQE
comment|//pip_int_en.s.pktdrp = 1; // Don't care
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN30XX
argument_list|)
condition|)
block|{
comment|// Skipping pip_int_en.s.reserved_9_63
name|pip_int_en
operator|.
name|s
operator|.
name|beperr
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|feperr
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|todoovr
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|skprunt
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|badtag
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|prtnxa
operator|=
literal|1
expr_stmt|;
comment|//pip_int_en.s.bckprs = 1; // Don't care
comment|//pip_int_en.s.crcerr = 1; // Signalled in packet WQE
comment|//pip_int_en.s.pktdrp = 1; // Don't care
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN50XX
argument_list|)
condition|)
block|{
comment|// Skipping pip_int_en.s.reserved_12_63
comment|//pip_int_en.s.lenerr = 1; // Signalled in packet WQE
comment|//pip_int_en.s.maxerr = 1; // Signalled in packet WQE
comment|//pip_int_en.s.minerr = 1; // Signalled in packet WQE
name|pip_int_en
operator|.
name|s
operator|.
name|beperr
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|feperr
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|todoovr
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|skprunt
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|badtag
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|prtnxa
operator|=
literal|1
expr_stmt|;
comment|//pip_int_en.s.bckprs = 1; // Don't care
comment|// Skipping pip_int_en.s.reserved_1_1
comment|//pip_int_en.s.pktdrp = 1; // Don't care
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN38XX
argument_list|)
condition|)
block|{
comment|// Skipping pip_int_en.s.reserved_9_63
name|pip_int_en
operator|.
name|s
operator|.
name|beperr
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|feperr
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|todoovr
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|skprunt
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|badtag
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|prtnxa
operator|=
literal|1
expr_stmt|;
comment|//pip_int_en.s.bckprs = 1; // Don't care
comment|//pip_int_en.s.crcerr = 1; // Signalled in packet WQE
comment|//pip_int_en.s.pktdrp = 1; // Don't care
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN31XX
argument_list|)
condition|)
block|{
comment|// Skipping pip_int_en.s.reserved_9_63
name|pip_int_en
operator|.
name|s
operator|.
name|beperr
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|feperr
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|todoovr
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|skprunt
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|badtag
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|prtnxa
operator|=
literal|1
expr_stmt|;
comment|//pip_int_en.s.bckprs = 1; // Don't care
comment|//pip_int_en.s.crcerr = 1; // Signalled in packet WQE
comment|//pip_int_en.s.pktdrp = 1; // Don't care
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN58XX
argument_list|)
condition|)
block|{
comment|// Skipping pip_int_en.s.reserved_13_63
name|pip_int_en
operator|.
name|s
operator|.
name|punyerr
operator|=
literal|1
expr_stmt|;
comment|// Skipping pip_int_en.s.reserved_9_11
name|pip_int_en
operator|.
name|s
operator|.
name|beperr
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|feperr
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|todoovr
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|skprunt
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|badtag
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|prtnxa
operator|=
literal|1
expr_stmt|;
comment|//pip_int_en.s.bckprs = 1; // Don't care
comment|//pip_int_en.s.crcerr = 1; // Signalled in packet WQE
comment|//pip_int_en.s.pktdrp = 1; // Don't care
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN52XX
argument_list|)
condition|)
block|{
comment|// Skipping pip_int_en.s.reserved_13_63
name|pip_int_en
operator|.
name|s
operator|.
name|punyerr
operator|=
literal|1
expr_stmt|;
comment|//pip_int_en.s.lenerr = 1; // Signalled in packet WQE
comment|//pip_int_en.s.maxerr = 1; // Signalled in packet WQE
comment|//pip_int_en.s.minerr = 1; // Signalled in packet WQE
name|pip_int_en
operator|.
name|s
operator|.
name|beperr
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|feperr
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|todoovr
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|skprunt
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|badtag
operator|=
literal|1
expr_stmt|;
name|pip_int_en
operator|.
name|s
operator|.
name|prtnxa
operator|=
literal|1
expr_stmt|;
comment|//pip_int_en.s.bckprs = 1; // Don't care
comment|// Skipping pip_int_en.s.reserved_1_1
comment|//pip_int_en.s.pktdrp = 1; // Don't care
block|}
name|cvmx_write_csr
argument_list|(
name|CVMX_PIP_INT_EN
argument_list|,
name|pip_int_en
operator|.
name|u64
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_pip_int_reg_decode decodes all interrupt bits in cvmx_pip_int_reg_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_pip_int_reg_decode
parameter_list|(
name|void
parameter_list|)
block|{
name|cvmx_pip_int_reg_t
name|pip_int_reg
decl_stmt|;
name|pip_int_reg
operator|.
name|u64
operator|=
name|cvmx_read_csr
argument_list|(
name|CVMX_PIP_INT_REG
argument_list|)
expr_stmt|;
name|pip_int_reg
operator|.
name|u64
operator|&=
name|cvmx_read_csr
argument_list|(
name|CVMX_PIP_INT_EN
argument_list|)
expr_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_PIP_INT_REG
argument_list|,
name|pip_int_reg
operator|.
name|u64
argument_list|)
expr_stmt|;
comment|// Skipping pip_int_reg.s.reserved_13_63
if|if
condition|(
name|pip_int_reg
operator|.
name|s
operator|.
name|punyerr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PIP_INT_REG[PUNYERR]: Frame was received with length<=4B when CRC\n"
literal|"    stripping in IPD is enable\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pip_int_reg
operator|.
name|s
operator|.
name|lenerr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PIP_INT_REG[LENERR]: Frame was received with length error\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pip_int_reg
operator|.
name|s
operator|.
name|maxerr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PIP_INT_REG[MAXERR]: Frame was received with length> max_length\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pip_int_reg
operator|.
name|s
operator|.
name|minerr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PIP_INT_REG[MINERR]: Frame was received with length< min_length\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pip_int_reg
operator|.
name|s
operator|.
name|beperr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PIP_INT_REG[BEPERR]: Parity Error in back end memory\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pip_int_reg
operator|.
name|s
operator|.
name|feperr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PIP_INT_REG[FEPERR]: Parity Error in front end memory\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pip_int_reg
operator|.
name|s
operator|.
name|todoovr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PIP_INT_REG[TODOOVR]: Todo list overflow (see PIP_BCK_PRS[HIWATER])\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pip_int_reg
operator|.
name|s
operator|.
name|skprunt
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PIP_INT_REG[SKPRUNT]: Packet was engulfed by skipper\n"
literal|"    This interrupt can occur with received PARTIAL\n"
literal|"    packets that are truncated to SKIP bytes or\n"
literal|"    smaller.\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pip_int_reg
operator|.
name|s
operator|.
name|badtag
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PIP_INT_REG[BADTAG]: A bad tag was sent from IPD\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pip_int_reg
operator|.
name|s
operator|.
name|prtnxa
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PIP_INT_REG[PRTNXA]: Non-existent port\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pip_int_reg
operator|.
name|s
operator|.
name|bckprs
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PIP_INT_REG[BCKPRS]: PIP asserted backpressure\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pip_int_reg
operator|.
name|s
operator|.
name|crcerr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PIP_INT_REG[CRCERR]: PIP calculated bad CRC\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pip_int_reg
operator|.
name|s
operator|.
name|pktdrp
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PIP_INT_REG[PKTDRP]: Packet Dropped due to QOS\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_pko_reg_int_mask_enable enables all interrupt bits in cvmx_pko_reg_int_mask_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_pko_reg_int_mask_enable
parameter_list|(
name|void
parameter_list|)
block|{
name|cvmx_pko_reg_int_mask_t
name|pko_reg_int_mask
decl_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_PKO_REG_ERROR
argument_list|,
name|cvmx_read_csr
argument_list|(
name|CVMX_PKO_REG_ERROR
argument_list|)
argument_list|)
expr_stmt|;
name|pko_reg_int_mask
operator|.
name|u64
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN56XX
argument_list|)
condition|)
block|{
comment|// Skipping pko_reg_int_mask.s.reserved_3_63
name|pko_reg_int_mask
operator|.
name|s
operator|.
name|currzero
operator|=
literal|1
expr_stmt|;
name|pko_reg_int_mask
operator|.
name|s
operator|.
name|doorbell
operator|=
literal|1
expr_stmt|;
name|pko_reg_int_mask
operator|.
name|s
operator|.
name|parity
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN30XX
argument_list|)
condition|)
block|{
comment|// Skipping pko_reg_int_mask.s.reserved_2_63
name|pko_reg_int_mask
operator|.
name|s
operator|.
name|doorbell
operator|=
literal|1
expr_stmt|;
name|pko_reg_int_mask
operator|.
name|s
operator|.
name|parity
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN50XX
argument_list|)
condition|)
block|{
comment|// Skipping pko_reg_int_mask.s.reserved_3_63
name|pko_reg_int_mask
operator|.
name|s
operator|.
name|currzero
operator|=
literal|1
expr_stmt|;
name|pko_reg_int_mask
operator|.
name|s
operator|.
name|doorbell
operator|=
literal|1
expr_stmt|;
name|pko_reg_int_mask
operator|.
name|s
operator|.
name|parity
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN38XX
argument_list|)
condition|)
block|{
comment|// Skipping pko_reg_int_mask.s.reserved_2_63
name|pko_reg_int_mask
operator|.
name|s
operator|.
name|doorbell
operator|=
literal|1
expr_stmt|;
name|pko_reg_int_mask
operator|.
name|s
operator|.
name|parity
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN31XX
argument_list|)
condition|)
block|{
comment|// Skipping pko_reg_int_mask.s.reserved_2_63
name|pko_reg_int_mask
operator|.
name|s
operator|.
name|doorbell
operator|=
literal|1
expr_stmt|;
name|pko_reg_int_mask
operator|.
name|s
operator|.
name|parity
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN58XX
argument_list|)
condition|)
block|{
comment|// Skipping pko_reg_int_mask.s.reserved_3_63
name|pko_reg_int_mask
operator|.
name|s
operator|.
name|currzero
operator|=
literal|1
expr_stmt|;
name|pko_reg_int_mask
operator|.
name|s
operator|.
name|doorbell
operator|=
literal|1
expr_stmt|;
name|pko_reg_int_mask
operator|.
name|s
operator|.
name|parity
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN52XX
argument_list|)
condition|)
block|{
comment|// Skipping pko_reg_int_mask.s.reserved_3_63
name|pko_reg_int_mask
operator|.
name|s
operator|.
name|currzero
operator|=
literal|1
expr_stmt|;
name|pko_reg_int_mask
operator|.
name|s
operator|.
name|doorbell
operator|=
literal|1
expr_stmt|;
name|pko_reg_int_mask
operator|.
name|s
operator|.
name|parity
operator|=
literal|1
expr_stmt|;
block|}
name|cvmx_write_csr
argument_list|(
name|CVMX_PKO_REG_INT_MASK
argument_list|,
name|pko_reg_int_mask
operator|.
name|u64
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_pko_reg_error_decode decodes all interrupt bits in cvmx_pko_reg_error_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_pko_reg_error_decode
parameter_list|(
name|void
parameter_list|)
block|{
name|cvmx_pko_reg_error_t
name|pko_reg_error
decl_stmt|;
name|pko_reg_error
operator|.
name|u64
operator|=
name|cvmx_read_csr
argument_list|(
name|CVMX_PKO_REG_ERROR
argument_list|)
expr_stmt|;
name|pko_reg_error
operator|.
name|u64
operator|&=
name|cvmx_read_csr
argument_list|(
name|CVMX_PKO_REG_INT_MASK
argument_list|)
expr_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_PKO_REG_ERROR
argument_list|,
name|pko_reg_error
operator|.
name|u64
argument_list|)
expr_stmt|;
comment|// Skipping pko_reg_error.s.reserved_3_63
if|if
condition|(
name|pko_reg_error
operator|.
name|s
operator|.
name|currzero
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PKO_REG_ERROR[CURRZERO]: A packet data pointer has size=0\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pko_reg_error
operator|.
name|s
operator|.
name|doorbell
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PKO_REG_ERROR[DOORBELL]: A doorbell count has overflowed\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|pko_reg_error
operator|.
name|s
operator|.
name|parity
condition|)
name|PRINT_ERROR
argument_list|(
literal|"PKO_REG_ERROR[PARITY]: Read parity error at port data buffer\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_rad_reg_int_mask_enable enables all interrupt bits in cvmx_rad_reg_int_mask_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_rad_reg_int_mask_enable
parameter_list|(
name|void
parameter_list|)
block|{
name|cvmx_rad_reg_int_mask_t
name|rad_reg_int_mask
decl_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_RAD_REG_ERROR
argument_list|,
name|cvmx_read_csr
argument_list|(
name|CVMX_RAD_REG_ERROR
argument_list|)
argument_list|)
expr_stmt|;
name|rad_reg_int_mask
operator|.
name|u64
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN56XX
argument_list|)
condition|)
block|{
comment|// Skipping rad_reg_int_mask.s.reserved_1_63
name|rad_reg_int_mask
operator|.
name|s
operator|.
name|doorbell
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN52XX
argument_list|)
condition|)
block|{
comment|// Skipping rad_reg_int_mask.s.reserved_1_63
name|rad_reg_int_mask
operator|.
name|s
operator|.
name|doorbell
operator|=
literal|1
expr_stmt|;
block|}
name|cvmx_write_csr
argument_list|(
name|CVMX_RAD_REG_INT_MASK
argument_list|,
name|rad_reg_int_mask
operator|.
name|u64
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_rad_reg_error_decode decodes all interrupt bits in cvmx_rad_reg_error_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_rad_reg_error_decode
parameter_list|(
name|void
parameter_list|)
block|{
name|cvmx_rad_reg_error_t
name|rad_reg_error
decl_stmt|;
name|rad_reg_error
operator|.
name|u64
operator|=
name|cvmx_read_csr
argument_list|(
name|CVMX_RAD_REG_ERROR
argument_list|)
expr_stmt|;
name|rad_reg_error
operator|.
name|u64
operator|&=
name|cvmx_read_csr
argument_list|(
name|CVMX_RAD_REG_INT_MASK
argument_list|)
expr_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_RAD_REG_ERROR
argument_list|,
name|rad_reg_error
operator|.
name|u64
argument_list|)
expr_stmt|;
comment|// Skipping rad_reg_error.s.reserved_1_63
if|if
condition|(
name|rad_reg_error
operator|.
name|s
operator|.
name|doorbell
condition|)
name|PRINT_ERROR
argument_list|(
literal|"RAD_REG_ERROR[DOORBELL]: A doorbell count has overflowed\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_spxx_int_msk_enable enables all interrupt bits in cvmx_spxx_int_msk_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_spxx_int_msk_enable
parameter_list|(
name|int
name|index
parameter_list|)
block|{
name|cvmx_spxx_int_msk_t
name|spx_int_msk
decl_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_SPXX_INT_REG
argument_list|(
name|index
argument_list|)
argument_list|,
name|cvmx_read_csr
argument_list|(
name|CVMX_SPXX_INT_REG
argument_list|(
name|index
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|spx_int_msk
operator|.
name|u64
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN38XX
argument_list|)
condition|)
block|{
comment|// Skipping spx_int_msk.s.reserved_12_63
name|spx_int_msk
operator|.
name|s
operator|.
name|calerr
operator|=
literal|1
expr_stmt|;
name|spx_int_msk
operator|.
name|s
operator|.
name|syncerr
operator|=
literal|1
expr_stmt|;
name|spx_int_msk
operator|.
name|s
operator|.
name|diperr
operator|=
literal|1
expr_stmt|;
name|spx_int_msk
operator|.
name|s
operator|.
name|tpaovr
operator|=
literal|1
expr_stmt|;
name|spx_int_msk
operator|.
name|s
operator|.
name|rsverr
operator|=
literal|1
expr_stmt|;
name|spx_int_msk
operator|.
name|s
operator|.
name|drwnng
operator|=
literal|1
expr_stmt|;
name|spx_int_msk
operator|.
name|s
operator|.
name|clserr
operator|=
literal|1
expr_stmt|;
name|spx_int_msk
operator|.
name|s
operator|.
name|spiovr
operator|=
literal|1
expr_stmt|;
comment|// Skipping spx_int_msk.s.reserved_2_3
name|spx_int_msk
operator|.
name|s
operator|.
name|abnorm
operator|=
literal|1
expr_stmt|;
name|spx_int_msk
operator|.
name|s
operator|.
name|prtnxa
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN58XX
argument_list|)
condition|)
block|{
comment|// Skipping spx_int_msk.s.reserved_12_63
name|spx_int_msk
operator|.
name|s
operator|.
name|calerr
operator|=
literal|1
expr_stmt|;
name|spx_int_msk
operator|.
name|s
operator|.
name|syncerr
operator|=
literal|1
expr_stmt|;
name|spx_int_msk
operator|.
name|s
operator|.
name|diperr
operator|=
literal|1
expr_stmt|;
name|spx_int_msk
operator|.
name|s
operator|.
name|tpaovr
operator|=
literal|1
expr_stmt|;
name|spx_int_msk
operator|.
name|s
operator|.
name|rsverr
operator|=
literal|1
expr_stmt|;
name|spx_int_msk
operator|.
name|s
operator|.
name|drwnng
operator|=
literal|1
expr_stmt|;
name|spx_int_msk
operator|.
name|s
operator|.
name|clserr
operator|=
literal|1
expr_stmt|;
name|spx_int_msk
operator|.
name|s
operator|.
name|spiovr
operator|=
literal|1
expr_stmt|;
comment|// Skipping spx_int_msk.s.reserved_2_3
name|spx_int_msk
operator|.
name|s
operator|.
name|abnorm
operator|=
literal|1
expr_stmt|;
name|spx_int_msk
operator|.
name|s
operator|.
name|prtnxa
operator|=
literal|1
expr_stmt|;
block|}
name|cvmx_write_csr
argument_list|(
name|CVMX_SPXX_INT_MSK
argument_list|(
name|index
argument_list|)
argument_list|,
name|spx_int_msk
operator|.
name|u64
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_spxx_int_reg_decode decodes all interrupt bits in cvmx_spxx_int_reg_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_spxx_int_reg_decode
parameter_list|(
name|int
name|index
parameter_list|)
block|{
name|cvmx_spxx_int_reg_t
name|spx_int_reg
decl_stmt|;
name|spx_int_reg
operator|.
name|u64
operator|=
name|cvmx_read_csr
argument_list|(
name|CVMX_SPXX_INT_REG
argument_list|(
name|index
argument_list|)
argument_list|)
expr_stmt|;
name|spx_int_reg
operator|.
name|u64
operator|&=
name|cvmx_read_csr
argument_list|(
name|CVMX_SPXX_INT_MSK
argument_list|(
name|index
argument_list|)
argument_list|)
expr_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_SPXX_INT_REG
argument_list|(
name|index
argument_list|)
argument_list|,
name|spx_int_reg
operator|.
name|u64
argument_list|)
expr_stmt|;
comment|// Skipping spx_int_reg.s.reserved_32_63
if|if
condition|(
name|spx_int_reg
operator|.
name|s
operator|.
name|spf
condition|)
name|PRINT_ERROR
argument_list|(
literal|"SPX%d_INT_REG[SPF]: Spi interface down\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
comment|// Skipping spx_int_reg.s.reserved_12_30
if|if
condition|(
name|spx_int_reg
operator|.
name|s
operator|.
name|calerr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"SPX%d_INT_REG[CALERR]: Spi4 Calendar table parity error\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|spx_int_reg
operator|.
name|s
operator|.
name|syncerr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"SPX%d_INT_REG[SYNCERR]: Consecutive Spi4 DIP4 errors have exceeded\n"
literal|"    SPX_ERR_CTL[ERRCNT]\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|spx_int_reg
operator|.
name|s
operator|.
name|diperr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"SPX%d_INT_REG[DIPERR]: Spi4 DIP4 error\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|spx_int_reg
operator|.
name|s
operator|.
name|tpaovr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"SPX%d_INT_REG[TPAOVR]: Selected port has hit TPA overflow\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|spx_int_reg
operator|.
name|s
operator|.
name|rsverr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"SPX%d_INT_REG[RSVERR]: Spi4 reserved control word detected\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|spx_int_reg
operator|.
name|s
operator|.
name|drwnng
condition|)
name|PRINT_ERROR
argument_list|(
literal|"SPX%d_INT_REG[DRWNNG]: Spi4 receive FIFO drowning/overflow\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|spx_int_reg
operator|.
name|s
operator|.
name|clserr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"SPX%d_INT_REG[CLSERR]: Spi4 packet closed on non-16B alignment without EOP\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|spx_int_reg
operator|.
name|s
operator|.
name|spiovr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"SPX%d_INT_REG[SPIOVR]: Spi async FIFO overflow\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
comment|// Skipping spx_int_reg.s.reserved_2_3
if|if
condition|(
name|spx_int_reg
operator|.
name|s
operator|.
name|abnorm
condition|)
name|PRINT_ERROR
argument_list|(
literal|"SPX%d_INT_REG[ABNORM]: Abnormal packet termination (ERR bit)\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|spx_int_reg
operator|.
name|s
operator|.
name|prtnxa
condition|)
name|PRINT_ERROR
argument_list|(
literal|"SPX%d_INT_REG[PRTNXA]: Port out of range\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_stxx_int_msk_enable enables all interrupt bits in cvmx_stxx_int_msk_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_stxx_int_msk_enable
parameter_list|(
name|int
name|index
parameter_list|)
block|{
name|cvmx_stxx_int_msk_t
name|stx_int_msk
decl_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_STXX_INT_REG
argument_list|(
name|index
argument_list|)
argument_list|,
name|cvmx_read_csr
argument_list|(
name|CVMX_STXX_INT_REG
argument_list|(
name|index
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|stx_int_msk
operator|.
name|u64
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN38XX
argument_list|)
condition|)
block|{
comment|// Skipping stx_int_msk.s.reserved_8_63
name|stx_int_msk
operator|.
name|s
operator|.
name|frmerr
operator|=
literal|1
expr_stmt|;
name|stx_int_msk
operator|.
name|s
operator|.
name|unxfrm
operator|=
literal|1
expr_stmt|;
name|stx_int_msk
operator|.
name|s
operator|.
name|nosync
operator|=
literal|1
expr_stmt|;
name|stx_int_msk
operator|.
name|s
operator|.
name|diperr
operator|=
literal|1
expr_stmt|;
name|stx_int_msk
operator|.
name|s
operator|.
name|datovr
operator|=
literal|1
expr_stmt|;
name|stx_int_msk
operator|.
name|s
operator|.
name|ovrbst
operator|=
literal|1
expr_stmt|;
name|stx_int_msk
operator|.
name|s
operator|.
name|calpar1
operator|=
literal|1
expr_stmt|;
name|stx_int_msk
operator|.
name|s
operator|.
name|calpar0
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN58XX
argument_list|)
condition|)
block|{
comment|// Skipping stx_int_msk.s.reserved_8_63
name|stx_int_msk
operator|.
name|s
operator|.
name|frmerr
operator|=
literal|1
expr_stmt|;
name|stx_int_msk
operator|.
name|s
operator|.
name|unxfrm
operator|=
literal|1
expr_stmt|;
name|stx_int_msk
operator|.
name|s
operator|.
name|nosync
operator|=
literal|1
expr_stmt|;
name|stx_int_msk
operator|.
name|s
operator|.
name|diperr
operator|=
literal|1
expr_stmt|;
name|stx_int_msk
operator|.
name|s
operator|.
name|datovr
operator|=
literal|1
expr_stmt|;
name|stx_int_msk
operator|.
name|s
operator|.
name|ovrbst
operator|=
literal|1
expr_stmt|;
name|stx_int_msk
operator|.
name|s
operator|.
name|calpar1
operator|=
literal|1
expr_stmt|;
name|stx_int_msk
operator|.
name|s
operator|.
name|calpar0
operator|=
literal|1
expr_stmt|;
block|}
name|cvmx_write_csr
argument_list|(
name|CVMX_STXX_INT_MSK
argument_list|(
name|index
argument_list|)
argument_list|,
name|stx_int_msk
operator|.
name|u64
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_stxx_int_reg_decode decodes all interrupt bits in cvmx_stxx_int_reg_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_stxx_int_reg_decode
parameter_list|(
name|int
name|index
parameter_list|)
block|{
name|cvmx_stxx_int_reg_t
name|stx_int_reg
decl_stmt|;
name|stx_int_reg
operator|.
name|u64
operator|=
name|cvmx_read_csr
argument_list|(
name|CVMX_STXX_INT_REG
argument_list|(
name|index
argument_list|)
argument_list|)
expr_stmt|;
name|stx_int_reg
operator|.
name|u64
operator|&=
name|cvmx_read_csr
argument_list|(
name|CVMX_STXX_INT_MSK
argument_list|(
name|index
argument_list|)
argument_list|)
expr_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_STXX_INT_REG
argument_list|(
name|index
argument_list|)
argument_list|,
name|stx_int_reg
operator|.
name|u64
argument_list|)
expr_stmt|;
comment|// Skipping stx_int_reg.s.reserved_9_63
if|if
condition|(
name|stx_int_reg
operator|.
name|s
operator|.
name|syncerr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"STX%d_INT_REG[SYNCERR]: Interface encountered a fatal error\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|stx_int_reg
operator|.
name|s
operator|.
name|frmerr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"STX%d_INT_REG[FRMERR]: FRMCNT has exceeded STX_DIP_CNT[MAXFRM]\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|stx_int_reg
operator|.
name|s
operator|.
name|unxfrm
condition|)
name|PRINT_ERROR
argument_list|(
literal|"STX%d_INT_REG[UNXFRM]: Unexpected framing sequence\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|stx_int_reg
operator|.
name|s
operator|.
name|nosync
condition|)
name|PRINT_ERROR
argument_list|(
literal|"STX%d_INT_REG[NOSYNC]: ERRCNT has exceeded STX_DIP_CNT[MAXDIP]\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|stx_int_reg
operator|.
name|s
operator|.
name|diperr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"STX%d_INT_REG[DIPERR]: DIP2 error on the Spi4 Status channel\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|stx_int_reg
operator|.
name|s
operator|.
name|datovr
condition|)
name|PRINT_ERROR
argument_list|(
literal|"STX%d_INT_REG[DATOVR]: Spi4 FIFO overflow error\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|stx_int_reg
operator|.
name|s
operator|.
name|ovrbst
condition|)
name|PRINT_ERROR
argument_list|(
literal|"STX%d_INT_REG[OVRBST]: Transmit packet burst too big\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|stx_int_reg
operator|.
name|s
operator|.
name|calpar1
condition|)
name|PRINT_ERROR
argument_list|(
literal|"STX%d_INT_REG[CALPAR1]: STX Calendar Table Parity Error Bank1\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|stx_int_reg
operator|.
name|s
operator|.
name|calpar0
condition|)
name|PRINT_ERROR
argument_list|(
literal|"STX%d_INT_REG[CALPAR0]: STX Calendar Table Parity Error Bank0\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_usbnx_int_enb_enable enables all interrupt bits in cvmx_usbnx_int_enb_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_usbnx_int_enb_enable
parameter_list|(
name|int
name|index
parameter_list|)
block|{
name|cvmx_usbnx_int_enb_t
name|usbn_int_enb
decl_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_USBNX_INT_SUM
argument_list|(
name|index
argument_list|)
argument_list|,
name|cvmx_read_csr
argument_list|(
name|CVMX_USBNX_INT_SUM
argument_list|(
name|index
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|usbn_int_enb
operator|.
name|u64
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN30XX
argument_list|)
condition|)
block|{
comment|// Skipping usbn_int_enb.s.reserved_38_63
name|usbn_int_enb
operator|.
name|s
operator|.
name|nd4o_dpf
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nd4o_dpe
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nd4o_rpf
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nd4o_rpe
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|ltl_f_pf
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|ltl_f_pe
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|u2n_c_pe
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|u2n_c_pf
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|u2n_d_pf
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|u2n_d_pe
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|n2u_pe
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|n2u_pf
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|uod_pf
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|uod_pe
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rq_q3_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rq_q3_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rq_q2_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rq_q2_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rg_fi_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rg_fi_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|l2_fi_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|l2_fi_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|l2c_a_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|l2c_s_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|dcred_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|dcred_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|lt_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|lt_po_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nt_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nt_po_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|pt_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|pt_po_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|lr_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|lr_po_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nr_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nr_po_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|pr_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|pr_po_e
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN50XX
argument_list|)
condition|)
block|{
comment|// Skipping usbn_int_enb.s.reserved_38_63
name|usbn_int_enb
operator|.
name|s
operator|.
name|nd4o_dpf
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nd4o_dpe
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nd4o_rpf
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nd4o_rpe
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|ltl_f_pf
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|ltl_f_pe
operator|=
literal|1
expr_stmt|;
comment|// Skipping usbn_int_enb.s.reserved_26_31
name|usbn_int_enb
operator|.
name|s
operator|.
name|uod_pf
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|uod_pe
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rq_q3_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rq_q3_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rq_q2_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rq_q2_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rg_fi_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rg_fi_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|l2_fi_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|l2_fi_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|l2c_a_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|l2c_s_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|dcred_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|dcred_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|lt_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|lt_po_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nt_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nt_po_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|pt_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|pt_po_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|lr_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|lr_po_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nr_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nr_po_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|pr_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|pr_po_e
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN31XX
argument_list|)
condition|)
block|{
comment|// Skipping usbn_int_enb.s.reserved_38_63
name|usbn_int_enb
operator|.
name|s
operator|.
name|nd4o_dpf
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nd4o_dpe
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nd4o_rpf
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nd4o_rpe
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|ltl_f_pf
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|ltl_f_pe
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|u2n_c_pe
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|u2n_c_pf
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|u2n_d_pf
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|u2n_d_pe
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|n2u_pe
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|n2u_pf
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|uod_pf
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|uod_pe
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rq_q3_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rq_q3_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rq_q2_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rq_q2_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rg_fi_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rg_fi_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|l2_fi_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|l2_fi_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|l2c_a_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|l2c_s_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|dcred_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|dcred_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|lt_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|lt_po_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nt_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nt_po_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|pt_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|pt_po_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|lr_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|lr_po_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nr_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nr_po_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|pr_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|pr_po_e
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN56XX
argument_list|)
condition|)
block|{
comment|// Skipping usbn_int_enb.s.reserved_38_63
name|usbn_int_enb
operator|.
name|s
operator|.
name|nd4o_dpf
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nd4o_dpe
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nd4o_rpf
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nd4o_rpe
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|ltl_f_pf
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|ltl_f_pe
operator|=
literal|1
expr_stmt|;
comment|// Skipping usbn_int_enb.s.reserved_26_31
name|usbn_int_enb
operator|.
name|s
operator|.
name|uod_pf
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|uod_pe
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rq_q3_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rq_q3_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rq_q2_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rq_q2_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rg_fi_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rg_fi_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|l2_fi_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|l2_fi_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|l2c_a_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|l2c_s_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|dcred_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|dcred_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|lt_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|lt_po_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nt_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nt_po_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|pt_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|pt_po_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|lr_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|lr_po_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nr_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nr_po_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|pr_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|pr_po_e
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN52XX
argument_list|)
condition|)
block|{
comment|// Skipping usbn_int_enb.s.reserved_38_63
name|usbn_int_enb
operator|.
name|s
operator|.
name|nd4o_dpf
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nd4o_dpe
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nd4o_rpf
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nd4o_rpe
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|ltl_f_pf
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|ltl_f_pe
operator|=
literal|1
expr_stmt|;
comment|// Skipping usbn_int_enb.s.reserved_26_31
name|usbn_int_enb
operator|.
name|s
operator|.
name|uod_pf
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|uod_pe
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rq_q3_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rq_q3_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rq_q2_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rq_q2_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rg_fi_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|rg_fi_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|l2_fi_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|l2_fi_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|l2c_a_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|l2c_s_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|dcred_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|dcred_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|lt_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|lt_po_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nt_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nt_po_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|pt_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|pt_po_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|lr_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|lr_po_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nr_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|nr_po_e
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|pr_pu_f
operator|=
literal|1
expr_stmt|;
name|usbn_int_enb
operator|.
name|s
operator|.
name|pr_po_e
operator|=
literal|1
expr_stmt|;
block|}
name|cvmx_write_csr
argument_list|(
name|CVMX_USBNX_INT_ENB
argument_list|(
name|index
argument_list|)
argument_list|,
name|usbn_int_enb
operator|.
name|u64
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_usbnx_int_sum_decode decodes all interrupt bits in cvmx_usbnx_int_sum_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_usbnx_int_sum_decode
parameter_list|(
name|int
name|index
parameter_list|)
block|{
name|cvmx_usbnx_int_sum_t
name|usbn_int_sum
decl_stmt|;
name|usbn_int_sum
operator|.
name|u64
operator|=
name|cvmx_read_csr
argument_list|(
name|CVMX_USBNX_INT_SUM
argument_list|(
name|index
argument_list|)
argument_list|)
expr_stmt|;
name|usbn_int_sum
operator|.
name|u64
operator|&=
name|cvmx_read_csr
argument_list|(
name|CVMX_USBNX_INT_ENB
argument_list|(
name|index
argument_list|)
argument_list|)
expr_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_USBNX_INT_SUM
argument_list|(
name|index
argument_list|)
argument_list|,
name|usbn_int_sum
operator|.
name|u64
argument_list|)
expr_stmt|;
comment|// Skipping usbn_int_sum.s.reserved_38_63
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|nd4o_dpf
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[ND4O_DPF]: NCB DMA Out Data Fifo Push Full.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|nd4o_dpe
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[ND4O_DPE]: NCB DMA Out Data Fifo Pop Empty.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|nd4o_rpf
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[ND4O_RPF]: NCB DMA Out Request Fifo Push Full.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|nd4o_rpe
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[ND4O_RPE]: NCB DMA Out Request Fifo Pop Empty.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|ltl_f_pf
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[LTL_F_PF]: L2C Transfer Length Fifo Push Full.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|ltl_f_pe
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[LTL_F_PE]: L2C Transfer Length Fifo Pop Empty.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|u2n_c_pe
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[U2N_C_PE]: U2N Control Fifo Pop Empty.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|u2n_c_pf
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[U2N_C_PF]: U2N Control Fifo Push Full.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|u2n_d_pf
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[U2N_D_PF]: U2N Data Fifo Push Full.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|u2n_d_pe
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[U2N_D_PE]: U2N Data Fifo Pop Empty.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|n2u_pe
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[N2U_PE]: N2U Fifo Pop Empty.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|n2u_pf
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[N2U_PF]: N2U Fifo Push Full.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|uod_pf
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[UOD_PF]: UOD Fifo Push Full.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|uod_pe
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[UOD_PE]: UOD Fifo Pop Empty.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|rq_q3_e
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[RQ_Q3_E]: Request Queue-3 Fifo Pushed When Full.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|rq_q3_f
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[RQ_Q3_F]: Request Queue-3 Fifo Pushed When Full.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|rq_q2_e
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[RQ_Q2_E]: Request Queue-2 Fifo Pushed When Full.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|rq_q2_f
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[RQ_Q2_F]: Request Queue-2 Fifo Pushed When Full.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|rg_fi_f
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[RG_FI_F]: Register Request Fifo Pushed When Full.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|rg_fi_e
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[RG_FI_E]: Register Request Fifo Pushed When Full.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|lt_fi_f
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[LT_FI_F]: L2C Request Fifo Pushed When Full.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|lt_fi_e
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[LT_FI_E]: L2C Request Fifo Pushed When Full.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|l2c_a_f
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[L2C_A_F]: L2C Credit Count Added When Full.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|l2c_s_e
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[L2C_S_E]: L2C Credit Count Subtracted When Empty.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|dcred_f
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[DCRED_F]: Data CreditFifo Pushed When Full.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|dcred_e
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[DCRED_E]: Data Credit Fifo Pushed When Full.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|lt_pu_f
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[LT_PU_F]: L2C Trasaction Fifo Pushed When Full.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|lt_po_e
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[LT_PO_E]: L2C Trasaction Fifo Popped When Full.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|nt_pu_f
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[NT_PU_F]: NPI Trasaction Fifo Pushed When Full.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|nt_po_e
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[NT_PO_E]: NPI Trasaction Fifo Popped When Full.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|pt_pu_f
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[PT_PU_F]: PP  Trasaction Fifo Pushed When Full.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|pt_po_e
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[PT_PO_E]: PP  Trasaction Fifo Popped When Full.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|lr_pu_f
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[LR_PU_F]: L2C Request Fifo Pushed When Full.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|lr_po_e
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[LR_PO_E]: L2C Request Fifo Popped When Empty.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|nr_pu_f
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[NR_PU_F]: NPI Request Fifo Pushed When Full.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|nr_po_e
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[NR_PO_E]: NPI Request Fifo Popped When Empty.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|pr_pu_f
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[PR_PU_F]: PP  Request Fifo Pushed When Full.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
if|if
condition|(
name|usbn_int_sum
operator|.
name|s
operator|.
name|pr_po_e
condition|)
name|PRINT_ERROR
argument_list|(
literal|"USBN%d_INT_SUM[PR_PO_E]: PP  Request Fifo Popped When Empty.\n"
argument_list|,
name|index
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_zip_int_mask_enable enables all interrupt bits in cvmx_zip_int_mask_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_zip_int_mask_enable
parameter_list|(
name|void
parameter_list|)
block|{
name|cvmx_zip_int_mask_t
name|zip_int_mask
decl_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_ZIP_ERROR
argument_list|,
name|cvmx_read_csr
argument_list|(
name|CVMX_ZIP_ERROR
argument_list|)
argument_list|)
expr_stmt|;
name|zip_int_mask
operator|.
name|u64
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN56XX
argument_list|)
condition|)
block|{
comment|// Skipping zip_int_mask.s.reserved_1_63
name|zip_int_mask
operator|.
name|s
operator|.
name|doorbell
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN38XX
argument_list|)
condition|)
block|{
comment|// Skipping zip_int_mask.s.reserved_1_63
name|zip_int_mask
operator|.
name|s
operator|.
name|doorbell
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN31XX
argument_list|)
condition|)
block|{
comment|// Skipping zip_int_mask.s.reserved_1_63
name|zip_int_mask
operator|.
name|s
operator|.
name|doorbell
operator|=
literal|1
expr_stmt|;
block|}
if|if
condition|(
name|OCTEON_IS_MODEL
argument_list|(
name|OCTEON_CN58XX
argument_list|)
condition|)
block|{
comment|// Skipping zip_int_mask.s.reserved_1_63
name|zip_int_mask
operator|.
name|s
operator|.
name|doorbell
operator|=
literal|1
expr_stmt|;
block|}
name|cvmx_write_csr
argument_list|(
name|CVMX_ZIP_INT_MASK
argument_list|,
name|zip_int_mask
operator|.
name|u64
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * __cvmx_interrupt_zip_error_decode decodes all interrupt bits in cvmx_zip_error_t  */
end_comment

begin_function
name|void
name|__cvmx_interrupt_zip_error_decode
parameter_list|(
name|void
parameter_list|)
block|{
name|cvmx_zip_error_t
name|zip_error
decl_stmt|;
name|zip_error
operator|.
name|u64
operator|=
name|cvmx_read_csr
argument_list|(
name|CVMX_ZIP_ERROR
argument_list|)
expr_stmt|;
name|zip_error
operator|.
name|u64
operator|&=
name|cvmx_read_csr
argument_list|(
name|CVMX_ZIP_INT_MASK
argument_list|)
expr_stmt|;
name|cvmx_write_csr
argument_list|(
name|CVMX_ZIP_ERROR
argument_list|,
name|zip_error
operator|.
name|u64
argument_list|)
expr_stmt|;
comment|// Skipping zip_error.s.reserved_1_63
if|if
condition|(
name|zip_error
operator|.
name|s
operator|.
name|doorbell
condition|)
name|PRINT_ERROR
argument_list|(
literal|"ZIP_ERROR[DOORBELL]: A doorbell count has overflowed\n"
argument_list|)
expr_stmt|;
block|}
end_function

end_unit

