begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_function_decl
name|void
name|devfs_back_init
parameter_list|()
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|int
name|dev_finddir
parameter_list|(
name|char
modifier|*
name|orig_path
parameter_list|,
name|dn_p
name|dirnode
parameter_list|,
name|int
name|create
parameter_list|,
name|dn_p
modifier|*
name|dn_pp
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|int
name|dev_add_node
parameter_list|(
name|char
modifier|*
name|name
parameter_list|,
name|dn_p
name|dirnode
parameter_list|,
name|int
name|entrytype
parameter_list|,
name|union
name|typeinfo
modifier|*
name|by
parameter_list|,
name|devb_p
modifier|*
name|devb_pp
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|int
name|dev_remove
parameter_list|(
name|devb_p
name|devbp
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|int
name|dev_touch
parameter_list|(
name|devb_p
name|key
parameter_list|)
comment|/* update the node for this dev */
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|void
name|devfs_dn_free
parameter_list|(
name|dn_p
name|dnp
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|int
name|get_cdev_major_num
parameter_list|(
name|caddr_t
name|addr
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|int
name|get_bdev_major_num
parameter_list|(
name|caddr_t
name|addr
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|devb_p
name|dev_add
parameter_list|(
name|char
modifier|*
name|path
parameter_list|,
name|char
modifier|*
name|name
parameter_list|,
name|caddr_t
name|funct
parameter_list|,
name|int
name|minor
parameter_list|,
name|int
name|chrblk
parameter_list|,
name|uid_t
name|uid
parameter_list|,
name|gid_t
name|gid
parameter_list|,
name|int
name|perms
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|int
name|devfs_add_fronts
parameter_list|(
name|devb_p
name|parent
parameter_list|,
name|devb_p
name|child
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|dn_p
name|dev_findfront
parameter_list|(
name|dn_p
name|dir
parameter_list|,
name|char
modifier|*
name|name
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|int
name|dev_mk_front
parameter_list|(
name|dn_p
name|parent
parameter_list|,
name|devb_p
name|back
parameter_list|,
name|devf_p
modifier|*
name|devf_pp
parameter_list|,
name|struct
name|devfsmount
modifier|*
name|dvm
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|int
name|devfs_make_plane
parameter_list|(
name|struct
name|devfsmount
modifier|*
name|devfs_mp_p
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|void
name|devfs_free_plane
parameter_list|(
name|struct
name|devfsmount
modifier|*
name|devfs_mp_p
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|void
name|devfs_remove_fronts
parameter_list|(
name|devb_p
name|devbp
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|void
name|dev_free_front
parameter_list|(
name|devf_p
name|devfp
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|int
name|devfs_vntodn
parameter_list|(
name|struct
name|vnode
modifier|*
name|vn_p
parameter_list|,
name|dn_p
modifier|*
name|dn_pp
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|int
name|devfs_dntovn
parameter_list|(
name|dn_p
name|front
parameter_list|,
name|struct
name|vnode
modifier|*
modifier|*
name|vn_pp
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|int
name|devfs_init
parameter_list|(
name|void
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|int
name|devfs_mount
parameter_list|(
name|struct
name|mount
modifier|*
name|mp
parameter_list|,
name|char
modifier|*
name|path
parameter_list|,
name|caddr_t
name|data
parameter_list|,
name|struct
name|nameidata
modifier|*
name|ndp
parameter_list|,
name|struct
name|proc
modifier|*
name|p
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|int
name|mountdevfs
parameter_list|(
name|struct
name|mount
modifier|*
name|mp
parameter_list|,
name|struct
name|proc
modifier|*
name|p
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|int
name|devfs_start
parameter_list|(
name|struct
name|mount
modifier|*
name|mp
parameter_list|,
name|int
name|flags
parameter_list|,
name|struct
name|proc
modifier|*
name|p
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|int
name|devfs_unmount
parameter_list|(
name|struct
name|mount
modifier|*
name|mp
parameter_list|,
name|int
name|mntflags
parameter_list|,
name|struct
name|proc
modifier|*
name|p
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|int
name|devfs_root
parameter_list|(
name|struct
name|mount
modifier|*
name|mp
parameter_list|,
name|struct
name|vnode
modifier|*
modifier|*
name|vpp
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|int
name|devfs_quotactl
parameter_list|(
name|struct
name|mount
modifier|*
name|mp
parameter_list|,
name|int
name|cmds
parameter_list|,
name|uid_t
name|uid
parameter_list|,
name|caddr_t
name|arg
parameter_list|,
name|struct
name|proc
modifier|*
name|p
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|int
name|devfs_statfs
parameter_list|(
name|struct
name|mount
modifier|*
name|mp
parameter_list|,
name|struct
name|statfs
modifier|*
name|sbp
parameter_list|,
name|struct
name|proc
modifier|*
name|p
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|int
name|devfs_sync
parameter_list|(
name|struct
name|mount
modifier|*
name|mp
parameter_list|,
name|int
name|waitfor
parameter_list|,
name|struct
name|ucred
modifier|*
name|cred
parameter_list|,
name|struct
name|proc
modifier|*
name|p
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|int
name|devfs_vget
parameter_list|(
name|struct
name|mount
modifier|*
name|mp
parameter_list|,
name|ino_t
name|ino
parameter_list|,
name|struct
name|vnode
modifier|*
modifier|*
name|vpp
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|int
name|devfs_fhtovp
parameter_list|(
name|struct
name|mount
modifier|*
name|mp
parameter_list|,
name|struct
name|fid
modifier|*
name|fhp
parameter_list|,
name|struct
name|mbuf
modifier|*
name|nam
parameter_list|,
name|struct
name|vnode
modifier|*
modifier|*
name|vpp
parameter_list|,
name|int
modifier|*
name|exflagsp
parameter_list|,
name|struct
name|ucred
modifier|*
modifier|*
name|credanonp
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|int
name|devfs_vptofh
parameter_list|(
name|struct
name|vnode
modifier|*
name|vp
parameter_list|,
name|struct
name|fid
modifier|*
name|fhp
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

begin_function_decl
name|void
name|devfs_dropvnode
parameter_list|(
name|dn_p
name|dnp
parameter_list|)
comment|/*proto*/
function_decl|;
end_function_decl

end_unit

