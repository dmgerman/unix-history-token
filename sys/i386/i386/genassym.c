begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*-  * Copyright (c) 1982, 1990 The Regents of the University of California.  * All rights reserved.  *  * This code is derived from software contributed to Berkeley by  * William Jolitz.  *  * Redistribution and use in source and binary forms, with or without  * modification, are permitted provided that the following conditions  * are met:  * 1. Redistributions of source code must retain the above copyright  *    notice, this list of conditions and the following disclaimer.  * 2. Redistributions in binary form must reproduce the above copyright  *    notice, this list of conditions and the following disclaimer in the  *    documentation and/or other materials provided with the distribution.  * 3. All advertising materials mentioning features or use of this software  *    must display the following acknowledgement:  *	This product includes software developed by the University of  *	California, Berkeley and its contributors.  * 4. Neither the name of the University nor the names of its contributors  *    may be used to endorse or promote products derived from this software  *    without specific prior written permission.  *  * THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND  * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE  * ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE  * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS  * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)  * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT  * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY  * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF  * SUCH DAMAGE.  *  *	from: @(#)genassym.c	5.11 (Berkeley) 5/10/91  *	$Id: genassym.c,v 1.68 1999/05/12 21:30:49 luoqi Exp $  */
end_comment

begin_include
include|#
directive|include
file|"opt_vm86.h"
end_include

begin_include
include|#
directive|include
file|"opt_user_ldt.h"
end_include

begin_include
include|#
directive|include
file|<stddef.h>
end_include

begin_include
include|#
directive|include
file|<sys/param.h>
end_include

begin_include
include|#
directive|include
file|<sys/buf.h>
end_include

begin_include
include|#
directive|include
file|<sys/proc.h>
end_include

begin_include
include|#
directive|include
file|<sys/mount.h>
end_include

begin_include
include|#
directive|include
file|<sys/socket.h>
end_include

begin_include
include|#
directive|include
file|<sys/resourcevar.h>
end_include

begin_include
include|#
directive|include
file|<machine/frame.h>
end_include

begin_include
include|#
directive|include
file|<machine/bootinfo.h>
end_include

begin_include
include|#
directive|include
file|<machine/tss.h>
end_include

begin_include
include|#
directive|include
file|<sys/vmmeter.h>
end_include

begin_include
include|#
directive|include
file|<vm/vm.h>
end_include

begin_include
include|#
directive|include
file|<vm/vm_param.h>
end_include

begin_include
include|#
directive|include
file|<vm/pmap.h>
end_include

begin_include
include|#
directive|include
file|<vm/vm_map.h>
end_include

begin_include
include|#
directive|include
file|<sys/user.h>
end_include

begin_include
include|#
directive|include
file|<net/if.h>
end_include

begin_include
include|#
directive|include
file|<netinet/in.h>
end_include

begin_include
include|#
directive|include
file|<nfs/nfsv2.h>
end_include

begin_include
include|#
directive|include
file|<nfs/rpcv2.h>
end_include

begin_include
include|#
directive|include
file|<nfs/nfs.h>
end_include

begin_include
include|#
directive|include
file|<nfs/nfsdiskless.h>
end_include

begin_ifdef
ifdef|#
directive|ifdef
name|SMP
end_ifdef

begin_include
include|#
directive|include
file|<machine/apic.h>
end_include

begin_endif
endif|#
directive|endif
end_endif

begin_include
include|#
directive|include
file|<machine/segments.h>
end_include

begin_include
include|#
directive|include
file|<machine/globaldata.h>
end_include

begin_ifdef
ifdef|#
directive|ifdef
name|VM86
end_ifdef

begin_include
include|#
directive|include
file|<machine/vm86.h>
end_include

begin_endif
endif|#
directive|endif
end_endif

begin_define
define|#
directive|define
name|OS
parameter_list|(
name|s
parameter_list|,
name|m
parameter_list|)
value|((u_int)offsetof(struct s, m))
end_define

begin_decl_stmt
name|int
decl|main
name|__P
argument_list|(
operator|(
name|void
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|printf
name|__P
argument_list|(
operator|(
specifier|const
name|char
operator|*
operator|,
operator|...
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_function
name|int
name|main
parameter_list|()
block|{
name|printf
argument_list|(
literal|"#define\tP_FORW %#x\n"
argument_list|,
name|OS
argument_list|(
name|proc
argument_list|,
name|p_procq
operator|.
name|tqe_next
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tP_BACK %#x\n"
argument_list|,
name|OS
argument_list|(
name|proc
argument_list|,
name|p_procq
operator|.
name|tqe_prev
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tP_VMSPACE %#x\n"
argument_list|,
name|OS
argument_list|(
name|proc
argument_list|,
name|p_vmspace
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tVM_PMAP %#x\n"
argument_list|,
name|OS
argument_list|(
name|vmspace
argument_list|,
name|vm_pmap
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tPM_ACTIVE %#x\n"
argument_list|,
name|OS
argument_list|(
name|pmap
argument_list|,
name|pm_active
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tP_ADDR %#x\n"
argument_list|,
name|OS
argument_list|(
name|proc
argument_list|,
name|p_addr
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tP_PRI %#x\n"
argument_list|,
name|OS
argument_list|(
name|proc
argument_list|,
name|p_priority
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tP_RTPRIO_TYPE %#x\n"
argument_list|,
name|OS
argument_list|(
name|proc
argument_list|,
name|p_rtprio
operator|.
name|type
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tP_RTPRIO_PRIO %#x\n"
argument_list|,
name|OS
argument_list|(
name|proc
argument_list|,
name|p_rtprio
operator|.
name|prio
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tP_STAT %#x\n"
argument_list|,
name|OS
argument_list|(
name|proc
argument_list|,
name|p_stat
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tP_WCHAN %#x\n"
argument_list|,
name|OS
argument_list|(
name|proc
argument_list|,
name|p_wchan
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tP_FLAG %#x\n"
argument_list|,
name|OS
argument_list|(
name|proc
argument_list|,
name|p_flag
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tP_PID %#x\n"
argument_list|,
name|OS
argument_list|(
name|proc
argument_list|,
name|p_pid
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|SMP
name|printf
argument_list|(
literal|"#define\tP_ONCPU %#x\n"
argument_list|,
name|OS
argument_list|(
name|proc
argument_list|,
name|p_oncpu
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tP_LASTCPU %#x\n"
argument_list|,
name|OS
argument_list|(
name|proc
argument_list|,
name|p_lastcpu
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|printf
argument_list|(
literal|"#define\tSSLEEP %d\n"
argument_list|,
name|SSLEEP
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tSRUN %d\n"
argument_list|,
name|SRUN
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tV_TRAP %#x\n"
argument_list|,
name|OS
argument_list|(
name|vmmeter
argument_list|,
name|v_trap
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tV_SYSCALL %#x\n"
argument_list|,
name|OS
argument_list|(
name|vmmeter
argument_list|,
name|v_syscall
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tV_INTR %#x\n"
argument_list|,
name|OS
argument_list|(
name|vmmeter
argument_list|,
name|v_intr
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tUPAGES %d\n"
argument_list|,
name|UPAGES
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tPAGE_SIZE %d\n"
argument_list|,
name|PAGE_SIZE
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tNPTEPG %d\n"
argument_list|,
name|NPTEPG
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tNPDEPG %d\n"
argument_list|,
name|NPDEPG
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tPDESIZE %d\n"
argument_list|,
name|PDESIZE
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tPTESIZE %d\n"
argument_list|,
name|PTESIZE
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tNKPDE %d\n"
argument_list|,
name|NKPDE
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tNKPT %d\n"
argument_list|,
name|NKPT
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tPAGE_SHIFT %d\n"
argument_list|,
name|PAGE_SHIFT
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tPAGE_MASK %d\n"
argument_list|,
name|PAGE_MASK
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tPDRSHIFT %d\n"
argument_list|,
name|PDRSHIFT
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tUSRSTACK %#x\n"
argument_list|,
name|USRSTACK
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tVM_MAXUSER_ADDRESS %#x\n"
argument_list|,
name|VM_MAXUSER_ADDRESS
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tKERNBASE %#x\n"
argument_list|,
name|KERNBASE
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tMCLBYTES %d\n"
argument_list|,
name|MCLBYTES
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tPCB_CR3 %#x\n"
argument_list|,
name|OS
argument_list|(
name|pcb
argument_list|,
name|pcb_cr3
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tPCB_EDI %#x\n"
argument_list|,
name|OS
argument_list|(
name|pcb
argument_list|,
name|pcb_edi
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tPCB_ESI %#x\n"
argument_list|,
name|OS
argument_list|(
name|pcb
argument_list|,
name|pcb_esi
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tPCB_EBP %#x\n"
argument_list|,
name|OS
argument_list|(
name|pcb
argument_list|,
name|pcb_ebp
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tPCB_ESP %#x\n"
argument_list|,
name|OS
argument_list|(
name|pcb
argument_list|,
name|pcb_esp
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tPCB_EBX %#x\n"
argument_list|,
name|OS
argument_list|(
name|pcb
argument_list|,
name|pcb_ebx
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tPCB_EIP %#x\n"
argument_list|,
name|OS
argument_list|(
name|pcb
argument_list|,
name|pcb_eip
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tTSS_ESP0 %#x\n"
argument_list|,
name|OS
argument_list|(
name|i386tss
argument_list|,
name|tss_esp0
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tPCB_USERLDT %#x\n"
argument_list|,
name|OS
argument_list|(
name|pcb
argument_list|,
name|pcb_ldt
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tPCB_GS %#x\n"
argument_list|,
name|OS
argument_list|(
name|pcb
argument_list|,
name|pcb_gs
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|VM86
name|printf
argument_list|(
literal|"#define\tPCB_EXT %#x\n"
argument_list|,
name|OS
argument_list|(
name|pcb
argument_list|,
name|pcb_ext
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|SMP
name|printf
argument_list|(
literal|"#define\tPCB_MPNEST %#x\n"
argument_list|,
name|OS
argument_list|(
name|pcb
argument_list|,
name|pcb_mpnest
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|printf
argument_list|(
literal|"#define\tPCB_SPARE %#x\n"
argument_list|,
name|OS
argument_list|(
name|pcb
argument_list|,
name|__pcb_spare
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tU_PROF %#x\n"
argument_list|,
name|OS
argument_list|(
name|user
argument_list|,
name|u_stats
operator|.
name|p_prof
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tU_PROFSCALE %#x\n"
argument_list|,
name|OS
argument_list|(
name|user
argument_list|,
name|u_stats
operator|.
name|p_prof
operator|.
name|pr_scale
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tPR_BASE %#x\n"
argument_list|,
name|OS
argument_list|(
name|uprof
argument_list|,
name|pr_base
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tPR_SIZE %#x\n"
argument_list|,
name|OS
argument_list|(
name|uprof
argument_list|,
name|pr_size
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tPR_OFF %#x\n"
argument_list|,
name|OS
argument_list|(
name|uprof
argument_list|,
name|pr_off
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tPR_SCALE %#x\n"
argument_list|,
name|OS
argument_list|(
name|uprof
argument_list|,
name|pr_scale
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tRU_MINFLT %#x\n"
argument_list|,
name|OS
argument_list|(
name|rusage
argument_list|,
name|ru_minflt
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tPCB_FLAGS %#x\n"
argument_list|,
name|OS
argument_list|(
name|pcb
argument_list|,
name|pcb_flags
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tPCB_SAVEFPU %#x\n"
argument_list|,
name|OS
argument_list|(
name|pcb
argument_list|,
name|pcb_savefpu
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tPCB_SAVEFPU_SIZE %u\n"
argument_list|,
sizeof|sizeof
argument_list|(
expr|struct
name|save87
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tPCB_ONFAULT %#x\n"
argument_list|,
name|OS
argument_list|(
name|pcb
argument_list|,
name|pcb_onfault
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|SMP
name|printf
argument_list|(
literal|"#define\tPCB_SIZE %u\n"
argument_list|,
sizeof|sizeof
argument_list|(
expr|struct
name|pcb
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|printf
argument_list|(
literal|"#define\tTF_ES %#x\n"
argument_list|,
name|OS
argument_list|(
name|trapframe
argument_list|,
name|tf_es
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tTF_DS %#x\n"
argument_list|,
name|OS
argument_list|(
name|trapframe
argument_list|,
name|tf_ds
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tTF_EDI %#x\n"
argument_list|,
name|OS
argument_list|(
name|trapframe
argument_list|,
name|tf_edi
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tTF_ESI %#x\n"
argument_list|,
name|OS
argument_list|(
name|trapframe
argument_list|,
name|tf_esi
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tTF_EBP %#x\n"
argument_list|,
name|OS
argument_list|(
name|trapframe
argument_list|,
name|tf_ebp
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tTF_ISP %#x\n"
argument_list|,
name|OS
argument_list|(
name|trapframe
argument_list|,
name|tf_isp
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tTF_EBX %#x\n"
argument_list|,
name|OS
argument_list|(
name|trapframe
argument_list|,
name|tf_ebx
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tTF_EDX %#x\n"
argument_list|,
name|OS
argument_list|(
name|trapframe
argument_list|,
name|tf_edx
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tTF_ECX %#x\n"
argument_list|,
name|OS
argument_list|(
name|trapframe
argument_list|,
name|tf_ecx
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tTF_EAX %#x\n"
argument_list|,
name|OS
argument_list|(
name|trapframe
argument_list|,
name|tf_eax
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tTF_TRAPNO %#x\n"
argument_list|,
name|OS
argument_list|(
name|trapframe
argument_list|,
name|tf_trapno
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tTF_ERR %#x\n"
argument_list|,
name|OS
argument_list|(
name|trapframe
argument_list|,
name|tf_err
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tTF_EIP %#x\n"
argument_list|,
name|OS
argument_list|(
name|trapframe
argument_list|,
name|tf_eip
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tTF_CS %#x\n"
argument_list|,
name|OS
argument_list|(
name|trapframe
argument_list|,
name|tf_cs
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tTF_EFLAGS %#x\n"
argument_list|,
name|OS
argument_list|(
name|trapframe
argument_list|,
name|tf_eflags
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tTF_ESP %#x\n"
argument_list|,
name|OS
argument_list|(
name|trapframe
argument_list|,
name|tf_esp
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tTF_SS %#x\n"
argument_list|,
name|OS
argument_list|(
name|trapframe
argument_list|,
name|tf_ss
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tSIGF_SIGNUM %#x\n"
argument_list|,
name|OS
argument_list|(
name|sigframe
argument_list|,
name|sf_signum
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tSIGF_CODE %#x\n"
argument_list|,
name|OS
argument_list|(
name|sigframe
argument_list|,
name|sf_code
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tSIGF_SCP %#x\n"
argument_list|,
name|OS
argument_list|(
name|sigframe
argument_list|,
name|sf_scp
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tSIGF_HANDLER %#x\n"
argument_list|,
name|OS
argument_list|(
name|sigframe
argument_list|,
name|sf_handler
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tSIGF_SC %#x\n"
argument_list|,
name|OS
argument_list|(
name|sigframe
argument_list|,
name|sf_sc
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tB_READ %#x\n"
argument_list|,
name|B_READ
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tENOENT %d\n"
argument_list|,
name|ENOENT
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tEFAULT %d\n"
argument_list|,
name|EFAULT
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tENAMETOOLONG %d\n"
argument_list|,
name|ENAMETOOLONG
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tMAXPATHLEN %d\n"
argument_list|,
name|MAXPATHLEN
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tBOOTINFO_SIZE %u\n"
argument_list|,
sizeof|sizeof
argument_list|(
expr|struct
name|bootinfo
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tBI_VERSION %#x\n"
argument_list|,
name|OS
argument_list|(
name|bootinfo
argument_list|,
name|bi_version
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tBI_KERNELNAME %#x\n"
argument_list|,
name|OS
argument_list|(
name|bootinfo
argument_list|,
name|bi_kernelname
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tBI_NFS_DISKLESS %#x\n"
argument_list|,
name|OS
argument_list|(
name|bootinfo
argument_list|,
name|bi_nfs_diskless
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tBI_ENDCOMMON %#x\n"
argument_list|,
name|OS
argument_list|(
name|bootinfo
argument_list|,
name|bi_endcommon
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tNFSDISKLESS_SIZE %u\n"
argument_list|,
sizeof|sizeof
argument_list|(
expr|struct
name|nfs_diskless
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tBI_SIZE %#x\n"
argument_list|,
name|OS
argument_list|(
name|bootinfo
argument_list|,
name|bi_size
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tBI_SYMTAB %#x\n"
argument_list|,
name|OS
argument_list|(
name|bootinfo
argument_list|,
name|bi_symtab
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tBI_ESYMTAB %#x\n"
argument_list|,
name|OS
argument_list|(
name|bootinfo
argument_list|,
name|bi_esymtab
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tBI_KERNEND %#x\n"
argument_list|,
name|OS
argument_list|(
name|bootinfo
argument_list|,
name|bi_kernend
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tBI_ENVP %#x\n"
argument_list|,
name|OS
argument_list|(
name|bootinfo
argument_list|,
name|bi_envp
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tBI_MODULEP %#x\n"
argument_list|,
name|OS
argument_list|(
name|bootinfo
argument_list|,
name|bi_modulep
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tGD_SIZEOF %u\n"
argument_list|,
sizeof|sizeof
argument_list|(
expr|struct
name|globaldata
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tGD_CURPROC %#x\n"
argument_list|,
name|OS
argument_list|(
name|globaldata
argument_list|,
name|gd_curproc
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tGD_NPXPROC %#x\n"
argument_list|,
name|OS
argument_list|(
name|globaldata
argument_list|,
name|gd_npxproc
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tGD_CURPCB %#x\n"
argument_list|,
name|OS
argument_list|(
name|globaldata
argument_list|,
name|gd_curpcb
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tGD_COMMON_TSS %#x\n"
argument_list|,
name|OS
argument_list|(
name|globaldata
argument_list|,
name|gd_common_tss
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tGD_SWITCHTIME %#x\n"
argument_list|,
name|OS
argument_list|(
name|globaldata
argument_list|,
name|gd_switchtime
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tGD_SWITCHTICKS %#x\n"
argument_list|,
name|OS
argument_list|(
name|globaldata
argument_list|,
name|gd_switchticks
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|VM86
name|printf
argument_list|(
literal|"#define\tGD_COMMON_TSSD %#x\n"
argument_list|,
name|OS
argument_list|(
name|globaldata
argument_list|,
name|gd_common_tssd
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tGD_TSS_GDT %#x\n"
argument_list|,
name|OS
argument_list|(
name|globaldata
argument_list|,
name|gd_tss_gdt
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|USER_LDT
name|printf
argument_list|(
literal|"#define\tGD_CURRENTLDT %#x\n"
argument_list|,
name|OS
argument_list|(
name|globaldata
argument_list|,
name|gd_currentldt
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|SMP
name|printf
argument_list|(
literal|"#define\tGD_CPUID %#x\n"
argument_list|,
name|OS
argument_list|(
name|globaldata
argument_list|,
name|gd_cpuid
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tGD_CPU_LOCKID %#x\n"
argument_list|,
name|OS
argument_list|(
name|globaldata
argument_list|,
name|gd_cpu_lockid
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tGD_OTHER_CPUS %#x\n"
argument_list|,
name|OS
argument_list|(
name|globaldata
argument_list|,
name|gd_other_cpus
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tGD_SS_EFLAGS %#x\n"
argument_list|,
name|OS
argument_list|(
name|globaldata
argument_list|,
name|gd_ss_eflags
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tGD_INSIDE_INTR %#x\n"
argument_list|,
name|OS
argument_list|(
name|globaldata
argument_list|,
name|gd_inside_intr
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tGD_PRV_CMAP1 %#x\n"
argument_list|,
name|OS
argument_list|(
name|globaldata
argument_list|,
name|gd_prv_CMAP1
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tGD_PRV_CMAP2 %#x\n"
argument_list|,
name|OS
argument_list|(
name|globaldata
argument_list|,
name|gd_prv_CMAP2
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tGD_PRV_CMAP3 %#x\n"
argument_list|,
name|OS
argument_list|(
name|globaldata
argument_list|,
name|gd_prv_CMAP3
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tGD_PRV_PMAP1 %#x\n"
argument_list|,
name|OS
argument_list|(
name|globaldata
argument_list|,
name|gd_prv_PMAP1
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tGD_PRV_CADDR1 %#x\n"
argument_list|,
name|OS
argument_list|(
name|globaldata
argument_list|,
name|gd_prv_CADDR1
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tGD_PRV_CADDR2 %#x\n"
argument_list|,
name|OS
argument_list|(
name|globaldata
argument_list|,
name|gd_prv_CADDR2
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tGD_PRV_CADDR3 %#x\n"
argument_list|,
name|OS
argument_list|(
name|globaldata
argument_list|,
name|gd_prv_CADDR3
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tGD_PRV_PADDR1 %#x\n"
argument_list|,
name|OS
argument_list|(
name|globaldata
argument_list|,
name|gd_prv_PADDR1
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tPS_GLOBALDATA %#x\n"
argument_list|,
name|OS
argument_list|(
name|privatespace
argument_list|,
name|globaldata
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tPS_IDLESTACK %#x\n"
argument_list|,
name|OS
argument_list|(
name|privatespace
argument_list|,
name|idlestack
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tPS_IDLESTACK_TOP %#x\n"
argument_list|,
sizeof|sizeof
argument_list|(
expr|struct
name|privatespace
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|printf
argument_list|(
literal|"#define\tKCSEL %#x\n"
argument_list|,
name|GSEL
argument_list|(
name|GCODE_SEL
argument_list|,
name|SEL_KPL
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"#define\tKDSEL %#x\n"
argument_list|,
name|GSEL
argument_list|(
name|GDATA_SEL
argument_list|,
name|SEL_KPL
argument_list|)
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|SMP
name|printf
argument_list|(
literal|"#define\tKPSEL %#x\n"
argument_list|,
name|GSEL
argument_list|(
name|GPRIV_SEL
argument_list|,
name|SEL_KPL
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
name|printf
argument_list|(
literal|"#define\tGPROC0_SEL %#x\n"
argument_list|,
name|GPROC0_SEL
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|VM86
name|printf
argument_list|(
literal|"#define\tVM86_FRAMESIZE %#x\n"
argument_list|,
sizeof|sizeof
argument_list|(
expr|struct
name|vm86frame
argument_list|)
argument_list|)
expr_stmt|;
endif|#
directive|endif
return|return
operator|(
literal|0
operator|)
return|;
block|}
end_function

end_unit

