begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*****************************************************************************/
end_comment

begin_comment
comment|/*  * comstats.h  -- Serial Port Stats.  *  * Copyright (c) 1994-1996 Greg Ungerer (gerg@stallion.oz.au).  * All rights reserved.  *  * Redistribution and use in source and binary forms, with or without  * modification, are permitted provided that the following conditions  * are met:  * 1. Redistributions of source code must retain the above copyright  *    notice, this list of conditions and the following disclaimer.  * 2. Redistributions in binary form must reproduce the above copyright  *    notice, this list of conditions and the following disclaimer in the  *    documentation and/or other materials provided with the distribution.  * 3. All advertising materials mentioning features or use of this software  *    must display the following acknowledgement:  *	This product includes software developed by Greg Ungerer.  * 4. Neither the name of the author nor the names of any co-contributors  *    may be used to endorse or promote products derived from this software  *    without specific prior written permission.  *  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND  * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE  * ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE  * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS  * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)  * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT  * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY  * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF  * SUCH DAMAGE.  *  * $FreeBSD$  */
end_comment

begin_comment
comment|/*****************************************************************************/
end_comment

begin_ifndef
ifndef|#
directive|ifndef
name|_COMSTATS_H
end_ifndef

begin_define
define|#
directive|define
name|_COMSTATS_H
end_define

begin_comment
comment|/*****************************************************************************/
end_comment

begin_comment
comment|/*  *	Serial port stats structure. The structure itself is UART  *	independent, but some fields may be UART/driver specific (for  *	example state).  */
end_comment

begin_typedef
typedef|typedef
struct|struct
block|{
name|unsigned
name|long
name|brd
decl_stmt|;
name|unsigned
name|long
name|panel
decl_stmt|;
name|unsigned
name|long
name|port
decl_stmt|;
name|unsigned
name|long
name|hwid
decl_stmt|;
name|unsigned
name|long
name|type
decl_stmt|;
name|unsigned
name|long
name|txtotal
decl_stmt|;
name|unsigned
name|long
name|rxtotal
decl_stmt|;
name|unsigned
name|long
name|txbuffered
decl_stmt|;
name|unsigned
name|long
name|rxbuffered
decl_stmt|;
name|unsigned
name|long
name|rxoverrun
decl_stmt|;
name|unsigned
name|long
name|rxparity
decl_stmt|;
name|unsigned
name|long
name|rxframing
decl_stmt|;
name|unsigned
name|long
name|rxlost
decl_stmt|;
name|unsigned
name|long
name|txbreaks
decl_stmt|;
name|unsigned
name|long
name|rxbreaks
decl_stmt|;
name|unsigned
name|long
name|txxon
decl_stmt|;
name|unsigned
name|long
name|txxoff
decl_stmt|;
name|unsigned
name|long
name|rxxon
decl_stmt|;
name|unsigned
name|long
name|rxxoff
decl_stmt|;
name|unsigned
name|long
name|txctson
decl_stmt|;
name|unsigned
name|long
name|txctsoff
decl_stmt|;
name|unsigned
name|long
name|rxrtson
decl_stmt|;
name|unsigned
name|long
name|rxrtsoff
decl_stmt|;
name|unsigned
name|long
name|modem
decl_stmt|;
name|unsigned
name|long
name|state
decl_stmt|;
name|unsigned
name|long
name|flags
decl_stmt|;
name|unsigned
name|long
name|ttystate
decl_stmt|;
name|unsigned
name|long
name|cflags
decl_stmt|;
name|unsigned
name|long
name|iflags
decl_stmt|;
name|unsigned
name|long
name|oflags
decl_stmt|;
name|unsigned
name|long
name|lflags
decl_stmt|;
name|unsigned
name|long
name|signals
decl_stmt|;
block|}
name|comstats_t
typedef|;
end_typedef

begin_comment
comment|/*  *	Board stats structure. Returns usefull info about the board.  */
end_comment

begin_define
define|#
directive|define
name|COM_MAXPANELS
value|8
end_define

begin_typedef
typedef|typedef
struct|struct
block|{
name|unsigned
name|long
name|panel
decl_stmt|;
name|unsigned
name|long
name|type
decl_stmt|;
name|unsigned
name|long
name|hwid
decl_stmt|;
name|unsigned
name|long
name|nrports
decl_stmt|;
block|}
name|companel_t
typedef|;
end_typedef

begin_typedef
typedef|typedef
struct|struct
block|{
name|unsigned
name|long
name|brd
decl_stmt|;
name|unsigned
name|long
name|type
decl_stmt|;
name|unsigned
name|long
name|hwid
decl_stmt|;
name|unsigned
name|long
name|state
decl_stmt|;
name|unsigned
name|long
name|ioaddr
decl_stmt|;
name|unsigned
name|long
name|ioaddr2
decl_stmt|;
name|unsigned
name|long
name|memaddr
decl_stmt|;
name|unsigned
name|long
name|irq
decl_stmt|;
name|unsigned
name|long
name|nrpanels
decl_stmt|;
name|unsigned
name|long
name|nrports
decl_stmt|;
name|companel_t
name|panels
index|[
name|COM_MAXPANELS
index|]
decl_stmt|;
block|}
name|combrd_t
typedef|;
end_typedef

begin_comment
comment|/*  *	Define the ioctl operations for stats stuff.  */
end_comment

begin_define
define|#
directive|define
name|COM_GETPORTSTATS
value|_IOWR('c', 30, comstats_t)
end_define

begin_define
define|#
directive|define
name|COM_CLRPORTSTATS
value|_IOWR('c', 31, comstats_t)
end_define

begin_define
define|#
directive|define
name|COM_GETBRDSTATS
value|_IOWR('c', 32, combrd_t)
end_define

begin_comment
comment|/*****************************************************************************/
end_comment

begin_endif
endif|#
directive|endif
end_endif

end_unit

