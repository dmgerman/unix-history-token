begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*-  * Copyright (c) 2004 John Birrell  * All rights reserved.  *  * Redistribution and use in source and binary forms, with or without  * modification, are permitted provided that the following conditions  * are met:  * 1. Redistributions of source code must retain the above copyright  *    notice, this list of conditions and the following disclaimer.  * 2. Redistributions in binary form must reproduce the above copyright  *    notice, this list of conditions and the following disclaimer in the  *    documentation and/or other materials provided with the distribution.  *  * THIS SOFTWARE IS PROVIDED BY AUTHOR AND CONTRIBUTORS ``AS IS'' AND  * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE  * ARE DISCLAIMED.  IN NO EVENT SHALL AUTHOR OR CONTRIBUTORS BE LIABLE  * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS  * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)  * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT  * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY  * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF  * SUCH DAMAGE.  */
end_comment

begin_comment
comment|/* AMD Elan SC520 Memory Mapped Configuration Region (MMCR).  *  * The layout of this structure is documented by AMD in the Elan SC520  * Microcontroller Register Set Manual. The field names match those  * described in that document. The overall structure size must be 4096  * bytes. Ignore fields with the 'pad' prefix - they are only present for  * alignment purposes.  *  * $FreeBSD$  */
end_comment

begin_ifndef
ifndef|#
directive|ifndef
name|_MACHINE_ELAN_MMCR_H_
end_ifndef

begin_define
define|#
directive|define
name|_MACHINE_ELAN_MMCR_H_
value|1
end_define

begin_struct
struct|struct
name|elan_mmcr
block|{
comment|/* CPU */
name|u_int16_t
name|REVID
decl_stmt|;
name|u_int8_t
name|CPUCTL
decl_stmt|;
name|u_int8_t
name|pad_0x003
index|[
literal|0xd
index|]
decl_stmt|;
comment|/* SDRAM Controller */
name|u_int16_t
name|DRCCTL
decl_stmt|;
name|u_int16_t
name|DRCTMCTL
decl_stmt|;
name|u_int16_t
name|DRCCFG
decl_stmt|;
name|u_int16_t
name|DRCBENDADR
decl_stmt|;
name|u_int8_t
name|pad_0x01a
index|[
literal|0x6
index|]
decl_stmt|;
name|u_int8_t
name|ECCCTL
decl_stmt|;
name|u_int8_t
name|ECCSTA
decl_stmt|;
name|u_int8_t
name|ECCCKBPOS
decl_stmt|;
name|u_int8_t
name|ECCCKTEST
decl_stmt|;
name|u_int32_t
name|ECCSBADD
decl_stmt|;
name|u_int32_t
name|ECCMBADD
decl_stmt|;
name|u_int8_t
name|pad_0x02c
index|[
literal|0x14
index|]
decl_stmt|;
comment|/* SDRAM Buffer */
name|u_int8_t
name|DBCTL
decl_stmt|;
name|u_int8_t
name|pad_0x041
index|[
literal|0xf
index|]
decl_stmt|;
comment|/* ROM/Flash Controller */
name|u_int16_t
name|BOOTCSCTL
decl_stmt|;
name|u_int8_t
name|pad_0x052
index|[
literal|0x2
index|]
decl_stmt|;
name|u_int16_t
name|ROMCS1CTL
decl_stmt|;
name|u_int16_t
name|ROMCS2CTL
decl_stmt|;
name|u_int8_t
name|pad_0x058
index|[
literal|0x8
index|]
decl_stmt|;
comment|/* PCI Bus Host Bridge */
name|u_int16_t
name|HBCTL
decl_stmt|;
name|u_int16_t
name|HBTGTIRQCTL
decl_stmt|;
name|u_int16_t
name|HBTGTIRQSTA
decl_stmt|;
name|u_int16_t
name|HBMSTIRQCTL
decl_stmt|;
name|u_int16_t
name|HBMSTIRQSTA
decl_stmt|;
name|u_int8_t
name|pad_0x06a
index|[
literal|0x2
index|]
decl_stmt|;
name|u_int32_t
name|MSTINTADD
decl_stmt|;
comment|/* System Arbitration */
name|u_int8_t
name|SYSARBCTL
decl_stmt|;
name|u_int8_t
name|PCIARBSTA
decl_stmt|;
name|u_int16_t
name|SYSARBMENB
decl_stmt|;
name|u_int32_t
name|ARBPRICTL
decl_stmt|;
name|u_int8_t
name|pad_0x078
index|[
literal|0x8
index|]
decl_stmt|;
comment|/* System Address Mapping */
name|u_int32_t
name|ADDDECCTL
decl_stmt|;
name|u_int32_t
name|WPVSTA
decl_stmt|;
name|u_int32_t
name|PAR0
decl_stmt|;
name|u_int32_t
name|PAR1
decl_stmt|;
name|u_int32_t
name|PAR2
decl_stmt|;
name|u_int32_t
name|PAR3
decl_stmt|;
name|u_int32_t
name|PAR4
decl_stmt|;
name|u_int32_t
name|PAR5
decl_stmt|;
name|u_int32_t
name|PAR6
decl_stmt|;
name|u_int32_t
name|PAR7
decl_stmt|;
name|u_int32_t
name|PAR8
decl_stmt|;
name|u_int32_t
name|PAR9
decl_stmt|;
name|u_int32_t
name|PAR10
decl_stmt|;
name|u_int32_t
name|PAR11
decl_stmt|;
name|u_int32_t
name|PAR12
decl_stmt|;
name|u_int32_t
name|PAR13
decl_stmt|;
name|u_int32_t
name|PAR14
decl_stmt|;
name|u_int32_t
name|PAR15
decl_stmt|;
name|u_int8_t
name|pad_0x0c8
index|[
literal|0xb38
index|]
decl_stmt|;
comment|/* GP Bus Controller */
name|u_int8_t
name|GPECHO
decl_stmt|;
name|u_int8_t
name|GPCSDW
decl_stmt|;
name|u_int16_t
name|GPCSQUAL
decl_stmt|;
name|u_int8_t
name|pad_0xc04
index|[
literal|0x4
index|]
decl_stmt|;
name|u_int8_t
name|GPCSRT
decl_stmt|;
name|u_int8_t
name|GPCSPW
decl_stmt|;
name|u_int8_t
name|GPCSOFF
decl_stmt|;
name|u_int8_t
name|GPRDW
decl_stmt|;
name|u_int8_t
name|GPRDOFF
decl_stmt|;
name|u_int8_t
name|GPWRW
decl_stmt|;
name|u_int8_t
name|GPWROFF
decl_stmt|;
name|u_int8_t
name|GPALEW
decl_stmt|;
name|u_int8_t
name|GPALEOFF
decl_stmt|;
name|u_int8_t
name|pad_0xc11
index|[
literal|0xf
index|]
decl_stmt|;
comment|/* Programmable Input/Output */
name|u_int16_t
name|PIOPFS15_0
decl_stmt|;
name|u_int16_t
name|PIOPFS31_16
decl_stmt|;
name|u_int8_t
name|CSPFS
decl_stmt|;
name|u_int8_t
name|pad_0xc25
decl_stmt|;
name|u_int8_t
name|CLKSEL
decl_stmt|;
name|u_int8_t
name|pad_0xc27
decl_stmt|;
name|u_int16_t
name|DSCTL
decl_stmt|;
name|u_int16_t
name|PIODIR15_0
decl_stmt|;
name|u_int16_t
name|PIODIR31_16
decl_stmt|;
name|u_int8_t
name|pad_0xc2e
index|[
literal|0x2
index|]
decl_stmt|;
name|u_int16_t
name|PIODATA15_0
decl_stmt|;
name|u_int16_t
name|PIODATA31_16
decl_stmt|;
name|u_int16_t
name|PIOSET15_0
decl_stmt|;
name|u_int16_t
name|PIOSET31_16
decl_stmt|;
name|u_int16_t
name|PIOCLR15_0
decl_stmt|;
name|u_int16_t
name|PIOCLR31_16
decl_stmt|;
name|u_int8_t
name|pad_0xc3c
index|[
literal|0x24
index|]
decl_stmt|;
comment|/* Software Timer */
name|u_int16_t
name|SWTMRMILLI
decl_stmt|;
name|u_int16_t
name|SWTMRMICRO
decl_stmt|;
name|u_int8_t
name|SWTMRCFG
decl_stmt|;
name|u_int8_t
name|pad_0xc65
index|[
literal|0xb
index|]
decl_stmt|;
comment|/* General-Purpose Timers */
name|u_int8_t
name|GPTMRSTA
decl_stmt|;
name|u_int8_t
name|pad_0xc71
decl_stmt|;
name|u_int16_t
name|GPTMR0CTL
decl_stmt|;
name|u_int16_t
name|GPTMR0CNT
decl_stmt|;
name|u_int16_t
name|GPTMR0MAXCMPA
decl_stmt|;
name|u_int16_t
name|GPTMR0MAXCMPB
decl_stmt|;
name|u_int16_t
name|GPTMR1CTL
decl_stmt|;
name|u_int16_t
name|GPTMR1CNT
decl_stmt|;
name|u_int16_t
name|GPTMR1MAXCMPA
decl_stmt|;
name|u_int16_t
name|GPTMR1MAXCMPB
decl_stmt|;
name|u_int16_t
name|GPTMR2CTL
decl_stmt|;
name|u_int16_t
name|GPTMR2CNT
decl_stmt|;
name|u_int8_t
name|pad_0xc86
index|[
literal|0x8
index|]
decl_stmt|;
name|u_int16_t
name|GPTMR2MAXCMPA
decl_stmt|;
name|u_int8_t
name|pad_0xc90
index|[
literal|0x20
index|]
decl_stmt|;
comment|/* Watchdog Timer */
name|u_int16_t
name|WDTMRCTL
decl_stmt|;
name|u_int16_t
name|WDTMRCNTL
decl_stmt|;
name|u_int16_t
name|WDTMRCNTH
decl_stmt|;
name|u_int8_t
name|pad_0xcb6
index|[
literal|0xa
index|]
decl_stmt|;
comment|/* UART Serial Ports */
name|u_int8_t
name|UART1CTL
decl_stmt|;
name|u_int8_t
name|UART1STA
decl_stmt|;
name|u_int8_t
name|UART1FCRSHAD
decl_stmt|;
name|u_int8_t
name|pad_0xcc3
decl_stmt|;
name|u_int8_t
name|UART2CTL
decl_stmt|;
name|u_int8_t
name|UART2STA
decl_stmt|;
name|u_int8_t
name|UART2FCRSHAD
decl_stmt|;
name|u_int8_t
name|pad_0xcc7
index|[
literal|0x9
index|]
decl_stmt|;
comment|/* Synchronous Serial Interface */
name|u_int8_t
name|SSICTL
decl_stmt|;
name|u_int8_t
name|SSIXMIT
decl_stmt|;
name|u_int8_t
name|SSICMD
decl_stmt|;
name|u_int8_t
name|SSISTA
decl_stmt|;
name|u_int8_t
name|SSIRCV
decl_stmt|;
name|u_int8_t
name|pad_0xcd5
index|[
literal|0x2b
index|]
decl_stmt|;
comment|/* Programmable Interrupt Controller */
name|u_int8_t
name|PICICR
decl_stmt|;
name|u_int8_t
name|pad_0xd01
decl_stmt|;
name|u_int8_t
name|MPICMODE
decl_stmt|;
name|u_int8_t
name|SL1PICMODE
decl_stmt|;
name|u_int8_t
name|SL2PICMODE
decl_stmt|;
name|u_int8_t
name|pad_0xd05
index|[
literal|0x3
index|]
decl_stmt|;
name|u_int16_t
name|SWINT16_1
decl_stmt|;
name|u_int8_t
name|SWINT22_17
decl_stmt|;
name|u_int8_t
name|pad_0xd0b
index|[
literal|0x5
index|]
decl_stmt|;
name|u_int16_t
name|INTPINPOL
decl_stmt|;
name|u_int8_t
name|pad_0xd12
index|[
literal|0x2
index|]
decl_stmt|;
name|u_int16_t
name|PCIHOSTMAP
decl_stmt|;
name|u_int8_t
name|pad_0xd16
index|[
literal|0x2
index|]
decl_stmt|;
name|u_int16_t
name|ECCMAP
decl_stmt|;
name|u_int8_t
name|GPTMR0MAP
decl_stmt|;
name|u_int8_t
name|GPTMR1MAP
decl_stmt|;
name|u_int8_t
name|GPTMR2MAP
decl_stmt|;
name|u_int8_t
name|pad_0xd1d
index|[
literal|0x3
index|]
decl_stmt|;
name|u_int8_t
name|PIT0MAP
decl_stmt|;
name|u_int8_t
name|PIT1MAP
decl_stmt|;
name|u_int8_t
name|PIT2MAP
decl_stmt|;
name|u_int8_t
name|pad_0xd23
index|[
literal|0x5
index|]
decl_stmt|;
name|u_int8_t
name|UART1MAP
decl_stmt|;
name|u_int8_t
name|UART2MAP
decl_stmt|;
name|u_int8_t
name|pad_0xd2a
index|[
literal|0x6
index|]
decl_stmt|;
name|u_int8_t
name|PCIINTAMAP
decl_stmt|;
name|u_int8_t
name|PCIINTBMAP
decl_stmt|;
name|u_int8_t
name|PCIINTCMAP
decl_stmt|;
name|u_int8_t
name|PCIINTDMAP
decl_stmt|;
name|u_int8_t
name|pad_0xd34
index|[
literal|0xc
index|]
decl_stmt|;
name|u_int8_t
name|DMABCINTMAP
decl_stmt|;
name|u_int8_t
name|SSIMAP
decl_stmt|;
name|u_int8_t
name|WDTMAP
decl_stmt|;
name|u_int8_t
name|RTCMAP
decl_stmt|;
name|u_int8_t
name|WPVMAP
decl_stmt|;
name|u_int8_t
name|ICEMAP
decl_stmt|;
name|u_int8_t
name|FERRMAP
decl_stmt|;
name|u_int8_t
name|pad_0xd47
index|[
literal|0x9
index|]
decl_stmt|;
name|u_int8_t
name|GP0IMAP
decl_stmt|;
name|u_int8_t
name|GP1IMAP
decl_stmt|;
name|u_int8_t
name|GP2IMAP
decl_stmt|;
name|u_int8_t
name|GP3IMAP
decl_stmt|;
name|u_int8_t
name|GP4IMAP
decl_stmt|;
name|u_int8_t
name|GP5IMAP
decl_stmt|;
name|u_int8_t
name|GP6IMAP
decl_stmt|;
name|u_int8_t
name|GP7IMAP
decl_stmt|;
name|u_int8_t
name|GP8IMAP
decl_stmt|;
name|u_int8_t
name|GP9IMAP
decl_stmt|;
name|u_int8_t
name|GP10IMAP
decl_stmt|;
name|u_int8_t
name|pad_0xd5b
index|[
literal|0x15
index|]
decl_stmt|;
comment|/* Reset Generation */
name|u_int8_t
name|SYSINFO
decl_stmt|;
name|u_int8_t
name|pad_0xd71
decl_stmt|;
name|u_int8_t
name|RESCFG
decl_stmt|;
name|u_int8_t
name|pad_0xd73
decl_stmt|;
name|u_int8_t
name|RESSTA
decl_stmt|;
name|u_int8_t
name|pad_0xd75
index|[
literal|0xb
index|]
decl_stmt|;
comment|/* GP DMA Controller */
name|u_int8_t
name|GPDMACTL
decl_stmt|;
name|u_int8_t
name|GPDMAMMIO
decl_stmt|;
name|u_int16_t
name|GPDMAEXTCHMAPA
decl_stmt|;
name|u_int16_t
name|GPDMAEXTCHMAPB
decl_stmt|;
name|u_int8_t
name|GPDMAEXTPG0
decl_stmt|;
name|u_int8_t
name|GPDMAEXTPG1
decl_stmt|;
name|u_int8_t
name|GPDMAEXTPG2
decl_stmt|;
name|u_int8_t
name|GPDMAEXTPG3
decl_stmt|;
name|u_int8_t
name|GPDMAEXTPG5
decl_stmt|;
name|u_int8_t
name|GPDMAEXTPG6
decl_stmt|;
name|u_int8_t
name|GPDMAEXTPG7
decl_stmt|;
name|u_int8_t
name|pad_0xd8d
index|[
literal|0x3
index|]
decl_stmt|;
name|u_int8_t
name|GPDMAEXTTC3
decl_stmt|;
name|u_int8_t
name|GPDMAEXTTC5
decl_stmt|;
name|u_int8_t
name|GPDMAEXTTC6
decl_stmt|;
name|u_int8_t
name|GPDMAEXTTC7
decl_stmt|;
name|u_int8_t
name|pad_0xd94
index|[
literal|0x4
index|]
decl_stmt|;
name|u_int8_t
name|GPDMABCCTL
decl_stmt|;
name|u_int8_t
name|GPDMABCSTA
decl_stmt|;
name|u_int8_t
name|GPDMABSINTENB
decl_stmt|;
name|u_int8_t
name|GPDMABCVAL
decl_stmt|;
name|u_int8_t
name|pad_0xd9c
index|[
literal|0x4
index|]
decl_stmt|;
name|u_int16_t
name|GPDMANXTADDL3
decl_stmt|;
name|u_int16_t
name|GPDMANXTADDH3
decl_stmt|;
name|u_int16_t
name|GPDMANXTADDL5
decl_stmt|;
name|u_int16_t
name|GPDMANXTADDH5
decl_stmt|;
name|u_int16_t
name|GPDMANXTADDL6
decl_stmt|;
name|u_int16_t
name|GPDMANXTADDH6
decl_stmt|;
name|u_int16_t
name|GPDMANXTADDL7
decl_stmt|;
name|u_int16_t
name|GPDMANXTADDH7
decl_stmt|;
name|u_int16_t
name|GPDMANXTTCL3
decl_stmt|;
name|u_int8_t
name|GPDMANXTTCH3
decl_stmt|;
name|u_int8_t
name|pad_0xdb3
decl_stmt|;
name|u_int16_t
name|GPDMANXTTCL5
decl_stmt|;
name|u_int8_t
name|GPDMANXTTCH5
decl_stmt|;
name|u_int8_t
name|pad_0xdb7
decl_stmt|;
name|u_int16_t
name|GPDMANXTTCL6
decl_stmt|;
name|u_int8_t
name|GPDMANXTTCH6
decl_stmt|;
name|u_int8_t
name|pad_0xdbb
decl_stmt|;
name|u_int16_t
name|GPDMANXTTCL7
decl_stmt|;
name|u_int8_t
name|GPDMANXTTCH7
decl_stmt|;
name|u_int8_t
name|pad_0xdc0
index|[
literal|0x240
index|]
decl_stmt|;
block|}
struct|;
end_struct

begin_expr_stmt
name|CTASSERT
argument_list|(
sizeof|sizeof
argument_list|(
expr|struct
name|elan_mmcr
argument_list|)
operator|==
literal|4096
argument_list|)
expr_stmt|;
end_expr_stmt

begin_decl_stmt
specifier|extern
specifier|volatile
name|struct
name|elan_mmcr
modifier|*
name|elan_mmcr
decl_stmt|;
end_decl_stmt

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* _MACHINE_ELAN_MMCR_H_ */
end_comment

end_unit

