begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*  * Copyright (c) 2000-2003 Marcel Moolenaar  * All rights reserved.  *  * Redistribution and use in source and binary forms, with or without  * modification, are permitted provided that the following conditions  * are met:  *  * 1. Redistributions of source code must retain the above copyright  *    notice, this list of conditions and the following disclaimer.  * 2. Redistributions in binary form must reproduce the above copyright  *    notice, this list of conditions and the following disclaimer in the  *    documentation and/or other materials provided with the distribution.  *  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR  * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES  * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  * IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,  * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT  * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,  * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY  * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT  * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF  * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.  */
end_comment

begin_include
include|#
directive|include
file|<sys/cdefs.h>
end_include

begin_expr_stmt
name|__FBSDID
argument_list|(
literal|"$FreeBSD$"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_include
include|#
directive|include
file|<sys/param.h>
end_include

begin_include
include|#
directive|include
file|<sys/systm.h>
end_include

begin_include
include|#
directive|include
file|<ia64/disasm/disasm_int.h>
end_include

begin_include
include|#
directive|include
file|<ia64/disasm/disasm.h>
end_include

begin_comment
comment|/*  * Template names.  */
end_comment

begin_decl_stmt
specifier|static
specifier|const
name|char
modifier|*
name|asm_templname
index|[]
init|=
block|{
literal|"MII"
block|,
literal|"MII;"
block|,
literal|"MI;I"
block|,
literal|"MI;I;"
block|,
literal|"MLX"
block|,
literal|"MLX;"
block|,
literal|0
block|,
literal|0
block|,
literal|"MMI"
block|,
literal|"MMI;"
block|,
literal|"M;MI"
block|,
literal|"M;MI;"
block|,
literal|"MFI"
block|,
literal|"MFI;"
block|,
literal|"MMF"
block|,
literal|"MMF;"
block|,
literal|"MIB"
block|,
literal|"MIB;"
block|,
literal|"MBB"
block|,
literal|"MBB;"
block|,
literal|0
block|,
literal|0
block|,
literal|"BBB"
block|,
literal|"BBB;"
block|,
literal|"MMB"
block|,
literal|"MMB;"
block|,
literal|0
block|,
literal|0
block|,
literal|"MFB"
block|,
literal|"MFB;"
block|,
literal|0
block|,
literal|0
block|}
decl_stmt|;
end_decl_stmt

begin_comment
comment|/*  * Decode A-unit instructions.  */
end_comment

begin_function
specifier|static
name|int
name|asm_decodeA
parameter_list|(
name|uint64_t
name|bits
parameter_list|,
name|struct
name|asm_bundle
modifier|*
name|b
parameter_list|,
name|int
name|slot
parameter_list|)
block|{
name|enum
name|asm_fmt
name|fmt
decl_stmt|;
name|enum
name|asm_op
name|op
decl_stmt|;
name|fmt
operator|=
name|ASM_FMT_NONE
operator|,
name|op
operator|=
name|ASM_OP_NONE
expr_stmt|;
switch|switch
condition|(
operator|(
name|int
operator|)
name|OPCODE
argument_list|(
name|bits
argument_list|)
condition|)
block|{
case|case
literal|0x8
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|34
argument_list|,
literal|2
argument_list|)
condition|)
block|{
comment|/* x2a */
case|case
literal|0x0
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|33
argument_list|,
literal|1
argument_list|)
operator|==
literal|0
condition|)
block|{
comment|/* ve */
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|29
argument_list|,
literal|4
argument_list|)
condition|)
block|{
comment|/* x4 */
case|case
literal|0x0
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|2
argument_list|)
operator|<=
literal|1
condition|)
comment|/* x2b */
name|op
operator|=
name|ASM_OP_ADD
operator|,
name|fmt
operator|=
name|ASM_FMT_A1
expr_stmt|;
break|break;
case|case
literal|0x1
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|2
argument_list|)
operator|<=
literal|1
condition|)
comment|/* x2b */
name|op
operator|=
name|ASM_OP_SUB
operator|,
name|fmt
operator|=
name|ASM_FMT_A1
expr_stmt|;
break|break;
case|case
literal|0x2
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|2
argument_list|)
operator|==
literal|0
condition|)
comment|/* x2b */
name|op
operator|=
name|ASM_OP_ADDP4
operator|,
name|fmt
operator|=
name|ASM_FMT_A1
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|2
argument_list|)
condition|)
block|{
comment|/* x2b */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_AND
operator|,
name|fmt
operator|=
name|ASM_FMT_A1
expr_stmt|;
break|break;
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_ANDCM
operator|,
name|fmt
operator|=
name|ASM_FMT_A1
expr_stmt|;
break|break;
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_OR
operator|,
name|fmt
operator|=
name|ASM_FMT_A1
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
name|op
operator|=
name|ASM_OP_XOR
operator|,
name|fmt
operator|=
name|ASM_FMT_A1
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0xB
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|2
argument_list|)
condition|)
block|{
comment|/* x2b */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_AND
operator|,
name|fmt
operator|=
name|ASM_FMT_A3
expr_stmt|;
break|break;
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_ANDCM
operator|,
name|fmt
operator|=
name|ASM_FMT_A3
expr_stmt|;
break|break;
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_OR
operator|,
name|fmt
operator|=
name|ASM_FMT_A3
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
name|op
operator|=
name|ASM_OP_XOR
operator|,
name|fmt
operator|=
name|ASM_FMT_A3
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0x4
case|:
name|op
operator|=
name|ASM_OP_SHLADD
operator|,
name|fmt
operator|=
name|ASM_FMT_A2
expr_stmt|;
break|break;
case|case
literal|0x6
case|:
name|op
operator|=
name|ASM_OP_SHLADDP4
operator|,
name|fmt
operator|=
name|ASM_FMT_A2
expr_stmt|;
break|break;
case|case
literal|0x9
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|2
argument_list|)
operator|==
literal|1
condition|)
comment|/* x2b */
name|op
operator|=
name|ASM_OP_SUB
operator|,
name|fmt
operator|=
name|ASM_FMT_A3
expr_stmt|;
break|break;
block|}
block|}
break|break;
case|case
literal|0x1
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|29
argument_list|,
literal|8
argument_list|)
condition|)
block|{
comment|/* za + x2a + zb + x4 */
case|case
literal|0x20
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|2
argument_list|)
condition|)
block|{
comment|/* x2b */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_PADD1_
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_PADD1_SSS
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_PADD1_UUU
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
name|op
operator|=
name|ASM_OP_PADD1_UUS
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0x21
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|2
argument_list|)
condition|)
block|{
comment|/* x2b */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_PSUB1_
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_PSUB1_SSS
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_PSUB1_UUU
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
name|op
operator|=
name|ASM_OP_PSUB1_UUS
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0x22
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|2
argument_list|)
condition|)
block|{
comment|/* x2b */
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_PAVG1_
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
name|op
operator|=
name|ASM_OP_PAVG1_RAZ
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0x23
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|2
argument_list|)
operator|==
literal|2
condition|)
comment|/* x2b */
name|op
operator|=
name|ASM_OP_PAVGSUB1
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
case|case
literal|0x29
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|2
argument_list|)
condition|)
block|{
comment|/* x2b */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_PCMP1_EQ
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_PCMP1_GT
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0x30
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|2
argument_list|)
condition|)
block|{
comment|/* x2b */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_PADD2_
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_PADD2_SSS
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_PADD2_UUU
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
name|op
operator|=
name|ASM_OP_PADD2_UUS
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0x31
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|2
argument_list|)
condition|)
block|{
comment|/* x2b */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_PSUB2_
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_PSUB2_SSS
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_PSUB2_UUU
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
name|op
operator|=
name|ASM_OP_PSUB2_UUS
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0x32
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|2
argument_list|)
condition|)
block|{
comment|/* x2b */
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_PAVG2_
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
name|op
operator|=
name|ASM_OP_PAVG2_RAZ
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0x33
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|2
argument_list|)
operator|==
literal|2
condition|)
comment|/* x2b */
name|op
operator|=
name|ASM_OP_PAVGSUB2
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
case|case
literal|0x34
case|:
name|op
operator|=
name|ASM_OP_PSHLADD2
operator|,
name|fmt
operator|=
name|ASM_FMT_A10
expr_stmt|;
break|break;
case|case
literal|0x36
case|:
name|op
operator|=
name|ASM_OP_PSHRADD2
operator|,
name|fmt
operator|=
name|ASM_FMT_A10
expr_stmt|;
break|break;
case|case
literal|0x39
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|2
argument_list|)
condition|)
block|{
comment|/* x2b */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_PCMP2_EQ
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_PCMP2_GT
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0xA0
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|2
argument_list|)
operator|==
literal|0
condition|)
comment|/* x2b */
name|op
operator|=
name|ASM_OP_PADD4
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
case|case
literal|0xA1
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|2
argument_list|)
operator|==
literal|0
condition|)
comment|/* x2b */
name|op
operator|=
name|ASM_OP_PSUB4
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
case|case
literal|0xA9
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|2
argument_list|)
condition|)
block|{
comment|/* x2b */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_PCMP4_EQ
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_PCMP4_GT
operator|,
name|fmt
operator|=
name|ASM_FMT_A9
expr_stmt|;
break|break;
block|}
break|break;
block|}
break|break;
case|case
literal|0x2
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|33
argument_list|,
literal|1
argument_list|)
operator|==
literal|0
condition|)
comment|/* ve */
name|op
operator|=
name|ASM_OP_ADDS
operator|,
name|fmt
operator|=
name|ASM_FMT_A4
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|33
argument_list|,
literal|1
argument_list|)
operator|==
literal|0
condition|)
comment|/* ve */
name|op
operator|=
name|ASM_OP_ADDP4
operator|,
name|fmt
operator|=
name|ASM_FMT_A4
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0x9
case|:
name|op
operator|=
name|ASM_OP_ADDL
operator|,
name|fmt
operator|=
name|ASM_FMT_A5
expr_stmt|;
break|break;
case|case
literal|0xC
case|:
case|case
literal|0xD
case|:
case|case
literal|0xE
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|12
argument_list|,
literal|1
argument_list|)
operator|==
literal|0
condition|)
block|{
comment|/* c */
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|33
argument_list|,
literal|8
argument_list|)
condition|)
block|{
comment|/* maj + tb + x2 + ta */
case|case
literal|0xC0
case|:
name|op
operator|=
name|ASM_OP_CMP_LT
operator|,
name|fmt
operator|=
name|ASM_FMT_A6
expr_stmt|;
break|break;
case|case
literal|0xC1
case|:
name|op
operator|=
name|ASM_OP_CMP_EQ_AND
operator|,
name|fmt
operator|=
name|ASM_FMT_A6
expr_stmt|;
break|break;
case|case
literal|0xC2
case|:
name|op
operator|=
name|ASM_OP_CMP4_LT
operator|,
name|fmt
operator|=
name|ASM_FMT_A6
expr_stmt|;
break|break;
case|case
literal|0xC3
case|:
name|op
operator|=
name|ASM_OP_CMP4_EQ_AND
operator|,
name|fmt
operator|=
name|ASM_FMT_A6
expr_stmt|;
break|break;
case|case
literal|0xC4
case|:
case|case
literal|0xCC
case|:
name|op
operator|=
name|ASM_OP_CMP_LT
operator|,
name|fmt
operator|=
name|ASM_FMT_A8
expr_stmt|;
break|break;
case|case
literal|0xC5
case|:
case|case
literal|0xCD
case|:
name|op
operator|=
name|ASM_OP_CMP_EQ_AND
operator|,
name|fmt
operator|=
name|ASM_FMT_A8
expr_stmt|;
break|break;
case|case
literal|0xC6
case|:
case|case
literal|0xCE
case|:
name|op
operator|=
name|ASM_OP_CMP4_LT
operator|,
name|fmt
operator|=
name|ASM_FMT_A8
expr_stmt|;
break|break;
case|case
literal|0xC7
case|:
case|case
literal|0xCF
case|:
name|op
operator|=
name|ASM_OP_CMP4_EQ_AND
operator|,
name|fmt
operator|=
name|ASM_FMT_A8
expr_stmt|;
break|break;
case|case
literal|0xC8
case|:
name|op
operator|=
name|ASM_OP_CMP_GT_AND
operator|,
name|fmt
operator|=
name|ASM_FMT_A7
expr_stmt|;
break|break;
case|case
literal|0xC9
case|:
name|op
operator|=
name|ASM_OP_CMP_GE_AND
operator|,
name|fmt
operator|=
name|ASM_FMT_A7
expr_stmt|;
break|break;
case|case
literal|0xCA
case|:
name|op
operator|=
name|ASM_OP_CMP4_GT_AND
operator|,
name|fmt
operator|=
name|ASM_FMT_A7
expr_stmt|;
break|break;
case|case
literal|0xCB
case|:
name|op
operator|=
name|ASM_OP_CMP4_GE_AND
operator|,
name|fmt
operator|=
name|ASM_FMT_A7
expr_stmt|;
break|break;
case|case
literal|0xD0
case|:
name|op
operator|=
name|ASM_OP_CMP_LTU
operator|,
name|fmt
operator|=
name|ASM_FMT_A6
expr_stmt|;
break|break;
case|case
literal|0xD1
case|:
name|op
operator|=
name|ASM_OP_CMP_EQ_OR
operator|,
name|fmt
operator|=
name|ASM_FMT_A6
expr_stmt|;
break|break;
case|case
literal|0xD2
case|:
name|op
operator|=
name|ASM_OP_CMP4_LTU
operator|,
name|fmt
operator|=
name|ASM_FMT_A6
expr_stmt|;
break|break;
case|case
literal|0xD3
case|:
name|op
operator|=
name|ASM_OP_CMP4_EQ_OR
operator|,
name|fmt
operator|=
name|ASM_FMT_A6
expr_stmt|;
break|break;
case|case
literal|0xD4
case|:
case|case
literal|0xDC
case|:
name|op
operator|=
name|ASM_OP_CMP_LTU
operator|,
name|fmt
operator|=
name|ASM_FMT_A8
expr_stmt|;
break|break;
case|case
literal|0xD5
case|:
case|case
literal|0xDD
case|:
name|op
operator|=
name|ASM_OP_CMP_EQ_OR
operator|,
name|fmt
operator|=
name|ASM_FMT_A8
expr_stmt|;
break|break;
case|case
literal|0xD6
case|:
case|case
literal|0xDE
case|:
name|op
operator|=
name|ASM_OP_CMP4_LTU
operator|,
name|fmt
operator|=
name|ASM_FMT_A8
expr_stmt|;
break|break;
case|case
literal|0xD7
case|:
case|case
literal|0xDF
case|:
name|op
operator|=
name|ASM_OP_CMP4_EQ_OR
operator|,
name|fmt
operator|=
name|ASM_FMT_A8
expr_stmt|;
break|break;
case|case
literal|0xD8
case|:
name|op
operator|=
name|ASM_OP_CMP_GT_OR
operator|,
name|fmt
operator|=
name|ASM_FMT_A7
expr_stmt|;
break|break;
case|case
literal|0xD9
case|:
name|op
operator|=
name|ASM_OP_CMP_GE_OR
operator|,
name|fmt
operator|=
name|ASM_FMT_A7
expr_stmt|;
break|break;
case|case
literal|0xDA
case|:
name|op
operator|=
name|ASM_OP_CMP4_GT_OR
operator|,
name|fmt
operator|=
name|ASM_FMT_A7
expr_stmt|;
break|break;
case|case
literal|0xDB
case|:
name|op
operator|=
name|ASM_OP_CMP4_GE_OR
operator|,
name|fmt
operator|=
name|ASM_FMT_A7
expr_stmt|;
break|break;
case|case
literal|0xE0
case|:
name|op
operator|=
name|ASM_OP_CMP_EQ
operator|,
name|fmt
operator|=
name|ASM_FMT_A6
expr_stmt|;
break|break;
case|case
literal|0xE1
case|:
name|op
operator|=
name|ASM_OP_CMP_EQ_OR_ANDCM
operator|,
name|fmt
operator|=
name|ASM_FMT_A6
expr_stmt|;
break|break;
case|case
literal|0xE2
case|:
name|op
operator|=
name|ASM_OP_CMP4_EQ
operator|,
name|fmt
operator|=
name|ASM_FMT_A6
expr_stmt|;
break|break;
case|case
literal|0xE3
case|:
name|op
operator|=
name|ASM_OP_CMP4_EQ_OR_ANDCM
operator|,
name|fmt
operator|=
name|ASM_FMT_A6
expr_stmt|;
break|break;
case|case
literal|0xE4
case|:
case|case
literal|0xEC
case|:
name|op
operator|=
name|ASM_OP_CMP_EQ
operator|,
name|fmt
operator|=
name|ASM_FMT_A8
expr_stmt|;
break|break;
case|case
literal|0xE5
case|:
case|case
literal|0xED
case|:
name|op
operator|=
name|ASM_OP_CMP_EQ_OR_ANDCM
operator|,
name|fmt
operator|=
name|ASM_FMT_A8
expr_stmt|;
break|break;
case|case
literal|0xE6
case|:
case|case
literal|0xEE
case|:
name|op
operator|=
name|ASM_OP_CMP4_EQ
operator|,
name|fmt
operator|=
name|ASM_FMT_A8
expr_stmt|;
break|break;
case|case
literal|0xE7
case|:
case|case
literal|0xEF
case|:
name|op
operator|=
name|ASM_OP_CMP4_EQ_OR_ANDCM
operator|,
name|fmt
operator|=
name|ASM_FMT_A8
expr_stmt|;
break|break;
case|case
literal|0xE8
case|:
name|op
operator|=
name|ASM_OP_CMP_GT_OR_ANDCM
operator|,
name|fmt
operator|=
name|ASM_FMT_A7
expr_stmt|;
break|break;
case|case
literal|0xE9
case|:
name|op
operator|=
name|ASM_OP_CMP_GE_OR_ANDCM
operator|,
name|fmt
operator|=
name|ASM_FMT_A7
expr_stmt|;
break|break;
case|case
literal|0xEA
case|:
name|op
operator|=
name|ASM_OP_CMP4_GT_OR_ANDCM
operator|,
name|fmt
operator|=
name|ASM_FMT_A7
expr_stmt|;
break|break;
case|case
literal|0xEB
case|:
name|op
operator|=
name|ASM_OP_CMP4_GE_OR_ANDCM
operator|,
name|fmt
operator|=
name|ASM_FMT_A7
expr_stmt|;
break|break;
block|}
block|}
else|else
block|{
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|33
argument_list|,
literal|8
argument_list|)
condition|)
block|{
comment|/* maj + tb + x2 + ta */
case|case
literal|0xC0
case|:
name|op
operator|=
name|ASM_OP_CMP_LT_UNC
operator|,
name|fmt
operator|=
name|ASM_FMT_A6
expr_stmt|;
break|break;
case|case
literal|0xC1
case|:
name|op
operator|=
name|ASM_OP_CMP_NE_AND
operator|,
name|fmt
operator|=
name|ASM_FMT_A6
expr_stmt|;
break|break;
case|case
literal|0xC2
case|:
name|op
operator|=
name|ASM_OP_CMP4_LT_UNC
operator|,
name|fmt
operator|=
name|ASM_FMT_A6
expr_stmt|;
break|break;
case|case
literal|0xC3
case|:
name|op
operator|=
name|ASM_OP_CMP4_NE_AND
operator|,
name|fmt
operator|=
name|ASM_FMT_A6
expr_stmt|;
break|break;
case|case
literal|0xC4
case|:
case|case
literal|0xCC
case|:
name|op
operator|=
name|ASM_OP_CMP_LT_UNC
operator|,
name|fmt
operator|=
name|ASM_FMT_A8
expr_stmt|;
break|break;
case|case
literal|0xC5
case|:
case|case
literal|0xCD
case|:
name|op
operator|=
name|ASM_OP_CMP_NE_AND
operator|,
name|fmt
operator|=
name|ASM_FMT_A8
expr_stmt|;
break|break;
case|case
literal|0xC6
case|:
case|case
literal|0xCE
case|:
name|op
operator|=
name|ASM_OP_CMP4_LT_UNC
operator|,
name|fmt
operator|=
name|ASM_FMT_A8
expr_stmt|;
break|break;
case|case
literal|0xC7
case|:
case|case
literal|0xCF
case|:
name|op
operator|=
name|ASM_OP_CMP4_NE_AND
operator|,
name|fmt
operator|=
name|ASM_FMT_A8
expr_stmt|;
break|break;
case|case
literal|0xC8
case|:
name|op
operator|=
name|ASM_OP_CMP_LE_AND
operator|,
name|fmt
operator|=
name|ASM_FMT_A7
expr_stmt|;
break|break;
case|case
literal|0xC9
case|:
name|op
operator|=
name|ASM_OP_CMP_LT_AND
operator|,
name|fmt
operator|=
name|ASM_FMT_A7
expr_stmt|;
break|break;
case|case
literal|0xCA
case|:
name|op
operator|=
name|ASM_OP_CMP4_LE_AND
operator|,
name|fmt
operator|=
name|ASM_FMT_A7
expr_stmt|;
break|break;
case|case
literal|0xCB
case|:
name|op
operator|=
name|ASM_OP_CMP4_LT_AND
operator|,
name|fmt
operator|=
name|ASM_FMT_A7
expr_stmt|;
break|break;
case|case
literal|0xD0
case|:
name|op
operator|=
name|ASM_OP_CMP_LTU_UNC
operator|,
name|fmt
operator|=
name|ASM_FMT_A6
expr_stmt|;
break|break;
case|case
literal|0xD1
case|:
name|op
operator|=
name|ASM_OP_CMP_NE_OR
operator|,
name|fmt
operator|=
name|ASM_FMT_A6
expr_stmt|;
break|break;
case|case
literal|0xD2
case|:
name|op
operator|=
name|ASM_OP_CMP4_LTU_UNC
operator|,
name|fmt
operator|=
name|ASM_FMT_A6
expr_stmt|;
break|break;
case|case
literal|0xD3
case|:
name|op
operator|=
name|ASM_OP_CMP4_NE_OR
operator|,
name|fmt
operator|=
name|ASM_FMT_A6
expr_stmt|;
break|break;
case|case
literal|0xD4
case|:
case|case
literal|0xDC
case|:
name|op
operator|=
name|ASM_OP_CMP_LTU_UNC
operator|,
name|fmt
operator|=
name|ASM_FMT_A8
expr_stmt|;
break|break;
case|case
literal|0xD5
case|:
case|case
literal|0xDD
case|:
name|op
operator|=
name|ASM_OP_CMP_NE_OR
operator|,
name|fmt
operator|=
name|ASM_FMT_A8
expr_stmt|;
break|break;
case|case
literal|0xD6
case|:
case|case
literal|0xDE
case|:
name|op
operator|=
name|ASM_OP_CMP4_LTU_UNC
operator|,
name|fmt
operator|=
name|ASM_FMT_A8
expr_stmt|;
break|break;
case|case
literal|0xD7
case|:
case|case
literal|0xDF
case|:
name|op
operator|=
name|ASM_OP_CMP4_NE_OR
operator|,
name|fmt
operator|=
name|ASM_FMT_A8
expr_stmt|;
break|break;
case|case
literal|0xD8
case|:
name|op
operator|=
name|ASM_OP_CMP_LE_OR
operator|,
name|fmt
operator|=
name|ASM_FMT_A7
expr_stmt|;
break|break;
case|case
literal|0xD9
case|:
name|op
operator|=
name|ASM_OP_CMP_LT_OR
operator|,
name|fmt
operator|=
name|ASM_FMT_A7
expr_stmt|;
break|break;
case|case
literal|0xDA
case|:
name|op
operator|=
name|ASM_OP_CMP4_LE_OR
operator|,
name|fmt
operator|=
name|ASM_FMT_A7
expr_stmt|;
break|break;
case|case
literal|0xDB
case|:
name|op
operator|=
name|ASM_OP_CMP4_LT_OR
operator|,
name|fmt
operator|=
name|ASM_FMT_A7
expr_stmt|;
break|break;
case|case
literal|0xE0
case|:
name|op
operator|=
name|ASM_OP_CMP_EQ_UNC
operator|,
name|fmt
operator|=
name|ASM_FMT_A6
expr_stmt|;
break|break;
case|case
literal|0xE1
case|:
name|op
operator|=
name|ASM_OP_CMP_NE_OR_ANDCM
operator|,
name|fmt
operator|=
name|ASM_FMT_A6
expr_stmt|;
break|break;
case|case
literal|0xE2
case|:
name|op
operator|=
name|ASM_OP_CMP4_EQ_UNC
operator|,
name|fmt
operator|=
name|ASM_FMT_A6
expr_stmt|;
break|break;
case|case
literal|0xE3
case|:
name|op
operator|=
name|ASM_OP_CMP4_NE_OR_ANDCM
operator|,
name|fmt
operator|=
name|ASM_FMT_A6
expr_stmt|;
break|break;
case|case
literal|0xE4
case|:
case|case
literal|0xEC
case|:
name|op
operator|=
name|ASM_OP_CMP_EQ_UNC
operator|,
name|fmt
operator|=
name|ASM_FMT_A8
expr_stmt|;
break|break;
case|case
literal|0xE5
case|:
case|case
literal|0xED
case|:
name|op
operator|=
name|ASM_OP_CMP_NE_OR_ANDCM
operator|,
name|fmt
operator|=
name|ASM_FMT_A8
expr_stmt|;
break|break;
case|case
literal|0xE6
case|:
case|case
literal|0xEE
case|:
name|op
operator|=
name|ASM_OP_CMP4_EQ_UNC
operator|,
name|fmt
operator|=
name|ASM_FMT_A8
expr_stmt|;
break|break;
case|case
literal|0xE7
case|:
case|case
literal|0xEF
case|:
name|op
operator|=
name|ASM_OP_CMP4_NE_OR_ANDCM
operator|,
name|fmt
operator|=
name|ASM_FMT_A8
expr_stmt|;
break|break;
case|case
literal|0xE8
case|:
name|op
operator|=
name|ASM_OP_CMP_LE_OR_ANDCM
operator|,
name|fmt
operator|=
name|ASM_FMT_A7
expr_stmt|;
break|break;
case|case
literal|0xE9
case|:
name|op
operator|=
name|ASM_OP_CMP_LT_OR_ANDCM
operator|,
name|fmt
operator|=
name|ASM_FMT_A7
expr_stmt|;
break|break;
case|case
literal|0xEA
case|:
name|op
operator|=
name|ASM_OP_CMP4_LE_OR_ANDCM
operator|,
name|fmt
operator|=
name|ASM_FMT_A7
expr_stmt|;
break|break;
case|case
literal|0xEB
case|:
name|op
operator|=
name|ASM_OP_CMP4_LT_OR_ANDCM
operator|,
name|fmt
operator|=
name|ASM_FMT_A7
expr_stmt|;
break|break;
block|}
block|}
break|break;
block|}
if|if
condition|(
name|op
operator|!=
name|ASM_OP_NONE
condition|)
return|return
operator|(
name|asm_extract
argument_list|(
name|op
argument_list|,
name|fmt
argument_list|,
name|bits
argument_list|,
name|b
argument_list|,
name|slot
argument_list|)
operator|)
return|;
return|return
operator|(
literal|0
operator|)
return|;
block|}
end_function

begin_comment
comment|/*  * Decode B-unit instructions.  */
end_comment

begin_function
specifier|static
name|int
name|asm_decodeB
parameter_list|(
name|uint64_t
name|ip
parameter_list|,
name|struct
name|asm_bundle
modifier|*
name|b
parameter_list|,
name|int
name|slot
parameter_list|)
block|{
name|uint64_t
name|bits
decl_stmt|;
name|enum
name|asm_fmt
name|fmt
decl_stmt|;
name|enum
name|asm_op
name|op
decl_stmt|;
name|bits
operator|=
name|SLOT
argument_list|(
name|ip
argument_list|,
name|slot
argument_list|)
expr_stmt|;
name|fmt
operator|=
name|ASM_FMT_NONE
operator|,
name|op
operator|=
name|ASM_OP_NONE
expr_stmt|;
switch|switch
condition|(
operator|(
name|int
operator|)
name|OPCODE
argument_list|(
name|bits
argument_list|)
condition|)
block|{
case|case
literal|0x0
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|6
argument_list|)
condition|)
block|{
comment|/* x6 */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_BREAK_B
operator|,
name|fmt
operator|=
name|ASM_FMT_B9
expr_stmt|;
break|break;
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_COVER
operator|,
name|fmt
operator|=
name|ASM_FMT_B8
expr_stmt|;
break|break;
case|case
literal|0x4
case|:
name|op
operator|=
name|ASM_OP_CLRRRB_
operator|,
name|fmt
operator|=
name|ASM_FMT_B8
expr_stmt|;
break|break;
case|case
literal|0x5
case|:
name|op
operator|=
name|ASM_OP_CLRRRB_PR
operator|,
name|fmt
operator|=
name|ASM_FMT_B8
expr_stmt|;
break|break;
case|case
literal|0x8
case|:
name|op
operator|=
name|ASM_OP_RFI
operator|,
name|fmt
operator|=
name|ASM_FMT_B8
expr_stmt|;
break|break;
case|case
literal|0xC
case|:
name|op
operator|=
name|ASM_OP_BSW_0
operator|,
name|fmt
operator|=
name|ASM_FMT_B8
expr_stmt|;
break|break;
case|case
literal|0xD
case|:
name|op
operator|=
name|ASM_OP_BSW_1
operator|,
name|fmt
operator|=
name|ASM_FMT_B8
expr_stmt|;
break|break;
case|case
literal|0x10
case|:
name|op
operator|=
name|ASM_OP_EPC
operator|,
name|fmt
operator|=
name|ASM_FMT_B8
expr_stmt|;
break|break;
case|case
literal|0x20
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|6
argument_list|,
literal|3
argument_list|)
condition|)
block|{
comment|/* btype */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_BR_COND
operator|,
name|fmt
operator|=
name|ASM_FMT_B4
expr_stmt|;
break|break;
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_BR_IA
operator|,
name|fmt
operator|=
name|ASM_FMT_B4
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0x21
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|6
argument_list|,
literal|3
argument_list|)
operator|==
literal|4
condition|)
comment|/* btype */
name|op
operator|=
name|ASM_OP_BR_RET
operator|,
name|fmt
operator|=
name|ASM_FMT_B4
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_BR_CALL
operator|,
name|fmt
operator|=
name|ASM_FMT_B5
expr_stmt|;
break|break;
case|case
literal|0x2
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|6
argument_list|)
condition|)
block|{
comment|/* x6 */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_NOP_B
operator|,
name|fmt
operator|=
name|ASM_FMT_B9
expr_stmt|;
break|break;
case|case
literal|0x10
case|:
name|op
operator|=
name|ASM_OP_BRP_
operator|,
name|fmt
operator|=
name|ASM_FMT_B7
expr_stmt|;
break|break;
case|case
literal|0x11
case|:
name|op
operator|=
name|ASM_OP_BRP_RET
operator|,
name|fmt
operator|=
name|ASM_FMT_B7
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0x4
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|6
argument_list|,
literal|3
argument_list|)
condition|)
block|{
comment|/* btype */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_BR_COND
operator|,
name|fmt
operator|=
name|ASM_FMT_B1
expr_stmt|;
break|break;
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_BR_WEXIT
operator|,
name|fmt
operator|=
name|ASM_FMT_B1
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
name|op
operator|=
name|ASM_OP_BR_WTOP
operator|,
name|fmt
operator|=
name|ASM_FMT_B1
expr_stmt|;
break|break;
case|case
literal|0x5
case|:
name|op
operator|=
name|ASM_OP_BR_CLOOP
operator|,
name|fmt
operator|=
name|ASM_FMT_B2
expr_stmt|;
break|break;
case|case
literal|0x6
case|:
name|op
operator|=
name|ASM_OP_BR_CEXIT
operator|,
name|fmt
operator|=
name|ASM_FMT_B2
expr_stmt|;
break|break;
case|case
literal|0x7
case|:
name|op
operator|=
name|ASM_OP_BR_CTOP
operator|,
name|fmt
operator|=
name|ASM_FMT_B2
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0x5
case|:
name|op
operator|=
name|ASM_OP_BR_CALL
operator|,
name|fmt
operator|=
name|ASM_FMT_B3
expr_stmt|;
break|break;
case|case
literal|0x7
case|:
name|op
operator|=
name|ASM_OP_BRP_
operator|,
name|fmt
operator|=
name|ASM_FMT_B6
expr_stmt|;
break|break;
block|}
if|if
condition|(
name|op
operator|!=
name|ASM_OP_NONE
condition|)
return|return
operator|(
name|asm_extract
argument_list|(
name|op
argument_list|,
name|fmt
argument_list|,
name|bits
argument_list|,
name|b
argument_list|,
name|slot
argument_list|)
operator|)
return|;
return|return
operator|(
literal|0
operator|)
return|;
block|}
end_function

begin_comment
comment|/*  * Decode F-unit instructions.  */
end_comment

begin_function
specifier|static
name|int
name|asm_decodeF
parameter_list|(
name|uint64_t
name|ip
parameter_list|,
name|struct
name|asm_bundle
modifier|*
name|b
parameter_list|,
name|int
name|slot
parameter_list|)
block|{
name|uint64_t
name|bits
decl_stmt|;
name|enum
name|asm_fmt
name|fmt
decl_stmt|;
name|enum
name|asm_op
name|op
decl_stmt|;
name|bits
operator|=
name|SLOT
argument_list|(
name|ip
argument_list|,
name|slot
argument_list|)
expr_stmt|;
name|fmt
operator|=
name|ASM_FMT_NONE
operator|,
name|op
operator|=
name|ASM_OP_NONE
expr_stmt|;
switch|switch
condition|(
operator|(
name|int
operator|)
name|OPCODE
argument_list|(
name|bits
argument_list|)
condition|)
block|{
case|case
literal|0x0
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|33
argument_list|,
literal|1
argument_list|)
operator|==
literal|0
condition|)
block|{
comment|/* x */
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|6
argument_list|)
condition|)
block|{
comment|/* x6 */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_BREAK_F
operator|,
name|fmt
operator|=
name|ASM_FMT_F15
expr_stmt|;
break|break;
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_NOP_F
operator|,
name|fmt
operator|=
name|ASM_FMT_F15
expr_stmt|;
break|break;
case|case
literal|0x4
case|:
name|op
operator|=
name|ASM_OP_FSETC
operator|,
name|fmt
operator|=
name|ASM_FMT_F12
expr_stmt|;
break|break;
case|case
literal|0x5
case|:
name|op
operator|=
name|ASM_OP_FCLRF
operator|,
name|fmt
operator|=
name|ASM_FMT_F13
expr_stmt|;
break|break;
case|case
literal|0x8
case|:
name|op
operator|=
name|ASM_OP_FCHKF
operator|,
name|fmt
operator|=
name|ASM_FMT_F14
expr_stmt|;
break|break;
case|case
literal|0x10
case|:
name|op
operator|=
name|ASM_OP_FMERGE_S
operator|,
name|fmt
operator|=
name|ASM_FMT_F9
expr_stmt|;
break|break;
case|case
literal|0x11
case|:
name|op
operator|=
name|ASM_OP_FMERGE_NS
operator|,
name|fmt
operator|=
name|ASM_FMT_F9
expr_stmt|;
break|break;
case|case
literal|0x12
case|:
name|op
operator|=
name|ASM_OP_FMERGE_SE
operator|,
name|fmt
operator|=
name|ASM_FMT_F9
expr_stmt|;
break|break;
case|case
literal|0x14
case|:
name|op
operator|=
name|ASM_OP_FMIN
operator|,
name|fmt
operator|=
name|ASM_FMT_F8
expr_stmt|;
break|break;
case|case
literal|0x15
case|:
name|op
operator|=
name|ASM_OP_FMAX
operator|,
name|fmt
operator|=
name|ASM_FMT_F8
expr_stmt|;
break|break;
case|case
literal|0x16
case|:
name|op
operator|=
name|ASM_OP_FAMIN
operator|,
name|fmt
operator|=
name|ASM_FMT_F8
expr_stmt|;
break|break;
case|case
literal|0x17
case|:
name|op
operator|=
name|ASM_OP_FAMAX
operator|,
name|fmt
operator|=
name|ASM_FMT_F8
expr_stmt|;
break|break;
case|case
literal|0x18
case|:
name|op
operator|=
name|ASM_OP_FCVT_FX
operator|,
name|fmt
operator|=
name|ASM_FMT_F10
expr_stmt|;
break|break;
case|case
literal|0x19
case|:
name|op
operator|=
name|ASM_OP_FCVT_FXU
operator|,
name|fmt
operator|=
name|ASM_FMT_F10
expr_stmt|;
break|break;
case|case
literal|0x1A
case|:
name|op
operator|=
name|ASM_OP_FCVT_FX_TRUNC
operator|,
name|fmt
operator|=
name|ASM_FMT_F10
expr_stmt|;
break|break;
case|case
literal|0x1B
case|:
name|op
operator|=
name|ASM_OP_FCVT_FXU_TRUNC
operator|,
name|fmt
operator|=
name|ASM_FMT_F10
expr_stmt|;
break|break;
case|case
literal|0x1C
case|:
name|op
operator|=
name|ASM_OP_FCVT_XF
operator|,
name|fmt
operator|=
name|ASM_FMT_F11
expr_stmt|;
break|break;
case|case
literal|0x28
case|:
name|op
operator|=
name|ASM_OP_FPACK
operator|,
name|fmt
operator|=
name|ASM_FMT_F9
expr_stmt|;
break|break;
case|case
literal|0x2C
case|:
name|op
operator|=
name|ASM_OP_FAND
operator|,
name|fmt
operator|=
name|ASM_FMT_F9
expr_stmt|;
break|break;
case|case
literal|0x2D
case|:
name|op
operator|=
name|ASM_OP_FANDCM
operator|,
name|fmt
operator|=
name|ASM_FMT_F9
expr_stmt|;
break|break;
case|case
literal|0x2E
case|:
name|op
operator|=
name|ASM_OP_FOR
operator|,
name|fmt
operator|=
name|ASM_FMT_F9
expr_stmt|;
break|break;
case|case
literal|0x2F
case|:
name|op
operator|=
name|ASM_OP_FXOR
operator|,
name|fmt
operator|=
name|ASM_FMT_F9
expr_stmt|;
break|break;
case|case
literal|0x34
case|:
name|op
operator|=
name|ASM_OP_FSWAP_
operator|,
name|fmt
operator|=
name|ASM_FMT_F9
expr_stmt|;
break|break;
case|case
literal|0x35
case|:
name|op
operator|=
name|ASM_OP_FSWAP_NL
operator|,
name|fmt
operator|=
name|ASM_FMT_F9
expr_stmt|;
break|break;
case|case
literal|0x36
case|:
name|op
operator|=
name|ASM_OP_FSWAP_NR
operator|,
name|fmt
operator|=
name|ASM_FMT_F9
expr_stmt|;
break|break;
case|case
literal|0x39
case|:
name|op
operator|=
name|ASM_OP_FMIX_LR
operator|,
name|fmt
operator|=
name|ASM_FMT_F9
expr_stmt|;
break|break;
case|case
literal|0x3A
case|:
name|op
operator|=
name|ASM_OP_FMIX_R
operator|,
name|fmt
operator|=
name|ASM_FMT_F9
expr_stmt|;
break|break;
case|case
literal|0x3B
case|:
name|op
operator|=
name|ASM_OP_FMIX_L
operator|,
name|fmt
operator|=
name|ASM_FMT_F9
expr_stmt|;
break|break;
case|case
literal|0x3C
case|:
name|op
operator|=
name|ASM_OP_FSXT_R
operator|,
name|fmt
operator|=
name|ASM_FMT_F9
expr_stmt|;
break|break;
case|case
literal|0x3D
case|:
name|op
operator|=
name|ASM_OP_FSXT_L
operator|,
name|fmt
operator|=
name|ASM_FMT_F9
expr_stmt|;
break|break;
block|}
block|}
else|else
block|{
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|36
argument_list|,
literal|1
argument_list|)
operator|==
literal|0
condition|)
comment|/* q */
name|op
operator|=
name|ASM_OP_FRCPA
operator|,
name|fmt
operator|=
name|ASM_FMT_F6
expr_stmt|;
else|else
name|op
operator|=
name|ASM_OP_FRSQRTA
operator|,
name|fmt
operator|=
name|ASM_FMT_F7
expr_stmt|;
block|}
break|break;
case|case
literal|0x1
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|33
argument_list|,
literal|1
argument_list|)
operator|==
literal|0
condition|)
block|{
comment|/* x */
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|6
argument_list|)
condition|)
block|{
comment|/* x6 */
case|case
literal|0x10
case|:
name|op
operator|=
name|ASM_OP_FPMERGE_S
operator|,
name|fmt
operator|=
name|ASM_FMT_F9
expr_stmt|;
break|break;
case|case
literal|0x11
case|:
name|op
operator|=
name|ASM_OP_FPMERGE_NS
operator|,
name|fmt
operator|=
name|ASM_FMT_F9
expr_stmt|;
break|break;
case|case
literal|0x12
case|:
name|op
operator|=
name|ASM_OP_FPMERGE_SE
operator|,
name|fmt
operator|=
name|ASM_FMT_F9
expr_stmt|;
break|break;
case|case
literal|0x14
case|:
name|op
operator|=
name|ASM_OP_FPMIN
operator|,
name|fmt
operator|=
name|ASM_FMT_F8
expr_stmt|;
break|break;
case|case
literal|0x15
case|:
name|op
operator|=
name|ASM_OP_FPMAX
operator|,
name|fmt
operator|=
name|ASM_FMT_F8
expr_stmt|;
break|break;
case|case
literal|0x16
case|:
name|op
operator|=
name|ASM_OP_FPAMIN
operator|,
name|fmt
operator|=
name|ASM_FMT_F8
expr_stmt|;
break|break;
case|case
literal|0x17
case|:
name|op
operator|=
name|ASM_OP_FPAMAX
operator|,
name|fmt
operator|=
name|ASM_FMT_F8
expr_stmt|;
break|break;
case|case
literal|0x18
case|:
name|op
operator|=
name|ASM_OP_FPCVT_FX
operator|,
name|fmt
operator|=
name|ASM_FMT_F10
expr_stmt|;
break|break;
case|case
literal|0x19
case|:
name|op
operator|=
name|ASM_OP_FPCVT_FXU
operator|,
name|fmt
operator|=
name|ASM_FMT_F10
expr_stmt|;
break|break;
case|case
literal|0x1A
case|:
name|op
operator|=
name|ASM_OP_FPCVT_FX_TRUNC
operator|,
name|fmt
operator|=
name|ASM_FMT_F10
expr_stmt|;
break|break;
case|case
literal|0x1B
case|:
name|op
operator|=
name|ASM_OP_FPCVT_FXU_TRUNC
operator|,
name|fmt
operator|=
name|ASM_FMT_F10
expr_stmt|;
break|break;
case|case
literal|0x30
case|:
name|op
operator|=
name|ASM_OP_FPCMP_EQ
operator|,
name|fmt
operator|=
name|ASM_FMT_F8
expr_stmt|;
break|break;
case|case
literal|0x31
case|:
name|op
operator|=
name|ASM_OP_FPCMP_LT
operator|,
name|fmt
operator|=
name|ASM_FMT_F8
expr_stmt|;
break|break;
case|case
literal|0x32
case|:
name|op
operator|=
name|ASM_OP_FPCMP_LE
operator|,
name|fmt
operator|=
name|ASM_FMT_F8
expr_stmt|;
break|break;
case|case
literal|0x33
case|:
name|op
operator|=
name|ASM_OP_FPCMP_UNORD
operator|,
name|fmt
operator|=
name|ASM_FMT_F8
expr_stmt|;
break|break;
case|case
literal|0x34
case|:
name|op
operator|=
name|ASM_OP_FPCMP_NEQ
operator|,
name|fmt
operator|=
name|ASM_FMT_F8
expr_stmt|;
break|break;
case|case
literal|0x35
case|:
name|op
operator|=
name|ASM_OP_FPCMP_NLT
operator|,
name|fmt
operator|=
name|ASM_FMT_F8
expr_stmt|;
break|break;
case|case
literal|0x36
case|:
name|op
operator|=
name|ASM_OP_FPCMP_NLE
operator|,
name|fmt
operator|=
name|ASM_FMT_F8
expr_stmt|;
break|break;
case|case
literal|0x37
case|:
name|op
operator|=
name|ASM_OP_FPCMP_ORD
operator|,
name|fmt
operator|=
name|ASM_FMT_F8
expr_stmt|;
break|break;
block|}
block|}
else|else
block|{
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|36
argument_list|,
literal|1
argument_list|)
operator|==
literal|0
condition|)
comment|/* q */
name|op
operator|=
name|ASM_OP_FPRCPA
operator|,
name|fmt
operator|=
name|ASM_FMT_F6
expr_stmt|;
else|else
name|op
operator|=
name|ASM_OP_FPRSQRTA
operator|,
name|fmt
operator|=
name|ASM_FMT_F7
expr_stmt|;
block|}
break|break;
case|case
literal|0x4
case|:
name|op
operator|=
name|ASM_OP_FCMP
operator|,
name|fmt
operator|=
name|ASM_FMT_F4
expr_stmt|;
break|break;
case|case
literal|0x5
case|:
name|op
operator|=
name|ASM_OP_FCLASS_M
operator|,
name|fmt
operator|=
name|ASM_FMT_F5
expr_stmt|;
break|break;
case|case
literal|0x8
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|36
argument_list|,
literal|1
argument_list|)
operator|==
literal|0
condition|)
comment|/* x */
name|op
operator|=
name|ASM_OP_FMA_
operator|,
name|fmt
operator|=
name|ASM_FMT_F1
expr_stmt|;
else|else
name|op
operator|=
name|ASM_OP_FMA_S
operator|,
name|fmt
operator|=
name|ASM_FMT_F1
expr_stmt|;
break|break;
case|case
literal|0x9
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|36
argument_list|,
literal|1
argument_list|)
operator|==
literal|0
condition|)
comment|/* x */
name|op
operator|=
name|ASM_OP_FMA_D
operator|,
name|fmt
operator|=
name|ASM_FMT_F1
expr_stmt|;
else|else
name|op
operator|=
name|ASM_OP_FPMA
operator|,
name|fmt
operator|=
name|ASM_FMT_F1
expr_stmt|;
break|break;
case|case
literal|0xA
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|36
argument_list|,
literal|1
argument_list|)
operator|==
literal|0
condition|)
comment|/* x */
name|op
operator|=
name|ASM_OP_FMS_
operator|,
name|fmt
operator|=
name|ASM_FMT_F1
expr_stmt|;
else|else
name|op
operator|=
name|ASM_OP_FMS_S
operator|,
name|fmt
operator|=
name|ASM_FMT_F1
expr_stmt|;
break|break;
case|case
literal|0xB
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|36
argument_list|,
literal|1
argument_list|)
operator|==
literal|0
condition|)
comment|/* x */
name|op
operator|=
name|ASM_OP_FMS_D
operator|,
name|fmt
operator|=
name|ASM_FMT_F1
expr_stmt|;
else|else
name|op
operator|=
name|ASM_OP_FPMS
operator|,
name|fmt
operator|=
name|ASM_FMT_F1
expr_stmt|;
break|break;
case|case
literal|0xC
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|36
argument_list|,
literal|1
argument_list|)
operator|==
literal|0
condition|)
comment|/* x */
name|op
operator|=
name|ASM_OP_FNMA_
operator|,
name|fmt
operator|=
name|ASM_FMT_F1
expr_stmt|;
else|else
name|op
operator|=
name|ASM_OP_FNMA_S
operator|,
name|fmt
operator|=
name|ASM_FMT_F1
expr_stmt|;
break|break;
case|case
literal|0xD
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|36
argument_list|,
literal|1
argument_list|)
operator|==
literal|0
condition|)
comment|/* x */
name|op
operator|=
name|ASM_OP_FNMA_D
operator|,
name|fmt
operator|=
name|ASM_FMT_F1
expr_stmt|;
else|else
name|op
operator|=
name|ASM_OP_FPNMA
operator|,
name|fmt
operator|=
name|ASM_FMT_F1
expr_stmt|;
break|break;
case|case
literal|0xE
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|36
argument_list|,
literal|1
argument_list|)
operator|==
literal|1
condition|)
block|{
comment|/* x */
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|34
argument_list|,
literal|2
argument_list|)
condition|)
block|{
comment|/* x2 */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_XMA_L
operator|,
name|fmt
operator|=
name|ASM_FMT_F2
expr_stmt|;
break|break;
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_XMA_HU
operator|,
name|fmt
operator|=
name|ASM_FMT_F2
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
name|op
operator|=
name|ASM_OP_XMA_H
operator|,
name|fmt
operator|=
name|ASM_FMT_F2
expr_stmt|;
break|break;
block|}
block|}
else|else
name|op
operator|=
name|ASM_OP_FSELECT
operator|,
name|fmt
operator|=
name|ASM_FMT_F3
expr_stmt|;
break|break;
block|}
if|if
condition|(
name|op
operator|!=
name|ASM_OP_NONE
condition|)
return|return
operator|(
name|asm_extract
argument_list|(
name|op
argument_list|,
name|fmt
argument_list|,
name|bits
argument_list|,
name|b
argument_list|,
name|slot
argument_list|)
operator|)
return|;
return|return
operator|(
literal|0
operator|)
return|;
block|}
end_function

begin_comment
comment|/*  * Decode I-unit instructions.  */
end_comment

begin_function
specifier|static
name|int
name|asm_decodeI
parameter_list|(
name|uint64_t
name|ip
parameter_list|,
name|struct
name|asm_bundle
modifier|*
name|b
parameter_list|,
name|int
name|slot
parameter_list|)
block|{
name|uint64_t
name|bits
decl_stmt|;
name|enum
name|asm_fmt
name|fmt
decl_stmt|;
name|enum
name|asm_op
name|op
decl_stmt|;
name|bits
operator|=
name|SLOT
argument_list|(
name|ip
argument_list|,
name|slot
argument_list|)
expr_stmt|;
if|if
condition|(
operator|(
name|int
operator|)
name|OPCODE
argument_list|(
name|bits
argument_list|)
operator|>=
literal|8
condition|)
return|return
operator|(
name|asm_decodeA
argument_list|(
name|bits
argument_list|,
name|b
argument_list|,
name|slot
argument_list|)
operator|)
return|;
name|fmt
operator|=
name|ASM_FMT_NONE
operator|,
name|op
operator|=
name|ASM_OP_NONE
expr_stmt|;
switch|switch
condition|(
operator|(
name|int
operator|)
name|OPCODE
argument_list|(
name|bits
argument_list|)
condition|)
block|{
case|case
literal|0x0
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|33
argument_list|,
literal|3
argument_list|)
condition|)
block|{
comment|/* x3 */
case|case
literal|0x0
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|6
argument_list|)
condition|)
block|{
comment|/* x6 */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_BREAK_I
operator|,
name|fmt
operator|=
name|ASM_FMT_I19
expr_stmt|;
break|break;
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_NOP_I
operator|,
name|fmt
operator|=
name|ASM_FMT_I19
expr_stmt|;
break|break;
case|case
literal|0xA
case|:
name|op
operator|=
name|ASM_OP_MOV_I
operator|,
name|fmt
operator|=
name|ASM_FMT_I27
expr_stmt|;
break|break;
case|case
literal|0x10
case|:
name|op
operator|=
name|ASM_OP_ZXT1
operator|,
name|fmt
operator|=
name|ASM_FMT_I29
expr_stmt|;
break|break;
case|case
literal|0x11
case|:
name|op
operator|=
name|ASM_OP_ZXT2
operator|,
name|fmt
operator|=
name|ASM_FMT_I29
expr_stmt|;
break|break;
case|case
literal|0x12
case|:
name|op
operator|=
name|ASM_OP_ZXT4
operator|,
name|fmt
operator|=
name|ASM_FMT_I29
expr_stmt|;
break|break;
case|case
literal|0x14
case|:
name|op
operator|=
name|ASM_OP_SXT1
operator|,
name|fmt
operator|=
name|ASM_FMT_I29
expr_stmt|;
break|break;
case|case
literal|0x15
case|:
name|op
operator|=
name|ASM_OP_SXT2
operator|,
name|fmt
operator|=
name|ASM_FMT_I29
expr_stmt|;
break|break;
case|case
literal|0x16
case|:
name|op
operator|=
name|ASM_OP_SXT4
operator|,
name|fmt
operator|=
name|ASM_FMT_I29
expr_stmt|;
break|break;
case|case
literal|0x18
case|:
name|op
operator|=
name|ASM_OP_CZX1_L
operator|,
name|fmt
operator|=
name|ASM_FMT_I29
expr_stmt|;
break|break;
case|case
literal|0x19
case|:
name|op
operator|=
name|ASM_OP_CZX2_L
operator|,
name|fmt
operator|=
name|ASM_FMT_I29
expr_stmt|;
break|break;
case|case
literal|0x1C
case|:
name|op
operator|=
name|ASM_OP_CZX1_R
operator|,
name|fmt
operator|=
name|ASM_FMT_I29
expr_stmt|;
break|break;
case|case
literal|0x1D
case|:
name|op
operator|=
name|ASM_OP_CZX2_R
operator|,
name|fmt
operator|=
name|ASM_FMT_I29
expr_stmt|;
break|break;
case|case
literal|0x2A
case|:
name|op
operator|=
name|ASM_OP_MOV_I
operator|,
name|fmt
operator|=
name|ASM_FMT_I26
expr_stmt|;
break|break;
case|case
literal|0x30
case|:
name|op
operator|=
name|ASM_OP_MOV_IP
operator|,
name|fmt
operator|=
name|ASM_FMT_I25
expr_stmt|;
break|break;
case|case
literal|0x31
case|:
name|op
operator|=
name|ASM_OP_MOV_
operator|,
name|fmt
operator|=
name|ASM_FMT_I22
expr_stmt|;
break|break;
case|case
literal|0x32
case|:
name|op
operator|=
name|ASM_OP_MOV_I
operator|,
name|fmt
operator|=
name|ASM_FMT_I28
expr_stmt|;
break|break;
case|case
literal|0x33
case|:
name|op
operator|=
name|ASM_OP_MOV_PR
operator|,
name|fmt
operator|=
name|ASM_FMT_I25
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_CHK_S_I
operator|,
name|fmt
operator|=
name|ASM_FMT_I20
expr_stmt|;
break|break;
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_MOV_
operator|,
name|fmt
operator|=
name|ASM_FMT_I24
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
name|op
operator|=
name|ASM_OP_MOV_
operator|,
name|fmt
operator|=
name|ASM_FMT_I23
expr_stmt|;
break|break;
case|case
literal|0x7
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|22
argument_list|,
literal|1
argument_list|)
operator|==
literal|0
condition|)
comment|/* x */
name|op
operator|=
name|ASM_OP_MOV_
operator|,
name|fmt
operator|=
name|ASM_FMT_I21
expr_stmt|;
else|else
name|op
operator|=
name|ASM_OP_MOV_RET
operator|,
name|fmt
operator|=
name|ASM_FMT_I21
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0x4
case|:
name|op
operator|=
name|ASM_OP_DEP_
operator|,
name|fmt
operator|=
name|ASM_FMT_I15
expr_stmt|;
break|break;
case|case
literal|0x5
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|33
argument_list|,
literal|3
argument_list|)
condition|)
block|{
comment|/* x + x2 */
case|case
literal|0x0
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|36
argument_list|,
literal|1
argument_list|)
operator|==
literal|0
condition|)
block|{
comment|/* tb */
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|12
argument_list|,
literal|2
argument_list|)
condition|)
block|{
comment|/* c + y */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_TBIT_Z
operator|,
name|fmt
operator|=
name|ASM_FMT_I16
expr_stmt|;
break|break;
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_TBIT_Z_UNC
operator|,
name|fmt
operator|=
name|ASM_FMT_I16
expr_stmt|;
break|break;
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_TNAT_Z
operator|,
name|fmt
operator|=
name|ASM_FMT_I17
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
name|op
operator|=
name|ASM_OP_TNAT_Z_UNC
operator|,
name|fmt
operator|=
name|ASM_FMT_I17
expr_stmt|;
break|break;
block|}
block|}
else|else
block|{
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|12
argument_list|,
literal|2
argument_list|)
condition|)
block|{
comment|/* c + y */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_TBIT_Z_AND
operator|,
name|fmt
operator|=
name|ASM_FMT_I16
expr_stmt|;
break|break;
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_TBIT_NZ_AND
operator|,
name|fmt
operator|=
name|ASM_FMT_I16
expr_stmt|;
break|break;
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_TNAT_Z_AND
operator|,
name|fmt
operator|=
name|ASM_FMT_I17
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
name|op
operator|=
name|ASM_OP_TNAT_NZ_AND
operator|,
name|fmt
operator|=
name|ASM_FMT_I17
expr_stmt|;
break|break;
block|}
block|}
break|break;
case|case
literal|0x1
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|36
argument_list|,
literal|1
argument_list|)
operator|==
literal|0
condition|)
block|{
comment|/* tb */
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|12
argument_list|,
literal|2
argument_list|)
condition|)
block|{
comment|/* c + y */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_TBIT_Z_OR
operator|,
name|fmt
operator|=
name|ASM_FMT_I16
expr_stmt|;
break|break;
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_TBIT_NZ_OR
operator|,
name|fmt
operator|=
name|ASM_FMT_I16
expr_stmt|;
break|break;
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_TNAT_Z_OR
operator|,
name|fmt
operator|=
name|ASM_FMT_I17
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
name|op
operator|=
name|ASM_OP_TNAT_NZ_OR
operator|,
name|fmt
operator|=
name|ASM_FMT_I17
expr_stmt|;
break|break;
block|}
block|}
else|else
block|{
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|12
argument_list|,
literal|2
argument_list|)
condition|)
block|{
comment|/* c + y */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_TBIT_Z_OR_ANDCM
operator|,
name|fmt
operator|=
name|ASM_FMT_I16
expr_stmt|;
break|break;
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_TBIT_NZ_OR_ANDCM
operator|,
name|fmt
operator|=
name|ASM_FMT_I16
expr_stmt|;
break|break;
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_TNAT_Z_OR_ANDCM
operator|,
name|fmt
operator|=
name|ASM_FMT_I17
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
name|op
operator|=
name|ASM_OP_TNAT_NZ_OR_ANDCM
operator|,
name|fmt
operator|=
name|ASM_FMT_I17
expr_stmt|;
break|break;
block|}
block|}
break|break;
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_EXTR
operator|,
name|fmt
operator|=
name|ASM_FMT_I11
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|26
argument_list|,
literal|1
argument_list|)
operator|==
literal|0
condition|)
comment|/* y */
name|op
operator|=
name|ASM_OP_DEP_Z
operator|,
name|fmt
operator|=
name|ASM_FMT_I12
expr_stmt|;
else|else
name|op
operator|=
name|ASM_OP_DEP_Z
operator|,
name|fmt
operator|=
name|ASM_FMT_I13
expr_stmt|;
break|break;
case|case
literal|0x6
case|:
name|op
operator|=
name|ASM_OP_SHRP
operator|,
name|fmt
operator|=
name|ASM_FMT_I10
expr_stmt|;
break|break;
case|case
literal|0x7
case|:
name|op
operator|=
name|ASM_OP_DEP_
operator|,
name|fmt
operator|=
name|ASM_FMT_I14
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0x7
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|32
argument_list|,
literal|5
argument_list|)
condition|)
block|{
comment|/* ve + zb + x2a + za */
case|case
literal|0x2
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|28
argument_list|,
literal|4
argument_list|)
condition|)
block|{
comment|/* x2b + x2c */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_PSHR2_U
operator|,
name|fmt
operator|=
name|ASM_FMT_I5
expr_stmt|;
break|break;
case|case
literal|0x1
case|:
case|case
literal|0x5
case|:
case|case
literal|0x9
case|:
case|case
literal|0xD
case|:
name|op
operator|=
name|ASM_OP_PMPYSHR2_U
operator|,
name|fmt
operator|=
name|ASM_FMT_I1
expr_stmt|;
break|break;
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_PSHR2_
operator|,
name|fmt
operator|=
name|ASM_FMT_I5
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
case|case
literal|0x7
case|:
case|case
literal|0xB
case|:
case|case
literal|0xF
case|:
name|op
operator|=
name|ASM_OP_PMPYSHR2_
operator|,
name|fmt
operator|=
name|ASM_FMT_I1
expr_stmt|;
break|break;
case|case
literal|0x4
case|:
name|op
operator|=
name|ASM_OP_PSHL2
operator|,
name|fmt
operator|=
name|ASM_FMT_I7
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0x6
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|28
argument_list|,
literal|4
argument_list|)
condition|)
block|{
comment|/* x2b + x2c */
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_PSHR2_U
operator|,
name|fmt
operator|=
name|ASM_FMT_I6
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
name|op
operator|=
name|ASM_OP_PSHR2_
operator|,
name|fmt
operator|=
name|ASM_FMT_I6
expr_stmt|;
break|break;
case|case
literal|0x9
case|:
name|op
operator|=
name|ASM_OP_POPCNT
operator|,
name|fmt
operator|=
name|ASM_FMT_I9
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0x8
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|28
argument_list|,
literal|4
argument_list|)
condition|)
block|{
comment|/* x2b + x2c */
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_PMIN1_U
operator|,
name|fmt
operator|=
name|ASM_FMT_I2
expr_stmt|;
break|break;
case|case
literal|0x4
case|:
name|op
operator|=
name|ASM_OP_UNPACK1_H
operator|,
name|fmt
operator|=
name|ASM_FMT_I2
expr_stmt|;
break|break;
case|case
literal|0x5
case|:
name|op
operator|=
name|ASM_OP_PMAX1_U
operator|,
name|fmt
operator|=
name|ASM_FMT_I2
expr_stmt|;
break|break;
case|case
literal|0x6
case|:
name|op
operator|=
name|ASM_OP_UNPACK1_L
operator|,
name|fmt
operator|=
name|ASM_FMT_I2
expr_stmt|;
break|break;
case|case
literal|0x8
case|:
name|op
operator|=
name|ASM_OP_MIX1_R
operator|,
name|fmt
operator|=
name|ASM_FMT_I2
expr_stmt|;
break|break;
case|case
literal|0xA
case|:
name|op
operator|=
name|ASM_OP_MIX1_L
operator|,
name|fmt
operator|=
name|ASM_FMT_I2
expr_stmt|;
break|break;
case|case
literal|0xB
case|:
name|op
operator|=
name|ASM_OP_PSAD1
operator|,
name|fmt
operator|=
name|ASM_FMT_I2
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0xA
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|28
argument_list|,
literal|4
argument_list|)
condition|)
block|{
comment|/* x2b + x2c */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_PACK2_USS
operator|,
name|fmt
operator|=
name|ASM_FMT_I2
expr_stmt|;
break|break;
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_PACK2_SSS
operator|,
name|fmt
operator|=
name|ASM_FMT_I2
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
name|op
operator|=
name|ASM_OP_PMIN2
operator|,
name|fmt
operator|=
name|ASM_FMT_I2
expr_stmt|;
break|break;
case|case
literal|0x4
case|:
name|op
operator|=
name|ASM_OP_UNPACK2_H
operator|,
name|fmt
operator|=
name|ASM_FMT_I2
expr_stmt|;
break|break;
case|case
literal|0x6
case|:
name|op
operator|=
name|ASM_OP_UNPACK2_L
operator|,
name|fmt
operator|=
name|ASM_FMT_I2
expr_stmt|;
break|break;
case|case
literal|0x7
case|:
name|op
operator|=
name|ASM_OP_PMAX2
operator|,
name|fmt
operator|=
name|ASM_FMT_I2
expr_stmt|;
break|break;
case|case
literal|0x8
case|:
name|op
operator|=
name|ASM_OP_MIX2_R
operator|,
name|fmt
operator|=
name|ASM_FMT_I2
expr_stmt|;
break|break;
case|case
literal|0xA
case|:
name|op
operator|=
name|ASM_OP_MIX2_L
operator|,
name|fmt
operator|=
name|ASM_FMT_I2
expr_stmt|;
break|break;
case|case
literal|0xD
case|:
name|op
operator|=
name|ASM_OP_PMPY2_R
operator|,
name|fmt
operator|=
name|ASM_FMT_I2
expr_stmt|;
break|break;
case|case
literal|0xF
case|:
name|op
operator|=
name|ASM_OP_PMPY2_L
operator|,
name|fmt
operator|=
name|ASM_FMT_I2
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0xC
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|28
argument_list|,
literal|4
argument_list|)
condition|)
block|{
comment|/* x2b + x2c */
case|case
literal|0xA
case|:
name|op
operator|=
name|ASM_OP_MUX1
operator|,
name|fmt
operator|=
name|ASM_FMT_I3
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0xE
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|28
argument_list|,
literal|4
argument_list|)
condition|)
block|{
comment|/* x2b + x2c */
case|case
literal|0x5
case|:
name|op
operator|=
name|ASM_OP_PSHL2
operator|,
name|fmt
operator|=
name|ASM_FMT_I8
expr_stmt|;
break|break;
case|case
literal|0xA
case|:
name|op
operator|=
name|ASM_OP_MUX2
operator|,
name|fmt
operator|=
name|ASM_FMT_I4
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0x10
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|28
argument_list|,
literal|4
argument_list|)
condition|)
block|{
comment|/* x2b + x2c */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_PSHR4_U
operator|,
name|fmt
operator|=
name|ASM_FMT_I5
expr_stmt|;
break|break;
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_PSHR4_
operator|,
name|fmt
operator|=
name|ASM_FMT_I5
expr_stmt|;
break|break;
case|case
literal|0x4
case|:
name|op
operator|=
name|ASM_OP_PSHL4
operator|,
name|fmt
operator|=
name|ASM_FMT_I7
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0x12
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|28
argument_list|,
literal|4
argument_list|)
condition|)
block|{
comment|/* x2b + x2c */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_SHR_U
operator|,
name|fmt
operator|=
name|ASM_FMT_I5
expr_stmt|;
break|break;
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_SHR_
operator|,
name|fmt
operator|=
name|ASM_FMT_I5
expr_stmt|;
break|break;
case|case
literal|0x4
case|:
name|op
operator|=
name|ASM_OP_SHL
operator|,
name|fmt
operator|=
name|ASM_FMT_I7
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0x14
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|28
argument_list|,
literal|4
argument_list|)
condition|)
block|{
comment|/* x2b + x2c */
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_PSHR4_U
operator|,
name|fmt
operator|=
name|ASM_FMT_I6
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
name|op
operator|=
name|ASM_OP_PSHR4_
operator|,
name|fmt
operator|=
name|ASM_FMT_I6
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0x18
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|28
argument_list|,
literal|4
argument_list|)
condition|)
block|{
comment|/* x2b + x2c */
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_PACK4_SSS
operator|,
name|fmt
operator|=
name|ASM_FMT_I2
expr_stmt|;
break|break;
case|case
literal|0x4
case|:
name|op
operator|=
name|ASM_OP_UNPACK4_H
operator|,
name|fmt
operator|=
name|ASM_FMT_I2
expr_stmt|;
break|break;
case|case
literal|0x6
case|:
name|op
operator|=
name|ASM_OP_UNPACK4_L
operator|,
name|fmt
operator|=
name|ASM_FMT_I2
expr_stmt|;
break|break;
case|case
literal|0x8
case|:
name|op
operator|=
name|ASM_OP_MIX4_R
operator|,
name|fmt
operator|=
name|ASM_FMT_I2
expr_stmt|;
break|break;
case|case
literal|0xA
case|:
name|op
operator|=
name|ASM_OP_MIX4_L
operator|,
name|fmt
operator|=
name|ASM_FMT_I2
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0x1C
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|28
argument_list|,
literal|4
argument_list|)
condition|)
block|{
comment|/* x2b + x2c */
case|case
literal|0x5
case|:
name|op
operator|=
name|ASM_OP_PSHL4
operator|,
name|fmt
operator|=
name|ASM_FMT_I8
expr_stmt|;
break|break;
block|}
break|break;
block|}
break|break;
block|}
if|if
condition|(
name|op
operator|!=
name|ASM_OP_NONE
condition|)
return|return
operator|(
name|asm_extract
argument_list|(
name|op
argument_list|,
name|fmt
argument_list|,
name|bits
argument_list|,
name|b
argument_list|,
name|slot
argument_list|)
operator|)
return|;
return|return
operator|(
literal|0
operator|)
return|;
block|}
end_function

begin_comment
comment|/*  * Decode M-unit instructions.  */
end_comment

begin_function
specifier|static
name|int
name|asm_decodeM
parameter_list|(
name|uint64_t
name|ip
parameter_list|,
name|struct
name|asm_bundle
modifier|*
name|b
parameter_list|,
name|int
name|slot
parameter_list|)
block|{
name|uint64_t
name|bits
decl_stmt|;
name|enum
name|asm_fmt
name|fmt
decl_stmt|;
name|enum
name|asm_op
name|op
decl_stmt|;
name|bits
operator|=
name|SLOT
argument_list|(
name|ip
argument_list|,
name|slot
argument_list|)
expr_stmt|;
if|if
condition|(
operator|(
name|int
operator|)
name|OPCODE
argument_list|(
name|bits
argument_list|)
operator|>=
literal|8
condition|)
return|return
operator|(
name|asm_decodeA
argument_list|(
name|bits
argument_list|,
name|b
argument_list|,
name|slot
argument_list|)
operator|)
return|;
name|fmt
operator|=
name|ASM_FMT_NONE
operator|,
name|op
operator|=
name|ASM_OP_NONE
expr_stmt|;
switch|switch
condition|(
operator|(
name|int
operator|)
name|OPCODE
argument_list|(
name|bits
argument_list|)
condition|)
block|{
case|case
literal|0x0
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|33
argument_list|,
literal|3
argument_list|)
condition|)
block|{
comment|/* x3 */
case|case
literal|0x0
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|6
argument_list|)
condition|)
block|{
comment|/* x6 (x4 + x2) */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_BREAK_M
operator|,
name|fmt
operator|=
name|ASM_FMT_M37
expr_stmt|;
break|break;
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_NOP_M
operator|,
name|fmt
operator|=
name|ASM_FMT_M37
expr_stmt|;
break|break;
case|case
literal|0x4
case|:
case|case
literal|0x14
case|:
case|case
literal|0x24
case|:
case|case
literal|0x34
case|:
name|op
operator|=
name|ASM_OP_SUM
operator|,
name|fmt
operator|=
name|ASM_FMT_M44
expr_stmt|;
break|break;
case|case
literal|0x5
case|:
case|case
literal|0x15
case|:
case|case
literal|0x25
case|:
case|case
literal|0x35
case|:
name|op
operator|=
name|ASM_OP_RUM
operator|,
name|fmt
operator|=
name|ASM_FMT_M44
expr_stmt|;
break|break;
case|case
literal|0x6
case|:
case|case
literal|0x16
case|:
case|case
literal|0x26
case|:
case|case
literal|0x36
case|:
name|op
operator|=
name|ASM_OP_SSM
operator|,
name|fmt
operator|=
name|ASM_FMT_M44
expr_stmt|;
break|break;
case|case
literal|0x7
case|:
case|case
literal|0x17
case|:
case|case
literal|0x27
case|:
case|case
literal|0x37
case|:
name|op
operator|=
name|ASM_OP_RSM
operator|,
name|fmt
operator|=
name|ASM_FMT_M44
expr_stmt|;
break|break;
case|case
literal|0xA
case|:
name|op
operator|=
name|ASM_OP_LOADRS
operator|,
name|fmt
operator|=
name|ASM_FMT_M25
expr_stmt|;
break|break;
case|case
literal|0xC
case|:
name|op
operator|=
name|ASM_OP_FLUSHRS
operator|,
name|fmt
operator|=
name|ASM_FMT_M25
expr_stmt|;
break|break;
case|case
literal|0x10
case|:
name|op
operator|=
name|ASM_OP_INVALA_
operator|,
name|fmt
operator|=
name|ASM_FMT_M24
expr_stmt|;
break|break;
case|case
literal|0x12
case|:
name|op
operator|=
name|ASM_OP_INVALA_E
operator|,
name|fmt
operator|=
name|ASM_FMT_M26
expr_stmt|;
break|break;
case|case
literal|0x13
case|:
name|op
operator|=
name|ASM_OP_INVALA_E
operator|,
name|fmt
operator|=
name|ASM_FMT_M27
expr_stmt|;
break|break;
case|case
literal|0x20
case|:
name|op
operator|=
name|ASM_OP_FWB
operator|,
name|fmt
operator|=
name|ASM_FMT_M24
expr_stmt|;
break|break;
case|case
literal|0x22
case|:
name|op
operator|=
name|ASM_OP_MF_
operator|,
name|fmt
operator|=
name|ASM_FMT_M24
expr_stmt|;
break|break;
case|case
literal|0x23
case|:
name|op
operator|=
name|ASM_OP_MF_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M24
expr_stmt|;
break|break;
case|case
literal|0x28
case|:
name|op
operator|=
name|ASM_OP_MOV_M
operator|,
name|fmt
operator|=
name|ASM_FMT_M30
expr_stmt|;
break|break;
case|case
literal|0x30
case|:
name|op
operator|=
name|ASM_OP_SRLZ_D
operator|,
name|fmt
operator|=
name|ASM_FMT_M24
expr_stmt|;
break|break;
case|case
literal|0x31
case|:
name|op
operator|=
name|ASM_OP_SRLZ_I
operator|,
name|fmt
operator|=
name|ASM_FMT_M24
expr_stmt|;
break|break;
case|case
literal|0x33
case|:
name|op
operator|=
name|ASM_OP_SYNC_I
operator|,
name|fmt
operator|=
name|ASM_FMT_M24
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0x4
case|:
name|op
operator|=
name|ASM_OP_CHK_A_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M22
expr_stmt|;
break|break;
case|case
literal|0x5
case|:
name|op
operator|=
name|ASM_OP_CHK_A_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M22
expr_stmt|;
break|break;
case|case
literal|0x6
case|:
name|op
operator|=
name|ASM_OP_CHK_A_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M23
expr_stmt|;
break|break;
case|case
literal|0x7
case|:
name|op
operator|=
name|ASM_OP_CHK_A_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M23
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0x1
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|33
argument_list|,
literal|3
argument_list|)
condition|)
block|{
comment|/* x3 */
case|case
literal|0x0
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|6
argument_list|)
condition|)
block|{
comment|/* x6 (x4 + x2) */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_MOV_RR
operator|,
name|fmt
operator|=
name|ASM_FMT_M42
expr_stmt|;
break|break;
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_MOV_DBR
operator|,
name|fmt
operator|=
name|ASM_FMT_M42
expr_stmt|;
break|break;
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_MOV_IBR
operator|,
name|fmt
operator|=
name|ASM_FMT_M42
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
name|op
operator|=
name|ASM_OP_MOV_PKR
operator|,
name|fmt
operator|=
name|ASM_FMT_M42
expr_stmt|;
break|break;
case|case
literal|0x4
case|:
name|op
operator|=
name|ASM_OP_MOV_PMC
operator|,
name|fmt
operator|=
name|ASM_FMT_M42
expr_stmt|;
break|break;
case|case
literal|0x5
case|:
name|op
operator|=
name|ASM_OP_MOV_PMD
operator|,
name|fmt
operator|=
name|ASM_FMT_M42
expr_stmt|;
break|break;
case|case
literal|0x6
case|:
name|op
operator|=
name|ASM_OP_MOV_MSR
operator|,
name|fmt
operator|=
name|ASM_FMT_M42
expr_stmt|;
break|break;
case|case
literal|0x9
case|:
name|op
operator|=
name|ASM_OP_PTC_L
operator|,
name|fmt
operator|=
name|ASM_FMT_M45
expr_stmt|;
break|break;
case|case
literal|0xA
case|:
name|op
operator|=
name|ASM_OP_PTC_G
operator|,
name|fmt
operator|=
name|ASM_FMT_M45
expr_stmt|;
break|break;
case|case
literal|0xB
case|:
name|op
operator|=
name|ASM_OP_PTC_GA
operator|,
name|fmt
operator|=
name|ASM_FMT_M45
expr_stmt|;
break|break;
case|case
literal|0xC
case|:
name|op
operator|=
name|ASM_OP_PTR_D
operator|,
name|fmt
operator|=
name|ASM_FMT_M45
expr_stmt|;
break|break;
case|case
literal|0xD
case|:
name|op
operator|=
name|ASM_OP_PTR_I
operator|,
name|fmt
operator|=
name|ASM_FMT_M45
expr_stmt|;
break|break;
case|case
literal|0xE
case|:
name|op
operator|=
name|ASM_OP_ITR_D
operator|,
name|fmt
operator|=
name|ASM_FMT_M42
expr_stmt|;
break|break;
case|case
literal|0xF
case|:
name|op
operator|=
name|ASM_OP_ITR_I
operator|,
name|fmt
operator|=
name|ASM_FMT_M42
expr_stmt|;
break|break;
case|case
literal|0x10
case|:
name|op
operator|=
name|ASM_OP_MOV_RR
operator|,
name|fmt
operator|=
name|ASM_FMT_M43
expr_stmt|;
break|break;
case|case
literal|0x11
case|:
name|op
operator|=
name|ASM_OP_MOV_DBR
operator|,
name|fmt
operator|=
name|ASM_FMT_M43
expr_stmt|;
break|break;
case|case
literal|0x12
case|:
name|op
operator|=
name|ASM_OP_MOV_IBR
operator|,
name|fmt
operator|=
name|ASM_FMT_M43
expr_stmt|;
break|break;
case|case
literal|0x13
case|:
name|op
operator|=
name|ASM_OP_MOV_PKR
operator|,
name|fmt
operator|=
name|ASM_FMT_M43
expr_stmt|;
break|break;
case|case
literal|0x14
case|:
name|op
operator|=
name|ASM_OP_MOV_PMC
operator|,
name|fmt
operator|=
name|ASM_FMT_M43
expr_stmt|;
break|break;
case|case
literal|0x15
case|:
name|op
operator|=
name|ASM_OP_MOV_PMD
operator|,
name|fmt
operator|=
name|ASM_FMT_M43
expr_stmt|;
break|break;
case|case
literal|0x16
case|:
name|op
operator|=
name|ASM_OP_MOV_MSR
operator|,
name|fmt
operator|=
name|ASM_FMT_M43
expr_stmt|;
break|break;
case|case
literal|0x17
case|:
name|op
operator|=
name|ASM_OP_MOV_CPUID
operator|,
name|fmt
operator|=
name|ASM_FMT_M43
expr_stmt|;
break|break;
case|case
literal|0x18
case|:
name|op
operator|=
name|ASM_OP_PROBE_R
operator|,
name|fmt
operator|=
name|ASM_FMT_M39
expr_stmt|;
break|break;
case|case
literal|0x19
case|:
name|op
operator|=
name|ASM_OP_PROBE_W
operator|,
name|fmt
operator|=
name|ASM_FMT_M39
expr_stmt|;
break|break;
case|case
literal|0x1A
case|:
name|op
operator|=
name|ASM_OP_THASH
operator|,
name|fmt
operator|=
name|ASM_FMT_M46
expr_stmt|;
break|break;
case|case
literal|0x1B
case|:
name|op
operator|=
name|ASM_OP_TTAG
operator|,
name|fmt
operator|=
name|ASM_FMT_M46
expr_stmt|;
break|break;
case|case
literal|0x1E
case|:
name|op
operator|=
name|ASM_OP_TPA
operator|,
name|fmt
operator|=
name|ASM_FMT_M46
expr_stmt|;
break|break;
case|case
literal|0x1F
case|:
name|op
operator|=
name|ASM_OP_TAK
operator|,
name|fmt
operator|=
name|ASM_FMT_M46
expr_stmt|;
break|break;
case|case
literal|0x21
case|:
name|op
operator|=
name|ASM_OP_MOV_PSR_UM
operator|,
name|fmt
operator|=
name|ASM_FMT_M36
expr_stmt|;
break|break;
case|case
literal|0x22
case|:
name|op
operator|=
name|ASM_OP_MOV_M
operator|,
name|fmt
operator|=
name|ASM_FMT_M31
expr_stmt|;
break|break;
case|case
literal|0x24
case|:
name|op
operator|=
name|ASM_OP_MOV_
operator|,
name|fmt
operator|=
name|ASM_FMT_M33
expr_stmt|;
break|break;
case|case
literal|0x25
case|:
name|op
operator|=
name|ASM_OP_MOV_PSR
operator|,
name|fmt
operator|=
name|ASM_FMT_M36
expr_stmt|;
break|break;
case|case
literal|0x29
case|:
name|op
operator|=
name|ASM_OP_MOV_PSR_UM
operator|,
name|fmt
operator|=
name|ASM_FMT_M35
expr_stmt|;
break|break;
case|case
literal|0x2A
case|:
name|op
operator|=
name|ASM_OP_MOV_M
operator|,
name|fmt
operator|=
name|ASM_FMT_M29
expr_stmt|;
break|break;
case|case
literal|0x2C
case|:
name|op
operator|=
name|ASM_OP_MOV_
operator|,
name|fmt
operator|=
name|ASM_FMT_M32
expr_stmt|;
break|break;
case|case
literal|0x2D
case|:
name|op
operator|=
name|ASM_OP_MOV_PSR_L
operator|,
name|fmt
operator|=
name|ASM_FMT_M35
expr_stmt|;
break|break;
case|case
literal|0x2E
case|:
name|op
operator|=
name|ASM_OP_ITC_D
operator|,
name|fmt
operator|=
name|ASM_FMT_M42
expr_stmt|;
break|break;
case|case
literal|0x2F
case|:
name|op
operator|=
name|ASM_OP_ITC_I
operator|,
name|fmt
operator|=
name|ASM_FMT_M42
expr_stmt|;
break|break;
case|case
literal|0x30
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|36
argument_list|,
literal|1
argument_list|)
operator|==
literal|0
condition|)
comment|/* x */
name|op
operator|=
name|ASM_OP_FC_
operator|,
name|fmt
operator|=
name|ASM_FMT_M28
expr_stmt|;
else|else
name|op
operator|=
name|ASM_OP_FC_I
operator|,
name|fmt
operator|=
name|ASM_FMT_M28
expr_stmt|;
break|break;
case|case
literal|0x31
case|:
name|op
operator|=
name|ASM_OP_PROBE_RW_FAULT
operator|,
name|fmt
operator|=
name|ASM_FMT_M40
expr_stmt|;
break|break;
case|case
literal|0x32
case|:
name|op
operator|=
name|ASM_OP_PROBE_R_FAULT
operator|,
name|fmt
operator|=
name|ASM_FMT_M40
expr_stmt|;
break|break;
case|case
literal|0x33
case|:
name|op
operator|=
name|ASM_OP_PROBE_W_FAULT
operator|,
name|fmt
operator|=
name|ASM_FMT_M40
expr_stmt|;
break|break;
case|case
literal|0x34
case|:
name|op
operator|=
name|ASM_OP_PTC_E
operator|,
name|fmt
operator|=
name|ASM_FMT_M28
expr_stmt|;
break|break;
case|case
literal|0x38
case|:
name|op
operator|=
name|ASM_OP_PROBE_R
operator|,
name|fmt
operator|=
name|ASM_FMT_M38
expr_stmt|;
break|break;
case|case
literal|0x39
case|:
name|op
operator|=
name|ASM_OP_PROBE_W
operator|,
name|fmt
operator|=
name|ASM_FMT_M38
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_CHK_S_M
operator|,
name|fmt
operator|=
name|ASM_FMT_M20
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
name|op
operator|=
name|ASM_OP_CHK_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M21
expr_stmt|;
break|break;
case|case
literal|0x6
case|:
name|op
operator|=
name|ASM_OP_ALLOC
operator|,
name|fmt
operator|=
name|ASM_FMT_M34
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0x4
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|1
argument_list|)
operator|==
literal|0
condition|)
block|{
comment|/* x */
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|30
argument_list|,
literal|7
argument_list|)
condition|)
block|{
comment|/* x6 + m */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_LD1_
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_LD2_
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_LD4_
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
name|op
operator|=
name|ASM_OP_LD8_
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x4
case|:
name|op
operator|=
name|ASM_OP_LD1_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x5
case|:
name|op
operator|=
name|ASM_OP_LD2_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x6
case|:
name|op
operator|=
name|ASM_OP_LD4_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x7
case|:
name|op
operator|=
name|ASM_OP_LD8_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x8
case|:
name|op
operator|=
name|ASM_OP_LD1_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x9
case|:
name|op
operator|=
name|ASM_OP_LD2_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0xA
case|:
name|op
operator|=
name|ASM_OP_LD4_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0xB
case|:
name|op
operator|=
name|ASM_OP_LD8_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0xC
case|:
name|op
operator|=
name|ASM_OP_LD1_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0xD
case|:
name|op
operator|=
name|ASM_OP_LD2_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0xE
case|:
name|op
operator|=
name|ASM_OP_LD4_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0xF
case|:
name|op
operator|=
name|ASM_OP_LD8_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x10
case|:
name|op
operator|=
name|ASM_OP_LD1_BIAS
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x11
case|:
name|op
operator|=
name|ASM_OP_LD2_BIAS
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x12
case|:
name|op
operator|=
name|ASM_OP_LD4_BIAS
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x13
case|:
name|op
operator|=
name|ASM_OP_LD8_BIAS
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x14
case|:
name|op
operator|=
name|ASM_OP_LD1_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x15
case|:
name|op
operator|=
name|ASM_OP_LD2_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x16
case|:
name|op
operator|=
name|ASM_OP_LD4_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x17
case|:
name|op
operator|=
name|ASM_OP_LD8_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x1B
case|:
name|op
operator|=
name|ASM_OP_LD8_FILL
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x20
case|:
name|op
operator|=
name|ASM_OP_LD1_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x21
case|:
name|op
operator|=
name|ASM_OP_LD2_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x22
case|:
name|op
operator|=
name|ASM_OP_LD4_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x23
case|:
name|op
operator|=
name|ASM_OP_LD8_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x24
case|:
name|op
operator|=
name|ASM_OP_LD1_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x25
case|:
name|op
operator|=
name|ASM_OP_LD2_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x26
case|:
name|op
operator|=
name|ASM_OP_LD4_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x27
case|:
name|op
operator|=
name|ASM_OP_LD8_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x28
case|:
name|op
operator|=
name|ASM_OP_LD1_C_CLR_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x29
case|:
name|op
operator|=
name|ASM_OP_LD2_C_CLR_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x2A
case|:
name|op
operator|=
name|ASM_OP_LD4_C_CLR_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x2B
case|:
name|op
operator|=
name|ASM_OP_LD8_C_CLR_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x30
case|:
name|op
operator|=
name|ASM_OP_ST1_
operator|,
name|fmt
operator|=
name|ASM_FMT_M4
expr_stmt|;
break|break;
case|case
literal|0x31
case|:
name|op
operator|=
name|ASM_OP_ST2_
operator|,
name|fmt
operator|=
name|ASM_FMT_M4
expr_stmt|;
break|break;
case|case
literal|0x32
case|:
name|op
operator|=
name|ASM_OP_ST4_
operator|,
name|fmt
operator|=
name|ASM_FMT_M4
expr_stmt|;
break|break;
case|case
literal|0x33
case|:
name|op
operator|=
name|ASM_OP_ST8_
operator|,
name|fmt
operator|=
name|ASM_FMT_M4
expr_stmt|;
break|break;
case|case
literal|0x34
case|:
name|op
operator|=
name|ASM_OP_ST1_REL
operator|,
name|fmt
operator|=
name|ASM_FMT_M4
expr_stmt|;
break|break;
case|case
literal|0x35
case|:
name|op
operator|=
name|ASM_OP_ST2_REL
operator|,
name|fmt
operator|=
name|ASM_FMT_M4
expr_stmt|;
break|break;
case|case
literal|0x36
case|:
name|op
operator|=
name|ASM_OP_ST4_REL
operator|,
name|fmt
operator|=
name|ASM_FMT_M4
expr_stmt|;
break|break;
case|case
literal|0x37
case|:
name|op
operator|=
name|ASM_OP_ST8_REL
operator|,
name|fmt
operator|=
name|ASM_FMT_M4
expr_stmt|;
break|break;
case|case
literal|0x3B
case|:
name|op
operator|=
name|ASM_OP_ST8_SPILL
operator|,
name|fmt
operator|=
name|ASM_FMT_M4
expr_stmt|;
break|break;
case|case
literal|0x40
case|:
name|op
operator|=
name|ASM_OP_LD1_
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x41
case|:
name|op
operator|=
name|ASM_OP_LD2_
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x42
case|:
name|op
operator|=
name|ASM_OP_LD4_
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x43
case|:
name|op
operator|=
name|ASM_OP_LD8_
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x44
case|:
name|op
operator|=
name|ASM_OP_LD1_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x45
case|:
name|op
operator|=
name|ASM_OP_LD2_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x46
case|:
name|op
operator|=
name|ASM_OP_LD4_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x47
case|:
name|op
operator|=
name|ASM_OP_LD8_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x48
case|:
name|op
operator|=
name|ASM_OP_LD1_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x49
case|:
name|op
operator|=
name|ASM_OP_LD2_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x4A
case|:
name|op
operator|=
name|ASM_OP_LD4_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x4B
case|:
name|op
operator|=
name|ASM_OP_LD8_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x4C
case|:
name|op
operator|=
name|ASM_OP_LD1_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x4D
case|:
name|op
operator|=
name|ASM_OP_LD2_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x4E
case|:
name|op
operator|=
name|ASM_OP_LD4_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x4F
case|:
name|op
operator|=
name|ASM_OP_LD8_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x50
case|:
name|op
operator|=
name|ASM_OP_LD1_BIAS
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x51
case|:
name|op
operator|=
name|ASM_OP_LD2_BIAS
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x52
case|:
name|op
operator|=
name|ASM_OP_LD4_BIAS
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x53
case|:
name|op
operator|=
name|ASM_OP_LD8_BIAS
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x54
case|:
name|op
operator|=
name|ASM_OP_LD1_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x55
case|:
name|op
operator|=
name|ASM_OP_LD2_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x56
case|:
name|op
operator|=
name|ASM_OP_LD4_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x57
case|:
name|op
operator|=
name|ASM_OP_LD8_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x5B
case|:
name|op
operator|=
name|ASM_OP_LD8_FILL
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x60
case|:
name|op
operator|=
name|ASM_OP_LD1_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x61
case|:
name|op
operator|=
name|ASM_OP_LD2_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x62
case|:
name|op
operator|=
name|ASM_OP_LD4_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x63
case|:
name|op
operator|=
name|ASM_OP_LD8_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x64
case|:
name|op
operator|=
name|ASM_OP_LD1_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x65
case|:
name|op
operator|=
name|ASM_OP_LD2_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x66
case|:
name|op
operator|=
name|ASM_OP_LD4_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x67
case|:
name|op
operator|=
name|ASM_OP_LD8_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x68
case|:
name|op
operator|=
name|ASM_OP_LD1_C_CLR_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x69
case|:
name|op
operator|=
name|ASM_OP_LD2_C_CLR_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x6A
case|:
name|op
operator|=
name|ASM_OP_LD4_C_CLR_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
case|case
literal|0x6B
case|:
name|op
operator|=
name|ASM_OP_LD8_C_CLR_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M2
expr_stmt|;
break|break;
block|}
block|}
else|else
block|{
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|30
argument_list|,
literal|7
argument_list|)
condition|)
block|{
comment|/* x6 + m */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_CMPXCHG1_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M16
expr_stmt|;
break|break;
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_CMPXCHG2_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M16
expr_stmt|;
break|break;
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_CMPXCHG4_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M16
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
name|op
operator|=
name|ASM_OP_CMPXCHG8_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M16
expr_stmt|;
break|break;
case|case
literal|0x4
case|:
name|op
operator|=
name|ASM_OP_CMPXCHG1_REL
operator|,
name|fmt
operator|=
name|ASM_FMT_M16
expr_stmt|;
break|break;
case|case
literal|0x5
case|:
name|op
operator|=
name|ASM_OP_CMPXCHG2_REL
operator|,
name|fmt
operator|=
name|ASM_FMT_M16
expr_stmt|;
break|break;
case|case
literal|0x6
case|:
name|op
operator|=
name|ASM_OP_CMPXCHG4_REL
operator|,
name|fmt
operator|=
name|ASM_FMT_M16
expr_stmt|;
break|break;
case|case
literal|0x7
case|:
name|op
operator|=
name|ASM_OP_CMPXCHG8_REL
operator|,
name|fmt
operator|=
name|ASM_FMT_M16
expr_stmt|;
break|break;
case|case
literal|0x8
case|:
name|op
operator|=
name|ASM_OP_XCHG1
operator|,
name|fmt
operator|=
name|ASM_FMT_M16
expr_stmt|;
break|break;
case|case
literal|0x9
case|:
name|op
operator|=
name|ASM_OP_XCHG2
operator|,
name|fmt
operator|=
name|ASM_FMT_M16
expr_stmt|;
break|break;
case|case
literal|0xA
case|:
name|op
operator|=
name|ASM_OP_XCHG4
operator|,
name|fmt
operator|=
name|ASM_FMT_M16
expr_stmt|;
break|break;
case|case
literal|0xB
case|:
name|op
operator|=
name|ASM_OP_XCHG8
operator|,
name|fmt
operator|=
name|ASM_FMT_M16
expr_stmt|;
break|break;
case|case
literal|0x12
case|:
name|op
operator|=
name|ASM_OP_FETCHADD4_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M17
expr_stmt|;
break|break;
case|case
literal|0x13
case|:
name|op
operator|=
name|ASM_OP_FETCHADD8_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M17
expr_stmt|;
break|break;
case|case
literal|0x16
case|:
name|op
operator|=
name|ASM_OP_FETCHADD4_REL
operator|,
name|fmt
operator|=
name|ASM_FMT_M17
expr_stmt|;
break|break;
case|case
literal|0x17
case|:
name|op
operator|=
name|ASM_OP_FETCHADD8_REL
operator|,
name|fmt
operator|=
name|ASM_FMT_M17
expr_stmt|;
break|break;
case|case
literal|0x1C
case|:
name|op
operator|=
name|ASM_OP_GETF_SIG
operator|,
name|fmt
operator|=
name|ASM_FMT_M19
expr_stmt|;
break|break;
case|case
literal|0x1D
case|:
name|op
operator|=
name|ASM_OP_GETF_EXP
operator|,
name|fmt
operator|=
name|ASM_FMT_M19
expr_stmt|;
break|break;
case|case
literal|0x1E
case|:
name|op
operator|=
name|ASM_OP_GETF_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M19
expr_stmt|;
break|break;
case|case
literal|0x1F
case|:
name|op
operator|=
name|ASM_OP_GETF_D
operator|,
name|fmt
operator|=
name|ASM_FMT_M19
expr_stmt|;
break|break;
case|case
literal|0x20
case|:
name|op
operator|=
name|ASM_OP_CMP8XCHG16_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M16
expr_stmt|;
break|break;
case|case
literal|0x24
case|:
name|op
operator|=
name|ASM_OP_CMP8XCHG16_REL
operator|,
name|fmt
operator|=
name|ASM_FMT_M16
expr_stmt|;
break|break;
case|case
literal|0x28
case|:
name|op
operator|=
name|ASM_OP_LD16_
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x2C
case|:
name|op
operator|=
name|ASM_OP_LD16_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M1
expr_stmt|;
break|break;
case|case
literal|0x30
case|:
name|op
operator|=
name|ASM_OP_ST16_
operator|,
name|fmt
operator|=
name|ASM_FMT_M4
expr_stmt|;
break|break;
case|case
literal|0x34
case|:
name|op
operator|=
name|ASM_OP_ST16_REL
operator|,
name|fmt
operator|=
name|ASM_FMT_M4
expr_stmt|;
break|break;
block|}
block|}
break|break;
case|case
literal|0x5
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|30
argument_list|,
literal|6
argument_list|)
condition|)
block|{
comment|/* x6 */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_LD1_
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_LD2_
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_LD4_
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
name|op
operator|=
name|ASM_OP_LD8_
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x4
case|:
name|op
operator|=
name|ASM_OP_LD1_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x5
case|:
name|op
operator|=
name|ASM_OP_LD2_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x6
case|:
name|op
operator|=
name|ASM_OP_LD4_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x7
case|:
name|op
operator|=
name|ASM_OP_LD8_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x8
case|:
name|op
operator|=
name|ASM_OP_LD1_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x9
case|:
name|op
operator|=
name|ASM_OP_LD2_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0xA
case|:
name|op
operator|=
name|ASM_OP_LD4_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0xB
case|:
name|op
operator|=
name|ASM_OP_LD8_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0xC
case|:
name|op
operator|=
name|ASM_OP_LD1_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0xD
case|:
name|op
operator|=
name|ASM_OP_LD2_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0xE
case|:
name|op
operator|=
name|ASM_OP_LD4_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0xF
case|:
name|op
operator|=
name|ASM_OP_LD8_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x10
case|:
name|op
operator|=
name|ASM_OP_LD1_BIAS
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x11
case|:
name|op
operator|=
name|ASM_OP_LD2_BIAS
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x12
case|:
name|op
operator|=
name|ASM_OP_LD4_BIAS
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x13
case|:
name|op
operator|=
name|ASM_OP_LD8_BIAS
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x14
case|:
name|op
operator|=
name|ASM_OP_LD1_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x15
case|:
name|op
operator|=
name|ASM_OP_LD2_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x16
case|:
name|op
operator|=
name|ASM_OP_LD4_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x17
case|:
name|op
operator|=
name|ASM_OP_LD8_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x1B
case|:
name|op
operator|=
name|ASM_OP_LD8_FILL
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x20
case|:
name|op
operator|=
name|ASM_OP_LD1_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x21
case|:
name|op
operator|=
name|ASM_OP_LD2_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x22
case|:
name|op
operator|=
name|ASM_OP_LD4_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x23
case|:
name|op
operator|=
name|ASM_OP_LD8_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x24
case|:
name|op
operator|=
name|ASM_OP_LD1_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x25
case|:
name|op
operator|=
name|ASM_OP_LD2_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x26
case|:
name|op
operator|=
name|ASM_OP_LD4_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x27
case|:
name|op
operator|=
name|ASM_OP_LD8_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x28
case|:
name|op
operator|=
name|ASM_OP_LD1_C_CLR_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x29
case|:
name|op
operator|=
name|ASM_OP_LD2_C_CLR_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x2A
case|:
name|op
operator|=
name|ASM_OP_LD4_C_CLR_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x2B
case|:
name|op
operator|=
name|ASM_OP_LD8_C_CLR_ACQ
operator|,
name|fmt
operator|=
name|ASM_FMT_M3
expr_stmt|;
break|break;
case|case
literal|0x30
case|:
name|op
operator|=
name|ASM_OP_ST1_
operator|,
name|fmt
operator|=
name|ASM_FMT_M5
expr_stmt|;
break|break;
case|case
literal|0x31
case|:
name|op
operator|=
name|ASM_OP_ST2_
operator|,
name|fmt
operator|=
name|ASM_FMT_M5
expr_stmt|;
break|break;
case|case
literal|0x32
case|:
name|op
operator|=
name|ASM_OP_ST4_
operator|,
name|fmt
operator|=
name|ASM_FMT_M5
expr_stmt|;
break|break;
case|case
literal|0x33
case|:
name|op
operator|=
name|ASM_OP_ST8_
operator|,
name|fmt
operator|=
name|ASM_FMT_M5
expr_stmt|;
break|break;
case|case
literal|0x34
case|:
name|op
operator|=
name|ASM_OP_ST1_REL
operator|,
name|fmt
operator|=
name|ASM_FMT_M5
expr_stmt|;
break|break;
case|case
literal|0x35
case|:
name|op
operator|=
name|ASM_OP_ST2_REL
operator|,
name|fmt
operator|=
name|ASM_FMT_M5
expr_stmt|;
break|break;
case|case
literal|0x36
case|:
name|op
operator|=
name|ASM_OP_ST4_REL
operator|,
name|fmt
operator|=
name|ASM_FMT_M5
expr_stmt|;
break|break;
case|case
literal|0x37
case|:
name|op
operator|=
name|ASM_OP_ST8_REL
operator|,
name|fmt
operator|=
name|ASM_FMT_M5
expr_stmt|;
break|break;
case|case
literal|0x3B
case|:
name|op
operator|=
name|ASM_OP_ST8_SPILL
operator|,
name|fmt
operator|=
name|ASM_FMT_M5
expr_stmt|;
break|break;
block|}
break|break;
case|case
literal|0x6
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|1
argument_list|)
operator|==
literal|0
condition|)
block|{
comment|/* x */
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|30
argument_list|,
literal|7
argument_list|)
condition|)
block|{
comment|/* x6 + m */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_LDFE_
operator|,
name|fmt
operator|=
name|ASM_FMT_M6
expr_stmt|;
break|break;
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_LDF8_
operator|,
name|fmt
operator|=
name|ASM_FMT_M6
expr_stmt|;
break|break;
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_LDFS_
operator|,
name|fmt
operator|=
name|ASM_FMT_M6
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
name|op
operator|=
name|ASM_OP_LDFD_
operator|,
name|fmt
operator|=
name|ASM_FMT_M6
expr_stmt|;
break|break;
case|case
literal|0x4
case|:
name|op
operator|=
name|ASM_OP_LDFE_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M6
expr_stmt|;
break|break;
case|case
literal|0x5
case|:
name|op
operator|=
name|ASM_OP_LDF8_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M6
expr_stmt|;
break|break;
case|case
literal|0x6
case|:
name|op
operator|=
name|ASM_OP_LDFS_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M6
expr_stmt|;
break|break;
case|case
literal|0x7
case|:
name|op
operator|=
name|ASM_OP_LDFD_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M6
expr_stmt|;
break|break;
case|case
literal|0x8
case|:
name|op
operator|=
name|ASM_OP_LDFE_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M6
expr_stmt|;
break|break;
case|case
literal|0x9
case|:
name|op
operator|=
name|ASM_OP_LDF8_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M6
expr_stmt|;
break|break;
case|case
literal|0xA
case|:
name|op
operator|=
name|ASM_OP_LDFS_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M6
expr_stmt|;
break|break;
case|case
literal|0xB
case|:
name|op
operator|=
name|ASM_OP_LDFD_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M6
expr_stmt|;
break|break;
case|case
literal|0xC
case|:
name|op
operator|=
name|ASM_OP_LDFE_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M6
expr_stmt|;
break|break;
case|case
literal|0xD
case|:
name|op
operator|=
name|ASM_OP_LDF8_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M6
expr_stmt|;
break|break;
case|case
literal|0xE
case|:
name|op
operator|=
name|ASM_OP_LDFS_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M6
expr_stmt|;
break|break;
case|case
literal|0xF
case|:
name|op
operator|=
name|ASM_OP_LDFD_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M6
expr_stmt|;
break|break;
case|case
literal|0x1B
case|:
name|op
operator|=
name|ASM_OP_LDF_FILL
operator|,
name|fmt
operator|=
name|ASM_FMT_M6
expr_stmt|;
break|break;
case|case
literal|0x20
case|:
name|op
operator|=
name|ASM_OP_LDFE_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M6
expr_stmt|;
break|break;
case|case
literal|0x21
case|:
name|op
operator|=
name|ASM_OP_LDF8_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M6
expr_stmt|;
break|break;
case|case
literal|0x22
case|:
name|op
operator|=
name|ASM_OP_LDFS_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M6
expr_stmt|;
break|break;
case|case
literal|0x23
case|:
name|op
operator|=
name|ASM_OP_LDFD_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M6
expr_stmt|;
break|break;
case|case
literal|0x24
case|:
name|op
operator|=
name|ASM_OP_LDFE_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M6
expr_stmt|;
break|break;
case|case
literal|0x25
case|:
name|op
operator|=
name|ASM_OP_LDF8_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M6
expr_stmt|;
break|break;
case|case
literal|0x26
case|:
name|op
operator|=
name|ASM_OP_LDFS_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M6
expr_stmt|;
break|break;
case|case
literal|0x27
case|:
name|op
operator|=
name|ASM_OP_LDFD_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M6
expr_stmt|;
break|break;
case|case
literal|0x2C
case|:
name|op
operator|=
name|ASM_OP_LFETCH_
operator|,
name|fmt
operator|=
name|ASM_FMT_M13
expr_stmt|;
break|break;
case|case
literal|0x2D
case|:
name|op
operator|=
name|ASM_OP_LFETCH_EXCL
operator|,
name|fmt
operator|=
name|ASM_FMT_M13
expr_stmt|;
break|break;
case|case
literal|0x2E
case|:
name|op
operator|=
name|ASM_OP_LFETCH_FAULT
operator|,
name|fmt
operator|=
name|ASM_FMT_M13
expr_stmt|;
break|break;
case|case
literal|0x2F
case|:
name|op
operator|=
name|ASM_OP_LFETCH_FAULT_EXCL
operator|,
name|fmt
operator|=
name|ASM_FMT_M13
expr_stmt|;
break|break;
case|case
literal|0x30
case|:
name|op
operator|=
name|ASM_OP_STFE
operator|,
name|fmt
operator|=
name|ASM_FMT_M9
expr_stmt|;
break|break;
case|case
literal|0x31
case|:
name|op
operator|=
name|ASM_OP_STF8
operator|,
name|fmt
operator|=
name|ASM_FMT_M9
expr_stmt|;
break|break;
case|case
literal|0x32
case|:
name|op
operator|=
name|ASM_OP_STFS
operator|,
name|fmt
operator|=
name|ASM_FMT_M9
expr_stmt|;
break|break;
case|case
literal|0x33
case|:
name|op
operator|=
name|ASM_OP_STFD
operator|,
name|fmt
operator|=
name|ASM_FMT_M9
expr_stmt|;
break|break;
case|case
literal|0x3B
case|:
name|op
operator|=
name|ASM_OP_STF_SPILL
operator|,
name|fmt
operator|=
name|ASM_FMT_M9
expr_stmt|;
break|break;
case|case
literal|0x40
case|:
name|op
operator|=
name|ASM_OP_LDFE_
operator|,
name|fmt
operator|=
name|ASM_FMT_M7
expr_stmt|;
break|break;
case|case
literal|0x41
case|:
name|op
operator|=
name|ASM_OP_LDF8_
operator|,
name|fmt
operator|=
name|ASM_FMT_M7
expr_stmt|;
break|break;
case|case
literal|0x42
case|:
name|op
operator|=
name|ASM_OP_LDFS_
operator|,
name|fmt
operator|=
name|ASM_FMT_M7
expr_stmt|;
break|break;
case|case
literal|0x43
case|:
name|op
operator|=
name|ASM_OP_LDFD_
operator|,
name|fmt
operator|=
name|ASM_FMT_M7
expr_stmt|;
break|break;
case|case
literal|0x44
case|:
name|op
operator|=
name|ASM_OP_LDFE_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M7
expr_stmt|;
break|break;
case|case
literal|0x45
case|:
name|op
operator|=
name|ASM_OP_LDF8_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M7
expr_stmt|;
break|break;
case|case
literal|0x46
case|:
name|op
operator|=
name|ASM_OP_LDFS_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M7
expr_stmt|;
break|break;
case|case
literal|0x47
case|:
name|op
operator|=
name|ASM_OP_LDFD_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M7
expr_stmt|;
break|break;
case|case
literal|0x48
case|:
name|op
operator|=
name|ASM_OP_LDFE_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M7
expr_stmt|;
break|break;
case|case
literal|0x49
case|:
name|op
operator|=
name|ASM_OP_LDF8_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M7
expr_stmt|;
break|break;
case|case
literal|0x4A
case|:
name|op
operator|=
name|ASM_OP_LDFS_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M7
expr_stmt|;
break|break;
case|case
literal|0x4B
case|:
name|op
operator|=
name|ASM_OP_LDFD_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M7
expr_stmt|;
break|break;
case|case
literal|0x4C
case|:
name|op
operator|=
name|ASM_OP_LDFE_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M7
expr_stmt|;
break|break;
case|case
literal|0x4D
case|:
name|op
operator|=
name|ASM_OP_LDF8_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M7
expr_stmt|;
break|break;
case|case
literal|0x4E
case|:
name|op
operator|=
name|ASM_OP_LDFS_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M7
expr_stmt|;
break|break;
case|case
literal|0x4F
case|:
name|op
operator|=
name|ASM_OP_LDFD_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M7
expr_stmt|;
break|break;
case|case
literal|0x5B
case|:
name|op
operator|=
name|ASM_OP_LDF_FILL
operator|,
name|fmt
operator|=
name|ASM_FMT_M7
expr_stmt|;
break|break;
case|case
literal|0x60
case|:
name|op
operator|=
name|ASM_OP_LDFE_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M7
expr_stmt|;
break|break;
case|case
literal|0x61
case|:
name|op
operator|=
name|ASM_OP_LDF8_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M7
expr_stmt|;
break|break;
case|case
literal|0x62
case|:
name|op
operator|=
name|ASM_OP_LDFS_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M7
expr_stmt|;
break|break;
case|case
literal|0x63
case|:
name|op
operator|=
name|ASM_OP_LDFD_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M7
expr_stmt|;
break|break;
case|case
literal|0x64
case|:
name|op
operator|=
name|ASM_OP_LDFE_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M7
expr_stmt|;
break|break;
case|case
literal|0x65
case|:
name|op
operator|=
name|ASM_OP_LDF8_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M7
expr_stmt|;
break|break;
case|case
literal|0x66
case|:
name|op
operator|=
name|ASM_OP_LDFS_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M7
expr_stmt|;
break|break;
case|case
literal|0x67
case|:
name|op
operator|=
name|ASM_OP_LDFD_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M7
expr_stmt|;
break|break;
case|case
literal|0x6C
case|:
name|op
operator|=
name|ASM_OP_LFETCH_
operator|,
name|fmt
operator|=
name|ASM_FMT_M14
expr_stmt|;
break|break;
case|case
literal|0x6D
case|:
name|op
operator|=
name|ASM_OP_LFETCH_EXCL
operator|,
name|fmt
operator|=
name|ASM_FMT_M14
expr_stmt|;
break|break;
case|case
literal|0x6E
case|:
name|op
operator|=
name|ASM_OP_LFETCH_FAULT
operator|,
name|fmt
operator|=
name|ASM_FMT_M14
expr_stmt|;
break|break;
case|case
literal|0x6F
case|:
name|op
operator|=
name|ASM_OP_LFETCH_FAULT_EXCL
operator|,
name|fmt
operator|=
name|ASM_FMT_M14
expr_stmt|;
break|break;
block|}
block|}
else|else
block|{
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|30
argument_list|,
literal|7
argument_list|)
condition|)
block|{
comment|/* x6 + m */
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_LDFP8_
operator|,
name|fmt
operator|=
name|ASM_FMT_M11
expr_stmt|;
break|break;
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_LDFPS_
operator|,
name|fmt
operator|=
name|ASM_FMT_M11
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
name|op
operator|=
name|ASM_OP_LDFPD_
operator|,
name|fmt
operator|=
name|ASM_FMT_M11
expr_stmt|;
break|break;
case|case
literal|0x5
case|:
name|op
operator|=
name|ASM_OP_LDFP8_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M11
expr_stmt|;
break|break;
case|case
literal|0x6
case|:
name|op
operator|=
name|ASM_OP_LDFPS_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M11
expr_stmt|;
break|break;
case|case
literal|0x7
case|:
name|op
operator|=
name|ASM_OP_LDFPD_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M11
expr_stmt|;
break|break;
case|case
literal|0x9
case|:
name|op
operator|=
name|ASM_OP_LDFP8_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M11
expr_stmt|;
break|break;
case|case
literal|0xA
case|:
name|op
operator|=
name|ASM_OP_LDFPS_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M11
expr_stmt|;
break|break;
case|case
literal|0xB
case|:
name|op
operator|=
name|ASM_OP_LDFPD_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M11
expr_stmt|;
break|break;
case|case
literal|0xD
case|:
name|op
operator|=
name|ASM_OP_LDFP8_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M11
expr_stmt|;
break|break;
case|case
literal|0xE
case|:
name|op
operator|=
name|ASM_OP_LDFPS_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M11
expr_stmt|;
break|break;
case|case
literal|0xF
case|:
name|op
operator|=
name|ASM_OP_LDFPD_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M11
expr_stmt|;
break|break;
case|case
literal|0x1C
case|:
name|op
operator|=
name|ASM_OP_SETF_SIG
operator|,
name|fmt
operator|=
name|ASM_FMT_M18
expr_stmt|;
break|break;
case|case
literal|0x1D
case|:
name|op
operator|=
name|ASM_OP_SETF_EXP
operator|,
name|fmt
operator|=
name|ASM_FMT_M18
expr_stmt|;
break|break;
case|case
literal|0x1E
case|:
name|op
operator|=
name|ASM_OP_SETF_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M18
expr_stmt|;
break|break;
case|case
literal|0x1F
case|:
name|op
operator|=
name|ASM_OP_SETF_D
operator|,
name|fmt
operator|=
name|ASM_FMT_M18
expr_stmt|;
break|break;
case|case
literal|0x21
case|:
name|op
operator|=
name|ASM_OP_LDFP8_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M11
expr_stmt|;
break|break;
case|case
literal|0x22
case|:
name|op
operator|=
name|ASM_OP_LDFPS_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M11
expr_stmt|;
break|break;
case|case
literal|0x23
case|:
name|op
operator|=
name|ASM_OP_LDFPD_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M11
expr_stmt|;
break|break;
case|case
literal|0x25
case|:
name|op
operator|=
name|ASM_OP_LDFP8_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M11
expr_stmt|;
break|break;
case|case
literal|0x26
case|:
name|op
operator|=
name|ASM_OP_LDFPS_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M11
expr_stmt|;
break|break;
case|case
literal|0x27
case|:
name|op
operator|=
name|ASM_OP_LDFPD_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M11
expr_stmt|;
break|break;
case|case
literal|0x41
case|:
name|op
operator|=
name|ASM_OP_LDFP8_
operator|,
name|fmt
operator|=
name|ASM_FMT_M12
expr_stmt|;
break|break;
case|case
literal|0x42
case|:
name|op
operator|=
name|ASM_OP_LDFPS_
operator|,
name|fmt
operator|=
name|ASM_FMT_M12
expr_stmt|;
break|break;
case|case
literal|0x43
case|:
name|op
operator|=
name|ASM_OP_LDFPD_
operator|,
name|fmt
operator|=
name|ASM_FMT_M12
expr_stmt|;
break|break;
case|case
literal|0x45
case|:
name|op
operator|=
name|ASM_OP_LDFP8_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M12
expr_stmt|;
break|break;
case|case
literal|0x46
case|:
name|op
operator|=
name|ASM_OP_LDFPS_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M12
expr_stmt|;
break|break;
case|case
literal|0x47
case|:
name|op
operator|=
name|ASM_OP_LDFPD_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M12
expr_stmt|;
break|break;
case|case
literal|0x49
case|:
name|op
operator|=
name|ASM_OP_LDFP8_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M12
expr_stmt|;
break|break;
case|case
literal|0x4A
case|:
name|op
operator|=
name|ASM_OP_LDFPS_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M12
expr_stmt|;
break|break;
case|case
literal|0x4B
case|:
name|op
operator|=
name|ASM_OP_LDFPD_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M12
expr_stmt|;
break|break;
case|case
literal|0x4D
case|:
name|op
operator|=
name|ASM_OP_LDFP8_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M12
expr_stmt|;
break|break;
case|case
literal|0x4E
case|:
name|op
operator|=
name|ASM_OP_LDFPS_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M12
expr_stmt|;
break|break;
case|case
literal|0x4F
case|:
name|op
operator|=
name|ASM_OP_LDFPD_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M12
expr_stmt|;
break|break;
case|case
literal|0x61
case|:
name|op
operator|=
name|ASM_OP_LDFP8_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M12
expr_stmt|;
break|break;
case|case
literal|0x62
case|:
name|op
operator|=
name|ASM_OP_LDFPS_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M12
expr_stmt|;
break|break;
case|case
literal|0x63
case|:
name|op
operator|=
name|ASM_OP_LDFPD_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M12
expr_stmt|;
break|break;
case|case
literal|0x65
case|:
name|op
operator|=
name|ASM_OP_LDFP8_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M12
expr_stmt|;
break|break;
case|case
literal|0x66
case|:
name|op
operator|=
name|ASM_OP_LDFPS_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M12
expr_stmt|;
break|break;
case|case
literal|0x67
case|:
name|op
operator|=
name|ASM_OP_LDFPD_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M12
expr_stmt|;
break|break;
block|}
block|}
break|break;
case|case
literal|0x7
case|:
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|30
argument_list|,
literal|6
argument_list|)
condition|)
block|{
comment|/* x6 */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_LDFE_
operator|,
name|fmt
operator|=
name|ASM_FMT_M8
expr_stmt|;
break|break;
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_LDF8_
operator|,
name|fmt
operator|=
name|ASM_FMT_M8
expr_stmt|;
break|break;
case|case
literal|0x2
case|:
name|op
operator|=
name|ASM_OP_LDFS_
operator|,
name|fmt
operator|=
name|ASM_FMT_M8
expr_stmt|;
break|break;
case|case
literal|0x3
case|:
name|op
operator|=
name|ASM_OP_LDFD_
operator|,
name|fmt
operator|=
name|ASM_FMT_M8
expr_stmt|;
break|break;
case|case
literal|0x4
case|:
name|op
operator|=
name|ASM_OP_LDFE_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M8
expr_stmt|;
break|break;
case|case
literal|0x5
case|:
name|op
operator|=
name|ASM_OP_LDF8_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M8
expr_stmt|;
break|break;
case|case
literal|0x6
case|:
name|op
operator|=
name|ASM_OP_LDFS_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M8
expr_stmt|;
break|break;
case|case
literal|0x7
case|:
name|op
operator|=
name|ASM_OP_LDFD_S
operator|,
name|fmt
operator|=
name|ASM_FMT_M8
expr_stmt|;
break|break;
case|case
literal|0x8
case|:
name|op
operator|=
name|ASM_OP_LDFE_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M8
expr_stmt|;
break|break;
case|case
literal|0x9
case|:
name|op
operator|=
name|ASM_OP_LDF8_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M8
expr_stmt|;
break|break;
case|case
literal|0xA
case|:
name|op
operator|=
name|ASM_OP_LDFS_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M8
expr_stmt|;
break|break;
case|case
literal|0xB
case|:
name|op
operator|=
name|ASM_OP_LDFD_A
operator|,
name|fmt
operator|=
name|ASM_FMT_M8
expr_stmt|;
break|break;
case|case
literal|0xC
case|:
name|op
operator|=
name|ASM_OP_LDFE_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M8
expr_stmt|;
break|break;
case|case
literal|0xD
case|:
name|op
operator|=
name|ASM_OP_LDF8_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M8
expr_stmt|;
break|break;
case|case
literal|0xE
case|:
name|op
operator|=
name|ASM_OP_LDFS_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M8
expr_stmt|;
break|break;
case|case
literal|0xF
case|:
name|op
operator|=
name|ASM_OP_LDFD_SA
operator|,
name|fmt
operator|=
name|ASM_FMT_M8
expr_stmt|;
break|break;
case|case
literal|0x1B
case|:
name|op
operator|=
name|ASM_OP_LDF_FILL
operator|,
name|fmt
operator|=
name|ASM_FMT_M8
expr_stmt|;
break|break;
case|case
literal|0x20
case|:
name|op
operator|=
name|ASM_OP_LDFE_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M8
expr_stmt|;
break|break;
case|case
literal|0x21
case|:
name|op
operator|=
name|ASM_OP_LDF8_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M8
expr_stmt|;
break|break;
case|case
literal|0x22
case|:
name|op
operator|=
name|ASM_OP_LDFS_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M8
expr_stmt|;
break|break;
case|case
literal|0x23
case|:
name|op
operator|=
name|ASM_OP_LDFD_C_CLR
operator|,
name|fmt
operator|=
name|ASM_FMT_M8
expr_stmt|;
break|break;
case|case
literal|0x24
case|:
name|op
operator|=
name|ASM_OP_LDFE_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M8
expr_stmt|;
break|break;
case|case
literal|0x25
case|:
name|op
operator|=
name|ASM_OP_LDF8_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M8
expr_stmt|;
break|break;
case|case
literal|0x26
case|:
name|op
operator|=
name|ASM_OP_LDFS_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M8
expr_stmt|;
break|break;
case|case
literal|0x27
case|:
name|op
operator|=
name|ASM_OP_LDFD_C_NC
operator|,
name|fmt
operator|=
name|ASM_FMT_M8
expr_stmt|;
break|break;
case|case
literal|0x2C
case|:
name|op
operator|=
name|ASM_OP_LFETCH_
operator|,
name|fmt
operator|=
name|ASM_FMT_M15
expr_stmt|;
break|break;
case|case
literal|0x2D
case|:
name|op
operator|=
name|ASM_OP_LFETCH_EXCL
operator|,
name|fmt
operator|=
name|ASM_FMT_M15
expr_stmt|;
break|break;
case|case
literal|0x2E
case|:
name|op
operator|=
name|ASM_OP_LFETCH_FAULT
operator|,
name|fmt
operator|=
name|ASM_FMT_M15
expr_stmt|;
break|break;
case|case
literal|0x2F
case|:
name|op
operator|=
name|ASM_OP_LFETCH_FAULT_EXCL
operator|,
name|fmt
operator|=
name|ASM_FMT_M15
expr_stmt|;
break|break;
case|case
literal|0x30
case|:
name|op
operator|=
name|ASM_OP_STFE
operator|,
name|fmt
operator|=
name|ASM_FMT_M10
expr_stmt|;
break|break;
case|case
literal|0x31
case|:
name|op
operator|=
name|ASM_OP_STF8
operator|,
name|fmt
operator|=
name|ASM_FMT_M10
expr_stmt|;
break|break;
case|case
literal|0x32
case|:
name|op
operator|=
name|ASM_OP_STFS
operator|,
name|fmt
operator|=
name|ASM_FMT_M10
expr_stmt|;
break|break;
case|case
literal|0x33
case|:
name|op
operator|=
name|ASM_OP_STFD
operator|,
name|fmt
operator|=
name|ASM_FMT_M10
expr_stmt|;
break|break;
case|case
literal|0x3B
case|:
name|op
operator|=
name|ASM_OP_STF_SPILL
operator|,
name|fmt
operator|=
name|ASM_FMT_M10
expr_stmt|;
break|break;
block|}
break|break;
block|}
if|if
condition|(
name|op
operator|!=
name|ASM_OP_NONE
condition|)
return|return
operator|(
name|asm_extract
argument_list|(
name|op
argument_list|,
name|fmt
argument_list|,
name|bits
argument_list|,
name|b
argument_list|,
name|slot
argument_list|)
operator|)
return|;
return|return
operator|(
literal|0
operator|)
return|;
block|}
end_function

begin_comment
comment|/*  * Decode X-unit instructions.  */
end_comment

begin_function
specifier|static
name|int
name|asm_decodeX
parameter_list|(
name|uint64_t
name|ip
parameter_list|,
name|struct
name|asm_bundle
modifier|*
name|b
parameter_list|,
name|int
name|slot
parameter_list|)
block|{
name|uint64_t
name|bits
decl_stmt|;
name|enum
name|asm_fmt
name|fmt
decl_stmt|;
name|enum
name|asm_op
name|op
decl_stmt|;
name|KASSERT
argument_list|(
name|slot
operator|==
literal|2
argument_list|,
operator|(
literal|"foo"
operator|)
argument_list|)
expr_stmt|;
name|bits
operator|=
name|SLOT
argument_list|(
name|ip
argument_list|,
name|slot
argument_list|)
expr_stmt|;
name|fmt
operator|=
name|ASM_FMT_NONE
operator|,
name|op
operator|=
name|ASM_OP_NONE
expr_stmt|;
comment|/* Initialize slot 1 (slot - 1) */
name|b
operator|->
name|b_inst
index|[
name|slot
operator|-
literal|1
index|]
operator|.
name|i_format
operator|=
name|ASM_FMT_NONE
expr_stmt|;
name|b
operator|->
name|b_inst
index|[
name|slot
operator|-
literal|1
index|]
operator|.
name|i_bits
operator|=
name|SLOT
argument_list|(
name|ip
argument_list|,
name|slot
operator|-
literal|1
argument_list|)
expr_stmt|;
switch|switch
condition|(
operator|(
name|int
operator|)
name|OPCODE
argument_list|(
name|bits
argument_list|)
condition|)
block|{
case|case
literal|0x0
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|33
argument_list|,
literal|3
argument_list|)
operator|==
literal|0
condition|)
block|{
comment|/* x3 */
switch|switch
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|27
argument_list|,
literal|6
argument_list|)
condition|)
block|{
comment|/* x6 */
case|case
literal|0x0
case|:
name|op
operator|=
name|ASM_OP_BREAK_X
operator|,
name|fmt
operator|=
name|ASM_FMT_X1
expr_stmt|;
break|break;
case|case
literal|0x1
case|:
name|op
operator|=
name|ASM_OP_NOP_X
operator|,
name|fmt
operator|=
name|ASM_FMT_X1
expr_stmt|;
break|break;
block|}
block|}
break|break;
case|case
literal|0x6
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|20
argument_list|,
literal|1
argument_list|)
operator|==
literal|0
condition|)
name|op
operator|=
name|ASM_OP_MOVL
operator|,
name|fmt
operator|=
name|ASM_FMT_X2
expr_stmt|;
break|break;
case|case
literal|0xC
case|:
if|if
condition|(
name|FIELD
argument_list|(
name|bits
argument_list|,
literal|6
argument_list|,
literal|3
argument_list|)
operator|==
literal|0
condition|)
comment|/* btype */
name|op
operator|=
name|ASM_OP_BRL_COND
operator|,
name|fmt
operator|=
name|ASM_FMT_X3
expr_stmt|;
break|break;
case|case
literal|0xD
case|:
name|op
operator|=
name|ASM_OP_BRL_CALL
operator|,
name|fmt
operator|=
name|ASM_FMT_X4
expr_stmt|;
break|break;
block|}
if|if
condition|(
name|op
operator|!=
name|ASM_OP_NONE
condition|)
return|return
operator|(
name|asm_extract
argument_list|(
name|op
argument_list|,
name|fmt
argument_list|,
name|bits
argument_list|,
name|b
argument_list|,
name|slot
argument_list|)
operator|)
return|;
return|return
operator|(
literal|0
operator|)
return|;
block|}
end_function

begin_function
name|int
name|asm_decode
parameter_list|(
name|uint64_t
name|ip
parameter_list|,
name|struct
name|asm_bundle
modifier|*
name|b
parameter_list|)
block|{
specifier|const
name|char
modifier|*
name|tp
decl_stmt|;
name|unsigned
name|int
name|slot
decl_stmt|;
name|int
name|ok
decl_stmt|;
name|memset
argument_list|(
name|b
argument_list|,
literal|0
argument_list|,
sizeof|sizeof
argument_list|(
operator|*
name|b
argument_list|)
argument_list|)
expr_stmt|;
name|b
operator|->
name|b_templ
operator|=
name|asm_templname
index|[
name|TMPL
argument_list|(
name|ip
argument_list|)
index|]
expr_stmt|;
if|if
condition|(
name|b
operator|->
name|b_templ
operator|==
literal|0
condition|)
return|return
operator|(
literal|0
operator|)
return|;
name|slot
operator|=
literal|0
expr_stmt|;
name|tp
operator|=
name|b
operator|->
name|b_templ
expr_stmt|;
name|ok
operator|=
literal|1
expr_stmt|;
while|while
condition|(
name|ok
operator|&&
operator|*
name|tp
operator|!=
literal|0
condition|)
block|{
switch|switch
condition|(
operator|*
name|tp
operator|++
condition|)
block|{
case|case
literal|'B'
case|:
name|ok
operator|=
name|asm_decodeB
argument_list|(
name|ip
argument_list|,
name|b
argument_list|,
name|slot
operator|++
argument_list|)
expr_stmt|;
break|break;
case|case
literal|'F'
case|:
name|ok
operator|=
name|asm_decodeF
argument_list|(
name|ip
argument_list|,
name|b
argument_list|,
name|slot
operator|++
argument_list|)
expr_stmt|;
break|break;
case|case
literal|'I'
case|:
name|ok
operator|=
name|asm_decodeI
argument_list|(
name|ip
argument_list|,
name|b
argument_list|,
name|slot
operator|++
argument_list|)
expr_stmt|;
break|break;
case|case
literal|'L'
case|:
name|ok
operator|=
operator|(
name|slot
operator|++
operator|==
literal|1
operator|)
condition|?
literal|1
else|:
literal|0
expr_stmt|;
break|break;
case|case
literal|'M'
case|:
name|ok
operator|=
name|asm_decodeM
argument_list|(
name|ip
argument_list|,
name|b
argument_list|,
name|slot
operator|++
argument_list|)
expr_stmt|;
break|break;
case|case
literal|'X'
case|:
name|ok
operator|=
name|asm_decodeX
argument_list|(
name|ip
argument_list|,
name|b
argument_list|,
name|slot
operator|++
argument_list|)
expr_stmt|;
break|break;
case|case
literal|';'
case|:
name|ok
operator|=
literal|1
expr_stmt|;
break|break;
default|default:
name|ok
operator|=
literal|0
expr_stmt|;
break|break;
block|}
block|}
return|return
operator|(
name|ok
operator|)
return|;
block|}
end_function

end_unit

