begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_include
include|#
directive|include
file|<sys/cdefs.h>
end_include

begin_expr_stmt
name|__FBSDID
argument_list|(
literal|"$FreeBSD$"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_define
define|#
directive|define
name|R100_TRACK_MAX_TEXTURE
value|3
end_define

begin_define
define|#
directive|define
name|R200_TRACK_MAX_TEXTURE
value|6
end_define

begin_define
define|#
directive|define
name|R300_TRACK_MAX_TEXTURE
value|16
end_define

begin_define
define|#
directive|define
name|R100_MAX_CB
value|1
end_define

begin_define
define|#
directive|define
name|R300_MAX_CB
value|4
end_define

begin_comment
comment|/*  * CS functions  */
end_comment

begin_struct
struct|struct
name|r100_cs_track_cb
block|{
name|struct
name|radeon_bo
modifier|*
name|robj
decl_stmt|;
name|unsigned
name|pitch
decl_stmt|;
name|unsigned
name|cpp
decl_stmt|;
name|unsigned
name|offset
decl_stmt|;
block|}
struct|;
end_struct

begin_struct
struct|struct
name|r100_cs_track_array
block|{
name|struct
name|radeon_bo
modifier|*
name|robj
decl_stmt|;
name|unsigned
name|esize
decl_stmt|;
block|}
struct|;
end_struct

begin_struct
struct|struct
name|r100_cs_cube_info
block|{
name|struct
name|radeon_bo
modifier|*
name|robj
decl_stmt|;
name|unsigned
name|offset
decl_stmt|;
name|unsigned
name|width
decl_stmt|;
name|unsigned
name|height
decl_stmt|;
block|}
struct|;
end_struct

begin_define
define|#
directive|define
name|R100_TRACK_COMP_NONE
value|0
end_define

begin_define
define|#
directive|define
name|R100_TRACK_COMP_DXT1
value|1
end_define

begin_define
define|#
directive|define
name|R100_TRACK_COMP_DXT35
value|2
end_define

begin_struct
struct|struct
name|r100_cs_track_texture
block|{
name|struct
name|radeon_bo
modifier|*
name|robj
decl_stmt|;
name|struct
name|r100_cs_cube_info
name|cube_info
index|[
literal|5
index|]
decl_stmt|;
comment|/* info for 5 non-primary faces */
name|unsigned
name|pitch
decl_stmt|;
name|unsigned
name|width
decl_stmt|;
name|unsigned
name|height
decl_stmt|;
name|unsigned
name|num_levels
decl_stmt|;
name|unsigned
name|cpp
decl_stmt|;
name|unsigned
name|tex_coord_type
decl_stmt|;
name|unsigned
name|txdepth
decl_stmt|;
name|unsigned
name|width_11
decl_stmt|;
name|unsigned
name|height_11
decl_stmt|;
name|bool
name|use_pitch
decl_stmt|;
name|bool
name|enabled
decl_stmt|;
name|bool
name|lookup_disable
decl_stmt|;
name|bool
name|roundup_w
decl_stmt|;
name|bool
name|roundup_h
decl_stmt|;
name|unsigned
name|compress_format
decl_stmt|;
block|}
struct|;
end_struct

begin_struct
struct|struct
name|r100_cs_track
block|{
name|unsigned
name|num_cb
decl_stmt|;
name|unsigned
name|num_texture
decl_stmt|;
name|unsigned
name|maxy
decl_stmt|;
name|unsigned
name|vtx_size
decl_stmt|;
name|unsigned
name|vap_vf_cntl
decl_stmt|;
name|unsigned
name|vap_alt_nverts
decl_stmt|;
name|unsigned
name|immd_dwords
decl_stmt|;
name|unsigned
name|num_arrays
decl_stmt|;
name|unsigned
name|max_indx
decl_stmt|;
name|unsigned
name|color_channel_mask
decl_stmt|;
name|struct
name|r100_cs_track_array
name|arrays
index|[
literal|16
index|]
decl_stmt|;
name|struct
name|r100_cs_track_cb
name|cb
index|[
name|R300_MAX_CB
index|]
decl_stmt|;
name|struct
name|r100_cs_track_cb
name|zb
decl_stmt|;
name|struct
name|r100_cs_track_cb
name|aa
decl_stmt|;
name|struct
name|r100_cs_track_texture
name|textures
index|[
name|R300_TRACK_MAX_TEXTURE
index|]
decl_stmt|;
name|bool
name|z_enabled
decl_stmt|;
name|bool
name|separate_cube
decl_stmt|;
name|bool
name|zb_cb_clear
decl_stmt|;
name|bool
name|blend_read_enable
decl_stmt|;
name|bool
name|cb_dirty
decl_stmt|;
name|bool
name|zb_dirty
decl_stmt|;
name|bool
name|tex_dirty
decl_stmt|;
name|bool
name|aa_dirty
decl_stmt|;
name|bool
name|aaresolve
decl_stmt|;
block|}
struct|;
end_struct

begin_function_decl
name|int
name|r100_cs_track_check
parameter_list|(
name|struct
name|radeon_device
modifier|*
name|rdev
parameter_list|,
name|struct
name|r100_cs_track
modifier|*
name|track
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|r100_cs_track_clear
parameter_list|(
name|struct
name|radeon_device
modifier|*
name|rdev
parameter_list|,
name|struct
name|r100_cs_track
modifier|*
name|track
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|r100_cs_packet_next_reloc
parameter_list|(
name|struct
name|radeon_cs_parser
modifier|*
name|p
parameter_list|,
name|struct
name|radeon_cs_reloc
modifier|*
modifier|*
name|cs_reloc
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|r100_cs_dump_packet
parameter_list|(
name|struct
name|radeon_cs_parser
modifier|*
name|p
parameter_list|,
name|struct
name|radeon_cs_packet
modifier|*
name|pkt
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|r100_cs_packet_parse_vline
parameter_list|(
name|struct
name|radeon_cs_parser
modifier|*
name|p
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|r200_packet0_check
parameter_list|(
name|struct
name|radeon_cs_parser
modifier|*
name|p
parameter_list|,
name|struct
name|radeon_cs_packet
modifier|*
name|pkt
parameter_list|,
name|unsigned
name|idx
parameter_list|,
name|unsigned
name|reg
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|r100_reloc_pitch_offset
parameter_list|(
name|struct
name|radeon_cs_parser
modifier|*
name|p
parameter_list|,
name|struct
name|radeon_cs_packet
modifier|*
name|pkt
parameter_list|,
name|unsigned
name|idx
parameter_list|,
name|unsigned
name|reg
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|r100_packet3_load_vbpntr
parameter_list|(
name|struct
name|radeon_cs_parser
modifier|*
name|p
parameter_list|,
name|struct
name|radeon_cs_packet
modifier|*
name|pkt
parameter_list|,
name|int
name|idx
parameter_list|)
function_decl|;
end_function_decl

end_unit

