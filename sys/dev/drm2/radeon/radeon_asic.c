begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*  * Copyright 2008 Advanced Micro Devices, Inc.  * Copyright 2008 Red Hat Inc.  * Copyright 2009 Jerome Glisse.  *  * Permission is hereby granted, free of charge, to any person obtaining a  * copy of this software and associated documentation files (the "Software"),  * to deal in the Software without restriction, including without limitation  * the rights to use, copy, modify, merge, publish, distribute, sublicense,  * and/or sell copies of the Software, and to permit persons to whom the  * Software is furnished to do so, subject to the following conditions:  *  * The above copyright notice and this permission notice shall be included in  * all copies or substantial portions of the Software.  *  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL  * THE COPYRIGHT HOLDER(S) OR AUTHOR(S) BE LIABLE FOR ANY CLAIM, DAMAGES OR  * OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,  * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR  * OTHER DEALINGS IN THE SOFTWARE.  *  * Authors: Dave Airlie  *          Alex Deucher  *          Jerome Glisse  */
end_comment

begin_include
include|#
directive|include
file|<sys/cdefs.h>
end_include

begin_expr_stmt
name|__FBSDID
argument_list|(
literal|"$FreeBSD$"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_include
include|#
directive|include
file|<dev/drm2/drmP.h>
end_include

begin_include
include|#
directive|include
file|<dev/drm2/drm_crtc_helper.h>
end_include

begin_include
include|#
directive|include
file|<dev/drm2/radeon/radeon_drm.h>
end_include

begin_include
include|#
directive|include
file|"radeon_reg.h"
end_include

begin_include
include|#
directive|include
file|"radeon.h"
end_include

begin_include
include|#
directive|include
file|"radeon_asic.h"
end_include

begin_include
include|#
directive|include
file|"atom.h"
end_include

begin_comment
comment|/*  * Registers accessors functions.  */
end_comment

begin_comment
comment|/**  * radeon_invalid_rreg - dummy reg read function  *  * @rdev: radeon device pointer  * @reg: offset of register  *  * Dummy register read function.  Used for register blocks  * that certain asics don't have (all asics).  * Returns the value in the register.  */
end_comment

begin_function
specifier|static
name|uint32_t
name|radeon_invalid_rreg
parameter_list|(
name|struct
name|radeon_device
modifier|*
name|rdev
parameter_list|,
name|uint32_t
name|reg
parameter_list|)
block|{
name|panic
argument_list|(
literal|"Invalid callback to read register 0x%04X\n"
argument_list|,
name|reg
argument_list|)
expr_stmt|;
return|return
literal|0
return|;
block|}
end_function

begin_comment
comment|/**  * radeon_invalid_wreg - dummy reg write function  *  * @rdev: radeon device pointer  * @reg: offset of register  * @v: value to write to the register  *  * Dummy register read function.  Used for register blocks  * that certain asics don't have (all asics).  */
end_comment

begin_function
specifier|static
name|void
name|radeon_invalid_wreg
parameter_list|(
name|struct
name|radeon_device
modifier|*
name|rdev
parameter_list|,
name|uint32_t
name|reg
parameter_list|,
name|uint32_t
name|v
parameter_list|)
block|{
name|panic
argument_list|(
literal|"Invalid callback to write register 0x%04X with 0x%08X\n"
argument_list|,
name|reg
argument_list|,
name|v
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  * radeon_register_accessor_init - sets up the register accessor callbacks  *  * @rdev: radeon device pointer  *  * Sets up the register accessor callbacks for various register  * apertures.  Not all asics have all apertures (all asics).  */
end_comment

begin_function
specifier|static
name|void
name|radeon_register_accessor_init
parameter_list|(
name|struct
name|radeon_device
modifier|*
name|rdev
parameter_list|)
block|{
name|rdev
operator|->
name|mc_rreg
operator|=
operator|&
name|radeon_invalid_rreg
expr_stmt|;
name|rdev
operator|->
name|mc_wreg
operator|=
operator|&
name|radeon_invalid_wreg
expr_stmt|;
name|rdev
operator|->
name|pll_rreg
operator|=
operator|&
name|radeon_invalid_rreg
expr_stmt|;
name|rdev
operator|->
name|pll_wreg
operator|=
operator|&
name|radeon_invalid_wreg
expr_stmt|;
name|rdev
operator|->
name|pciep_rreg
operator|=
operator|&
name|radeon_invalid_rreg
expr_stmt|;
name|rdev
operator|->
name|pciep_wreg
operator|=
operator|&
name|radeon_invalid_wreg
expr_stmt|;
comment|/* Don't change order as we are overridding accessor. */
if|if
condition|(
name|rdev
operator|->
name|family
operator|<
name|CHIP_RV515
condition|)
block|{
name|rdev
operator|->
name|pcie_reg_mask
operator|=
literal|0xff
expr_stmt|;
block|}
else|else
block|{
name|rdev
operator|->
name|pcie_reg_mask
operator|=
literal|0x7ff
expr_stmt|;
block|}
comment|/* FIXME: not sure here */
if|if
condition|(
name|rdev
operator|->
name|family
operator|<=
name|CHIP_R580
condition|)
block|{
name|rdev
operator|->
name|pll_rreg
operator|=
operator|&
name|r100_pll_rreg
expr_stmt|;
name|rdev
operator|->
name|pll_wreg
operator|=
operator|&
name|r100_pll_wreg
expr_stmt|;
block|}
if|if
condition|(
name|rdev
operator|->
name|family
operator|>=
name|CHIP_R420
condition|)
block|{
name|rdev
operator|->
name|mc_rreg
operator|=
operator|&
name|r420_mc_rreg
expr_stmt|;
name|rdev
operator|->
name|mc_wreg
operator|=
operator|&
name|r420_mc_wreg
expr_stmt|;
block|}
if|if
condition|(
name|rdev
operator|->
name|family
operator|>=
name|CHIP_RV515
condition|)
block|{
name|rdev
operator|->
name|mc_rreg
operator|=
operator|&
name|rv515_mc_rreg
expr_stmt|;
name|rdev
operator|->
name|mc_wreg
operator|=
operator|&
name|rv515_mc_wreg
expr_stmt|;
block|}
if|if
condition|(
name|rdev
operator|->
name|family
operator|==
name|CHIP_RS400
operator|||
name|rdev
operator|->
name|family
operator|==
name|CHIP_RS480
condition|)
block|{
name|rdev
operator|->
name|mc_rreg
operator|=
operator|&
name|rs400_mc_rreg
expr_stmt|;
name|rdev
operator|->
name|mc_wreg
operator|=
operator|&
name|rs400_mc_wreg
expr_stmt|;
block|}
if|if
condition|(
name|rdev
operator|->
name|family
operator|==
name|CHIP_RS690
operator|||
name|rdev
operator|->
name|family
operator|==
name|CHIP_RS740
condition|)
block|{
name|rdev
operator|->
name|mc_rreg
operator|=
operator|&
name|rs690_mc_rreg
expr_stmt|;
name|rdev
operator|->
name|mc_wreg
operator|=
operator|&
name|rs690_mc_wreg
expr_stmt|;
block|}
if|if
condition|(
name|rdev
operator|->
name|family
operator|==
name|CHIP_RS600
condition|)
block|{
name|rdev
operator|->
name|mc_rreg
operator|=
operator|&
name|rs600_mc_rreg
expr_stmt|;
name|rdev
operator|->
name|mc_wreg
operator|=
operator|&
name|rs600_mc_wreg
expr_stmt|;
block|}
if|if
condition|(
name|rdev
operator|->
name|family
operator|>=
name|CHIP_R600
condition|)
block|{
name|rdev
operator|->
name|pciep_rreg
operator|=
operator|&
name|r600_pciep_rreg
expr_stmt|;
name|rdev
operator|->
name|pciep_wreg
operator|=
operator|&
name|r600_pciep_wreg
expr_stmt|;
block|}
block|}
end_function

begin_comment
comment|/* helper to disable agp */
end_comment

begin_comment
comment|/**  * radeon_agp_disable - AGP disable helper function  *  * @rdev: radeon device pointer  *  * Removes AGP flags and changes the gart callbacks on AGP  * cards when using the internal gart rather than AGP (all asics).  */
end_comment

begin_function
name|void
name|radeon_agp_disable
parameter_list|(
name|struct
name|radeon_device
modifier|*
name|rdev
parameter_list|)
block|{
name|rdev
operator|->
name|flags
operator|&=
operator|~
name|RADEON_IS_AGP
expr_stmt|;
if|if
condition|(
name|rdev
operator|->
name|family
operator|>=
name|CHIP_R600
condition|)
block|{
name|DRM_INFO
argument_list|(
literal|"Forcing AGP to PCIE mode\n"
argument_list|)
expr_stmt|;
name|rdev
operator|->
name|flags
operator||=
name|RADEON_IS_PCIE
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|rdev
operator|->
name|family
operator|>=
name|CHIP_RV515
operator|||
name|rdev
operator|->
name|family
operator|==
name|CHIP_RV380
operator|||
name|rdev
operator|->
name|family
operator|==
name|CHIP_RV410
operator|||
name|rdev
operator|->
name|family
operator|==
name|CHIP_R423
condition|)
block|{
name|DRM_INFO
argument_list|(
literal|"Forcing AGP to PCIE mode\n"
argument_list|)
expr_stmt|;
name|rdev
operator|->
name|flags
operator||=
name|RADEON_IS_PCIE
expr_stmt|;
name|rdev
operator|->
name|asic
operator|->
name|gart
operator|.
name|tlb_flush
operator|=
operator|&
name|rv370_pcie_gart_tlb_flush
expr_stmt|;
name|rdev
operator|->
name|asic
operator|->
name|gart
operator|.
name|set_page
operator|=
operator|&
name|rv370_pcie_gart_set_page
expr_stmt|;
block|}
else|else
block|{
name|DRM_INFO
argument_list|(
literal|"Forcing AGP to PCI mode\n"
argument_list|)
expr_stmt|;
name|rdev
operator|->
name|flags
operator||=
name|RADEON_IS_PCI
expr_stmt|;
name|rdev
operator|->
name|asic
operator|->
name|gart
operator|.
name|tlb_flush
operator|=
operator|&
name|r100_pci_gart_tlb_flush
expr_stmt|;
name|rdev
operator|->
name|asic
operator|->
name|gart
operator|.
name|set_page
operator|=
operator|&
name|r100_pci_gart_set_page
expr_stmt|;
block|}
name|rdev
operator|->
name|mc
operator|.
name|gtt_size
operator|=
name|radeon_gart_size
operator|*
literal|1024
operator|*
literal|1024
expr_stmt|;
block|}
end_function

begin_comment
comment|/*  * ASIC  */
end_comment

begin_decl_stmt
specifier|static
name|struct
name|radeon_asic
name|r100_asic
init|=
block|{
operator|.
name|init
operator|=
operator|&
name|r100_init
block|,
operator|.
name|fini
operator|=
operator|&
name|r100_fini
block|,
operator|.
name|suspend
operator|=
operator|&
name|r100_suspend
block|,
operator|.
name|resume
operator|=
operator|&
name|r100_resume
block|,
operator|.
name|vga_set_state
operator|=
operator|&
name|r100_vga_set_state
block|,
operator|.
name|asic_reset
operator|=
operator|&
name|r100_asic_reset
block|,
operator|.
name|ioctl_wait_idle
operator|=
name|NULL
block|,
operator|.
name|gui_idle
operator|=
operator|&
name|r100_gui_idle
block|,
operator|.
name|mc_wait_for_idle
operator|=
operator|&
name|r100_mc_wait_for_idle
block|,
operator|.
name|gart
operator|=
block|{
operator|.
name|tlb_flush
operator|=
operator|&
name|r100_pci_gart_tlb_flush
block|,
operator|.
name|set_page
operator|=
operator|&
name|r100_pci_gart_set_page
block|, 	}
block|,
operator|.
name|ring
operator|=
block|{
index|[
name|RADEON_RING_TYPE_GFX_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|r100_ring_ib_execute
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|r100_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r100_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|r100_cs_parse
block|,
operator|.
name|ring_start
operator|=
operator|&
name|r100_ring_start
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r100_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r100_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|r100_gpu_is_lockup
block|, 		}
block|}
block|,
operator|.
name|irq
operator|=
block|{
operator|.
name|set
operator|=
operator|&
name|r100_irq_set
block|,
operator|.
name|process
operator|=
operator|&
name|r100_irq_process
block|, 	}
block|,
operator|.
name|display
operator|=
block|{
operator|.
name|bandwidth_update
operator|=
operator|&
name|r100_bandwidth_update
block|,
operator|.
name|get_vblank_counter
operator|=
operator|&
name|r100_get_vblank_counter
block|,
operator|.
name|wait_for_vblank
operator|=
operator|&
name|r100_wait_for_vblank
block|,
operator|.
name|set_backlight_level
operator|=
operator|&
name|radeon_legacy_set_backlight_level
block|,
operator|.
name|get_backlight_level
operator|=
operator|&
name|radeon_legacy_get_backlight_level
block|, 	}
block|,
operator|.
name|copy
operator|=
block|{
operator|.
name|blit
operator|=
operator|&
name|r100_copy_blit
block|,
operator|.
name|blit_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|dma
operator|=
name|NULL
block|,
operator|.
name|dma_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|copy
operator|=
operator|&
name|r100_copy_blit
block|,
operator|.
name|copy_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|, 	}
block|,
operator|.
name|surface
operator|=
block|{
operator|.
name|set_reg
operator|=
name|r100_set_surface_reg
block|,
operator|.
name|clear_reg
operator|=
name|r100_clear_surface_reg
block|, 	}
block|,
operator|.
name|hpd
operator|=
block|{
operator|.
name|init
operator|=
operator|&
name|r100_hpd_init
block|,
operator|.
name|fini
operator|=
operator|&
name|r100_hpd_fini
block|,
operator|.
name|sense
operator|=
operator|&
name|r100_hpd_sense
block|,
operator|.
name|set_polarity
operator|=
operator|&
name|r100_hpd_set_polarity
block|, 	}
block|,
operator|.
name|pm
operator|=
block|{
operator|.
name|misc
operator|=
operator|&
name|r100_pm_misc
block|,
operator|.
name|prepare
operator|=
operator|&
name|r100_pm_prepare
block|,
operator|.
name|finish
operator|=
operator|&
name|r100_pm_finish
block|,
operator|.
name|init_profile
operator|=
operator|&
name|r100_pm_init_profile
block|,
operator|.
name|get_dynpm_state
operator|=
operator|&
name|r100_pm_get_dynpm_state
block|,
operator|.
name|get_engine_clock
operator|=
operator|&
name|radeon_legacy_get_engine_clock
block|,
operator|.
name|set_engine_clock
operator|=
operator|&
name|radeon_legacy_set_engine_clock
block|,
operator|.
name|get_memory_clock
operator|=
operator|&
name|radeon_legacy_get_memory_clock
block|,
operator|.
name|set_memory_clock
operator|=
name|NULL
block|,
operator|.
name|get_pcie_lanes
operator|=
name|NULL
block|,
operator|.
name|set_pcie_lanes
operator|=
name|NULL
block|,
operator|.
name|set_clock_gating
operator|=
operator|&
name|radeon_legacy_set_clock_gating
block|, 	}
block|,
operator|.
name|pflip
operator|=
block|{
operator|.
name|pre_page_flip
operator|=
operator|&
name|r100_pre_page_flip
block|,
operator|.
name|page_flip
operator|=
operator|&
name|r100_page_flip
block|,
operator|.
name|post_page_flip
operator|=
operator|&
name|r100_post_page_flip
block|, 	}
block|, }
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|struct
name|radeon_asic
name|r200_asic
init|=
block|{
operator|.
name|init
operator|=
operator|&
name|r100_init
block|,
operator|.
name|fini
operator|=
operator|&
name|r100_fini
block|,
operator|.
name|suspend
operator|=
operator|&
name|r100_suspend
block|,
operator|.
name|resume
operator|=
operator|&
name|r100_resume
block|,
operator|.
name|vga_set_state
operator|=
operator|&
name|r100_vga_set_state
block|,
operator|.
name|asic_reset
operator|=
operator|&
name|r100_asic_reset
block|,
operator|.
name|ioctl_wait_idle
operator|=
name|NULL
block|,
operator|.
name|gui_idle
operator|=
operator|&
name|r100_gui_idle
block|,
operator|.
name|mc_wait_for_idle
operator|=
operator|&
name|r100_mc_wait_for_idle
block|,
operator|.
name|gart
operator|=
block|{
operator|.
name|tlb_flush
operator|=
operator|&
name|r100_pci_gart_tlb_flush
block|,
operator|.
name|set_page
operator|=
operator|&
name|r100_pci_gart_set_page
block|, 	}
block|,
operator|.
name|ring
operator|=
block|{
index|[
name|RADEON_RING_TYPE_GFX_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|r100_ring_ib_execute
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|r100_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r100_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|r100_cs_parse
block|,
operator|.
name|ring_start
operator|=
operator|&
name|r100_ring_start
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r100_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r100_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|r100_gpu_is_lockup
block|, 		}
block|}
block|,
operator|.
name|irq
operator|=
block|{
operator|.
name|set
operator|=
operator|&
name|r100_irq_set
block|,
operator|.
name|process
operator|=
operator|&
name|r100_irq_process
block|, 	}
block|,
operator|.
name|display
operator|=
block|{
operator|.
name|bandwidth_update
operator|=
operator|&
name|r100_bandwidth_update
block|,
operator|.
name|get_vblank_counter
operator|=
operator|&
name|r100_get_vblank_counter
block|,
operator|.
name|wait_for_vblank
operator|=
operator|&
name|r100_wait_for_vblank
block|,
operator|.
name|set_backlight_level
operator|=
operator|&
name|radeon_legacy_set_backlight_level
block|,
operator|.
name|get_backlight_level
operator|=
operator|&
name|radeon_legacy_get_backlight_level
block|, 	}
block|,
operator|.
name|copy
operator|=
block|{
operator|.
name|blit
operator|=
operator|&
name|r100_copy_blit
block|,
operator|.
name|blit_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|dma
operator|=
operator|&
name|r200_copy_dma
block|,
operator|.
name|dma_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|copy
operator|=
operator|&
name|r100_copy_blit
block|,
operator|.
name|copy_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|, 	}
block|,
operator|.
name|surface
operator|=
block|{
operator|.
name|set_reg
operator|=
name|r100_set_surface_reg
block|,
operator|.
name|clear_reg
operator|=
name|r100_clear_surface_reg
block|, 	}
block|,
operator|.
name|hpd
operator|=
block|{
operator|.
name|init
operator|=
operator|&
name|r100_hpd_init
block|,
operator|.
name|fini
operator|=
operator|&
name|r100_hpd_fini
block|,
operator|.
name|sense
operator|=
operator|&
name|r100_hpd_sense
block|,
operator|.
name|set_polarity
operator|=
operator|&
name|r100_hpd_set_polarity
block|, 	}
block|,
operator|.
name|pm
operator|=
block|{
operator|.
name|misc
operator|=
operator|&
name|r100_pm_misc
block|,
operator|.
name|prepare
operator|=
operator|&
name|r100_pm_prepare
block|,
operator|.
name|finish
operator|=
operator|&
name|r100_pm_finish
block|,
operator|.
name|init_profile
operator|=
operator|&
name|r100_pm_init_profile
block|,
operator|.
name|get_dynpm_state
operator|=
operator|&
name|r100_pm_get_dynpm_state
block|,
operator|.
name|get_engine_clock
operator|=
operator|&
name|radeon_legacy_get_engine_clock
block|,
operator|.
name|set_engine_clock
operator|=
operator|&
name|radeon_legacy_set_engine_clock
block|,
operator|.
name|get_memory_clock
operator|=
operator|&
name|radeon_legacy_get_memory_clock
block|,
operator|.
name|set_memory_clock
operator|=
name|NULL
block|,
operator|.
name|get_pcie_lanes
operator|=
name|NULL
block|,
operator|.
name|set_pcie_lanes
operator|=
name|NULL
block|,
operator|.
name|set_clock_gating
operator|=
operator|&
name|radeon_legacy_set_clock_gating
block|, 	}
block|,
operator|.
name|pflip
operator|=
block|{
operator|.
name|pre_page_flip
operator|=
operator|&
name|r100_pre_page_flip
block|,
operator|.
name|page_flip
operator|=
operator|&
name|r100_page_flip
block|,
operator|.
name|post_page_flip
operator|=
operator|&
name|r100_post_page_flip
block|, 	}
block|, }
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|struct
name|radeon_asic
name|r300_asic
init|=
block|{
operator|.
name|init
operator|=
operator|&
name|r300_init
block|,
operator|.
name|fini
operator|=
operator|&
name|r300_fini
block|,
operator|.
name|suspend
operator|=
operator|&
name|r300_suspend
block|,
operator|.
name|resume
operator|=
operator|&
name|r300_resume
block|,
operator|.
name|vga_set_state
operator|=
operator|&
name|r100_vga_set_state
block|,
operator|.
name|asic_reset
operator|=
operator|&
name|r300_asic_reset
block|,
operator|.
name|ioctl_wait_idle
operator|=
name|NULL
block|,
operator|.
name|gui_idle
operator|=
operator|&
name|r100_gui_idle
block|,
operator|.
name|mc_wait_for_idle
operator|=
operator|&
name|r300_mc_wait_for_idle
block|,
operator|.
name|gart
operator|=
block|{
operator|.
name|tlb_flush
operator|=
operator|&
name|r100_pci_gart_tlb_flush
block|,
operator|.
name|set_page
operator|=
operator|&
name|r100_pci_gart_set_page
block|, 	}
block|,
operator|.
name|ring
operator|=
block|{
index|[
name|RADEON_RING_TYPE_GFX_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|r100_ring_ib_execute
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|r300_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r100_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|r300_cs_parse
block|,
operator|.
name|ring_start
operator|=
operator|&
name|r300_ring_start
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r100_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r100_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|r100_gpu_is_lockup
block|, 		}
block|}
block|,
operator|.
name|irq
operator|=
block|{
operator|.
name|set
operator|=
operator|&
name|r100_irq_set
block|,
operator|.
name|process
operator|=
operator|&
name|r100_irq_process
block|, 	}
block|,
operator|.
name|display
operator|=
block|{
operator|.
name|bandwidth_update
operator|=
operator|&
name|r100_bandwidth_update
block|,
operator|.
name|get_vblank_counter
operator|=
operator|&
name|r100_get_vblank_counter
block|,
operator|.
name|wait_for_vblank
operator|=
operator|&
name|r100_wait_for_vblank
block|,
operator|.
name|set_backlight_level
operator|=
operator|&
name|radeon_legacy_set_backlight_level
block|,
operator|.
name|get_backlight_level
operator|=
operator|&
name|radeon_legacy_get_backlight_level
block|, 	}
block|,
operator|.
name|copy
operator|=
block|{
operator|.
name|blit
operator|=
operator|&
name|r100_copy_blit
block|,
operator|.
name|blit_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|dma
operator|=
operator|&
name|r200_copy_dma
block|,
operator|.
name|dma_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|copy
operator|=
operator|&
name|r100_copy_blit
block|,
operator|.
name|copy_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|, 	}
block|,
operator|.
name|surface
operator|=
block|{
operator|.
name|set_reg
operator|=
name|r100_set_surface_reg
block|,
operator|.
name|clear_reg
operator|=
name|r100_clear_surface_reg
block|, 	}
block|,
operator|.
name|hpd
operator|=
block|{
operator|.
name|init
operator|=
operator|&
name|r100_hpd_init
block|,
operator|.
name|fini
operator|=
operator|&
name|r100_hpd_fini
block|,
operator|.
name|sense
operator|=
operator|&
name|r100_hpd_sense
block|,
operator|.
name|set_polarity
operator|=
operator|&
name|r100_hpd_set_polarity
block|, 	}
block|,
operator|.
name|pm
operator|=
block|{
operator|.
name|misc
operator|=
operator|&
name|r100_pm_misc
block|,
operator|.
name|prepare
operator|=
operator|&
name|r100_pm_prepare
block|,
operator|.
name|finish
operator|=
operator|&
name|r100_pm_finish
block|,
operator|.
name|init_profile
operator|=
operator|&
name|r100_pm_init_profile
block|,
operator|.
name|get_dynpm_state
operator|=
operator|&
name|r100_pm_get_dynpm_state
block|,
operator|.
name|get_engine_clock
operator|=
operator|&
name|radeon_legacy_get_engine_clock
block|,
operator|.
name|set_engine_clock
operator|=
operator|&
name|radeon_legacy_set_engine_clock
block|,
operator|.
name|get_memory_clock
operator|=
operator|&
name|radeon_legacy_get_memory_clock
block|,
operator|.
name|set_memory_clock
operator|=
name|NULL
block|,
operator|.
name|get_pcie_lanes
operator|=
operator|&
name|rv370_get_pcie_lanes
block|,
operator|.
name|set_pcie_lanes
operator|=
operator|&
name|rv370_set_pcie_lanes
block|,
operator|.
name|set_clock_gating
operator|=
operator|&
name|radeon_legacy_set_clock_gating
block|, 	}
block|,
operator|.
name|pflip
operator|=
block|{
operator|.
name|pre_page_flip
operator|=
operator|&
name|r100_pre_page_flip
block|,
operator|.
name|page_flip
operator|=
operator|&
name|r100_page_flip
block|,
operator|.
name|post_page_flip
operator|=
operator|&
name|r100_post_page_flip
block|, 	}
block|, }
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|struct
name|radeon_asic
name|r300_asic_pcie
init|=
block|{
operator|.
name|init
operator|=
operator|&
name|r300_init
block|,
operator|.
name|fini
operator|=
operator|&
name|r300_fini
block|,
operator|.
name|suspend
operator|=
operator|&
name|r300_suspend
block|,
operator|.
name|resume
operator|=
operator|&
name|r300_resume
block|,
operator|.
name|vga_set_state
operator|=
operator|&
name|r100_vga_set_state
block|,
operator|.
name|asic_reset
operator|=
operator|&
name|r300_asic_reset
block|,
operator|.
name|ioctl_wait_idle
operator|=
name|NULL
block|,
operator|.
name|gui_idle
operator|=
operator|&
name|r100_gui_idle
block|,
operator|.
name|mc_wait_for_idle
operator|=
operator|&
name|r300_mc_wait_for_idle
block|,
operator|.
name|gart
operator|=
block|{
operator|.
name|tlb_flush
operator|=
operator|&
name|rv370_pcie_gart_tlb_flush
block|,
operator|.
name|set_page
operator|=
operator|&
name|rv370_pcie_gart_set_page
block|, 	}
block|,
operator|.
name|ring
operator|=
block|{
index|[
name|RADEON_RING_TYPE_GFX_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|r100_ring_ib_execute
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|r300_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r100_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|r300_cs_parse
block|,
operator|.
name|ring_start
operator|=
operator|&
name|r300_ring_start
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r100_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r100_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|r100_gpu_is_lockup
block|, 		}
block|}
block|,
operator|.
name|irq
operator|=
block|{
operator|.
name|set
operator|=
operator|&
name|r100_irq_set
block|,
operator|.
name|process
operator|=
operator|&
name|r100_irq_process
block|, 	}
block|,
operator|.
name|display
operator|=
block|{
operator|.
name|bandwidth_update
operator|=
operator|&
name|r100_bandwidth_update
block|,
operator|.
name|get_vblank_counter
operator|=
operator|&
name|r100_get_vblank_counter
block|,
operator|.
name|wait_for_vblank
operator|=
operator|&
name|r100_wait_for_vblank
block|,
operator|.
name|set_backlight_level
operator|=
operator|&
name|radeon_legacy_set_backlight_level
block|,
operator|.
name|get_backlight_level
operator|=
operator|&
name|radeon_legacy_get_backlight_level
block|, 	}
block|,
operator|.
name|copy
operator|=
block|{
operator|.
name|blit
operator|=
operator|&
name|r100_copy_blit
block|,
operator|.
name|blit_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|dma
operator|=
operator|&
name|r200_copy_dma
block|,
operator|.
name|dma_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|copy
operator|=
operator|&
name|r100_copy_blit
block|,
operator|.
name|copy_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|, 	}
block|,
operator|.
name|surface
operator|=
block|{
operator|.
name|set_reg
operator|=
name|r100_set_surface_reg
block|,
operator|.
name|clear_reg
operator|=
name|r100_clear_surface_reg
block|, 	}
block|,
operator|.
name|hpd
operator|=
block|{
operator|.
name|init
operator|=
operator|&
name|r100_hpd_init
block|,
operator|.
name|fini
operator|=
operator|&
name|r100_hpd_fini
block|,
operator|.
name|sense
operator|=
operator|&
name|r100_hpd_sense
block|,
operator|.
name|set_polarity
operator|=
operator|&
name|r100_hpd_set_polarity
block|, 	}
block|,
operator|.
name|pm
operator|=
block|{
operator|.
name|misc
operator|=
operator|&
name|r100_pm_misc
block|,
operator|.
name|prepare
operator|=
operator|&
name|r100_pm_prepare
block|,
operator|.
name|finish
operator|=
operator|&
name|r100_pm_finish
block|,
operator|.
name|init_profile
operator|=
operator|&
name|r100_pm_init_profile
block|,
operator|.
name|get_dynpm_state
operator|=
operator|&
name|r100_pm_get_dynpm_state
block|,
operator|.
name|get_engine_clock
operator|=
operator|&
name|radeon_legacy_get_engine_clock
block|,
operator|.
name|set_engine_clock
operator|=
operator|&
name|radeon_legacy_set_engine_clock
block|,
operator|.
name|get_memory_clock
operator|=
operator|&
name|radeon_legacy_get_memory_clock
block|,
operator|.
name|set_memory_clock
operator|=
name|NULL
block|,
operator|.
name|get_pcie_lanes
operator|=
operator|&
name|rv370_get_pcie_lanes
block|,
operator|.
name|set_pcie_lanes
operator|=
operator|&
name|rv370_set_pcie_lanes
block|,
operator|.
name|set_clock_gating
operator|=
operator|&
name|radeon_legacy_set_clock_gating
block|, 	}
block|,
operator|.
name|pflip
operator|=
block|{
operator|.
name|pre_page_flip
operator|=
operator|&
name|r100_pre_page_flip
block|,
operator|.
name|page_flip
operator|=
operator|&
name|r100_page_flip
block|,
operator|.
name|post_page_flip
operator|=
operator|&
name|r100_post_page_flip
block|, 	}
block|, }
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|struct
name|radeon_asic
name|r420_asic
init|=
block|{
operator|.
name|init
operator|=
operator|&
name|r420_init
block|,
operator|.
name|fini
operator|=
operator|&
name|r420_fini
block|,
operator|.
name|suspend
operator|=
operator|&
name|r420_suspend
block|,
operator|.
name|resume
operator|=
operator|&
name|r420_resume
block|,
operator|.
name|vga_set_state
operator|=
operator|&
name|r100_vga_set_state
block|,
operator|.
name|asic_reset
operator|=
operator|&
name|r300_asic_reset
block|,
operator|.
name|ioctl_wait_idle
operator|=
name|NULL
block|,
operator|.
name|gui_idle
operator|=
operator|&
name|r100_gui_idle
block|,
operator|.
name|mc_wait_for_idle
operator|=
operator|&
name|r300_mc_wait_for_idle
block|,
operator|.
name|gart
operator|=
block|{
operator|.
name|tlb_flush
operator|=
operator|&
name|rv370_pcie_gart_tlb_flush
block|,
operator|.
name|set_page
operator|=
operator|&
name|rv370_pcie_gart_set_page
block|, 	}
block|,
operator|.
name|ring
operator|=
block|{
index|[
name|RADEON_RING_TYPE_GFX_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|r100_ring_ib_execute
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|r300_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r100_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|r300_cs_parse
block|,
operator|.
name|ring_start
operator|=
operator|&
name|r300_ring_start
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r100_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r100_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|r100_gpu_is_lockup
block|, 		}
block|}
block|,
operator|.
name|irq
operator|=
block|{
operator|.
name|set
operator|=
operator|&
name|r100_irq_set
block|,
operator|.
name|process
operator|=
operator|&
name|r100_irq_process
block|, 	}
block|,
operator|.
name|display
operator|=
block|{
operator|.
name|bandwidth_update
operator|=
operator|&
name|r100_bandwidth_update
block|,
operator|.
name|get_vblank_counter
operator|=
operator|&
name|r100_get_vblank_counter
block|,
operator|.
name|wait_for_vblank
operator|=
operator|&
name|r100_wait_for_vblank
block|,
operator|.
name|set_backlight_level
operator|=
operator|&
name|atombios_set_backlight_level
block|,
operator|.
name|get_backlight_level
operator|=
operator|&
name|atombios_get_backlight_level
block|, 	}
block|,
operator|.
name|copy
operator|=
block|{
operator|.
name|blit
operator|=
operator|&
name|r100_copy_blit
block|,
operator|.
name|blit_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|dma
operator|=
operator|&
name|r200_copy_dma
block|,
operator|.
name|dma_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|copy
operator|=
operator|&
name|r100_copy_blit
block|,
operator|.
name|copy_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|, 	}
block|,
operator|.
name|surface
operator|=
block|{
operator|.
name|set_reg
operator|=
name|r100_set_surface_reg
block|,
operator|.
name|clear_reg
operator|=
name|r100_clear_surface_reg
block|, 	}
block|,
operator|.
name|hpd
operator|=
block|{
operator|.
name|init
operator|=
operator|&
name|r100_hpd_init
block|,
operator|.
name|fini
operator|=
operator|&
name|r100_hpd_fini
block|,
operator|.
name|sense
operator|=
operator|&
name|r100_hpd_sense
block|,
operator|.
name|set_polarity
operator|=
operator|&
name|r100_hpd_set_polarity
block|, 	}
block|,
operator|.
name|pm
operator|=
block|{
operator|.
name|misc
operator|=
operator|&
name|r100_pm_misc
block|,
operator|.
name|prepare
operator|=
operator|&
name|r100_pm_prepare
block|,
operator|.
name|finish
operator|=
operator|&
name|r100_pm_finish
block|,
operator|.
name|init_profile
operator|=
operator|&
name|r420_pm_init_profile
block|,
operator|.
name|get_dynpm_state
operator|=
operator|&
name|r100_pm_get_dynpm_state
block|,
operator|.
name|get_engine_clock
operator|=
operator|&
name|radeon_atom_get_engine_clock
block|,
operator|.
name|set_engine_clock
operator|=
operator|&
name|radeon_atom_set_engine_clock
block|,
operator|.
name|get_memory_clock
operator|=
operator|&
name|radeon_atom_get_memory_clock
block|,
operator|.
name|set_memory_clock
operator|=
operator|&
name|radeon_atom_set_memory_clock
block|,
operator|.
name|get_pcie_lanes
operator|=
operator|&
name|rv370_get_pcie_lanes
block|,
operator|.
name|set_pcie_lanes
operator|=
operator|&
name|rv370_set_pcie_lanes
block|,
operator|.
name|set_clock_gating
operator|=
operator|&
name|radeon_atom_set_clock_gating
block|, 	}
block|,
operator|.
name|pflip
operator|=
block|{
operator|.
name|pre_page_flip
operator|=
operator|&
name|r100_pre_page_flip
block|,
operator|.
name|page_flip
operator|=
operator|&
name|r100_page_flip
block|,
operator|.
name|post_page_flip
operator|=
operator|&
name|r100_post_page_flip
block|, 	}
block|, }
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|struct
name|radeon_asic
name|rs400_asic
init|=
block|{
operator|.
name|init
operator|=
operator|&
name|rs400_init
block|,
operator|.
name|fini
operator|=
operator|&
name|rs400_fini
block|,
operator|.
name|suspend
operator|=
operator|&
name|rs400_suspend
block|,
operator|.
name|resume
operator|=
operator|&
name|rs400_resume
block|,
operator|.
name|vga_set_state
operator|=
operator|&
name|r100_vga_set_state
block|,
operator|.
name|asic_reset
operator|=
operator|&
name|r300_asic_reset
block|,
operator|.
name|ioctl_wait_idle
operator|=
name|NULL
block|,
operator|.
name|gui_idle
operator|=
operator|&
name|r100_gui_idle
block|,
operator|.
name|mc_wait_for_idle
operator|=
operator|&
name|rs400_mc_wait_for_idle
block|,
operator|.
name|gart
operator|=
block|{
operator|.
name|tlb_flush
operator|=
operator|&
name|rs400_gart_tlb_flush
block|,
operator|.
name|set_page
operator|=
operator|&
name|rs400_gart_set_page
block|, 	}
block|,
operator|.
name|ring
operator|=
block|{
index|[
name|RADEON_RING_TYPE_GFX_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|r100_ring_ib_execute
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|r300_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r100_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|r300_cs_parse
block|,
operator|.
name|ring_start
operator|=
operator|&
name|r300_ring_start
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r100_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r100_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|r100_gpu_is_lockup
block|, 		}
block|}
block|,
operator|.
name|irq
operator|=
block|{
operator|.
name|set
operator|=
operator|&
name|r100_irq_set
block|,
operator|.
name|process
operator|=
operator|&
name|r100_irq_process
block|, 	}
block|,
operator|.
name|display
operator|=
block|{
operator|.
name|bandwidth_update
operator|=
operator|&
name|r100_bandwidth_update
block|,
operator|.
name|get_vblank_counter
operator|=
operator|&
name|r100_get_vblank_counter
block|,
operator|.
name|wait_for_vblank
operator|=
operator|&
name|r100_wait_for_vblank
block|,
operator|.
name|set_backlight_level
operator|=
operator|&
name|radeon_legacy_set_backlight_level
block|,
operator|.
name|get_backlight_level
operator|=
operator|&
name|radeon_legacy_get_backlight_level
block|, 	}
block|,
operator|.
name|copy
operator|=
block|{
operator|.
name|blit
operator|=
operator|&
name|r100_copy_blit
block|,
operator|.
name|blit_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|dma
operator|=
operator|&
name|r200_copy_dma
block|,
operator|.
name|dma_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|copy
operator|=
operator|&
name|r100_copy_blit
block|,
operator|.
name|copy_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|, 	}
block|,
operator|.
name|surface
operator|=
block|{
operator|.
name|set_reg
operator|=
name|r100_set_surface_reg
block|,
operator|.
name|clear_reg
operator|=
name|r100_clear_surface_reg
block|, 	}
block|,
operator|.
name|hpd
operator|=
block|{
operator|.
name|init
operator|=
operator|&
name|r100_hpd_init
block|,
operator|.
name|fini
operator|=
operator|&
name|r100_hpd_fini
block|,
operator|.
name|sense
operator|=
operator|&
name|r100_hpd_sense
block|,
operator|.
name|set_polarity
operator|=
operator|&
name|r100_hpd_set_polarity
block|, 	}
block|,
operator|.
name|pm
operator|=
block|{
operator|.
name|misc
operator|=
operator|&
name|r100_pm_misc
block|,
operator|.
name|prepare
operator|=
operator|&
name|r100_pm_prepare
block|,
operator|.
name|finish
operator|=
operator|&
name|r100_pm_finish
block|,
operator|.
name|init_profile
operator|=
operator|&
name|r100_pm_init_profile
block|,
operator|.
name|get_dynpm_state
operator|=
operator|&
name|r100_pm_get_dynpm_state
block|,
operator|.
name|get_engine_clock
operator|=
operator|&
name|radeon_legacy_get_engine_clock
block|,
operator|.
name|set_engine_clock
operator|=
operator|&
name|radeon_legacy_set_engine_clock
block|,
operator|.
name|get_memory_clock
operator|=
operator|&
name|radeon_legacy_get_memory_clock
block|,
operator|.
name|set_memory_clock
operator|=
name|NULL
block|,
operator|.
name|get_pcie_lanes
operator|=
name|NULL
block|,
operator|.
name|set_pcie_lanes
operator|=
name|NULL
block|,
operator|.
name|set_clock_gating
operator|=
operator|&
name|radeon_legacy_set_clock_gating
block|, 	}
block|,
operator|.
name|pflip
operator|=
block|{
operator|.
name|pre_page_flip
operator|=
operator|&
name|r100_pre_page_flip
block|,
operator|.
name|page_flip
operator|=
operator|&
name|r100_page_flip
block|,
operator|.
name|post_page_flip
operator|=
operator|&
name|r100_post_page_flip
block|, 	}
block|, }
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|struct
name|radeon_asic
name|rs600_asic
init|=
block|{
operator|.
name|init
operator|=
operator|&
name|rs600_init
block|,
operator|.
name|fini
operator|=
operator|&
name|rs600_fini
block|,
operator|.
name|suspend
operator|=
operator|&
name|rs600_suspend
block|,
operator|.
name|resume
operator|=
operator|&
name|rs600_resume
block|,
operator|.
name|vga_set_state
operator|=
operator|&
name|r100_vga_set_state
block|,
operator|.
name|asic_reset
operator|=
operator|&
name|rs600_asic_reset
block|,
operator|.
name|ioctl_wait_idle
operator|=
name|NULL
block|,
operator|.
name|gui_idle
operator|=
operator|&
name|r100_gui_idle
block|,
operator|.
name|mc_wait_for_idle
operator|=
operator|&
name|rs600_mc_wait_for_idle
block|,
operator|.
name|gart
operator|=
block|{
operator|.
name|tlb_flush
operator|=
operator|&
name|rs600_gart_tlb_flush
block|,
operator|.
name|set_page
operator|=
operator|&
name|rs600_gart_set_page
block|, 	}
block|,
operator|.
name|ring
operator|=
block|{
index|[
name|RADEON_RING_TYPE_GFX_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|r100_ring_ib_execute
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|r300_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r100_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|r300_cs_parse
block|,
operator|.
name|ring_start
operator|=
operator|&
name|r300_ring_start
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r100_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r100_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|r100_gpu_is_lockup
block|, 		}
block|}
block|,
operator|.
name|irq
operator|=
block|{
operator|.
name|set
operator|=
operator|&
name|rs600_irq_set
block|,
operator|.
name|process
operator|=
operator|&
name|rs600_irq_process
block|, 	}
block|,
operator|.
name|display
operator|=
block|{
operator|.
name|bandwidth_update
operator|=
operator|&
name|rs600_bandwidth_update
block|,
operator|.
name|get_vblank_counter
operator|=
operator|&
name|rs600_get_vblank_counter
block|,
operator|.
name|wait_for_vblank
operator|=
operator|&
name|avivo_wait_for_vblank
block|,
operator|.
name|set_backlight_level
operator|=
operator|&
name|atombios_set_backlight_level
block|,
operator|.
name|get_backlight_level
operator|=
operator|&
name|atombios_get_backlight_level
block|, 	}
block|,
operator|.
name|copy
operator|=
block|{
operator|.
name|blit
operator|=
operator|&
name|r100_copy_blit
block|,
operator|.
name|blit_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|dma
operator|=
operator|&
name|r200_copy_dma
block|,
operator|.
name|dma_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|copy
operator|=
operator|&
name|r100_copy_blit
block|,
operator|.
name|copy_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|, 	}
block|,
operator|.
name|surface
operator|=
block|{
operator|.
name|set_reg
operator|=
name|r100_set_surface_reg
block|,
operator|.
name|clear_reg
operator|=
name|r100_clear_surface_reg
block|, 	}
block|,
operator|.
name|hpd
operator|=
block|{
operator|.
name|init
operator|=
operator|&
name|rs600_hpd_init
block|,
operator|.
name|fini
operator|=
operator|&
name|rs600_hpd_fini
block|,
operator|.
name|sense
operator|=
operator|&
name|rs600_hpd_sense
block|,
operator|.
name|set_polarity
operator|=
operator|&
name|rs600_hpd_set_polarity
block|, 	}
block|,
operator|.
name|pm
operator|=
block|{
operator|.
name|misc
operator|=
operator|&
name|rs600_pm_misc
block|,
operator|.
name|prepare
operator|=
operator|&
name|rs600_pm_prepare
block|,
operator|.
name|finish
operator|=
operator|&
name|rs600_pm_finish
block|,
operator|.
name|init_profile
operator|=
operator|&
name|r420_pm_init_profile
block|,
operator|.
name|get_dynpm_state
operator|=
operator|&
name|r100_pm_get_dynpm_state
block|,
operator|.
name|get_engine_clock
operator|=
operator|&
name|radeon_atom_get_engine_clock
block|,
operator|.
name|set_engine_clock
operator|=
operator|&
name|radeon_atom_set_engine_clock
block|,
operator|.
name|get_memory_clock
operator|=
operator|&
name|radeon_atom_get_memory_clock
block|,
operator|.
name|set_memory_clock
operator|=
operator|&
name|radeon_atom_set_memory_clock
block|,
operator|.
name|get_pcie_lanes
operator|=
name|NULL
block|,
operator|.
name|set_pcie_lanes
operator|=
name|NULL
block|,
operator|.
name|set_clock_gating
operator|=
operator|&
name|radeon_atom_set_clock_gating
block|, 	}
block|,
operator|.
name|pflip
operator|=
block|{
operator|.
name|pre_page_flip
operator|=
operator|&
name|rs600_pre_page_flip
block|,
operator|.
name|page_flip
operator|=
operator|&
name|rs600_page_flip
block|,
operator|.
name|post_page_flip
operator|=
operator|&
name|rs600_post_page_flip
block|, 	}
block|, }
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|struct
name|radeon_asic
name|rs690_asic
init|=
block|{
operator|.
name|init
operator|=
operator|&
name|rs690_init
block|,
operator|.
name|fini
operator|=
operator|&
name|rs690_fini
block|,
operator|.
name|suspend
operator|=
operator|&
name|rs690_suspend
block|,
operator|.
name|resume
operator|=
operator|&
name|rs690_resume
block|,
operator|.
name|vga_set_state
operator|=
operator|&
name|r100_vga_set_state
block|,
operator|.
name|asic_reset
operator|=
operator|&
name|rs600_asic_reset
block|,
operator|.
name|ioctl_wait_idle
operator|=
name|NULL
block|,
operator|.
name|gui_idle
operator|=
operator|&
name|r100_gui_idle
block|,
operator|.
name|mc_wait_for_idle
operator|=
operator|&
name|rs690_mc_wait_for_idle
block|,
operator|.
name|gart
operator|=
block|{
operator|.
name|tlb_flush
operator|=
operator|&
name|rs400_gart_tlb_flush
block|,
operator|.
name|set_page
operator|=
operator|&
name|rs400_gart_set_page
block|, 	}
block|,
operator|.
name|ring
operator|=
block|{
index|[
name|RADEON_RING_TYPE_GFX_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|r100_ring_ib_execute
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|r300_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r100_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|r300_cs_parse
block|,
operator|.
name|ring_start
operator|=
operator|&
name|r300_ring_start
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r100_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r100_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|r100_gpu_is_lockup
block|, 		}
block|}
block|,
operator|.
name|irq
operator|=
block|{
operator|.
name|set
operator|=
operator|&
name|rs600_irq_set
block|,
operator|.
name|process
operator|=
operator|&
name|rs600_irq_process
block|, 	}
block|,
operator|.
name|display
operator|=
block|{
operator|.
name|get_vblank_counter
operator|=
operator|&
name|rs600_get_vblank_counter
block|,
operator|.
name|bandwidth_update
operator|=
operator|&
name|rs690_bandwidth_update
block|,
operator|.
name|wait_for_vblank
operator|=
operator|&
name|avivo_wait_for_vblank
block|,
operator|.
name|set_backlight_level
operator|=
operator|&
name|atombios_set_backlight_level
block|,
operator|.
name|get_backlight_level
operator|=
operator|&
name|atombios_get_backlight_level
block|, 	}
block|,
operator|.
name|copy
operator|=
block|{
operator|.
name|blit
operator|=
operator|&
name|r100_copy_blit
block|,
operator|.
name|blit_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|dma
operator|=
operator|&
name|r200_copy_dma
block|,
operator|.
name|dma_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|copy
operator|=
operator|&
name|r200_copy_dma
block|,
operator|.
name|copy_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|, 	}
block|,
operator|.
name|surface
operator|=
block|{
operator|.
name|set_reg
operator|=
name|r100_set_surface_reg
block|,
operator|.
name|clear_reg
operator|=
name|r100_clear_surface_reg
block|, 	}
block|,
operator|.
name|hpd
operator|=
block|{
operator|.
name|init
operator|=
operator|&
name|rs600_hpd_init
block|,
operator|.
name|fini
operator|=
operator|&
name|rs600_hpd_fini
block|,
operator|.
name|sense
operator|=
operator|&
name|rs600_hpd_sense
block|,
operator|.
name|set_polarity
operator|=
operator|&
name|rs600_hpd_set_polarity
block|, 	}
block|,
operator|.
name|pm
operator|=
block|{
operator|.
name|misc
operator|=
operator|&
name|rs600_pm_misc
block|,
operator|.
name|prepare
operator|=
operator|&
name|rs600_pm_prepare
block|,
operator|.
name|finish
operator|=
operator|&
name|rs600_pm_finish
block|,
operator|.
name|init_profile
operator|=
operator|&
name|r420_pm_init_profile
block|,
operator|.
name|get_dynpm_state
operator|=
operator|&
name|r100_pm_get_dynpm_state
block|,
operator|.
name|get_engine_clock
operator|=
operator|&
name|radeon_atom_get_engine_clock
block|,
operator|.
name|set_engine_clock
operator|=
operator|&
name|radeon_atom_set_engine_clock
block|,
operator|.
name|get_memory_clock
operator|=
operator|&
name|radeon_atom_get_memory_clock
block|,
operator|.
name|set_memory_clock
operator|=
operator|&
name|radeon_atom_set_memory_clock
block|,
operator|.
name|get_pcie_lanes
operator|=
name|NULL
block|,
operator|.
name|set_pcie_lanes
operator|=
name|NULL
block|,
operator|.
name|set_clock_gating
operator|=
operator|&
name|radeon_atom_set_clock_gating
block|, 	}
block|,
operator|.
name|pflip
operator|=
block|{
operator|.
name|pre_page_flip
operator|=
operator|&
name|rs600_pre_page_flip
block|,
operator|.
name|page_flip
operator|=
operator|&
name|rs600_page_flip
block|,
operator|.
name|post_page_flip
operator|=
operator|&
name|rs600_post_page_flip
block|, 	}
block|, }
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|struct
name|radeon_asic
name|rv515_asic
init|=
block|{
operator|.
name|init
operator|=
operator|&
name|rv515_init
block|,
operator|.
name|fini
operator|=
operator|&
name|rv515_fini
block|,
operator|.
name|suspend
operator|=
operator|&
name|rv515_suspend
block|,
operator|.
name|resume
operator|=
operator|&
name|rv515_resume
block|,
operator|.
name|vga_set_state
operator|=
operator|&
name|r100_vga_set_state
block|,
operator|.
name|asic_reset
operator|=
operator|&
name|rs600_asic_reset
block|,
operator|.
name|ioctl_wait_idle
operator|=
name|NULL
block|,
operator|.
name|gui_idle
operator|=
operator|&
name|r100_gui_idle
block|,
operator|.
name|mc_wait_for_idle
operator|=
operator|&
name|rv515_mc_wait_for_idle
block|,
operator|.
name|gart
operator|=
block|{
operator|.
name|tlb_flush
operator|=
operator|&
name|rv370_pcie_gart_tlb_flush
block|,
operator|.
name|set_page
operator|=
operator|&
name|rv370_pcie_gart_set_page
block|, 	}
block|,
operator|.
name|ring
operator|=
block|{
index|[
name|RADEON_RING_TYPE_GFX_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|r100_ring_ib_execute
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|r300_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r100_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|r300_cs_parse
block|,
operator|.
name|ring_start
operator|=
operator|&
name|rv515_ring_start
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r100_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r100_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|r100_gpu_is_lockup
block|, 		}
block|}
block|,
operator|.
name|irq
operator|=
block|{
operator|.
name|set
operator|=
operator|&
name|rs600_irq_set
block|,
operator|.
name|process
operator|=
operator|&
name|rs600_irq_process
block|, 	}
block|,
operator|.
name|display
operator|=
block|{
operator|.
name|get_vblank_counter
operator|=
operator|&
name|rs600_get_vblank_counter
block|,
operator|.
name|bandwidth_update
operator|=
operator|&
name|rv515_bandwidth_update
block|,
operator|.
name|wait_for_vblank
operator|=
operator|&
name|avivo_wait_for_vblank
block|,
operator|.
name|set_backlight_level
operator|=
operator|&
name|atombios_set_backlight_level
block|,
operator|.
name|get_backlight_level
operator|=
operator|&
name|atombios_get_backlight_level
block|, 	}
block|,
operator|.
name|copy
operator|=
block|{
operator|.
name|blit
operator|=
operator|&
name|r100_copy_blit
block|,
operator|.
name|blit_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|dma
operator|=
operator|&
name|r200_copy_dma
block|,
operator|.
name|dma_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|copy
operator|=
operator|&
name|r100_copy_blit
block|,
operator|.
name|copy_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|, 	}
block|,
operator|.
name|surface
operator|=
block|{
operator|.
name|set_reg
operator|=
name|r100_set_surface_reg
block|,
operator|.
name|clear_reg
operator|=
name|r100_clear_surface_reg
block|, 	}
block|,
operator|.
name|hpd
operator|=
block|{
operator|.
name|init
operator|=
operator|&
name|rs600_hpd_init
block|,
operator|.
name|fini
operator|=
operator|&
name|rs600_hpd_fini
block|,
operator|.
name|sense
operator|=
operator|&
name|rs600_hpd_sense
block|,
operator|.
name|set_polarity
operator|=
operator|&
name|rs600_hpd_set_polarity
block|, 	}
block|,
operator|.
name|pm
operator|=
block|{
operator|.
name|misc
operator|=
operator|&
name|rs600_pm_misc
block|,
operator|.
name|prepare
operator|=
operator|&
name|rs600_pm_prepare
block|,
operator|.
name|finish
operator|=
operator|&
name|rs600_pm_finish
block|,
operator|.
name|init_profile
operator|=
operator|&
name|r420_pm_init_profile
block|,
operator|.
name|get_dynpm_state
operator|=
operator|&
name|r100_pm_get_dynpm_state
block|,
operator|.
name|get_engine_clock
operator|=
operator|&
name|radeon_atom_get_engine_clock
block|,
operator|.
name|set_engine_clock
operator|=
operator|&
name|radeon_atom_set_engine_clock
block|,
operator|.
name|get_memory_clock
operator|=
operator|&
name|radeon_atom_get_memory_clock
block|,
operator|.
name|set_memory_clock
operator|=
operator|&
name|radeon_atom_set_memory_clock
block|,
operator|.
name|get_pcie_lanes
operator|=
operator|&
name|rv370_get_pcie_lanes
block|,
operator|.
name|set_pcie_lanes
operator|=
operator|&
name|rv370_set_pcie_lanes
block|,
operator|.
name|set_clock_gating
operator|=
operator|&
name|radeon_atom_set_clock_gating
block|, 	}
block|,
operator|.
name|pflip
operator|=
block|{
operator|.
name|pre_page_flip
operator|=
operator|&
name|rs600_pre_page_flip
block|,
operator|.
name|page_flip
operator|=
operator|&
name|rs600_page_flip
block|,
operator|.
name|post_page_flip
operator|=
operator|&
name|rs600_post_page_flip
block|, 	}
block|, }
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|struct
name|radeon_asic
name|r520_asic
init|=
block|{
operator|.
name|init
operator|=
operator|&
name|r520_init
block|,
operator|.
name|fini
operator|=
operator|&
name|rv515_fini
block|,
operator|.
name|suspend
operator|=
operator|&
name|rv515_suspend
block|,
operator|.
name|resume
operator|=
operator|&
name|r520_resume
block|,
operator|.
name|vga_set_state
operator|=
operator|&
name|r100_vga_set_state
block|,
operator|.
name|asic_reset
operator|=
operator|&
name|rs600_asic_reset
block|,
operator|.
name|ioctl_wait_idle
operator|=
name|NULL
block|,
operator|.
name|gui_idle
operator|=
operator|&
name|r100_gui_idle
block|,
operator|.
name|mc_wait_for_idle
operator|=
operator|&
name|r520_mc_wait_for_idle
block|,
operator|.
name|gart
operator|=
block|{
operator|.
name|tlb_flush
operator|=
operator|&
name|rv370_pcie_gart_tlb_flush
block|,
operator|.
name|set_page
operator|=
operator|&
name|rv370_pcie_gart_set_page
block|, 	}
block|,
operator|.
name|ring
operator|=
block|{
index|[
name|RADEON_RING_TYPE_GFX_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|r100_ring_ib_execute
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|r300_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r100_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|r300_cs_parse
block|,
operator|.
name|ring_start
operator|=
operator|&
name|rv515_ring_start
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r100_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r100_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|r100_gpu_is_lockup
block|, 		}
block|}
block|,
operator|.
name|irq
operator|=
block|{
operator|.
name|set
operator|=
operator|&
name|rs600_irq_set
block|,
operator|.
name|process
operator|=
operator|&
name|rs600_irq_process
block|, 	}
block|,
operator|.
name|display
operator|=
block|{
operator|.
name|bandwidth_update
operator|=
operator|&
name|rv515_bandwidth_update
block|,
operator|.
name|get_vblank_counter
operator|=
operator|&
name|rs600_get_vblank_counter
block|,
operator|.
name|wait_for_vblank
operator|=
operator|&
name|avivo_wait_for_vblank
block|,
operator|.
name|set_backlight_level
operator|=
operator|&
name|atombios_set_backlight_level
block|,
operator|.
name|get_backlight_level
operator|=
operator|&
name|atombios_get_backlight_level
block|, 	}
block|,
operator|.
name|copy
operator|=
block|{
operator|.
name|blit
operator|=
operator|&
name|r100_copy_blit
block|,
operator|.
name|blit_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|dma
operator|=
operator|&
name|r200_copy_dma
block|,
operator|.
name|dma_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|copy
operator|=
operator|&
name|r100_copy_blit
block|,
operator|.
name|copy_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|, 	}
block|,
operator|.
name|surface
operator|=
block|{
operator|.
name|set_reg
operator|=
name|r100_set_surface_reg
block|,
operator|.
name|clear_reg
operator|=
name|r100_clear_surface_reg
block|, 	}
block|,
operator|.
name|hpd
operator|=
block|{
operator|.
name|init
operator|=
operator|&
name|rs600_hpd_init
block|,
operator|.
name|fini
operator|=
operator|&
name|rs600_hpd_fini
block|,
operator|.
name|sense
operator|=
operator|&
name|rs600_hpd_sense
block|,
operator|.
name|set_polarity
operator|=
operator|&
name|rs600_hpd_set_polarity
block|, 	}
block|,
operator|.
name|pm
operator|=
block|{
operator|.
name|misc
operator|=
operator|&
name|rs600_pm_misc
block|,
operator|.
name|prepare
operator|=
operator|&
name|rs600_pm_prepare
block|,
operator|.
name|finish
operator|=
operator|&
name|rs600_pm_finish
block|,
operator|.
name|init_profile
operator|=
operator|&
name|r420_pm_init_profile
block|,
operator|.
name|get_dynpm_state
operator|=
operator|&
name|r100_pm_get_dynpm_state
block|,
operator|.
name|get_engine_clock
operator|=
operator|&
name|radeon_atom_get_engine_clock
block|,
operator|.
name|set_engine_clock
operator|=
operator|&
name|radeon_atom_set_engine_clock
block|,
operator|.
name|get_memory_clock
operator|=
operator|&
name|radeon_atom_get_memory_clock
block|,
operator|.
name|set_memory_clock
operator|=
operator|&
name|radeon_atom_set_memory_clock
block|,
operator|.
name|get_pcie_lanes
operator|=
operator|&
name|rv370_get_pcie_lanes
block|,
operator|.
name|set_pcie_lanes
operator|=
operator|&
name|rv370_set_pcie_lanes
block|,
operator|.
name|set_clock_gating
operator|=
operator|&
name|radeon_atom_set_clock_gating
block|, 	}
block|,
operator|.
name|pflip
operator|=
block|{
operator|.
name|pre_page_flip
operator|=
operator|&
name|rs600_pre_page_flip
block|,
operator|.
name|page_flip
operator|=
operator|&
name|rs600_page_flip
block|,
operator|.
name|post_page_flip
operator|=
operator|&
name|rs600_post_page_flip
block|, 	}
block|, }
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|struct
name|radeon_asic
name|r600_asic
init|=
block|{
operator|.
name|init
operator|=
operator|&
name|r600_init
block|,
operator|.
name|fini
operator|=
operator|&
name|r600_fini
block|,
operator|.
name|suspend
operator|=
operator|&
name|r600_suspend
block|,
operator|.
name|resume
operator|=
operator|&
name|r600_resume
block|,
operator|.
name|vga_set_state
operator|=
operator|&
name|r600_vga_set_state
block|,
operator|.
name|asic_reset
operator|=
operator|&
name|r600_asic_reset
block|,
operator|.
name|ioctl_wait_idle
operator|=
name|r600_ioctl_wait_idle
block|,
operator|.
name|gui_idle
operator|=
operator|&
name|r600_gui_idle
block|,
operator|.
name|mc_wait_for_idle
operator|=
operator|&
name|r600_mc_wait_for_idle
block|,
operator|.
name|gart
operator|=
block|{
operator|.
name|tlb_flush
operator|=
operator|&
name|r600_pcie_gart_tlb_flush
block|,
operator|.
name|set_page
operator|=
operator|&
name|rs600_gart_set_page
block|, 	}
block|,
operator|.
name|ring
operator|=
block|{
index|[
name|RADEON_RING_TYPE_GFX_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|r600_ring_ib_execute
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|r600_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r600_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|r600_cs_parse
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r600_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r600_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|r600_gpu_is_lockup
block|, 		}
block|,
index|[
name|R600_RING_TYPE_DMA_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|r600_dma_ring_ib_execute
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|r600_dma_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r600_dma_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|r600_dma_cs_parse
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r600_dma_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r600_dma_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|r600_dma_is_lockup
block|, 		}
block|}
block|,
operator|.
name|irq
operator|=
block|{
operator|.
name|set
operator|=
operator|&
name|r600_irq_set
block|,
operator|.
name|process
operator|=
operator|&
name|r600_irq_process
block|, 	}
block|,
operator|.
name|display
operator|=
block|{
operator|.
name|bandwidth_update
operator|=
operator|&
name|rv515_bandwidth_update
block|,
operator|.
name|get_vblank_counter
operator|=
operator|&
name|rs600_get_vblank_counter
block|,
operator|.
name|wait_for_vblank
operator|=
operator|&
name|avivo_wait_for_vblank
block|,
operator|.
name|set_backlight_level
operator|=
operator|&
name|atombios_set_backlight_level
block|,
operator|.
name|get_backlight_level
operator|=
operator|&
name|atombios_get_backlight_level
block|, 	}
block|,
operator|.
name|copy
operator|=
block|{
operator|.
name|blit
operator|=
operator|&
name|r600_copy_blit
block|,
operator|.
name|blit_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|dma
operator|=
operator|&
name|r600_copy_dma
block|,
operator|.
name|dma_ring_index
operator|=
name|R600_RING_TYPE_DMA_INDEX
block|,
operator|.
name|copy
operator|=
operator|&
name|r600_copy_dma
block|,
operator|.
name|copy_ring_index
operator|=
name|R600_RING_TYPE_DMA_INDEX
block|, 	}
block|,
operator|.
name|surface
operator|=
block|{
operator|.
name|set_reg
operator|=
name|r600_set_surface_reg
block|,
operator|.
name|clear_reg
operator|=
name|r600_clear_surface_reg
block|, 	}
block|,
operator|.
name|hpd
operator|=
block|{
operator|.
name|init
operator|=
operator|&
name|r600_hpd_init
block|,
operator|.
name|fini
operator|=
operator|&
name|r600_hpd_fini
block|,
operator|.
name|sense
operator|=
operator|&
name|r600_hpd_sense
block|,
operator|.
name|set_polarity
operator|=
operator|&
name|r600_hpd_set_polarity
block|, 	}
block|,
operator|.
name|pm
operator|=
block|{
operator|.
name|misc
operator|=
operator|&
name|r600_pm_misc
block|,
operator|.
name|prepare
operator|=
operator|&
name|rs600_pm_prepare
block|,
operator|.
name|finish
operator|=
operator|&
name|rs600_pm_finish
block|,
operator|.
name|init_profile
operator|=
operator|&
name|r600_pm_init_profile
block|,
operator|.
name|get_dynpm_state
operator|=
operator|&
name|r600_pm_get_dynpm_state
block|,
operator|.
name|get_engine_clock
operator|=
operator|&
name|radeon_atom_get_engine_clock
block|,
operator|.
name|set_engine_clock
operator|=
operator|&
name|radeon_atom_set_engine_clock
block|,
operator|.
name|get_memory_clock
operator|=
operator|&
name|radeon_atom_get_memory_clock
block|,
operator|.
name|set_memory_clock
operator|=
operator|&
name|radeon_atom_set_memory_clock
block|,
operator|.
name|get_pcie_lanes
operator|=
operator|&
name|r600_get_pcie_lanes
block|,
operator|.
name|set_pcie_lanes
operator|=
operator|&
name|r600_set_pcie_lanes
block|,
operator|.
name|set_clock_gating
operator|=
name|NULL
block|, 	}
block|,
operator|.
name|pflip
operator|=
block|{
operator|.
name|pre_page_flip
operator|=
operator|&
name|rs600_pre_page_flip
block|,
operator|.
name|page_flip
operator|=
operator|&
name|rs600_page_flip
block|,
operator|.
name|post_page_flip
operator|=
operator|&
name|rs600_post_page_flip
block|, 	}
block|, }
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|struct
name|radeon_asic
name|rs780_asic
init|=
block|{
operator|.
name|init
operator|=
operator|&
name|r600_init
block|,
operator|.
name|fini
operator|=
operator|&
name|r600_fini
block|,
operator|.
name|suspend
operator|=
operator|&
name|r600_suspend
block|,
operator|.
name|resume
operator|=
operator|&
name|r600_resume
block|,
operator|.
name|vga_set_state
operator|=
operator|&
name|r600_vga_set_state
block|,
operator|.
name|asic_reset
operator|=
operator|&
name|r600_asic_reset
block|,
operator|.
name|ioctl_wait_idle
operator|=
name|r600_ioctl_wait_idle
block|,
operator|.
name|gui_idle
operator|=
operator|&
name|r600_gui_idle
block|,
operator|.
name|mc_wait_for_idle
operator|=
operator|&
name|r600_mc_wait_for_idle
block|,
operator|.
name|gart
operator|=
block|{
operator|.
name|tlb_flush
operator|=
operator|&
name|r600_pcie_gart_tlb_flush
block|,
operator|.
name|set_page
operator|=
operator|&
name|rs600_gart_set_page
block|, 	}
block|,
operator|.
name|ring
operator|=
block|{
index|[
name|RADEON_RING_TYPE_GFX_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|r600_ring_ib_execute
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|r600_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r600_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|r600_cs_parse
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r600_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r600_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|r600_gpu_is_lockup
block|, 		}
block|,
index|[
name|R600_RING_TYPE_DMA_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|r600_dma_ring_ib_execute
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|r600_dma_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r600_dma_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|r600_dma_cs_parse
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r600_dma_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r600_dma_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|r600_dma_is_lockup
block|, 		}
block|}
block|,
operator|.
name|irq
operator|=
block|{
operator|.
name|set
operator|=
operator|&
name|r600_irq_set
block|,
operator|.
name|process
operator|=
operator|&
name|r600_irq_process
block|, 	}
block|,
operator|.
name|display
operator|=
block|{
operator|.
name|bandwidth_update
operator|=
operator|&
name|rs690_bandwidth_update
block|,
operator|.
name|get_vblank_counter
operator|=
operator|&
name|rs600_get_vblank_counter
block|,
operator|.
name|wait_for_vblank
operator|=
operator|&
name|avivo_wait_for_vblank
block|,
operator|.
name|set_backlight_level
operator|=
operator|&
name|atombios_set_backlight_level
block|,
operator|.
name|get_backlight_level
operator|=
operator|&
name|atombios_get_backlight_level
block|, 	}
block|,
operator|.
name|copy
operator|=
block|{
operator|.
name|blit
operator|=
operator|&
name|r600_copy_blit
block|,
operator|.
name|blit_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|dma
operator|=
operator|&
name|r600_copy_dma
block|,
operator|.
name|dma_ring_index
operator|=
name|R600_RING_TYPE_DMA_INDEX
block|,
operator|.
name|copy
operator|=
operator|&
name|r600_copy_dma
block|,
operator|.
name|copy_ring_index
operator|=
name|R600_RING_TYPE_DMA_INDEX
block|, 	}
block|,
operator|.
name|surface
operator|=
block|{
operator|.
name|set_reg
operator|=
name|r600_set_surface_reg
block|,
operator|.
name|clear_reg
operator|=
name|r600_clear_surface_reg
block|, 	}
block|,
operator|.
name|hpd
operator|=
block|{
operator|.
name|init
operator|=
operator|&
name|r600_hpd_init
block|,
operator|.
name|fini
operator|=
operator|&
name|r600_hpd_fini
block|,
operator|.
name|sense
operator|=
operator|&
name|r600_hpd_sense
block|,
operator|.
name|set_polarity
operator|=
operator|&
name|r600_hpd_set_polarity
block|, 	}
block|,
operator|.
name|pm
operator|=
block|{
operator|.
name|misc
operator|=
operator|&
name|r600_pm_misc
block|,
operator|.
name|prepare
operator|=
operator|&
name|rs600_pm_prepare
block|,
operator|.
name|finish
operator|=
operator|&
name|rs600_pm_finish
block|,
operator|.
name|init_profile
operator|=
operator|&
name|rs780_pm_init_profile
block|,
operator|.
name|get_dynpm_state
operator|=
operator|&
name|r600_pm_get_dynpm_state
block|,
operator|.
name|get_engine_clock
operator|=
operator|&
name|radeon_atom_get_engine_clock
block|,
operator|.
name|set_engine_clock
operator|=
operator|&
name|radeon_atom_set_engine_clock
block|,
operator|.
name|get_memory_clock
operator|=
name|NULL
block|,
operator|.
name|set_memory_clock
operator|=
name|NULL
block|,
operator|.
name|get_pcie_lanes
operator|=
name|NULL
block|,
operator|.
name|set_pcie_lanes
operator|=
name|NULL
block|,
operator|.
name|set_clock_gating
operator|=
name|NULL
block|, 	}
block|,
operator|.
name|pflip
operator|=
block|{
operator|.
name|pre_page_flip
operator|=
operator|&
name|rs600_pre_page_flip
block|,
operator|.
name|page_flip
operator|=
operator|&
name|rs600_page_flip
block|,
operator|.
name|post_page_flip
operator|=
operator|&
name|rs600_post_page_flip
block|, 	}
block|, }
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|struct
name|radeon_asic
name|rv770_asic
init|=
block|{
operator|.
name|init
operator|=
operator|&
name|rv770_init
block|,
operator|.
name|fini
operator|=
operator|&
name|rv770_fini
block|,
operator|.
name|suspend
operator|=
operator|&
name|rv770_suspend
block|,
operator|.
name|resume
operator|=
operator|&
name|rv770_resume
block|,
operator|.
name|asic_reset
operator|=
operator|&
name|r600_asic_reset
block|,
operator|.
name|vga_set_state
operator|=
operator|&
name|r600_vga_set_state
block|,
operator|.
name|ioctl_wait_idle
operator|=
name|r600_ioctl_wait_idle
block|,
operator|.
name|gui_idle
operator|=
operator|&
name|r600_gui_idle
block|,
operator|.
name|mc_wait_for_idle
operator|=
operator|&
name|r600_mc_wait_for_idle
block|,
operator|.
name|gart
operator|=
block|{
operator|.
name|tlb_flush
operator|=
operator|&
name|r600_pcie_gart_tlb_flush
block|,
operator|.
name|set_page
operator|=
operator|&
name|rs600_gart_set_page
block|, 	}
block|,
operator|.
name|ring
operator|=
block|{
index|[
name|RADEON_RING_TYPE_GFX_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|r600_ring_ib_execute
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|r600_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r600_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|r600_cs_parse
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r600_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r600_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|r600_gpu_is_lockup
block|, 		}
block|,
index|[
name|R600_RING_TYPE_DMA_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|r600_dma_ring_ib_execute
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|r600_dma_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r600_dma_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|r600_dma_cs_parse
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r600_dma_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r600_dma_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|r600_dma_is_lockup
block|, 		}
block|}
block|,
operator|.
name|irq
operator|=
block|{
operator|.
name|set
operator|=
operator|&
name|r600_irq_set
block|,
operator|.
name|process
operator|=
operator|&
name|r600_irq_process
block|, 	}
block|,
operator|.
name|display
operator|=
block|{
operator|.
name|bandwidth_update
operator|=
operator|&
name|rv515_bandwidth_update
block|,
operator|.
name|get_vblank_counter
operator|=
operator|&
name|rs600_get_vblank_counter
block|,
operator|.
name|wait_for_vblank
operator|=
operator|&
name|avivo_wait_for_vblank
block|,
operator|.
name|set_backlight_level
operator|=
operator|&
name|atombios_set_backlight_level
block|,
operator|.
name|get_backlight_level
operator|=
operator|&
name|atombios_get_backlight_level
block|, 	}
block|,
operator|.
name|copy
operator|=
block|{
operator|.
name|blit
operator|=
operator|&
name|r600_copy_blit
block|,
operator|.
name|blit_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|dma
operator|=
operator|&
name|rv770_copy_dma
block|,
operator|.
name|dma_ring_index
operator|=
name|R600_RING_TYPE_DMA_INDEX
block|,
operator|.
name|copy
operator|=
operator|&
name|rv770_copy_dma
block|,
operator|.
name|copy_ring_index
operator|=
name|R600_RING_TYPE_DMA_INDEX
block|, 	}
block|,
operator|.
name|surface
operator|=
block|{
operator|.
name|set_reg
operator|=
name|r600_set_surface_reg
block|,
operator|.
name|clear_reg
operator|=
name|r600_clear_surface_reg
block|, 	}
block|,
operator|.
name|hpd
operator|=
block|{
operator|.
name|init
operator|=
operator|&
name|r600_hpd_init
block|,
operator|.
name|fini
operator|=
operator|&
name|r600_hpd_fini
block|,
operator|.
name|sense
operator|=
operator|&
name|r600_hpd_sense
block|,
operator|.
name|set_polarity
operator|=
operator|&
name|r600_hpd_set_polarity
block|, 	}
block|,
operator|.
name|pm
operator|=
block|{
operator|.
name|misc
operator|=
operator|&
name|rv770_pm_misc
block|,
operator|.
name|prepare
operator|=
operator|&
name|rs600_pm_prepare
block|,
operator|.
name|finish
operator|=
operator|&
name|rs600_pm_finish
block|,
operator|.
name|init_profile
operator|=
operator|&
name|r600_pm_init_profile
block|,
operator|.
name|get_dynpm_state
operator|=
operator|&
name|r600_pm_get_dynpm_state
block|,
operator|.
name|get_engine_clock
operator|=
operator|&
name|radeon_atom_get_engine_clock
block|,
operator|.
name|set_engine_clock
operator|=
operator|&
name|radeon_atom_set_engine_clock
block|,
operator|.
name|get_memory_clock
operator|=
operator|&
name|radeon_atom_get_memory_clock
block|,
operator|.
name|set_memory_clock
operator|=
operator|&
name|radeon_atom_set_memory_clock
block|,
operator|.
name|get_pcie_lanes
operator|=
operator|&
name|r600_get_pcie_lanes
block|,
operator|.
name|set_pcie_lanes
operator|=
operator|&
name|r600_set_pcie_lanes
block|,
operator|.
name|set_clock_gating
operator|=
operator|&
name|radeon_atom_set_clock_gating
block|, 	}
block|,
operator|.
name|pflip
operator|=
block|{
operator|.
name|pre_page_flip
operator|=
operator|&
name|rs600_pre_page_flip
block|,
operator|.
name|page_flip
operator|=
operator|&
name|rv770_page_flip
block|,
operator|.
name|post_page_flip
operator|=
operator|&
name|rs600_post_page_flip
block|, 	}
block|, }
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|struct
name|radeon_asic
name|evergreen_asic
init|=
block|{
operator|.
name|init
operator|=
operator|&
name|evergreen_init
block|,
operator|.
name|fini
operator|=
operator|&
name|evergreen_fini
block|,
operator|.
name|suspend
operator|=
operator|&
name|evergreen_suspend
block|,
operator|.
name|resume
operator|=
operator|&
name|evergreen_resume
block|,
operator|.
name|asic_reset
operator|=
operator|&
name|evergreen_asic_reset
block|,
operator|.
name|vga_set_state
operator|=
operator|&
name|r600_vga_set_state
block|,
operator|.
name|ioctl_wait_idle
operator|=
name|r600_ioctl_wait_idle
block|,
operator|.
name|gui_idle
operator|=
operator|&
name|r600_gui_idle
block|,
operator|.
name|mc_wait_for_idle
operator|=
operator|&
name|evergreen_mc_wait_for_idle
block|,
operator|.
name|gart
operator|=
block|{
operator|.
name|tlb_flush
operator|=
operator|&
name|evergreen_pcie_gart_tlb_flush
block|,
operator|.
name|set_page
operator|=
operator|&
name|rs600_gart_set_page
block|, 	}
block|,
operator|.
name|ring
operator|=
block|{
index|[
name|RADEON_RING_TYPE_GFX_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|evergreen_ring_ib_execute
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|r600_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r600_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|evergreen_cs_parse
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r600_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r600_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|evergreen_gpu_is_lockup
block|, 		}
block|,
index|[
name|R600_RING_TYPE_DMA_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|evergreen_dma_ring_ib_execute
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|evergreen_dma_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r600_dma_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|evergreen_dma_cs_parse
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r600_dma_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r600_dma_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|r600_dma_is_lockup
block|, 		}
block|}
block|,
operator|.
name|irq
operator|=
block|{
operator|.
name|set
operator|=
operator|&
name|evergreen_irq_set
block|,
operator|.
name|process
operator|=
operator|&
name|evergreen_irq_process
block|, 	}
block|,
operator|.
name|display
operator|=
block|{
operator|.
name|bandwidth_update
operator|=
operator|&
name|evergreen_bandwidth_update
block|,
operator|.
name|get_vblank_counter
operator|=
operator|&
name|evergreen_get_vblank_counter
block|,
operator|.
name|wait_for_vblank
operator|=
operator|&
name|dce4_wait_for_vblank
block|,
operator|.
name|set_backlight_level
operator|=
operator|&
name|atombios_set_backlight_level
block|,
operator|.
name|get_backlight_level
operator|=
operator|&
name|atombios_get_backlight_level
block|, 	}
block|,
operator|.
name|copy
operator|=
block|{
operator|.
name|blit
operator|=
operator|&
name|r600_copy_blit
block|,
operator|.
name|blit_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|dma
operator|=
operator|&
name|evergreen_copy_dma
block|,
operator|.
name|dma_ring_index
operator|=
name|R600_RING_TYPE_DMA_INDEX
block|,
operator|.
name|copy
operator|=
operator|&
name|evergreen_copy_dma
block|,
operator|.
name|copy_ring_index
operator|=
name|R600_RING_TYPE_DMA_INDEX
block|, 	}
block|,
operator|.
name|surface
operator|=
block|{
operator|.
name|set_reg
operator|=
name|r600_set_surface_reg
block|,
operator|.
name|clear_reg
operator|=
name|r600_clear_surface_reg
block|, 	}
block|,
operator|.
name|hpd
operator|=
block|{
operator|.
name|init
operator|=
operator|&
name|evergreen_hpd_init
block|,
operator|.
name|fini
operator|=
operator|&
name|evergreen_hpd_fini
block|,
operator|.
name|sense
operator|=
operator|&
name|evergreen_hpd_sense
block|,
operator|.
name|set_polarity
operator|=
operator|&
name|evergreen_hpd_set_polarity
block|, 	}
block|,
operator|.
name|pm
operator|=
block|{
operator|.
name|misc
operator|=
operator|&
name|evergreen_pm_misc
block|,
operator|.
name|prepare
operator|=
operator|&
name|evergreen_pm_prepare
block|,
operator|.
name|finish
operator|=
operator|&
name|evergreen_pm_finish
block|,
operator|.
name|init_profile
operator|=
operator|&
name|r600_pm_init_profile
block|,
operator|.
name|get_dynpm_state
operator|=
operator|&
name|r600_pm_get_dynpm_state
block|,
operator|.
name|get_engine_clock
operator|=
operator|&
name|radeon_atom_get_engine_clock
block|,
operator|.
name|set_engine_clock
operator|=
operator|&
name|radeon_atom_set_engine_clock
block|,
operator|.
name|get_memory_clock
operator|=
operator|&
name|radeon_atom_get_memory_clock
block|,
operator|.
name|set_memory_clock
operator|=
operator|&
name|radeon_atom_set_memory_clock
block|,
operator|.
name|get_pcie_lanes
operator|=
operator|&
name|r600_get_pcie_lanes
block|,
operator|.
name|set_pcie_lanes
operator|=
operator|&
name|r600_set_pcie_lanes
block|,
operator|.
name|set_clock_gating
operator|=
name|NULL
block|, 	}
block|,
operator|.
name|pflip
operator|=
block|{
operator|.
name|pre_page_flip
operator|=
operator|&
name|evergreen_pre_page_flip
block|,
operator|.
name|page_flip
operator|=
operator|&
name|evergreen_page_flip
block|,
operator|.
name|post_page_flip
operator|=
operator|&
name|evergreen_post_page_flip
block|, 	}
block|, }
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|struct
name|radeon_asic
name|sumo_asic
init|=
block|{
operator|.
name|init
operator|=
operator|&
name|evergreen_init
block|,
operator|.
name|fini
operator|=
operator|&
name|evergreen_fini
block|,
operator|.
name|suspend
operator|=
operator|&
name|evergreen_suspend
block|,
operator|.
name|resume
operator|=
operator|&
name|evergreen_resume
block|,
operator|.
name|asic_reset
operator|=
operator|&
name|evergreen_asic_reset
block|,
operator|.
name|vga_set_state
operator|=
operator|&
name|r600_vga_set_state
block|,
operator|.
name|ioctl_wait_idle
operator|=
name|r600_ioctl_wait_idle
block|,
operator|.
name|gui_idle
operator|=
operator|&
name|r600_gui_idle
block|,
operator|.
name|mc_wait_for_idle
operator|=
operator|&
name|evergreen_mc_wait_for_idle
block|,
operator|.
name|gart
operator|=
block|{
operator|.
name|tlb_flush
operator|=
operator|&
name|evergreen_pcie_gart_tlb_flush
block|,
operator|.
name|set_page
operator|=
operator|&
name|rs600_gart_set_page
block|, 	}
block|,
operator|.
name|ring
operator|=
block|{
index|[
name|RADEON_RING_TYPE_GFX_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|evergreen_ring_ib_execute
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|r600_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r600_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|evergreen_cs_parse
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r600_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r600_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|evergreen_gpu_is_lockup
block|, 		}
block|,
index|[
name|R600_RING_TYPE_DMA_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|evergreen_dma_ring_ib_execute
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|evergreen_dma_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r600_dma_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|evergreen_dma_cs_parse
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r600_dma_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r600_dma_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|r600_dma_is_lockup
block|, 		}
block|}
block|,
operator|.
name|irq
operator|=
block|{
operator|.
name|set
operator|=
operator|&
name|evergreen_irq_set
block|,
operator|.
name|process
operator|=
operator|&
name|evergreen_irq_process
block|, 	}
block|,
operator|.
name|display
operator|=
block|{
operator|.
name|bandwidth_update
operator|=
operator|&
name|evergreen_bandwidth_update
block|,
operator|.
name|get_vblank_counter
operator|=
operator|&
name|evergreen_get_vblank_counter
block|,
operator|.
name|wait_for_vblank
operator|=
operator|&
name|dce4_wait_for_vblank
block|,
operator|.
name|set_backlight_level
operator|=
operator|&
name|atombios_set_backlight_level
block|,
operator|.
name|get_backlight_level
operator|=
operator|&
name|atombios_get_backlight_level
block|, 	}
block|,
operator|.
name|copy
operator|=
block|{
operator|.
name|blit
operator|=
operator|&
name|r600_copy_blit
block|,
operator|.
name|blit_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|dma
operator|=
operator|&
name|evergreen_copy_dma
block|,
operator|.
name|dma_ring_index
operator|=
name|R600_RING_TYPE_DMA_INDEX
block|,
operator|.
name|copy
operator|=
operator|&
name|evergreen_copy_dma
block|,
operator|.
name|copy_ring_index
operator|=
name|R600_RING_TYPE_DMA_INDEX
block|, 	}
block|,
operator|.
name|surface
operator|=
block|{
operator|.
name|set_reg
operator|=
name|r600_set_surface_reg
block|,
operator|.
name|clear_reg
operator|=
name|r600_clear_surface_reg
block|, 	}
block|,
operator|.
name|hpd
operator|=
block|{
operator|.
name|init
operator|=
operator|&
name|evergreen_hpd_init
block|,
operator|.
name|fini
operator|=
operator|&
name|evergreen_hpd_fini
block|,
operator|.
name|sense
operator|=
operator|&
name|evergreen_hpd_sense
block|,
operator|.
name|set_polarity
operator|=
operator|&
name|evergreen_hpd_set_polarity
block|, 	}
block|,
operator|.
name|pm
operator|=
block|{
operator|.
name|misc
operator|=
operator|&
name|evergreen_pm_misc
block|,
operator|.
name|prepare
operator|=
operator|&
name|evergreen_pm_prepare
block|,
operator|.
name|finish
operator|=
operator|&
name|evergreen_pm_finish
block|,
operator|.
name|init_profile
operator|=
operator|&
name|sumo_pm_init_profile
block|,
operator|.
name|get_dynpm_state
operator|=
operator|&
name|r600_pm_get_dynpm_state
block|,
operator|.
name|get_engine_clock
operator|=
operator|&
name|radeon_atom_get_engine_clock
block|,
operator|.
name|set_engine_clock
operator|=
operator|&
name|radeon_atom_set_engine_clock
block|,
operator|.
name|get_memory_clock
operator|=
name|NULL
block|,
operator|.
name|set_memory_clock
operator|=
name|NULL
block|,
operator|.
name|get_pcie_lanes
operator|=
name|NULL
block|,
operator|.
name|set_pcie_lanes
operator|=
name|NULL
block|,
operator|.
name|set_clock_gating
operator|=
name|NULL
block|, 	}
block|,
operator|.
name|pflip
operator|=
block|{
operator|.
name|pre_page_flip
operator|=
operator|&
name|evergreen_pre_page_flip
block|,
operator|.
name|page_flip
operator|=
operator|&
name|evergreen_page_flip
block|,
operator|.
name|post_page_flip
operator|=
operator|&
name|evergreen_post_page_flip
block|, 	}
block|, }
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|struct
name|radeon_asic
name|btc_asic
init|=
block|{
operator|.
name|init
operator|=
operator|&
name|evergreen_init
block|,
operator|.
name|fini
operator|=
operator|&
name|evergreen_fini
block|,
operator|.
name|suspend
operator|=
operator|&
name|evergreen_suspend
block|,
operator|.
name|resume
operator|=
operator|&
name|evergreen_resume
block|,
operator|.
name|asic_reset
operator|=
operator|&
name|evergreen_asic_reset
block|,
operator|.
name|vga_set_state
operator|=
operator|&
name|r600_vga_set_state
block|,
operator|.
name|ioctl_wait_idle
operator|=
name|r600_ioctl_wait_idle
block|,
operator|.
name|gui_idle
operator|=
operator|&
name|r600_gui_idle
block|,
operator|.
name|mc_wait_for_idle
operator|=
operator|&
name|evergreen_mc_wait_for_idle
block|,
operator|.
name|gart
operator|=
block|{
operator|.
name|tlb_flush
operator|=
operator|&
name|evergreen_pcie_gart_tlb_flush
block|,
operator|.
name|set_page
operator|=
operator|&
name|rs600_gart_set_page
block|, 	}
block|,
operator|.
name|ring
operator|=
block|{
index|[
name|RADEON_RING_TYPE_GFX_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|evergreen_ring_ib_execute
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|r600_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r600_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|evergreen_cs_parse
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r600_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r600_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|evergreen_gpu_is_lockup
block|, 		}
block|,
index|[
name|R600_RING_TYPE_DMA_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|evergreen_dma_ring_ib_execute
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|evergreen_dma_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r600_dma_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|evergreen_dma_cs_parse
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r600_dma_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r600_dma_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|r600_dma_is_lockup
block|, 		}
block|}
block|,
operator|.
name|irq
operator|=
block|{
operator|.
name|set
operator|=
operator|&
name|evergreen_irq_set
block|,
operator|.
name|process
operator|=
operator|&
name|evergreen_irq_process
block|, 	}
block|,
operator|.
name|display
operator|=
block|{
operator|.
name|bandwidth_update
operator|=
operator|&
name|evergreen_bandwidth_update
block|,
operator|.
name|get_vblank_counter
operator|=
operator|&
name|evergreen_get_vblank_counter
block|,
operator|.
name|wait_for_vblank
operator|=
operator|&
name|dce4_wait_for_vblank
block|,
operator|.
name|set_backlight_level
operator|=
operator|&
name|atombios_set_backlight_level
block|,
operator|.
name|get_backlight_level
operator|=
operator|&
name|atombios_get_backlight_level
block|, 	}
block|,
operator|.
name|copy
operator|=
block|{
operator|.
name|blit
operator|=
operator|&
name|r600_copy_blit
block|,
operator|.
name|blit_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|dma
operator|=
operator|&
name|evergreen_copy_dma
block|,
operator|.
name|dma_ring_index
operator|=
name|R600_RING_TYPE_DMA_INDEX
block|,
operator|.
name|copy
operator|=
operator|&
name|evergreen_copy_dma
block|,
operator|.
name|copy_ring_index
operator|=
name|R600_RING_TYPE_DMA_INDEX
block|, 	}
block|,
operator|.
name|surface
operator|=
block|{
operator|.
name|set_reg
operator|=
name|r600_set_surface_reg
block|,
operator|.
name|clear_reg
operator|=
name|r600_clear_surface_reg
block|, 	}
block|,
operator|.
name|hpd
operator|=
block|{
operator|.
name|init
operator|=
operator|&
name|evergreen_hpd_init
block|,
operator|.
name|fini
operator|=
operator|&
name|evergreen_hpd_fini
block|,
operator|.
name|sense
operator|=
operator|&
name|evergreen_hpd_sense
block|,
operator|.
name|set_polarity
operator|=
operator|&
name|evergreen_hpd_set_polarity
block|, 	}
block|,
operator|.
name|pm
operator|=
block|{
operator|.
name|misc
operator|=
operator|&
name|evergreen_pm_misc
block|,
operator|.
name|prepare
operator|=
operator|&
name|evergreen_pm_prepare
block|,
operator|.
name|finish
operator|=
operator|&
name|evergreen_pm_finish
block|,
operator|.
name|init_profile
operator|=
operator|&
name|btc_pm_init_profile
block|,
operator|.
name|get_dynpm_state
operator|=
operator|&
name|r600_pm_get_dynpm_state
block|,
operator|.
name|get_engine_clock
operator|=
operator|&
name|radeon_atom_get_engine_clock
block|,
operator|.
name|set_engine_clock
operator|=
operator|&
name|radeon_atom_set_engine_clock
block|,
operator|.
name|get_memory_clock
operator|=
operator|&
name|radeon_atom_get_memory_clock
block|,
operator|.
name|set_memory_clock
operator|=
operator|&
name|radeon_atom_set_memory_clock
block|,
operator|.
name|get_pcie_lanes
operator|=
name|NULL
block|,
operator|.
name|set_pcie_lanes
operator|=
name|NULL
block|,
operator|.
name|set_clock_gating
operator|=
name|NULL
block|, 	}
block|,
operator|.
name|pflip
operator|=
block|{
operator|.
name|pre_page_flip
operator|=
operator|&
name|evergreen_pre_page_flip
block|,
operator|.
name|page_flip
operator|=
operator|&
name|evergreen_page_flip
block|,
operator|.
name|post_page_flip
operator|=
operator|&
name|evergreen_post_page_flip
block|, 	}
block|, }
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|struct
name|radeon_asic
name|cayman_asic
init|=
block|{
operator|.
name|init
operator|=
operator|&
name|cayman_init
block|,
operator|.
name|fini
operator|=
operator|&
name|cayman_fini
block|,
operator|.
name|suspend
operator|=
operator|&
name|cayman_suspend
block|,
operator|.
name|resume
operator|=
operator|&
name|cayman_resume
block|,
operator|.
name|asic_reset
operator|=
operator|&
name|cayman_asic_reset
block|,
operator|.
name|vga_set_state
operator|=
operator|&
name|r600_vga_set_state
block|,
operator|.
name|ioctl_wait_idle
operator|=
name|r600_ioctl_wait_idle
block|,
operator|.
name|gui_idle
operator|=
operator|&
name|r600_gui_idle
block|,
operator|.
name|mc_wait_for_idle
operator|=
operator|&
name|evergreen_mc_wait_for_idle
block|,
operator|.
name|gart
operator|=
block|{
operator|.
name|tlb_flush
operator|=
operator|&
name|cayman_pcie_gart_tlb_flush
block|,
operator|.
name|set_page
operator|=
operator|&
name|rs600_gart_set_page
block|, 	}
block|,
operator|.
name|vm
operator|=
block|{
operator|.
name|init
operator|=
operator|&
name|cayman_vm_init
block|,
operator|.
name|fini
operator|=
operator|&
name|cayman_vm_fini
block|,
operator|.
name|pt_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|set_page
operator|=
operator|&
name|cayman_vm_set_page
block|, 	}
block|,
operator|.
name|ring
operator|=
block|{
index|[
name|RADEON_RING_TYPE_GFX_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|cayman_ring_ib_execute
block|,
operator|.
name|ib_parse
operator|=
operator|&
name|evergreen_ib_parse
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|cayman_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r600_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|evergreen_cs_parse
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r600_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r600_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|evergreen_gpu_is_lockup
block|,
operator|.
name|vm_flush
operator|=
operator|&
name|cayman_vm_flush
block|, 		}
block|,
index|[
name|CAYMAN_RING_TYPE_CP1_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|cayman_ring_ib_execute
block|,
operator|.
name|ib_parse
operator|=
operator|&
name|evergreen_ib_parse
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|cayman_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r600_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|evergreen_cs_parse
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r600_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r600_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|evergreen_gpu_is_lockup
block|,
operator|.
name|vm_flush
operator|=
operator|&
name|cayman_vm_flush
block|, 		}
block|,
index|[
name|CAYMAN_RING_TYPE_CP2_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|cayman_ring_ib_execute
block|,
operator|.
name|ib_parse
operator|=
operator|&
name|evergreen_ib_parse
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|cayman_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r600_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|evergreen_cs_parse
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r600_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r600_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|evergreen_gpu_is_lockup
block|,
operator|.
name|vm_flush
operator|=
operator|&
name|cayman_vm_flush
block|, 		}
block|,
index|[
name|R600_RING_TYPE_DMA_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|cayman_dma_ring_ib_execute
block|,
operator|.
name|ib_parse
operator|=
operator|&
name|evergreen_dma_ib_parse
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|evergreen_dma_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r600_dma_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|evergreen_dma_cs_parse
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r600_dma_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r600_dma_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|cayman_dma_is_lockup
block|,
operator|.
name|vm_flush
operator|=
operator|&
name|cayman_dma_vm_flush
block|, 		}
block|,
index|[
name|CAYMAN_RING_TYPE_DMA1_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|cayman_dma_ring_ib_execute
block|,
operator|.
name|ib_parse
operator|=
operator|&
name|evergreen_dma_ib_parse
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|evergreen_dma_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r600_dma_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|evergreen_dma_cs_parse
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r600_dma_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r600_dma_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|cayman_dma_is_lockup
block|,
operator|.
name|vm_flush
operator|=
operator|&
name|cayman_dma_vm_flush
block|, 		}
block|}
block|,
operator|.
name|irq
operator|=
block|{
operator|.
name|set
operator|=
operator|&
name|evergreen_irq_set
block|,
operator|.
name|process
operator|=
operator|&
name|evergreen_irq_process
block|, 	}
block|,
operator|.
name|display
operator|=
block|{
operator|.
name|bandwidth_update
operator|=
operator|&
name|evergreen_bandwidth_update
block|,
operator|.
name|get_vblank_counter
operator|=
operator|&
name|evergreen_get_vblank_counter
block|,
operator|.
name|wait_for_vblank
operator|=
operator|&
name|dce4_wait_for_vblank
block|,
operator|.
name|set_backlight_level
operator|=
operator|&
name|atombios_set_backlight_level
block|,
operator|.
name|get_backlight_level
operator|=
operator|&
name|atombios_get_backlight_level
block|, 	}
block|,
operator|.
name|copy
operator|=
block|{
operator|.
name|blit
operator|=
operator|&
name|r600_copy_blit
block|,
operator|.
name|blit_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|dma
operator|=
operator|&
name|evergreen_copy_dma
block|,
operator|.
name|dma_ring_index
operator|=
name|R600_RING_TYPE_DMA_INDEX
block|,
operator|.
name|copy
operator|=
operator|&
name|evergreen_copy_dma
block|,
operator|.
name|copy_ring_index
operator|=
name|R600_RING_TYPE_DMA_INDEX
block|, 	}
block|,
operator|.
name|surface
operator|=
block|{
operator|.
name|set_reg
operator|=
name|r600_set_surface_reg
block|,
operator|.
name|clear_reg
operator|=
name|r600_clear_surface_reg
block|, 	}
block|,
operator|.
name|hpd
operator|=
block|{
operator|.
name|init
operator|=
operator|&
name|evergreen_hpd_init
block|,
operator|.
name|fini
operator|=
operator|&
name|evergreen_hpd_fini
block|,
operator|.
name|sense
operator|=
operator|&
name|evergreen_hpd_sense
block|,
operator|.
name|set_polarity
operator|=
operator|&
name|evergreen_hpd_set_polarity
block|, 	}
block|,
operator|.
name|pm
operator|=
block|{
operator|.
name|misc
operator|=
operator|&
name|evergreen_pm_misc
block|,
operator|.
name|prepare
operator|=
operator|&
name|evergreen_pm_prepare
block|,
operator|.
name|finish
operator|=
operator|&
name|evergreen_pm_finish
block|,
operator|.
name|init_profile
operator|=
operator|&
name|btc_pm_init_profile
block|,
operator|.
name|get_dynpm_state
operator|=
operator|&
name|r600_pm_get_dynpm_state
block|,
operator|.
name|get_engine_clock
operator|=
operator|&
name|radeon_atom_get_engine_clock
block|,
operator|.
name|set_engine_clock
operator|=
operator|&
name|radeon_atom_set_engine_clock
block|,
operator|.
name|get_memory_clock
operator|=
operator|&
name|radeon_atom_get_memory_clock
block|,
operator|.
name|set_memory_clock
operator|=
operator|&
name|radeon_atom_set_memory_clock
block|,
operator|.
name|get_pcie_lanes
operator|=
name|NULL
block|,
operator|.
name|set_pcie_lanes
operator|=
name|NULL
block|,
operator|.
name|set_clock_gating
operator|=
name|NULL
block|, 	}
block|,
operator|.
name|pflip
operator|=
block|{
operator|.
name|pre_page_flip
operator|=
operator|&
name|evergreen_pre_page_flip
block|,
operator|.
name|page_flip
operator|=
operator|&
name|evergreen_page_flip
block|,
operator|.
name|post_page_flip
operator|=
operator|&
name|evergreen_post_page_flip
block|, 	}
block|, }
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|struct
name|radeon_asic
name|trinity_asic
init|=
block|{
operator|.
name|init
operator|=
operator|&
name|cayman_init
block|,
operator|.
name|fini
operator|=
operator|&
name|cayman_fini
block|,
operator|.
name|suspend
operator|=
operator|&
name|cayman_suspend
block|,
operator|.
name|resume
operator|=
operator|&
name|cayman_resume
block|,
operator|.
name|asic_reset
operator|=
operator|&
name|cayman_asic_reset
block|,
operator|.
name|vga_set_state
operator|=
operator|&
name|r600_vga_set_state
block|,
operator|.
name|ioctl_wait_idle
operator|=
name|r600_ioctl_wait_idle
block|,
operator|.
name|gui_idle
operator|=
operator|&
name|r600_gui_idle
block|,
operator|.
name|mc_wait_for_idle
operator|=
operator|&
name|evergreen_mc_wait_for_idle
block|,
operator|.
name|gart
operator|=
block|{
operator|.
name|tlb_flush
operator|=
operator|&
name|cayman_pcie_gart_tlb_flush
block|,
operator|.
name|set_page
operator|=
operator|&
name|rs600_gart_set_page
block|, 	}
block|,
operator|.
name|vm
operator|=
block|{
operator|.
name|init
operator|=
operator|&
name|cayman_vm_init
block|,
operator|.
name|fini
operator|=
operator|&
name|cayman_vm_fini
block|,
operator|.
name|pt_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|set_page
operator|=
operator|&
name|cayman_vm_set_page
block|, 	}
block|,
operator|.
name|ring
operator|=
block|{
index|[
name|RADEON_RING_TYPE_GFX_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|cayman_ring_ib_execute
block|,
operator|.
name|ib_parse
operator|=
operator|&
name|evergreen_ib_parse
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|cayman_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r600_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|evergreen_cs_parse
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r600_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r600_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|evergreen_gpu_is_lockup
block|,
operator|.
name|vm_flush
operator|=
operator|&
name|cayman_vm_flush
block|, 		}
block|,
index|[
name|CAYMAN_RING_TYPE_CP1_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|cayman_ring_ib_execute
block|,
operator|.
name|ib_parse
operator|=
operator|&
name|evergreen_ib_parse
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|cayman_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r600_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|evergreen_cs_parse
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r600_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r600_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|evergreen_gpu_is_lockup
block|,
operator|.
name|vm_flush
operator|=
operator|&
name|cayman_vm_flush
block|, 		}
block|,
index|[
name|CAYMAN_RING_TYPE_CP2_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|cayman_ring_ib_execute
block|,
operator|.
name|ib_parse
operator|=
operator|&
name|evergreen_ib_parse
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|cayman_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r600_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|evergreen_cs_parse
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r600_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r600_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|evergreen_gpu_is_lockup
block|,
operator|.
name|vm_flush
operator|=
operator|&
name|cayman_vm_flush
block|, 		}
block|,
index|[
name|R600_RING_TYPE_DMA_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|cayman_dma_ring_ib_execute
block|,
operator|.
name|ib_parse
operator|=
operator|&
name|evergreen_dma_ib_parse
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|evergreen_dma_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r600_dma_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|evergreen_dma_cs_parse
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r600_dma_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r600_dma_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|cayman_dma_is_lockup
block|,
operator|.
name|vm_flush
operator|=
operator|&
name|cayman_dma_vm_flush
block|, 		}
block|,
index|[
name|CAYMAN_RING_TYPE_DMA1_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|cayman_dma_ring_ib_execute
block|,
operator|.
name|ib_parse
operator|=
operator|&
name|evergreen_dma_ib_parse
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|evergreen_dma_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r600_dma_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
operator|&
name|evergreen_dma_cs_parse
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r600_dma_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r600_dma_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|cayman_dma_is_lockup
block|,
operator|.
name|vm_flush
operator|=
operator|&
name|cayman_dma_vm_flush
block|, 		}
block|}
block|,
operator|.
name|irq
operator|=
block|{
operator|.
name|set
operator|=
operator|&
name|evergreen_irq_set
block|,
operator|.
name|process
operator|=
operator|&
name|evergreen_irq_process
block|, 	}
block|,
operator|.
name|display
operator|=
block|{
operator|.
name|bandwidth_update
operator|=
operator|&
name|dce6_bandwidth_update
block|,
operator|.
name|get_vblank_counter
operator|=
operator|&
name|evergreen_get_vblank_counter
block|,
operator|.
name|wait_for_vblank
operator|=
operator|&
name|dce4_wait_for_vblank
block|,
operator|.
name|set_backlight_level
operator|=
operator|&
name|atombios_set_backlight_level
block|,
operator|.
name|get_backlight_level
operator|=
operator|&
name|atombios_get_backlight_level
block|, 	}
block|,
operator|.
name|copy
operator|=
block|{
operator|.
name|blit
operator|=
operator|&
name|r600_copy_blit
block|,
operator|.
name|blit_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|dma
operator|=
operator|&
name|evergreen_copy_dma
block|,
operator|.
name|dma_ring_index
operator|=
name|R600_RING_TYPE_DMA_INDEX
block|,
operator|.
name|copy
operator|=
operator|&
name|evergreen_copy_dma
block|,
operator|.
name|copy_ring_index
operator|=
name|R600_RING_TYPE_DMA_INDEX
block|, 	}
block|,
operator|.
name|surface
operator|=
block|{
operator|.
name|set_reg
operator|=
name|r600_set_surface_reg
block|,
operator|.
name|clear_reg
operator|=
name|r600_clear_surface_reg
block|, 	}
block|,
operator|.
name|hpd
operator|=
block|{
operator|.
name|init
operator|=
operator|&
name|evergreen_hpd_init
block|,
operator|.
name|fini
operator|=
operator|&
name|evergreen_hpd_fini
block|,
operator|.
name|sense
operator|=
operator|&
name|evergreen_hpd_sense
block|,
operator|.
name|set_polarity
operator|=
operator|&
name|evergreen_hpd_set_polarity
block|, 	}
block|,
operator|.
name|pm
operator|=
block|{
operator|.
name|misc
operator|=
operator|&
name|evergreen_pm_misc
block|,
operator|.
name|prepare
operator|=
operator|&
name|evergreen_pm_prepare
block|,
operator|.
name|finish
operator|=
operator|&
name|evergreen_pm_finish
block|,
operator|.
name|init_profile
operator|=
operator|&
name|sumo_pm_init_profile
block|,
operator|.
name|get_dynpm_state
operator|=
operator|&
name|r600_pm_get_dynpm_state
block|,
operator|.
name|get_engine_clock
operator|=
operator|&
name|radeon_atom_get_engine_clock
block|,
operator|.
name|set_engine_clock
operator|=
operator|&
name|radeon_atom_set_engine_clock
block|,
operator|.
name|get_memory_clock
operator|=
name|NULL
block|,
operator|.
name|set_memory_clock
operator|=
name|NULL
block|,
operator|.
name|get_pcie_lanes
operator|=
name|NULL
block|,
operator|.
name|set_pcie_lanes
operator|=
name|NULL
block|,
operator|.
name|set_clock_gating
operator|=
name|NULL
block|, 	}
block|,
operator|.
name|pflip
operator|=
block|{
operator|.
name|pre_page_flip
operator|=
operator|&
name|evergreen_pre_page_flip
block|,
operator|.
name|page_flip
operator|=
operator|&
name|evergreen_page_flip
block|,
operator|.
name|post_page_flip
operator|=
operator|&
name|evergreen_post_page_flip
block|, 	}
block|, }
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|struct
name|radeon_asic
name|si_asic
init|=
block|{
operator|.
name|init
operator|=
operator|&
name|si_init
block|,
operator|.
name|fini
operator|=
operator|&
name|si_fini
block|,
operator|.
name|suspend
operator|=
operator|&
name|si_suspend
block|,
operator|.
name|resume
operator|=
operator|&
name|si_resume
block|,
operator|.
name|asic_reset
operator|=
operator|&
name|si_asic_reset
block|,
operator|.
name|vga_set_state
operator|=
operator|&
name|r600_vga_set_state
block|,
operator|.
name|ioctl_wait_idle
operator|=
name|r600_ioctl_wait_idle
block|,
operator|.
name|gui_idle
operator|=
operator|&
name|r600_gui_idle
block|,
operator|.
name|mc_wait_for_idle
operator|=
operator|&
name|evergreen_mc_wait_for_idle
block|,
operator|.
name|gart
operator|=
block|{
operator|.
name|tlb_flush
operator|=
operator|&
name|si_pcie_gart_tlb_flush
block|,
operator|.
name|set_page
operator|=
operator|&
name|rs600_gart_set_page
block|, 	}
block|,
operator|.
name|vm
operator|=
block|{
operator|.
name|init
operator|=
operator|&
name|si_vm_init
block|,
operator|.
name|fini
operator|=
operator|&
name|si_vm_fini
block|,
operator|.
name|pt_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|set_page
operator|=
operator|&
name|si_vm_set_page
block|, 	}
block|,
operator|.
name|ring
operator|=
block|{
index|[
name|RADEON_RING_TYPE_GFX_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|si_ring_ib_execute
block|,
operator|.
name|ib_parse
operator|=
operator|&
name|si_ib_parse
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|si_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r600_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
name|NULL
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r600_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r600_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|si_gpu_is_lockup
block|,
operator|.
name|vm_flush
operator|=
operator|&
name|si_vm_flush
block|, 		}
block|,
index|[
name|CAYMAN_RING_TYPE_CP1_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|si_ring_ib_execute
block|,
operator|.
name|ib_parse
operator|=
operator|&
name|si_ib_parse
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|si_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r600_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
name|NULL
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r600_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r600_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|si_gpu_is_lockup
block|,
operator|.
name|vm_flush
operator|=
operator|&
name|si_vm_flush
block|, 		}
block|,
index|[
name|CAYMAN_RING_TYPE_CP2_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|si_ring_ib_execute
block|,
operator|.
name|ib_parse
operator|=
operator|&
name|si_ib_parse
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|si_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r600_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
name|NULL
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r600_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r600_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|si_gpu_is_lockup
block|,
operator|.
name|vm_flush
operator|=
operator|&
name|si_vm_flush
block|, 		}
block|,
index|[
name|R600_RING_TYPE_DMA_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|cayman_dma_ring_ib_execute
block|,
operator|.
name|ib_parse
operator|=
operator|&
name|evergreen_dma_ib_parse
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|evergreen_dma_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r600_dma_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
name|NULL
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r600_dma_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r600_dma_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|cayman_dma_is_lockup
block|,
operator|.
name|vm_flush
operator|=
operator|&
name|si_dma_vm_flush
block|, 		}
block|,
index|[
name|CAYMAN_RING_TYPE_DMA1_INDEX
index|]
operator|=
block|{
operator|.
name|ib_execute
operator|=
operator|&
name|cayman_dma_ring_ib_execute
block|,
operator|.
name|ib_parse
operator|=
operator|&
name|evergreen_dma_ib_parse
block|,
operator|.
name|emit_fence
operator|=
operator|&
name|evergreen_dma_fence_ring_emit
block|,
operator|.
name|emit_semaphore
operator|=
operator|&
name|r600_dma_semaphore_ring_emit
block|,
operator|.
name|cs_parse
operator|=
name|NULL
block|,
operator|.
name|ring_test
operator|=
operator|&
name|r600_dma_ring_test
block|,
operator|.
name|ib_test
operator|=
operator|&
name|r600_dma_ib_test
block|,
operator|.
name|is_lockup
operator|=
operator|&
name|cayman_dma_is_lockup
block|,
operator|.
name|vm_flush
operator|=
operator|&
name|si_dma_vm_flush
block|, 		}
block|}
block|,
operator|.
name|irq
operator|=
block|{
operator|.
name|set
operator|=
operator|&
name|si_irq_set
block|,
operator|.
name|process
operator|=
operator|&
name|si_irq_process
block|, 	}
block|,
operator|.
name|display
operator|=
block|{
operator|.
name|bandwidth_update
operator|=
operator|&
name|dce6_bandwidth_update
block|,
operator|.
name|get_vblank_counter
operator|=
operator|&
name|evergreen_get_vblank_counter
block|,
operator|.
name|wait_for_vblank
operator|=
operator|&
name|dce4_wait_for_vblank
block|,
operator|.
name|set_backlight_level
operator|=
operator|&
name|atombios_set_backlight_level
block|,
operator|.
name|get_backlight_level
operator|=
operator|&
name|atombios_get_backlight_level
block|, 	}
block|,
operator|.
name|copy
operator|=
block|{
operator|.
name|blit
operator|=
name|NULL
block|,
operator|.
name|blit_ring_index
operator|=
name|RADEON_RING_TYPE_GFX_INDEX
block|,
operator|.
name|dma
operator|=
operator|&
name|si_copy_dma
block|,
operator|.
name|dma_ring_index
operator|=
name|R600_RING_TYPE_DMA_INDEX
block|,
operator|.
name|copy
operator|=
operator|&
name|si_copy_dma
block|,
operator|.
name|copy_ring_index
operator|=
name|R600_RING_TYPE_DMA_INDEX
block|, 	}
block|,
operator|.
name|surface
operator|=
block|{
operator|.
name|set_reg
operator|=
name|r600_set_surface_reg
block|,
operator|.
name|clear_reg
operator|=
name|r600_clear_surface_reg
block|, 	}
block|,
operator|.
name|hpd
operator|=
block|{
operator|.
name|init
operator|=
operator|&
name|evergreen_hpd_init
block|,
operator|.
name|fini
operator|=
operator|&
name|evergreen_hpd_fini
block|,
operator|.
name|sense
operator|=
operator|&
name|evergreen_hpd_sense
block|,
operator|.
name|set_polarity
operator|=
operator|&
name|evergreen_hpd_set_polarity
block|, 	}
block|,
operator|.
name|pm
operator|=
block|{
operator|.
name|misc
operator|=
operator|&
name|evergreen_pm_misc
block|,
operator|.
name|prepare
operator|=
operator|&
name|evergreen_pm_prepare
block|,
operator|.
name|finish
operator|=
operator|&
name|evergreen_pm_finish
block|,
operator|.
name|init_profile
operator|=
operator|&
name|sumo_pm_init_profile
block|,
operator|.
name|get_dynpm_state
operator|=
operator|&
name|r600_pm_get_dynpm_state
block|,
operator|.
name|get_engine_clock
operator|=
operator|&
name|radeon_atom_get_engine_clock
block|,
operator|.
name|set_engine_clock
operator|=
operator|&
name|radeon_atom_set_engine_clock
block|,
operator|.
name|get_memory_clock
operator|=
operator|&
name|radeon_atom_get_memory_clock
block|,
operator|.
name|set_memory_clock
operator|=
operator|&
name|radeon_atom_set_memory_clock
block|,
operator|.
name|get_pcie_lanes
operator|=
name|NULL
block|,
operator|.
name|set_pcie_lanes
operator|=
name|NULL
block|,
operator|.
name|set_clock_gating
operator|=
name|NULL
block|, 	}
block|,
operator|.
name|pflip
operator|=
block|{
operator|.
name|pre_page_flip
operator|=
operator|&
name|evergreen_pre_page_flip
block|,
operator|.
name|page_flip
operator|=
operator|&
name|evergreen_page_flip
block|,
operator|.
name|post_page_flip
operator|=
operator|&
name|evergreen_post_page_flip
block|, 	}
block|, }
decl_stmt|;
end_decl_stmt

begin_comment
comment|/**  * radeon_asic_init - register asic specific callbacks  *  * @rdev: radeon device pointer  *  * Registers the appropriate asic specific callbacks for each  * chip family.  Also sets other asics specific info like the number  * of crtcs and the register aperture accessors (all asics).  * Returns 0 for success.  */
end_comment

begin_function
name|int
name|radeon_asic_init
parameter_list|(
name|struct
name|radeon_device
modifier|*
name|rdev
parameter_list|)
block|{
name|radeon_register_accessor_init
argument_list|(
name|rdev
argument_list|)
expr_stmt|;
comment|/* set the number of crtcs */
if|if
condition|(
name|rdev
operator|->
name|flags
operator|&
name|RADEON_SINGLE_CRTC
condition|)
name|rdev
operator|->
name|num_crtc
operator|=
literal|1
expr_stmt|;
else|else
name|rdev
operator|->
name|num_crtc
operator|=
literal|2
expr_stmt|;
switch|switch
condition|(
name|rdev
operator|->
name|family
condition|)
block|{
case|case
name|CHIP_R100
case|:
case|case
name|CHIP_RV100
case|:
case|case
name|CHIP_RS100
case|:
case|case
name|CHIP_RV200
case|:
case|case
name|CHIP_RS200
case|:
name|rdev
operator|->
name|asic
operator|=
operator|&
name|r100_asic
expr_stmt|;
break|break;
case|case
name|CHIP_R200
case|:
case|case
name|CHIP_RV250
case|:
case|case
name|CHIP_RS300
case|:
case|case
name|CHIP_RV280
case|:
name|rdev
operator|->
name|asic
operator|=
operator|&
name|r200_asic
expr_stmt|;
break|break;
case|case
name|CHIP_R300
case|:
case|case
name|CHIP_R350
case|:
case|case
name|CHIP_RV350
case|:
case|case
name|CHIP_RV380
case|:
if|if
condition|(
name|rdev
operator|->
name|flags
operator|&
name|RADEON_IS_PCIE
condition|)
name|rdev
operator|->
name|asic
operator|=
operator|&
name|r300_asic_pcie
expr_stmt|;
else|else
name|rdev
operator|->
name|asic
operator|=
operator|&
name|r300_asic
expr_stmt|;
break|break;
case|case
name|CHIP_R420
case|:
case|case
name|CHIP_R423
case|:
case|case
name|CHIP_RV410
case|:
name|rdev
operator|->
name|asic
operator|=
operator|&
name|r420_asic
expr_stmt|;
comment|/* handle macs */
if|if
condition|(
name|rdev
operator|->
name|bios
operator|==
name|NULL
condition|)
block|{
name|rdev
operator|->
name|asic
operator|->
name|pm
operator|.
name|get_engine_clock
operator|=
operator|&
name|radeon_legacy_get_engine_clock
expr_stmt|;
name|rdev
operator|->
name|asic
operator|->
name|pm
operator|.
name|set_engine_clock
operator|=
operator|&
name|radeon_legacy_set_engine_clock
expr_stmt|;
name|rdev
operator|->
name|asic
operator|->
name|pm
operator|.
name|get_memory_clock
operator|=
operator|&
name|radeon_legacy_get_memory_clock
expr_stmt|;
name|rdev
operator|->
name|asic
operator|->
name|pm
operator|.
name|set_memory_clock
operator|=
name|NULL
expr_stmt|;
name|rdev
operator|->
name|asic
operator|->
name|display
operator|.
name|set_backlight_level
operator|=
operator|&
name|radeon_legacy_set_backlight_level
expr_stmt|;
block|}
break|break;
case|case
name|CHIP_RS400
case|:
case|case
name|CHIP_RS480
case|:
name|rdev
operator|->
name|asic
operator|=
operator|&
name|rs400_asic
expr_stmt|;
break|break;
case|case
name|CHIP_RS600
case|:
name|rdev
operator|->
name|asic
operator|=
operator|&
name|rs600_asic
expr_stmt|;
break|break;
case|case
name|CHIP_RS690
case|:
case|case
name|CHIP_RS740
case|:
name|rdev
operator|->
name|asic
operator|=
operator|&
name|rs690_asic
expr_stmt|;
break|break;
case|case
name|CHIP_RV515
case|:
name|rdev
operator|->
name|asic
operator|=
operator|&
name|rv515_asic
expr_stmt|;
break|break;
case|case
name|CHIP_R520
case|:
case|case
name|CHIP_RV530
case|:
case|case
name|CHIP_RV560
case|:
case|case
name|CHIP_RV570
case|:
case|case
name|CHIP_R580
case|:
name|rdev
operator|->
name|asic
operator|=
operator|&
name|r520_asic
expr_stmt|;
break|break;
case|case
name|CHIP_R600
case|:
case|case
name|CHIP_RV610
case|:
case|case
name|CHIP_RV630
case|:
case|case
name|CHIP_RV620
case|:
case|case
name|CHIP_RV635
case|:
case|case
name|CHIP_RV670
case|:
name|rdev
operator|->
name|asic
operator|=
operator|&
name|r600_asic
expr_stmt|;
break|break;
case|case
name|CHIP_RS780
case|:
case|case
name|CHIP_RS880
case|:
name|rdev
operator|->
name|asic
operator|=
operator|&
name|rs780_asic
expr_stmt|;
break|break;
case|case
name|CHIP_RV770
case|:
case|case
name|CHIP_RV730
case|:
case|case
name|CHIP_RV710
case|:
case|case
name|CHIP_RV740
case|:
name|rdev
operator|->
name|asic
operator|=
operator|&
name|rv770_asic
expr_stmt|;
break|break;
case|case
name|CHIP_CEDAR
case|:
case|case
name|CHIP_REDWOOD
case|:
case|case
name|CHIP_JUNIPER
case|:
case|case
name|CHIP_CYPRESS
case|:
case|case
name|CHIP_HEMLOCK
case|:
comment|/* set num crtcs */
if|if
condition|(
name|rdev
operator|->
name|family
operator|==
name|CHIP_CEDAR
condition|)
name|rdev
operator|->
name|num_crtc
operator|=
literal|4
expr_stmt|;
else|else
name|rdev
operator|->
name|num_crtc
operator|=
literal|6
expr_stmt|;
name|rdev
operator|->
name|asic
operator|=
operator|&
name|evergreen_asic
expr_stmt|;
break|break;
case|case
name|CHIP_PALM
case|:
case|case
name|CHIP_SUMO
case|:
case|case
name|CHIP_SUMO2
case|:
name|rdev
operator|->
name|asic
operator|=
operator|&
name|sumo_asic
expr_stmt|;
break|break;
case|case
name|CHIP_BARTS
case|:
case|case
name|CHIP_TURKS
case|:
case|case
name|CHIP_CAICOS
case|:
comment|/* set num crtcs */
if|if
condition|(
name|rdev
operator|->
name|family
operator|==
name|CHIP_CAICOS
condition|)
name|rdev
operator|->
name|num_crtc
operator|=
literal|4
expr_stmt|;
else|else
name|rdev
operator|->
name|num_crtc
operator|=
literal|6
expr_stmt|;
name|rdev
operator|->
name|asic
operator|=
operator|&
name|btc_asic
expr_stmt|;
break|break;
case|case
name|CHIP_CAYMAN
case|:
name|rdev
operator|->
name|asic
operator|=
operator|&
name|cayman_asic
expr_stmt|;
comment|/* set num crtcs */
name|rdev
operator|->
name|num_crtc
operator|=
literal|6
expr_stmt|;
break|break;
case|case
name|CHIP_ARUBA
case|:
name|rdev
operator|->
name|asic
operator|=
operator|&
name|trinity_asic
expr_stmt|;
comment|/* set num crtcs */
name|rdev
operator|->
name|num_crtc
operator|=
literal|4
expr_stmt|;
break|break;
case|case
name|CHIP_TAHITI
case|:
case|case
name|CHIP_PITCAIRN
case|:
case|case
name|CHIP_VERDE
case|:
name|rdev
operator|->
name|asic
operator|=
operator|&
name|si_asic
expr_stmt|;
comment|/* set num crtcs */
name|rdev
operator|->
name|num_crtc
operator|=
literal|6
expr_stmt|;
break|break;
default|default:
comment|/* FIXME: not supported yet */
return|return
operator|-
name|EINVAL
return|;
block|}
if|if
condition|(
name|rdev
operator|->
name|flags
operator|&
name|RADEON_IS_IGP
condition|)
block|{
name|rdev
operator|->
name|asic
operator|->
name|pm
operator|.
name|get_memory_clock
operator|=
name|NULL
expr_stmt|;
name|rdev
operator|->
name|asic
operator|->
name|pm
operator|.
name|set_memory_clock
operator|=
name|NULL
expr_stmt|;
block|}
return|return
literal|0
return|;
block|}
end_function

end_unit

