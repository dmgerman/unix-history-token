begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*  * Copyright Â© 2007 Dave Mueller  *  * Permission is hereby granted, free of charge, to any person obtaining a  * copy of this software and associated documentation files (the "Software"),  * to deal in the Software without restriction, including without limitation  * the rights to use, copy, modify, merge, publish, distribute, sublicense,  * and/or sell copies of the Software, and to permit persons to whom the  * Software is furnished to do so, subject to the following conditions:  *  * The above copyright notice and this permission notice (including the next  * paragraph) shall be included in all copies or substantial portions of the  * Software.  *  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL  * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER  * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING  * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS  * IN THE SOFTWARE.  *  * Authors:  *    Dave Mueller<dave.mueller@gmx.ch>  *  */
end_comment

begin_include
include|#
directive|include
file|<sys/cdefs.h>
end_include

begin_expr_stmt
name|__FBSDID
argument_list|(
literal|"$FreeBSD$"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_include
include|#
directive|include
file|"dvo.h"
end_include

begin_comment
comment|/* register definitions according to the TFP410 data sheet */
end_comment

begin_define
define|#
directive|define
name|TFP410_VID
value|0x014C
end_define

begin_define
define|#
directive|define
name|TFP410_DID
value|0x0410
end_define

begin_define
define|#
directive|define
name|TFP410_VID_LO
value|0x00
end_define

begin_define
define|#
directive|define
name|TFP410_VID_HI
value|0x01
end_define

begin_define
define|#
directive|define
name|TFP410_DID_LO
value|0x02
end_define

begin_define
define|#
directive|define
name|TFP410_DID_HI
value|0x03
end_define

begin_define
define|#
directive|define
name|TFP410_REV
value|0x04
end_define

begin_define
define|#
directive|define
name|TFP410_CTL_1
value|0x08
end_define

begin_define
define|#
directive|define
name|TFP410_CTL_1_TDIS
value|(1<<6)
end_define

begin_define
define|#
directive|define
name|TFP410_CTL_1_VEN
value|(1<<5)
end_define

begin_define
define|#
directive|define
name|TFP410_CTL_1_HEN
value|(1<<4)
end_define

begin_define
define|#
directive|define
name|TFP410_CTL_1_DSEL
value|(1<<3)
end_define

begin_define
define|#
directive|define
name|TFP410_CTL_1_BSEL
value|(1<<2)
end_define

begin_define
define|#
directive|define
name|TFP410_CTL_1_EDGE
value|(1<<1)
end_define

begin_define
define|#
directive|define
name|TFP410_CTL_1_PD
value|(1<<0)
end_define

begin_define
define|#
directive|define
name|TFP410_CTL_2
value|0x09
end_define

begin_define
define|#
directive|define
name|TFP410_CTL_2_VLOW
value|(1<<7)
end_define

begin_define
define|#
directive|define
name|TFP410_CTL_2_MSEL_MASK
value|(0x7<<4)
end_define

begin_define
define|#
directive|define
name|TFP410_CTL_2_MSEL
value|(1<<4)
end_define

begin_define
define|#
directive|define
name|TFP410_CTL_2_TSEL
value|(1<<3)
end_define

begin_define
define|#
directive|define
name|TFP410_CTL_2_RSEN
value|(1<<2)
end_define

begin_define
define|#
directive|define
name|TFP410_CTL_2_HTPLG
value|(1<<1)
end_define

begin_define
define|#
directive|define
name|TFP410_CTL_2_MDI
value|(1<<0)
end_define

begin_define
define|#
directive|define
name|TFP410_CTL_3
value|0x0A
end_define

begin_define
define|#
directive|define
name|TFP410_CTL_3_DK_MASK
value|(0x7<<5)
end_define

begin_define
define|#
directive|define
name|TFP410_CTL_3_DK
value|(1<<5)
end_define

begin_define
define|#
directive|define
name|TFP410_CTL_3_DKEN
value|(1<<4)
end_define

begin_define
define|#
directive|define
name|TFP410_CTL_3_CTL_MASK
value|(0x7<<1)
end_define

begin_define
define|#
directive|define
name|TFP410_CTL_3_CTL
value|(1<<1)
end_define

begin_define
define|#
directive|define
name|TFP410_USERCFG
value|0x0B
end_define

begin_define
define|#
directive|define
name|TFP410_DE_DLY
value|0x32
end_define

begin_define
define|#
directive|define
name|TFP410_DE_CTL
value|0x33
end_define

begin_define
define|#
directive|define
name|TFP410_DE_CTL_DEGEN
value|(1<<6)
end_define

begin_define
define|#
directive|define
name|TFP410_DE_CTL_VSPOL
value|(1<<5)
end_define

begin_define
define|#
directive|define
name|TFP410_DE_CTL_HSPOL
value|(1<<4)
end_define

begin_define
define|#
directive|define
name|TFP410_DE_CTL_DEDLY8
value|(1<<0)
end_define

begin_define
define|#
directive|define
name|TFP410_DE_TOP
value|0x34
end_define

begin_define
define|#
directive|define
name|TFP410_DE_CNT_LO
value|0x36
end_define

begin_define
define|#
directive|define
name|TFP410_DE_CNT_HI
value|0x37
end_define

begin_define
define|#
directive|define
name|TFP410_DE_LIN_LO
value|0x38
end_define

begin_define
define|#
directive|define
name|TFP410_DE_LIN_HI
value|0x39
end_define

begin_define
define|#
directive|define
name|TFP410_H_RES_LO
value|0x3A
end_define

begin_define
define|#
directive|define
name|TFP410_H_RES_HI
value|0x3B
end_define

begin_define
define|#
directive|define
name|TFP410_V_RES_LO
value|0x3C
end_define

begin_define
define|#
directive|define
name|TFP410_V_RES_HI
value|0x3D
end_define

begin_struct
struct|struct
name|tfp410_priv
block|{
name|bool
name|quiet
decl_stmt|;
block|}
struct|;
end_struct

begin_function
specifier|static
name|bool
name|tfp410_readb
parameter_list|(
name|struct
name|intel_dvo_device
modifier|*
name|dvo
parameter_list|,
name|int
name|addr
parameter_list|,
name|uint8_t
modifier|*
name|ch
parameter_list|)
block|{
name|struct
name|tfp410_priv
modifier|*
name|tfp
init|=
name|dvo
operator|->
name|dev_priv
decl_stmt|;
name|device_t
name|adapter
init|=
name|dvo
operator|->
name|i2c_bus
decl_stmt|;
name|u8
name|out_buf
index|[
literal|2
index|]
decl_stmt|;
name|u8
name|in_buf
index|[
literal|2
index|]
decl_stmt|;
name|struct
name|iic_msg
name|msgs
index|[]
init|=
block|{
block|{
operator|.
name|slave
operator|=
name|dvo
operator|->
name|slave_addr
operator|<<
literal|1
block|,
operator|.
name|flags
operator|=
literal|0
block|,
operator|.
name|len
operator|=
literal|1
block|,
operator|.
name|buf
operator|=
name|out_buf
block|, 		}
block|,
block|{
operator|.
name|slave
operator|=
name|dvo
operator|->
name|slave_addr
operator|<<
literal|1
block|,
operator|.
name|flags
operator|=
name|I2C_M_RD
block|,
operator|.
name|len
operator|=
literal|1
block|,
operator|.
name|buf
operator|=
name|in_buf
block|, 		}
block|}
decl_stmt|;
name|out_buf
index|[
literal|0
index|]
operator|=
name|addr
expr_stmt|;
name|out_buf
index|[
literal|1
index|]
operator|=
literal|0
expr_stmt|;
if|if
condition|(
operator|-
name|iicbus_transfer
argument_list|(
name|adapter
argument_list|,
name|msgs
argument_list|,
literal|2
argument_list|)
operator|==
literal|0
condition|)
block|{
operator|*
name|ch
operator|=
name|in_buf
index|[
literal|0
index|]
expr_stmt|;
return|return
name|true
return|;
block|}
if|if
condition|(
operator|!
name|tfp
operator|->
name|quiet
condition|)
block|{
name|DRM_DEBUG_KMS
argument_list|(
literal|"Unable to read register 0x%02x from %s:%02x.\n"
argument_list|,
name|addr
argument_list|,
name|device_get_nameunit
argument_list|(
name|adapter
argument_list|)
argument_list|,
name|dvo
operator|->
name|slave_addr
argument_list|)
expr_stmt|;
block|}
return|return
name|false
return|;
block|}
end_function

begin_function
specifier|static
name|bool
name|tfp410_writeb
parameter_list|(
name|struct
name|intel_dvo_device
modifier|*
name|dvo
parameter_list|,
name|int
name|addr
parameter_list|,
name|uint8_t
name|ch
parameter_list|)
block|{
name|struct
name|tfp410_priv
modifier|*
name|tfp
init|=
name|dvo
operator|->
name|dev_priv
decl_stmt|;
name|device_t
name|adapter
init|=
name|dvo
operator|->
name|i2c_bus
decl_stmt|;
name|uint8_t
name|out_buf
index|[
literal|2
index|]
decl_stmt|;
name|struct
name|iic_msg
name|msg
init|=
block|{
operator|.
name|slave
operator|=
name|dvo
operator|->
name|slave_addr
operator|<<
literal|1
block|,
operator|.
name|flags
operator|=
literal|0
block|,
operator|.
name|len
operator|=
literal|2
block|,
operator|.
name|buf
operator|=
name|out_buf
block|, 	}
decl_stmt|;
name|out_buf
index|[
literal|0
index|]
operator|=
name|addr
expr_stmt|;
name|out_buf
index|[
literal|1
index|]
operator|=
name|ch
expr_stmt|;
if|if
condition|(
operator|-
name|iicbus_transfer
argument_list|(
name|adapter
argument_list|,
operator|&
name|msg
argument_list|,
literal|1
argument_list|)
operator|==
literal|0
condition|)
return|return
name|true
return|;
if|if
condition|(
operator|!
name|tfp
operator|->
name|quiet
condition|)
block|{
name|DRM_DEBUG_KMS
argument_list|(
literal|"Unable to write register 0x%02x to %s:%d.\n"
argument_list|,
name|addr
argument_list|,
name|device_get_nameunit
argument_list|(
name|adapter
argument_list|)
argument_list|,
name|dvo
operator|->
name|slave_addr
argument_list|)
expr_stmt|;
block|}
return|return
name|false
return|;
block|}
end_function

begin_function
specifier|static
name|int
name|tfp410_getid
parameter_list|(
name|struct
name|intel_dvo_device
modifier|*
name|dvo
parameter_list|,
name|int
name|addr
parameter_list|)
block|{
name|uint8_t
name|ch1
decl_stmt|,
name|ch2
decl_stmt|;
if|if
condition|(
name|tfp410_readb
argument_list|(
name|dvo
argument_list|,
name|addr
operator|+
literal|0
argument_list|,
operator|&
name|ch1
argument_list|)
operator|&&
name|tfp410_readb
argument_list|(
name|dvo
argument_list|,
name|addr
operator|+
literal|1
argument_list|,
operator|&
name|ch2
argument_list|)
condition|)
return|return
operator|(
operator|(
name|ch2
operator|<<
literal|8
operator|)
operator|&
literal|0xFF00
operator|)
operator||
operator|(
name|ch1
operator|&
literal|0x00FF
operator|)
return|;
return|return
operator|-
literal|1
return|;
block|}
end_function

begin_comment
comment|/* Ti TFP410 driver for chip on i2c bus */
end_comment

begin_function
specifier|static
name|bool
name|tfp410_init
parameter_list|(
name|struct
name|intel_dvo_device
modifier|*
name|dvo
parameter_list|,
name|device_t
name|adapter
parameter_list|)
block|{
comment|/* this will detect the tfp410 chip on the specified i2c bus */
name|struct
name|tfp410_priv
modifier|*
name|tfp
decl_stmt|;
name|int
name|id
decl_stmt|;
name|tfp
operator|=
name|malloc
argument_list|(
sizeof|sizeof
argument_list|(
expr|struct
name|tfp410_priv
argument_list|)
argument_list|,
name|DRM_MEM_KMS
argument_list|,
name|M_NOWAIT
operator||
name|M_ZERO
argument_list|)
expr_stmt|;
if|if
condition|(
name|tfp
operator|==
name|NULL
condition|)
return|return
name|false
return|;
name|dvo
operator|->
name|i2c_bus
operator|=
name|adapter
expr_stmt|;
name|dvo
operator|->
name|dev_priv
operator|=
name|tfp
expr_stmt|;
name|tfp
operator|->
name|quiet
operator|=
name|true
expr_stmt|;
if|if
condition|(
operator|(
name|id
operator|=
name|tfp410_getid
argument_list|(
name|dvo
argument_list|,
name|TFP410_VID_LO
argument_list|)
operator|)
operator|!=
name|TFP410_VID
condition|)
block|{
name|DRM_DEBUG_KMS
argument_list|(
literal|"tfp410 not detected got VID %X: from %s "
literal|"Slave %d.\n"
argument_list|,
name|id
argument_list|,
name|device_get_nameunit
argument_list|(
name|adapter
argument_list|)
argument_list|,
name|dvo
operator|->
name|slave_addr
argument_list|)
expr_stmt|;
goto|goto
name|out
goto|;
block|}
if|if
condition|(
operator|(
name|id
operator|=
name|tfp410_getid
argument_list|(
name|dvo
argument_list|,
name|TFP410_DID_LO
argument_list|)
operator|)
operator|!=
name|TFP410_DID
condition|)
block|{
name|DRM_DEBUG_KMS
argument_list|(
literal|"tfp410 not detected got DID %X: from %s "
literal|"Slave %d.\n"
argument_list|,
name|id
argument_list|,
name|device_get_nameunit
argument_list|(
name|adapter
argument_list|)
argument_list|,
name|dvo
operator|->
name|slave_addr
argument_list|)
expr_stmt|;
goto|goto
name|out
goto|;
block|}
name|tfp
operator|->
name|quiet
operator|=
name|false
expr_stmt|;
return|return
name|true
return|;
name|out
label|:
name|free
argument_list|(
name|tfp
argument_list|,
name|DRM_MEM_KMS
argument_list|)
expr_stmt|;
return|return
name|false
return|;
block|}
end_function

begin_function
specifier|static
name|enum
name|drm_connector_status
name|tfp410_detect
parameter_list|(
name|struct
name|intel_dvo_device
modifier|*
name|dvo
parameter_list|)
block|{
name|enum
name|drm_connector_status
name|ret
init|=
name|connector_status_disconnected
decl_stmt|;
name|uint8_t
name|ctl2
decl_stmt|;
if|if
condition|(
name|tfp410_readb
argument_list|(
name|dvo
argument_list|,
name|TFP410_CTL_2
argument_list|,
operator|&
name|ctl2
argument_list|)
condition|)
block|{
if|if
condition|(
name|ctl2
operator|&
name|TFP410_CTL_2_RSEN
condition|)
name|ret
operator|=
name|connector_status_connected
expr_stmt|;
else|else
name|ret
operator|=
name|connector_status_disconnected
expr_stmt|;
block|}
return|return
name|ret
return|;
block|}
end_function

begin_function
specifier|static
name|enum
name|drm_mode_status
name|tfp410_mode_valid
parameter_list|(
name|struct
name|intel_dvo_device
modifier|*
name|dvo
parameter_list|,
name|struct
name|drm_display_mode
modifier|*
name|mode
parameter_list|)
block|{
return|return
name|MODE_OK
return|;
block|}
end_function

begin_function
specifier|static
name|void
name|tfp410_mode_set
parameter_list|(
name|struct
name|intel_dvo_device
modifier|*
name|dvo
parameter_list|,
name|struct
name|drm_display_mode
modifier|*
name|mode
parameter_list|,
name|struct
name|drm_display_mode
modifier|*
name|adjusted_mode
parameter_list|)
block|{
comment|/* As long as the basics are set up, since we don't have clock dependencies 	* in the mode setup, we can just leave the registers alone and everything 	* will work fine. 	*/
comment|/* don't do much */
return|return;
block|}
end_function

begin_comment
comment|/* set the tfp410 power state */
end_comment

begin_function
specifier|static
name|void
name|tfp410_dpms
parameter_list|(
name|struct
name|intel_dvo_device
modifier|*
name|dvo
parameter_list|,
name|bool
name|enable
parameter_list|)
block|{
name|uint8_t
name|ctl1
decl_stmt|;
if|if
condition|(
operator|!
name|tfp410_readb
argument_list|(
name|dvo
argument_list|,
name|TFP410_CTL_1
argument_list|,
operator|&
name|ctl1
argument_list|)
condition|)
return|return;
if|if
condition|(
name|enable
condition|)
name|ctl1
operator||=
name|TFP410_CTL_1_PD
expr_stmt|;
else|else
name|ctl1
operator|&=
operator|~
name|TFP410_CTL_1_PD
expr_stmt|;
name|tfp410_writeb
argument_list|(
name|dvo
argument_list|,
name|TFP410_CTL_1
argument_list|,
name|ctl1
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|bool
name|tfp410_get_hw_state
parameter_list|(
name|struct
name|intel_dvo_device
modifier|*
name|dvo
parameter_list|)
block|{
name|uint8_t
name|ctl1
decl_stmt|;
if|if
condition|(
operator|!
name|tfp410_readb
argument_list|(
name|dvo
argument_list|,
name|TFP410_CTL_1
argument_list|,
operator|&
name|ctl1
argument_list|)
condition|)
return|return
name|false
return|;
if|if
condition|(
name|ctl1
operator|&
name|TFP410_CTL_1_PD
condition|)
return|return
name|true
return|;
else|else
return|return
name|false
return|;
block|}
end_function

begin_function
specifier|static
name|void
name|tfp410_dump_regs
parameter_list|(
name|struct
name|intel_dvo_device
modifier|*
name|dvo
parameter_list|)
block|{
name|uint8_t
name|val
decl_stmt|,
name|val2
decl_stmt|;
name|tfp410_readb
argument_list|(
name|dvo
argument_list|,
name|TFP410_REV
argument_list|,
operator|&
name|val
argument_list|)
expr_stmt|;
name|DRM_LOG_KMS
argument_list|(
literal|"TFP410_REV: 0x%02X\n"
argument_list|,
name|val
argument_list|)
expr_stmt|;
name|tfp410_readb
argument_list|(
name|dvo
argument_list|,
name|TFP410_CTL_1
argument_list|,
operator|&
name|val
argument_list|)
expr_stmt|;
name|DRM_LOG_KMS
argument_list|(
literal|"TFP410_CTL1: 0x%02X\n"
argument_list|,
name|val
argument_list|)
expr_stmt|;
name|tfp410_readb
argument_list|(
name|dvo
argument_list|,
name|TFP410_CTL_2
argument_list|,
operator|&
name|val
argument_list|)
expr_stmt|;
name|DRM_LOG_KMS
argument_list|(
literal|"TFP410_CTL2: 0x%02X\n"
argument_list|,
name|val
argument_list|)
expr_stmt|;
name|tfp410_readb
argument_list|(
name|dvo
argument_list|,
name|TFP410_CTL_3
argument_list|,
operator|&
name|val
argument_list|)
expr_stmt|;
name|DRM_LOG_KMS
argument_list|(
literal|"TFP410_CTL3: 0x%02X\n"
argument_list|,
name|val
argument_list|)
expr_stmt|;
name|tfp410_readb
argument_list|(
name|dvo
argument_list|,
name|TFP410_USERCFG
argument_list|,
operator|&
name|val
argument_list|)
expr_stmt|;
name|DRM_LOG_KMS
argument_list|(
literal|"TFP410_USERCFG: 0x%02X\n"
argument_list|,
name|val
argument_list|)
expr_stmt|;
name|tfp410_readb
argument_list|(
name|dvo
argument_list|,
name|TFP410_DE_DLY
argument_list|,
operator|&
name|val
argument_list|)
expr_stmt|;
name|DRM_LOG_KMS
argument_list|(
literal|"TFP410_DE_DLY: 0x%02X\n"
argument_list|,
name|val
argument_list|)
expr_stmt|;
name|tfp410_readb
argument_list|(
name|dvo
argument_list|,
name|TFP410_DE_CTL
argument_list|,
operator|&
name|val
argument_list|)
expr_stmt|;
name|DRM_LOG_KMS
argument_list|(
literal|"TFP410_DE_CTL: 0x%02X\n"
argument_list|,
name|val
argument_list|)
expr_stmt|;
name|tfp410_readb
argument_list|(
name|dvo
argument_list|,
name|TFP410_DE_TOP
argument_list|,
operator|&
name|val
argument_list|)
expr_stmt|;
name|DRM_LOG_KMS
argument_list|(
literal|"TFP410_DE_TOP: 0x%02X\n"
argument_list|,
name|val
argument_list|)
expr_stmt|;
name|tfp410_readb
argument_list|(
name|dvo
argument_list|,
name|TFP410_DE_CNT_LO
argument_list|,
operator|&
name|val
argument_list|)
expr_stmt|;
name|tfp410_readb
argument_list|(
name|dvo
argument_list|,
name|TFP410_DE_CNT_HI
argument_list|,
operator|&
name|val2
argument_list|)
expr_stmt|;
name|DRM_LOG_KMS
argument_list|(
literal|"TFP410_DE_CNT: 0x%02X%02X\n"
argument_list|,
name|val2
argument_list|,
name|val
argument_list|)
expr_stmt|;
name|tfp410_readb
argument_list|(
name|dvo
argument_list|,
name|TFP410_DE_LIN_LO
argument_list|,
operator|&
name|val
argument_list|)
expr_stmt|;
name|tfp410_readb
argument_list|(
name|dvo
argument_list|,
name|TFP410_DE_LIN_HI
argument_list|,
operator|&
name|val2
argument_list|)
expr_stmt|;
name|DRM_LOG_KMS
argument_list|(
literal|"TFP410_DE_LIN: 0x%02X%02X\n"
argument_list|,
name|val2
argument_list|,
name|val
argument_list|)
expr_stmt|;
name|tfp410_readb
argument_list|(
name|dvo
argument_list|,
name|TFP410_H_RES_LO
argument_list|,
operator|&
name|val
argument_list|)
expr_stmt|;
name|tfp410_readb
argument_list|(
name|dvo
argument_list|,
name|TFP410_H_RES_HI
argument_list|,
operator|&
name|val2
argument_list|)
expr_stmt|;
name|DRM_LOG_KMS
argument_list|(
literal|"TFP410_H_RES: 0x%02X%02X\n"
argument_list|,
name|val2
argument_list|,
name|val
argument_list|)
expr_stmt|;
name|tfp410_readb
argument_list|(
name|dvo
argument_list|,
name|TFP410_V_RES_LO
argument_list|,
operator|&
name|val
argument_list|)
expr_stmt|;
name|tfp410_readb
argument_list|(
name|dvo
argument_list|,
name|TFP410_V_RES_HI
argument_list|,
operator|&
name|val2
argument_list|)
expr_stmt|;
name|DRM_LOG_KMS
argument_list|(
literal|"TFP410_V_RES: 0x%02X%02X\n"
argument_list|,
name|val2
argument_list|,
name|val
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|tfp410_destroy
parameter_list|(
name|struct
name|intel_dvo_device
modifier|*
name|dvo
parameter_list|)
block|{
name|struct
name|tfp410_priv
modifier|*
name|tfp
init|=
name|dvo
operator|->
name|dev_priv
decl_stmt|;
if|if
condition|(
name|tfp
condition|)
block|{
name|free
argument_list|(
name|tfp
argument_list|,
name|DRM_MEM_KMS
argument_list|)
expr_stmt|;
name|dvo
operator|->
name|dev_priv
operator|=
name|NULL
expr_stmt|;
block|}
block|}
end_function

begin_decl_stmt
name|struct
name|intel_dvo_dev_ops
name|tfp410_ops
init|=
block|{
operator|.
name|init
operator|=
name|tfp410_init
block|,
operator|.
name|detect
operator|=
name|tfp410_detect
block|,
operator|.
name|mode_valid
operator|=
name|tfp410_mode_valid
block|,
operator|.
name|mode_set
operator|=
name|tfp410_mode_set
block|,
operator|.
name|dpms
operator|=
name|tfp410_dpms
block|,
operator|.
name|get_hw_state
operator|=
name|tfp410_get_hw_state
block|,
operator|.
name|dump_regs
operator|=
name|tfp410_dump_regs
block|,
operator|.
name|destroy
operator|=
name|tfp410_destroy
block|, }
decl_stmt|;
end_decl_stmt

end_unit

