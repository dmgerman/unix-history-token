begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/**************************************************************************  Copyright Â© 2006 Dave Airlie  All Rights Reserved.  Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sub license, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:  The above copyright notice and this permission notice (including the next paragraph) shall be included in all copies or substantial portions of the Software.  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.  **************************************************************************/
end_comment

begin_include
include|#
directive|include
file|<sys/cdefs.h>
end_include

begin_expr_stmt
name|__FBSDID
argument_list|(
literal|"$FreeBSD$"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_include
include|#
directive|include
file|"dvo.h"
end_include

begin_define
define|#
directive|define
name|CH7xxx_REG_VID
value|0x4a
end_define

begin_define
define|#
directive|define
name|CH7xxx_REG_DID
value|0x4b
end_define

begin_define
define|#
directive|define
name|CH7011_VID
value|0x83
end_define

begin_comment
comment|/* 7010 as well */
end_comment

begin_define
define|#
directive|define
name|CH7009A_VID
value|0x84
end_define

begin_define
define|#
directive|define
name|CH7009B_VID
value|0x85
end_define

begin_define
define|#
directive|define
name|CH7301_VID
value|0x95
end_define

begin_define
define|#
directive|define
name|CH7xxx_VID
value|0x84
end_define

begin_define
define|#
directive|define
name|CH7xxx_DID
value|0x17
end_define

begin_define
define|#
directive|define
name|CH7xxx_NUM_REGS
value|0x4c
end_define

begin_define
define|#
directive|define
name|CH7xxx_CM
value|0x1c
end_define

begin_define
define|#
directive|define
name|CH7xxx_CM_XCM
value|(1<<0)
end_define

begin_define
define|#
directive|define
name|CH7xxx_CM_MCP
value|(1<<2)
end_define

begin_define
define|#
directive|define
name|CH7xxx_INPUT_CLOCK
value|0x1d
end_define

begin_define
define|#
directive|define
name|CH7xxx_GPIO
value|0x1e
end_define

begin_define
define|#
directive|define
name|CH7xxx_GPIO_HPIR
value|(1<<3)
end_define

begin_define
define|#
directive|define
name|CH7xxx_IDF
value|0x1f
end_define

begin_define
define|#
directive|define
name|CH7xxx_IDF_HSP
value|(1<<3)
end_define

begin_define
define|#
directive|define
name|CH7xxx_IDF_VSP
value|(1<<4)
end_define

begin_define
define|#
directive|define
name|CH7xxx_CONNECTION_DETECT
value|0x20
end_define

begin_define
define|#
directive|define
name|CH7xxx_CDET_DVI
value|(1<<5)
end_define

begin_define
define|#
directive|define
name|CH7301_DAC_CNTL
value|0x21
end_define

begin_define
define|#
directive|define
name|CH7301_HOTPLUG
value|0x23
end_define

begin_define
define|#
directive|define
name|CH7xxx_TCTL
value|0x31
end_define

begin_define
define|#
directive|define
name|CH7xxx_TVCO
value|0x32
end_define

begin_define
define|#
directive|define
name|CH7xxx_TPCP
value|0x33
end_define

begin_define
define|#
directive|define
name|CH7xxx_TPD
value|0x34
end_define

begin_define
define|#
directive|define
name|CH7xxx_TPVT
value|0x35
end_define

begin_define
define|#
directive|define
name|CH7xxx_TLPF
value|0x36
end_define

begin_define
define|#
directive|define
name|CH7xxx_TCT
value|0x37
end_define

begin_define
define|#
directive|define
name|CH7301_TEST_PATTERN
value|0x48
end_define

begin_define
define|#
directive|define
name|CH7xxx_PM
value|0x49
end_define

begin_define
define|#
directive|define
name|CH7xxx_PM_FPD
value|(1<<0)
end_define

begin_define
define|#
directive|define
name|CH7301_PM_DACPD0
value|(1<<1)
end_define

begin_define
define|#
directive|define
name|CH7301_PM_DACPD1
value|(1<<2)
end_define

begin_define
define|#
directive|define
name|CH7301_PM_DACPD2
value|(1<<3)
end_define

begin_define
define|#
directive|define
name|CH7xxx_PM_DVIL
value|(1<<6)
end_define

begin_define
define|#
directive|define
name|CH7xxx_PM_DVIP
value|(1<<7)
end_define

begin_define
define|#
directive|define
name|CH7301_SYNC_POLARITY
value|0x56
end_define

begin_define
define|#
directive|define
name|CH7301_SYNC_RGB_YUV
value|(1<<0)
end_define

begin_define
define|#
directive|define
name|CH7301_SYNC_POL_DVI
value|(1<<5)
end_define

begin_comment
comment|/** @file  * driver for the Chrontel 7xxx DVI chip over DVO.  */
end_comment

begin_struct
specifier|static
struct|struct
name|ch7xxx_id_struct
block|{
name|uint8_t
name|vid
decl_stmt|;
name|char
modifier|*
name|name
decl_stmt|;
block|}
name|ch7xxx_ids
index|[]
init|=
block|{
block|{
name|CH7011_VID
block|,
literal|"CH7011"
block|}
block|,
block|{
name|CH7009A_VID
block|,
literal|"CH7009A"
block|}
block|,
block|{
name|CH7009B_VID
block|,
literal|"CH7009B"
block|}
block|,
block|{
name|CH7301_VID
block|,
literal|"CH7301"
block|}
block|, }
struct|;
end_struct

begin_struct
struct|struct
name|ch7xxx_priv
block|{
name|bool
name|quiet
decl_stmt|;
block|}
struct|;
end_struct

begin_function
specifier|static
name|char
modifier|*
name|ch7xxx_get_id
parameter_list|(
name|uint8_t
name|vid
parameter_list|)
block|{
name|int
name|i
decl_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|ARRAY_SIZE
argument_list|(
name|ch7xxx_ids
argument_list|)
condition|;
name|i
operator|++
control|)
block|{
if|if
condition|(
name|ch7xxx_ids
index|[
name|i
index|]
operator|.
name|vid
operator|==
name|vid
condition|)
return|return
name|ch7xxx_ids
index|[
name|i
index|]
operator|.
name|name
return|;
block|}
return|return
name|NULL
return|;
block|}
end_function

begin_comment
comment|/** Reads an 8 bit register */
end_comment

begin_function
specifier|static
name|bool
name|ch7xxx_readb
parameter_list|(
name|struct
name|intel_dvo_device
modifier|*
name|dvo
parameter_list|,
name|int
name|addr
parameter_list|,
name|uint8_t
modifier|*
name|ch
parameter_list|)
block|{
name|struct
name|ch7xxx_priv
modifier|*
name|ch7xxx
init|=
name|dvo
operator|->
name|dev_priv
decl_stmt|;
name|device_t
name|adapter
init|=
name|dvo
operator|->
name|i2c_bus
decl_stmt|;
name|u8
name|out_buf
index|[
literal|2
index|]
decl_stmt|;
name|u8
name|in_buf
index|[
literal|2
index|]
decl_stmt|;
name|struct
name|iic_msg
name|msgs
index|[]
init|=
block|{
block|{
operator|.
name|slave
operator|=
name|dvo
operator|->
name|slave_addr
operator|<<
literal|1
block|,
operator|.
name|flags
operator|=
literal|0
block|,
operator|.
name|len
operator|=
literal|1
block|,
operator|.
name|buf
operator|=
name|out_buf
block|, 		}
block|,
block|{
operator|.
name|slave
operator|=
name|dvo
operator|->
name|slave_addr
operator|<<
literal|1
block|,
operator|.
name|flags
operator|=
name|I2C_M_RD
block|,
operator|.
name|len
operator|=
literal|1
block|,
operator|.
name|buf
operator|=
name|in_buf
block|, 		}
block|}
decl_stmt|;
name|out_buf
index|[
literal|0
index|]
operator|=
name|addr
expr_stmt|;
name|out_buf
index|[
literal|1
index|]
operator|=
literal|0
expr_stmt|;
if|if
condition|(
operator|-
name|iicbus_transfer
argument_list|(
name|adapter
argument_list|,
name|msgs
argument_list|,
literal|2
argument_list|)
operator|==
literal|0
condition|)
block|{
operator|*
name|ch
operator|=
name|in_buf
index|[
literal|0
index|]
expr_stmt|;
return|return
name|true
return|;
block|}
if|if
condition|(
operator|!
name|ch7xxx
operator|->
name|quiet
condition|)
block|{
name|DRM_DEBUG_KMS
argument_list|(
literal|"Unable to read register 0x%02x from %s:%02x.\n"
argument_list|,
name|addr
argument_list|,
name|device_get_nameunit
argument_list|(
name|adapter
argument_list|)
argument_list|,
name|dvo
operator|->
name|slave_addr
argument_list|)
expr_stmt|;
block|}
return|return
name|false
return|;
block|}
end_function

begin_comment
comment|/** Writes an 8 bit register */
end_comment

begin_function
specifier|static
name|bool
name|ch7xxx_writeb
parameter_list|(
name|struct
name|intel_dvo_device
modifier|*
name|dvo
parameter_list|,
name|int
name|addr
parameter_list|,
name|uint8_t
name|ch
parameter_list|)
block|{
name|struct
name|ch7xxx_priv
modifier|*
name|ch7xxx
init|=
name|dvo
operator|->
name|dev_priv
decl_stmt|;
name|device_t
name|adapter
init|=
name|dvo
operator|->
name|i2c_bus
decl_stmt|;
name|uint8_t
name|out_buf
index|[
literal|2
index|]
decl_stmt|;
name|struct
name|iic_msg
name|msg
init|=
block|{
operator|.
name|slave
operator|=
name|dvo
operator|->
name|slave_addr
operator|<<
literal|1
block|,
operator|.
name|flags
operator|=
literal|0
block|,
operator|.
name|len
operator|=
literal|2
block|,
operator|.
name|buf
operator|=
name|out_buf
block|, 	}
decl_stmt|;
name|out_buf
index|[
literal|0
index|]
operator|=
name|addr
expr_stmt|;
name|out_buf
index|[
literal|1
index|]
operator|=
name|ch
expr_stmt|;
if|if
condition|(
operator|-
name|iicbus_transfer
argument_list|(
name|adapter
argument_list|,
operator|&
name|msg
argument_list|,
literal|1
argument_list|)
operator|==
literal|0
condition|)
return|return
name|true
return|;
if|if
condition|(
operator|!
name|ch7xxx
operator|->
name|quiet
condition|)
block|{
name|DRM_DEBUG_KMS
argument_list|(
literal|"Unable to write register 0x%02x to %s:%d.\n"
argument_list|,
name|addr
argument_list|,
name|device_get_nameunit
argument_list|(
name|adapter
argument_list|)
argument_list|,
name|dvo
operator|->
name|slave_addr
argument_list|)
expr_stmt|;
block|}
return|return
name|false
return|;
block|}
end_function

begin_function
specifier|static
name|bool
name|ch7xxx_init
parameter_list|(
name|struct
name|intel_dvo_device
modifier|*
name|dvo
parameter_list|,
name|device_t
name|adapter
parameter_list|)
block|{
comment|/* this will detect the CH7xxx chip on the specified i2c bus */
name|struct
name|ch7xxx_priv
modifier|*
name|ch7xxx
decl_stmt|;
name|uint8_t
name|vendor
decl_stmt|,
name|device
decl_stmt|;
name|char
modifier|*
name|name
decl_stmt|;
name|ch7xxx
operator|=
name|malloc
argument_list|(
sizeof|sizeof
argument_list|(
expr|struct
name|ch7xxx_priv
argument_list|)
argument_list|,
name|DRM_MEM_KMS
argument_list|,
name|M_NOWAIT
operator||
name|M_ZERO
argument_list|)
expr_stmt|;
if|if
condition|(
name|ch7xxx
operator|==
name|NULL
condition|)
return|return
name|false
return|;
name|dvo
operator|->
name|i2c_bus
operator|=
name|adapter
expr_stmt|;
name|dvo
operator|->
name|dev_priv
operator|=
name|ch7xxx
expr_stmt|;
name|ch7xxx
operator|->
name|quiet
operator|=
name|true
expr_stmt|;
if|if
condition|(
operator|!
name|ch7xxx_readb
argument_list|(
name|dvo
argument_list|,
name|CH7xxx_REG_VID
argument_list|,
operator|&
name|vendor
argument_list|)
condition|)
goto|goto
name|out
goto|;
name|name
operator|=
name|ch7xxx_get_id
argument_list|(
name|vendor
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|name
condition|)
block|{
name|DRM_DEBUG_KMS
argument_list|(
literal|"ch7xxx not detected; got 0x%02x from %s "
literal|"slave %d.\n"
argument_list|,
name|vendor
argument_list|,
name|device_get_nameunit
argument_list|(
name|adapter
argument_list|)
argument_list|,
name|dvo
operator|->
name|slave_addr
argument_list|)
expr_stmt|;
goto|goto
name|out
goto|;
block|}
if|if
condition|(
operator|!
name|ch7xxx_readb
argument_list|(
name|dvo
argument_list|,
name|CH7xxx_REG_DID
argument_list|,
operator|&
name|device
argument_list|)
condition|)
goto|goto
name|out
goto|;
if|if
condition|(
name|device
operator|!=
name|CH7xxx_DID
condition|)
block|{
name|DRM_DEBUG_KMS
argument_list|(
literal|"ch7xxx not detected; got 0x%02x from %s "
literal|"slave %d.\n"
argument_list|,
name|vendor
argument_list|,
name|device_get_nameunit
argument_list|(
name|adapter
argument_list|)
argument_list|,
name|dvo
operator|->
name|slave_addr
argument_list|)
expr_stmt|;
goto|goto
name|out
goto|;
block|}
name|ch7xxx
operator|->
name|quiet
operator|=
name|false
expr_stmt|;
name|DRM_DEBUG_KMS
argument_list|(
literal|"Detected %s chipset, vendor/device ID 0x%02x/0x%02x\n"
argument_list|,
name|name
argument_list|,
name|vendor
argument_list|,
name|device
argument_list|)
expr_stmt|;
return|return
name|true
return|;
name|out
label|:
name|free
argument_list|(
name|ch7xxx
argument_list|,
name|DRM_MEM_KMS
argument_list|)
expr_stmt|;
return|return
name|false
return|;
block|}
end_function

begin_function
specifier|static
name|enum
name|drm_connector_status
name|ch7xxx_detect
parameter_list|(
name|struct
name|intel_dvo_device
modifier|*
name|dvo
parameter_list|)
block|{
name|uint8_t
name|cdet
decl_stmt|,
name|orig_pm
decl_stmt|,
name|pm
decl_stmt|;
name|ch7xxx_readb
argument_list|(
name|dvo
argument_list|,
name|CH7xxx_PM
argument_list|,
operator|&
name|orig_pm
argument_list|)
expr_stmt|;
name|pm
operator|=
name|orig_pm
expr_stmt|;
name|pm
operator|&=
operator|~
name|CH7xxx_PM_FPD
expr_stmt|;
name|pm
operator||=
name|CH7xxx_PM_DVIL
operator||
name|CH7xxx_PM_DVIP
expr_stmt|;
name|ch7xxx_writeb
argument_list|(
name|dvo
argument_list|,
name|CH7xxx_PM
argument_list|,
name|pm
argument_list|)
expr_stmt|;
name|ch7xxx_readb
argument_list|(
name|dvo
argument_list|,
name|CH7xxx_CONNECTION_DETECT
argument_list|,
operator|&
name|cdet
argument_list|)
expr_stmt|;
name|ch7xxx_writeb
argument_list|(
name|dvo
argument_list|,
name|CH7xxx_PM
argument_list|,
name|orig_pm
argument_list|)
expr_stmt|;
if|if
condition|(
name|cdet
operator|&
name|CH7xxx_CDET_DVI
condition|)
return|return
name|connector_status_connected
return|;
return|return
name|connector_status_disconnected
return|;
block|}
end_function

begin_function
specifier|static
name|enum
name|drm_mode_status
name|ch7xxx_mode_valid
parameter_list|(
name|struct
name|intel_dvo_device
modifier|*
name|dvo
parameter_list|,
name|struct
name|drm_display_mode
modifier|*
name|mode
parameter_list|)
block|{
if|if
condition|(
name|mode
operator|->
name|clock
operator|>
literal|165000
condition|)
return|return
name|MODE_CLOCK_HIGH
return|;
return|return
name|MODE_OK
return|;
block|}
end_function

begin_function
specifier|static
name|void
name|ch7xxx_mode_set
parameter_list|(
name|struct
name|intel_dvo_device
modifier|*
name|dvo
parameter_list|,
name|struct
name|drm_display_mode
modifier|*
name|mode
parameter_list|,
name|struct
name|drm_display_mode
modifier|*
name|adjusted_mode
parameter_list|)
block|{
name|uint8_t
name|tvco
decl_stmt|,
name|tpcp
decl_stmt|,
name|tpd
decl_stmt|,
name|tlpf
decl_stmt|,
name|idf
decl_stmt|;
if|if
condition|(
name|mode
operator|->
name|clock
operator|<=
literal|65000
condition|)
block|{
name|tvco
operator|=
literal|0x23
expr_stmt|;
name|tpcp
operator|=
literal|0x08
expr_stmt|;
name|tpd
operator|=
literal|0x16
expr_stmt|;
name|tlpf
operator|=
literal|0x60
expr_stmt|;
block|}
else|else
block|{
name|tvco
operator|=
literal|0x2d
expr_stmt|;
name|tpcp
operator|=
literal|0x06
expr_stmt|;
name|tpd
operator|=
literal|0x26
expr_stmt|;
name|tlpf
operator|=
literal|0xa0
expr_stmt|;
block|}
name|ch7xxx_writeb
argument_list|(
name|dvo
argument_list|,
name|CH7xxx_TCTL
argument_list|,
literal|0x00
argument_list|)
expr_stmt|;
name|ch7xxx_writeb
argument_list|(
name|dvo
argument_list|,
name|CH7xxx_TVCO
argument_list|,
name|tvco
argument_list|)
expr_stmt|;
name|ch7xxx_writeb
argument_list|(
name|dvo
argument_list|,
name|CH7xxx_TPCP
argument_list|,
name|tpcp
argument_list|)
expr_stmt|;
name|ch7xxx_writeb
argument_list|(
name|dvo
argument_list|,
name|CH7xxx_TPD
argument_list|,
name|tpd
argument_list|)
expr_stmt|;
name|ch7xxx_writeb
argument_list|(
name|dvo
argument_list|,
name|CH7xxx_TPVT
argument_list|,
literal|0x30
argument_list|)
expr_stmt|;
name|ch7xxx_writeb
argument_list|(
name|dvo
argument_list|,
name|CH7xxx_TLPF
argument_list|,
name|tlpf
argument_list|)
expr_stmt|;
name|ch7xxx_writeb
argument_list|(
name|dvo
argument_list|,
name|CH7xxx_TCT
argument_list|,
literal|0x00
argument_list|)
expr_stmt|;
name|ch7xxx_readb
argument_list|(
name|dvo
argument_list|,
name|CH7xxx_IDF
argument_list|,
operator|&
name|idf
argument_list|)
expr_stmt|;
name|idf
operator|&=
operator|~
operator|(
name|CH7xxx_IDF_HSP
operator||
name|CH7xxx_IDF_VSP
operator|)
expr_stmt|;
if|if
condition|(
name|mode
operator|->
name|flags
operator|&
name|DRM_MODE_FLAG_PHSYNC
condition|)
name|idf
operator||=
name|CH7xxx_IDF_HSP
expr_stmt|;
if|if
condition|(
name|mode
operator|->
name|flags
operator|&
name|DRM_MODE_FLAG_PVSYNC
condition|)
name|idf
operator||=
name|CH7xxx_IDF_HSP
expr_stmt|;
name|ch7xxx_writeb
argument_list|(
name|dvo
argument_list|,
name|CH7xxx_IDF
argument_list|,
name|idf
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/* set the CH7xxx power state */
end_comment

begin_function
specifier|static
name|void
name|ch7xxx_dpms
parameter_list|(
name|struct
name|intel_dvo_device
modifier|*
name|dvo
parameter_list|,
name|bool
name|enable
parameter_list|)
block|{
if|if
condition|(
name|enable
condition|)
name|ch7xxx_writeb
argument_list|(
name|dvo
argument_list|,
name|CH7xxx_PM
argument_list|,
name|CH7xxx_PM_DVIL
operator||
name|CH7xxx_PM_DVIP
argument_list|)
expr_stmt|;
else|else
name|ch7xxx_writeb
argument_list|(
name|dvo
argument_list|,
name|CH7xxx_PM
argument_list|,
name|CH7xxx_PM_FPD
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|bool
name|ch7xxx_get_hw_state
parameter_list|(
name|struct
name|intel_dvo_device
modifier|*
name|dvo
parameter_list|)
block|{
name|u8
name|val
decl_stmt|;
name|ch7xxx_readb
argument_list|(
name|dvo
argument_list|,
name|CH7xxx_PM
argument_list|,
operator|&
name|val
argument_list|)
expr_stmt|;
if|if
condition|(
name|val
operator|&
operator|(
name|CH7xxx_PM_DVIL
operator||
name|CH7xxx_PM_DVIP
operator|)
condition|)
return|return
name|true
return|;
else|else
return|return
name|false
return|;
block|}
end_function

begin_function
specifier|static
name|void
name|ch7xxx_dump_regs
parameter_list|(
name|struct
name|intel_dvo_device
modifier|*
name|dvo
parameter_list|)
block|{
name|int
name|i
decl_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|CH7xxx_NUM_REGS
condition|;
name|i
operator|++
control|)
block|{
name|uint8_t
name|val
decl_stmt|;
if|if
condition|(
operator|(
name|i
operator|%
literal|8
operator|)
operator|==
literal|0
condition|)
name|DRM_LOG_KMS
argument_list|(
literal|"\n %02X: "
argument_list|,
name|i
argument_list|)
expr_stmt|;
name|ch7xxx_readb
argument_list|(
name|dvo
argument_list|,
name|i
argument_list|,
operator|&
name|val
argument_list|)
expr_stmt|;
name|DRM_LOG_KMS
argument_list|(
literal|"%02X "
argument_list|,
name|val
argument_list|)
expr_stmt|;
block|}
block|}
end_function

begin_function
specifier|static
name|void
name|ch7xxx_destroy
parameter_list|(
name|struct
name|intel_dvo_device
modifier|*
name|dvo
parameter_list|)
block|{
name|struct
name|ch7xxx_priv
modifier|*
name|ch7xxx
init|=
name|dvo
operator|->
name|dev_priv
decl_stmt|;
if|if
condition|(
name|ch7xxx
condition|)
block|{
name|free
argument_list|(
name|ch7xxx
argument_list|,
name|DRM_MEM_KMS
argument_list|)
expr_stmt|;
name|dvo
operator|->
name|dev_priv
operator|=
name|NULL
expr_stmt|;
block|}
block|}
end_function

begin_decl_stmt
name|struct
name|intel_dvo_dev_ops
name|ch7xxx_ops
init|=
block|{
operator|.
name|init
operator|=
name|ch7xxx_init
block|,
operator|.
name|detect
operator|=
name|ch7xxx_detect
block|,
operator|.
name|mode_valid
operator|=
name|ch7xxx_mode_valid
block|,
operator|.
name|mode_set
operator|=
name|ch7xxx_mode_set
block|,
operator|.
name|dpms
operator|=
name|ch7xxx_dpms
block|,
operator|.
name|get_hw_state
operator|=
name|ch7xxx_get_hw_state
block|,
operator|.
name|dump_regs
operator|=
name|ch7xxx_dump_regs
block|,
operator|.
name|destroy
operator|=
name|ch7xxx_destroy
block|, }
decl_stmt|;
end_decl_stmt

end_unit

