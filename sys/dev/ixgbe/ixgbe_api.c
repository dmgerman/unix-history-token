begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/******************************************************************************    Copyright (c) 2001-2017, Intel Corporation   All rights reserved.    Redistribution and use in source and binary forms, with or without   modification, are permitted provided that the following conditions are met:     1. Redistributions of source code must retain the above copyright notice,       this list of conditions and the following disclaimer.     2. Redistributions in binary form must reproduce the above copyright       notice, this list of conditions and the following disclaimer in the       documentation and/or other materials provided with the distribution.     3. Neither the name of the Intel Corporation nor the names of its       contributors may be used to endorse or promote products derived from       this software without specific prior written permission.    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE   POSSIBILITY OF SUCH DAMAGE.  ******************************************************************************/
end_comment

begin_comment
comment|/*$FreeBSD$*/
end_comment

begin_include
include|#
directive|include
file|"ixgbe_api.h"
end_include

begin_include
include|#
directive|include
file|"ixgbe_common.h"
end_include

begin_define
define|#
directive|define
name|IXGBE_EMPTY_PARAM
end_define

begin_decl_stmt
specifier|static
specifier|const
name|u32
name|ixgbe_mvals_base
index|[
name|IXGBE_MVALS_IDX_LIMIT
index|]
init|=
block|{
name|IXGBE_MVALS_INIT
argument_list|(
argument|IXGBE_EMPTY_PARAM
argument_list|)
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
specifier|const
name|u32
name|ixgbe_mvals_X540
index|[
name|IXGBE_MVALS_IDX_LIMIT
index|]
init|=
block|{
name|IXGBE_MVALS_INIT
argument_list|(
argument|_X540
argument_list|)
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
specifier|const
name|u32
name|ixgbe_mvals_X550
index|[
name|IXGBE_MVALS_IDX_LIMIT
index|]
init|=
block|{
name|IXGBE_MVALS_INIT
argument_list|(
argument|_X550
argument_list|)
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
specifier|const
name|u32
name|ixgbe_mvals_X550EM_x
index|[
name|IXGBE_MVALS_IDX_LIMIT
index|]
init|=
block|{
name|IXGBE_MVALS_INIT
argument_list|(
argument|_X550EM_x
argument_list|)
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
specifier|const
name|u32
name|ixgbe_mvals_X550EM_a
index|[
name|IXGBE_MVALS_IDX_LIMIT
index|]
init|=
block|{
name|IXGBE_MVALS_INIT
argument_list|(
argument|_X550EM_a
argument_list|)
block|}
decl_stmt|;
end_decl_stmt

begin_comment
comment|/**  * ixgbe_dcb_get_rtrup2tc - read rtrup2tc reg  * @hw: pointer to hardware structure  * @map: pointer to u8 arr for returning map  *  * Read the rtrup2tc HW register and resolve its content into map  **/
end_comment

begin_function
name|void
name|ixgbe_dcb_get_rtrup2tc
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u8
modifier|*
name|map
parameter_list|)
block|{
if|if
condition|(
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|get_rtrup2tc
condition|)
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|get_rtrup2tc
argument_list|(
name|hw
argument_list|,
name|map
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_init_shared_code - Initialize the shared code  *  @hw: pointer to hardware structure  *  *  This will assign function pointers and assign the MAC type and PHY code.  *  Does not touch the hardware. This function must be called prior to any  *  other function in the shared code. The ixgbe_hw structure should be  *  memset to 0 prior to calling this function.  The following fields in  *  hw structure should be filled in prior to calling this function:  *  hw_addr, back, device_id, vendor_id, subsystem_device_id,  *  subsystem_vendor_id, and revision_id  **/
end_comment

begin_function
name|s32
name|ixgbe_init_shared_code
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
name|s32
name|status
decl_stmt|;
name|DEBUGFUNC
argument_list|(
literal|"ixgbe_init_shared_code"
argument_list|)
expr_stmt|;
comment|/* 	 * Set the mac type 	 */
name|ixgbe_set_mac_type
argument_list|(
name|hw
argument_list|)
expr_stmt|;
switch|switch
condition|(
name|hw
operator|->
name|mac
operator|.
name|type
condition|)
block|{
case|case
name|ixgbe_mac_82598EB
case|:
name|status
operator|=
name|ixgbe_init_ops_82598
argument_list|(
name|hw
argument_list|)
expr_stmt|;
break|break;
case|case
name|ixgbe_mac_82599EB
case|:
name|status
operator|=
name|ixgbe_init_ops_82599
argument_list|(
name|hw
argument_list|)
expr_stmt|;
break|break;
case|case
name|ixgbe_mac_X540
case|:
name|status
operator|=
name|ixgbe_init_ops_X540
argument_list|(
name|hw
argument_list|)
expr_stmt|;
break|break;
case|case
name|ixgbe_mac_X550
case|:
name|status
operator|=
name|ixgbe_init_ops_X550
argument_list|(
name|hw
argument_list|)
expr_stmt|;
break|break;
case|case
name|ixgbe_mac_X550EM_x
case|:
name|status
operator|=
name|ixgbe_init_ops_X550EM_x
argument_list|(
name|hw
argument_list|)
expr_stmt|;
break|break;
case|case
name|ixgbe_mac_X550EM_a
case|:
name|status
operator|=
name|ixgbe_init_ops_X550EM_a
argument_list|(
name|hw
argument_list|)
expr_stmt|;
break|break;
default|default:
name|status
operator|=
name|IXGBE_ERR_DEVICE_NOT_SUPPORTED
expr_stmt|;
break|break;
block|}
name|hw
operator|->
name|mac
operator|.
name|max_link_up_time
operator|=
name|IXGBE_LINK_UP_TIME
expr_stmt|;
return|return
name|status
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_set_mac_type - Sets MAC type  *  @hw: pointer to the HW structure  *  *  This function sets the mac type of the adapter based on the  *  vendor ID and device ID stored in the hw structure.  **/
end_comment

begin_function
name|s32
name|ixgbe_set_mac_type
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
name|s32
name|ret_val
init|=
name|IXGBE_SUCCESS
decl_stmt|;
name|DEBUGFUNC
argument_list|(
literal|"ixgbe_set_mac_type\n"
argument_list|)
expr_stmt|;
if|if
condition|(
name|hw
operator|->
name|vendor_id
operator|!=
name|IXGBE_INTEL_VENDOR_ID
condition|)
block|{
name|ERROR_REPORT2
argument_list|(
name|IXGBE_ERROR_UNSUPPORTED
argument_list|,
literal|"Unsupported vendor id: %x"
argument_list|,
name|hw
operator|->
name|vendor_id
argument_list|)
expr_stmt|;
return|return
name|IXGBE_ERR_DEVICE_NOT_SUPPORTED
return|;
block|}
name|hw
operator|->
name|mvals
operator|=
name|ixgbe_mvals_base
expr_stmt|;
switch|switch
condition|(
name|hw
operator|->
name|device_id
condition|)
block|{
case|case
name|IXGBE_DEV_ID_82598
case|:
case|case
name|IXGBE_DEV_ID_82598_BX
case|:
case|case
name|IXGBE_DEV_ID_82598AF_SINGLE_PORT
case|:
case|case
name|IXGBE_DEV_ID_82598AF_DUAL_PORT
case|:
case|case
name|IXGBE_DEV_ID_82598AT
case|:
case|case
name|IXGBE_DEV_ID_82598AT2
case|:
case|case
name|IXGBE_DEV_ID_82598EB_CX4
case|:
case|case
name|IXGBE_DEV_ID_82598_CX4_DUAL_PORT
case|:
case|case
name|IXGBE_DEV_ID_82598_DA_DUAL_PORT
case|:
case|case
name|IXGBE_DEV_ID_82598_SR_DUAL_PORT_EM
case|:
case|case
name|IXGBE_DEV_ID_82598EB_XF_LR
case|:
case|case
name|IXGBE_DEV_ID_82598EB_SFP_LOM
case|:
name|hw
operator|->
name|mac
operator|.
name|type
operator|=
name|ixgbe_mac_82598EB
expr_stmt|;
break|break;
case|case
name|IXGBE_DEV_ID_82599_KX4
case|:
case|case
name|IXGBE_DEV_ID_82599_KX4_MEZZ
case|:
case|case
name|IXGBE_DEV_ID_82599_XAUI_LOM
case|:
case|case
name|IXGBE_DEV_ID_82599_COMBO_BACKPLANE
case|:
case|case
name|IXGBE_DEV_ID_82599_KR
case|:
case|case
name|IXGBE_DEV_ID_82599_SFP
case|:
case|case
name|IXGBE_DEV_ID_82599_BACKPLANE_FCOE
case|:
case|case
name|IXGBE_DEV_ID_82599_SFP_FCOE
case|:
case|case
name|IXGBE_DEV_ID_82599_SFP_EM
case|:
case|case
name|IXGBE_DEV_ID_82599_SFP_SF2
case|:
case|case
name|IXGBE_DEV_ID_82599_SFP_SF_QP
case|:
case|case
name|IXGBE_DEV_ID_82599_QSFP_SF_QP
case|:
case|case
name|IXGBE_DEV_ID_82599EN_SFP
case|:
case|case
name|IXGBE_DEV_ID_82599_CX4
case|:
case|case
name|IXGBE_DEV_ID_82599_BYPASS
case|:
case|case
name|IXGBE_DEV_ID_82599_T3_LOM
case|:
name|hw
operator|->
name|mac
operator|.
name|type
operator|=
name|ixgbe_mac_82599EB
expr_stmt|;
break|break;
case|case
name|IXGBE_DEV_ID_X540T
case|:
case|case
name|IXGBE_DEV_ID_X540T1
case|:
case|case
name|IXGBE_DEV_ID_X540_BYPASS
case|:
name|hw
operator|->
name|mac
operator|.
name|type
operator|=
name|ixgbe_mac_X540
expr_stmt|;
name|hw
operator|->
name|mvals
operator|=
name|ixgbe_mvals_X540
expr_stmt|;
break|break;
case|case
name|IXGBE_DEV_ID_X550T
case|:
case|case
name|IXGBE_DEV_ID_X550T1
case|:
name|hw
operator|->
name|mac
operator|.
name|type
operator|=
name|ixgbe_mac_X550
expr_stmt|;
name|hw
operator|->
name|mvals
operator|=
name|ixgbe_mvals_X550
expr_stmt|;
break|break;
case|case
name|IXGBE_DEV_ID_X550EM_X_KX4
case|:
case|case
name|IXGBE_DEV_ID_X550EM_X_KR
case|:
case|case
name|IXGBE_DEV_ID_X550EM_X_10G_T
case|:
case|case
name|IXGBE_DEV_ID_X550EM_X_1G_T
case|:
case|case
name|IXGBE_DEV_ID_X550EM_X_SFP
case|:
case|case
name|IXGBE_DEV_ID_X550EM_X_XFI
case|:
name|hw
operator|->
name|mac
operator|.
name|type
operator|=
name|ixgbe_mac_X550EM_x
expr_stmt|;
name|hw
operator|->
name|mvals
operator|=
name|ixgbe_mvals_X550EM_x
expr_stmt|;
break|break;
case|case
name|IXGBE_DEV_ID_X550EM_A_KR
case|:
case|case
name|IXGBE_DEV_ID_X550EM_A_KR_L
case|:
case|case
name|IXGBE_DEV_ID_X550EM_A_SFP_N
case|:
case|case
name|IXGBE_DEV_ID_X550EM_A_SGMII
case|:
case|case
name|IXGBE_DEV_ID_X550EM_A_SGMII_L
case|:
case|case
name|IXGBE_DEV_ID_X550EM_A_1G_T
case|:
case|case
name|IXGBE_DEV_ID_X550EM_A_1G_T_L
case|:
case|case
name|IXGBE_DEV_ID_X550EM_A_10G_T
case|:
case|case
name|IXGBE_DEV_ID_X550EM_A_QSFP
case|:
case|case
name|IXGBE_DEV_ID_X550EM_A_QSFP_N
case|:
case|case
name|IXGBE_DEV_ID_X550EM_A_SFP
case|:
name|hw
operator|->
name|mac
operator|.
name|type
operator|=
name|ixgbe_mac_X550EM_a
expr_stmt|;
name|hw
operator|->
name|mvals
operator|=
name|ixgbe_mvals_X550EM_a
expr_stmt|;
break|break;
default|default:
name|ret_val
operator|=
name|IXGBE_ERR_DEVICE_NOT_SUPPORTED
expr_stmt|;
name|ERROR_REPORT2
argument_list|(
name|IXGBE_ERROR_UNSUPPORTED
argument_list|,
literal|"Unsupported device id: %x"
argument_list|,
name|hw
operator|->
name|device_id
argument_list|)
expr_stmt|;
break|break;
block|}
name|DEBUGOUT2
argument_list|(
literal|"ixgbe_set_mac_type found mac: %d, returns: %d\n"
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|type
argument_list|,
name|ret_val
argument_list|)
expr_stmt|;
return|return
name|ret_val
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_init_hw - Initialize the hardware  *  @hw: pointer to hardware structure  *  *  Initialize the hardware by resetting and then starting the hardware  **/
end_comment

begin_function
name|s32
name|ixgbe_init_hw
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|init_hw
argument_list|,
operator|(
name|hw
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_reset_hw - Performs a hardware reset  *  @hw: pointer to hardware structure  *  *  Resets the hardware by resetting the transmit and receive units, masks and  *  clears all interrupts, performs a PHY reset, and performs a MAC reset  **/
end_comment

begin_function
name|s32
name|ixgbe_reset_hw
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|reset_hw
argument_list|,
operator|(
name|hw
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_start_hw - Prepares hardware for Rx/Tx  *  @hw: pointer to hardware structure  *  *  Starts the hardware by filling the bus info structure and media type,  *  clears all on chip counters, initializes receive address registers,  *  multicast table, VLAN filter table, calls routine to setup link and  *  flow control settings, and leaves transmit and receive units disabled  *  and uninitialized.  **/
end_comment

begin_function
name|s32
name|ixgbe_start_hw
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|start_hw
argument_list|,
operator|(
name|hw
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_enable_relaxed_ordering - Enables tx relaxed ordering,  *  which is disabled by default in ixgbe_start_hw();  *  *  @hw: pointer to hardware structure  *  *   Enable relaxed ordering;  **/
end_comment

begin_function
name|void
name|ixgbe_enable_relaxed_ordering
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
if|if
condition|(
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|enable_relaxed_ordering
condition|)
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|enable_relaxed_ordering
argument_list|(
name|hw
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_clear_hw_cntrs - Clear hardware counters  *  @hw: pointer to hardware structure  *  *  Clears all hardware statistics counters by reading them from the hardware  *  Statistics counters are clear on read.  **/
end_comment

begin_function
name|s32
name|ixgbe_clear_hw_cntrs
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|clear_hw_cntrs
argument_list|,
operator|(
name|hw
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_get_media_type - Get media type  *  @hw: pointer to hardware structure  *  *  Returns the media type (fiber, copper, backplane)  **/
end_comment

begin_function
name|enum
name|ixgbe_media_type
name|ixgbe_get_media_type
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|get_media_type
argument_list|,
operator|(
name|hw
operator|)
argument_list|,
name|ixgbe_media_type_unknown
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_get_mac_addr - Get MAC address  *  @hw: pointer to hardware structure  *  @mac_addr: Adapter MAC address  *  *  Reads the adapter's MAC address from the first Receive Address Register  *  (RAR0) A reset of the adapter must have been performed prior to calling  *  this function in order for the MAC address to have been loaded from the  *  EEPROM into RAR0  **/
end_comment

begin_function
name|s32
name|ixgbe_get_mac_addr
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u8
modifier|*
name|mac_addr
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|get_mac_addr
argument_list|,
operator|(
name|hw
operator|,
name|mac_addr
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_get_san_mac_addr - Get SAN MAC address  *  @hw: pointer to hardware structure  *  @san_mac_addr: SAN MAC address  *  *  Reads the SAN MAC address from the EEPROM, if it's available.  This is  *  per-port, so set_lan_id() must be called before reading the addresses.  **/
end_comment

begin_function
name|s32
name|ixgbe_get_san_mac_addr
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u8
modifier|*
name|san_mac_addr
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|get_san_mac_addr
argument_list|,
operator|(
name|hw
operator|,
name|san_mac_addr
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_set_san_mac_addr - Write a SAN MAC address  *  @hw: pointer to hardware structure  *  @san_mac_addr: SAN MAC address  *  *  Writes A SAN MAC address to the EEPROM.  **/
end_comment

begin_function
name|s32
name|ixgbe_set_san_mac_addr
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u8
modifier|*
name|san_mac_addr
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|set_san_mac_addr
argument_list|,
operator|(
name|hw
operator|,
name|san_mac_addr
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_get_device_caps - Get additional device capabilities  *  @hw: pointer to hardware structure  *  @device_caps: the EEPROM word for device capabilities  *  *  Reads the extra device capabilities from the EEPROM  **/
end_comment

begin_function
name|s32
name|ixgbe_get_device_caps
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u16
modifier|*
name|device_caps
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|get_device_caps
argument_list|,
operator|(
name|hw
operator|,
name|device_caps
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_get_wwn_prefix - Get alternative WWNN/WWPN prefix from the EEPROM  *  @hw: pointer to hardware structure  *  @wwnn_prefix: the alternative WWNN prefix  *  @wwpn_prefix: the alternative WWPN prefix  *  *  This function will read the EEPROM from the alternative SAN MAC address  *  block to check the support for the alternative WWNN/WWPN prefix support.  **/
end_comment

begin_function
name|s32
name|ixgbe_get_wwn_prefix
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u16
modifier|*
name|wwnn_prefix
parameter_list|,
name|u16
modifier|*
name|wwpn_prefix
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|get_wwn_prefix
argument_list|,
operator|(
name|hw
operator|,
name|wwnn_prefix
operator|,
name|wwpn_prefix
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_get_fcoe_boot_status -  Get FCOE boot status from EEPROM  *  @hw: pointer to hardware structure  *  @bs: the fcoe boot status  *  *  This function will read the FCOE boot status from the iSCSI FCOE block  **/
end_comment

begin_function
name|s32
name|ixgbe_get_fcoe_boot_status
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u16
modifier|*
name|bs
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|get_fcoe_boot_status
argument_list|,
operator|(
name|hw
operator|,
name|bs
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_get_bus_info - Set PCI bus info  *  @hw: pointer to hardware structure  *  *  Sets the PCI bus info (speed, width, type) within the ixgbe_hw structure  **/
end_comment

begin_function
name|s32
name|ixgbe_get_bus_info
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|get_bus_info
argument_list|,
operator|(
name|hw
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_get_num_of_tx_queues - Get Tx queues  *  @hw: pointer to hardware structure  *  *  Returns the number of transmit queues for the given adapter.  **/
end_comment

begin_function
name|u32
name|ixgbe_get_num_of_tx_queues
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|hw
operator|->
name|mac
operator|.
name|max_tx_queues
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_get_num_of_rx_queues - Get Rx queues  *  @hw: pointer to hardware structure  *  *  Returns the number of receive queues for the given adapter.  **/
end_comment

begin_function
name|u32
name|ixgbe_get_num_of_rx_queues
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|hw
operator|->
name|mac
operator|.
name|max_rx_queues
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_stop_adapter - Disable Rx/Tx units  *  @hw: pointer to hardware structure  *  *  Sets the adapter_stopped flag within ixgbe_hw struct. Clears interrupts,  *  disables transmit and receive units. The adapter_stopped flag is used by  *  the shared code and drivers to determine if the adapter is in a stopped  *  state and should not touch the hardware.  **/
end_comment

begin_function
name|s32
name|ixgbe_stop_adapter
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|stop_adapter
argument_list|,
operator|(
name|hw
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_read_pba_string - Reads part number string from EEPROM  *  @hw: pointer to hardware structure  *  @pba_num: stores the part number string from the EEPROM  *  @pba_num_size: part number string buffer length  *  *  Reads the part number string from the EEPROM.  **/
end_comment

begin_function
name|s32
name|ixgbe_read_pba_string
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u8
modifier|*
name|pba_num
parameter_list|,
name|u32
name|pba_num_size
parameter_list|)
block|{
return|return
name|ixgbe_read_pba_string_generic
argument_list|(
name|hw
argument_list|,
name|pba_num
argument_list|,
name|pba_num_size
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_read_pba_num - Reads part number from EEPROM  *  @hw: pointer to hardware structure  *  @pba_num: stores the part number from the EEPROM  *  *  Reads the part number from the EEPROM.  **/
end_comment

begin_function
name|s32
name|ixgbe_read_pba_num
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u32
modifier|*
name|pba_num
parameter_list|)
block|{
return|return
name|ixgbe_read_pba_num_generic
argument_list|(
name|hw
argument_list|,
name|pba_num
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_identify_phy - Get PHY type  *  @hw: pointer to hardware structure  *  *  Determines the physical layer module found on the current adapter.  **/
end_comment

begin_function
name|s32
name|ixgbe_identify_phy
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
name|s32
name|status
init|=
name|IXGBE_SUCCESS
decl_stmt|;
if|if
condition|(
name|hw
operator|->
name|phy
operator|.
name|type
operator|==
name|ixgbe_phy_unknown
condition|)
block|{
name|status
operator|=
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|phy
operator|.
name|ops
operator|.
name|identify
argument_list|,
operator|(
name|hw
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
expr_stmt|;
block|}
return|return
name|status
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_reset_phy - Perform a PHY reset  *  @hw: pointer to hardware structure  **/
end_comment

begin_function
name|s32
name|ixgbe_reset_phy
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
name|s32
name|status
init|=
name|IXGBE_SUCCESS
decl_stmt|;
if|if
condition|(
name|hw
operator|->
name|phy
operator|.
name|type
operator|==
name|ixgbe_phy_unknown
condition|)
block|{
if|if
condition|(
name|ixgbe_identify_phy
argument_list|(
name|hw
argument_list|)
operator|!=
name|IXGBE_SUCCESS
condition|)
name|status
operator|=
name|IXGBE_ERR_PHY
expr_stmt|;
block|}
if|if
condition|(
name|status
operator|==
name|IXGBE_SUCCESS
condition|)
block|{
name|status
operator|=
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|phy
operator|.
name|ops
operator|.
name|reset
argument_list|,
operator|(
name|hw
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
expr_stmt|;
block|}
return|return
name|status
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_get_phy_firmware_version -  *  @hw: pointer to hardware structure  *  @firmware_version: pointer to firmware version  **/
end_comment

begin_function
name|s32
name|ixgbe_get_phy_firmware_version
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u16
modifier|*
name|firmware_version
parameter_list|)
block|{
name|s32
name|status
init|=
name|IXGBE_SUCCESS
decl_stmt|;
name|status
operator|=
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|phy
operator|.
name|ops
operator|.
name|get_firmware_version
argument_list|,
operator|(
name|hw
operator|,
name|firmware_version
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
expr_stmt|;
return|return
name|status
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_read_phy_reg - Read PHY register  *  @hw: pointer to hardware structure  *  @reg_addr: 32 bit address of PHY register to read  *  @phy_data: Pointer to read data from PHY register  *  *  Reads a value from a specified PHY register  **/
end_comment

begin_function
name|s32
name|ixgbe_read_phy_reg
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u32
name|reg_addr
parameter_list|,
name|u32
name|device_type
parameter_list|,
name|u16
modifier|*
name|phy_data
parameter_list|)
block|{
if|if
condition|(
name|hw
operator|->
name|phy
operator|.
name|id
operator|==
literal|0
condition|)
name|ixgbe_identify_phy
argument_list|(
name|hw
argument_list|)
expr_stmt|;
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|phy
operator|.
name|ops
operator|.
name|read_reg
argument_list|,
operator|(
name|hw
operator|,
name|reg_addr
operator|,
name|device_type
operator|,
name|phy_data
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_write_phy_reg - Write PHY register  *  @hw: pointer to hardware structure  *  @reg_addr: 32 bit PHY register to write  *  @phy_data: Data to write to the PHY register  *  *  Writes a value to specified PHY register  **/
end_comment

begin_function
name|s32
name|ixgbe_write_phy_reg
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u32
name|reg_addr
parameter_list|,
name|u32
name|device_type
parameter_list|,
name|u16
name|phy_data
parameter_list|)
block|{
if|if
condition|(
name|hw
operator|->
name|phy
operator|.
name|id
operator|==
literal|0
condition|)
name|ixgbe_identify_phy
argument_list|(
name|hw
argument_list|)
expr_stmt|;
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|phy
operator|.
name|ops
operator|.
name|write_reg
argument_list|,
operator|(
name|hw
operator|,
name|reg_addr
operator|,
name|device_type
operator|,
name|phy_data
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_setup_phy_link - Restart PHY autoneg  *  @hw: pointer to hardware structure  *  *  Restart autonegotiation and PHY and waits for completion.  **/
end_comment

begin_function
name|s32
name|ixgbe_setup_phy_link
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|phy
operator|.
name|ops
operator|.
name|setup_link
argument_list|,
operator|(
name|hw
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  * ixgbe_setup_internal_phy - Configure integrated PHY  * @hw: pointer to hardware structure  *  * Reconfigure the integrated PHY in order to enable talk to the external PHY.  * Returns success if not implemented, since nothing needs to be done in this  * case.  */
end_comment

begin_function
name|s32
name|ixgbe_setup_internal_phy
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|phy
operator|.
name|ops
operator|.
name|setup_internal_link
argument_list|,
operator|(
name|hw
operator|)
argument_list|,
name|IXGBE_SUCCESS
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_check_phy_link - Determine link and speed status  *  @hw: pointer to hardware structure  *  *  Reads a PHY register to determine if link is up and the current speed for  *  the PHY.  **/
end_comment

begin_function
name|s32
name|ixgbe_check_phy_link
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|ixgbe_link_speed
modifier|*
name|speed
parameter_list|,
name|bool
modifier|*
name|link_up
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|phy
operator|.
name|ops
operator|.
name|check_link
argument_list|,
operator|(
name|hw
operator|,
name|speed
operator|,
name|link_up
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_setup_phy_link_speed - Set auto advertise  *  @hw: pointer to hardware structure  *  @speed: new link speed  *  *  Sets the auto advertised capabilities  **/
end_comment

begin_function
name|s32
name|ixgbe_setup_phy_link_speed
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|ixgbe_link_speed
name|speed
parameter_list|,
name|bool
name|autoneg_wait_to_complete
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|phy
operator|.
name|ops
operator|.
name|setup_link_speed
argument_list|,
operator|(
name|hw
operator|,
name|speed
operator|,
name|autoneg_wait_to_complete
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  * ixgbe_set_phy_power - Control the phy power state  * @hw: pointer to hardware structure  * @on: TRUE for on, FALSE for off  */
end_comment

begin_function
name|s32
name|ixgbe_set_phy_power
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|bool
name|on
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|phy
operator|.
name|ops
operator|.
name|set_phy_power
argument_list|,
operator|(
name|hw
operator|,
name|on
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_check_link - Get link and speed status  *  @hw: pointer to hardware structure  *  *  Reads the links register to determine if link is up and the current speed  **/
end_comment

begin_function
name|s32
name|ixgbe_check_link
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|ixgbe_link_speed
modifier|*
name|speed
parameter_list|,
name|bool
modifier|*
name|link_up
parameter_list|,
name|bool
name|link_up_wait_to_complete
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|check_link
argument_list|,
operator|(
name|hw
operator|,
name|speed
operator|,
name|link_up
operator|,
name|link_up_wait_to_complete
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_disable_tx_laser - Disable Tx laser  *  @hw: pointer to hardware structure  *  *  If the driver needs to disable the laser on SFI optics.  **/
end_comment

begin_function
name|void
name|ixgbe_disable_tx_laser
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
if|if
condition|(
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|disable_tx_laser
condition|)
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|disable_tx_laser
argument_list|(
name|hw
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_enable_tx_laser - Enable Tx laser  *  @hw: pointer to hardware structure  *  *  If the driver needs to enable the laser on SFI optics.  **/
end_comment

begin_function
name|void
name|ixgbe_enable_tx_laser
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
if|if
condition|(
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|enable_tx_laser
condition|)
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|enable_tx_laser
argument_list|(
name|hw
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_flap_tx_laser - flap Tx laser to start autotry process  *  @hw: pointer to hardware structure  *  *  When the driver changes the link speeds that it can support then  *  flap the tx laser to alert the link partner to start autotry  *  process on its end.  **/
end_comment

begin_function
name|void
name|ixgbe_flap_tx_laser
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
if|if
condition|(
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|flap_tx_laser
condition|)
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|flap_tx_laser
argument_list|(
name|hw
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_setup_link - Set link speed  *  @hw: pointer to hardware structure  *  @speed: new link speed  *  *  Configures link settings.  Restarts the link.  *  Performs autonegotiation if needed.  **/
end_comment

begin_function
name|s32
name|ixgbe_setup_link
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|ixgbe_link_speed
name|speed
parameter_list|,
name|bool
name|autoneg_wait_to_complete
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|setup_link
argument_list|,
operator|(
name|hw
operator|,
name|speed
operator|,
name|autoneg_wait_to_complete
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_setup_mac_link - Set link speed  *  @hw: pointer to hardware structure  *  @speed: new link speed  *  *  Configures link settings.  Restarts the link.  *  Performs autonegotiation if needed.  **/
end_comment

begin_function
name|s32
name|ixgbe_setup_mac_link
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|ixgbe_link_speed
name|speed
parameter_list|,
name|bool
name|autoneg_wait_to_complete
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|setup_mac_link
argument_list|,
operator|(
name|hw
operator|,
name|speed
operator|,
name|autoneg_wait_to_complete
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_get_link_capabilities - Returns link capabilities  *  @hw: pointer to hardware structure  *  *  Determines the link capabilities of the current configuration.  **/
end_comment

begin_function
name|s32
name|ixgbe_get_link_capabilities
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|ixgbe_link_speed
modifier|*
name|speed
parameter_list|,
name|bool
modifier|*
name|autoneg
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|get_link_capabilities
argument_list|,
operator|(
name|hw
operator|,
name|speed
operator|,
name|autoneg
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_led_on - Turn on LEDs  *  @hw: pointer to hardware structure  *  @index: led number to turn on  *  *  Turns on the software controllable LEDs.  **/
end_comment

begin_function
name|s32
name|ixgbe_led_on
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u32
name|index
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|led_on
argument_list|,
operator|(
name|hw
operator|,
name|index
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_led_off - Turn off LEDs  *  @hw: pointer to hardware structure  *  @index: led number to turn off  *  *  Turns off the software controllable LEDs.  **/
end_comment

begin_function
name|s32
name|ixgbe_led_off
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u32
name|index
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|led_off
argument_list|,
operator|(
name|hw
operator|,
name|index
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_blink_led_start - Blink LEDs  *  @hw: pointer to hardware structure  *  @index: led number to blink  *  *  Blink LED based on index.  **/
end_comment

begin_function
name|s32
name|ixgbe_blink_led_start
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u32
name|index
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|blink_led_start
argument_list|,
operator|(
name|hw
operator|,
name|index
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_blink_led_stop - Stop blinking LEDs  *  @hw: pointer to hardware structure  *  *  Stop blinking LED based on index.  **/
end_comment

begin_function
name|s32
name|ixgbe_blink_led_stop
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u32
name|index
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|blink_led_stop
argument_list|,
operator|(
name|hw
operator|,
name|index
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_init_eeprom_params - Initialize EEPROM parameters  *  @hw: pointer to hardware structure  *  *  Initializes the EEPROM parameters ixgbe_eeprom_info within the  *  ixgbe_hw struct in order to set up EEPROM access.  **/
end_comment

begin_function
name|s32
name|ixgbe_init_eeprom_params
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|eeprom
operator|.
name|ops
operator|.
name|init_params
argument_list|,
operator|(
name|hw
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_write_eeprom - Write word to EEPROM  *  @hw: pointer to hardware structure  *  @offset: offset within the EEPROM to be written to  *  @data: 16 bit word to be written to the EEPROM  *  *  Writes 16 bit value to EEPROM. If ixgbe_eeprom_update_checksum is not  *  called after this function, the EEPROM will most likely contain an  *  invalid checksum.  **/
end_comment

begin_function
name|s32
name|ixgbe_write_eeprom
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u16
name|offset
parameter_list|,
name|u16
name|data
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|eeprom
operator|.
name|ops
operator|.
name|write
argument_list|,
operator|(
name|hw
operator|,
name|offset
operator|,
name|data
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_write_eeprom_buffer - Write word(s) to EEPROM  *  @hw: pointer to hardware structure  *  @offset: offset within the EEPROM to be written to  *  @data: 16 bit word(s) to be written to the EEPROM  *  @words: number of words  *  *  Writes 16 bit word(s) to EEPROM. If ixgbe_eeprom_update_checksum is not  *  called after this function, the EEPROM will most likely contain an  *  invalid checksum.  **/
end_comment

begin_function
name|s32
name|ixgbe_write_eeprom_buffer
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u16
name|offset
parameter_list|,
name|u16
name|words
parameter_list|,
name|u16
modifier|*
name|data
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|eeprom
operator|.
name|ops
operator|.
name|write_buffer
argument_list|,
operator|(
name|hw
operator|,
name|offset
operator|,
name|words
operator|,
name|data
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_read_eeprom - Read word from EEPROM  *  @hw: pointer to hardware structure  *  @offset: offset within the EEPROM to be read  *  @data: read 16 bit value from EEPROM  *  *  Reads 16 bit value from EEPROM  **/
end_comment

begin_function
name|s32
name|ixgbe_read_eeprom
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u16
name|offset
parameter_list|,
name|u16
modifier|*
name|data
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|eeprom
operator|.
name|ops
operator|.
name|read
argument_list|,
operator|(
name|hw
operator|,
name|offset
operator|,
name|data
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_read_eeprom_buffer - Read word(s) from EEPROM  *  @hw: pointer to hardware structure  *  @offset: offset within the EEPROM to be read  *  @data: read 16 bit word(s) from EEPROM  *  @words: number of words  *  *  Reads 16 bit word(s) from EEPROM  **/
end_comment

begin_function
name|s32
name|ixgbe_read_eeprom_buffer
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u16
name|offset
parameter_list|,
name|u16
name|words
parameter_list|,
name|u16
modifier|*
name|data
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|eeprom
operator|.
name|ops
operator|.
name|read_buffer
argument_list|,
operator|(
name|hw
operator|,
name|offset
operator|,
name|words
operator|,
name|data
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_validate_eeprom_checksum - Validate EEPROM checksum  *  @hw: pointer to hardware structure  *  @checksum_val: calculated checksum  *  *  Performs checksum calculation and validates the EEPROM checksum  **/
end_comment

begin_function
name|s32
name|ixgbe_validate_eeprom_checksum
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u16
modifier|*
name|checksum_val
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|eeprom
operator|.
name|ops
operator|.
name|validate_checksum
argument_list|,
operator|(
name|hw
operator|,
name|checksum_val
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_eeprom_update_checksum - Updates the EEPROM checksum  *  @hw: pointer to hardware structure  **/
end_comment

begin_function
name|s32
name|ixgbe_update_eeprom_checksum
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|eeprom
operator|.
name|ops
operator|.
name|update_checksum
argument_list|,
operator|(
name|hw
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_insert_mac_addr - Find a RAR for this mac address  *  @hw: pointer to hardware structure  *  @addr: Address to put into receive address register  *  @vmdq: VMDq pool to assign  *  *  Puts an ethernet address into a receive address register, or  *  finds the rar that it is already in; adds to the pool list  **/
end_comment

begin_function
name|s32
name|ixgbe_insert_mac_addr
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u8
modifier|*
name|addr
parameter_list|,
name|u32
name|vmdq
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|insert_mac_addr
argument_list|,
operator|(
name|hw
operator|,
name|addr
operator|,
name|vmdq
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_set_rar - Set Rx address register  *  @hw: pointer to hardware structure  *  @index: Receive address register to write  *  @addr: Address to put into receive address register  *  @vmdq: VMDq "set"  *  @enable_addr: set flag that address is active  *  *  Puts an ethernet address into a receive address register.  **/
end_comment

begin_function
name|s32
name|ixgbe_set_rar
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u32
name|index
parameter_list|,
name|u8
modifier|*
name|addr
parameter_list|,
name|u32
name|vmdq
parameter_list|,
name|u32
name|enable_addr
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|set_rar
argument_list|,
operator|(
name|hw
operator|,
name|index
operator|,
name|addr
operator|,
name|vmdq
operator|,
name|enable_addr
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_clear_rar - Clear Rx address register  *  @hw: pointer to hardware structure  *  @index: Receive address register to write  *  *  Puts an ethernet address into a receive address register.  **/
end_comment

begin_function
name|s32
name|ixgbe_clear_rar
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u32
name|index
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|clear_rar
argument_list|,
operator|(
name|hw
operator|,
name|index
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_set_vmdq - Associate a VMDq index with a receive address  *  @hw: pointer to hardware structure  *  @rar: receive address register index to associate with VMDq index  *  @vmdq: VMDq set or pool index  **/
end_comment

begin_function
name|s32
name|ixgbe_set_vmdq
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u32
name|rar
parameter_list|,
name|u32
name|vmdq
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|set_vmdq
argument_list|,
operator|(
name|hw
operator|,
name|rar
operator|,
name|vmdq
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_set_vmdq_san_mac - Associate VMDq index 127 with a receive address  *  @hw: pointer to hardware structure  *  @vmdq: VMDq default pool index  **/
end_comment

begin_function
name|s32
name|ixgbe_set_vmdq_san_mac
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u32
name|vmdq
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|set_vmdq_san_mac
argument_list|,
operator|(
name|hw
operator|,
name|vmdq
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_clear_vmdq - Disassociate a VMDq index from a receive address  *  @hw: pointer to hardware structure  *  @rar: receive address register index to disassociate with VMDq index  *  @vmdq: VMDq set or pool index  **/
end_comment

begin_function
name|s32
name|ixgbe_clear_vmdq
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u32
name|rar
parameter_list|,
name|u32
name|vmdq
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|clear_vmdq
argument_list|,
operator|(
name|hw
operator|,
name|rar
operator|,
name|vmdq
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_init_rx_addrs - Initializes receive address filters.  *  @hw: pointer to hardware structure  *  *  Places the MAC address in receive address register 0 and clears the rest  *  of the receive address registers. Clears the multicast table. Assumes  *  the receiver is in reset when the routine is called.  **/
end_comment

begin_function
name|s32
name|ixgbe_init_rx_addrs
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|init_rx_addrs
argument_list|,
operator|(
name|hw
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_get_num_rx_addrs - Returns the number of RAR entries.  *  @hw: pointer to hardware structure  **/
end_comment

begin_function
name|u32
name|ixgbe_get_num_rx_addrs
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|hw
operator|->
name|mac
operator|.
name|num_rar_entries
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_update_uc_addr_list - Updates the MAC's list of secondary addresses  *  @hw: pointer to hardware structure  *  @addr_list: the list of new multicast addresses  *  @addr_count: number of addresses  *  @func: iterator function to walk the multicast address list  *  *  The given list replaces any existing list. Clears the secondary addrs from  *  receive address registers. Uses unused receive address registers for the  *  first secondary addresses, and falls back to promiscuous mode as needed.  **/
end_comment

begin_function
name|s32
name|ixgbe_update_uc_addr_list
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u8
modifier|*
name|addr_list
parameter_list|,
name|u32
name|addr_count
parameter_list|,
name|ixgbe_mc_addr_itr
name|func
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|update_uc_addr_list
argument_list|,
operator|(
name|hw
operator|,
name|addr_list
operator|,
name|addr_count
operator|,
name|func
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_update_mc_addr_list - Updates the MAC's list of multicast addresses  *  @hw: pointer to hardware structure  *  @mc_addr_list: the list of new multicast addresses  *  @mc_addr_count: number of addresses  *  @func: iterator function to walk the multicast address list  *  *  The given list replaces any existing list. Clears the MC addrs from receive  *  address registers and the multicast table. Uses unused receive address  *  registers for the first multicast addresses, and hashes the rest into the  *  multicast table.  **/
end_comment

begin_function
name|s32
name|ixgbe_update_mc_addr_list
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u8
modifier|*
name|mc_addr_list
parameter_list|,
name|u32
name|mc_addr_count
parameter_list|,
name|ixgbe_mc_addr_itr
name|func
parameter_list|,
name|bool
name|clear
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|update_mc_addr_list
argument_list|,
operator|(
name|hw
operator|,
name|mc_addr_list
operator|,
name|mc_addr_count
operator|,
name|func
operator|,
name|clear
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_enable_mc - Enable multicast address in RAR  *  @hw: pointer to hardware structure  *  *  Enables multicast address in RAR and the use of the multicast hash table.  **/
end_comment

begin_function
name|s32
name|ixgbe_enable_mc
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|enable_mc
argument_list|,
operator|(
name|hw
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_disable_mc - Disable multicast address in RAR  *  @hw: pointer to hardware structure  *  *  Disables multicast address in RAR and the use of the multicast hash table.  **/
end_comment

begin_function
name|s32
name|ixgbe_disable_mc
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|disable_mc
argument_list|,
operator|(
name|hw
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_clear_vfta - Clear VLAN filter table  *  @hw: pointer to hardware structure  *  *  Clears the VLAN filer table, and the VMDq index associated with the filter  **/
end_comment

begin_function
name|s32
name|ixgbe_clear_vfta
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|clear_vfta
argument_list|,
operator|(
name|hw
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_set_vfta - Set VLAN filter table  *  @hw: pointer to hardware structure  *  @vlan: VLAN id to write to VLAN filter  *  @vind: VMDq output index that maps queue to VLAN id in VLVFB  *  @vlan_on: boolean flag to turn on/off VLAN  *  @vlvf_bypass: boolean flag indicating updating the default pool is okay  *  *  Turn on/off specified VLAN in the VLAN filter table.  **/
end_comment

begin_function
name|s32
name|ixgbe_set_vfta
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u32
name|vlan
parameter_list|,
name|u32
name|vind
parameter_list|,
name|bool
name|vlan_on
parameter_list|,
name|bool
name|vlvf_bypass
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|set_vfta
argument_list|,
operator|(
name|hw
operator|,
name|vlan
operator|,
name|vind
operator|,
name|vlan_on
operator|,
name|vlvf_bypass
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_set_vlvf - Set VLAN Pool Filter  *  @hw: pointer to hardware structure  *  @vlan: VLAN id to write to VLAN filter  *  @vind: VMDq output index that maps queue to VLAN id in VLVFB  *  @vlan_on: boolean flag to turn on/off VLAN in VLVF  *  @vfta_delta: pointer to the difference between the current value of VFTA  *		 and the desired value  *  @vfta: the desired value of the VFTA  *  @vlvf_bypass: boolean flag indicating updating the default pool is okay  *  *  Turn on/off specified bit in VLVF table.  **/
end_comment

begin_function
name|s32
name|ixgbe_set_vlvf
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u32
name|vlan
parameter_list|,
name|u32
name|vind
parameter_list|,
name|bool
name|vlan_on
parameter_list|,
name|u32
modifier|*
name|vfta_delta
parameter_list|,
name|u32
name|vfta
parameter_list|,
name|bool
name|vlvf_bypass
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|set_vlvf
argument_list|,
operator|(
name|hw
operator|,
name|vlan
operator|,
name|vind
operator|,
name|vlan_on
operator|,
name|vfta_delta
operator|,
name|vfta
operator|,
name|vlvf_bypass
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_fc_enable - Enable flow control  *  @hw: pointer to hardware structure  *  *  Configures the flow control settings based on SW configuration.  **/
end_comment

begin_function
name|s32
name|ixgbe_fc_enable
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|fc_enable
argument_list|,
operator|(
name|hw
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_setup_fc - Set up flow control  *  @hw: pointer to hardware structure  *  *  Called at init time to set up flow control.  **/
end_comment

begin_function
name|s32
name|ixgbe_setup_fc
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|setup_fc
argument_list|,
operator|(
name|hw
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  * ixgbe_set_fw_drv_ver - Try to send the driver version number FW  * @hw: pointer to hardware structure  * @maj: driver major number to be sent to firmware  * @min: driver minor number to be sent to firmware  * @build: driver build number to be sent to firmware  * @ver: driver version number to be sent to firmware  * @len: length of driver_ver string  * @driver_ver: driver string  **/
end_comment

begin_function
name|s32
name|ixgbe_set_fw_drv_ver
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u8
name|maj
parameter_list|,
name|u8
name|min
parameter_list|,
name|u8
name|build
parameter_list|,
name|u8
name|ver
parameter_list|,
name|u16
name|len
parameter_list|,
name|char
modifier|*
name|driver_ver
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|set_fw_drv_ver
argument_list|,
operator|(
name|hw
operator|,
name|maj
operator|,
name|min
operator|,
name|build
operator|,
name|ver
operator|,
name|len
operator|,
name|driver_ver
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_dmac_config - Configure DMA Coalescing registers.  *  @hw: pointer to hardware structure  *  *  Configure DMA coalescing. If enabling dmac, dmac is activated.  *  When disabling dmac, dmac enable dmac bit is cleared.  **/
end_comment

begin_function
name|s32
name|ixgbe_dmac_config
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|dmac_config
argument_list|,
operator|(
name|hw
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_dmac_update_tcs - Configure DMA Coalescing registers.  *  @hw: pointer to hardware structure  *  *  Disables dmac, updates per TC settings, and then enable dmac.  **/
end_comment

begin_function
name|s32
name|ixgbe_dmac_update_tcs
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|dmac_update_tcs
argument_list|,
operator|(
name|hw
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_dmac_config_tcs - Configure DMA Coalescing registers.  *  @hw: pointer to hardware structure  *  *  Configure DMA coalescing threshold per TC and set high priority bit for  *  FCOE TC. The dmac enable bit must be cleared before configuring.  **/
end_comment

begin_function
name|s32
name|ixgbe_dmac_config_tcs
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|dmac_config_tcs
argument_list|,
operator|(
name|hw
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_setup_eee - Enable/disable EEE support  *  @hw: pointer to the HW structure  *  @enable_eee: boolean flag to enable EEE  *  *  Enable/disable EEE based on enable_ee flag.  *  Auto-negotiation must be started after BASE-T EEE bits in PHY register 7.3C  *  are modified.  *  **/
end_comment

begin_function
name|s32
name|ixgbe_setup_eee
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|bool
name|enable_eee
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|setup_eee
argument_list|,
operator|(
name|hw
operator|,
name|enable_eee
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  * ixgbe_set_source_address_pruning - Enable/Disable source address pruning  * @hw: pointer to hardware structure  * @enbale: enable or disable source address pruning  * @pool: Rx pool - Rx pool to toggle source address pruning  **/
end_comment

begin_function
name|void
name|ixgbe_set_source_address_pruning
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|bool
name|enable
parameter_list|,
name|unsigned
name|int
name|pool
parameter_list|)
block|{
if|if
condition|(
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|set_source_address_pruning
condition|)
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|set_source_address_pruning
argument_list|(
name|hw
argument_list|,
name|enable
argument_list|,
name|pool
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_set_ethertype_anti_spoofing - Enable/Disable Ethertype anti-spoofing  *  @hw: pointer to hardware structure  *  @enable: enable or disable switch for Ethertype anti-spoofing  *  @vf: Virtual Function pool - VF Pool to set for Ethertype anti-spoofing  *  **/
end_comment

begin_function
name|void
name|ixgbe_set_ethertype_anti_spoofing
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|bool
name|enable
parameter_list|,
name|int
name|vf
parameter_list|)
block|{
if|if
condition|(
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|set_ethertype_anti_spoofing
condition|)
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|set_ethertype_anti_spoofing
argument_list|(
name|hw
argument_list|,
name|enable
argument_list|,
name|vf
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_read_iosf_sb_reg - Read 32 bit PHY register  *  @hw: pointer to hardware structure  *  @reg_addr: 32 bit address of PHY register to read  *  @device_type: type of device you want to communicate with  *  @phy_data: Pointer to read data from PHY register  *  *  Reads a value from a specified PHY register  **/
end_comment

begin_function
name|s32
name|ixgbe_read_iosf_sb_reg
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u32
name|reg_addr
parameter_list|,
name|u32
name|device_type
parameter_list|,
name|u32
modifier|*
name|phy_data
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|read_iosf_sb_reg
argument_list|,
operator|(
name|hw
operator|,
name|reg_addr
operator|,
name|device_type
operator|,
name|phy_data
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_write_iosf_sb_reg - Write 32 bit register through IOSF Sideband  *  @hw: pointer to hardware structure  *  @reg_addr: 32 bit PHY register to write  *  @device_type: type of device you want to communicate with  *  @phy_data: Data to write to the PHY register  *  *  Writes a value to specified PHY register  **/
end_comment

begin_function
name|s32
name|ixgbe_write_iosf_sb_reg
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u32
name|reg_addr
parameter_list|,
name|u32
name|device_type
parameter_list|,
name|u32
name|phy_data
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|write_iosf_sb_reg
argument_list|,
operator|(
name|hw
operator|,
name|reg_addr
operator|,
name|device_type
operator|,
name|phy_data
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_disable_mdd - Disable malicious driver detection  *  @hw: pointer to hardware structure  *  **/
end_comment

begin_function
name|void
name|ixgbe_disable_mdd
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
if|if
condition|(
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|disable_mdd
condition|)
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|disable_mdd
argument_list|(
name|hw
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_enable_mdd - Enable malicious driver detection  *  @hw: pointer to hardware structure  *  **/
end_comment

begin_function
name|void
name|ixgbe_enable_mdd
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
if|if
condition|(
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|enable_mdd
condition|)
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|enable_mdd
argument_list|(
name|hw
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_mdd_event - Handle malicious driver detection event  *  @hw: pointer to hardware structure  *  @vf_bitmap: vf bitmap of malicious vfs  *  **/
end_comment

begin_function
name|void
name|ixgbe_mdd_event
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u32
modifier|*
name|vf_bitmap
parameter_list|)
block|{
if|if
condition|(
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|mdd_event
condition|)
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|mdd_event
argument_list|(
name|hw
argument_list|,
name|vf_bitmap
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_restore_mdd_vf - Restore VF that was disabled during malicious driver  *  detection event  *  @hw: pointer to hardware structure  *  @vf: vf index  *  **/
end_comment

begin_function
name|void
name|ixgbe_restore_mdd_vf
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u32
name|vf
parameter_list|)
block|{
if|if
condition|(
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|restore_mdd_vf
condition|)
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|restore_mdd_vf
argument_list|(
name|hw
argument_list|,
name|vf
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_enter_lplu - Transition to low power states  *  @hw: pointer to hardware structure  *  * Configures Low Power Link Up on transition to low power states  * (from D0 to non-D0).  **/
end_comment

begin_function
name|s32
name|ixgbe_enter_lplu
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|phy
operator|.
name|ops
operator|.
name|enter_lplu
argument_list|,
operator|(
name|hw
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  * ixgbe_handle_lasi - Handle external Base T PHY interrupt  * @hw: pointer to hardware structure  *  * Handle external Base T PHY interrupt. If high temperature  * failure alarm then return error, else if link status change  * then setup internal/external PHY link  *  * Return IXGBE_ERR_OVERTEMP if interrupt is high temperature  * failure alarm, else return PHY access status.  */
end_comment

begin_function
name|s32
name|ixgbe_handle_lasi
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|phy
operator|.
name|ops
operator|.
name|handle_lasi
argument_list|,
operator|(
name|hw
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_bypass_rw - Bit bang data into by_pass FW  *  @hw: pointer to hardware structure  *  @cmd: Command we send to the FW  *  @status: The reply from the FW  *  *  Bit-bangs the cmd to the by_pass FW status points to what is returned.  **/
end_comment

begin_function
name|s32
name|ixgbe_bypass_rw
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u32
name|cmd
parameter_list|,
name|u32
modifier|*
name|status
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|bypass_rw
argument_list|,
operator|(
name|hw
operator|,
name|cmd
operator|,
name|status
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  * ixgbe_bypass_valid_rd - Verify valid return from bit-bang.  *  * If we send a write we can't be sure it took until we can read back  * that same register.  It can be a problem as some of the feilds may  * for valid reasons change inbetween the time wrote the register and  * we read it again to verify.  So this function check everything we  * can check and then assumes it worked.  *  * @u32 in_reg - The register cmd for the bit-bang read.  * @u32 out_reg - The register returned from a bit-bang read.  **/
end_comment

begin_function
name|bool
name|ixgbe_bypass_valid_rd
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u32
name|in_reg
parameter_list|,
name|u32
name|out_reg
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|bypass_valid_rd
argument_list|,
operator|(
name|in_reg
operator|,
name|out_reg
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_bypass_set - Set a bypass field in the FW CTRL Regiter.  *  @hw: pointer to hardware structure  *  @cmd: The control word we are setting.  *  @event: The event we are setting in the FW.  This also happens to  *          be the mask for the event we are setting (handy)  *  @action: The action we set the event to in the FW. This is in a  *           bit field that happens to be what we want to put in  *           the event spot (also handy)  *  *  Writes to the cmd control the bits in actions.  **/
end_comment

begin_function
name|s32
name|ixgbe_bypass_set
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u32
name|cmd
parameter_list|,
name|u32
name|event
parameter_list|,
name|u32
name|action
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|bypass_set
argument_list|,
operator|(
name|hw
operator|,
name|cmd
operator|,
name|event
operator|,
name|action
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_bypass_rd_eep - Read the bypass FW eeprom address  *  @hw: pointer to hardware structure  *  @addr: The bypass eeprom address to read.  *  @value: The 8b of data at the address above.  **/
end_comment

begin_function
name|s32
name|ixgbe_bypass_rd_eep
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u32
name|addr
parameter_list|,
name|u8
modifier|*
name|value
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|bypass_rd_eep
argument_list|,
operator|(
name|hw
operator|,
name|addr
operator|,
name|value
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_read_analog_reg8 - Reads 8 bit analog register  *  @hw: pointer to hardware structure  *  @reg: analog register to read  *  @val: read value  *  *  Performs write operation to analog register specified.  **/
end_comment

begin_function
name|s32
name|ixgbe_read_analog_reg8
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u32
name|reg
parameter_list|,
name|u8
modifier|*
name|val
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|read_analog_reg8
argument_list|,
operator|(
name|hw
operator|,
name|reg
operator|,
name|val
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_write_analog_reg8 - Writes 8 bit analog register  *  @hw: pointer to hardware structure  *  @reg: analog register to write  *  @val: value to write  *  *  Performs write operation to Atlas analog register specified.  **/
end_comment

begin_function
name|s32
name|ixgbe_write_analog_reg8
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u32
name|reg
parameter_list|,
name|u8
name|val
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|write_analog_reg8
argument_list|,
operator|(
name|hw
operator|,
name|reg
operator|,
name|val
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_init_uta_tables - Initializes Unicast Table Arrays.  *  @hw: pointer to hardware structure  *  *  Initializes the Unicast Table Arrays to zero on device load.  This  *  is part of the Rx init addr execution path.  **/
end_comment

begin_function
name|s32
name|ixgbe_init_uta_tables
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|init_uta_tables
argument_list|,
operator|(
name|hw
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_read_i2c_byte - Reads 8 bit word over I2C at specified device address  *  @hw: pointer to hardware structure  *  @byte_offset: byte offset to read  *  @dev_addr: I2C bus address to read from  *  @data: value read  *  *  Performs byte read operation to SFP module's EEPROM over I2C interface.  **/
end_comment

begin_function
name|s32
name|ixgbe_read_i2c_byte
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u8
name|byte_offset
parameter_list|,
name|u8
name|dev_addr
parameter_list|,
name|u8
modifier|*
name|data
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|phy
operator|.
name|ops
operator|.
name|read_i2c_byte
argument_list|,
operator|(
name|hw
operator|,
name|byte_offset
operator|,
name|dev_addr
operator|,
name|data
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_read_i2c_byte_unlocked - Reads 8 bit word via I2C from device address  *  @hw: pointer to hardware structure  *  @byte_offset: byte offset to read  *  @dev_addr: I2C bus address to read from  *  @data: value read  *  *  Performs byte read operation to SFP module's EEPROM over I2C interface.  **/
end_comment

begin_function
name|s32
name|ixgbe_read_i2c_byte_unlocked
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u8
name|byte_offset
parameter_list|,
name|u8
name|dev_addr
parameter_list|,
name|u8
modifier|*
name|data
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|phy
operator|.
name|ops
operator|.
name|read_i2c_byte_unlocked
argument_list|,
operator|(
name|hw
operator|,
name|byte_offset
operator|,
name|dev_addr
operator|,
name|data
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  * ixgbe_read_link - Perform read operation on link device  * @hw: pointer to the hardware structure  * @addr: bus address to read from  * @reg: device register to read from  * @val: pointer to location to receive read value  *  * Returns an error code on error.  */
end_comment

begin_function
name|s32
name|ixgbe_read_link
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u8
name|addr
parameter_list|,
name|u16
name|reg
parameter_list|,
name|u16
modifier|*
name|val
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|link
operator|.
name|ops
operator|.
name|read_link
argument_list|,
operator|(
name|hw
operator|,
name|addr
operator|,
name|reg
operator|,
name|val
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  * ixgbe_read_link_unlocked - Perform read operation on link device  * @hw: pointer to the hardware structure  * @addr: bus address to read from  * @reg: device register to read from  * @val: pointer to location to receive read value  *  * Returns an error code on error.  **/
end_comment

begin_function
name|s32
name|ixgbe_read_link_unlocked
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u8
name|addr
parameter_list|,
name|u16
name|reg
parameter_list|,
name|u16
modifier|*
name|val
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|link
operator|.
name|ops
operator|.
name|read_link_unlocked
argument_list|,
operator|(
name|hw
operator|,
name|addr
operator|,
name|reg
operator|,
name|val
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_write_i2c_byte - Writes 8 bit word over I2C  *  @hw: pointer to hardware structure  *  @byte_offset: byte offset to write  *  @dev_addr: I2C bus address to write to  *  @data: value to write  *  *  Performs byte write operation to SFP module's EEPROM over I2C interface  *  at a specified device address.  **/
end_comment

begin_function
name|s32
name|ixgbe_write_i2c_byte
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u8
name|byte_offset
parameter_list|,
name|u8
name|dev_addr
parameter_list|,
name|u8
name|data
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|phy
operator|.
name|ops
operator|.
name|write_i2c_byte
argument_list|,
operator|(
name|hw
operator|,
name|byte_offset
operator|,
name|dev_addr
operator|,
name|data
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_write_i2c_byte_unlocked - Writes 8 bit word over I2C  *  @hw: pointer to hardware structure  *  @byte_offset: byte offset to write  *  @dev_addr: I2C bus address to write to  *  @data: value to write  *  *  Performs byte write operation to SFP module's EEPROM over I2C interface  *  at a specified device address.  **/
end_comment

begin_function
name|s32
name|ixgbe_write_i2c_byte_unlocked
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u8
name|byte_offset
parameter_list|,
name|u8
name|dev_addr
parameter_list|,
name|u8
name|data
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|phy
operator|.
name|ops
operator|.
name|write_i2c_byte_unlocked
argument_list|,
operator|(
name|hw
operator|,
name|byte_offset
operator|,
name|dev_addr
operator|,
name|data
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  * ixgbe_write_link - Perform write operation on link device  * @hw: pointer to the hardware structure  * @addr: bus address to write to  * @reg: device register to write to  * @val: value to write  *  * Returns an error code on error.  */
end_comment

begin_function
name|s32
name|ixgbe_write_link
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u8
name|addr
parameter_list|,
name|u16
name|reg
parameter_list|,
name|u16
name|val
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|link
operator|.
name|ops
operator|.
name|write_link
argument_list|,
operator|(
name|hw
operator|,
name|addr
operator|,
name|reg
operator|,
name|val
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  * ixgbe_write_link_unlocked - Perform write operation on link device  * @hw: pointer to the hardware structure  * @addr: bus address to write to  * @reg: device register to write to  * @val: value to write  *  * Returns an error code on error.  **/
end_comment

begin_function
name|s32
name|ixgbe_write_link_unlocked
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u8
name|addr
parameter_list|,
name|u16
name|reg
parameter_list|,
name|u16
name|val
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|link
operator|.
name|ops
operator|.
name|write_link_unlocked
argument_list|,
operator|(
name|hw
operator|,
name|addr
operator|,
name|reg
operator|,
name|val
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_write_i2c_eeprom - Writes 8 bit EEPROM word over I2C interface  *  @hw: pointer to hardware structure  *  @byte_offset: EEPROM byte offset to write  *  @eeprom_data: value to write  *  *  Performs byte write operation to SFP module's EEPROM over I2C interface.  **/
end_comment

begin_function
name|s32
name|ixgbe_write_i2c_eeprom
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u8
name|byte_offset
parameter_list|,
name|u8
name|eeprom_data
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|phy
operator|.
name|ops
operator|.
name|write_i2c_eeprom
argument_list|,
operator|(
name|hw
operator|,
name|byte_offset
operator|,
name|eeprom_data
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_read_i2c_eeprom - Reads 8 bit EEPROM word over I2C interface  *  @hw: pointer to hardware structure  *  @byte_offset: EEPROM byte offset to read  *  @eeprom_data: value read  *  *  Performs byte read operation to SFP module's EEPROM over I2C interface.  **/
end_comment

begin_function
name|s32
name|ixgbe_read_i2c_eeprom
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u8
name|byte_offset
parameter_list|,
name|u8
modifier|*
name|eeprom_data
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|phy
operator|.
name|ops
operator|.
name|read_i2c_eeprom
argument_list|,
operator|(
name|hw
operator|,
name|byte_offset
operator|,
name|eeprom_data
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_get_supported_physical_layer - Returns physical layer type  *  @hw: pointer to hardware structure  *  *  Determines physical layer capabilities of the current configuration.  **/
end_comment

begin_function
name|u64
name|ixgbe_get_supported_physical_layer
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|get_supported_physical_layer
argument_list|,
operator|(
name|hw
operator|)
argument_list|,
name|IXGBE_PHYSICAL_LAYER_UNKNOWN
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_enable_rx_dma - Enables Rx DMA unit, dependent on device specifics  *  @hw: pointer to hardware structure  *  @regval: bitfield to write to the Rx DMA register  *  *  Enables the Rx DMA unit of the device.  **/
end_comment

begin_function
name|s32
name|ixgbe_enable_rx_dma
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u32
name|regval
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|enable_rx_dma
argument_list|,
operator|(
name|hw
operator|,
name|regval
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_disable_sec_rx_path - Stops the receive data path  *  @hw: pointer to hardware structure  *  *  Stops the receive data path.  **/
end_comment

begin_function
name|s32
name|ixgbe_disable_sec_rx_path
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|disable_sec_rx_path
argument_list|,
operator|(
name|hw
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_enable_sec_rx_path - Enables the receive data path  *  @hw: pointer to hardware structure  *  *  Enables the receive data path.  **/
end_comment

begin_function
name|s32
name|ixgbe_enable_sec_rx_path
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|enable_sec_rx_path
argument_list|,
operator|(
name|hw
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_acquire_swfw_semaphore - Acquire SWFW semaphore  *  @hw: pointer to hardware structure  *  @mask: Mask to specify which semaphore to acquire  *  *  Acquires the SWFW semaphore through SW_FW_SYNC register for the specified  *  function (CSR, PHY0, PHY1, EEPROM, Flash)  **/
end_comment

begin_function
name|s32
name|ixgbe_acquire_swfw_semaphore
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u32
name|mask
parameter_list|)
block|{
return|return
name|ixgbe_call_func
argument_list|(
name|hw
argument_list|,
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|acquire_swfw_sync
argument_list|,
operator|(
name|hw
operator|,
name|mask
operator|)
argument_list|,
name|IXGBE_NOT_IMPLEMENTED
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_release_swfw_semaphore - Release SWFW semaphore  *  @hw: pointer to hardware structure  *  @mask: Mask to specify which semaphore to release  *  *  Releases the SWFW semaphore through SW_FW_SYNC register for the specified  *  function (CSR, PHY0, PHY1, EEPROM, Flash)  **/
end_comment

begin_function
name|void
name|ixgbe_release_swfw_semaphore
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|u32
name|mask
parameter_list|)
block|{
if|if
condition|(
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|release_swfw_sync
condition|)
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|release_swfw_sync
argument_list|(
name|hw
argument_list|,
name|mask
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_init_swfw_semaphore - Clean up SWFW semaphore  *  @hw: pointer to hardware structure  *  *  Attempts to acquire the SWFW semaphore through SW_FW_SYNC register.  *  Regardless of whether is succeeds or not it then release the semaphore.  *  This is function is called to recover from catastrophic failures that  *  may have left the semaphore locked.  **/
end_comment

begin_function
name|void
name|ixgbe_init_swfw_semaphore
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
if|if
condition|(
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|init_swfw_sync
condition|)
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|init_swfw_sync
argument_list|(
name|hw
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|ixgbe_disable_rx
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
if|if
condition|(
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|disable_rx
condition|)
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|disable_rx
argument_list|(
name|hw
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|ixgbe_enable_rx
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|)
block|{
if|if
condition|(
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|enable_rx
condition|)
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|enable_rx
argument_list|(
name|hw
argument_list|)
expr_stmt|;
block|}
end_function

begin_comment
comment|/**  *  ixgbe_set_rate_select_speed - Set module link speed  *  @hw: pointer to hardware structure  *  @speed: link speed to set  *  *  Set module link speed via the rate select.  */
end_comment

begin_function
name|void
name|ixgbe_set_rate_select_speed
parameter_list|(
name|struct
name|ixgbe_hw
modifier|*
name|hw
parameter_list|,
name|ixgbe_link_speed
name|speed
parameter_list|)
block|{
if|if
condition|(
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|set_rate_select_speed
condition|)
name|hw
operator|->
name|mac
operator|.
name|ops
operator|.
name|set_rate_select_speed
argument_list|(
name|hw
argument_list|,
name|speed
argument_list|)
expr_stmt|;
block|}
end_function

end_unit

