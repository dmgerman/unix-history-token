begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*-  * Copyright (c) 2010 Damien Bergamini<damien.bergamini@free.fr>  * Copyright (c) 2015-2016 Andriy Voskoboinyk<avos@FreeBSD.org>  *  * Permission to use, copy, modify, and distribute this software for any  * purpose with or without fee is hereby granted, provided that the above  * copyright notice and this permission notice appear in all copies.  *  * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES  * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF  * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR  * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES  * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN  * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF  * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.  *  * $OpenBSD: if_urtwnreg.h,v 1.3 2010/11/16 18:02:59 damien Exp $  * $FreeBSD$  */
end_comment

begin_ifndef
ifndef|#
directive|ifndef
name|R88E_RX_DESC_H
end_ifndef

begin_define
define|#
directive|define
name|R88E_RX_DESC_H
end_define

begin_include
include|#
directive|include
file|<dev/rtwn/rtl8192c/r92c_rx_desc.h>
end_include

begin_comment
comment|/* Rx MAC descriptor defines (chip-specific). */
end_comment

begin_comment
comment|/* Rx dword 3 */
end_comment

begin_define
define|#
directive|define
name|R88E_RXDW3_RPT_M
value|0x0000c000
end_define

begin_define
define|#
directive|define
name|R88E_RXDW3_RPT_S
value|14
end_define

begin_define
define|#
directive|define
name|R88E_RXDW3_RPT_RX
value|0
end_define

begin_define
define|#
directive|define
name|R88E_RXDW3_RPT_TX1
value|1
end_define

begin_define
define|#
directive|define
name|R88E_RXDW3_RPT_TX2
value|2
end_define

begin_define
define|#
directive|define
name|R88E_RXDW3_RPT_HIS
value|3
end_define

begin_comment
comment|/* Rx PHY descriptor. */
end_comment

begin_struct
struct|struct
name|r88e_rx_phystat
block|{
name|uint8_t
name|path_agc
index|[
literal|2
index|]
decl_stmt|;
name|uint8_t
name|chan
decl_stmt|;
name|uint8_t
name|reserved1
decl_stmt|;
name|uint8_t
name|sig_qual
decl_stmt|;
name|uint8_t
name|agc_rpt
decl_stmt|;
name|uint8_t
name|rpt_b
decl_stmt|;
name|uint8_t
name|reserved2
decl_stmt|;
name|uint8_t
name|noise_power
decl_stmt|;
name|uint8_t
name|path_cfotail
index|[
literal|2
index|]
decl_stmt|;
name|uint8_t
name|pcts_mask
index|[
literal|2
index|]
decl_stmt|;
name|uint8_t
name|stream_rxevm
index|[
literal|2
index|]
decl_stmt|;
name|uint8_t
name|path_rxsnr
index|[
literal|2
index|]
decl_stmt|;
name|uint8_t
name|noise_power_db_lsb
decl_stmt|;
name|uint8_t
name|reserved3
index|[
literal|3
index|]
decl_stmt|;
name|uint8_t
name|stream_csi
index|[
literal|2
index|]
decl_stmt|;
name|uint8_t
name|stream_target_csi
index|[
literal|2
index|]
decl_stmt|;
name|uint8_t
name|sig_evm
decl_stmt|;
block|}
name|__packed
struct|;
end_struct

begin_comment
comment|/* Tx report (type 1). */
end_comment

begin_struct
struct|struct
name|r88e_tx_rpt_ccx
block|{
name|uint8_t
name|rptb0
decl_stmt|;
define|#
directive|define
name|R88E_RPTB6_PKT_NUM_M
value|0x0e
define|#
directive|define
name|R88E_RPTB6_PKT_NUM_S
value|1
define|#
directive|define
name|R88E_RPTB0_INT_CCX
value|0x80
name|uint8_t
name|rptb1
decl_stmt|;
define|#
directive|define
name|R88E_RPTB1_MACID_M
value|0x3f
define|#
directive|define
name|R88E_RPTB1_MACID_S
value|0
define|#
directive|define
name|R88E_RPTB1_PKT_OK
value|0x40
define|#
directive|define
name|R88E_RPTB1_BMC
value|0x80
name|uint8_t
name|rptb2
decl_stmt|;
define|#
directive|define
name|R88E_RPTB2_RETRY_CNT_M
value|0x3f
define|#
directive|define
name|R88E_RPTB2_RETRY_CNT_S
value|0
define|#
directive|define
name|R88E_RPTB2_LIFE_EXPIRE
value|0x40
define|#
directive|define
name|R88E_RPTB2_RETRY_OVER
value|0x80
name|uint8_t
name|queue_time_low
decl_stmt|;
name|uint8_t
name|queue_time_high
decl_stmt|;
name|uint8_t
name|final_rate
decl_stmt|;
name|uint8_t
name|rptb6
decl_stmt|;
define|#
directive|define
name|R88E_RPTB6_QSEL_M
value|0xf0
define|#
directive|define
name|R88E_RPTB6_QSEL_S
value|4
name|uint8_t
name|rptb7
decl_stmt|;
block|}
name|__packed
struct|;
end_struct

begin_comment
comment|/* Interrupt message format. */
end_comment

begin_comment
comment|/* XXX recheck */
end_comment

begin_struct
struct|struct
name|r88e_intr_msg
block|{
name|uint8_t
name|c2h_id
decl_stmt|;
name|uint8_t
name|c2h_seq
decl_stmt|;
name|uint8_t
name|c2h_evt
decl_stmt|;
name|uint8_t
name|reserved1
index|[
literal|13
index|]
decl_stmt|;
name|uint8_t
name|cpwm1
decl_stmt|;
name|uint8_t
name|reserved2
index|[
literal|3
index|]
decl_stmt|;
name|uint8_t
name|cpwm2
decl_stmt|;
name|uint8_t
name|reserved3
index|[
literal|27
index|]
decl_stmt|;
name|uint32_t
name|hisr
decl_stmt|;
name|uint32_t
name|hisr_ex
decl_stmt|;
block|}
struct|;
end_struct

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* R88E_RX_DESC_H */
end_comment

end_unit

