begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/******************************************************************************    Copyright (c) 2013-2015, Intel Corporation    All rights reserved.      Redistribution and use in source and binary forms, with or without    modification, are permitted provided that the following conditions are met:       1. Redistributions of source code must retain the above copyright notice,        this list of conditions and the following disclaimer.       2. Redistributions in binary form must reproduce the above copyright        notice, this list of conditions and the following disclaimer in the        documentation and/or other materials provided with the distribution.       3. Neither the name of the Intel Corporation nor the names of its        contributors may be used to endorse or promote products derived from        this software without specific prior written permission.      THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE    ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR    CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF    SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS    INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN    CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE   POSSIBILITY OF SUCH DAMAGE.  ******************************************************************************/
end_comment

begin_comment
comment|/*$FreeBSD$*/
end_comment

begin_ifndef
ifndef|#
directive|ifndef
name|_IXL_PF_H_
end_ifndef

begin_define
define|#
directive|define
name|_IXL_PF_H_
end_define

begin_include
include|#
directive|include
file|"ixl.h"
end_include

begin_include
include|#
directive|include
file|"ixl_pf_qmgr.h"
end_include

begin_define
define|#
directive|define
name|VF_FLAG_ENABLED
value|0x01
end_define

begin_define
define|#
directive|define
name|VF_FLAG_SET_MAC_CAP
value|0x02
end_define

begin_define
define|#
directive|define
name|VF_FLAG_VLAN_CAP
value|0x04
end_define

begin_define
define|#
directive|define
name|VF_FLAG_PROMISC_CAP
value|0x08
end_define

begin_define
define|#
directive|define
name|VF_FLAG_MAC_ANTI_SPOOF
value|0x10
end_define

begin_define
define|#
directive|define
name|IXL_PF_STATE_EMPR_RESETTING
value|(1<< 0)
end_define

begin_struct
struct|struct
name|ixl_vf
block|{
name|struct
name|ixl_vsi
name|vsi
decl_stmt|;
name|uint32_t
name|vf_flags
decl_stmt|;
name|uint8_t
name|mac
index|[
name|ETHER_ADDR_LEN
index|]
decl_stmt|;
name|uint16_t
name|vf_num
decl_stmt|;
name|uint32_t
name|version
decl_stmt|;
name|struct
name|ixl_pf_qtag
name|qtag
decl_stmt|;
name|struct
name|sysctl_ctx_list
name|ctx
decl_stmt|;
block|}
struct|;
end_struct

begin_comment
comment|/* Physical controller structure */
end_comment

begin_struct
struct|struct
name|ixl_pf
block|{
name|struct
name|i40e_hw
name|hw
decl_stmt|;
name|struct
name|i40e_osdep
name|osdep
decl_stmt|;
name|struct
name|device
modifier|*
name|dev
decl_stmt|;
name|struct
name|ixl_vsi
name|vsi
decl_stmt|;
name|struct
name|resource
modifier|*
name|pci_mem
decl_stmt|;
name|struct
name|resource
modifier|*
name|msix_mem
decl_stmt|;
comment|/* 	 * Interrupt resources: this set is 	 * either used for legacy, or for Link 	 * when doing MSIX 	 */
name|void
modifier|*
name|tag
decl_stmt|;
name|struct
name|resource
modifier|*
name|res
decl_stmt|;
name|struct
name|callout
name|timer
decl_stmt|;
name|int
name|msix
decl_stmt|;
ifdef|#
directive|ifdef
name|IXL_IW
name|int
name|iw_msix
decl_stmt|;
name|bool
name|iw_enabled
decl_stmt|;
endif|#
directive|endif
name|int
name|if_flags
decl_stmt|;
name|int
name|state
decl_stmt|;
name|bool
name|init_in_progress
decl_stmt|;
name|u8
name|supported_speeds
decl_stmt|;
name|struct
name|ixl_pf_qmgr
name|qmgr
decl_stmt|;
name|struct
name|ixl_pf_qtag
name|qtag
decl_stmt|;
comment|/* Tunable values */
name|bool
name|enable_msix
decl_stmt|;
name|int
name|max_queues
decl_stmt|;
name|int
name|ringsz
decl_stmt|;
name|bool
name|enable_tx_fc_filter
decl_stmt|;
name|int
name|dynamic_rx_itr
decl_stmt|;
name|int
name|dynamic_tx_itr
decl_stmt|;
name|int
name|tx_itr
decl_stmt|;
name|int
name|rx_itr
decl_stmt|;
name|struct
name|mtx
name|pf_mtx
decl_stmt|;
name|u32
name|qbase
decl_stmt|;
name|u32
name|admvec
decl_stmt|;
name|struct
name|task
name|adminq
decl_stmt|;
name|struct
name|taskqueue
modifier|*
name|tq
decl_stmt|;
name|bool
name|link_up
decl_stmt|;
name|u32
name|link_speed
decl_stmt|;
name|int
name|advertised_speed
decl_stmt|;
name|int
name|fc
decl_stmt|;
comment|/* link flow ctrl setting */
name|enum
name|ixl_dbg_mask
name|dbg_mask
decl_stmt|;
name|bool
name|has_i2c
decl_stmt|;
comment|/* Misc stats maintained by the driver */
name|u64
name|watchdog_events
decl_stmt|;
name|u64
name|admin_irq
decl_stmt|;
comment|/* Statistics from hw */
name|struct
name|i40e_hw_port_stats
name|stats
decl_stmt|;
name|struct
name|i40e_hw_port_stats
name|stats_offsets
decl_stmt|;
name|bool
name|stat_offsets_loaded
decl_stmt|;
comment|/* SR-IOV */
name|struct
name|ixl_vf
modifier|*
name|vfs
decl_stmt|;
name|int
name|num_vfs
decl_stmt|;
name|uint16_t
name|veb_seid
decl_stmt|;
name|struct
name|task
name|vflr_task
decl_stmt|;
name|int
name|vc_debug_lvl
decl_stmt|;
block|}
struct|;
end_struct

begin_comment
comment|/*  * Defines used for NVM update ioctls.  * This value is used in the Solaris tool, too.  */
end_comment

begin_define
define|#
directive|define
name|I40E_NVM_ACCESS
define|\
value|(((((((('E'<< 4) + '1')<< 4) + 'K')<< 4) + 'G')<< 4) | 5)
end_define

begin_define
define|#
directive|define
name|IXL_DEFAULT_PHY_INT_MASK
define|\
value|((~(I40E_AQ_EVENT_LINK_UPDOWN | I40E_AQ_EVENT_MODULE_QUAL_FAIL \       | I40E_AQ_EVENT_MEDIA_NA))& 0x3FF)
end_define

begin_comment
comment|/*** Sysctl help messages; displayed with "sysctl -d" ***/
end_comment

begin_define
define|#
directive|define
name|IXL_SYSCTL_HELP_SET_ADVERTISE
define|\
value|"\nControl advertised link speed.\n"	\ "Flags:\n"				\ "\t 0x1 - advertise 100M\n"		\ "\t 0x2 - advertise 1G\n"		\ "\t 0x4 - advertise 10G\n"		\ "\t 0x8 - advertise 20G\n"		\ "\t0x10 - advertise 25G\n"		\ "\t0x20 - advertise 40G\n\n"		\ "Set to 0 to disable link.\n"		\ "Use \"sysctl -x\" to view flags properly."
end_define

begin_define
define|#
directive|define
name|IXL_SYSCTL_HELP_FC
define|\
value|"\nSet flow control mode using the values below.\n" 	\ "\t0 - off\n" 						\ "\t1 - rx pause\n" 					\ "\t2 - tx pause\n"					\ "\t3 - tx and rx pause"
end_define

begin_define
define|#
directive|define
name|IXL_SYSCTL_HELP_LINK_STATUS
define|\
value|"\nExecutes a \"Get Link Status\" command on the Admin Queue, and displays" \ " the response."			\  static char *ixl_fc_string[6] = {
end_define

begin_expr_stmt
literal|"None"
operator|,
literal|"Rx"
operator|,
literal|"Tx"
operator|,
literal|"Full"
operator|,
literal|"Priority"
operator|,
literal|"Default"
end_expr_stmt

begin_expr_stmt
unit|};
specifier|static
name|MALLOC_DEFINE
argument_list|(
name|M_IXL
argument_list|,
literal|"ixl"
argument_list|,
literal|"ixl driver allocations"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_comment
comment|/*** Functions / Macros ***/
end_comment

begin_comment
comment|/* Adjust the level here to 10 or over to print stats messages */
end_comment

begin_define
define|#
directive|define
name|I40E_VC_DEBUG
parameter_list|(
name|p
parameter_list|,
name|level
parameter_list|,
modifier|...
parameter_list|)
define|\
value|do {							\ 		if (level< 10)					\ 			ixl_dbg(p, IXL_DBG_IOV_VC, ##__VA_ARGS__); \ 	} while (0)
end_define

begin_define
define|#
directive|define
name|i40e_send_vf_nack
parameter_list|(
name|pf
parameter_list|,
name|vf
parameter_list|,
name|op
parameter_list|,
name|st
parameter_list|)
define|\
value|ixl_send_vf_nack_msg((pf), (vf), (op), (st), __FILE__, __LINE__)
end_define

begin_define
define|#
directive|define
name|IXL_PF_LOCK_INIT
parameter_list|(
name|_sc
parameter_list|,
name|_name
parameter_list|)
define|\
value|mtx_init(&(_sc)->pf_mtx, _name, "IXL PF Lock", MTX_DEF)
end_define

begin_define
define|#
directive|define
name|IXL_PF_LOCK
parameter_list|(
name|_sc
parameter_list|)
value|mtx_lock(&(_sc)->pf_mtx)
end_define

begin_define
define|#
directive|define
name|IXL_PF_UNLOCK
parameter_list|(
name|_sc
parameter_list|)
value|mtx_unlock(&(_sc)->pf_mtx)
end_define

begin_define
define|#
directive|define
name|IXL_PF_LOCK_DESTROY
parameter_list|(
name|_sc
parameter_list|)
value|mtx_destroy(&(_sc)->pf_mtx)
end_define

begin_define
define|#
directive|define
name|IXL_PF_LOCK_ASSERT
parameter_list|(
name|_sc
parameter_list|)
value|mtx_assert(&(_sc)->pf_mtx, MA_OWNED)
end_define

begin_comment
comment|/* Debug printing */
end_comment

begin_define
define|#
directive|define
name|ixl_dbg
parameter_list|(
name|p
parameter_list|,
name|m
parameter_list|,
name|s
parameter_list|,
modifier|...
parameter_list|)
value|ixl_debug_core(p, m, s, ##__VA_ARGS__)
end_define

begin_function_decl
name|void
name|ixl_debug_core
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|,
name|enum
name|ixl_dbg_mask
parameter_list|,
name|char
modifier|*
parameter_list|,
modifier|...
parameter_list|)
function_decl|;
end_function_decl

begin_comment
comment|/* For stats sysctl naming */
end_comment

begin_define
define|#
directive|define
name|QUEUE_NAME_LEN
value|32
end_define

begin_comment
comment|/* For netmap(4) compatibility */
end_comment

begin_define
define|#
directive|define
name|ixl_disable_intr
parameter_list|(
name|vsi
parameter_list|)
value|ixl_disable_rings_intr(vsi)
end_define

begin_comment
comment|/*  * PF-only function declarations  */
end_comment

begin_function_decl
name|void
name|ixl_set_busmaster
parameter_list|(
name|device_t
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_set_msix_enable
parameter_list|(
name|device_t
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_setup_interface
parameter_list|(
name|device_t
parameter_list|,
name|struct
name|ixl_vsi
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_print_nvm_cmd
parameter_list|(
name|device_t
parameter_list|,
name|struct
name|i40e_nvm_access
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|char
modifier|*
name|ixl_aq_speed_to_str
parameter_list|(
name|enum
name|i40e_aq_link_speed
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_handle_que
parameter_list|(
name|void
modifier|*
name|context
parameter_list|,
name|int
name|pending
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_init
parameter_list|(
name|void
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_local_timer
parameter_list|(
name|void
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_register_vlan
parameter_list|(
name|void
modifier|*
parameter_list|,
name|struct
name|ifnet
modifier|*
parameter_list|,
name|u16
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_unregister_vlan
parameter_list|(
name|void
modifier|*
parameter_list|,
name|struct
name|ifnet
modifier|*
parameter_list|,
name|u16
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_intr
parameter_list|(
name|void
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_msix_que
parameter_list|(
name|void
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_msix_adminq
parameter_list|(
name|void
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_do_adminq
parameter_list|(
name|void
modifier|*
parameter_list|,
name|int
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_res_alloc_cmp
parameter_list|(
specifier|const
name|void
modifier|*
parameter_list|,
specifier|const
name|void
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|char
modifier|*
name|ixl_switch_res_type_string
parameter_list|(
name|u8
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|char
modifier|*
name|ixl_switch_element_string
parameter_list|(
name|struct
name|sbuf
modifier|*
parameter_list|,
name|struct
name|i40e_aqc_switch_config_element_resp
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_add_sysctls_mac_stats
parameter_list|(
name|struct
name|sysctl_ctx_list
modifier|*
parameter_list|,
name|struct
name|sysctl_oid_list
modifier|*
parameter_list|,
name|struct
name|i40e_hw_port_stats
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_add_sysctls_eth_stats
parameter_list|(
name|struct
name|sysctl_ctx_list
modifier|*
parameter_list|,
name|struct
name|sysctl_oid_list
modifier|*
parameter_list|,
name|struct
name|i40e_eth_stats
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_media_status
parameter_list|(
name|struct
name|ifnet
modifier|*
parameter_list|,
name|struct
name|ifmediareq
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_media_change
parameter_list|(
name|struct
name|ifnet
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_ioctl
parameter_list|(
name|struct
name|ifnet
modifier|*
parameter_list|,
name|u_long
parameter_list|,
name|caddr_t
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_enable_queue
parameter_list|(
name|struct
name|i40e_hw
modifier|*
parameter_list|,
name|int
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_disable_queue
parameter_list|(
name|struct
name|i40e_hw
modifier|*
parameter_list|,
name|int
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_enable_intr0
parameter_list|(
name|struct
name|i40e_hw
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_disable_intr0
parameter_list|(
name|struct
name|i40e_hw
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_nvm_version_str
parameter_list|(
name|struct
name|i40e_hw
modifier|*
name|hw
parameter_list|,
name|struct
name|sbuf
modifier|*
name|buf
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_stat_update48
parameter_list|(
name|struct
name|i40e_hw
modifier|*
parameter_list|,
name|u32
parameter_list|,
name|u32
parameter_list|,
name|bool
parameter_list|,
name|u64
modifier|*
parameter_list|,
name|u64
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_stat_update32
parameter_list|(
name|struct
name|i40e_hw
modifier|*
parameter_list|,
name|u32
parameter_list|,
name|bool
parameter_list|,
name|u64
modifier|*
parameter_list|,
name|u64
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_stop
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_add_vsi_sysctls
parameter_list|(
name|struct
name|ixl_pf
modifier|*
name|pf
parameter_list|,
name|struct
name|ixl_vsi
modifier|*
name|vsi
parameter_list|,
name|struct
name|sysctl_ctx_list
modifier|*
name|ctx
parameter_list|,
specifier|const
name|char
modifier|*
name|sysctl_name
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_get_hw_capabilities
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_link_up_msg
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_update_link_status
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_allocate_pci_resources
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_setup_stations
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_switch_config
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_stop_locked
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_teardown_hw_structs
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_reset
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_init_locked
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_set_rss_key
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_set_rss_pctypes
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_set_rss_hlut
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_setup_adminq_msix
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_setup_adminq_tq
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_teardown_adminq_msix
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_configure_intr0_msix
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_configure_queue_intr_msix
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_free_adminq_tq
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_setup_legacy
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_init_msix
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_configure_itr
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_configure_legacy
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_free_pci_resources
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_link_event
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|,
name|struct
name|i40e_arq_event_info
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_config_rss
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_set_advertised_speeds
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|,
name|int
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_get_initial_advertised_speeds
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_print_nvm_version
parameter_list|(
name|struct
name|ixl_pf
modifier|*
name|pf
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_add_device_sysctls
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_handle_mdd_event
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_add_hw_stats
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_update_stats_counters
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_pf_reset_stats
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_get_bus_info
parameter_list|(
name|struct
name|ixl_pf
modifier|*
name|pf
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_aq_get_link_status
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|,
name|struct
name|i40e_aqc_get_link_status
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_handle_nvmupd_cmd
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|,
name|struct
name|ifdrv
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_handle_empr_reset
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_rebuild_hw_structs_after_reset
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_set_queue_rx_itr
parameter_list|(
name|struct
name|ixl_queue
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_set_queue_tx_itr
parameter_list|(
name|struct
name|ixl_queue
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_add_filter
parameter_list|(
name|struct
name|ixl_vsi
modifier|*
parameter_list|,
name|u8
modifier|*
parameter_list|,
name|s16
name|vlan
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_del_filter
parameter_list|(
name|struct
name|ixl_vsi
modifier|*
parameter_list|,
name|u8
modifier|*
parameter_list|,
name|s16
name|vlan
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_reconfigure_filters
parameter_list|(
name|struct
name|ixl_vsi
modifier|*
name|vsi
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_disable_rings
parameter_list|(
name|struct
name|ixl_vsi
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_disable_tx_ring
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|,
name|struct
name|ixl_pf_qtag
modifier|*
parameter_list|,
name|u16
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_disable_rx_ring
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|,
name|struct
name|ixl_pf_qtag
modifier|*
parameter_list|,
name|u16
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_disable_ring
parameter_list|(
name|struct
name|ixl_pf
modifier|*
name|pf
parameter_list|,
name|struct
name|ixl_pf_qtag
modifier|*
parameter_list|,
name|u16
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_enable_rings
parameter_list|(
name|struct
name|ixl_vsi
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_enable_tx_ring
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|,
name|struct
name|ixl_pf_qtag
modifier|*
parameter_list|,
name|u16
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_enable_rx_ring
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|,
name|struct
name|ixl_pf_qtag
modifier|*
parameter_list|,
name|u16
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_enable_ring
parameter_list|(
name|struct
name|ixl_pf
modifier|*
name|pf
parameter_list|,
name|struct
name|ixl_pf_qtag
modifier|*
parameter_list|,
name|u16
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_update_eth_stats
parameter_list|(
name|struct
name|ixl_vsi
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_cap_txcsum_tso
parameter_list|(
name|struct
name|ixl_vsi
modifier|*
parameter_list|,
name|struct
name|ifnet
modifier|*
parameter_list|,
name|int
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_initialize_vsi
parameter_list|(
name|struct
name|ixl_vsi
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_add_ifmedia
parameter_list|(
name|struct
name|ixl_vsi
modifier|*
parameter_list|,
name|u64
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_setup_queue_msix
parameter_list|(
name|struct
name|ixl_vsi
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_setup_queue_tqs
parameter_list|(
name|struct
name|ixl_vsi
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|ixl_teardown_queue_msix
parameter_list|(
name|struct
name|ixl_vsi
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_free_queue_tqs
parameter_list|(
name|struct
name|ixl_vsi
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_enable_intr
parameter_list|(
name|struct
name|ixl_vsi
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_disable_rings_intr
parameter_list|(
name|struct
name|ixl_vsi
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_set_promisc
parameter_list|(
name|struct
name|ixl_vsi
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_add_multi
parameter_list|(
name|struct
name|ixl_vsi
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_del_multi
parameter_list|(
name|struct
name|ixl_vsi
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_setup_vlan_filters
parameter_list|(
name|struct
name|ixl_vsi
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_init_filters
parameter_list|(
name|struct
name|ixl_vsi
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_add_hw_filters
parameter_list|(
name|struct
name|ixl_vsi
modifier|*
parameter_list|,
name|int
parameter_list|,
name|int
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_del_hw_filters
parameter_list|(
name|struct
name|ixl_vsi
modifier|*
parameter_list|,
name|int
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|struct
name|ixl_mac_filter
modifier|*
name|ixl_find_filter
parameter_list|(
name|struct
name|ixl_vsi
modifier|*
parameter_list|,
name|u8
modifier|*
parameter_list|,
name|s16
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_add_mc_filter
parameter_list|(
name|struct
name|ixl_vsi
modifier|*
parameter_list|,
name|u8
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_free_mac_filters
parameter_list|(
name|struct
name|ixl_vsi
modifier|*
name|vsi
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_update_vsi_stats
parameter_list|(
name|struct
name|ixl_vsi
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|ixl_vsi_reset_stats
parameter_list|(
name|struct
name|ixl_vsi
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_comment
comment|/*  * I2C Function prototypes  */
end_comment

begin_function_decl
name|int
name|ixl_find_i2c_interface
parameter_list|(
name|struct
name|ixl_pf
modifier|*
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|s32
name|ixl_read_i2c_byte
parameter_list|(
name|struct
name|ixl_pf
modifier|*
name|pf
parameter_list|,
name|u8
name|byte_offset
parameter_list|,
name|u8
name|dev_addr
parameter_list|,
name|u8
modifier|*
name|data
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|s32
name|ixl_write_i2c_byte
parameter_list|(
name|struct
name|ixl_pf
modifier|*
name|pf
parameter_list|,
name|u8
name|byte_offset
parameter_list|,
name|u8
name|dev_addr
parameter_list|,
name|u8
name|data
parameter_list|)
function_decl|;
end_function_decl

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* _IXL_PF_H_ */
end_comment

end_unit

