begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/******************************************************************************* *Copyright (c) 2014 PMC-Sierra, Inc.  All rights reserved.  * *Redistribution and use in source and binary forms, with or without modification, are permitted provided  *that the following conditions are met:  *1. Redistributions of source code must retain the above copyright notice, this list of conditions and the *following disclaimer.  *2. Redistributions in binary form must reproduce the above copyright notice,  *this list of conditions and the following disclaimer in the documentation and/or other materials provided *with the distribution.  * *THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND ANY EXPRESS OR IMPLIED  *WARRANTIES,INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS *FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE *FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT  *NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR  *BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT  *LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS  *SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE * * $FreeBSD$ * ********************************************************************************/
end_comment

begin_comment
comment|/******************************************************************************** *   tiapi.h * *   Abstract:   This module contains function prototype of the Transport *               Independent API (TIAPI) Layer for both initiator and target. ** Version Control Information: ** ** *******************************************************************************/
end_comment

begin_ifndef
ifndef|#
directive|ifndef
name|TIAPI_H
end_ifndef

begin_define
define|#
directive|define
name|TIAPI_H
end_define

begin_include
include|#
directive|include
file|<dev/pms/RefTisa/tisa/api/tiglobal.h>
end_include

begin_include
include|#
directive|include
file|<dev/pms/RefTisa/tisa/api/titypes.h>
end_include

begin_comment
comment|/*****************************************************************************  *  INITIATOR/TARGET SHARED APIs  *****************************************************************************/
end_comment

begin_function_decl
name|osGLOBAL
name|void
name|tiCOMGetResource
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiLoLevelResource_t
modifier|*
name|loResource
parameter_list|,
name|tiInitiatorResource_t
modifier|*
name|initiatorResource
parameter_list|,
name|tiTargetResource_t
modifier|*
name|targetResource
parameter_list|,
name|tiTdSharedMem_t
modifier|*
name|tdSharedMem
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiCOMInit
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiLoLevelResource_t
modifier|*
name|loResource
parameter_list|,
name|tiInitiatorResource_t
modifier|*
name|initiatorResource
parameter_list|,
name|tiTargetResource_t
modifier|*
name|targetResource
parameter_list|,
name|tiTdSharedMem_t
modifier|*
name|tdSharedMem
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiCOMPortInit
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|sysIntsActive
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiCOMPortStart
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|portID
parameter_list|,
name|tiPortalContext_t
modifier|*
name|portalContext
parameter_list|,
name|bit32
name|option
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|void
name|tiCOMShutDown
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiCOMPortStop
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiPortalContext_t
modifier|*
name|portalContext
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|void
name|tiCOMReset
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|option
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tdsaGetNumOfLUNIOCTL
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiIOCTLPayload_t
modifier|*
name|agIOCTLPayload
parameter_list|,
name|void
modifier|*
name|agParam1
parameter_list|,
name|void
modifier|*
name|agParam2
parameter_list|,
name|void
modifier|*
name|agParam3
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|void
name|ostiNumOfLUNIOCTLRsp
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|status
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiNumOfLunIOCTLreq
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiIORequest_t
modifier|*
name|tiIORequest
parameter_list|,
name|tiDeviceHandle_t
modifier|*
name|tiDeviceHandle
parameter_list|,
name|void
modifier|*
name|tiRequestBody
parameter_list|,
name|tiIOCTLPayload_t
modifier|*
name|agIOCTLPayload
parameter_list|,
name|void
modifier|*
name|agParam1
parameter_list|,
name|void
modifier|*
name|agParam2
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|FORCEINLINE
name|bit32
name|tiCOMInterruptHandler
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|channelNum
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|FORCEINLINE
name|bit32
name|tiCOMDelayedInterruptHandler
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|channelNum
parameter_list|,
name|bit32
name|count
parameter_list|,
name|bit32
name|context
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiCOMLegacyInterruptHandler
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|channelNum
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|void
name|tiCOMLegacyDelayedInterruptHandler
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|channelNum
parameter_list|,
name|bit32
name|count
parameter_list|,
name|bit32
name|context
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|void
name|tiCOMTimerTick
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|void
name|tiCOMSystemInterruptsActive
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|sysIntsActive
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|FORCEINLINE
name|void
name|tiCOMInterruptEnable
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|channelNum
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|void
name|tiCOMFrameReadBlock
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|void
modifier|*
name|agFrame
parameter_list|,
name|bit32
name|FrameOffset
parameter_list|,
name|void
modifier|*
name|FrameBuffer
parameter_list|,
name|bit32
name|FrameBufLen
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiCOMEncryptGetInfo
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiCOMEncryptSetMode
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|securityCipherMode
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiCOMSetControllerConfig
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|modePage
parameter_list|,
name|bit32
name|length
parameter_list|,
name|void
modifier|*
name|buffer
parameter_list|,
name|void
modifier|*
name|context
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiCOMGetControllerConfig
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|modePage
parameter_list|,
name|bit32
name|flag
parameter_list|,
name|void
modifier|*
name|context
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiCOMEncryptDekAdd
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|kekIndex
parameter_list|,
name|bit32
name|dekTableSelect
parameter_list|,
name|bit32
name|dekAddrHi
parameter_list|,
name|bit32
name|dekAddrLo
parameter_list|,
name|bit32
name|dekIndex
parameter_list|,
name|bit32
name|dekNumberOfEntries
parameter_list|,
name|bit32
name|dekBlobFormat
parameter_list|,
name|bit32
name|dekTableKeyEntrySize
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiCOMEncryptDekInvalidate
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|dekTable
parameter_list|,
name|bit32
name|dekIndex
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiCOMEncryptKekAdd
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|kekIndex
parameter_list|,
name|bit32
name|wrapperKekIndex
parameter_list|,
name|bit32
name|blobFormat
parameter_list|,
name|tiEncryptKekBlob_t
modifier|*
name|encryptKekBlob
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|tiDeviceHandle_t
modifier|*
name|tiINIGetExpDeviceHandleBySasAddress
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiPortalContext_t
modifier|*
name|tiPortalContext
parameter_list|,
name|bit32
name|sas_addr_hi
parameter_list|,
name|bit32
name|sas_addr_lo
parameter_list|,
name|bit32
name|maxDevs
parameter_list|)
function_decl|;
end_function_decl

begin_ifdef
ifdef|#
directive|ifdef
name|HIALEAH_ENCRYPTION
end_ifdef

begin_function_decl
name|osGLOBAL
name|bit32
name|tiCOMEncryptHilSet
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|)
function_decl|;
end_function_decl

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* HIALEAH_ENCRYPTION */
end_comment

begin_function_decl
name|osGLOBAL
name|bit32
name|tiCOMEncryptKekStore
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|kekIndex
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiCOMEncryptKekLoad
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|kekIndex
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiCOMEncryptSelfTest
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|type
parameter_list|,
name|bit32
name|length
parameter_list|,
name|void
modifier|*
name|TestDescriptor
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiCOMSetOperator
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|flag
parameter_list|,
name|void
modifier|*
name|cert
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiCOMGetOperator
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|option
parameter_list|,
name|bit32
name|AddrHi
parameter_list|,
name|bit32
name|AddrLo
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiCOMOperatorManagement
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|flag
parameter_list|,
name|bit8
name|role
parameter_list|,
name|tiID_t
modifier|*
name|idString
parameter_list|,
name|tiEncryptKekBlob_t
modifier|*
name|kekBlob
parameter_list|)
function_decl|;
end_function_decl

begin_comment
comment|/*  * PMC-Sierra Management IOCTL module  */
end_comment

begin_function_decl
name|osGLOBAL
name|bit32
name|tiCOMMgntIOCTL
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiIOCTLPayload_t
modifier|*
name|agIOCTLPayload
parameter_list|,
name|void
modifier|*
name|agParam1
parameter_list|,
name|void
modifier|*
name|agParam2
parameter_list|,
name|void
modifier|*
name|agParam3
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|void
name|ostiCOMMgntIOCTLRsp
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|status
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|void
name|ostiRegDumpIOCTLRsp
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|status
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|void
name|ostiSetNVMDIOCTLRsp
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|status
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|void
name|ostiGetPhyProfileIOCTLRsp
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|status
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|void
name|ostiGetNVMDIOCTLRsp
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|status
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiCOMGetPortInfo
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiPortalContext_t
modifier|*
name|portalContext
parameter_list|,
name|tiPortInfo_t
modifier|*
name|tiPortInfo
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|void
name|ostiSendSMPIOCTLRsp
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|status
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|void
name|ostiGenEventIOCTLRsp
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|status
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|void
name|ostiGetDeviceInfoIOCTLRsp
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|status
parameter_list|,
name|void
modifier|*
name|param
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|void
name|ostiGetIoErrorStatsIOCTLRsp
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|status
parameter_list|,
name|void
modifier|*
name|param
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|void
name|ostiGetIoEventStatsIOCTLRsp
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|status
parameter_list|,
name|void
modifier|*
name|param
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|void
name|ostiGetForensicDataIOCTLRsp
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|status
parameter_list|,
name|void
modifier|*
name|param
parameter_list|)
function_decl|;
end_function_decl

begin_ifdef
ifdef|#
directive|ifdef
name|SPC_ENABLE_PROFILE
end_ifdef

begin_function_decl
name|osGLOBAL
name|void
name|ostiFWProfileIOCTLRsp
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|status
parameter_list|,
name|bit32
name|len
parameter_list|)
function_decl|;
end_function_decl

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/*****************************************************************************  *  INITIATOR SPECIFIC APIs  *****************************************************************************/
end_comment

begin_comment
comment|/*  * Session management module.  */
end_comment

begin_function_decl
name|osGLOBAL
name|bit32
name|tiINIGetExpander
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiPortalContext_t
modifier|*
name|tiPortalContext
parameter_list|,
name|tiDeviceHandle_t
modifier|*
name|tiDev
parameter_list|,
name|tiDeviceHandle_t
modifier|*
modifier|*
name|tiExp
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiINIGetDeviceHandles
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiPortalContext_t
modifier|*
name|portalContext
parameter_list|,
name|tiDeviceHandle_t
modifier|*
name|agDev
index|[]
parameter_list|,
name|bit32
name|maxDevs
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiINIGetDeviceHandlesForWinIOCTL
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiPortalContext_t
modifier|*
name|portalContext
parameter_list|,
name|tiDeviceHandle_t
modifier|*
name|agDev
index|[]
parameter_list|,
name|bit32
name|maxDevs
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|void
name|tiIniGetDirectSataSasAddr
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|phyId
parameter_list|,
name|bit8
modifier|*
modifier|*
name|sasAddressHi
parameter_list|,
name|bit8
modifier|*
modifier|*
name|sasAddressLo
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiINIDiscoverTargets
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiPortalContext_t
modifier|*
name|portalContext
parameter_list|,
name|bit32
name|option
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiINILogin
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiDeviceHandle_t
modifier|*
name|tiDeviceHandle
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiINILogout
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiDeviceHandle_t
modifier|*
name|tiDeviceHandle
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiINIGetDeviceInfo
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiDeviceHandle_t
modifier|*
name|tiDeviceHandle
parameter_list|,
name|tiDeviceInfo_t
modifier|*
name|tiDeviceInfo
parameter_list|)
function_decl|;
end_function_decl

begin_comment
comment|/*  * Transport recovery module.  */
end_comment

begin_function_decl
name|osGLOBAL
name|void
name|tiINITransportRecovery
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiDeviceHandle_t
modifier|*
name|tiDeviceHandle
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiINITaskManagement
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiDeviceHandle_t
modifier|*
name|tiDeviceHandle
parameter_list|,
name|bit32
name|task
parameter_list|,
name|tiLUN_t
modifier|*
name|lun
parameter_list|,
name|tiIORequest_t
modifier|*
name|taskTag
parameter_list|,
name|tiIORequest_t
modifier|*
name|currentTaskTag
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiINISMPStart
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiIORequest_t
modifier|*
name|tiIORequest
parameter_list|,
name|tiDeviceHandle_t
modifier|*
name|tiDeviceHandle
parameter_list|,
name|tiSMPFrame_t
modifier|*
name|tiScsiRequest
parameter_list|,
name|void
modifier|*
name|tiSMPBody
parameter_list|,
name|bit32
name|interruptContext
parameter_list|)
function_decl|;
end_function_decl

begin_comment
comment|/*  * I/O module.  */
end_comment

begin_function_decl
name|osGLOBAL
name|bit32
name|tiINIIOStart
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiIORequest_t
modifier|*
name|tiIORequest
parameter_list|,
name|tiDeviceHandle_t
modifier|*
name|tiDeviceHandle
parameter_list|,
name|tiScsiInitiatorRequest_t
modifier|*
name|tiScsiRequest
parameter_list|,
name|void
modifier|*
name|tiRequestBody
parameter_list|,
name|bit32
name|interruptContext
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|void
name|tiINIDebugDumpIO
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiIORequest_t
modifier|*
name|tiIORequest
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiINIIOStartDif
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiIORequest_t
modifier|*
name|tiIORequest
parameter_list|,
name|tiDeviceHandle_t
modifier|*
name|tiDeviceHandle
parameter_list|,
name|tiScsiInitiatorRequest_t
modifier|*
name|tiScsiRequest
parameter_list|,
name|void
modifier|*
name|tiRequestBody
parameter_list|,
name|bit32
name|interruptContext
parameter_list|,
name|tiDif_t
modifier|*
name|difOption
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiINISuperIOStart
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiIORequest_t
modifier|*
name|tiIORequest
parameter_list|,
name|tiDeviceHandle_t
modifier|*
name|tiDeviceHandle
parameter_list|,
name|tiSuperScsiInitiatorRequest_t
modifier|*
name|tiScsiRequest
parameter_list|,
name|void
modifier|*
name|tiRequestBody
parameter_list|,
name|bit32
name|interruptContext
parameter_list|)
function_decl|;
end_function_decl

begin_ifdef
ifdef|#
directive|ifdef
name|FAST_IO_TEST
end_ifdef

begin_function_decl
name|osGLOBAL
name|void
modifier|*
name|tiINIFastIOPrepare
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|void
modifier|*
name|ioHandle
parameter_list|,
name|agsaFastCommand_t
modifier|*
name|fc
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|void
modifier|*
name|tiINIFastIOPrepare2
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|void
modifier|*
name|ioHandle
parameter_list|,
name|agsaFastCommand_t
modifier|*
name|fc
parameter_list|,
name|void
modifier|*
name|pMessage
parameter_list|,
name|void
modifier|*
name|pRequest
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiINIFastIOSend
parameter_list|(
name|void
modifier|*
name|ioHandle
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiINIFastIOCancel
parameter_list|(
name|void
modifier|*
name|ioHandle
parameter_list|)
function_decl|;
end_function_decl

begin_endif
endif|#
directive|endif
end_endif

begin_function_decl
name|osGLOBAL
name|bit32
name|tiCOMEncryptGetMode
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiCOMEncryptSetOn_Off
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|bit32
name|On
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiInitDevEncrypt
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|void
modifier|*
name|tideviceptr
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiTGTSuperIOStart
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiIORequest_t
modifier|*
name|tiIORequest
parameter_list|,
name|tiSuperScsiTargetRequest_t
modifier|*
name|tiScsiRequest
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|void
name|tiINITimerTick
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiINIIOAbort
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiIORequest_t
modifier|*
name|taskTag
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiINIIOAbortAll
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiDeviceHandle_t
modifier|*
name|tiDeviceHandle
parameter_list|)
function_decl|;
end_function_decl

begin_comment
comment|/*  * Event Logging module  */
end_comment

begin_function_decl
name|osGLOBAL
name|bit32
name|tiINIReportErrorToEventLog
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiEVTData_t
modifier|*
name|agEventData
parameter_list|)
function_decl|;
end_function_decl

begin_comment
comment|/*****************************************************************************  *  TARGET SPECIFIC APIs  *****************************************************************************/
end_comment

begin_function_decl
name|osGLOBAL
name|void
name|tiTGTTimerTick
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|void
modifier|*
name|tiTGTSenseBufferGet
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiIORequest_t
modifier|*
name|tiIORequest
parameter_list|,
name|bit32
name|length
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|void
name|tiTGTSetResp
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiIORequest_t
modifier|*
name|tiIORequest
parameter_list|,
name|bit32
name|dataSentLength
parameter_list|,
name|bit8
name|ScsiStatus
parameter_list|,
name|bit32
name|senseLength
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiTGTIOStart
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiIORequest_t
modifier|*
name|tiIORequest
parameter_list|,
name|bit32
name|dataOffset
parameter_list|,
name|bit32
name|dataLength
parameter_list|,
name|tiSgl_t
modifier|*
name|dataSGL
parameter_list|,
name|void
modifier|*
name|sglVirtualAddr
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiTGTIOStartMirror
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiIORequest_t
modifier|*
name|tiIORequest
parameter_list|,
name|bit32
name|dataOffset
parameter_list|,
name|bit32
name|dataLength
parameter_list|,
name|tiSgl_t
modifier|*
name|dataSGL
parameter_list|,
name|void
modifier|*
name|sglVirtualAddr
parameter_list|,
name|tiSgl_t
modifier|*
name|dataSGLMirror
parameter_list|,
name|void
modifier|*
name|sglVirtualAddrMirror
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiTGTIOStartDif
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiIORequest_t
modifier|*
name|tiIORequest
parameter_list|,
name|bit32
name|dataOffset
parameter_list|,
name|bit32
name|dataLength
parameter_list|,
name|tiSgl_t
modifier|*
name|dataSGL
parameter_list|,
name|void
modifier|*
name|sglVirtualAddr
parameter_list|,
name|tiDif_t
modifier|*
name|difOption
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiTGTGetDeviceHandles
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiPortalContext_t
modifier|*
name|portalContext
parameter_list|,
name|tiDeviceHandle_t
modifier|*
name|agDev
index|[]
parameter_list|,
name|bit32
name|maxDevs
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiTGTGetDeviceInfo
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiDeviceHandle_t
modifier|*
name|tiDeviceHandle
parameter_list|,
name|tiDeviceInfo_t
modifier|*
name|tiDeviceInfo
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiTGTIOAbort
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiIORequest_t
modifier|*
name|taskTag
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|osGLOBAL
name|bit32
name|tiTGTSendTmResp
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|,
name|tiIORequest_t
modifier|*
name|tiTMRequest
parameter_list|,
name|bit32
name|status
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|tiPCI_TRIGGER
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|void
name|tiComCountActiveIORequests
parameter_list|(
name|tiRoot_t
modifier|*
name|tiRoot
parameter_list|)
function_decl|;
end_function_decl

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* TIAPI_H */
end_comment

end_unit

