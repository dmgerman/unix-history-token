begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*  * Copyright (c) 2002-2009 Sam Leffler, Errno Consulting  * Copyright (c) 2005-2006 Atheros Communications, Inc.  * All rights reserved.  *  * Permission to use, copy, modify, and/or distribute this software for any  * purpose with or without fee is hereby granted, provided that the above  * copyright notice and this permission notice appear in all copies.  *  * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES  * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF  * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR  * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES  * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN  * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF  * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.  *  * $FreeBSD$  */
end_comment

begin_include
include|#
directive|include
file|"opt_ah.h"
end_include

begin_include
include|#
directive|include
file|"ah.h"
end_include

begin_include
include|#
directive|include
file|<net80211/_ieee80211.h>
end_include

begin_include
include|#
directive|include
file|<net80211/ieee80211_regdomain.h>
end_include

begin_include
include|#
directive|include
file|"ah_internal.h"
end_include

begin_include
include|#
directive|include
file|"ah_eeprom.h"
end_include

begin_include
include|#
directive|include
file|"ah_devid.h"
end_include

begin_comment
comment|/*  * XXX this code needs a audit+review  */
end_comment

begin_comment
comment|/* used throughout this file... */
end_comment

begin_define
define|#
directive|define
name|N
parameter_list|(
name|a
parameter_list|)
value|(sizeof (a) / sizeof (a[0]))
end_define

begin_define
define|#
directive|define
name|HAL_MODE_11A_TURBO
value|HAL_MODE_108A
end_define

begin_define
define|#
directive|define
name|HAL_MODE_11G_TURBO
value|HAL_MODE_108G
end_define

begin_comment
comment|/*   * BMLEN defines the size of the bitmask used to hold frequency  * band specifications.  Note this must agree with the BM macro  * definition that's used to setup initializers.  See also further  * comments below.  */
end_comment

begin_define
define|#
directive|define
name|BMLEN
value|2
end_define

begin_comment
comment|/* 2 x 64 bits in each channel bitmask */
end_comment

begin_typedef
typedef|typedef
name|uint64_t
name|chanbmask_t
index|[
name|BMLEN
index|]
typedef|;
end_typedef

begin_define
define|#
directive|define
name|W0
parameter_list|(
name|_a
parameter_list|)
define|\
value|(((_a)>= 0&& (_a)< 64 ? (((uint64_t) 1)<<(_a)) : (uint64_t) 0))
end_define

begin_define
define|#
directive|define
name|W1
parameter_list|(
name|_a
parameter_list|)
define|\
value|(((_a)> 63&& (_a)< 128 ? (((uint64_t) 1)<<((_a)-64)) : (uint64_t) 0))
end_define

begin_define
define|#
directive|define
name|BM1
parameter_list|(
name|_fa
parameter_list|)
value|{ W0(_fa), W1(_fa) }
end_define

begin_define
define|#
directive|define
name|BM2
parameter_list|(
name|_fa
parameter_list|,
name|_fb
parameter_list|)
value|{ W0(_fa) | W0(_fb), W1(_fa) | W1(_fb) }
end_define

begin_define
define|#
directive|define
name|BM3
parameter_list|(
name|_fa
parameter_list|,
name|_fb
parameter_list|,
name|_fc
parameter_list|)
define|\
value|{ W0(_fa) | W0(_fb) | W0(_fc), W1(_fa) | W1(_fb) | W1(_fc) }
end_define

begin_define
define|#
directive|define
name|BM4
parameter_list|(
name|_fa
parameter_list|,
name|_fb
parameter_list|,
name|_fc
parameter_list|,
name|_fd
parameter_list|)
define|\
value|{ W0(_fa) | W0(_fb) | W0(_fc) | W0(_fd),			\ 	  W1(_fa) | W1(_fb) | W1(_fc) | W1(_fd) }
end_define

begin_define
define|#
directive|define
name|BM5
parameter_list|(
name|_fa
parameter_list|,
name|_fb
parameter_list|,
name|_fc
parameter_list|,
name|_fd
parameter_list|,
name|_fe
parameter_list|)
define|\
value|{ W0(_fa) | W0(_fb) | W0(_fc) | W0(_fd) | W0(_fe),		\ 	  W1(_fa) | W1(_fb) | W1(_fc) | W1(_fd) | W1(_fe) }
end_define

begin_define
define|#
directive|define
name|BM6
parameter_list|(
name|_fa
parameter_list|,
name|_fb
parameter_list|,
name|_fc
parameter_list|,
name|_fd
parameter_list|,
name|_fe
parameter_list|,
name|_ff
parameter_list|)
define|\
value|{ W0(_fa) | W0(_fb) | W0(_fc) | W0(_fd) | W0(_fe) | W0(_ff),	\ 	  W1(_fa) | W1(_fb) | W1(_fc) | W1(_fd) | W1(_fe) | W1(_ff) }
end_define

begin_define
define|#
directive|define
name|BM7
parameter_list|(
name|_fa
parameter_list|,
name|_fb
parameter_list|,
name|_fc
parameter_list|,
name|_fd
parameter_list|,
name|_fe
parameter_list|,
name|_ff
parameter_list|,
name|_fg
parameter_list|)
define|\
value|{ W0(_fa) | W0(_fb) | W0(_fc) | W0(_fd) | W0(_fe) | W0(_ff) |	\ 	  W0(_fg),\ 	  W1(_fa) | W1(_fb) | W1(_fc) | W1(_fd) | W1(_fe) | W1(_ff) |	\ 	  W1(_fg) }
end_define

begin_define
define|#
directive|define
name|BM8
parameter_list|(
name|_fa
parameter_list|,
name|_fb
parameter_list|,
name|_fc
parameter_list|,
name|_fd
parameter_list|,
name|_fe
parameter_list|,
name|_ff
parameter_list|,
name|_fg
parameter_list|,
name|_fh
parameter_list|)
define|\
value|{ W0(_fa) | W0(_fb) | W0(_fc) | W0(_fd) | W0(_fe) | W0(_ff) |	\ 	  W0(_fg) | W0(_fh) ,	\ 	  W1(_fa) | W1(_fb) | W1(_fc) | W1(_fd) | W1(_fe) | W1(_ff) |	\ 	  W1(_fg) | W1(_fh) }
end_define

begin_define
define|#
directive|define
name|BM9
parameter_list|(
name|_fa
parameter_list|,
name|_fb
parameter_list|,
name|_fc
parameter_list|,
name|_fd
parameter_list|,
name|_fe
parameter_list|,
name|_ff
parameter_list|,
name|_fg
parameter_list|,
name|_fh
parameter_list|,
name|_fi
parameter_list|)
define|\
value|{ W0(_fa) | W0(_fb) | W0(_fc) | W0(_fd) | W0(_fe) | W0(_ff) |	\ 	  W0(_fg) | W0(_fh) | W0(_fi) ,	\ 	  W1(_fa) | W1(_fb) | W1(_fc) | W1(_fd) | W1(_fe) | W1(_ff) |	\ 	  W1(_fg) | W1(_fh) | W1(_fi) }
end_define

begin_comment
comment|/*  * Mask to check whether a domain is a multidomain or a single domain  */
end_comment

begin_define
define|#
directive|define
name|MULTI_DOMAIN_MASK
value|0xFF00
end_define

begin_comment
comment|/*  * Enumerated Regulatory Domain Information 8 bit values indicate that  * the regdomain is really a pair of unitary regdomains.  12 bit values  * are the real unitary regdomains and are the only ones which have the  * frequency bitmasks and flags set.  */
end_comment

begin_enum
enum|enum
block|{
comment|/* 	 * The following regulatory domain definitions are 	 * found in the EEPROM. Each regulatory domain 	 * can operate in either a 5GHz or 2.4GHz wireless mode or 	 * both 5GHz and 2.4GHz wireless modes. 	 * In general, the value holds no special 	 * meaning and is used to decode into either specific 	 * 2.4GHz or 5GHz wireless mode for that particular 	 * regulatory domain. 	 */
name|NO_ENUMRD
init|=
literal|0x00
block|,
name|NULL1_WORLD
init|=
literal|0x03
block|,
comment|/* For 11b-only countries (no 11a allowed) */
name|NULL1_ETSIB
init|=
literal|0x07
block|,
comment|/* Israel */
name|NULL1_ETSIC
init|=
literal|0x08
block|,
name|FCC1_FCCA
init|=
literal|0x10
block|,
comment|/* USA */
name|FCC1_WORLD
init|=
literal|0x11
block|,
comment|/* Hong Kong */
name|FCC4_FCCA
init|=
literal|0x12
block|,
comment|/* USA - Public Safety */
name|FCC5_FCCB
init|=
literal|0x13
block|,
comment|/* USA w/ 1/2 and 1/4 width channels */
name|FCC2_FCCA
init|=
literal|0x20
block|,
comment|/* Canada */
name|FCC2_WORLD
init|=
literal|0x21
block|,
comment|/* Australia& HK */
name|FCC2_ETSIC
init|=
literal|0x22
block|,
name|FRANCE_RES
init|=
literal|0x31
block|,
comment|/* Legacy France for OEM */
name|FCC3_FCCA
init|=
literal|0x3A
block|,
comment|/* USA& Canada w/5470 band, 11h, DFS enabled */
name|FCC3_WORLD
init|=
literal|0x3B
block|,
comment|/* USA& Canada w/5470 band, 11h, DFS enabled */
name|ETSI1_WORLD
init|=
literal|0x37
block|,
name|ETSI3_ETSIA
init|=
literal|0x32
block|,
comment|/* France (optional) */
name|ETSI2_WORLD
init|=
literal|0x35
block|,
comment|/* Hungary& others */
name|ETSI3_WORLD
init|=
literal|0x36
block|,
comment|/* France& others */
name|ETSI4_WORLD
init|=
literal|0x30
block|,
name|ETSI4_ETSIC
init|=
literal|0x38
block|,
name|ETSI5_WORLD
init|=
literal|0x39
block|,
name|ETSI6_WORLD
init|=
literal|0x34
block|,
comment|/* Bulgaria */
name|ETSI_RESERVED
init|=
literal|0x33
block|,
comment|/* Reserved (Do not used) */
name|MKK1_MKKA
init|=
literal|0x40
block|,
comment|/* Japan (JP1) */
name|MKK1_MKKB
init|=
literal|0x41
block|,
comment|/* Japan (JP0) */
name|APL4_WORLD
init|=
literal|0x42
block|,
comment|/* Singapore */
name|MKK2_MKKA
init|=
literal|0x43
block|,
comment|/* Japan with 4.9G channels */
name|APL_RESERVED
init|=
literal|0x44
block|,
comment|/* Reserved (Do not used)  */
name|APL2_WORLD
init|=
literal|0x45
block|,
comment|/* Korea */
name|APL2_APLC
init|=
literal|0x46
block|,
name|APL3_WORLD
init|=
literal|0x47
block|,
name|MKK1_FCCA
init|=
literal|0x48
block|,
comment|/* Japan (JP1-1) */
name|APL2_APLD
init|=
literal|0x49
block|,
comment|/* Korea with 2.3G channels */
name|MKK1_MKKA1
init|=
literal|0x4A
block|,
comment|/* Japan (JE1) */
name|MKK1_MKKA2
init|=
literal|0x4B
block|,
comment|/* Japan (JE2) */
name|MKK1_MKKC
init|=
literal|0x4C
block|,
comment|/* Japan (MKK1_MKKA,except Ch14) */
name|APL3_FCCA
init|=
literal|0x50
block|,
name|APL1_WORLD
init|=
literal|0x52
block|,
comment|/* Latin America */
name|APL1_FCCA
init|=
literal|0x53
block|,
name|APL1_APLA
init|=
literal|0x54
block|,
name|APL1_ETSIC
init|=
literal|0x55
block|,
name|APL2_ETSIC
init|=
literal|0x56
block|,
comment|/* Venezuela */
name|APL5_WORLD
init|=
literal|0x58
block|,
comment|/* Chile */
name|APL6_WORLD
init|=
literal|0x5B
block|,
comment|/* Singapore */
name|APL7_FCCA
init|=
literal|0x5C
block|,
comment|/* Taiwan 5.47 Band */
name|APL8_WORLD
init|=
literal|0x5D
block|,
comment|/* Malaysia 5GHz */
name|APL9_WORLD
init|=
literal|0x5E
block|,
comment|/* Korea 5GHz */
comment|/* 	 * World mode SKUs 	 */
name|WOR0_WORLD
init|=
literal|0x60
block|,
comment|/* World0 (WO0 SKU) */
name|WOR1_WORLD
init|=
literal|0x61
block|,
comment|/* World1 (WO1 SKU) */
name|WOR2_WORLD
init|=
literal|0x62
block|,
comment|/* World2 (WO2 SKU) */
name|WOR3_WORLD
init|=
literal|0x63
block|,
comment|/* World3 (WO3 SKU) */
name|WOR4_WORLD
init|=
literal|0x64
block|,
comment|/* World4 (WO4 SKU) */
name|WOR5_ETSIC
init|=
literal|0x65
block|,
comment|/* World5 (WO5 SKU) */
name|WOR01_WORLD
init|=
literal|0x66
block|,
comment|/* World0-1 (WW0-1 SKU) */
name|WOR02_WORLD
init|=
literal|0x67
block|,
comment|/* World0-2 (WW0-2 SKU) */
name|EU1_WORLD
init|=
literal|0x68
block|,
comment|/* Same as World0-2 (WW0-2 SKU), except active scan ch1-13. No ch14 */
name|WOR9_WORLD
init|=
literal|0x69
block|,
comment|/* World9 (WO9 SKU) */
name|WORA_WORLD
init|=
literal|0x6A
block|,
comment|/* WorldA (WOA SKU) */
name|WORB_WORLD
init|=
literal|0x6B
block|,
comment|/* WorldB (WOB SKU) */
name|MKK3_MKKB
init|=
literal|0x80
block|,
comment|/* Japan UNI-1 even + MKKB */
name|MKK3_MKKA2
init|=
literal|0x81
block|,
comment|/* Japan UNI-1 even + MKKA2 */
name|MKK3_MKKC
init|=
literal|0x82
block|,
comment|/* Japan UNI-1 even + MKKC */
name|MKK4_MKKB
init|=
literal|0x83
block|,
comment|/* Japan UNI-1 even + UNI-2 + MKKB */
name|MKK4_MKKA2
init|=
literal|0x84
block|,
comment|/* Japan UNI-1 even + UNI-2 + MKKA2 */
name|MKK4_MKKC
init|=
literal|0x85
block|,
comment|/* Japan UNI-1 even + UNI-2 + MKKC */
name|MKK5_MKKB
init|=
literal|0x86
block|,
comment|/* Japan UNI-1 even + UNI-2 + mid-band + MKKB */
name|MKK5_MKKA2
init|=
literal|0x87
block|,
comment|/* Japan UNI-1 even + UNI-2 + mid-band + MKKA2 */
name|MKK5_MKKC
init|=
literal|0x88
block|,
comment|/* Japan UNI-1 even + UNI-2 + mid-band + MKKC */
name|MKK6_MKKB
init|=
literal|0x89
block|,
comment|/* Japan UNI-1 even + UNI-1 odd MKKB */
name|MKK6_MKKA2
init|=
literal|0x8A
block|,
comment|/* Japan UNI-1 even + UNI-1 odd + MKKA2 */
name|MKK6_MKKC
init|=
literal|0x8B
block|,
comment|/* Japan UNI-1 even + UNI-1 odd + MKKC */
name|MKK7_MKKB
init|=
literal|0x8C
block|,
comment|/* Japan UNI-1 even + UNI-1 odd + UNI-2 + MKKB */
name|MKK7_MKKA2
init|=
literal|0x8D
block|,
comment|/* Japan UNI-1 even + UNI-1 odd + UNI-2 + MKKA2 */
name|MKK7_MKKC
init|=
literal|0x8E
block|,
comment|/* Japan UNI-1 even + UNI-1 odd + UNI-2 + MKKC */
name|MKK8_MKKB
init|=
literal|0x8F
block|,
comment|/* Japan UNI-1 even + UNI-1 odd + UNI-2 + mid-band + MKKB */
name|MKK8_MKKA2
init|=
literal|0x90
block|,
comment|/* Japan UNI-1 even + UNI-1 odd + UNI-2 + mid-band + MKKA2 */
name|MKK8_MKKC
init|=
literal|0x91
block|,
comment|/* Japan UNI-1 even + UNI-1 odd + UNI-2 + mid-band + MKKC */
comment|/* Following definitions are used only by s/w to map old  	 * Japan SKUs. 	 */
name|MKK3_MKKA
init|=
literal|0xF0
block|,
comment|/* Japan UNI-1 even + MKKA */
name|MKK3_MKKA1
init|=
literal|0xF1
block|,
comment|/* Japan UNI-1 even + MKKA1 */
name|MKK3_FCCA
init|=
literal|0xF2
block|,
comment|/* Japan UNI-1 even + FCCA */
name|MKK4_MKKA
init|=
literal|0xF3
block|,
comment|/* Japan UNI-1 even + UNI-2 + MKKA */
name|MKK4_MKKA1
init|=
literal|0xF4
block|,
comment|/* Japan UNI-1 even + UNI-2 + MKKA1 */
name|MKK4_FCCA
init|=
literal|0xF5
block|,
comment|/* Japan UNI-1 even + UNI-2 + FCCA */
name|MKK9_MKKA
init|=
literal|0xF6
block|,
comment|/* Japan UNI-1 even + 4.9GHz */
name|MKK10_MKKA
init|=
literal|0xF7
block|,
comment|/* Japan UNI-1 even + UNI-2 + 4.9GHz */
comment|/* 	 * Regulator domains ending in a number (e.g. APL1, 	 * MK1, ETSI4, etc) apply to 5GHz channel and power 	 * information.  Regulator domains ending in a letter 	 * (e.g. APLA, FCCA, etc) apply to 2.4GHz channel and 	 * power information. 	 */
name|APL1
init|=
literal|0x0150
block|,
comment|/* LAT& Asia */
name|APL2
init|=
literal|0x0250
block|,
comment|/* LAT& Asia */
name|APL3
init|=
literal|0x0350
block|,
comment|/* Taiwan */
name|APL4
init|=
literal|0x0450
block|,
comment|/* Jordan */
name|APL5
init|=
literal|0x0550
block|,
comment|/* Chile */
name|APL6
init|=
literal|0x0650
block|,
comment|/* Singapore */
name|APL8
init|=
literal|0x0850
block|,
comment|/* Malaysia */
name|APL9
init|=
literal|0x0950
block|,
comment|/* Korea (South) ROC 3 */
name|ETSI1
init|=
literal|0x0130
block|,
comment|/* Europe& others */
name|ETSI2
init|=
literal|0x0230
block|,
comment|/* Europe& others */
name|ETSI3
init|=
literal|0x0330
block|,
comment|/* Europe& others */
name|ETSI4
init|=
literal|0x0430
block|,
comment|/* Europe& others */
name|ETSI5
init|=
literal|0x0530
block|,
comment|/* Europe& others */
name|ETSI6
init|=
literal|0x0630
block|,
comment|/* Europe& others */
name|ETSIA
init|=
literal|0x0A30
block|,
comment|/* France */
name|ETSIB
init|=
literal|0x0B30
block|,
comment|/* Israel */
name|ETSIC
init|=
literal|0x0C30
block|,
comment|/* Latin America */
name|FCC1
init|=
literal|0x0110
block|,
comment|/* US& others */
name|FCC2
init|=
literal|0x0120
block|,
comment|/* Canada, Australia& New Zealand */
name|FCC3
init|=
literal|0x0160
block|,
comment|/* US w/new middle band& DFS */
name|FCC4
init|=
literal|0x0165
block|,
comment|/* US Public Safety */
name|FCC5
init|=
literal|0x0166
block|,
comment|/* US w/ 1/2 and 1/4 width channels */
name|FCCA
init|=
literal|0x0A10
block|,
name|FCCB
init|=
literal|0x0A11
block|,
comment|/* US w/ 1/2 and 1/4 width channels */
name|APLD
init|=
literal|0x0D50
block|,
comment|/* South Korea */
name|MKK1
init|=
literal|0x0140
block|,
comment|/* Japan (UNI-1 odd)*/
name|MKK2
init|=
literal|0x0240
block|,
comment|/* Japan (4.9 GHz + UNI-1 odd) */
name|MKK3
init|=
literal|0x0340
block|,
comment|/* Japan (UNI-1 even) */
name|MKK4
init|=
literal|0x0440
block|,
comment|/* Japan (UNI-1 even + UNI-2) */
name|MKK5
init|=
literal|0x0540
block|,
comment|/* Japan (UNI-1 even + UNI-2 + mid-band) */
name|MKK6
init|=
literal|0x0640
block|,
comment|/* Japan (UNI-1 odd + UNI-1 even) */
name|MKK7
init|=
literal|0x0740
block|,
comment|/* Japan (UNI-1 odd + UNI-1 even + UNI-2 */
name|MKK8
init|=
literal|0x0840
block|,
comment|/* Japan (UNI-1 odd + UNI-1 even + UNI-2 + mid-band) */
name|MKK9
init|=
literal|0x0940
block|,
comment|/* Japan (UNI-1 even + 4.9 GHZ) */
name|MKK10
init|=
literal|0x0B40
block|,
comment|/* Japan (UNI-1 even + UNI-2 + 4.9 GHZ) */
name|MKKA
init|=
literal|0x0A40
block|,
comment|/* Japan */
name|MKKC
init|=
literal|0x0A50
block|,
name|NULL1
init|=
literal|0x0198
block|,
name|WORLD
init|=
literal|0x0199
block|,
name|DEBUG_REG_DMN
init|=
literal|0x01ff
block|, }
enum|;
end_enum

begin_define
define|#
directive|define
name|WORLD_SKU_MASK
value|0x00F0
end_define

begin_define
define|#
directive|define
name|WORLD_SKU_PREFIX
value|0x0060
end_define

begin_enum
enum|enum
block|{
comment|/* conformance test limits */
name|FCC
init|=
literal|0x10
block|,
name|MKK
init|=
literal|0x40
block|,
name|ETSI
init|=
literal|0x30
block|, }
enum|;
end_enum

begin_comment
comment|/*  * The following are flags for different requirements per reg domain.  * These requirements are either inhereted from the reg domain pair or  * from the unitary reg domain if the reg domain pair flags value is 0  */
end_comment

begin_enum
enum|enum
block|{
name|NO_REQ
init|=
literal|0x00000000
block|,
comment|/* NB: must be zero */
name|DISALLOW_ADHOC_11A
init|=
literal|0x00000001
block|,
comment|/* adhoc not allowed in 5GHz */
name|DISALLOW_ADHOC_11A_TURB
init|=
literal|0x00000002
block|,
comment|/* not allowed w/ 5GHz turbo */
name|NEED_NFC
init|=
literal|0x00000004
block|,
comment|/* need noise floor check */
name|ADHOC_PER_11D
init|=
literal|0x00000008
block|,
comment|/* must receive 11d beacon */
name|LIMIT_FRAME_4MS
init|=
literal|0x00000020
block|,
comment|/* 4msec tx burst limit */
name|NO_HOSTAP
init|=
literal|0x00000040
block|,
comment|/* No HOSTAP mode opereation */
block|}
enum|;
end_enum

begin_comment
comment|/*  * The following describe the bit masks for different passive scan  * capability/requirements per regdomain.  */
end_comment

begin_define
define|#
directive|define
name|NO_PSCAN
value|0x0ULL
end_define

begin_comment
comment|/* NB: must be zero */
end_comment

begin_define
define|#
directive|define
name|PSCAN_FCC
value|0x0000000000000001ULL
end_define

begin_define
define|#
directive|define
name|PSCAN_FCC_T
value|0x0000000000000002ULL
end_define

begin_define
define|#
directive|define
name|PSCAN_ETSI
value|0x0000000000000004ULL
end_define

begin_define
define|#
directive|define
name|PSCAN_MKK1
value|0x0000000000000008ULL
end_define

begin_define
define|#
directive|define
name|PSCAN_MKK2
value|0x0000000000000010ULL
end_define

begin_define
define|#
directive|define
name|PSCAN_MKKA
value|0x0000000000000020ULL
end_define

begin_define
define|#
directive|define
name|PSCAN_MKKA_G
value|0x0000000000000040ULL
end_define

begin_define
define|#
directive|define
name|PSCAN_ETSIA
value|0x0000000000000080ULL
end_define

begin_define
define|#
directive|define
name|PSCAN_ETSIB
value|0x0000000000000100ULL
end_define

begin_define
define|#
directive|define
name|PSCAN_ETSIC
value|0x0000000000000200ULL
end_define

begin_define
define|#
directive|define
name|PSCAN_WWR
value|0x0000000000000400ULL
end_define

begin_define
define|#
directive|define
name|PSCAN_MKKA1
value|0x0000000000000800ULL
end_define

begin_define
define|#
directive|define
name|PSCAN_MKKA1_G
value|0x0000000000001000ULL
end_define

begin_define
define|#
directive|define
name|PSCAN_MKKA2
value|0x0000000000002000ULL
end_define

begin_define
define|#
directive|define
name|PSCAN_MKKA2_G
value|0x0000000000004000ULL
end_define

begin_define
define|#
directive|define
name|PSCAN_MKK3
value|0x0000000000008000ULL
end_define

begin_define
define|#
directive|define
name|PSCAN_DEFER
value|0x7FFFFFFFFFFFFFFFULL
end_define

begin_define
define|#
directive|define
name|IS_ECM_CHAN
value|0x8000000000000000ULL
end_define

begin_comment
comment|/*  * THE following table is the mapping of regdomain pairs specified by  * an 8 bit regdomain value to the individual unitary reg domains  */
end_comment

begin_typedef
typedef|typedef
struct|struct
name|regDomainPair
block|{
name|HAL_REG_DOMAIN
name|regDmnEnum
decl_stmt|;
comment|/* 16 bit reg domain pair */
name|HAL_REG_DOMAIN
name|regDmn5GHz
decl_stmt|;
comment|/* 5GHz reg domain */
name|HAL_REG_DOMAIN
name|regDmn2GHz
decl_stmt|;
comment|/* 2GHz reg domain */
name|uint32_t
name|flags5GHz
decl_stmt|;
comment|/* Requirements flags (AdHoc 					   disallow, noise floor cal needed, 					   etc) */
name|uint32_t
name|flags2GHz
decl_stmt|;
comment|/* Requirements flags (AdHoc 					   disallow, noise floor cal needed, 					   etc) */
name|uint64_t
name|pscanMask
decl_stmt|;
comment|/* Passive Scan flags which 					   can override unitary domain 					   passive scan flags.  This 					   value is used as a mask on 					   the unitary flags*/
name|uint16_t
name|singleCC
decl_stmt|;
comment|/* Country code of single country if 					   a one-on-one mapping exists */
block|}
name|REG_DMN_PAIR_MAPPING
typedef|;
end_typedef

begin_decl_stmt
specifier|static
name|REG_DMN_PAIR_MAPPING
name|regDomainPairs
index|[]
init|=
block|{
block|{
name|NO_ENUMRD
block|,
name|DEBUG_REG_DMN
block|,
name|DEBUG_REG_DMN
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|NULL1_WORLD
block|,
name|NULL1
block|,
name|WORLD
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|NULL1_ETSIB
block|,
name|NULL1
block|,
name|ETSIB
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|NULL1_ETSIC
block|,
name|NULL1
block|,
name|ETSIC
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|FCC2_FCCA
block|,
name|FCC2
block|,
name|FCCA
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|FCC2_WORLD
block|,
name|FCC2
block|,
name|WORLD
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|FCC2_ETSIC
block|,
name|FCC2
block|,
name|ETSIC
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|FCC3_FCCA
block|,
name|FCC3
block|,
name|FCCA
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|FCC3_WORLD
block|,
name|FCC3
block|,
name|WORLD
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|FCC4_FCCA
block|,
name|FCC4
block|,
name|FCCA
block|,
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|FCC5_FCCB
block|,
name|FCC5
block|,
name|FCCB
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|ETSI1_WORLD
block|,
name|ETSI1
block|,
name|WORLD
block|,
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|ETSI2_WORLD
block|,
name|ETSI2
block|,
name|WORLD
block|,
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|ETSI3_WORLD
block|,
name|ETSI3
block|,
name|WORLD
block|,
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|ETSI4_WORLD
block|,
name|ETSI4
block|,
name|WORLD
block|,
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|ETSI5_WORLD
block|,
name|ETSI5
block|,
name|WORLD
block|,
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|ETSI6_WORLD
block|,
name|ETSI6
block|,
name|WORLD
block|,
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|ETSI3_ETSIA
block|,
name|ETSI3
block|,
name|WORLD
block|,
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|FRANCE_RES
block|,
name|ETSI3
block|,
name|WORLD
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|FCC1_WORLD
block|,
name|FCC1
block|,
name|WORLD
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|FCC1_FCCA
block|,
name|FCC1
block|,
name|FCCA
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|APL1_WORLD
block|,
name|APL1
block|,
name|WORLD
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|APL2_WORLD
block|,
name|APL2
block|,
name|WORLD
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|APL3_WORLD
block|,
name|APL3
block|,
name|WORLD
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|APL4_WORLD
block|,
name|APL4
block|,
name|WORLD
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|APL5_WORLD
block|,
name|APL5
block|,
name|WORLD
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|APL6_WORLD
block|,
name|APL6
block|,
name|WORLD
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|APL8_WORLD
block|,
name|APL8
block|,
name|WORLD
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|APL9_WORLD
block|,
name|APL9
block|,
name|WORLD
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|APL3_FCCA
block|,
name|APL3
block|,
name|FCCA
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|APL1_ETSIC
block|,
name|APL1
block|,
name|ETSIC
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|APL2_ETSIC
block|,
name|APL2
block|,
name|ETSIC
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|APL2_APLD
block|,
name|APL2
block|,
name|APLD
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|MKK1_MKKA
block|,
name|MKK1
block|,
name|MKKA
block|,
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKK1
operator||
name|PSCAN_MKKA
block|,
name|CTRY_JAPAN
block|}
block|,
block|{
name|MKK1_MKKB
block|,
name|MKK1
block|,
name|MKKA
block|,
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKK1
operator||
name|PSCAN_MKKA
operator||
name|PSCAN_MKKA_G
block|,
name|CTRY_JAPAN1
block|}
block|,
block|{
name|MKK1_FCCA
block|,
name|MKK1
block|,
name|FCCA
block|,
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKK1
block|,
name|CTRY_JAPAN2
block|}
block|,
block|{
name|MKK1_MKKA1
block|,
name|MKK1
block|,
name|MKKA
block|,
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKK1
operator||
name|PSCAN_MKKA1
operator||
name|PSCAN_MKKA1_G
block|,
name|CTRY_JAPAN4
block|}
block|,
block|{
name|MKK1_MKKA2
block|,
name|MKK1
block|,
name|MKKA
block|,
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKK1
operator||
name|PSCAN_MKKA2
operator||
name|PSCAN_MKKA2_G
block|,
name|CTRY_JAPAN5
block|}
block|,
block|{
name|MKK1_MKKC
block|,
name|MKK1
block|,
name|MKKC
block|,
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKK1
block|,
name|CTRY_JAPAN6
block|}
block|,
comment|/* MKK2 */
block|{
name|MKK2_MKKA
block|,
name|MKK2
block|,
name|MKKA
block|,
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKK2
operator||
name|PSCAN_MKKA
operator||
name|PSCAN_MKKA_G
block|,
name|CTRY_JAPAN3
block|}
block|,
comment|/* MKK3 */
block|{
name|MKK3_MKKA
block|,
name|MKK3
block|,
name|MKKA
block|,
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKKA
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|MKK3_MKKB
block|,
name|MKK3
block|,
name|MKKA
block|,
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKKA
operator||
name|PSCAN_MKKA_G
block|,
name|CTRY_JAPAN7
block|}
block|,
block|{
name|MKK3_MKKA1
block|,
name|MKK3
block|,
name|MKKA
block|,
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKKA1
operator||
name|PSCAN_MKKA1_G
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|MKK3_MKKA2
block|,
name|MKK3
block|,
name|MKKA
block|,
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKKA2
operator||
name|PSCAN_MKKA2_G
block|,
name|CTRY_JAPAN8
block|}
block|,
block|{
name|MKK3_MKKC
block|,
name|MKK3
block|,
name|MKKC
block|,
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|NO_PSCAN
block|,
name|CTRY_JAPAN9
block|}
block|,
block|{
name|MKK3_FCCA
block|,
name|MKK3
block|,
name|FCCA
block|,
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|NO_PSCAN
block|,
name|CTRY_DEFAULT
block|}
block|,
comment|/* MKK4 */
block|{
name|MKK4_MKKB
block|,
name|MKK4
block|,
name|MKKA
block|,
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKK3
operator||
name|PSCAN_MKKA
operator||
name|PSCAN_MKKA_G
block|,
name|CTRY_JAPAN10
block|}
block|,
block|{
name|MKK4_MKKA1
block|,
name|MKK4
block|,
name|MKKA
block|,
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKK3
operator||
name|PSCAN_MKKA1
operator||
name|PSCAN_MKKA1_G
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|MKK4_MKKA2
block|,
name|MKK4
block|,
name|MKKA
block|,
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKK3
operator||
name|PSCAN_MKKA2
operator||
name|PSCAN_MKKA2_G
block|,
name|CTRY_JAPAN11
block|}
block|,
block|{
name|MKK4_MKKC
block|,
name|MKK4
block|,
name|MKKC
block|,
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKK3
block|,
name|CTRY_JAPAN12
block|}
block|,
block|{
name|MKK4_FCCA
block|,
name|MKK4
block|,
name|FCCA
block|,
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKK3
block|,
name|CTRY_DEFAULT
block|}
block|,
comment|/* MKK5 */
block|{
name|MKK5_MKKB
block|,
name|MKK5
block|,
name|MKKA
block|,
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKK3
operator||
name|PSCAN_MKKA
operator||
name|PSCAN_MKKA_G
block|,
name|CTRY_JAPAN13
block|}
block|,
block|{
name|MKK5_MKKA2
block|,
name|MKK5
block|,
name|MKKA
block|,
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKK3
operator||
name|PSCAN_MKKA2
operator||
name|PSCAN_MKKA2_G
block|,
name|CTRY_JAPAN14
block|}
block|,
block|{
name|MKK5_MKKC
block|,
name|MKK5
block|,
name|MKKC
block|,
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKK3
block|,
name|CTRY_JAPAN15
block|}
block|,
comment|/* MKK6 */
block|{
name|MKK6_MKKB
block|,
name|MKK6
block|,
name|MKKA
block|,
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKK1
operator||
name|PSCAN_MKKA
operator||
name|PSCAN_MKKA_G
block|,
name|CTRY_JAPAN16
block|}
block|,
block|{
name|MKK6_MKKA2
block|,
name|MKK6
block|,
name|MKKA
block|,
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKK1
operator||
name|PSCAN_MKKA2
operator||
name|PSCAN_MKKA2_G
block|,
name|CTRY_JAPAN17
block|}
block|,
block|{
name|MKK6_MKKC
block|,
name|MKK6
block|,
name|MKKC
block|,
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKK1
block|,
name|CTRY_JAPAN18
block|}
block|,
comment|/* MKK7 */
block|{
name|MKK7_MKKB
block|,
name|MKK7
block|,
name|MKKA
block|,
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKK1
operator||
name|PSCAN_MKK3
operator||
name|PSCAN_MKKA
operator||
name|PSCAN_MKKA_G
block|,
name|CTRY_JAPAN19
block|}
block|,
block|{
name|MKK7_MKKA2
block|,
name|MKK7
block|,
name|MKKA
block|,
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKK1
operator||
name|PSCAN_MKK3
operator||
name|PSCAN_MKKA2
operator||
name|PSCAN_MKKA2_G
block|,
name|CTRY_JAPAN20
block|}
block|,
block|{
name|MKK7_MKKC
block|,
name|MKK7
block|,
name|MKKC
block|,
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKK1
operator||
name|PSCAN_MKK3
block|,
name|CTRY_JAPAN21
block|}
block|,
comment|/* MKK8 */
block|{
name|MKK8_MKKB
block|,
name|MKK8
block|,
name|MKKA
block|,
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKK1
operator||
name|PSCAN_MKK3
operator||
name|PSCAN_MKKA
operator||
name|PSCAN_MKKA_G
block|,
name|CTRY_JAPAN22
block|}
block|,
block|{
name|MKK8_MKKA2
block|,
name|MKK8
block|,
name|MKKA
block|,
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKK1
operator||
name|PSCAN_MKK3
operator||
name|PSCAN_MKKA2
operator||
name|PSCAN_MKKA2_G
block|,
name|CTRY_JAPAN23
block|}
block|,
block|{
name|MKK8_MKKC
block|,
name|MKK8
block|,
name|MKKC
block|,
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKK1
operator||
name|PSCAN_MKK3
block|,
name|CTRY_JAPAN24
block|}
block|,
block|{
name|MKK9_MKKA
block|,
name|MKK9
block|,
name|MKKA
block|,
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKK3
operator||
name|PSCAN_MKKA
operator||
name|PSCAN_MKKA_G
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|MKK10_MKKA
block|,
name|MKK10
block|,
name|MKKA
block|,
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
operator||
name|NEED_NFC
operator||
name|LIMIT_FRAME_4MS
block|,
name|NEED_NFC
block|,
name|PSCAN_MKK3
operator||
name|PSCAN_MKKA
operator||
name|PSCAN_MKKA_G
block|,
name|CTRY_DEFAULT
block|}
block|,
comment|/* These are super domains */
block|{
name|WOR0_WORLD
block|,
name|WOR0_WORLD
block|,
name|WOR0_WORLD
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|WOR1_WORLD
block|,
name|WOR1_WORLD
block|,
name|WOR1_WORLD
block|,
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|WOR2_WORLD
block|,
name|WOR2_WORLD
block|,
name|WOR2_WORLD
block|,
name|DISALLOW_ADHOC_11A_TURB
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|WOR3_WORLD
block|,
name|WOR3_WORLD
block|,
name|WOR3_WORLD
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|WOR4_WORLD
block|,
name|WOR4_WORLD
block|,
name|WOR4_WORLD
block|,
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|WOR5_ETSIC
block|,
name|WOR5_ETSIC
block|,
name|WOR5_ETSIC
block|,
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|WOR01_WORLD
block|,
name|WOR01_WORLD
block|,
name|WOR01_WORLD
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|WOR02_WORLD
block|,
name|WOR02_WORLD
block|,
name|WOR02_WORLD
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|EU1_WORLD
block|,
name|EU1_WORLD
block|,
name|EU1_WORLD
block|,
name|NO_REQ
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|WOR9_WORLD
block|,
name|WOR9_WORLD
block|,
name|WOR9_WORLD
block|,
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|WORA_WORLD
block|,
name|WORA_WORLD
block|,
name|WORA_WORLD
block|,
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|,
block|{
name|WORB_WORLD
block|,
name|WORB_WORLD
block|,
name|WORB_WORLD
block|,
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
block|,
name|NO_REQ
block|,
name|PSCAN_DEFER
block|,
name|CTRY_DEFAULT
block|}
block|, }
decl_stmt|;
end_decl_stmt

begin_comment
comment|/*   * The following tables are the master list for all different freqeuncy  * bands with the complete matrix of all possible flags and settings  * for each band if it is used in ANY reg domain.  */
end_comment

begin_define
define|#
directive|define
name|DEF_REGDMN
value|FCC1_FCCA
end_define

begin_define
define|#
directive|define
name|COUNTRY_ERD_FLAG
value|0x8000
end_define

begin_define
define|#
directive|define
name|WORLDWIDE_ROAMING_FLAG
value|0x4000
end_define

begin_typedef
typedef|typedef
struct|struct
block|{
name|HAL_CTRY_CODE
name|countryCode
decl_stmt|;
name|HAL_REG_DOMAIN
name|regDmnEnum
decl_stmt|;
block|}
name|COUNTRY_CODE_TO_ENUM_RD
typedef|;
end_typedef

begin_decl_stmt
specifier|static
name|COUNTRY_CODE_TO_ENUM_RD
name|allCountries
index|[]
init|=
block|{
block|{
name|CTRY_DEBUG
block|,
name|NO_ENUMRD
block|}
block|,
block|{
name|CTRY_DEFAULT
block|,
name|DEF_REGDMN
block|}
block|,
block|{
name|CTRY_ALBANIA
block|,
name|NULL1_WORLD
block|}
block|,
block|{
name|CTRY_ALGERIA
block|,
name|NULL1_WORLD
block|}
block|,
block|{
name|CTRY_ARGENTINA
block|,
name|APL3_WORLD
block|}
block|,
block|{
name|CTRY_ARMENIA
block|,
name|ETSI4_WORLD
block|}
block|,
block|{
name|CTRY_AUSTRALIA
block|,
name|FCC2_WORLD
block|}
block|,
block|{
name|CTRY_AUSTRIA
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_AZERBAIJAN
block|,
name|ETSI4_WORLD
block|}
block|,
block|{
name|CTRY_BAHRAIN
block|,
name|APL6_WORLD
block|}
block|,
block|{
name|CTRY_BELARUS
block|,
name|NULL1_WORLD
block|}
block|,
block|{
name|CTRY_BELGIUM
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_BELIZE
block|,
name|APL1_ETSIC
block|}
block|,
block|{
name|CTRY_BOLIVIA
block|,
name|APL1_ETSIC
block|}
block|,
block|{
name|CTRY_BRAZIL
block|,
name|FCC3_WORLD
block|}
block|,
block|{
name|CTRY_BRUNEI_DARUSSALAM
block|,
name|APL1_WORLD
block|}
block|,
block|{
name|CTRY_BULGARIA
block|,
name|ETSI6_WORLD
block|}
block|,
block|{
name|CTRY_CANADA
block|,
name|FCC2_FCCA
block|}
block|,
block|{
name|CTRY_CHILE
block|,
name|APL6_WORLD
block|}
block|,
block|{
name|CTRY_CHINA
block|,
name|APL1_WORLD
block|}
block|,
block|{
name|CTRY_COLOMBIA
block|,
name|FCC1_FCCA
block|}
block|,
block|{
name|CTRY_COSTA_RICA
block|,
name|NULL1_WORLD
block|}
block|,
block|{
name|CTRY_CROATIA
block|,
name|ETSI3_WORLD
block|}
block|,
block|{
name|CTRY_CYPRUS
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_CZECH
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_DENMARK
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_DOMINICAN_REPUBLIC
block|,
name|FCC1_FCCA
block|}
block|,
block|{
name|CTRY_ECUADOR
block|,
name|NULL1_WORLD
block|}
block|,
block|{
name|CTRY_EGYPT
block|,
name|ETSI3_WORLD
block|}
block|,
block|{
name|CTRY_EL_SALVADOR
block|,
name|NULL1_WORLD
block|}
block|,
block|{
name|CTRY_ESTONIA
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_FINLAND
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_FRANCE
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_FRANCE2
block|,
name|ETSI3_WORLD
block|}
block|,
block|{
name|CTRY_GEORGIA
block|,
name|ETSI4_WORLD
block|}
block|,
block|{
name|CTRY_GERMANY
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_GREECE
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_GUATEMALA
block|,
name|FCC1_FCCA
block|}
block|,
block|{
name|CTRY_HONDURAS
block|,
name|NULL1_WORLD
block|}
block|,
block|{
name|CTRY_HONG_KONG
block|,
name|FCC2_WORLD
block|}
block|,
block|{
name|CTRY_HUNGARY
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_ICELAND
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_INDIA
block|,
name|APL6_WORLD
block|}
block|,
block|{
name|CTRY_INDONESIA
block|,
name|APL1_WORLD
block|}
block|,
block|{
name|CTRY_IRAN
block|,
name|APL1_WORLD
block|}
block|,
block|{
name|CTRY_IRELAND
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_ISRAEL
block|,
name|NULL1_WORLD
block|}
block|,
block|{
name|CTRY_ITALY
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_JAPAN
block|,
name|MKK1_MKKA
block|}
block|,
block|{
name|CTRY_JAPAN1
block|,
name|MKK1_MKKB
block|}
block|,
block|{
name|CTRY_JAPAN2
block|,
name|MKK1_FCCA
block|}
block|,
block|{
name|CTRY_JAPAN3
block|,
name|MKK2_MKKA
block|}
block|,
block|{
name|CTRY_JAPAN4
block|,
name|MKK1_MKKA1
block|}
block|,
block|{
name|CTRY_JAPAN5
block|,
name|MKK1_MKKA2
block|}
block|,
block|{
name|CTRY_JAPAN6
block|,
name|MKK1_MKKC
block|}
block|,
block|{
name|CTRY_JAPAN7
block|,
name|MKK3_MKKB
block|}
block|,
block|{
name|CTRY_JAPAN8
block|,
name|MKK3_MKKA2
block|}
block|,
block|{
name|CTRY_JAPAN9
block|,
name|MKK3_MKKC
block|}
block|,
block|{
name|CTRY_JAPAN10
block|,
name|MKK4_MKKB
block|}
block|,
block|{
name|CTRY_JAPAN11
block|,
name|MKK4_MKKA2
block|}
block|,
block|{
name|CTRY_JAPAN12
block|,
name|MKK4_MKKC
block|}
block|,
block|{
name|CTRY_JAPAN13
block|,
name|MKK5_MKKB
block|}
block|,
block|{
name|CTRY_JAPAN14
block|,
name|MKK5_MKKA2
block|}
block|,
block|{
name|CTRY_JAPAN15
block|,
name|MKK5_MKKC
block|}
block|,
block|{
name|CTRY_JAPAN16
block|,
name|MKK6_MKKB
block|}
block|,
block|{
name|CTRY_JAPAN17
block|,
name|MKK6_MKKA2
block|}
block|,
block|{
name|CTRY_JAPAN18
block|,
name|MKK6_MKKC
block|}
block|,
block|{
name|CTRY_JAPAN19
block|,
name|MKK7_MKKB
block|}
block|,
block|{
name|CTRY_JAPAN20
block|,
name|MKK7_MKKA2
block|}
block|,
block|{
name|CTRY_JAPAN21
block|,
name|MKK7_MKKC
block|}
block|,
block|{
name|CTRY_JAPAN22
block|,
name|MKK8_MKKB
block|}
block|,
block|{
name|CTRY_JAPAN23
block|,
name|MKK8_MKKA2
block|}
block|,
block|{
name|CTRY_JAPAN24
block|,
name|MKK8_MKKC
block|}
block|,
block|{
name|CTRY_JORDAN
block|,
name|APL4_WORLD
block|}
block|,
block|{
name|CTRY_KAZAKHSTAN
block|,
name|NULL1_WORLD
block|}
block|,
block|{
name|CTRY_KOREA_NORTH
block|,
name|APL2_WORLD
block|}
block|,
block|{
name|CTRY_KOREA_ROC
block|,
name|APL2_WORLD
block|}
block|,
block|{
name|CTRY_KOREA_ROC2
block|,
name|APL2_WORLD
block|}
block|,
block|{
name|CTRY_KOREA_ROC3
block|,
name|APL9_WORLD
block|}
block|,
block|{
name|CTRY_KUWAIT
block|,
name|NULL1_WORLD
block|}
block|,
block|{
name|CTRY_LATVIA
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_LEBANON
block|,
name|NULL1_WORLD
block|}
block|,
block|{
name|CTRY_LIECHTENSTEIN
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_LITHUANIA
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_LUXEMBOURG
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_MACAU
block|,
name|FCC2_WORLD
block|}
block|,
block|{
name|CTRY_MACEDONIA
block|,
name|NULL1_WORLD
block|}
block|,
block|{
name|CTRY_MALAYSIA
block|,
name|APL8_WORLD
block|}
block|,
block|{
name|CTRY_MALTA
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_MEXICO
block|,
name|FCC1_FCCA
block|}
block|,
block|{
name|CTRY_MONACO
block|,
name|ETSI4_WORLD
block|}
block|,
block|{
name|CTRY_MOROCCO
block|,
name|NULL1_WORLD
block|}
block|,
block|{
name|CTRY_NETHERLANDS
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_NEW_ZEALAND
block|,
name|FCC2_ETSIC
block|}
block|,
block|{
name|CTRY_NORWAY
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_OMAN
block|,
name|APL6_WORLD
block|}
block|,
block|{
name|CTRY_PAKISTAN
block|,
name|NULL1_WORLD
block|}
block|,
block|{
name|CTRY_PANAMA
block|,
name|FCC1_FCCA
block|}
block|,
block|{
name|CTRY_PERU
block|,
name|APL1_WORLD
block|}
block|,
block|{
name|CTRY_PHILIPPINES
block|,
name|FCC3_WORLD
block|}
block|,
block|{
name|CTRY_POLAND
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_PORTUGAL
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_PUERTO_RICO
block|,
name|FCC1_FCCA
block|}
block|,
block|{
name|CTRY_QATAR
block|,
name|NULL1_WORLD
block|}
block|,
block|{
name|CTRY_ROMANIA
block|,
name|NULL1_WORLD
block|}
block|,
block|{
name|CTRY_RUSSIA
block|,
name|NULL1_WORLD
block|}
block|,
block|{
name|CTRY_SAUDI_ARABIA
block|,
name|FCC2_WORLD
block|}
block|,
block|{
name|CTRY_SINGAPORE
block|,
name|APL6_WORLD
block|}
block|,
block|{
name|CTRY_SLOVAKIA
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_SLOVENIA
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_SOUTH_AFRICA
block|,
name|FCC3_WORLD
block|}
block|,
block|{
name|CTRY_SPAIN
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_SWEDEN
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_SWITZERLAND
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_SYRIA
block|,
name|NULL1_WORLD
block|}
block|,
block|{
name|CTRY_TAIWAN
block|,
name|APL3_FCCA
block|}
block|,
block|{
name|CTRY_THAILAND
block|,
name|FCC3_WORLD
block|}
block|,
block|{
name|CTRY_TRINIDAD_Y_TOBAGO
block|,
name|ETSI4_WORLD
block|}
block|,
block|{
name|CTRY_TUNISIA
block|,
name|ETSI3_WORLD
block|}
block|,
block|{
name|CTRY_TURKEY
block|,
name|ETSI3_WORLD
block|}
block|,
block|{
name|CTRY_UKRAINE
block|,
name|NULL1_WORLD
block|}
block|,
block|{
name|CTRY_UAE
block|,
name|NULL1_WORLD
block|}
block|,
block|{
name|CTRY_UNITED_KINGDOM
block|,
name|ETSI1_WORLD
block|}
block|,
block|{
name|CTRY_UNITED_STATES
block|,
name|FCC1_FCCA
block|}
block|,
block|{
name|CTRY_UNITED_STATES_FCC49
block|,
name|FCC4_FCCA
block|}
block|,
block|{
name|CTRY_URUGUAY
block|,
name|FCC1_WORLD
block|}
block|,
block|{
name|CTRY_UZBEKISTAN
block|,
name|FCC3_FCCA
block|}
block|,
block|{
name|CTRY_VENEZUELA
block|,
name|APL2_ETSIC
block|}
block|,
block|{
name|CTRY_VIET_NAM
block|,
name|NULL1_WORLD
block|}
block|,
block|{
name|CTRY_ZIMBABWE
block|,
name|NULL1_WORLD
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_comment
comment|/* Bit masks for DFS per regdomain */
end_comment

begin_enum
enum|enum
block|{
name|NO_DFS
init|=
literal|0x0000000000000000ULL
block|,
comment|/* NB: must be zero */
name|DFS_FCC3
init|=
literal|0x0000000000000001ULL
block|,
name|DFS_ETSI
init|=
literal|0x0000000000000002ULL
block|,
name|DFS_MKK4
init|=
literal|0x0000000000000004ULL
block|, }
enum|;
end_enum

begin_define
define|#
directive|define
name|AFTER
parameter_list|(
name|x
parameter_list|)
value|((x)+1)
end_define

begin_comment
comment|/*  * Frequency band collections are defined using bitmasks.  Each bit  * in a mask is the index of an entry in one of the following tables.  * Bitmasks are BMLEN*64 bits so if a table grows beyond that the bit  * vectors must be enlarged or the tables split somehow (e.g. split  * 1/2 and 1/4 rate channels into a separate table).  *  * Beware of ordering; the indices are defined relative to the preceding  * entry so if things get off there will be confusion.  A good way to  * check the indices is to collect them in a switch statement in a stub  * function so the compiler checks for duplicates.  */
end_comment

begin_typedef
typedef|typedef
struct|struct
block|{
name|uint16_t
name|lowChannel
decl_stmt|;
comment|/* Low channel center in MHz */
name|uint16_t
name|highChannel
decl_stmt|;
comment|/* High Channel center in MHz */
name|uint8_t
name|powerDfs
decl_stmt|;
comment|/* Max power (dBm) for channel 					   range when using DFS */
name|uint8_t
name|antennaMax
decl_stmt|;
comment|/* Max allowed antenna gain */
name|uint8_t
name|channelBW
decl_stmt|;
comment|/* Bandwidth of the channel */
name|uint8_t
name|channelSep
decl_stmt|;
comment|/* Channel separation within 					   the band */
name|uint64_t
name|useDfs
decl_stmt|;
comment|/* Use DFS in the RegDomain 					   if corresponding bit is set */
name|uint64_t
name|usePassScan
decl_stmt|;
comment|/* Use Passive Scan in the RegDomain 					   if corresponding bit is set */
block|}
name|REG_DMN_FREQ_BAND
typedef|;
end_typedef

begin_comment
comment|/*  * 5GHz 11A channel tags  */
end_comment

begin_decl_stmt
specifier|static
name|REG_DMN_FREQ_BAND
name|regDmn5GhzFreq
index|[]
init|=
block|{
block|{
literal|4915
block|,
literal|4925
block|,
literal|23
block|,
literal|0
block|,
literal|10
block|,
literal|5
block|,
name|NO_DFS
block|,
name|PSCAN_MKK2
block|}
block|,
define|#
directive|define
name|F1_4915_4925
value|0
block|{
literal|4935
block|,
literal|4945
block|,
literal|23
block|,
literal|0
block|,
literal|10
block|,
literal|5
block|,
name|NO_DFS
block|,
name|PSCAN_MKK2
block|}
block|,
define|#
directive|define
name|F1_4935_4945
value|AFTER(F1_4915_4925)
block|{
literal|4920
block|,
literal|4980
block|,
literal|23
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|NO_DFS
block|,
name|PSCAN_MKK2
block|}
block|,
define|#
directive|define
name|F1_4920_4980
value|AFTER(F1_4935_4945)
block|{
literal|4942
block|,
literal|4987
block|,
literal|27
block|,
literal|6
block|,
literal|5
block|,
literal|5
block|,
name|NO_DFS
block|,
name|PSCAN_FCC
block|}
block|,
define|#
directive|define
name|F1_4942_4987
value|AFTER(F1_4920_4980)
block|{
literal|4945
block|,
literal|4985
block|,
literal|30
block|,
literal|6
block|,
literal|10
block|,
literal|5
block|,
name|NO_DFS
block|,
name|PSCAN_FCC
block|}
block|,
define|#
directive|define
name|F1_4945_4985
value|AFTER(F1_4942_4987)
block|{
literal|4950
block|,
literal|4980
block|,
literal|33
block|,
literal|6
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|PSCAN_FCC
block|}
block|,
define|#
directive|define
name|F1_4950_4980
value|AFTER(F1_4945_4985)
block|{
literal|5035
block|,
literal|5040
block|,
literal|23
block|,
literal|0
block|,
literal|10
block|,
literal|5
block|,
name|NO_DFS
block|,
name|PSCAN_MKK2
block|}
block|,
define|#
directive|define
name|F1_5035_5040
value|AFTER(F1_4950_4980)
block|{
literal|5040
block|,
literal|5080
block|,
literal|23
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|NO_DFS
block|,
name|PSCAN_MKK2
block|}
block|,
define|#
directive|define
name|F1_5040_5080
value|AFTER(F1_5035_5040)
block|{
literal|5055
block|,
literal|5055
block|,
literal|23
block|,
literal|0
block|,
literal|10
block|,
literal|5
block|,
name|NO_DFS
block|,
name|PSCAN_MKK2
block|}
block|,
define|#
directive|define
name|F1_5055_5055
value|AFTER(F1_5040_5080)
block|{
literal|5120
block|,
literal|5240
block|,
literal|5
block|,
literal|6
block|,
literal|20
block|,
literal|20
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|F1_5120_5240
value|AFTER(F1_5055_5055)
block|{
literal|5120
block|,
literal|5240
block|,
literal|5
block|,
literal|6
block|,
literal|10
block|,
literal|10
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|F2_5120_5240
value|AFTER(F1_5120_5240)
block|{
literal|5120
block|,
literal|5240
block|,
literal|5
block|,
literal|6
block|,
literal|5
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|F3_5120_5240
value|AFTER(F2_5120_5240)
block|{
literal|5170
block|,
literal|5230
block|,
literal|23
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|NO_DFS
block|,
name|PSCAN_MKK1
operator||
name|PSCAN_MKK2
block|}
block|,
define|#
directive|define
name|F1_5170_5230
value|AFTER(F3_5120_5240)
block|{
literal|5170
block|,
literal|5230
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|NO_DFS
block|,
name|PSCAN_MKK1
operator||
name|PSCAN_MKK2
block|}
block|,
define|#
directive|define
name|F2_5170_5230
value|AFTER(F1_5170_5230)
block|{
literal|5180
block|,
literal|5240
block|,
literal|15
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|NO_DFS
block|,
name|PSCAN_FCC
operator||
name|PSCAN_ETSI
block|}
block|,
define|#
directive|define
name|F1_5180_5240
value|AFTER(F2_5170_5230)
block|{
literal|5180
block|,
literal|5240
block|,
literal|17
block|,
literal|6
block|,
literal|20
block|,
literal|20
block|,
name|NO_DFS
block|,
name|PSCAN_FCC
block|}
block|,
define|#
directive|define
name|F2_5180_5240
value|AFTER(F1_5180_5240)
block|{
literal|5180
block|,
literal|5240
block|,
literal|18
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|NO_DFS
block|,
name|PSCAN_FCC
operator||
name|PSCAN_ETSI
block|}
block|,
define|#
directive|define
name|F3_5180_5240
value|AFTER(F2_5180_5240)
block|{
literal|5180
block|,
literal|5240
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|NO_DFS
block|,
name|PSCAN_FCC
operator||
name|PSCAN_ETSI
block|}
block|,
define|#
directive|define
name|F4_5180_5240
value|AFTER(F3_5180_5240)
block|{
literal|5180
block|,
literal|5240
block|,
literal|23
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|NO_DFS
block|,
name|PSCAN_FCC
operator||
name|PSCAN_ETSI
block|}
block|,
define|#
directive|define
name|F5_5180_5240
value|AFTER(F4_5180_5240)
block|{
literal|5180
block|,
literal|5240
block|,
literal|23
block|,
literal|6
block|,
literal|20
block|,
literal|20
block|,
name|NO_DFS
block|,
name|PSCAN_FCC
block|}
block|,
define|#
directive|define
name|F6_5180_5240
value|AFTER(F5_5180_5240)
block|{
literal|5180
block|,
literal|5240
block|,
literal|17
block|,
literal|6
block|,
literal|20
block|,
literal|10
block|,
name|NO_DFS
block|,
name|PSCAN_FCC
block|}
block|,
define|#
directive|define
name|F7_5180_5240
value|AFTER(F6_5180_5240)
block|{
literal|5180
block|,
literal|5240
block|,
literal|17
block|,
literal|6
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|PSCAN_FCC
block|}
block|,
define|#
directive|define
name|F8_5180_5240
value|AFTER(F7_5180_5240)
block|{
literal|5180
block|,
literal|5320
block|,
literal|20
block|,
literal|6
block|,
literal|20
block|,
literal|20
block|,
name|DFS_ETSI
block|,
name|PSCAN_ETSI
block|}
block|,
define|#
directive|define
name|F1_5180_5320
value|AFTER(F8_5180_5240)
block|{
literal|5240
block|,
literal|5280
block|,
literal|23
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|DFS_FCC3
block|,
name|PSCAN_FCC
operator||
name|PSCAN_ETSI
block|}
block|,
define|#
directive|define
name|F1_5240_5280
value|AFTER(F1_5180_5320)
block|{
literal|5260
block|,
literal|5280
block|,
literal|23
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
name|PSCAN_FCC
operator||
name|PSCAN_ETSI
block|}
block|,
define|#
directive|define
name|F1_5260_5280
value|AFTER(F1_5240_5280)
block|{
literal|5260
block|,
literal|5320
block|,
literal|18
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
name|PSCAN_FCC
operator||
name|PSCAN_ETSI
block|}
block|,
define|#
directive|define
name|F1_5260_5320
value|AFTER(F1_5260_5280)
block|{
literal|5260
block|,
literal|5320
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|DFS_FCC3
operator||
name|DFS_ETSI
operator||
name|DFS_MKK4
block|,
name|PSCAN_FCC
operator||
name|PSCAN_ETSI
operator||
name|PSCAN_MKK3
block|}
block|,
define|#
directive|define
name|F2_5260_5320
value|AFTER(F1_5260_5320)
block|{
literal|5260
block|,
literal|5320
block|,
literal|20
block|,
literal|6
block|,
literal|20
block|,
literal|20
block|,
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
name|PSCAN_FCC
block|}
block|,
define|#
directive|define
name|F3_5260_5320
value|AFTER(F2_5260_5320)
block|{
literal|5260
block|,
literal|5320
block|,
literal|23
block|,
literal|6
block|,
literal|20
block|,
literal|20
block|,
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
name|PSCAN_FCC
block|}
block|,
define|#
directive|define
name|F4_5260_5320
value|AFTER(F3_5260_5320)
block|{
literal|5260
block|,
literal|5320
block|,
literal|23
block|,
literal|6
block|,
literal|20
block|,
literal|20
block|,
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
name|PSCAN_FCC
block|}
block|,
define|#
directive|define
name|F5_5260_5320
value|AFTER(F4_5260_5320)
block|{
literal|5260
block|,
literal|5320
block|,
literal|30
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|F6_5260_5320
value|AFTER(F5_5260_5320)
block|{
literal|5260
block|,
literal|5320
block|,
literal|23
block|,
literal|6
block|,
literal|20
block|,
literal|10
block|,
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
name|PSCAN_FCC
block|}
block|,
define|#
directive|define
name|F7_5260_5320
value|AFTER(F6_5260_5320)
block|{
literal|5260
block|,
literal|5320
block|,
literal|23
block|,
literal|6
block|,
literal|20
block|,
literal|5
block|,
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
name|PSCAN_FCC
block|}
block|,
define|#
directive|define
name|F8_5260_5320
value|AFTER(F7_5260_5320)
block|{
literal|5260
block|,
literal|5700
block|,
literal|5
block|,
literal|6
block|,
literal|20
block|,
literal|20
block|,
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|F1_5260_5700
value|AFTER(F8_5260_5320)
block|{
literal|5260
block|,
literal|5700
block|,
literal|5
block|,
literal|6
block|,
literal|10
block|,
literal|10
block|,
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|F2_5260_5700
value|AFTER(F1_5260_5700)
block|{
literal|5260
block|,
literal|5700
block|,
literal|5
block|,
literal|6
block|,
literal|5
block|,
literal|5
block|,
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|F3_5260_5700
value|AFTER(F2_5260_5700)
block|{
literal|5280
block|,
literal|5320
block|,
literal|17
block|,
literal|6
block|,
literal|20
block|,
literal|20
block|,
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
name|PSCAN_FCC
block|}
block|,
define|#
directive|define
name|F1_5280_5320
value|AFTER(F3_5260_5700)
block|{
literal|5500
block|,
literal|5620
block|,
literal|30
block|,
literal|6
block|,
literal|20
block|,
literal|20
block|,
name|DFS_ETSI
block|,
name|PSCAN_ETSI
block|}
block|,
define|#
directive|define
name|F1_5500_5620
value|AFTER(F1_5280_5320)
block|{
literal|5500
block|,
literal|5700
block|,
literal|20
block|,
literal|6
block|,
literal|20
block|,
literal|20
block|,
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
name|PSCAN_FCC
block|}
block|,
define|#
directive|define
name|F1_5500_5700
value|AFTER(F1_5500_5620)
block|{
literal|5500
block|,
literal|5700
block|,
literal|27
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
name|PSCAN_FCC
operator||
name|PSCAN_ETSI
block|}
block|,
define|#
directive|define
name|F2_5500_5700
value|AFTER(F1_5500_5700)
block|{
literal|5500
block|,
literal|5700
block|,
literal|30
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
name|PSCAN_FCC
operator||
name|PSCAN_ETSI
block|}
block|,
define|#
directive|define
name|F3_5500_5700
value|AFTER(F2_5500_5700)
block|{
literal|5500
block|,
literal|5700
block|,
literal|23
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|DFS_FCC3
operator||
name|DFS_ETSI
operator||
name|DFS_MKK4
block|,
name|PSCAN_MKK3
operator||
name|PSCAN_FCC
block|}
block|,
define|#
directive|define
name|F4_5500_5700
value|AFTER(F3_5500_5700)
block|{
literal|5745
block|,
literal|5805
block|,
literal|23
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|F1_5745_5805
value|AFTER(F4_5500_5700)
block|{
literal|5745
block|,
literal|5805
block|,
literal|30
block|,
literal|6
block|,
literal|20
block|,
literal|20
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|F2_5745_5805
value|AFTER(F1_5745_5805)
block|{
literal|5745
block|,
literal|5805
block|,
literal|30
block|,
literal|6
block|,
literal|20
block|,
literal|20
block|,
name|DFS_ETSI
block|,
name|PSCAN_ETSI
block|}
block|,
define|#
directive|define
name|F3_5745_5805
value|AFTER(F2_5745_5805)
block|{
literal|5745
block|,
literal|5825
block|,
literal|5
block|,
literal|6
block|,
literal|20
block|,
literal|20
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|F1_5745_5825
value|AFTER(F3_5745_5805)
block|{
literal|5745
block|,
literal|5825
block|,
literal|17
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|F2_5745_5825
value|AFTER(F1_5745_5825)
block|{
literal|5745
block|,
literal|5825
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|F3_5745_5825
value|AFTER(F2_5745_5825)
block|{
literal|5745
block|,
literal|5825
block|,
literal|30
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|F4_5745_5825
value|AFTER(F3_5745_5825)
block|{
literal|5745
block|,
literal|5825
block|,
literal|30
block|,
literal|6
block|,
literal|20
block|,
literal|20
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|F5_5745_5825
value|AFTER(F4_5745_5825)
block|{
literal|5745
block|,
literal|5825
block|,
literal|30
block|,
literal|6
block|,
literal|20
block|,
literal|20
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|F6_5745_5825
value|AFTER(F5_5745_5825)
block|{
literal|5745
block|,
literal|5825
block|,
literal|5
block|,
literal|6
block|,
literal|10
block|,
literal|10
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|F7_5745_5825
value|AFTER(F6_5745_5825)
block|{
literal|5745
block|,
literal|5825
block|,
literal|5
block|,
literal|6
block|,
literal|5
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|F8_5745_5825
value|AFTER(F7_5745_5825)
block|{
literal|5745
block|,
literal|5825
block|,
literal|30
block|,
literal|6
block|,
literal|20
block|,
literal|10
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|F9_5745_5825
value|AFTER(F8_5745_5825)
block|{
literal|5745
block|,
literal|5825
block|,
literal|30
block|,
literal|6
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|F10_5745_5825
value|AFTER(F9_5745_5825)
comment|/* 	 * Below are the world roaming channels 	 * All WWR domains have no power limit, instead use the card's CTL 	 * or max power settings. 	 */
block|{
literal|4920
block|,
literal|4980
block|,
literal|30
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|NO_DFS
block|,
name|PSCAN_WWR
block|}
block|,
define|#
directive|define
name|W1_4920_4980
value|AFTER(F10_5745_5825)
block|{
literal|5040
block|,
literal|5080
block|,
literal|30
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|NO_DFS
block|,
name|PSCAN_WWR
block|}
block|,
define|#
directive|define
name|W1_5040_5080
value|AFTER(W1_4920_4980)
block|{
literal|5170
block|,
literal|5230
block|,
literal|30
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
name|PSCAN_WWR
block|}
block|,
define|#
directive|define
name|W1_5170_5230
value|AFTER(W1_5040_5080)
block|{
literal|5180
block|,
literal|5240
block|,
literal|30
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
name|PSCAN_WWR
block|}
block|,
define|#
directive|define
name|W1_5180_5240
value|AFTER(W1_5170_5230)
block|{
literal|5260
block|,
literal|5320
block|,
literal|30
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
name|PSCAN_WWR
block|}
block|,
define|#
directive|define
name|W1_5260_5320
value|AFTER(W1_5180_5240)
block|{
literal|5745
block|,
literal|5825
block|,
literal|30
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|NO_DFS
block|,
name|PSCAN_WWR
block|}
block|,
define|#
directive|define
name|W1_5745_5825
value|AFTER(W1_5260_5320)
block|{
literal|5500
block|,
literal|5700
block|,
literal|30
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
name|PSCAN_WWR
block|}
block|,
define|#
directive|define
name|W1_5500_5700
value|AFTER(W1_5745_5825)
block|{
literal|5260
block|,
literal|5320
block|,
literal|30
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|W2_5260_5320
value|AFTER(W1_5500_5700)
block|{
literal|5180
block|,
literal|5240
block|,
literal|30
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|W2_5180_5240
value|AFTER(W2_5260_5320)
block|{
literal|5825
block|,
literal|5825
block|,
literal|30
block|,
literal|0
block|,
literal|20
block|,
literal|20
block|,
name|NO_DFS
block|,
name|PSCAN_WWR
block|}
block|,
define|#
directive|define
name|W2_5825_5825
value|AFTER(W2_5180_5240)
block|}
decl_stmt|;
end_decl_stmt

begin_comment
comment|/*  * 5GHz Turbo (dynamic& static) tags  */
end_comment

begin_decl_stmt
specifier|static
name|REG_DMN_FREQ_BAND
name|regDmn5GhzTurboFreq
index|[]
init|=
block|{
block|{
literal|5130
block|,
literal|5210
block|,
literal|5
block|,
literal|6
block|,
literal|40
block|,
literal|40
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|T1_5130_5210
value|0
block|{
literal|5250
block|,
literal|5330
block|,
literal|5
block|,
literal|6
block|,
literal|40
block|,
literal|40
block|,
name|DFS_FCC3
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|T1_5250_5330
value|AFTER(T1_5130_5210)
block|{
literal|5370
block|,
literal|5490
block|,
literal|5
block|,
literal|6
block|,
literal|40
block|,
literal|40
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|T1_5370_5490
value|AFTER(T1_5250_5330)
block|{
literal|5530
block|,
literal|5650
block|,
literal|5
block|,
literal|6
block|,
literal|40
block|,
literal|40
block|,
name|DFS_FCC3
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|T1_5530_5650
value|AFTER(T1_5370_5490)
block|{
literal|5150
block|,
literal|5190
block|,
literal|5
block|,
literal|6
block|,
literal|40
block|,
literal|40
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|T1_5150_5190
value|AFTER(T1_5530_5650)
block|{
literal|5230
block|,
literal|5310
block|,
literal|5
block|,
literal|6
block|,
literal|40
block|,
literal|40
block|,
name|DFS_FCC3
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|T1_5230_5310
value|AFTER(T1_5150_5190)
block|{
literal|5350
block|,
literal|5470
block|,
literal|5
block|,
literal|6
block|,
literal|40
block|,
literal|40
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|T1_5350_5470
value|AFTER(T1_5230_5310)
block|{
literal|5510
block|,
literal|5670
block|,
literal|5
block|,
literal|6
block|,
literal|40
block|,
literal|40
block|,
name|DFS_FCC3
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|T1_5510_5670
value|AFTER(T1_5350_5470)
block|{
literal|5200
block|,
literal|5240
block|,
literal|17
block|,
literal|6
block|,
literal|40
block|,
literal|40
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|T1_5200_5240
value|AFTER(T1_5510_5670)
block|{
literal|5200
block|,
literal|5240
block|,
literal|23
block|,
literal|6
block|,
literal|40
block|,
literal|40
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|T2_5200_5240
value|AFTER(T1_5200_5240)
block|{
literal|5210
block|,
literal|5210
block|,
literal|17
block|,
literal|6
block|,
literal|40
block|,
literal|40
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|T1_5210_5210
value|AFTER(T2_5200_5240)
block|{
literal|5210
block|,
literal|5210
block|,
literal|23
block|,
literal|0
block|,
literal|40
block|,
literal|40
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|T2_5210_5210
value|AFTER(T1_5210_5210)
block|{
literal|5280
block|,
literal|5280
block|,
literal|23
block|,
literal|6
block|,
literal|40
block|,
literal|40
block|,
name|DFS_FCC3
block|,
name|PSCAN_FCC_T
block|}
block|,
define|#
directive|define
name|T1_5280_5280
value|AFTER(T2_5210_5210)
block|{
literal|5280
block|,
literal|5280
block|,
literal|20
block|,
literal|6
block|,
literal|40
block|,
literal|40
block|,
name|DFS_FCC3
block|,
name|PSCAN_FCC_T
block|}
block|,
define|#
directive|define
name|T2_5280_5280
value|AFTER(T1_5280_5280)
block|{
literal|5250
block|,
literal|5250
block|,
literal|17
block|,
literal|0
block|,
literal|40
block|,
literal|40
block|,
name|DFS_FCC3
block|,
name|PSCAN_FCC_T
block|}
block|,
define|#
directive|define
name|T1_5250_5250
value|AFTER(T2_5280_5280)
block|{
literal|5290
block|,
literal|5290
block|,
literal|20
block|,
literal|0
block|,
literal|40
block|,
literal|40
block|,
name|DFS_FCC3
block|,
name|PSCAN_FCC_T
block|}
block|,
define|#
directive|define
name|T1_5290_5290
value|AFTER(T1_5250_5250)
block|{
literal|5250
block|,
literal|5290
block|,
literal|20
block|,
literal|0
block|,
literal|40
block|,
literal|40
block|,
name|DFS_FCC3
block|,
name|PSCAN_FCC_T
block|}
block|,
define|#
directive|define
name|T1_5250_5290
value|AFTER(T1_5290_5290)
block|{
literal|5250
block|,
literal|5290
block|,
literal|23
block|,
literal|6
block|,
literal|40
block|,
literal|40
block|,
name|DFS_FCC3
block|,
name|PSCAN_FCC_T
block|}
block|,
define|#
directive|define
name|T2_5250_5290
value|AFTER(T1_5250_5290)
block|{
literal|5540
block|,
literal|5660
block|,
literal|20
block|,
literal|6
block|,
literal|40
block|,
literal|40
block|,
name|DFS_FCC3
block|,
name|PSCAN_FCC_T
block|}
block|,
define|#
directive|define
name|T1_5540_5660
value|AFTER(T2_5250_5290)
block|{
literal|5760
block|,
literal|5800
block|,
literal|20
block|,
literal|0
block|,
literal|40
block|,
literal|40
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|T1_5760_5800
value|AFTER(T1_5540_5660)
block|{
literal|5760
block|,
literal|5800
block|,
literal|30
block|,
literal|6
block|,
literal|40
block|,
literal|40
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|T2_5760_5800
value|AFTER(T1_5760_5800)
block|{
literal|5765
block|,
literal|5805
block|,
literal|30
block|,
literal|6
block|,
literal|40
block|,
literal|40
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|T1_5765_5805
value|AFTER(T2_5760_5800)
comment|/* 	 * Below are the WWR frequencies 	 */
block|{
literal|5210
block|,
literal|5250
block|,
literal|15
block|,
literal|0
block|,
literal|40
block|,
literal|40
block|,
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
name|PSCAN_WWR
block|}
block|,
define|#
directive|define
name|WT1_5210_5250
value|AFTER(T1_5765_5805)
block|{
literal|5290
block|,
literal|5290
block|,
literal|18
block|,
literal|0
block|,
literal|40
block|,
literal|40
block|,
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
name|PSCAN_WWR
block|}
block|,
define|#
directive|define
name|WT1_5290_5290
value|AFTER(WT1_5210_5250)
block|{
literal|5540
block|,
literal|5660
block|,
literal|20
block|,
literal|0
block|,
literal|40
block|,
literal|40
block|,
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
name|PSCAN_WWR
block|}
block|,
define|#
directive|define
name|WT1_5540_5660
value|AFTER(WT1_5290_5290)
block|{
literal|5760
block|,
literal|5800
block|,
literal|20
block|,
literal|0
block|,
literal|40
block|,
literal|40
block|,
name|NO_DFS
block|,
name|PSCAN_WWR
block|}
block|,
define|#
directive|define
name|WT1_5760_5800
value|AFTER(WT1_5540_5660)
block|}
decl_stmt|;
end_decl_stmt

begin_comment
comment|/*  * 2GHz 11b channel tags  */
end_comment

begin_decl_stmt
specifier|static
name|REG_DMN_FREQ_BAND
name|regDmn2GhzFreq
index|[]
init|=
block|{
block|{
literal|2312
block|,
literal|2372
block|,
literal|5
block|,
literal|6
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|F1_2312_2372
value|0
block|{
literal|2312
block|,
literal|2372
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|F2_2312_2372
value|AFTER(F1_2312_2372)
block|{
literal|2412
block|,
literal|2472
block|,
literal|5
block|,
literal|6
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|F1_2412_2472
value|AFTER(F2_2312_2372)
block|{
literal|2412
block|,
literal|2472
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|PSCAN_MKKA
block|}
block|,
define|#
directive|define
name|F2_2412_2472
value|AFTER(F1_2412_2472)
block|{
literal|2412
block|,
literal|2472
block|,
literal|30
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|F3_2412_2472
value|AFTER(F2_2412_2472)
block|{
literal|2412
block|,
literal|2462
block|,
literal|27
block|,
literal|6
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|F1_2412_2462
value|AFTER(F3_2412_2472)
block|{
literal|2412
block|,
literal|2462
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|PSCAN_MKKA
block|}
block|,
define|#
directive|define
name|F2_2412_2462
value|AFTER(F1_2412_2462)
block|{
literal|2432
block|,
literal|2442
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|F1_2432_2442
value|AFTER(F2_2412_2462)
block|{
literal|2457
block|,
literal|2472
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|F1_2457_2472
value|AFTER(F1_2432_2442)
block|{
literal|2467
block|,
literal|2472
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|PSCAN_MKKA2
operator||
name|PSCAN_MKKA
block|}
block|,
define|#
directive|define
name|F1_2467_2472
value|AFTER(F1_2457_2472)
block|{
literal|2484
block|,
literal|2484
block|,
literal|5
block|,
literal|6
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|F1_2484_2484
value|AFTER(F1_2467_2472)
block|{
literal|2484
block|,
literal|2484
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|PSCAN_MKKA
operator||
name|PSCAN_MKKA1
operator||
name|PSCAN_MKKA2
block|}
block|,
define|#
directive|define
name|F2_2484_2484
value|AFTER(F1_2484_2484)
block|{
literal|2512
block|,
literal|2732
block|,
literal|5
block|,
literal|6
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|F1_2512_2732
value|AFTER(F2_2484_2484)
comment|/* 	 * WWR have powers opened up to 20dBm. 	 * Limits should often come from CTL/Max powers 	 */
block|{
literal|2312
block|,
literal|2372
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|W1_2312_2372
value|AFTER(F1_2512_2732)
block|{
literal|2412
block|,
literal|2412
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|W1_2412_2412
value|AFTER(W1_2312_2372)
block|{
literal|2417
block|,
literal|2432
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|W1_2417_2432
value|AFTER(W1_2412_2412)
block|{
literal|2437
block|,
literal|2442
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|W1_2437_2442
value|AFTER(W1_2417_2432)
block|{
literal|2447
block|,
literal|2457
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|W1_2447_2457
value|AFTER(W1_2437_2442)
block|{
literal|2462
block|,
literal|2462
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|W1_2462_2462
value|AFTER(W1_2447_2457)
block|{
literal|2467
block|,
literal|2467
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|PSCAN_WWR
operator||
name|IS_ECM_CHAN
block|}
block|,
define|#
directive|define
name|W1_2467_2467
value|AFTER(W1_2462_2462)
block|{
literal|2467
block|,
literal|2467
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
operator||
name|IS_ECM_CHAN
block|}
block|,
define|#
directive|define
name|W2_2467_2467
value|AFTER(W1_2467_2467)
block|{
literal|2472
block|,
literal|2472
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|PSCAN_WWR
operator||
name|IS_ECM_CHAN
block|}
block|,
define|#
directive|define
name|W1_2472_2472
value|AFTER(W2_2467_2467)
block|{
literal|2472
block|,
literal|2472
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
operator||
name|IS_ECM_CHAN
block|}
block|,
define|#
directive|define
name|W2_2472_2472
value|AFTER(W1_2472_2472)
block|{
literal|2484
block|,
literal|2484
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|PSCAN_WWR
operator||
name|IS_ECM_CHAN
block|}
block|,
define|#
directive|define
name|W1_2484_2484
value|AFTER(W2_2472_2472)
block|{
literal|2484
block|,
literal|2484
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
operator||
name|IS_ECM_CHAN
block|}
block|,
define|#
directive|define
name|W2_2484_2484
value|AFTER(W1_2484_2484)
block|}
decl_stmt|;
end_decl_stmt

begin_comment
comment|/*  * 2GHz 11g channel tags  */
end_comment

begin_decl_stmt
specifier|static
name|REG_DMN_FREQ_BAND
name|regDmn2Ghz11gFreq
index|[]
init|=
block|{
block|{
literal|2312
block|,
literal|2372
block|,
literal|5
block|,
literal|6
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|G1_2312_2372
value|0
block|{
literal|2312
block|,
literal|2372
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|G2_2312_2372
value|AFTER(G1_2312_2372)
block|{
literal|2312
block|,
literal|2372
block|,
literal|5
block|,
literal|6
block|,
literal|10
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|G3_2312_2372
value|AFTER(G2_2312_2372)
block|{
literal|2312
block|,
literal|2372
block|,
literal|5
block|,
literal|6
block|,
literal|5
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|G4_2312_2372
value|AFTER(G3_2312_2372)
block|{
literal|2412
block|,
literal|2472
block|,
literal|5
block|,
literal|6
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|G1_2412_2472
value|AFTER(G4_2312_2372)
block|{
literal|2412
block|,
literal|2472
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|PSCAN_MKKA_G
block|}
block|,
define|#
directive|define
name|G2_2412_2472
value|AFTER(G1_2412_2472)
block|{
literal|2412
block|,
literal|2472
block|,
literal|30
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|G3_2412_2472
value|AFTER(G2_2412_2472)
block|{
literal|2412
block|,
literal|2472
block|,
literal|5
block|,
literal|6
block|,
literal|10
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|G4_2412_2472
value|AFTER(G3_2412_2472)
block|{
literal|2412
block|,
literal|2472
block|,
literal|5
block|,
literal|6
block|,
literal|5
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|G5_2412_2472
value|AFTER(G4_2412_2472)
block|{
literal|2412
block|,
literal|2462
block|,
literal|27
block|,
literal|6
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|G1_2412_2462
value|AFTER(G5_2412_2472)
block|{
literal|2412
block|,
literal|2462
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|PSCAN_MKKA_G
block|}
block|,
define|#
directive|define
name|G2_2412_2462
value|AFTER(G1_2412_2462)
block|{
literal|2412
block|,
literal|2462
block|,
literal|27
block|,
literal|6
block|,
literal|10
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|G3_2412_2462
value|AFTER(G2_2412_2462)
block|{
literal|2412
block|,
literal|2462
block|,
literal|27
block|,
literal|6
block|,
literal|5
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|G4_2412_2462
value|AFTER(G3_2412_2462)
block|{
literal|2432
block|,
literal|2442
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|G1_2432_2442
value|AFTER(G4_2412_2462)
block|{
literal|2457
block|,
literal|2472
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|G1_2457_2472
value|AFTER(G1_2432_2442)
block|{
literal|2512
block|,
literal|2732
block|,
literal|5
block|,
literal|6
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|G1_2512_2732
value|AFTER(G1_2457_2472)
block|{
literal|2512
block|,
literal|2732
block|,
literal|5
block|,
literal|6
block|,
literal|10
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|G2_2512_2732
value|AFTER(G1_2512_2732)
block|{
literal|2512
block|,
literal|2732
block|,
literal|5
block|,
literal|6
block|,
literal|5
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|G3_2512_2732
value|AFTER(G2_2512_2732)
block|{
literal|2467
block|,
literal|2472
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|PSCAN_MKKA2
operator||
name|PSCAN_MKKA
block|}
block|,
define|#
directive|define
name|G1_2467_2472
value|AFTER(G3_2512_2732)
comment|/* 	 * WWR open up the power to 20dBm 	 */
block|{
literal|2312
block|,
literal|2372
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|WG1_2312_2372
value|AFTER(G1_2467_2472)
block|{
literal|2412
block|,
literal|2412
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|WG1_2412_2412
value|AFTER(WG1_2312_2372)
block|{
literal|2417
block|,
literal|2432
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|WG1_2417_2432
value|AFTER(WG1_2412_2412)
block|{
literal|2437
block|,
literal|2442
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|WG1_2437_2442
value|AFTER(WG1_2417_2432)
block|{
literal|2447
block|,
literal|2457
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|WG1_2447_2457
value|AFTER(WG1_2437_2442)
block|{
literal|2462
block|,
literal|2462
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|WG1_2462_2462
value|AFTER(WG1_2447_2457)
block|{
literal|2467
block|,
literal|2467
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|PSCAN_WWR
operator||
name|IS_ECM_CHAN
block|}
block|,
define|#
directive|define
name|WG1_2467_2467
value|AFTER(WG1_2462_2462)
block|{
literal|2467
block|,
literal|2467
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
operator||
name|IS_ECM_CHAN
block|}
block|,
define|#
directive|define
name|WG2_2467_2467
value|AFTER(WG1_2467_2467)
block|{
literal|2472
block|,
literal|2472
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|PSCAN_WWR
operator||
name|IS_ECM_CHAN
block|}
block|,
define|#
directive|define
name|WG1_2472_2472
value|AFTER(WG2_2467_2467)
block|{
literal|2472
block|,
literal|2472
block|,
literal|20
block|,
literal|0
block|,
literal|20
block|,
literal|5
block|,
name|NO_DFS
block|,
name|NO_PSCAN
operator||
name|IS_ECM_CHAN
block|}
block|,
define|#
directive|define
name|WG2_2472_2472
value|AFTER(WG1_2472_2472)
block|}
decl_stmt|;
end_decl_stmt

begin_comment
comment|/*  * 2GHz Dynamic turbo tags  */
end_comment

begin_decl_stmt
specifier|static
name|REG_DMN_FREQ_BAND
name|regDmn2Ghz11gTurboFreq
index|[]
init|=
block|{
block|{
literal|2312
block|,
literal|2372
block|,
literal|5
block|,
literal|6
block|,
literal|40
block|,
literal|40
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|T1_2312_2372
value|0
block|{
literal|2437
block|,
literal|2437
block|,
literal|5
block|,
literal|6
block|,
literal|40
block|,
literal|40
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|T1_2437_2437
value|AFTER(T1_2312_2372)
block|{
literal|2437
block|,
literal|2437
block|,
literal|20
block|,
literal|6
block|,
literal|40
block|,
literal|40
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|T2_2437_2437
value|AFTER(T1_2437_2437)
block|{
literal|2437
block|,
literal|2437
block|,
literal|18
block|,
literal|6
block|,
literal|40
block|,
literal|40
block|,
name|NO_DFS
block|,
name|PSCAN_WWR
block|}
block|,
define|#
directive|define
name|T3_2437_2437
value|AFTER(T2_2437_2437)
block|{
literal|2512
block|,
literal|2732
block|,
literal|5
block|,
literal|6
block|,
literal|40
block|,
literal|40
block|,
name|NO_DFS
block|,
name|NO_PSCAN
block|}
block|,
define|#
directive|define
name|T1_2512_2732
value|AFTER(T3_2437_2437)
block|}
decl_stmt|;
end_decl_stmt

begin_typedef
typedef|typedef
struct|struct
name|regDomain
block|{
name|uint16_t
name|regDmnEnum
decl_stmt|;
comment|/* value from EnumRd table */
name|uint8_t
name|conformanceTestLimit
decl_stmt|;
name|uint32_t
name|flags
decl_stmt|;
comment|/* Requirement flags (AdHoc disallow, 					   noise floor cal needed, etc) */
name|uint64_t
name|dfsMask
decl_stmt|;
comment|/* DFS bitmask for 5Ghz tables */
name|uint64_t
name|pscan
decl_stmt|;
comment|/* Bitmask for passive scan */
name|chanbmask_t
name|chan11a
decl_stmt|;
comment|/* 11a channels */
name|chanbmask_t
name|chan11a_turbo
decl_stmt|;
comment|/* 11a static turbo channels */
name|chanbmask_t
name|chan11a_dyn_turbo
decl_stmt|;
comment|/* 11a dynamic turbo channels */
name|chanbmask_t
name|chan11a_half
decl_stmt|;
comment|/* 11a 1/2 width channels */
name|chanbmask_t
name|chan11a_quarter
decl_stmt|;
comment|/* 11a 1/4 width channels */
name|chanbmask_t
name|chan11b
decl_stmt|;
comment|/* 11b channels */
name|chanbmask_t
name|chan11g
decl_stmt|;
comment|/* 11g channels */
name|chanbmask_t
name|chan11g_turbo
decl_stmt|;
comment|/* 11g dynamic turbo channels */
name|chanbmask_t
name|chan11g_half
decl_stmt|;
comment|/* 11g 1/2 width channels */
name|chanbmask_t
name|chan11g_quarter
decl_stmt|;
comment|/* 11g 1/4 width channels */
block|}
name|REG_DOMAIN
typedef|;
end_typedef

begin_decl_stmt
specifier|static
name|REG_DOMAIN
name|regDomains
index|[]
init|=
block|{
block|{
operator|.
name|regDmnEnum
operator|=
name|DEBUG_REG_DMN
block|,
operator|.
name|conformanceTestLimit
operator|=
name|FCC
block|,
operator|.
name|dfsMask
operator|=
name|DFS_FCC3
block|,
operator|.
name|chan11a
operator|=
name|BM4
argument_list|(
name|F1_4950_4980
argument_list|,
name|F1_5120_5240
argument_list|,
name|F1_5260_5700
argument_list|,
name|F1_5745_5825
argument_list|)
block|,
operator|.
name|chan11a_half
operator|=
name|BM4
argument_list|(
name|F1_4945_4985
argument_list|,
name|F2_5120_5240
argument_list|,
name|F2_5260_5700
argument_list|,
name|F7_5745_5825
argument_list|)
block|,
operator|.
name|chan11a_quarter
operator|=
name|BM4
argument_list|(
name|F1_4942_4987
argument_list|,
name|F3_5120_5240
argument_list|,
name|F3_5260_5700
argument_list|,
name|F8_5745_5825
argument_list|)
block|,
operator|.
name|chan11a_turbo
operator|=
name|BM8
argument_list|(
name|T1_5130_5210
argument_list|,
name|T1_5250_5330
argument_list|,
name|T1_5370_5490
argument_list|,
name|T1_5530_5650
argument_list|,
name|T1_5150_5190
argument_list|,
name|T1_5230_5310
argument_list|,
name|T1_5350_5470
argument_list|,
name|T1_5510_5670
argument_list|)
block|,
operator|.
name|chan11a_dyn_turbo
operator|=
name|BM4
argument_list|(
name|T1_5200_5240
argument_list|,
name|T1_5280_5280
argument_list|,
name|T1_5540_5660
argument_list|,
name|T1_5765_5805
argument_list|)
block|,
operator|.
name|chan11b
operator|=
name|BM4
argument_list|(
name|F1_2312_2372
argument_list|,
name|F1_2412_2472
argument_list|,
name|F1_2484_2484
argument_list|,
name|F1_2512_2732
argument_list|)
block|,
operator|.
name|chan11g
operator|=
name|BM3
argument_list|(
name|G1_2312_2372
argument_list|,
name|G1_2412_2472
argument_list|,
name|G1_2512_2732
argument_list|)
block|,
operator|.
name|chan11g_turbo
operator|=
name|BM3
argument_list|(
name|T1_2312_2372
argument_list|,
name|T1_2437_2437
argument_list|,
name|T1_2512_2732
argument_list|)
block|,
operator|.
name|chan11g_half
operator|=
name|BM3
argument_list|(
name|G2_2312_2372
argument_list|,
name|G4_2412_2472
argument_list|,
name|G2_2512_2732
argument_list|)
block|,
operator|.
name|chan11g_quarter
operator|=
name|BM3
argument_list|(
name|G3_2312_2372
argument_list|,
name|G5_2412_2472
argument_list|,
name|G3_2512_2732
argument_list|)
block|, 	}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|APL1
block|,
operator|.
name|conformanceTestLimit
operator|=
name|FCC
block|,
operator|.
name|chan11a
operator|=
name|BM1
argument_list|(
name|F4_5745_5825
argument_list|)
block|, 	}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|APL2
block|,
operator|.
name|conformanceTestLimit
operator|=
name|FCC
block|,
operator|.
name|chan11a
operator|=
name|BM1
argument_list|(
name|F1_5745_5805
argument_list|)
block|, 	}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|APL3
block|,
operator|.
name|conformanceTestLimit
operator|=
name|FCC
block|,
operator|.
name|chan11a
operator|=
name|BM2
argument_list|(
name|F1_5280_5320
argument_list|,
name|F2_5745_5805
argument_list|)
block|, 	}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|APL4
block|,
operator|.
name|conformanceTestLimit
operator|=
name|FCC
block|,
operator|.
name|chan11a
operator|=
name|BM2
argument_list|(
name|F4_5180_5240
argument_list|,
name|F3_5745_5825
argument_list|)
block|, 	}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|APL5
block|,
operator|.
name|conformanceTestLimit
operator|=
name|FCC
block|,
operator|.
name|chan11a
operator|=
name|BM1
argument_list|(
name|F2_5745_5825
argument_list|)
block|, 	}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|APL6
block|,
operator|.
name|conformanceTestLimit
operator|=
name|ETSI
block|,
operator|.
name|dfsMask
operator|=
name|DFS_ETSI
block|,
operator|.
name|pscan
operator|=
name|PSCAN_FCC_T
operator||
name|PSCAN_FCC
block|,
operator|.
name|chan11a
operator|=
name|BM3
argument_list|(
name|F4_5180_5240
argument_list|,
name|F2_5260_5320
argument_list|,
name|F3_5745_5825
argument_list|)
block|,
operator|.
name|chan11a_turbo
operator|=
name|BM3
argument_list|(
name|T2_5210_5210
argument_list|,
name|T1_5250_5290
argument_list|,
name|T1_5760_5800
argument_list|)
block|, 	}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|APL8
block|,
operator|.
name|conformanceTestLimit
operator|=
name|ETSI
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
block|,
operator|.
name|chan11a
operator|=
name|BM2
argument_list|(
name|F6_5260_5320
argument_list|,
name|F4_5745_5825
argument_list|)
block|, 	}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|APL9
block|,
operator|.
name|conformanceTestLimit
operator|=
name|ETSI
block|,
operator|.
name|dfsMask
operator|=
name|DFS_ETSI
block|,
operator|.
name|pscan
operator|=
name|PSCAN_ETSI
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
block|,
operator|.
name|chan11a
operator|=
name|BM3
argument_list|(
name|F1_5180_5320
argument_list|,
name|F1_5500_5620
argument_list|,
name|F3_5745_5805
argument_list|)
block|, 	}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|ETSI1
block|,
operator|.
name|conformanceTestLimit
operator|=
name|ETSI
block|,
operator|.
name|dfsMask
operator|=
name|DFS_ETSI
block|,
operator|.
name|pscan
operator|=
name|PSCAN_ETSI
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
block|,
operator|.
name|chan11a
operator|=
name|BM3
argument_list|(
name|W2_5180_5240
argument_list|,
name|F2_5260_5320
argument_list|,
name|F2_5500_5700
argument_list|)
block|, 	}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|ETSI2
block|,
operator|.
name|conformanceTestLimit
operator|=
name|ETSI
block|,
operator|.
name|dfsMask
operator|=
name|DFS_ETSI
block|,
operator|.
name|pscan
operator|=
name|PSCAN_ETSI
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
block|,
operator|.
name|chan11a
operator|=
name|BM1
argument_list|(
name|F3_5180_5240
argument_list|)
block|, 	}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|ETSI3
block|,
operator|.
name|conformanceTestLimit
operator|=
name|ETSI
block|,
operator|.
name|dfsMask
operator|=
name|DFS_ETSI
block|,
operator|.
name|pscan
operator|=
name|PSCAN_ETSI
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
block|,
operator|.
name|chan11a
operator|=
name|BM2
argument_list|(
name|W2_5180_5240
argument_list|,
name|F2_5260_5320
argument_list|)
block|, 	}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|ETSI4
block|,
operator|.
name|conformanceTestLimit
operator|=
name|ETSI
block|,
operator|.
name|dfsMask
operator|=
name|DFS_ETSI
block|,
operator|.
name|pscan
operator|=
name|PSCAN_ETSI
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
block|,
operator|.
name|chan11a
operator|=
name|BM2
argument_list|(
name|F3_5180_5240
argument_list|,
name|F1_5260_5320
argument_list|)
block|, 	}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|ETSI5
block|,
operator|.
name|conformanceTestLimit
operator|=
name|ETSI
block|,
operator|.
name|dfsMask
operator|=
name|DFS_ETSI
block|,
operator|.
name|pscan
operator|=
name|PSCAN_ETSI
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
block|,
operator|.
name|chan11a
operator|=
name|BM1
argument_list|(
name|F1_5180_5240
argument_list|)
block|, 	}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|ETSI6
block|,
operator|.
name|conformanceTestLimit
operator|=
name|ETSI
block|,
operator|.
name|dfsMask
operator|=
name|DFS_ETSI
block|,
operator|.
name|pscan
operator|=
name|PSCAN_ETSI
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
block|,
operator|.
name|chan11a
operator|=
name|BM3
argument_list|(
name|F5_5180_5240
argument_list|,
name|F1_5260_5280
argument_list|,
name|F3_5500_5700
argument_list|)
block|, 	}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|FCC1
block|,
operator|.
name|conformanceTestLimit
operator|=
name|FCC
block|,
operator|.
name|chan11a
operator|=
name|BM3
argument_list|(
name|F2_5180_5240
argument_list|,
name|F4_5260_5320
argument_list|,
name|F5_5745_5825
argument_list|)
block|,
operator|.
name|chan11a_turbo
operator|=
name|BM3
argument_list|(
name|T1_5210_5210
argument_list|,
name|T2_5250_5290
argument_list|,
name|T2_5760_5800
argument_list|)
block|,
operator|.
name|chan11a_dyn_turbo
operator|=
name|BM3
argument_list|(
name|T1_5200_5240
argument_list|,
name|T1_5280_5280
argument_list|,
name|T1_5765_5805
argument_list|)
block|, 	}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|FCC2
block|,
operator|.
name|conformanceTestLimit
operator|=
name|FCC
block|,
operator|.
name|chan11a
operator|=
name|BM3
argument_list|(
name|F6_5180_5240
argument_list|,
name|F5_5260_5320
argument_list|,
name|F6_5745_5825
argument_list|)
block|,
operator|.
name|chan11a_dyn_turbo
operator|=
name|BM3
argument_list|(
name|T2_5200_5240
argument_list|,
name|T1_5280_5280
argument_list|,
name|T1_5765_5805
argument_list|)
block|, 	}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|FCC3
block|,
operator|.
name|conformanceTestLimit
operator|=
name|FCC
block|,
operator|.
name|dfsMask
operator|=
name|DFS_FCC3
block|,
operator|.
name|pscan
operator|=
name|PSCAN_FCC
operator||
name|PSCAN_FCC_T
block|,
operator|.
name|chan11a
operator|=
name|BM4
argument_list|(
name|F2_5180_5240
argument_list|,
name|F3_5260_5320
argument_list|,
name|F1_5500_5700
argument_list|,
name|F5_5745_5825
argument_list|)
block|,
operator|.
name|chan11a_turbo
operator|=
name|BM4
argument_list|(
name|T1_5210_5210
argument_list|,
name|T1_5250_5250
argument_list|,
name|T1_5290_5290
argument_list|,
name|T2_5760_5800
argument_list|)
block|,
operator|.
name|chan11a_dyn_turbo
operator|=
name|BM3
argument_list|(
name|T1_5200_5240
argument_list|,
name|T2_5280_5280
argument_list|,
name|T1_5540_5660
argument_list|)
block|, 	}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|FCC4
block|,
operator|.
name|conformanceTestLimit
operator|=
name|FCC
block|,
operator|.
name|dfsMask
operator|=
name|DFS_FCC3
block|,
operator|.
name|pscan
operator|=
name|PSCAN_FCC
operator||
name|PSCAN_FCC_T
block|,
operator|.
name|chan11a
operator|=
name|BM1
argument_list|(
name|F1_4950_4980
argument_list|)
block|,
operator|.
name|chan11a_half
operator|=
name|BM1
argument_list|(
name|F1_4945_4985
argument_list|)
block|,
operator|.
name|chan11a_quarter
operator|=
name|BM1
argument_list|(
name|F1_4942_4987
argument_list|)
block|, 	}
block|,
comment|/* FCC1 w/ 1/2 and 1/4 width channels */
block|{
operator|.
name|regDmnEnum
operator|=
name|FCC5
block|,
operator|.
name|conformanceTestLimit
operator|=
name|FCC
block|,
operator|.
name|chan11a
operator|=
name|BM3
argument_list|(
name|F2_5180_5240
argument_list|,
name|F4_5260_5320
argument_list|,
name|F5_5745_5825
argument_list|)
block|,
operator|.
name|chan11a_turbo
operator|=
name|BM3
argument_list|(
name|T1_5210_5210
argument_list|,
name|T2_5250_5290
argument_list|,
name|T2_5760_5800
argument_list|)
block|,
operator|.
name|chan11a_dyn_turbo
operator|=
name|BM3
argument_list|(
name|T1_5200_5240
argument_list|,
name|T1_5280_5280
argument_list|,
name|T1_5765_5805
argument_list|)
block|,
operator|.
name|chan11a_half
operator|=
name|BM3
argument_list|(
name|F7_5180_5240
argument_list|,
name|F7_5260_5320
argument_list|,
name|F9_5745_5825
argument_list|)
block|,
operator|.
name|chan11a_quarter
operator|=
name|BM3
argument_list|(
name|F8_5180_5240
argument_list|,
name|F8_5260_5320
argument_list|,
name|F10_5745_5825
argument_list|)
block|, 	}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|MKK1
block|,
operator|.
name|conformanceTestLimit
operator|=
name|MKK
block|,
operator|.
name|pscan
operator|=
name|PSCAN_MKK1
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A_TURB
block|,
operator|.
name|chan11a
operator|=
name|BM1
argument_list|(
name|F1_5170_5230
argument_list|)
block|, 	}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|MKK2
block|,
operator|.
name|conformanceTestLimit
operator|=
name|MKK
block|,
operator|.
name|pscan
operator|=
name|PSCAN_MKK2
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A_TURB
block|,
operator|.
name|chan11a
operator|=
name|BM3
argument_list|(
name|F1_4920_4980
argument_list|,
name|F1_5040_5080
argument_list|,
name|F1_5170_5230
argument_list|)
block|,
operator|.
name|chan11a_half
operator|=
name|BM4
argument_list|(
name|F1_4915_4925
argument_list|,
name|F1_4935_4945
argument_list|,
name|F1_5035_5040
argument_list|,
name|F1_5055_5055
argument_list|)
block|, 	}
block|,
comment|/* UNI-1 even */
block|{
operator|.
name|regDmnEnum
operator|=
name|MKK3
block|,
operator|.
name|conformanceTestLimit
operator|=
name|MKK
block|,
operator|.
name|pscan
operator|=
name|PSCAN_MKK3
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A_TURB
block|,
operator|.
name|chan11a
operator|=
name|BM1
argument_list|(
name|F4_5180_5240
argument_list|)
block|, 	}
block|,
comment|/* UNI-1 even + UNI-2 */
block|{
operator|.
name|regDmnEnum
operator|=
name|MKK4
block|,
operator|.
name|conformanceTestLimit
operator|=
name|MKK
block|,
operator|.
name|dfsMask
operator|=
name|DFS_MKK4
block|,
operator|.
name|pscan
operator|=
name|PSCAN_MKK3
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A_TURB
block|,
operator|.
name|chan11a
operator|=
name|BM2
argument_list|(
name|F4_5180_5240
argument_list|,
name|F2_5260_5320
argument_list|)
block|, 	}
block|,
comment|/* UNI-1 even + UNI-2 + mid-band */
block|{
operator|.
name|regDmnEnum
operator|=
name|MKK5
block|,
operator|.
name|conformanceTestLimit
operator|=
name|MKK
block|,
operator|.
name|dfsMask
operator|=
name|DFS_MKK4
block|,
operator|.
name|pscan
operator|=
name|PSCAN_MKK3
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A_TURB
block|,
operator|.
name|chan11a
operator|=
name|BM3
argument_list|(
name|F4_5180_5240
argument_list|,
name|F2_5260_5320
argument_list|,
name|F4_5500_5700
argument_list|)
block|, 	}
block|,
comment|/* UNI-1 odd + even */
block|{
operator|.
name|regDmnEnum
operator|=
name|MKK6
block|,
operator|.
name|conformanceTestLimit
operator|=
name|MKK
block|,
operator|.
name|pscan
operator|=
name|PSCAN_MKK1
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A_TURB
block|,
operator|.
name|chan11a
operator|=
name|BM2
argument_list|(
name|F2_5170_5230
argument_list|,
name|F4_5180_5240
argument_list|)
block|, 	}
block|,
comment|/* UNI-1 odd + UNI-1 even + UNI-2 */
block|{
operator|.
name|regDmnEnum
operator|=
name|MKK7
block|,
operator|.
name|conformanceTestLimit
operator|=
name|MKK
block|,
operator|.
name|dfsMask
operator|=
name|DFS_MKK4
block|,
operator|.
name|pscan
operator|=
name|PSCAN_MKK1
operator||
name|PSCAN_MKK3
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A_TURB
block|,
operator|.
name|chan11a
operator|=
name|BM3
argument_list|(
name|F1_5170_5230
argument_list|,
name|F4_5180_5240
argument_list|,
name|F2_5260_5320
argument_list|)
block|, 	}
block|,
comment|/* UNI-1 odd + UNI-1 even + UNI-2 + mid-band */
block|{
operator|.
name|regDmnEnum
operator|=
name|MKK8
block|,
operator|.
name|conformanceTestLimit
operator|=
name|MKK
block|,
operator|.
name|dfsMask
operator|=
name|DFS_MKK4
block|,
operator|.
name|pscan
operator|=
name|PSCAN_MKK1
operator||
name|PSCAN_MKK3
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A_TURB
block|,
operator|.
name|chan11a
operator|=
name|BM4
argument_list|(
name|F1_5170_5230
argument_list|,
name|F4_5180_5240
argument_list|,
name|F2_5260_5320
argument_list|,
name|F4_5500_5700
argument_list|)
block|, 	}
block|,
comment|/* UNI-1 even + 4.9 GHZ */
block|{
operator|.
name|regDmnEnum
operator|=
name|MKK9
block|,
operator|.
name|conformanceTestLimit
operator|=
name|MKK
block|,
operator|.
name|pscan
operator|=
name|PSCAN_MKK3
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A_TURB
block|,
operator|.
name|chan11a
operator|=
name|BM7
argument_list|(
name|F1_4915_4925
argument_list|,
name|F1_4935_4945
argument_list|,
name|F1_4920_4980
argument_list|,
name|F1_5035_5040
argument_list|,
name|F1_5055_5055
argument_list|,
name|F1_5040_5080
argument_list|,
name|F4_5180_5240
argument_list|)
block|,         }
block|,
comment|/* UNI-1 even + UNI-2 + 4.9 GHZ */
block|{
operator|.
name|regDmnEnum
operator|=
name|MKK10
block|,
operator|.
name|conformanceTestLimit
operator|=
name|MKK
block|,
operator|.
name|dfsMask
operator|=
name|DFS_MKK4
block|,
operator|.
name|pscan
operator|=
name|PSCAN_MKK3
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A_TURB
block|,
operator|.
name|chan11a
operator|=
name|BM8
argument_list|(
name|F1_4915_4925
argument_list|,
name|F1_4935_4945
argument_list|,
name|F1_4920_4980
argument_list|,
name|F1_5035_5040
argument_list|,
name|F1_5055_5055
argument_list|,
name|F1_5040_5080
argument_list|,
name|F4_5180_5240
argument_list|,
name|F2_5260_5320
argument_list|)
block|,         }
block|,
comment|/* Defined here to use when 2G channels are authorised for country K2 */
block|{
operator|.
name|regDmnEnum
operator|=
name|APLD
block|,
operator|.
name|conformanceTestLimit
operator|=
name|NO_CTL
block|,
operator|.
name|chan11b
operator|=
name|BM2
argument_list|(
name|F2_2312_2372
argument_list|,
name|F2_2412_2472
argument_list|)
block|,
operator|.
name|chan11g
operator|=
name|BM2
argument_list|(
name|G2_2312_2372
argument_list|,
name|G2_2412_2472
argument_list|)
block|, 	}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|ETSIA
block|,
operator|.
name|conformanceTestLimit
operator|=
name|NO_CTL
block|,
operator|.
name|pscan
operator|=
name|PSCAN_ETSIA
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
block|,
operator|.
name|chan11b
operator|=
name|BM1
argument_list|(
name|F1_2457_2472
argument_list|)
block|,
operator|.
name|chan11g
operator|=
name|BM1
argument_list|(
name|G1_2457_2472
argument_list|)
block|,
operator|.
name|chan11g_turbo
operator|=
name|BM1
argument_list|(
argument|T2_2437_2437
argument_list|)
block|}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|ETSIB
block|,
operator|.
name|conformanceTestLimit
operator|=
name|ETSI
block|,
operator|.
name|pscan
operator|=
name|PSCAN_ETSIB
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
block|,
operator|.
name|chan11b
operator|=
name|BM1
argument_list|(
name|F1_2432_2442
argument_list|)
block|,
operator|.
name|chan11g
operator|=
name|BM1
argument_list|(
name|G1_2432_2442
argument_list|)
block|,
operator|.
name|chan11g_turbo
operator|=
name|BM1
argument_list|(
argument|T2_2437_2437
argument_list|)
block|}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|ETSIC
block|,
operator|.
name|conformanceTestLimit
operator|=
name|ETSI
block|,
operator|.
name|pscan
operator|=
name|PSCAN_ETSIC
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A
operator||
name|DISALLOW_ADHOC_11A_TURB
block|,
operator|.
name|chan11b
operator|=
name|BM1
argument_list|(
name|F3_2412_2472
argument_list|)
block|,
operator|.
name|chan11g
operator|=
name|BM1
argument_list|(
name|G3_2412_2472
argument_list|)
block|,
operator|.
name|chan11g_turbo
operator|=
name|BM1
argument_list|(
argument|T2_2437_2437
argument_list|)
block|}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|FCCA
block|,
operator|.
name|conformanceTestLimit
operator|=
name|FCC
block|,
operator|.
name|chan11b
operator|=
name|BM1
argument_list|(
name|F1_2412_2462
argument_list|)
block|,
operator|.
name|chan11g
operator|=
name|BM1
argument_list|(
name|G1_2412_2462
argument_list|)
block|,
operator|.
name|chan11g_turbo
operator|=
name|BM1
argument_list|(
name|T2_2437_2437
argument_list|)
block|, 	}
block|,
comment|/* FCCA w/ 1/2 and 1/4 width channels */
block|{
operator|.
name|regDmnEnum
operator|=
name|FCCB
block|,
operator|.
name|conformanceTestLimit
operator|=
name|FCC
block|,
operator|.
name|chan11b
operator|=
name|BM1
argument_list|(
name|F1_2412_2462
argument_list|)
block|,
operator|.
name|chan11g
operator|=
name|BM1
argument_list|(
name|G1_2412_2462
argument_list|)
block|,
operator|.
name|chan11g_turbo
operator|=
name|BM1
argument_list|(
name|T2_2437_2437
argument_list|)
block|,
operator|.
name|chan11g_half
operator|=
name|BM1
argument_list|(
name|G3_2412_2462
argument_list|)
block|,
operator|.
name|chan11g_quarter
operator|=
name|BM1
argument_list|(
name|G4_2412_2462
argument_list|)
block|, 	}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|MKKA
block|,
operator|.
name|conformanceTestLimit
operator|=
name|MKK
block|,
operator|.
name|pscan
operator|=
name|PSCAN_MKKA
operator||
name|PSCAN_MKKA_G
operator||
name|PSCAN_MKKA1
operator||
name|PSCAN_MKKA1_G
operator||
name|PSCAN_MKKA2
operator||
name|PSCAN_MKKA2_G
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A_TURB
block|,
operator|.
name|chan11b
operator|=
name|BM3
argument_list|(
name|F2_2412_2462
argument_list|,
name|F1_2467_2472
argument_list|,
name|F2_2484_2484
argument_list|)
block|,
operator|.
name|chan11g
operator|=
name|BM2
argument_list|(
name|G2_2412_2462
argument_list|,
name|G1_2467_2472
argument_list|)
block|,
operator|.
name|chan11g_turbo
operator|=
name|BM1
argument_list|(
argument|T2_2437_2437
argument_list|)
block|}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|MKKC
block|,
operator|.
name|conformanceTestLimit
operator|=
name|MKK
block|,
operator|.
name|chan11b
operator|=
name|BM1
argument_list|(
name|F2_2412_2472
argument_list|)
block|,
operator|.
name|chan11g
operator|=
name|BM1
argument_list|(
name|G2_2412_2472
argument_list|)
block|,
operator|.
name|chan11g_turbo
operator|=
name|BM1
argument_list|(
argument|T2_2437_2437
argument_list|)
block|}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|WORLD
block|,
operator|.
name|conformanceTestLimit
operator|=
name|ETSI
block|,
operator|.
name|chan11b
operator|=
name|BM1
argument_list|(
name|F2_2412_2472
argument_list|)
block|,
operator|.
name|chan11g
operator|=
name|BM1
argument_list|(
name|G2_2412_2472
argument_list|)
block|,
operator|.
name|chan11g_turbo
operator|=
name|BM1
argument_list|(
argument|T2_2437_2437
argument_list|)
block|}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|WOR0_WORLD
block|,
operator|.
name|conformanceTestLimit
operator|=
name|NO_CTL
block|,
operator|.
name|dfsMask
operator|=
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
operator|.
name|pscan
operator|=
name|PSCAN_WWR
block|,
operator|.
name|flags
operator|=
name|ADHOC_PER_11D
block|,
operator|.
name|chan11a
operator|=
name|BM5
argument_list|(
name|W1_5260_5320
argument_list|,
name|W1_5180_5240
argument_list|,
name|W1_5170_5230
argument_list|,
name|W1_5745_5825
argument_list|,
name|W1_5500_5700
argument_list|)
block|,
operator|.
name|chan11a_turbo
operator|=
name|BM3
argument_list|(
name|WT1_5210_5250
argument_list|,
name|WT1_5290_5290
argument_list|,
name|WT1_5760_5800
argument_list|)
block|,
operator|.
name|chan11b
operator|=
name|BM8
argument_list|(
name|W1_2412_2412
argument_list|,
name|W1_2437_2442
argument_list|,
name|W1_2462_2462
argument_list|,
name|W1_2472_2472
argument_list|,
name|W1_2417_2432
argument_list|,
name|W1_2447_2457
argument_list|,
name|W1_2467_2467
argument_list|,
name|W1_2484_2484
argument_list|)
block|,
operator|.
name|chan11g
operator|=
name|BM7
argument_list|(
name|WG1_2412_2412
argument_list|,
name|WG1_2437_2442
argument_list|,
name|WG1_2462_2462
argument_list|,
name|WG1_2472_2472
argument_list|,
name|WG1_2417_2432
argument_list|,
name|WG1_2447_2457
argument_list|,
name|WG1_2467_2467
argument_list|)
block|,
operator|.
name|chan11g_turbo
operator|=
name|BM1
argument_list|(
argument|T3_2437_2437
argument_list|)
block|}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|WOR01_WORLD
block|,
operator|.
name|conformanceTestLimit
operator|=
name|NO_CTL
block|,
operator|.
name|dfsMask
operator|=
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
operator|.
name|pscan
operator|=
name|PSCAN_WWR
block|,
operator|.
name|flags
operator|=
name|ADHOC_PER_11D
block|,
operator|.
name|chan11a
operator|=
name|BM5
argument_list|(
name|W1_5260_5320
argument_list|,
name|W1_5180_5240
argument_list|,
name|W1_5170_5230
argument_list|,
name|W1_5745_5825
argument_list|,
name|W1_5500_5700
argument_list|)
block|,
operator|.
name|chan11a_turbo
operator|=
name|BM3
argument_list|(
name|WT1_5210_5250
argument_list|,
name|WT1_5290_5290
argument_list|,
name|WT1_5760_5800
argument_list|)
block|,
operator|.
name|chan11b
operator|=
name|BM5
argument_list|(
name|W1_2412_2412
argument_list|,
name|W1_2437_2442
argument_list|,
name|W1_2462_2462
argument_list|,
name|W1_2417_2432
argument_list|,
name|W1_2447_2457
argument_list|)
block|,
operator|.
name|chan11g
operator|=
name|BM5
argument_list|(
name|WG1_2412_2412
argument_list|,
name|WG1_2437_2442
argument_list|,
name|WG1_2462_2462
argument_list|,
name|WG1_2417_2432
argument_list|,
name|WG1_2447_2457
argument_list|)
block|,
operator|.
name|chan11g_turbo
operator|=
name|BM1
argument_list|(
argument|T3_2437_2437
argument_list|)
block|}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|WOR02_WORLD
block|,
operator|.
name|conformanceTestLimit
operator|=
name|NO_CTL
block|,
operator|.
name|dfsMask
operator|=
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
operator|.
name|pscan
operator|=
name|PSCAN_WWR
block|,
operator|.
name|flags
operator|=
name|ADHOC_PER_11D
block|,
operator|.
name|chan11a
operator|=
name|BM5
argument_list|(
name|W1_5260_5320
argument_list|,
name|W1_5180_5240
argument_list|,
name|W1_5170_5230
argument_list|,
name|W1_5745_5825
argument_list|,
name|W1_5500_5700
argument_list|)
block|,
operator|.
name|chan11a_turbo
operator|=
name|BM3
argument_list|(
name|WT1_5210_5250
argument_list|,
name|WT1_5290_5290
argument_list|,
name|WT1_5760_5800
argument_list|)
block|,
operator|.
name|chan11b
operator|=
name|BM7
argument_list|(
name|W1_2412_2412
argument_list|,
name|W1_2437_2442
argument_list|,
name|W1_2462_2462
argument_list|,
name|W1_2472_2472
argument_list|,
name|W1_2417_2432
argument_list|,
name|W1_2447_2457
argument_list|,
name|W1_2467_2467
argument_list|)
block|,
operator|.
name|chan11g
operator|=
name|BM7
argument_list|(
name|WG1_2412_2412
argument_list|,
name|WG1_2437_2442
argument_list|,
name|WG1_2462_2462
argument_list|,
name|WG1_2472_2472
argument_list|,
name|WG1_2417_2432
argument_list|,
name|WG1_2447_2457
argument_list|,
name|WG1_2467_2467
argument_list|)
block|,
operator|.
name|chan11g_turbo
operator|=
name|BM1
argument_list|(
argument|T3_2437_2437
argument_list|)
block|}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|EU1_WORLD
block|,
operator|.
name|conformanceTestLimit
operator|=
name|NO_CTL
block|,
operator|.
name|dfsMask
operator|=
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
operator|.
name|pscan
operator|=
name|PSCAN_WWR
block|,
operator|.
name|flags
operator|=
name|ADHOC_PER_11D
block|,
operator|.
name|chan11a
operator|=
name|BM5
argument_list|(
name|W1_5260_5320
argument_list|,
name|W1_5180_5240
argument_list|,
name|W1_5170_5230
argument_list|,
name|W1_5745_5825
argument_list|,
name|W1_5500_5700
argument_list|)
block|,
operator|.
name|chan11a_turbo
operator|=
name|BM3
argument_list|(
name|WT1_5210_5250
argument_list|,
name|WT1_5290_5290
argument_list|,
name|WT1_5760_5800
argument_list|)
block|,
operator|.
name|chan11b
operator|=
name|BM7
argument_list|(
name|W1_2412_2412
argument_list|,
name|W1_2437_2442
argument_list|,
name|W1_2462_2462
argument_list|,
name|W2_2472_2472
argument_list|,
name|W1_2417_2432
argument_list|,
name|W1_2447_2457
argument_list|,
name|W2_2467_2467
argument_list|)
block|,
operator|.
name|chan11g
operator|=
name|BM7
argument_list|(
name|WG1_2412_2412
argument_list|,
name|WG1_2437_2442
argument_list|,
name|WG1_2462_2462
argument_list|,
name|WG2_2472_2472
argument_list|,
name|WG1_2417_2432
argument_list|,
name|WG1_2447_2457
argument_list|,
name|WG2_2467_2467
argument_list|)
block|,
operator|.
name|chan11g_turbo
operator|=
name|BM1
argument_list|(
argument|T3_2437_2437
argument_list|)
block|}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|WOR1_WORLD
block|,
operator|.
name|conformanceTestLimit
operator|=
name|NO_CTL
block|,
operator|.
name|dfsMask
operator|=
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
operator|.
name|pscan
operator|=
name|PSCAN_WWR
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A
block|,
operator|.
name|chan11a
operator|=
name|BM5
argument_list|(
name|W1_5260_5320
argument_list|,
name|W1_5180_5240
argument_list|,
name|W1_5170_5230
argument_list|,
name|W1_5745_5825
argument_list|,
name|W1_5500_5700
argument_list|)
block|,
operator|.
name|chan11b
operator|=
name|BM8
argument_list|(
name|W1_2412_2412
argument_list|,
name|W1_2437_2442
argument_list|,
name|W1_2462_2462
argument_list|,
name|W1_2472_2472
argument_list|,
name|W1_2417_2432
argument_list|,
name|W1_2447_2457
argument_list|,
name|W1_2467_2467
argument_list|,
name|W1_2484_2484
argument_list|)
block|,
operator|.
name|chan11g
operator|=
name|BM7
argument_list|(
name|WG1_2412_2412
argument_list|,
name|WG1_2437_2442
argument_list|,
name|WG1_2462_2462
argument_list|,
name|WG1_2472_2472
argument_list|,
name|WG1_2417_2432
argument_list|,
name|WG1_2447_2457
argument_list|,
name|WG1_2467_2467
argument_list|)
block|,
operator|.
name|chan11g_turbo
operator|=
name|BM1
argument_list|(
argument|T3_2437_2437
argument_list|)
block|}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|WOR2_WORLD
block|,
operator|.
name|conformanceTestLimit
operator|=
name|NO_CTL
block|,
operator|.
name|dfsMask
operator|=
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
operator|.
name|pscan
operator|=
name|PSCAN_WWR
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A
block|,
operator|.
name|chan11a
operator|=
name|BM5
argument_list|(
name|W1_5260_5320
argument_list|,
name|W1_5180_5240
argument_list|,
name|W1_5170_5230
argument_list|,
name|W1_5745_5825
argument_list|,
name|W1_5500_5700
argument_list|)
block|,
operator|.
name|chan11a_turbo
operator|=
name|BM3
argument_list|(
name|WT1_5210_5250
argument_list|,
name|WT1_5290_5290
argument_list|,
name|WT1_5760_5800
argument_list|)
block|,
operator|.
name|chan11b
operator|=
name|BM8
argument_list|(
name|W1_2412_2412
argument_list|,
name|W1_2437_2442
argument_list|,
name|W1_2462_2462
argument_list|,
name|W1_2472_2472
argument_list|,
name|W1_2417_2432
argument_list|,
name|W1_2447_2457
argument_list|,
name|W1_2467_2467
argument_list|,
name|W1_2484_2484
argument_list|)
block|,
operator|.
name|chan11g
operator|=
name|BM7
argument_list|(
name|WG1_2412_2412
argument_list|,
name|WG1_2437_2442
argument_list|,
name|WG1_2462_2462
argument_list|,
name|WG1_2472_2472
argument_list|,
name|WG1_2417_2432
argument_list|,
name|WG1_2447_2457
argument_list|,
name|WG1_2467_2467
argument_list|)
block|,
operator|.
name|chan11g_turbo
operator|=
name|BM1
argument_list|(
argument|T3_2437_2437
argument_list|)
block|}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|WOR3_WORLD
block|,
operator|.
name|conformanceTestLimit
operator|=
name|NO_CTL
block|,
operator|.
name|dfsMask
operator|=
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
operator|.
name|pscan
operator|=
name|PSCAN_WWR
block|,
operator|.
name|flags
operator|=
name|ADHOC_PER_11D
block|,
operator|.
name|chan11a
operator|=
name|BM4
argument_list|(
name|W1_5260_5320
argument_list|,
name|W1_5180_5240
argument_list|,
name|W1_5170_5230
argument_list|,
name|W1_5745_5825
argument_list|)
block|,
operator|.
name|chan11a_turbo
operator|=
name|BM3
argument_list|(
name|WT1_5210_5250
argument_list|,
name|WT1_5290_5290
argument_list|,
name|WT1_5760_5800
argument_list|)
block|,
operator|.
name|chan11b
operator|=
name|BM7
argument_list|(
name|W1_2412_2412
argument_list|,
name|W1_2437_2442
argument_list|,
name|W1_2462_2462
argument_list|,
name|W1_2472_2472
argument_list|,
name|W1_2417_2432
argument_list|,
name|W1_2447_2457
argument_list|,
name|W1_2467_2467
argument_list|)
block|,
operator|.
name|chan11g
operator|=
name|BM7
argument_list|(
name|WG1_2412_2412
argument_list|,
name|WG1_2437_2442
argument_list|,
name|WG1_2462_2462
argument_list|,
name|WG1_2472_2472
argument_list|,
name|WG1_2417_2432
argument_list|,
name|WG1_2447_2457
argument_list|,
name|WG1_2467_2467
argument_list|)
block|,
operator|.
name|chan11g_turbo
operator|=
name|BM1
argument_list|(
argument|T3_2437_2437
argument_list|)
block|}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|WOR4_WORLD
block|,
operator|.
name|conformanceTestLimit
operator|=
name|NO_CTL
block|,
operator|.
name|dfsMask
operator|=
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
operator|.
name|pscan
operator|=
name|PSCAN_WWR
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A
block|,
operator|.
name|chan11a
operator|=
name|BM4
argument_list|(
name|W2_5260_5320
argument_list|,
name|W2_5180_5240
argument_list|,
name|F2_5745_5805
argument_list|,
name|W2_5825_5825
argument_list|)
block|,
operator|.
name|chan11a_turbo
operator|=
name|BM3
argument_list|(
name|WT1_5210_5250
argument_list|,
name|WT1_5290_5290
argument_list|,
name|WT1_5760_5800
argument_list|)
block|,
operator|.
name|chan11b
operator|=
name|BM5
argument_list|(
name|W1_2412_2412
argument_list|,
name|W1_2437_2442
argument_list|,
name|W1_2462_2462
argument_list|,
name|W1_2417_2432
argument_list|,
name|W1_2447_2457
argument_list|)
block|,
operator|.
name|chan11g
operator|=
name|BM5
argument_list|(
name|WG1_2412_2412
argument_list|,
name|WG1_2437_2442
argument_list|,
name|WG1_2462_2462
argument_list|,
name|WG1_2417_2432
argument_list|,
name|WG1_2447_2457
argument_list|)
block|,
operator|.
name|chan11g_turbo
operator|=
name|BM1
argument_list|(
argument|T3_2437_2437
argument_list|)
block|}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|WOR5_ETSIC
block|,
operator|.
name|conformanceTestLimit
operator|=
name|NO_CTL
block|,
operator|.
name|dfsMask
operator|=
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
operator|.
name|pscan
operator|=
name|PSCAN_WWR
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A
block|,
operator|.
name|chan11a
operator|=
name|BM3
argument_list|(
name|W1_5260_5320
argument_list|,
name|W2_5180_5240
argument_list|,
name|F6_5745_5825
argument_list|)
block|,
operator|.
name|chan11b
operator|=
name|BM7
argument_list|(
name|W1_2412_2412
argument_list|,
name|W1_2437_2442
argument_list|,
name|W1_2462_2462
argument_list|,
name|W2_2472_2472
argument_list|,
name|W1_2417_2432
argument_list|,
name|W1_2447_2457
argument_list|,
name|W2_2467_2467
argument_list|)
block|,
operator|.
name|chan11g
operator|=
name|BM7
argument_list|(
name|WG1_2412_2412
argument_list|,
name|WG1_2437_2442
argument_list|,
name|WG1_2462_2462
argument_list|,
name|WG2_2472_2472
argument_list|,
name|WG1_2417_2432
argument_list|,
name|WG1_2447_2457
argument_list|,
name|WG2_2467_2467
argument_list|)
block|,
operator|.
name|chan11g_turbo
operator|=
name|BM1
argument_list|(
argument|T3_2437_2437
argument_list|)
block|}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|WOR9_WORLD
block|,
operator|.
name|conformanceTestLimit
operator|=
name|NO_CTL
block|,
operator|.
name|dfsMask
operator|=
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
operator|.
name|pscan
operator|=
name|PSCAN_WWR
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A
block|,
operator|.
name|chan11a
operator|=
name|BM4
argument_list|(
name|W1_5260_5320
argument_list|,
name|W1_5180_5240
argument_list|,
name|W1_5745_5825
argument_list|,
name|W1_5500_5700
argument_list|)
block|,
operator|.
name|chan11a_turbo
operator|=
name|BM3
argument_list|(
name|WT1_5210_5250
argument_list|,
name|WT1_5290_5290
argument_list|,
name|WT1_5760_5800
argument_list|)
block|,
operator|.
name|chan11b
operator|=
name|BM5
argument_list|(
name|W1_2412_2412
argument_list|,
name|W1_2437_2442
argument_list|,
name|W1_2462_2462
argument_list|,
name|W1_2417_2432
argument_list|,
name|W1_2447_2457
argument_list|)
block|,
operator|.
name|chan11g
operator|=
name|BM5
argument_list|(
name|WG1_2412_2412
argument_list|,
name|WG1_2437_2442
argument_list|,
name|WG1_2462_2462
argument_list|,
name|WG1_2417_2432
argument_list|,
name|WG1_2447_2457
argument_list|)
block|,
operator|.
name|chan11g_turbo
operator|=
name|BM1
argument_list|(
argument|T3_2437_2437
argument_list|)
block|}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|WORA_WORLD
block|,
operator|.
name|conformanceTestLimit
operator|=
name|NO_CTL
block|,
operator|.
name|dfsMask
operator|=
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
operator|.
name|pscan
operator|=
name|PSCAN_WWR
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A
block|,
operator|.
name|chan11a
operator|=
name|BM4
argument_list|(
name|W1_5260_5320
argument_list|,
name|W1_5180_5240
argument_list|,
name|W1_5745_5825
argument_list|,
name|W1_5500_5700
argument_list|)
block|,
operator|.
name|chan11b
operator|=
name|BM7
argument_list|(
name|W1_2412_2412
argument_list|,
name|W1_2437_2442
argument_list|,
name|W1_2462_2462
argument_list|,
name|W1_2472_2472
argument_list|,
name|W1_2417_2432
argument_list|,
name|W1_2447_2457
argument_list|,
name|W1_2467_2467
argument_list|)
block|,
operator|.
name|chan11g
operator|=
name|BM7
argument_list|(
name|WG1_2412_2412
argument_list|,
name|WG1_2437_2442
argument_list|,
name|WG1_2462_2462
argument_list|,
name|WG1_2472_2472
argument_list|,
name|WG1_2417_2432
argument_list|,
name|WG1_2447_2457
argument_list|,
name|WG1_2467_2467
argument_list|)
block|,
operator|.
name|chan11g_turbo
operator|=
name|BM1
argument_list|(
argument|T3_2437_2437
argument_list|)
block|}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|WORB_WORLD
block|,
operator|.
name|conformanceTestLimit
operator|=
name|NO_CTL
block|,
operator|.
name|dfsMask
operator|=
name|DFS_FCC3
operator||
name|DFS_ETSI
block|,
operator|.
name|pscan
operator|=
name|PSCAN_WWR
block|,
operator|.
name|flags
operator|=
name|DISALLOW_ADHOC_11A
block|,
operator|.
name|chan11a
operator|=
name|BM4
argument_list|(
name|W1_5260_5320
argument_list|,
name|W1_5180_5240
argument_list|,
name|W1_5745_5825
argument_list|,
name|W1_5500_5700
argument_list|)
block|,
operator|.
name|chan11b
operator|=
name|BM7
argument_list|(
name|W1_2412_2412
argument_list|,
name|W1_2437_2442
argument_list|,
name|W1_2462_2462
argument_list|,
name|W1_2472_2472
argument_list|,
name|W1_2417_2432
argument_list|,
name|W1_2447_2457
argument_list|,
name|W1_2467_2467
argument_list|)
block|,
operator|.
name|chan11g
operator|=
name|BM7
argument_list|(
name|WG1_2412_2412
argument_list|,
name|WG1_2437_2442
argument_list|,
name|WG1_2462_2462
argument_list|,
name|WG1_2472_2472
argument_list|,
name|WG1_2417_2432
argument_list|,
name|WG1_2447_2457
argument_list|,
name|WG1_2467_2467
argument_list|)
block|,
operator|.
name|chan11g_turbo
operator|=
name|BM1
argument_list|(
argument|T3_2437_2437
argument_list|)
block|}
block|,
block|{
operator|.
name|regDmnEnum
operator|=
name|NULL1
block|,
operator|.
name|conformanceTestLimit
operator|=
name|NO_CTL
block|, 	}
block|}
decl_stmt|;
end_decl_stmt

begin_struct
struct|struct
name|cmode
block|{
name|u_int
name|mode
decl_stmt|;
name|u_int
name|flags
decl_stmt|;
block|}
struct|;
end_struct

begin_decl_stmt
specifier|static
specifier|const
name|struct
name|cmode
name|modes
index|[]
init|=
block|{
block|{
name|HAL_MODE_TURBO
block|,
name|IEEE80211_CHAN_ST
block|}
block|,
block|{
name|HAL_MODE_11A
block|,
name|IEEE80211_CHAN_A
block|}
block|,
block|{
name|HAL_MODE_11B
block|,
name|IEEE80211_CHAN_B
block|}
block|,
block|{
name|HAL_MODE_11G
block|,
name|IEEE80211_CHAN_G
block|}
block|,
block|{
name|HAL_MODE_11G_TURBO
block|,
name|IEEE80211_CHAN_108G
block|}
block|,
block|{
name|HAL_MODE_11A_TURBO
block|,
name|IEEE80211_CHAN_108A
block|}
block|,
block|{
name|HAL_MODE_11A_QUARTER_RATE
block|,
name|IEEE80211_CHAN_A
operator||
name|IEEE80211_CHAN_QUARTER
block|}
block|,
block|{
name|HAL_MODE_11A_HALF_RATE
block|,
name|IEEE80211_CHAN_A
operator||
name|IEEE80211_CHAN_HALF
block|}
block|,
block|{
name|HAL_MODE_11G_QUARTER_RATE
block|,
name|IEEE80211_CHAN_G
operator||
name|IEEE80211_CHAN_QUARTER
block|}
block|,
block|{
name|HAL_MODE_11G_HALF_RATE
block|,
name|IEEE80211_CHAN_G
operator||
name|IEEE80211_CHAN_HALF
block|}
block|,
block|{
name|HAL_MODE_11NG_HT20
block|,
name|IEEE80211_CHAN_G
operator||
name|IEEE80211_CHAN_HT20
block|}
block|,
block|{
name|HAL_MODE_11NG_HT40PLUS
block|,
name|IEEE80211_CHAN_G
operator||
name|IEEE80211_CHAN_HT40U
block|}
block|,
block|{
name|HAL_MODE_11NG_HT40MINUS
block|,
name|IEEE80211_CHAN_G
operator||
name|IEEE80211_CHAN_HT40D
block|}
block|,
block|{
name|HAL_MODE_11NA_HT20
block|,
name|IEEE80211_CHAN_A
operator||
name|IEEE80211_CHAN_HT20
block|}
block|,
block|{
name|HAL_MODE_11NA_HT40PLUS
block|,
name|IEEE80211_CHAN_A
operator||
name|IEEE80211_CHAN_HT40U
block|}
block|,
block|{
name|HAL_MODE_11NA_HT40MINUS
block|,
name|IEEE80211_CHAN_A
operator||
name|IEEE80211_CHAN_HT40D
block|}
block|, }
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|OS_INLINE
name|uint16_t
name|getEepromRD
parameter_list|(
name|struct
name|ath_hal
modifier|*
name|ah
parameter_list|)
block|{
return|return
name|AH_PRIVATE
argument_list|(
name|ah
argument_list|)
operator|->
name|ah_currentRD
operator|&
operator|~
name|WORLDWIDE_ROAMING_FLAG
return|;
block|}
end_function

begin_comment
comment|/*  * Test to see if the bitmask array is all zeros  */
end_comment

begin_function
specifier|static
name|HAL_BOOL
name|isChanBitMaskZero
parameter_list|(
specifier|const
name|uint64_t
modifier|*
name|bitmask
parameter_list|)
block|{
if|#
directive|if
name|BMLEN
operator|>
literal|2
error|#
directive|error
literal|"add more cases"
endif|#
directive|endif
if|#
directive|if
name|BMLEN
operator|>
literal|1
if|if
condition|(
name|bitmask
index|[
literal|1
index|]
operator|!=
literal|0
condition|)
return|return
name|AH_FALSE
return|;
endif|#
directive|endif
return|return
operator|(
name|bitmask
index|[
literal|0
index|]
operator|==
literal|0
operator|)
return|;
block|}
end_function

begin_comment
comment|/*  * Return whether or not the regulatory domain/country in EEPROM  * is acceptable.  */
end_comment

begin_function
specifier|static
name|HAL_BOOL
name|isEepromValid
parameter_list|(
name|struct
name|ath_hal
modifier|*
name|ah
parameter_list|)
block|{
name|uint16_t
name|rd
init|=
name|getEepromRD
argument_list|(
name|ah
argument_list|)
decl_stmt|;
name|int
name|i
decl_stmt|;
if|if
condition|(
name|rd
operator|&
name|COUNTRY_ERD_FLAG
condition|)
block|{
name|uint16_t
name|cc
init|=
name|rd
operator|&
operator|~
name|COUNTRY_ERD_FLAG
decl_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|N
argument_list|(
name|allCountries
argument_list|)
condition|;
name|i
operator|++
control|)
if|if
condition|(
name|allCountries
index|[
name|i
index|]
operator|.
name|countryCode
operator|==
name|cc
condition|)
return|return
name|AH_TRUE
return|;
block|}
else|else
block|{
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|N
argument_list|(
name|regDomainPairs
argument_list|)
condition|;
name|i
operator|++
control|)
if|if
condition|(
name|regDomainPairs
index|[
name|i
index|]
operator|.
name|regDmnEnum
operator|==
name|rd
condition|)
return|return
name|AH_TRUE
return|;
block|}
name|HALDEBUG
argument_list|(
name|ah
argument_list|,
name|HAL_DEBUG_REGDOMAIN
argument_list|,
literal|"%s: invalid regulatory domain/country code 0x%x\n"
argument_list|,
name|__func__
argument_list|,
name|rd
argument_list|)
expr_stmt|;
return|return
name|AH_FALSE
return|;
block|}
end_function

begin_comment
comment|/*  * Find the pointer to the country element in the country table  * corresponding to the country code  */
end_comment

begin_function
specifier|static
name|COUNTRY_CODE_TO_ENUM_RD
modifier|*
name|findCountry
parameter_list|(
name|HAL_CTRY_CODE
name|countryCode
parameter_list|)
block|{
name|int
name|i
decl_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|N
argument_list|(
name|allCountries
argument_list|)
condition|;
name|i
operator|++
control|)
block|{
if|if
condition|(
name|allCountries
index|[
name|i
index|]
operator|.
name|countryCode
operator|==
name|countryCode
condition|)
return|return
operator|&
name|allCountries
index|[
name|i
index|]
return|;
block|}
return|return
name|AH_NULL
return|;
block|}
end_function

begin_function
specifier|static
name|REG_DOMAIN
modifier|*
name|findRegDmn
parameter_list|(
name|int
name|regDmn
parameter_list|)
block|{
name|int
name|i
decl_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|N
argument_list|(
name|regDomains
argument_list|)
condition|;
name|i
operator|++
control|)
block|{
if|if
condition|(
name|regDomains
index|[
name|i
index|]
operator|.
name|regDmnEnum
operator|==
name|regDmn
condition|)
return|return
operator|&
name|regDomains
index|[
name|i
index|]
return|;
block|}
return|return
name|AH_NULL
return|;
block|}
end_function

begin_function
specifier|static
name|REG_DMN_PAIR_MAPPING
modifier|*
name|findRegDmnPair
parameter_list|(
name|int
name|regDmnPair
parameter_list|)
block|{
name|int
name|i
decl_stmt|;
if|if
condition|(
name|regDmnPair
operator|!=
name|NO_ENUMRD
condition|)
block|{
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|N
argument_list|(
name|regDomainPairs
argument_list|)
condition|;
name|i
operator|++
control|)
block|{
if|if
condition|(
name|regDomainPairs
index|[
name|i
index|]
operator|.
name|regDmnEnum
operator|==
name|regDmnPair
condition|)
return|return
operator|&
name|regDomainPairs
index|[
name|i
index|]
return|;
block|}
block|}
return|return
name|AH_NULL
return|;
block|}
end_function

begin_comment
comment|/*  * Calculate a default country based on the EEPROM setting.  */
end_comment

begin_function
specifier|static
name|HAL_CTRY_CODE
name|getDefaultCountry
parameter_list|(
name|struct
name|ath_hal
modifier|*
name|ah
parameter_list|)
block|{
name|REG_DMN_PAIR_MAPPING
modifier|*
name|regpair
decl_stmt|;
name|uint16_t
name|rd
decl_stmt|;
name|rd
operator|=
name|getEepromRD
argument_list|(
name|ah
argument_list|)
expr_stmt|;
if|if
condition|(
name|rd
operator|&
name|COUNTRY_ERD_FLAG
condition|)
block|{
name|COUNTRY_CODE_TO_ENUM_RD
modifier|*
name|country
decl_stmt|;
name|uint16_t
name|cc
init|=
name|rd
operator|&
operator|~
name|COUNTRY_ERD_FLAG
decl_stmt|;
name|country
operator|=
name|findCountry
argument_list|(
name|cc
argument_list|)
expr_stmt|;
if|if
condition|(
name|country
operator|!=
name|AH_NULL
condition|)
return|return
name|cc
return|;
block|}
comment|/* 	 * Check reg domains that have only one country 	 */
name|regpair
operator|=
name|findRegDmnPair
argument_list|(
name|rd
argument_list|)
expr_stmt|;
return|return
operator|(
name|regpair
operator|!=
name|AH_NULL
operator|)
condition|?
name|regpair
operator|->
name|singleCC
else|:
name|CTRY_DEFAULT
return|;
block|}
end_function

begin_function
specifier|static
name|HAL_BOOL
name|IS_BIT_SET
parameter_list|(
name|int
name|bit
parameter_list|,
specifier|const
name|uint64_t
name|bitmask
index|[]
parameter_list|)
block|{
name|int
name|byteOffset
decl_stmt|,
name|bitnum
decl_stmt|;
name|uint64_t
name|val
decl_stmt|;
name|byteOffset
operator|=
name|bit
operator|/
literal|64
expr_stmt|;
name|bitnum
operator|=
name|bit
operator|-
name|byteOffset
operator|*
literal|64
expr_stmt|;
name|val
operator|=
operator|(
operator|(
name|uint64_t
operator|)
literal|1
operator|)
operator|<<
name|bitnum
expr_stmt|;
return|return
operator|(
name|bitmask
index|[
name|byteOffset
index|]
operator|&
name|val
operator|)
operator|!=
literal|0
return|;
block|}
end_function

begin_function
specifier|static
name|HAL_STATUS
name|getregstate
parameter_list|(
name|struct
name|ath_hal
modifier|*
name|ah
parameter_list|,
name|HAL_CTRY_CODE
name|cc
parameter_list|,
name|HAL_REG_DOMAIN
name|regDmn
parameter_list|,
name|COUNTRY_CODE_TO_ENUM_RD
modifier|*
modifier|*
name|pcountry
parameter_list|,
name|REG_DOMAIN
modifier|*
modifier|*
name|prd2GHz
parameter_list|,
name|REG_DOMAIN
modifier|*
modifier|*
name|prd5GHz
parameter_list|)
block|{
name|COUNTRY_CODE_TO_ENUM_RD
modifier|*
name|country
decl_stmt|;
name|REG_DOMAIN
modifier|*
name|rd5GHz
decl_stmt|,
modifier|*
name|rd2GHz
decl_stmt|;
if|if
condition|(
name|cc
operator|==
name|CTRY_DEFAULT
operator|&&
name|regDmn
operator|==
name|SKU_NONE
condition|)
block|{
comment|/* 		 * Validate the EEPROM setting and setup defaults 		 */
if|if
condition|(
operator|!
name|isEepromValid
argument_list|(
name|ah
argument_list|)
condition|)
block|{
comment|/* 			 * Don't return any channels if the EEPROM has an 			 * invalid regulatory domain/country code setting. 			 */
name|HALDEBUG
argument_list|(
name|ah
argument_list|,
name|HAL_DEBUG_REGDOMAIN
argument_list|,
literal|"%s: invalid EEPROM contents\n"
argument_list|,
name|__func__
argument_list|)
expr_stmt|;
return|return
name|HAL_EEBADREG
return|;
block|}
name|cc
operator|=
name|getDefaultCountry
argument_list|(
name|ah
argument_list|)
expr_stmt|;
name|country
operator|=
name|findCountry
argument_list|(
name|cc
argument_list|)
expr_stmt|;
if|if
condition|(
name|country
operator|==
name|AH_NULL
condition|)
block|{
name|HALDEBUG
argument_list|(
name|ah
argument_list|,
name|HAL_DEBUG_REGDOMAIN
argument_list|,
literal|"NULL Country!, cc %d\n"
argument_list|,
name|cc
argument_list|)
expr_stmt|;
return|return
name|HAL_EEBADCC
return|;
block|}
name|regDmn
operator|=
name|country
operator|->
name|regDmnEnum
expr_stmt|;
name|HALDEBUG
argument_list|(
name|ah
argument_list|,
name|HAL_DEBUG_REGDOMAIN
argument_list|,
literal|"%s: EEPROM cc %u rd 0x%x\n"
argument_list|,
name|__func__
argument_list|,
name|cc
argument_list|,
name|regDmn
argument_list|)
expr_stmt|;
if|if
condition|(
name|country
operator|->
name|countryCode
operator|==
name|CTRY_DEFAULT
condition|)
block|{
comment|/* 			 * Check EEPROM; SKU may be for a country, single 			 * domain, or multiple domains (WWR). 			 */
name|uint16_t
name|rdnum
init|=
name|getEepromRD
argument_list|(
name|ah
argument_list|)
decl_stmt|;
if|if
condition|(
operator|(
name|rdnum
operator|&
name|COUNTRY_ERD_FLAG
operator|)
operator|==
literal|0
operator|&&
operator|(
name|findRegDmn
argument_list|(
name|rdnum
argument_list|)
operator|!=
name|AH_NULL
operator|||
name|findRegDmnPair
argument_list|(
name|rdnum
argument_list|)
operator|!=
name|AH_NULL
operator|)
condition|)
block|{
name|regDmn
operator|=
name|rdnum
expr_stmt|;
name|HALDEBUG
argument_list|(
name|ah
argument_list|,
name|HAL_DEBUG_REGDOMAIN
argument_list|,
literal|"%s: EEPROM rd 0x%x\n"
argument_list|,
name|__func__
argument_list|,
name|rdnum
argument_list|)
expr_stmt|;
block|}
block|}
block|}
else|else
block|{
name|country
operator|=
name|findCountry
argument_list|(
name|cc
argument_list|)
expr_stmt|;
if|if
condition|(
name|country
operator|==
name|AH_NULL
condition|)
block|{
name|HALDEBUG
argument_list|(
name|ah
argument_list|,
name|HAL_DEBUG_REGDOMAIN
argument_list|,
literal|"unknown country, cc %d\n"
argument_list|,
name|cc
argument_list|)
expr_stmt|;
return|return
name|HAL_EINVAL
return|;
block|}
if|if
condition|(
name|regDmn
operator|==
name|SKU_NONE
condition|)
name|regDmn
operator|=
name|country
operator|->
name|regDmnEnum
expr_stmt|;
name|HALDEBUG
argument_list|(
name|ah
argument_list|,
name|HAL_DEBUG_REGDOMAIN
argument_list|,
literal|"%s: cc %u rd 0x%x\n"
argument_list|,
name|__func__
argument_list|,
name|cc
argument_list|,
name|regDmn
argument_list|)
expr_stmt|;
block|}
comment|/* 	 * Setup per-band state. 	 */
if|if
condition|(
operator|(
name|regDmn
operator|&
name|MULTI_DOMAIN_MASK
operator|)
operator|==
literal|0
condition|)
block|{
name|REG_DMN_PAIR_MAPPING
modifier|*
name|regpair
init|=
name|findRegDmnPair
argument_list|(
name|regDmn
argument_list|)
decl_stmt|;
if|if
condition|(
name|regpair
operator|==
name|AH_NULL
condition|)
block|{
name|HALDEBUG
argument_list|(
name|ah
argument_list|,
name|HAL_DEBUG_REGDOMAIN
argument_list|,
literal|"%s: no reg domain pair %u for country %u\n"
argument_list|,
name|__func__
argument_list|,
name|regDmn
argument_list|,
name|country
operator|->
name|countryCode
argument_list|)
expr_stmt|;
return|return
name|HAL_EINVAL
return|;
block|}
name|rd5GHz
operator|=
name|findRegDmn
argument_list|(
name|regpair
operator|->
name|regDmn5GHz
argument_list|)
expr_stmt|;
if|if
condition|(
name|rd5GHz
operator|==
name|AH_NULL
condition|)
block|{
name|HALDEBUG
argument_list|(
name|ah
argument_list|,
name|HAL_DEBUG_REGDOMAIN
argument_list|,
literal|"%s: no 5GHz reg domain %u for country %u\n"
argument_list|,
name|__func__
argument_list|,
name|regpair
operator|->
name|regDmn5GHz
argument_list|,
name|country
operator|->
name|countryCode
argument_list|)
expr_stmt|;
return|return
name|HAL_EINVAL
return|;
block|}
name|rd2GHz
operator|=
name|findRegDmn
argument_list|(
name|regpair
operator|->
name|regDmn2GHz
argument_list|)
expr_stmt|;
if|if
condition|(
name|rd2GHz
operator|==
name|AH_NULL
condition|)
block|{
name|HALDEBUG
argument_list|(
name|ah
argument_list|,
name|HAL_DEBUG_REGDOMAIN
argument_list|,
literal|"%s: no 2GHz reg domain %u for country %u\n"
argument_list|,
name|__func__
argument_list|,
name|regpair
operator|->
name|regDmn2GHz
argument_list|,
name|country
operator|->
name|countryCode
argument_list|)
expr_stmt|;
return|return
name|HAL_EINVAL
return|;
block|}
block|}
else|else
block|{
name|rd5GHz
operator|=
name|rd2GHz
operator|=
name|findRegDmn
argument_list|(
name|regDmn
argument_list|)
expr_stmt|;
if|if
condition|(
name|rd2GHz
operator|==
name|AH_NULL
condition|)
block|{
name|HALDEBUG
argument_list|(
name|ah
argument_list|,
name|HAL_DEBUG_REGDOMAIN
argument_list|,
literal|"%s: no unitary reg domain %u for country %u\n"
argument_list|,
name|__func__
argument_list|,
name|regDmn
argument_list|,
name|country
operator|->
name|countryCode
argument_list|)
expr_stmt|;
return|return
name|HAL_EINVAL
return|;
block|}
block|}
if|if
condition|(
name|pcountry
operator|!=
name|AH_NULL
condition|)
operator|*
name|pcountry
operator|=
name|country
expr_stmt|;
operator|*
name|prd2GHz
operator|=
name|rd2GHz
expr_stmt|;
operator|*
name|prd5GHz
operator|=
name|rd5GHz
expr_stmt|;
return|return
name|HAL_OK
return|;
block|}
end_function

begin_comment
comment|/*  * Construct the channel list for the specified regulatory config.  */
end_comment

begin_function
specifier|static
name|HAL_STATUS
name|getchannels
parameter_list|(
name|struct
name|ath_hal
modifier|*
name|ah
parameter_list|,
name|struct
name|ieee80211_channel
name|chans
index|[]
parameter_list|,
name|u_int
name|maxchans
parameter_list|,
name|int
modifier|*
name|nchans
parameter_list|,
name|u_int
name|modeSelect
parameter_list|,
name|HAL_CTRY_CODE
name|cc
parameter_list|,
name|HAL_REG_DOMAIN
name|regDmn
parameter_list|,
name|HAL_BOOL
name|enableExtendedChannels
parameter_list|,
name|COUNTRY_CODE_TO_ENUM_RD
modifier|*
modifier|*
name|pcountry
parameter_list|,
name|REG_DOMAIN
modifier|*
modifier|*
name|prd2GHz
parameter_list|,
name|REG_DOMAIN
modifier|*
modifier|*
name|prd5GHz
parameter_list|)
block|{
define|#
directive|define
name|CHANNEL_HALF_BW
value|10
define|#
directive|define
name|CHANNEL_QUARTER_BW
value|5
define|#
directive|define
name|HAL_MODE_11A_ALL
define|\
value|(HAL_MODE_11A | HAL_MODE_11A_TURBO | HAL_MODE_TURBO | \ 	 HAL_MODE_11A_QUARTER_RATE | HAL_MODE_11A_HALF_RATE)
name|REG_DOMAIN
modifier|*
name|rd5GHz
decl_stmt|,
modifier|*
name|rd2GHz
decl_stmt|;
name|u_int
name|modesAvail
decl_stmt|;
specifier|const
name|struct
name|cmode
modifier|*
name|cm
decl_stmt|;
name|struct
name|ieee80211_channel
modifier|*
name|ic
decl_stmt|;
name|int
name|next
decl_stmt|,
name|b
decl_stmt|;
name|HAL_STATUS
name|status
decl_stmt|;
name|HALDEBUG
argument_list|(
name|ah
argument_list|,
name|HAL_DEBUG_REGDOMAIN
argument_list|,
literal|"%s: cc %u regDmn 0x%x mode 0x%x%s\n"
argument_list|,
name|__func__
argument_list|,
name|cc
argument_list|,
name|regDmn
argument_list|,
name|modeSelect
argument_list|,
name|enableExtendedChannels
condition|?
literal|" ecm"
else|:
literal|""
argument_list|)
expr_stmt|;
name|status
operator|=
name|getregstate
argument_list|(
name|ah
argument_list|,
name|cc
argument_list|,
name|regDmn
argument_list|,
name|pcountry
argument_list|,
operator|&
name|rd2GHz
argument_list|,
operator|&
name|rd5GHz
argument_list|)
expr_stmt|;
if|if
condition|(
name|status
operator|!=
name|HAL_OK
condition|)
return|return
name|status
return|;
comment|/* get modes that HW is capable of */
name|modesAvail
operator|=
name|ath_hal_getWirelessModes
argument_list|(
name|ah
argument_list|)
expr_stmt|;
comment|/* optimize work below if no 11a channels */
if|if
condition|(
name|isChanBitMaskZero
argument_list|(
name|rd5GHz
operator|->
name|chan11a
argument_list|)
operator|&&
operator|(
name|modesAvail
operator|&
name|HAL_MODE_11A_ALL
operator|)
condition|)
block|{
name|HALDEBUG
argument_list|(
name|ah
argument_list|,
name|HAL_DEBUG_REGDOMAIN
argument_list|,
literal|"%s: disallow all 11a\n"
argument_list|,
name|__func__
argument_list|)
expr_stmt|;
name|modesAvail
operator|&=
operator|~
name|HAL_MODE_11A_ALL
expr_stmt|;
block|}
name|next
operator|=
literal|0
expr_stmt|;
name|ic
operator|=
operator|&
name|chans
index|[
literal|0
index|]
expr_stmt|;
for|for
control|(
name|cm
operator|=
name|modes
init|;
name|cm
operator|<
operator|&
name|modes
index|[
name|N
argument_list|(
name|modes
argument_list|)
index|]
condition|;
name|cm
operator|++
control|)
block|{
name|uint16_t
name|c
decl_stmt|,
name|c_hi
decl_stmt|,
name|c_lo
decl_stmt|;
name|uint64_t
modifier|*
name|channelBM
init|=
name|AH_NULL
decl_stmt|;
name|REG_DMN_FREQ_BAND
modifier|*
name|fband
init|=
name|AH_NULL
decl_stmt|,
modifier|*
name|freqs
decl_stmt|;
name|int
name|low_adj
decl_stmt|,
name|hi_adj
decl_stmt|,
name|channelSep
decl_stmt|,
name|lastc
decl_stmt|;
name|uint32_t
name|rdflags
decl_stmt|;
name|uint64_t
name|dfsMask
decl_stmt|;
name|uint64_t
name|pscan
decl_stmt|;
if|if
condition|(
operator|(
name|cm
operator|->
name|mode
operator|&
name|modeSelect
operator|)
operator|==
literal|0
condition|)
block|{
name|HALDEBUG
argument_list|(
name|ah
argument_list|,
name|HAL_DEBUG_REGDOMAIN
argument_list|,
literal|"%s: skip mode 0x%x flags 0x%x\n"
argument_list|,
name|__func__
argument_list|,
name|cm
operator|->
name|mode
argument_list|,
name|cm
operator|->
name|flags
argument_list|)
expr_stmt|;
continue|continue;
block|}
if|if
condition|(
operator|(
name|cm
operator|->
name|mode
operator|&
name|modesAvail
operator|)
operator|==
literal|0
condition|)
block|{
name|HALDEBUG
argument_list|(
name|ah
argument_list|,
name|HAL_DEBUG_REGDOMAIN
argument_list|,
literal|"%s: !avail mode 0x%x (0x%x) flags 0x%x\n"
argument_list|,
name|__func__
argument_list|,
name|modesAvail
argument_list|,
name|cm
operator|->
name|mode
argument_list|,
name|cm
operator|->
name|flags
argument_list|)
expr_stmt|;
continue|continue;
block|}
if|if
condition|(
operator|!
name|ath_hal_getChannelEdges
argument_list|(
name|ah
argument_list|,
name|cm
operator|->
name|flags
argument_list|,
operator|&
name|c_lo
argument_list|,
operator|&
name|c_hi
argument_list|)
condition|)
block|{
comment|/* channel not supported by hardware, skip it */
name|HALDEBUG
argument_list|(
name|ah
argument_list|,
name|HAL_DEBUG_REGDOMAIN
argument_list|,
literal|"%s: channels 0x%x not supported by hardware\n"
argument_list|,
name|__func__
argument_list|,
name|cm
operator|->
name|flags
argument_list|)
expr_stmt|;
continue|continue;
block|}
switch|switch
condition|(
name|cm
operator|->
name|mode
condition|)
block|{
case|case
name|HAL_MODE_TURBO
case|:
case|case
name|HAL_MODE_11A_TURBO
case|:
name|rdflags
operator|=
name|rd5GHz
operator|->
name|flags
expr_stmt|;
name|dfsMask
operator|=
name|rd5GHz
operator|->
name|dfsMask
expr_stmt|;
name|pscan
operator|=
name|rd5GHz
operator|->
name|pscan
expr_stmt|;
if|if
condition|(
name|cm
operator|->
name|mode
operator|==
name|HAL_MODE_TURBO
condition|)
name|channelBM
operator|=
name|rd5GHz
operator|->
name|chan11a_turbo
expr_stmt|;
else|else
name|channelBM
operator|=
name|rd5GHz
operator|->
name|chan11a_dyn_turbo
expr_stmt|;
name|freqs
operator|=
operator|&
name|regDmn5GhzTurboFreq
index|[
literal|0
index|]
expr_stmt|;
break|break;
case|case
name|HAL_MODE_11G_TURBO
case|:
name|rdflags
operator|=
name|rd2GHz
operator|->
name|flags
expr_stmt|;
name|dfsMask
operator|=
name|rd2GHz
operator|->
name|dfsMask
expr_stmt|;
name|pscan
operator|=
name|rd2GHz
operator|->
name|pscan
expr_stmt|;
name|channelBM
operator|=
name|rd2GHz
operator|->
name|chan11g_turbo
expr_stmt|;
name|freqs
operator|=
operator|&
name|regDmn2Ghz11gTurboFreq
index|[
literal|0
index|]
expr_stmt|;
break|break;
case|case
name|HAL_MODE_11A
case|:
case|case
name|HAL_MODE_11A_HALF_RATE
case|:
case|case
name|HAL_MODE_11A_QUARTER_RATE
case|:
case|case
name|HAL_MODE_11NA_HT20
case|:
case|case
name|HAL_MODE_11NA_HT40PLUS
case|:
case|case
name|HAL_MODE_11NA_HT40MINUS
case|:
name|rdflags
operator|=
name|rd5GHz
operator|->
name|flags
expr_stmt|;
name|dfsMask
operator|=
name|rd5GHz
operator|->
name|dfsMask
expr_stmt|;
name|pscan
operator|=
name|rd5GHz
operator|->
name|pscan
expr_stmt|;
if|if
condition|(
name|cm
operator|->
name|mode
operator|==
name|HAL_MODE_11A_HALF_RATE
condition|)
name|channelBM
operator|=
name|rd5GHz
operator|->
name|chan11a_half
expr_stmt|;
elseif|else
if|if
condition|(
name|cm
operator|->
name|mode
operator|==
name|HAL_MODE_11A_QUARTER_RATE
condition|)
name|channelBM
operator|=
name|rd5GHz
operator|->
name|chan11a_quarter
expr_stmt|;
else|else
name|channelBM
operator|=
name|rd5GHz
operator|->
name|chan11a
expr_stmt|;
name|freqs
operator|=
operator|&
name|regDmn5GhzFreq
index|[
literal|0
index|]
expr_stmt|;
break|break;
case|case
name|HAL_MODE_11B
case|:
case|case
name|HAL_MODE_11G
case|:
case|case
name|HAL_MODE_11G_HALF_RATE
case|:
case|case
name|HAL_MODE_11G_QUARTER_RATE
case|:
case|case
name|HAL_MODE_11NG_HT20
case|:
case|case
name|HAL_MODE_11NG_HT40PLUS
case|:
case|case
name|HAL_MODE_11NG_HT40MINUS
case|:
name|rdflags
operator|=
name|rd2GHz
operator|->
name|flags
expr_stmt|;
name|dfsMask
operator|=
name|rd2GHz
operator|->
name|dfsMask
expr_stmt|;
name|pscan
operator|=
name|rd2GHz
operator|->
name|pscan
expr_stmt|;
if|if
condition|(
name|cm
operator|->
name|mode
operator|==
name|HAL_MODE_11G_HALF_RATE
condition|)
name|channelBM
operator|=
name|rd2GHz
operator|->
name|chan11g_half
expr_stmt|;
elseif|else
if|if
condition|(
name|cm
operator|->
name|mode
operator|==
name|HAL_MODE_11G_QUARTER_RATE
condition|)
name|channelBM
operator|=
name|rd2GHz
operator|->
name|chan11g_quarter
expr_stmt|;
elseif|else
if|if
condition|(
name|cm
operator|->
name|mode
operator|==
name|HAL_MODE_11B
condition|)
name|channelBM
operator|=
name|rd2GHz
operator|->
name|chan11b
expr_stmt|;
else|else
name|channelBM
operator|=
name|rd2GHz
operator|->
name|chan11g
expr_stmt|;
if|if
condition|(
name|cm
operator|->
name|mode
operator|==
name|HAL_MODE_11B
condition|)
name|freqs
operator|=
operator|&
name|regDmn2GhzFreq
index|[
literal|0
index|]
expr_stmt|;
else|else
name|freqs
operator|=
operator|&
name|regDmn2Ghz11gFreq
index|[
literal|0
index|]
expr_stmt|;
break|break;
default|default:
name|HALDEBUG
argument_list|(
name|ah
argument_list|,
name|HAL_DEBUG_REGDOMAIN
argument_list|,
literal|"%s: Unkonwn HAL mode 0x%x\n"
argument_list|,
name|__func__
argument_list|,
name|cm
operator|->
name|mode
argument_list|)
expr_stmt|;
continue|continue;
block|}
if|if
condition|(
name|isChanBitMaskZero
argument_list|(
name|channelBM
argument_list|)
condition|)
continue|continue;
comment|/* 		 * Setup special handling for HT40 channels; e.g. 		 * 5G HT40 channels require 40Mhz channel separation. 		 */
name|hi_adj
operator|=
operator|(
name|cm
operator|->
name|mode
operator|==
name|HAL_MODE_11NA_HT40PLUS
operator|||
name|cm
operator|->
name|mode
operator|==
name|HAL_MODE_11NG_HT40PLUS
operator|)
condition|?
operator|-
literal|20
else|:
literal|0
expr_stmt|;
name|low_adj
operator|=
operator|(
name|cm
operator|->
name|mode
operator|==
name|HAL_MODE_11NA_HT40MINUS
operator|||
name|cm
operator|->
name|mode
operator|==
name|HAL_MODE_11NG_HT40MINUS
operator|)
condition|?
literal|20
else|:
literal|0
expr_stmt|;
name|channelSep
operator|=
operator|(
name|cm
operator|->
name|mode
operator|==
name|HAL_MODE_11NA_HT40PLUS
operator|||
name|cm
operator|->
name|mode
operator|==
name|HAL_MODE_11NA_HT40MINUS
operator|)
condition|?
literal|40
else|:
literal|0
expr_stmt|;
for|for
control|(
name|b
operator|=
literal|0
init|;
name|b
operator|<
literal|64
operator|*
name|BMLEN
condition|;
name|b
operator|++
control|)
block|{
if|if
condition|(
operator|!
name|IS_BIT_SET
argument_list|(
name|b
argument_list|,
name|channelBM
argument_list|)
condition|)
continue|continue;
name|fband
operator|=
operator|&
name|freqs
index|[
name|b
index|]
expr_stmt|;
name|lastc
operator|=
literal|0
expr_stmt|;
for|for
control|(
name|c
operator|=
name|fband
operator|->
name|lowChannel
operator|+
name|low_adj
init|;
name|c
operator|<=
name|fband
operator|->
name|highChannel
operator|+
name|hi_adj
condition|;
name|c
operator|+=
name|fband
operator|->
name|channelSep
control|)
block|{
if|if
condition|(
operator|!
operator|(
name|c_lo
operator|<=
name|c
operator|&&
name|c
operator|<=
name|c_hi
operator|)
condition|)
block|{
name|HALDEBUG
argument_list|(
name|ah
argument_list|,
name|HAL_DEBUG_REGDOMAIN
argument_list|,
literal|"%s: c %u out of range [%u..%u]\n"
argument_list|,
name|__func__
argument_list|,
name|c
argument_list|,
name|c_lo
argument_list|,
name|c_hi
argument_list|)
expr_stmt|;
continue|continue;
block|}
if|if
condition|(
name|next
operator|>=
name|maxchans
condition|)
block|{
name|HALDEBUG
argument_list|(
name|ah
argument_list|,
name|HAL_DEBUG_REGDOMAIN
argument_list|,
literal|"%s: too many channels for channel table\n"
argument_list|,
name|__func__
argument_list|)
expr_stmt|;
goto|goto
name|done
goto|;
block|}
if|if
condition|(
operator|(
name|fband
operator|->
name|usePassScan
operator|&
name|IS_ECM_CHAN
operator|)
operator|&&
operator|!
name|enableExtendedChannels
condition|)
block|{
name|HALDEBUG
argument_list|(
name|ah
argument_list|,
name|HAL_DEBUG_REGDOMAIN
argument_list|,
literal|"skip ecm channel\n"
argument_list|)
expr_stmt|;
continue|continue;
block|}
if|if
condition|(
operator|(
name|fband
operator|->
name|useDfs
operator|&
name|dfsMask
operator|)
operator|&&
operator|(
name|cm
operator|->
name|flags
operator|&
name|IEEE80211_CHAN_HT40
operator|)
condition|)
block|{
comment|/* NB: DFS and HT40 don't mix */
name|HALDEBUG
argument_list|(
name|ah
argument_list|,
name|HAL_DEBUG_REGDOMAIN
argument_list|,
literal|"skip HT40 chan, DFS required\n"
argument_list|)
expr_stmt|;
continue|continue;
block|}
comment|/* 				 * Make sure that channel separation 				 * meets the requirement. 				 */
if|if
condition|(
name|lastc
operator|&&
name|channelSep
operator|&&
operator|(
name|c
operator|-
name|lastc
operator|)
operator|<
name|channelSep
condition|)
continue|continue;
name|lastc
operator|=
name|c
expr_stmt|;
name|OS_MEMZERO
argument_list|(
name|ic
argument_list|,
sizeof|sizeof
argument_list|(
operator|*
name|ic
argument_list|)
argument_list|)
expr_stmt|;
name|ic
operator|->
name|ic_freq
operator|=
name|c
expr_stmt|;
name|ic
operator|->
name|ic_flags
operator|=
name|cm
operator|->
name|flags
expr_stmt|;
name|ic
operator|->
name|ic_maxregpower
operator|=
name|fband
operator|->
name|powerDfs
expr_stmt|;
name|ath_hal_getpowerlimits
argument_list|(
name|ah
argument_list|,
name|ic
argument_list|)
expr_stmt|;
name|ic
operator|->
name|ic_maxantgain
operator|=
name|fband
operator|->
name|antennaMax
expr_stmt|;
if|if
condition|(
name|fband
operator|->
name|usePassScan
operator|&
name|pscan
condition|)
name|ic
operator|->
name|ic_flags
operator||=
name|IEEE80211_CHAN_PASSIVE
expr_stmt|;
if|if
condition|(
name|fband
operator|->
name|useDfs
operator|&
name|dfsMask
condition|)
name|ic
operator|->
name|ic_flags
operator||=
name|IEEE80211_CHAN_DFS
expr_stmt|;
if|if
condition|(
name|IEEE80211_IS_CHAN_5GHZ
argument_list|(
name|ic
argument_list|)
operator|&&
operator|(
name|rdflags
operator|&
name|DISALLOW_ADHOC_11A
operator|)
condition|)
name|ic
operator|->
name|ic_flags
operator||=
name|IEEE80211_CHAN_NOADHOC
expr_stmt|;
if|if
condition|(
name|IEEE80211_IS_CHAN_TURBO
argument_list|(
name|ic
argument_list|)
operator|&&
operator|(
name|rdflags
operator|&
name|DISALLOW_ADHOC_11A_TURB
operator|)
condition|)
name|ic
operator|->
name|ic_flags
operator||=
name|IEEE80211_CHAN_NOADHOC
expr_stmt|;
if|if
condition|(
name|rdflags
operator|&
name|NO_HOSTAP
condition|)
name|ic
operator|->
name|ic_flags
operator||=
name|IEEE80211_CHAN_NOHOSTAP
expr_stmt|;
if|if
condition|(
name|rdflags
operator|&
name|LIMIT_FRAME_4MS
condition|)
name|ic
operator|->
name|ic_flags
operator||=
name|IEEE80211_CHAN_4MSXMIT
expr_stmt|;
if|if
condition|(
name|rdflags
operator|&
name|NEED_NFC
condition|)
name|ic
operator|->
name|ic_flags
operator||=
name|CHANNEL_NFCREQUIRED
expr_stmt|;
name|ic
operator|++
operator|,
name|next
operator|++
expr_stmt|;
block|}
block|}
block|}
name|done
label|:
operator|*
name|nchans
operator|=
name|next
expr_stmt|;
comment|/* NB: pcountry set above by getregstate */
if|if
condition|(
name|prd2GHz
operator|!=
name|AH_NULL
condition|)
operator|*
name|prd2GHz
operator|=
name|rd2GHz
expr_stmt|;
if|if
condition|(
name|prd5GHz
operator|!=
name|AH_NULL
condition|)
operator|*
name|prd5GHz
operator|=
name|rd5GHz
expr_stmt|;
return|return
name|HAL_OK
return|;
undef|#
directive|undef
name|HAL_MODE_11A_ALL
undef|#
directive|undef
name|CHANNEL_HALF_BW
undef|#
directive|undef
name|CHANNEL_QUARTER_BW
block|}
end_function

begin_comment
comment|/*  * Retrieve a channel list without affecting runtime state.  */
end_comment

begin_function
name|HAL_STATUS
name|ath_hal_getchannels
parameter_list|(
name|struct
name|ath_hal
modifier|*
name|ah
parameter_list|,
name|struct
name|ieee80211_channel
name|chans
index|[]
parameter_list|,
name|u_int
name|maxchans
parameter_list|,
name|int
modifier|*
name|nchans
parameter_list|,
name|u_int
name|modeSelect
parameter_list|,
name|HAL_CTRY_CODE
name|cc
parameter_list|,
name|HAL_REG_DOMAIN
name|regDmn
parameter_list|,
name|HAL_BOOL
name|enableExtendedChannels
parameter_list|)
block|{
return|return
name|getchannels
argument_list|(
name|ah
argument_list|,
name|chans
argument_list|,
name|maxchans
argument_list|,
name|nchans
argument_list|,
name|modeSelect
argument_list|,
name|cc
argument_list|,
name|regDmn
argument_list|,
name|enableExtendedChannels
argument_list|,
name|AH_NULL
argument_list|,
name|AH_NULL
argument_list|,
name|AH_NULL
argument_list|)
return|;
block|}
end_function

begin_comment
comment|/*  * Handle frequency mapping from 900Mhz range to 2.4GHz range  * for GSM radios.  This is done when we need the h/w frequency  * and the channel is marked IEEE80211_CHAN_GSM.  */
end_comment

begin_function
specifier|static
name|int
name|ath_hal_mapgsm
parameter_list|(
name|int
name|sku
parameter_list|,
name|int
name|freq
parameter_list|)
block|{
if|if
condition|(
name|sku
operator|==
name|SKU_XR9
condition|)
return|return
literal|1520
operator|+
name|freq
return|;
if|if
condition|(
name|sku
operator|==
name|SKU_GZ901
condition|)
return|return
literal|1544
operator|+
name|freq
return|;
if|if
condition|(
name|sku
operator|==
name|SKU_SR9
condition|)
return|return
literal|3344
operator|-
name|freq
return|;
name|HALDEBUG
argument_list|(
name|AH_NULL
argument_list|,
name|HAL_DEBUG_ANY
argument_list|,
literal|"%s: cannot map freq %u unknown gsm sku %u\n"
argument_list|,
name|__func__
argument_list|,
name|freq
argument_list|,
name|sku
argument_list|)
expr_stmt|;
return|return
name|freq
return|;
block|}
end_function

begin_comment
comment|/*  * Setup the internal/private channel state given a table of  * net80211 channels.  We collapse entries for the same frequency  * and record the frequency for doing noise floor processing  * where we don't have net80211 channel context.  */
end_comment

begin_function
specifier|static
name|HAL_BOOL
name|assignPrivateChannels
parameter_list|(
name|struct
name|ath_hal
modifier|*
name|ah
parameter_list|,
name|struct
name|ieee80211_channel
name|chans
index|[]
parameter_list|,
name|int
name|nchans
parameter_list|,
name|int
name|sku
parameter_list|)
block|{
name|HAL_CHANNEL_INTERNAL
modifier|*
name|ic
decl_stmt|;
name|int
name|i
decl_stmt|,
name|j
decl_stmt|,
name|next
decl_stmt|,
name|freq
decl_stmt|;
name|next
operator|=
literal|0
expr_stmt|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
name|nchans
condition|;
name|i
operator|++
control|)
block|{
name|struct
name|ieee80211_channel
modifier|*
name|c
init|=
operator|&
name|chans
index|[
name|i
index|]
decl_stmt|;
for|for
control|(
name|j
operator|=
name|i
operator|-
literal|1
init|;
name|j
operator|>=
literal|0
condition|;
name|j
operator|--
control|)
if|if
condition|(
name|chans
index|[
name|j
index|]
operator|.
name|ic_freq
operator|==
name|c
operator|->
name|ic_freq
condition|)
block|{
name|c
operator|->
name|ic_devdata
operator|=
name|chans
index|[
name|j
index|]
operator|.
name|ic_devdata
expr_stmt|;
break|break;
block|}
if|if
condition|(
name|j
operator|<
literal|0
condition|)
block|{
comment|/* new entry, assign a private channel entry */
if|if
condition|(
name|next
operator|>=
name|N
argument_list|(
name|AH_PRIVATE
argument_list|(
name|ah
argument_list|)
operator|->
name|ah_channels
argument_list|)
condition|)
block|{
name|HALDEBUG
argument_list|(
name|ah
argument_list|,
name|HAL_DEBUG_ANY
argument_list|,
literal|"%s: too many channels, max %zu\n"
argument_list|,
name|__func__
argument_list|,
name|N
argument_list|(
name|AH_PRIVATE
argument_list|(
name|ah
argument_list|)
operator|->
name|ah_channels
argument_list|)
argument_list|)
expr_stmt|;
return|return
name|AH_FALSE
return|;
block|}
comment|/* 			 * Handle frequency mapping for 900MHz devices. 			 * The hardware uses 2.4GHz frequencies that are 			 * down-converted.  The 802.11 layer uses the 			 * true frequencies. 			 */
name|freq
operator|=
name|IEEE80211_IS_CHAN_GSM
argument_list|(
name|c
argument_list|)
condition|?
name|ath_hal_mapgsm
argument_list|(
name|sku
argument_list|,
name|c
operator|->
name|ic_freq
argument_list|)
else|:
name|c
operator|->
name|ic_freq
expr_stmt|;
name|HALDEBUG
argument_list|(
name|ah
argument_list|,
name|HAL_DEBUG_REGDOMAIN
argument_list|,
literal|"%s: private[%3u] %u/0x%x -> channel %u\n"
argument_list|,
name|__func__
argument_list|,
name|next
argument_list|,
name|c
operator|->
name|ic_freq
argument_list|,
name|c
operator|->
name|ic_flags
argument_list|,
name|freq
argument_list|)
expr_stmt|;
name|ic
operator|=
operator|&
name|AH_PRIVATE
argument_list|(
name|ah
argument_list|)
operator|->
name|ah_channels
index|[
name|next
index|]
expr_stmt|;
comment|/* 			 * NB: This clears privFlags which means ancillary 			 *     code like ANI and IQ calibration will be 			 *     restarted and re-setup any per-channel state. 			 */
name|OS_MEMZERO
argument_list|(
name|ic
argument_list|,
sizeof|sizeof
argument_list|(
operator|*
name|ic
argument_list|)
argument_list|)
expr_stmt|;
name|ic
operator|->
name|channel
operator|=
name|freq
expr_stmt|;
name|c
operator|->
name|ic_devdata
operator|=
name|next
expr_stmt|;
name|next
operator|++
expr_stmt|;
block|}
block|}
name|AH_PRIVATE
argument_list|(
name|ah
argument_list|)
operator|->
name|ah_nchan
operator|=
name|next
expr_stmt|;
name|HALDEBUG
argument_list|(
name|ah
argument_list|,
name|HAL_DEBUG_ANY
argument_list|,
literal|"%s: %u public, %u private channels\n"
argument_list|,
name|__func__
argument_list|,
name|nchans
argument_list|,
name|next
argument_list|)
expr_stmt|;
return|return
name|AH_TRUE
return|;
block|}
end_function

begin_comment
comment|/*  * Setup the channel list based on the information in the EEPROM.  */
end_comment

begin_function
name|HAL_STATUS
name|ath_hal_init_channels
parameter_list|(
name|struct
name|ath_hal
modifier|*
name|ah
parameter_list|,
name|struct
name|ieee80211_channel
name|chans
index|[]
parameter_list|,
name|u_int
name|maxchans
parameter_list|,
name|int
modifier|*
name|nchans
parameter_list|,
name|u_int
name|modeSelect
parameter_list|,
name|HAL_CTRY_CODE
name|cc
parameter_list|,
name|HAL_REG_DOMAIN
name|regDmn
parameter_list|,
name|HAL_BOOL
name|enableExtendedChannels
parameter_list|)
block|{
name|COUNTRY_CODE_TO_ENUM_RD
modifier|*
name|country
decl_stmt|;
name|REG_DOMAIN
modifier|*
name|rd5GHz
decl_stmt|,
modifier|*
name|rd2GHz
decl_stmt|;
name|HAL_STATUS
name|status
decl_stmt|;
name|status
operator|=
name|getchannels
argument_list|(
name|ah
argument_list|,
name|chans
argument_list|,
name|maxchans
argument_list|,
name|nchans
argument_list|,
name|modeSelect
argument_list|,
name|cc
argument_list|,
name|regDmn
argument_list|,
name|enableExtendedChannels
argument_list|,
operator|&
name|country
argument_list|,
operator|&
name|rd2GHz
argument_list|,
operator|&
name|rd5GHz
argument_list|)
expr_stmt|;
if|if
condition|(
name|status
operator|==
name|HAL_OK
operator|&&
name|assignPrivateChannels
argument_list|(
name|ah
argument_list|,
name|chans
argument_list|,
operator|*
name|nchans
argument_list|,
name|AH_PRIVATE
argument_list|(
name|ah
argument_list|)
operator|->
name|ah_currentRD
argument_list|)
condition|)
block|{
name|AH_PRIVATE
argument_list|(
name|ah
argument_list|)
operator|->
name|ah_rd2GHz
operator|=
name|rd2GHz
expr_stmt|;
name|AH_PRIVATE
argument_list|(
name|ah
argument_list|)
operator|->
name|ah_rd5GHz
operator|=
name|rd5GHz
expr_stmt|;
name|ah
operator|->
name|ah_countryCode
operator|=
name|country
operator|->
name|countryCode
expr_stmt|;
name|HALDEBUG
argument_list|(
name|ah
argument_list|,
name|HAL_DEBUG_REGDOMAIN
argument_list|,
literal|"%s: cc %u\n"
argument_list|,
name|__func__
argument_list|,
name|ah
operator|->
name|ah_countryCode
argument_list|)
expr_stmt|;
block|}
else|else
name|status
operator|=
name|HAL_EINVAL
expr_stmt|;
return|return
name|status
return|;
block|}
end_function

begin_comment
comment|/*  * Set the channel list.  */
end_comment

begin_function
name|HAL_STATUS
name|ath_hal_set_channels
parameter_list|(
name|struct
name|ath_hal
modifier|*
name|ah
parameter_list|,
name|struct
name|ieee80211_channel
name|chans
index|[]
parameter_list|,
name|int
name|nchans
parameter_list|,
name|HAL_CTRY_CODE
name|cc
parameter_list|,
name|HAL_REG_DOMAIN
name|rd
parameter_list|)
block|{
name|COUNTRY_CODE_TO_ENUM_RD
modifier|*
name|country
decl_stmt|;
name|REG_DOMAIN
modifier|*
name|rd5GHz
decl_stmt|,
modifier|*
name|rd2GHz
decl_stmt|;
name|HAL_STATUS
name|status
decl_stmt|;
switch|switch
condition|(
name|rd
condition|)
block|{
case|case
name|SKU_SR9
case|:
case|case
name|SKU_XR9
case|:
case|case
name|SKU_GZ901
case|:
comment|/* 		 * Map 900MHz sku's.  The frequencies will be mapped 		 * according to the sku to compensate for the down-converter. 		 * We use the FCC for these sku's as the mapped channel 		 * list is known compatible (will need to change if/when 		 * vendors do different mapping in different locales). 		 */
name|status
operator|=
name|getregstate
argument_list|(
name|ah
argument_list|,
name|CTRY_DEFAULT
argument_list|,
name|SKU_FCC
argument_list|,
operator|&
name|country
argument_list|,
operator|&
name|rd2GHz
argument_list|,
operator|&
name|rd5GHz
argument_list|)
expr_stmt|;
break|break;
default|default:
name|status
operator|=
name|getregstate
argument_list|(
name|ah
argument_list|,
name|cc
argument_list|,
name|rd
argument_list|,
operator|&
name|country
argument_list|,
operator|&
name|rd2GHz
argument_list|,
operator|&
name|rd5GHz
argument_list|)
expr_stmt|;
name|rd
operator|=
name|AH_PRIVATE
argument_list|(
name|ah
argument_list|)
operator|->
name|ah_currentRD
expr_stmt|;
break|break;
block|}
if|if
condition|(
name|status
operator|==
name|HAL_OK
operator|&&
name|assignPrivateChannels
argument_list|(
name|ah
argument_list|,
name|chans
argument_list|,
name|nchans
argument_list|,
name|rd
argument_list|)
condition|)
block|{
name|AH_PRIVATE
argument_list|(
name|ah
argument_list|)
operator|->
name|ah_rd2GHz
operator|=
name|rd2GHz
expr_stmt|;
name|AH_PRIVATE
argument_list|(
name|ah
argument_list|)
operator|->
name|ah_rd5GHz
operator|=
name|rd5GHz
expr_stmt|;
name|ah
operator|->
name|ah_countryCode
operator|=
name|country
operator|->
name|countryCode
expr_stmt|;
name|HALDEBUG
argument_list|(
name|ah
argument_list|,
name|HAL_DEBUG_REGDOMAIN
argument_list|,
literal|"%s: cc %u\n"
argument_list|,
name|__func__
argument_list|,
name|ah
operator|->
name|ah_countryCode
argument_list|)
expr_stmt|;
block|}
else|else
name|status
operator|=
name|HAL_EINVAL
expr_stmt|;
return|return
name|status
return|;
block|}
end_function

begin_ifdef
ifdef|#
directive|ifdef
name|AH_DEBUG
end_ifdef

begin_comment
comment|/*  * Return the internal channel corresponding to a public channel.  * NB: normally this routine is inline'd (see ah_internal.h)  */
end_comment

begin_function
name|HAL_CHANNEL_INTERNAL
modifier|*
name|ath_hal_checkchannel
parameter_list|(
name|struct
name|ath_hal
modifier|*
name|ah
parameter_list|,
specifier|const
name|struct
name|ieee80211_channel
modifier|*
name|c
parameter_list|)
block|{
name|HAL_CHANNEL_INTERNAL
modifier|*
name|cc
init|=
operator|&
name|AH_PRIVATE
argument_list|(
name|ah
argument_list|)
operator|->
name|ah_channels
index|[
name|c
operator|->
name|ic_devdata
index|]
decl_stmt|;
if|if
condition|(
name|c
operator|->
name|ic_devdata
operator|<
name|AH_PRIVATE
argument_list|(
name|ah
argument_list|)
operator|->
name|ah_nchan
operator|&&
operator|(
name|c
operator|->
name|ic_freq
operator|==
name|cc
operator|->
name|channel
operator|||
name|IEEE80211_IS_CHAN_GSM
argument_list|(
name|c
argument_list|)
operator|)
condition|)
return|return
name|cc
return|;
if|if
condition|(
name|c
operator|->
name|ic_devdata
operator|>=
name|AH_PRIVATE
argument_list|(
name|ah
argument_list|)
operator|->
name|ah_nchan
condition|)
block|{
name|HALDEBUG
argument_list|(
name|ah
argument_list|,
name|HAL_DEBUG_ANY
argument_list|,
literal|"%s: bad mapping, devdata %u nchans %u\n"
argument_list|,
name|__func__
argument_list|,
name|c
operator|->
name|ic_devdata
argument_list|,
name|AH_PRIVATE
argument_list|(
name|ah
argument_list|)
operator|->
name|ah_nchan
argument_list|)
expr_stmt|;
name|HALASSERT
argument_list|(
name|c
operator|->
name|ic_devdata
operator|<
name|AH_PRIVATE
argument_list|(
name|ah
argument_list|)
operator|->
name|ah_nchan
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|HALDEBUG
argument_list|(
name|ah
argument_list|,
name|HAL_DEBUG_ANY
argument_list|,
literal|"%s: no match for %u/0x%x devdata %u channel %u\n"
argument_list|,
name|__func__
argument_list|,
name|c
operator|->
name|ic_freq
argument_list|,
name|c
operator|->
name|ic_flags
argument_list|,
name|c
operator|->
name|ic_devdata
argument_list|,
name|cc
operator|->
name|channel
argument_list|)
expr_stmt|;
name|HALASSERT
argument_list|(
name|c
operator|->
name|ic_freq
operator|==
name|cc
operator|->
name|channel
operator|||
name|IEEE80211_IS_CHAN_GSM
argument_list|(
name|c
argument_list|)
argument_list|)
expr_stmt|;
block|}
return|return
name|AH_NULL
return|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* AH_DEBUG */
end_comment

begin_define
define|#
directive|define
name|isWwrSKU
parameter_list|(
name|_ah
parameter_list|)
define|\
value|((getEepromRD((_ah))& WORLD_SKU_MASK) == WORLD_SKU_PREFIX || \ 	  getEepromRD(_ah) == WORLD)
end_define

begin_comment
comment|/*  * Return the test group for the specific channel based on  * the current regulatory setup.  */
end_comment

begin_function
name|u_int
name|ath_hal_getctl
parameter_list|(
name|struct
name|ath_hal
modifier|*
name|ah
parameter_list|,
specifier|const
name|struct
name|ieee80211_channel
modifier|*
name|c
parameter_list|)
block|{
name|u_int
name|ctl
decl_stmt|;
if|if
condition|(
name|AH_PRIVATE
argument_list|(
name|ah
argument_list|)
operator|->
name|ah_rd2GHz
operator|==
name|AH_PRIVATE
argument_list|(
name|ah
argument_list|)
operator|->
name|ah_rd5GHz
operator|||
operator|(
name|ah
operator|->
name|ah_countryCode
operator|==
name|CTRY_DEFAULT
operator|&&
name|isWwrSKU
argument_list|(
name|ah
argument_list|)
operator|)
condition|)
name|ctl
operator|=
name|SD_NO_CTL
expr_stmt|;
elseif|else
if|if
condition|(
name|IEEE80211_IS_CHAN_2GHZ
argument_list|(
name|c
argument_list|)
condition|)
name|ctl
operator|=
name|AH_PRIVATE
argument_list|(
name|ah
argument_list|)
operator|->
name|ah_rd2GHz
operator|->
name|conformanceTestLimit
expr_stmt|;
else|else
name|ctl
operator|=
name|AH_PRIVATE
argument_list|(
name|ah
argument_list|)
operator|->
name|ah_rd5GHz
operator|->
name|conformanceTestLimit
expr_stmt|;
if|if
condition|(
name|IEEE80211_IS_CHAN_B
argument_list|(
name|c
argument_list|)
condition|)
return|return
name|ctl
operator||
name|CTL_11B
return|;
if|if
condition|(
name|IEEE80211_IS_CHAN_G
argument_list|(
name|c
argument_list|)
condition|)
return|return
name|ctl
operator||
name|CTL_11G
return|;
if|if
condition|(
name|IEEE80211_IS_CHAN_108G
argument_list|(
name|c
argument_list|)
condition|)
return|return
name|ctl
operator||
name|CTL_108G
return|;
if|if
condition|(
name|IEEE80211_IS_CHAN_TURBO
argument_list|(
name|c
argument_list|)
condition|)
return|return
name|ctl
operator||
name|CTL_TURBO
return|;
if|if
condition|(
name|IEEE80211_IS_CHAN_A
argument_list|(
name|c
argument_list|)
condition|)
return|return
name|ctl
operator||
name|CTL_11A
return|;
return|return
name|ctl
return|;
block|}
end_function

begin_comment
comment|/*  * Return the max allowed antenna gain and apply any regulatory  * domain specific changes.  *  * NOTE: a negative reduction is possible in RD's that only  * measure radiated power (e.g., ETSI) which would increase  * that actual conducted output power (though never beyond  * the calibrated target power).  */
end_comment

begin_function
name|u_int
name|ath_hal_getantennareduction
parameter_list|(
name|struct
name|ath_hal
modifier|*
name|ah
parameter_list|,
specifier|const
name|struct
name|ieee80211_channel
modifier|*
name|chan
parameter_list|,
name|u_int
name|twiceGain
parameter_list|)
block|{
name|int8_t
name|antennaMax
init|=
name|twiceGain
operator|-
name|chan
operator|->
name|ic_maxantgain
operator|*
literal|2
decl_stmt|;
return|return
operator|(
name|antennaMax
operator|<
literal|0
operator|)
condition|?
literal|0
else|:
name|antennaMax
return|;
block|}
end_function

end_unit

