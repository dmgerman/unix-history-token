begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*  *  * ===================================  * HARP  |  Host ATM Research Platform  * ===================================  *  *  * This Host ATM Research Platform ("HARP") file (the "Software") is  * made available by Network Computing Services, Inc. ("NetworkCS")  * "AS IS".  NetworkCS does not provide maintenance, improvements or  * support of any kind.  *  * NETWORKCS MAKES NO WARRANTIES OR REPRESENTATIONS, EXPRESS OR IMPLIED,  * INCLUDING, BUT NOT LIMITED TO, IMPLIED WARRANTIES OF MERCHANTABILITY  * AND FITNESS FOR A PARTICULAR PURPOSE, AS TO ANY ELEMENT OF THE  * SOFTWARE OR ANY SUPPORT PROVIDED IN CONNECTION WITH THIS SOFTWARE.  * In no event shall NetworkCS be responsible for any damages, including  * but not limited to consequential damages, arising from or relating to  * any use of the Software or related support.  *  * Copyright 1994-1998 Network Computing Services, Inc.  *  * Copies of this Software may be made, however, the above copyright  * notice must be reproduced on all copies.  *  *	@(#) $FreeBSD$  *  */
end_comment

begin_comment
comment|/*  * SPANS Signalling Manager  * ---------------------------  *  * SPANS Print Routines.  *  */
end_comment

begin_include
include|#
directive|include
file|<netatm/kern_include.h>
end_include

begin_include
include|#
directive|include
file|"spans_xdr.h"
end_include

begin_include
include|#
directive|include
file|<netatm/spans/spans_var.h>
end_include

begin_ifndef
ifndef|#
directive|ifndef
name|lint
end_ifndef

begin_expr_stmt
name|__RCSID
argument_list|(
literal|"@(#) $FreeBSD$"
argument_list|)
expr_stmt|;
end_expr_stmt

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/*  * If LONGPRINT is defined, every field of the SPANS message will be  * printed.  If not, a shorter summary (useful for debugging without  * swamping the console) is printed.  */
end_comment

begin_comment
comment|/* #define LONGPRINT */
end_comment

begin_comment
comment|/*  * Local functions  */
end_comment

begin_decl_stmt
specifier|static
name|void
name|spans_msgtype_str
name|__P
argument_list|(
operator|(
name|spans_msgtype
operator|*
operator|,
name|char
operator|*
operator|,
name|int
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_msgbody
name|__P
argument_list|(
operator|(
name|spans_msgbody
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_result_str
name|__P
argument_list|(
operator|(
name|spans_result
operator|*
operator|,
name|char
operator|*
operator|,
name|int
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_ifdef
ifdef|#
directive|ifdef
name|LONGPRINT
end_ifdef

begin_decl_stmt
specifier|static
name|void
name|inc_indent
name|__P
argument_list|(
operator|(
name|void
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|dec_indent
name|__P
argument_list|(
operator|(
name|void
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_aal_str
name|__P
argument_list|(
operator|(
name|spans_aal
operator|*
operator|,
name|char
operator|*
operator|,
name|int
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_query_type_str
name|__P
argument_list|(
operator|(
name|spans_query_type
operator|*
operator|,
name|char
operator|*
operator|,
name|int
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_state_str
name|__P
argument_list|(
operator|(
name|spans_query_type
operator|*
operator|,
name|char
operator|*
operator|,
name|int
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_version
name|__P
argument_list|(
operator|(
name|spans_version
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_vpvc
name|__P
argument_list|(
operator|(
name|spans_vpvc
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_vpvc_pref
name|__P
argument_list|(
operator|(
name|spans_vpvc_pref
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_addr
name|__P
argument_list|(
operator|(
name|spans_addr
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_sap
name|__P
argument_list|(
operator|(
name|spans_sap
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_atm_conn
name|__P
argument_list|(
operator|(
name|spans_atm_conn
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_resrc
name|__P
argument_list|(
operator|(
name|spans_resrc
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_aal
name|__P
argument_list|(
operator|(
name|spans_aal
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_result
name|__P
argument_list|(
operator|(
name|spans_result
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_msgtype
name|__P
argument_list|(
operator|(
name|spans_msgtype
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_stat_req
name|__P
argument_list|(
operator|(
name|spans_parm_stat_req
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_stat_ind
name|__P
argument_list|(
operator|(
name|spans_parm_stat_ind
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_stat_rsp
name|__P
argument_list|(
operator|(
name|spans_parm_stat_rsp
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_open_req
name|__P
argument_list|(
operator|(
name|spans_parm_open_req
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_open_ind
name|__P
argument_list|(
operator|(
name|spans_parm_open_ind
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_open_rsp
name|__P
argument_list|(
operator|(
name|spans_parm_open_rsp
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_open_cnf
name|__P
argument_list|(
operator|(
name|spans_parm_open_cnf
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_close_req
name|__P
argument_list|(
operator|(
name|spans_parm_close_req
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_close_ind
name|__P
argument_list|(
operator|(
name|spans_parm_close_ind
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_close_rsp
name|__P
argument_list|(
operator|(
name|spans_parm_close_rsp
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_close_cnf
name|__P
argument_list|(
operator|(
name|spans_parm_close_cnf
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_rclose_req
name|__P
argument_list|(
operator|(
name|spans_parm_rclose_req
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_rclose_ind
name|__P
argument_list|(
operator|(
name|spans_parm_rclose_ind
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_rclose_rsp
name|__P
argument_list|(
operator|(
name|spans_parm_rclose_rsp
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_rclose_cnf
name|__P
argument_list|(
operator|(
name|spans_parm_rclose_cnf
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_multi_req
name|__P
argument_list|(
operator|(
name|spans_parm_multi_req
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_multi_ind
name|__P
argument_list|(
operator|(
name|spans_parm_multi_ind
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_multi_rsp
name|__P
argument_list|(
operator|(
name|spans_parm_multi_rsp
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_multi_cnf
name|__P
argument_list|(
operator|(
name|spans_parm_multi_cnf
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_add_req
name|__P
argument_list|(
operator|(
name|spans_parm_add_req
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_add_ind
name|__P
argument_list|(
operator|(
name|spans_parm_add_ind
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_add_rsp
name|__P
argument_list|(
operator|(
name|spans_parm_add_rsp
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_add_cnf
name|__P
argument_list|(
operator|(
name|spans_parm_add_cnf
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_join_req
name|__P
argument_list|(
operator|(
name|spans_parm_join_req
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_join_cnf
name|__P
argument_list|(
operator|(
name|spans_parm_join_cnf
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_leave_req
name|__P
argument_list|(
operator|(
name|spans_parm_leave_req
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_leave_cnf
name|__P
argument_list|(
operator|(
name|spans_parm_leave_cnf
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_vcir_ind
name|__P
argument_list|(
operator|(
name|spans_parm_vcir_ind
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_query_req
name|__P
argument_list|(
operator|(
name|spans_parm_query_req
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|void
name|spans_print_parm_query_rsp
name|__P
argument_list|(
operator|(
name|spans_parm_query_rsp
operator|*
operator|)
argument_list|)
decl_stmt|;
end_decl_stmt

begin_comment
comment|/*  * Local variables  */
end_comment

begin_define
define|#
directive|define
name|MAX_INDENT
value|10
end_define

begin_define
define|#
directive|define
name|INIT_INDENT
value|&indent_str[MAX_INDENT]
end_define

begin_decl_stmt
specifier|static
name|char
modifier|*
name|spans_indent
decl_stmt|;
end_decl_stmt

begin_decl_stmt
specifier|static
name|char
name|indent_str
index|[
literal|11
index|]
init|=
literal|"          "
decl_stmt|;
end_decl_stmt

begin_function
specifier|static
name|void
name|inc_indent
parameter_list|()
block|{
if|if
condition|(
name|spans_indent
operator|!=
operator|&
name|indent_str
index|[
literal|0
index|]
condition|)
block|{
name|spans_indent
operator|--
expr_stmt|;
block|}
block|}
end_function

begin_function
specifier|static
name|void
name|dec_indent
parameter_list|()
block|{
if|if
condition|(
name|spans_indent
operator|!=
name|INIT_INDENT
condition|)
block|{
name|spans_indent
operator|++
expr_stmt|;
block|}
block|}
end_function

begin_function
specifier|static
name|void
name|spans_aal_str
parameter_list|(
name|objp
parameter_list|,
name|dest
parameter_list|,
name|len
parameter_list|)
name|spans_aal
modifier|*
name|objp
decl_stmt|;
name|char
modifier|*
name|dest
decl_stmt|;
name|int
name|len
decl_stmt|;
block|{
specifier|static
name|char
modifier|*
name|aal_names
index|[]
init|=
block|{
literal|"SPANS_AAL0"
block|,
literal|"SPANS_AAL1"
block|,
literal|"SPANS_AAL2"
block|,
literal|"SPANS_AAL3"
block|,
literal|"SPANS_AAL4"
block|,
literal|"SPANS_AAL5"
block|}
decl_stmt|;
if|if
condition|(
operator|*
name|objp
operator|<
name|SPANS_AAL0
operator|||
operator|*
name|objp
operator|>
name|SPANS_AAL5
condition|)
block|{
name|snprintf
argument_list|(
name|dest
argument_list|,
name|len
argument_list|,
literal|"Invalid (%d)"
argument_list|,
operator|(
name|int
operator|)
operator|*
name|objp
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|snprintf
argument_list|(
name|dest
argument_list|,
name|len
argument_list|,
literal|"%s (%d)"
argument_list|,
name|aal_names
index|[
operator|(
name|int
operator|)
operator|*
name|objp
index|]
argument_list|,
operator|(
name|int
operator|)
operator|*
name|objp
argument_list|)
expr_stmt|;
block|}
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_function
specifier|static
name|void
name|spans_result_str
parameter_list|(
name|objp
parameter_list|,
name|dest
parameter_list|,
name|len
parameter_list|)
name|spans_result
modifier|*
name|objp
decl_stmt|;
name|char
modifier|*
name|dest
decl_stmt|;
name|int
name|len
decl_stmt|;
block|{
specifier|static
name|char
modifier|*
name|result_names
index|[]
init|=
block|{
literal|"SPANS_OK"
block|,
literal|"SPANS_FAIL"
block|,
literal|"SPANS_NOVPVC"
block|,
literal|"SPANS_NORSC"
block|,
literal|"SPANS_BADDEST"
block|}
decl_stmt|;
if|if
condition|(
operator|*
name|objp
operator|<
name|SPANS_OK
operator|||
operator|*
name|objp
operator|>
name|SPANS_BADDEST
condition|)
block|{
name|snprintf
argument_list|(
name|dest
argument_list|,
name|len
argument_list|,
literal|"Invalid (%d)"
argument_list|,
operator|(
name|int
operator|)
operator|*
name|objp
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|snprintf
argument_list|(
name|dest
argument_list|,
name|len
argument_list|,
literal|"%s (%d)"
argument_list|,
name|result_names
index|[
operator|(
name|int
operator|)
operator|*
name|objp
index|]
argument_list|,
operator|(
name|int
operator|)
operator|*
name|objp
argument_list|)
expr_stmt|;
block|}
block|}
end_function

begin_function
specifier|static
name|void
name|spans_msgtype_str
parameter_list|(
name|objp
parameter_list|,
name|dest
parameter_list|,
name|len
parameter_list|)
name|spans_msgtype
modifier|*
name|objp
decl_stmt|;
name|char
modifier|*
name|dest
decl_stmt|;
name|int
name|len
decl_stmt|;
block|{
name|int
name|i
decl_stmt|;
specifier|static
struct|struct
block|{
name|spans_msgtype
name|type
decl_stmt|;
name|char
modifier|*
name|name
decl_stmt|;
block|}
name|msgtype_names
index|[]
init|=
block|{
block|{
name|SPANS_STAT_REQ
block|,
literal|"SPANS_STAT_REQ"
block|}
block|,
block|{
name|SPANS_STAT_IND
block|,
literal|"SPANS_STAT_IND"
block|}
block|,
block|{
name|SPANS_STAT_RSP
block|,
literal|"SPANS_STAT_RSP"
block|}
block|,
block|{
name|SPANS_OPEN_REQ
block|,
literal|"SPANS_OPEN_REQ"
block|}
block|,
block|{
name|SPANS_OPEN_IND
block|,
literal|"SPANS_OPEN_IND"
block|}
block|,
block|{
name|SPANS_OPEN_RSP
block|,
literal|"SPANS_OPEN_RSP"
block|}
block|,
block|{
name|SPANS_OPEN_CNF
block|,
literal|"SPANS_OPEN_CNF"
block|}
block|,
block|{
name|SPANS_CLOSE_REQ
block|,
literal|"SPANS_CLOSE_REQ"
block|}
block|,
block|{
name|SPANS_CLOSE_IND
block|,
literal|"SPANS_CLOSE_IND"
block|}
block|,
block|{
name|SPANS_CLOSE_RSP
block|,
literal|"SPANS_CLOSE_RSP"
block|}
block|,
block|{
name|SPANS_CLOSE_CNF
block|,
literal|"SPANS_CLOSE_CNF"
block|}
block|,
block|{
name|SPANS_RCLOSE_REQ
block|,
literal|"SPANS_RCLOSE_REQ"
block|}
block|,
block|{
name|SPANS_RCLOSE_IND
block|,
literal|"SPANS_RCLOSE_IND"
block|}
block|,
block|{
name|SPANS_RCLOSE_RSP
block|,
literal|"SPANS_RCLOSE_RSP"
block|}
block|,
block|{
name|SPANS_RCLOSE_CNF
block|,
literal|"SPANS_RCLOSE_CNF"
block|}
block|,
block|{
name|SPANS_MULTI_REQ
block|,
literal|"SPANS_MULTI_REQ"
block|}
block|,
block|{
name|SPANS_MULTI_IND
block|,
literal|"SPANS_MULTI_IND"
block|}
block|,
block|{
name|SPANS_MULTI_RSP
block|,
literal|"SPANS_MULTI_RSP"
block|}
block|,
block|{
name|SPANS_MULTI_CNF
block|,
literal|"SPANS_MULTI_CNF"
block|}
block|,
block|{
name|SPANS_ADD_REQ
block|,
literal|"SPANS_ADD_REQ"
block|}
block|,
block|{
name|SPANS_ADD_IND
block|,
literal|"SPANS_ADD_IND"
block|}
block|,
block|{
name|SPANS_ADD_RSP
block|,
literal|"SPANS_ADD_RSP"
block|}
block|,
block|{
name|SPANS_ADD_CNF
block|,
literal|"SPANS_ADD_CNF"
block|}
block|,
block|{
name|SPANS_JOIN_REQ
block|,
literal|"SPANS_JOIN_REQ"
block|}
block|,
block|{
name|SPANS_JOIN_CNF
block|,
literal|"SPANS_JOIN_CNF"
block|}
block|,
block|{
name|SPANS_LEAVE_REQ
block|,
literal|"SPANS_LEAVE_REQ"
block|}
block|,
block|{
name|SPANS_LEAVE_CNF
block|,
literal|"SPANS_LEAVE_CNF"
block|}
block|,
block|{
name|SPANS_VCIR_IND
block|,
literal|"SPANS_VCIR_IND"
block|}
block|,
block|{
name|SPANS_QUERY_REQ
block|,
literal|"SPANS_QUERY_REQ"
block|}
block|,
block|{
name|SPANS_QUERY_RSP
block|,
literal|"SPANS_QUERY_RSP"
block|}
block|,
block|{
literal|0
block|,
operator|(
name|char
operator|*
operator|)
literal|0
block|}
block|}
struct|;
comment|/* 	 * Search the name table for the specified type 	 */
for|for
control|(
name|i
operator|=
literal|0
init|;
name|msgtype_names
index|[
name|i
index|]
operator|.
name|name
condition|;
name|i
operator|++
control|)
block|{
if|if
condition|(
operator|*
name|objp
operator|==
name|msgtype_names
index|[
name|i
index|]
operator|.
name|type
condition|)
block|{
name|snprintf
argument_list|(
name|dest
argument_list|,
name|len
argument_list|,
literal|"%s (%d)"
argument_list|,
name|msgtype_names
index|[
name|i
index|]
operator|.
name|name
argument_list|,
operator|(
name|int
operator|)
operator|*
name|objp
argument_list|)
expr_stmt|;
return|return;
block|}
block|}
comment|/* 	 * Type was not found--return an error indicator 	 */
name|snprintf
argument_list|(
name|dest
argument_list|,
name|len
argument_list|,
literal|"Invalid (%d)"
argument_list|,
operator|(
name|int
operator|)
operator|*
name|objp
argument_list|)
expr_stmt|;
block|}
end_function

begin_ifdef
ifdef|#
directive|ifdef
name|LONGPRINT
end_ifdef

begin_function
specifier|static
name|void
name|spans_query_type_str
parameter_list|(
name|objp
parameter_list|,
name|dest
parameter_list|,
name|len
parameter_list|)
name|spans_query_type
modifier|*
name|objp
decl_stmt|;
name|char
modifier|*
name|dest
decl_stmt|;
name|int
name|len
decl_stmt|;
block|{
specifier|static
name|char
modifier|*
name|query_names
index|[]
init|=
block|{
literal|"SPANS_QUERY_NORMAL"
block|,
literal|"SPANS_QUERY_DEBUG"
block|,
literal|"SPANS_QUERY_END_TO_END"
block|}
decl_stmt|;
if|if
condition|(
operator|*
name|objp
operator|<
name|SPANS_QUERY_NORMAL
operator|||
operator|*
name|objp
operator|>
name|SPANS_QUERY_END_TO_END
condition|)
block|{
name|snprintf
argument_list|(
name|dest
argument_list|,
name|len
argument_list|,
literal|"Invalid (%d)"
argument_list|,
operator|(
name|int
operator|)
operator|*
name|objp
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|snprintf
argument_list|(
name|dest
argument_list|,
name|len
argument_list|,
literal|"%s (%d)"
argument_list|,
name|query_names
index|[
operator|(
name|int
operator|)
operator|*
name|objp
index|]
argument_list|,
operator|(
name|int
operator|)
operator|*
name|objp
argument_list|)
expr_stmt|;
block|}
block|}
end_function

begin_function
specifier|static
name|void
name|spans_state_str
parameter_list|(
name|objp
parameter_list|,
name|dest
parameter_list|,
name|len
parameter_list|)
name|spans_query_type
modifier|*
name|objp
decl_stmt|;
name|char
modifier|*
name|dest
decl_stmt|;
name|int
name|len
decl_stmt|;
block|{
specifier|static
name|char
modifier|*
name|state_names
index|[]
init|=
block|{
literal|"SPANS_CONN_OPEN"
block|,
literal|"SPANS_CONN_OPEN_PEND"
block|,
literal|"SPANS_CONN_CLOSE_PEND"
block|,
literal|"SPANS_CONN_CLOSED"
block|}
decl_stmt|;
if|if
condition|(
operator|*
name|objp
operator|<
name|SPANS_CONN_OPEN
operator|||
operator|*
name|objp
operator|>
name|SPANS_CONN_CLOSED
condition|)
block|{
name|snprintf
argument_list|(
name|dest
argument_list|,
name|len
argument_list|,
literal|"Invalid (%d)"
argument_list|,
operator|(
name|int
operator|)
operator|*
name|objp
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|snprintf
argument_list|(
name|dest
argument_list|,
name|len
argument_list|,
literal|"%s (%d)"
argument_list|,
name|state_names
index|[
operator|(
name|int
operator|)
operator|*
name|objp
index|]
argument_list|,
operator|(
name|int
operator|)
operator|*
name|objp
argument_list|)
expr_stmt|;
block|}
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_version
parameter_list|(
name|objp
parameter_list|)
name|spans_version
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_version        0x%x\n"
argument_list|,
name|spans_indent
argument_list|,
operator|*
name|objp
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_vpvc
parameter_list|(
name|objp
parameter_list|)
name|spans_vpvc
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sVP/VC                %d/%d\n"
argument_list|,
name|spans_indent
argument_list|,
name|SPANS_EXTRACT_VPI
argument_list|(
operator|*
name|objp
argument_list|)
argument_list|,
name|SPANS_EXTRACT_VCI
argument_list|(
operator|*
name|objp
argument_list|)
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_vpvc_pref
parameter_list|(
name|objp
parameter_list|)
name|spans_vpvc_pref
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_vpvc_pref\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|printf
argument_list|(
literal|"%s%s\n"
argument_list|,
name|spans_indent
argument_list|,
operator|(
name|objp
operator|->
name|vpf_valid
condition|?
literal|"Valid"
else|:
literal|"Not valid"
operator|)
argument_list|)
expr_stmt|;
name|spans_print_vpvc
argument_list|(
operator|&
name|objp
operator|->
name|vpf_vpvc
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_addr
parameter_list|(
name|objp
parameter_list|)
name|spans_addr
modifier|*
name|objp
decl_stmt|;
block|{
name|char
name|addr_str
index|[
literal|80
index|]
decl_stmt|;
name|strncpy
argument_list|(
name|addr_str
argument_list|,
name|spans_addr_print
argument_list|(
name|objp
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|addr_str
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"%sspans_addr           %s\n"
argument_list|,
name|spans_indent
argument_list|,
name|addr_str
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_sap
parameter_list|(
name|objp
parameter_list|)
name|spans_sap
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sSAP                  %d\n"
argument_list|,
name|spans_indent
argument_list|,
operator|*
name|objp
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_atm_conn
parameter_list|(
name|objp
parameter_list|)
name|spans_atm_conn
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_atm_conn\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_addr
argument_list|(
operator|&
name|objp
operator|->
name|con_dst
argument_list|)
expr_stmt|;
name|spans_print_addr
argument_list|(
operator|&
name|objp
operator|->
name|con_src
argument_list|)
expr_stmt|;
name|spans_print_sap
argument_list|(
operator|&
name|objp
operator|->
name|con_dsap
argument_list|)
expr_stmt|;
name|spans_print_sap
argument_list|(
operator|&
name|objp
operator|->
name|con_ssap
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_resrc
parameter_list|(
name|objp
parameter_list|)
name|spans_resrc
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_resrc\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|printf
argument_list|(
literal|"%srsc_peak             %d\n"
argument_list|,
name|spans_indent
argument_list|,
name|objp
operator|->
name|rsc_peak
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"%srsc_mean             %d\n"
argument_list|,
name|spans_indent
argument_list|,
name|objp
operator|->
name|rsc_mean
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"%srsc_burst            %d\n"
argument_list|,
name|spans_indent
argument_list|,
name|objp
operator|->
name|rsc_burst
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_aal
parameter_list|(
name|objp
parameter_list|)
name|spans_aal
modifier|*
name|objp
decl_stmt|;
block|{
name|char
name|aal_str
index|[
literal|80
index|]
decl_stmt|;
name|spans_aal_str
argument_list|(
name|objp
argument_list|,
name|aal_str
argument_list|,
sizeof|sizeof
argument_list|(
name|aal_str
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"%sspans_aal            %s\n"
argument_list|,
name|spans_indent
argument_list|,
name|aal_str
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_result
parameter_list|(
name|objp
parameter_list|)
name|spans_result
modifier|*
name|objp
decl_stmt|;
block|{
name|char
name|result_str
index|[
literal|80
index|]
decl_stmt|;
name|spans_result_str
argument_list|(
name|objp
argument_list|,
name|result_str
argument_list|,
sizeof|sizeof
argument_list|(
name|result_str
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"%sspans_result         %s\n"
argument_list|,
name|spans_indent
argument_list|,
name|result_str
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_msgtype
parameter_list|(
name|objp
parameter_list|)
name|spans_msgtype
modifier|*
name|objp
decl_stmt|;
block|{
name|char
name|msgtype_str
index|[
literal|80
index|]
decl_stmt|;
name|spans_msgtype_str
argument_list|(
name|objp
argument_list|,
name|msgtype_str
argument_list|,
sizeof|sizeof
argument_list|(
name|msgtype_str
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"%sspans_msgtype        %s\n"
argument_list|,
name|spans_indent
argument_list|,
name|msgtype_str
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_stat_req
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_stat_req
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_parm_stat_req\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|printf
argument_list|(
literal|"%sstreq_es_epoch       %d\n"
argument_list|,
name|spans_indent
argument_list|,
name|objp
operator|->
name|streq_es_epoch
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_stat_ind
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_stat_ind
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_parm_stat_ind\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|printf
argument_list|(
literal|"%sstind_sw_epoch       %d\n"
argument_list|,
name|spans_indent
argument_list|,
name|objp
operator|->
name|stind_sw_epoch
argument_list|)
expr_stmt|;
name|spans_print_addr
argument_list|(
operator|&
name|objp
operator|->
name|stind_es_addr
argument_list|)
expr_stmt|;
name|spans_print_addr
argument_list|(
operator|&
name|objp
operator|->
name|stind_sw_addr
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_stat_rsp
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_stat_rsp
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_parm_stat_rsp\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|printf
argument_list|(
literal|"%sstrsp_es_epoch       %d\n"
argument_list|,
name|spans_indent
argument_list|,
name|objp
operator|->
name|strsp_es_epoch
argument_list|)
expr_stmt|;
name|spans_print_addr
argument_list|(
operator|&
name|objp
operator|->
name|strsp_es_addr
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_open_req
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_open_req
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_parm_open_req\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_atm_conn
argument_list|(
operator|&
name|objp
operator|->
name|opreq_conn
argument_list|)
expr_stmt|;
name|spans_print_aal
argument_list|(
operator|&
name|objp
operator|->
name|opreq_aal
argument_list|)
expr_stmt|;
name|spans_print_resrc
argument_list|(
operator|&
name|objp
operator|->
name|opreq_desrsrc
argument_list|)
expr_stmt|;
name|spans_print_resrc
argument_list|(
operator|&
name|objp
operator|->
name|opreq_minrsrc
argument_list|)
expr_stmt|;
name|spans_print_vpvc_pref
argument_list|(
operator|&
name|objp
operator|->
name|opreq_vpvc
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_open_ind
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_open_ind
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_parm_open_ind\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_atm_conn
argument_list|(
operator|&
name|objp
operator|->
name|opind_conn
argument_list|)
expr_stmt|;
name|spans_print_aal
argument_list|(
operator|&
name|objp
operator|->
name|opind_aal
argument_list|)
expr_stmt|;
name|spans_print_resrc
argument_list|(
operator|&
name|objp
operator|->
name|opind_desrsrc
argument_list|)
expr_stmt|;
name|spans_print_resrc
argument_list|(
operator|&
name|objp
operator|->
name|opind_minrsrc
argument_list|)
expr_stmt|;
name|spans_print_vpvc_pref
argument_list|(
operator|&
name|objp
operator|->
name|opind_vpvc
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_open_rsp
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_open_rsp
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_parm_open_rsp\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_atm_conn
argument_list|(
operator|&
name|objp
operator|->
name|oprsp_conn
argument_list|)
expr_stmt|;
name|spans_print_result
argument_list|(
operator|&
name|objp
operator|->
name|oprsp_result
argument_list|)
expr_stmt|;
name|spans_print_resrc
argument_list|(
operator|&
name|objp
operator|->
name|oprsp_rsrc
argument_list|)
expr_stmt|;
name|spans_print_vpvc
argument_list|(
operator|&
name|objp
operator|->
name|oprsp_vpvc
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_open_cnf
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_open_cnf
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_parm_open_cnf\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_atm_conn
argument_list|(
operator|&
name|objp
operator|->
name|opcnf_conn
argument_list|)
expr_stmt|;
name|spans_print_result
argument_list|(
operator|&
name|objp
operator|->
name|opcnf_result
argument_list|)
expr_stmt|;
name|spans_print_resrc
argument_list|(
operator|&
name|objp
operator|->
name|opcnf_rsrc
argument_list|)
expr_stmt|;
name|spans_print_vpvc
argument_list|(
operator|&
name|objp
operator|->
name|opcnf_vpvc
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_close_req
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_close_req
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_parm_close_req\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_atm_conn
argument_list|(
operator|&
name|objp
operator|->
name|clreq_conn
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_close_ind
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_close_ind
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_parm_close_ind\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_atm_conn
argument_list|(
operator|&
name|objp
operator|->
name|clind_conn
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_close_rsp
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_close_rsp
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_parm_close_rsp\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_atm_conn
argument_list|(
operator|&
name|objp
operator|->
name|clrsp_conn
argument_list|)
expr_stmt|;
name|spans_print_result
argument_list|(
operator|&
name|objp
operator|->
name|clrsp_result
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_close_cnf
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_close_cnf
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_parm_close_cnf\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_atm_conn
argument_list|(
operator|&
name|objp
operator|->
name|clcnf_conn
argument_list|)
expr_stmt|;
name|spans_print_result
argument_list|(
operator|&
name|objp
operator|->
name|clcnf_result
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_rclose_req
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_rclose_req
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_parm_rclose_req\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_atm_conn
argument_list|(
operator|&
name|objp
operator|->
name|rcreq_conn
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_rclose_ind
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_rclose_ind
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_parm_rclose_ind\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_atm_conn
argument_list|(
operator|&
name|objp
operator|->
name|rcind_conn
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_rclose_rsp
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_rclose_rsp
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_parm_rclose_rsp\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_atm_conn
argument_list|(
operator|&
name|objp
operator|->
name|rcrsp_conn
argument_list|)
expr_stmt|;
name|spans_print_result
argument_list|(
operator|&
name|objp
operator|->
name|rcrsp_result
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_rclose_cnf
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_rclose_cnf
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_parm_rclose_cnf\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_atm_conn
argument_list|(
operator|&
name|objp
operator|->
name|rccnf_conn
argument_list|)
expr_stmt|;
name|spans_print_result
argument_list|(
operator|&
name|objp
operator|->
name|rccnf_result
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_multi_req
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_multi_req
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_parm_multi_req\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_atm_conn
argument_list|(
operator|&
name|objp
operator|->
name|mureq_conn
argument_list|)
expr_stmt|;
name|spans_print_aal
argument_list|(
operator|&
name|objp
operator|->
name|mureq_aal
argument_list|)
expr_stmt|;
name|spans_print_resrc
argument_list|(
operator|&
name|objp
operator|->
name|mureq_desrsrc
argument_list|)
expr_stmt|;
name|spans_print_resrc
argument_list|(
operator|&
name|objp
operator|->
name|mureq_minrsrc
argument_list|)
expr_stmt|;
name|spans_print_vpvc
argument_list|(
operator|&
name|objp
operator|->
name|mureq_vpvc
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_multi_ind
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_multi_ind
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_parm_multi_ind\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_atm_conn
argument_list|(
operator|&
name|objp
operator|->
name|muind_conn
argument_list|)
expr_stmt|;
name|spans_print_aal
argument_list|(
operator|&
name|objp
operator|->
name|muind_aal
argument_list|)
expr_stmt|;
name|spans_print_resrc
argument_list|(
operator|&
name|objp
operator|->
name|muind_desrsrc
argument_list|)
expr_stmt|;
name|spans_print_resrc
argument_list|(
operator|&
name|objp
operator|->
name|muind_minrsrc
argument_list|)
expr_stmt|;
name|spans_print_vpvc
argument_list|(
operator|&
name|objp
operator|->
name|muind_vpvc
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_multi_rsp
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_multi_rsp
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_parm_multi_rsp\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_atm_conn
argument_list|(
operator|&
name|objp
operator|->
name|mursp_conn
argument_list|)
expr_stmt|;
name|spans_print_result
argument_list|(
operator|&
name|objp
operator|->
name|mursp_result
argument_list|)
expr_stmt|;
name|spans_print_resrc
argument_list|(
operator|&
name|objp
operator|->
name|mursp_rsrc
argument_list|)
expr_stmt|;
name|spans_print_vpvc
argument_list|(
operator|&
name|objp
operator|->
name|mursp_vpvc
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_multi_cnf
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_multi_cnf
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_parm_multi_cnf\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_atm_conn
argument_list|(
operator|&
name|objp
operator|->
name|mucnf_conn
argument_list|)
expr_stmt|;
name|spans_print_result
argument_list|(
operator|&
name|objp
operator|->
name|mucnf_result
argument_list|)
expr_stmt|;
name|spans_print_resrc
argument_list|(
operator|&
name|objp
operator|->
name|mucnf_rsrc
argument_list|)
expr_stmt|;
name|spans_print_vpvc
argument_list|(
operator|&
name|objp
operator|->
name|mucnf_vpvc
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_add_req
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_add_req
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_parm_add_req\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_atm_conn
argument_list|(
operator|&
name|objp
operator|->
name|adreq_desconn
argument_list|)
expr_stmt|;
name|spans_print_atm_conn
argument_list|(
operator|&
name|objp
operator|->
name|adreq_xstconn
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_add_ind
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_add_ind
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_parm_add_ind\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_atm_conn
argument_list|(
operator|&
name|objp
operator|->
name|adind_desconn
argument_list|)
expr_stmt|;
name|spans_print_atm_conn
argument_list|(
operator|&
name|objp
operator|->
name|adind_xstconn
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_add_rsp
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_add_rsp
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_parm_add_rsp\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_atm_conn
argument_list|(
operator|&
name|objp
operator|->
name|adrsp_conn
argument_list|)
expr_stmt|;
name|spans_print_result
argument_list|(
operator|&
name|objp
operator|->
name|adrsp_result
argument_list|)
expr_stmt|;
name|spans_print_resrc
argument_list|(
operator|&
name|objp
operator|->
name|adrsp_rsrc
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_add_cnf
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_add_cnf
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_parm_add_cnf\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_atm_conn
argument_list|(
operator|&
name|objp
operator|->
name|adcnf_conn
argument_list|)
expr_stmt|;
name|spans_print_result
argument_list|(
operator|&
name|objp
operator|->
name|adcnf_result
argument_list|)
expr_stmt|;
name|spans_print_resrc
argument_list|(
operator|&
name|objp
operator|->
name|adcnf_rsrc
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_join_req
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_join_req
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_parm_join_req\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_addr
argument_list|(
operator|&
name|objp
operator|->
name|jnreq_addr
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_join_cnf
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_join_cnf
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_print_parm_join_cnf\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_addr
argument_list|(
operator|&
name|objp
operator|->
name|jncnf_addr
argument_list|)
expr_stmt|;
name|spans_print_result
argument_list|(
operator|&
name|objp
operator|->
name|jncnf_result
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_leave_req
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_leave_req
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_print_parm_leave_req\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_addr
argument_list|(
operator|&
name|objp
operator|->
name|lvreq_addr
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_leave_cnf
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_leave_cnf
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_parm_leave_cnf\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_addr
argument_list|(
operator|&
name|objp
operator|->
name|lvcnf_addr
argument_list|)
expr_stmt|;
name|spans_print_result
argument_list|(
operator|&
name|objp
operator|->
name|lvcnf_result
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_vcir_ind
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_vcir_ind
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_parm_vcir_ind\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|printf
argument_list|(
literal|"%svrind_min            %d\n"
argument_list|,
name|spans_indent
argument_list|,
name|objp
operator|->
name|vrind_min
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"%svrind_max            %d\n"
argument_list|,
name|spans_indent
argument_list|,
name|objp
operator|->
name|vrind_max
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_query_req
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_query_req
modifier|*
name|objp
decl_stmt|;
block|{
name|char
name|query_type_str
index|[
literal|80
index|]
decl_stmt|;
name|printf
argument_list|(
literal|"%sspans_parm_query_req\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_atm_conn
argument_list|(
operator|&
name|objp
operator|->
name|qyreq_conn
argument_list|)
expr_stmt|;
name|spans_query_type_str
argument_list|(
operator|&
name|objp
operator|->
name|qyreq_type
argument_list|,
name|query_type_str
argument_list|,
sizeof|sizeof
argument_list|(
name|query_type_str
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"%sqyreq_type           %s\n"
argument_list|,
name|spans_indent
argument_list|,
name|query_type_str
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_parm_query_rsp
parameter_list|(
name|objp
parameter_list|)
name|spans_parm_query_rsp
modifier|*
name|objp
decl_stmt|;
block|{
name|char
name|query_type_str
index|[
literal|80
index|]
decl_stmt|,
name|state_type_str
index|[
literal|80
index|]
decl_stmt|;
name|printf
argument_list|(
literal|"%sspans_parm_query_rsp\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_atm_conn
argument_list|(
operator|&
name|objp
operator|->
name|qyrsp_conn
argument_list|)
expr_stmt|;
name|spans_query_type_str
argument_list|(
operator|&
name|objp
operator|->
name|qyrsp_type
argument_list|,
name|query_type_str
argument_list|,
sizeof|sizeof
argument_list|(
name|query_type_str
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"%sqyrsp_type           %s\n"
argument_list|,
name|spans_indent
argument_list|,
name|query_type_str
argument_list|)
expr_stmt|;
name|spans_state_str
argument_list|(
operator|&
name|objp
operator|->
name|qyrsp_state
argument_list|,
name|state_type_str
argument_list|,
sizeof|sizeof
argument_list|(
name|state_type_str
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"%sqyrsp_state          %s\n"
argument_list|,
name|spans_indent
argument_list|,
name|state_type_str
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"%sqyrsp_data           0x%x\n"
argument_list|,
name|spans_indent
argument_list|,
name|objp
operator|->
name|qyrsp_data
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
specifier|static
name|void
name|spans_print_msgbody
parameter_list|(
name|objp
parameter_list|)
name|spans_msgbody
modifier|*
name|objp
decl_stmt|;
block|{
name|printf
argument_list|(
literal|"%sspans_msgbody\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_msgtype
argument_list|(
operator|&
name|objp
operator|->
name|mb_type
argument_list|)
expr_stmt|;
switch|switch
condition|(
name|objp
operator|->
name|mb_type
condition|)
block|{
case|case
name|SPANS_STAT_REQ
case|:
name|spans_print_parm_stat_req
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_stat_req
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_STAT_IND
case|:
name|spans_print_parm_stat_ind
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_stat_ind
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_STAT_RSP
case|:
name|spans_print_parm_stat_rsp
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_stat_rsp
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_OPEN_REQ
case|:
name|spans_print_parm_open_req
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_open_req
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_OPEN_IND
case|:
name|spans_print_parm_open_ind
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_open_ind
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_OPEN_RSP
case|:
name|spans_print_parm_open_rsp
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_open_rsp
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_OPEN_CNF
case|:
name|spans_print_parm_open_cnf
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_open_cnf
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_CLOSE_REQ
case|:
name|spans_print_parm_close_req
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_close_req
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_CLOSE_IND
case|:
name|spans_print_parm_close_ind
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_close_ind
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_CLOSE_RSP
case|:
name|spans_print_parm_close_rsp
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_close_rsp
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_CLOSE_CNF
case|:
name|spans_print_parm_close_cnf
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_close_cnf
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_RCLOSE_REQ
case|:
name|spans_print_parm_rclose_req
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_rclose_req
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_RCLOSE_IND
case|:
name|spans_print_parm_rclose_ind
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_rclose_ind
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_RCLOSE_RSP
case|:
name|spans_print_parm_rclose_rsp
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_rclose_rsp
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_RCLOSE_CNF
case|:
name|spans_print_parm_rclose_cnf
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_rclose_cnf
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_MULTI_REQ
case|:
name|spans_print_parm_multi_req
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_multi_req
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_MULTI_IND
case|:
name|spans_print_parm_multi_ind
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_multi_ind
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_MULTI_RSP
case|:
name|spans_print_parm_multi_rsp
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_multi_rsp
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_MULTI_CNF
case|:
name|spans_print_parm_multi_cnf
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_multi_cnf
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_ADD_REQ
case|:
name|spans_print_parm_add_req
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_add_req
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_ADD_IND
case|:
name|spans_print_parm_add_ind
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_add_ind
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_ADD_RSP
case|:
name|spans_print_parm_add_rsp
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_add_rsp
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_ADD_CNF
case|:
name|spans_print_parm_add_cnf
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_add_cnf
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_JOIN_REQ
case|:
name|spans_print_parm_join_req
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_join_req
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_JOIN_CNF
case|:
name|spans_print_parm_join_cnf
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_join_cnf
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_LEAVE_REQ
case|:
name|spans_print_parm_leave_req
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_leave_req
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_LEAVE_CNF
case|:
name|spans_print_parm_leave_cnf
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_leave_cnf
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_VCIR_IND
case|:
name|spans_print_parm_vcir_ind
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_vcir_ind
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_QUERY_REQ
case|:
name|spans_print_parm_query_req
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_query_req
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_QUERY_RSP
case|:
name|spans_print_parm_query_rsp
argument_list|(
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_query_rsp
argument_list|)
expr_stmt|;
break|break;
block|}
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_function
name|void
name|spans_print_msg
parameter_list|(
name|objp
parameter_list|)
name|spans_msg
modifier|*
name|objp
decl_stmt|;
block|{
name|spans_indent
operator|=
name|INIT_INDENT
expr_stmt|;
name|printf
argument_list|(
literal|"%sspans_msg\n"
argument_list|,
name|spans_indent
argument_list|)
expr_stmt|;
name|inc_indent
argument_list|()
expr_stmt|;
name|spans_print_version
argument_list|(
operator|&
name|objp
operator|->
name|sm_vers
argument_list|)
expr_stmt|;
name|spans_print_msgbody
argument_list|(
operator|&
name|objp
operator|->
name|sm_body
argument_list|)
expr_stmt|;
name|dec_indent
argument_list|()
expr_stmt|;
block|}
end_function

begin_else
else|#
directive|else
end_else

begin_comment
comment|/* ifdef LONGPRINT */
end_comment

begin_function
specifier|static
name|void
name|spans_print_msgbody
parameter_list|(
name|objp
parameter_list|)
name|spans_msgbody
modifier|*
name|objp
decl_stmt|;
block|{
name|char
name|daddr
index|[
literal|80
index|]
decl_stmt|,
name|msgtype_str
index|[
literal|80
index|]
decl_stmt|,
name|result_str
index|[
literal|80
index|]
decl_stmt|,
name|saddr
index|[
literal|80
index|]
decl_stmt|;
name|spans_parm_stat_req
modifier|*
name|streq_p
decl_stmt|;
name|spans_parm_stat_ind
modifier|*
name|stind_p
decl_stmt|;
name|spans_parm_stat_rsp
modifier|*
name|strsp_p
decl_stmt|;
name|spans_parm_open_req
modifier|*
name|opreq_p
decl_stmt|;
name|spans_parm_open_ind
modifier|*
name|opind_p
decl_stmt|;
name|spans_parm_open_rsp
modifier|*
name|oprsp_p
decl_stmt|;
name|spans_parm_open_cnf
modifier|*
name|opcnf_p
decl_stmt|;
name|spans_parm_close_req
modifier|*
name|clreq_p
decl_stmt|;
name|spans_parm_close_ind
modifier|*
name|clind_p
decl_stmt|;
name|spans_parm_close_rsp
modifier|*
name|clrsp_p
decl_stmt|;
name|spans_parm_close_cnf
modifier|*
name|clcnf_p
decl_stmt|;
name|spans_parm_rclose_req
modifier|*
name|rcreq_p
decl_stmt|;
name|spans_parm_rclose_ind
modifier|*
name|rcind_p
decl_stmt|;
name|spans_parm_rclose_rsp
modifier|*
name|rcrsp_p
decl_stmt|;
name|spans_parm_rclose_cnf
modifier|*
name|rccnf_p
decl_stmt|;
name|spans_msgtype_str
argument_list|(
operator|&
name|objp
operator|->
name|mb_type
argument_list|,
name|msgtype_str
argument_list|,
sizeof|sizeof
argument_list|(
name|msgtype_str
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"%s: "
argument_list|,
name|msgtype_str
argument_list|)
expr_stmt|;
switch|switch
condition|(
name|objp
operator|->
name|mb_type
condition|)
block|{
case|case
name|SPANS_STAT_REQ
case|:
name|streq_p
operator|=
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_stat_req
expr_stmt|;
name|printf
argument_list|(
literal|"es_epoch=0x%lx"
argument_list|,
name|streq_p
operator|->
name|streq_es_epoch
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_STAT_IND
case|:
name|stind_p
operator|=
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_stat_ind
expr_stmt|;
name|strncpy
argument_list|(
name|daddr
argument_list|,
name|spans_addr_print
argument_list|(
operator|&
name|stind_p
operator|->
name|stind_es_addr
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|daddr
argument_list|)
argument_list|)
expr_stmt|;
name|strncpy
argument_list|(
name|saddr
argument_list|,
name|spans_addr_print
argument_list|(
operator|&
name|stind_p
operator|->
name|stind_sw_addr
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|saddr
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"sw_epoch=0x%lx, es_addr=%s, sw_addr=0x%s"
argument_list|,
name|stind_p
operator|->
name|stind_sw_epoch
argument_list|,
name|daddr
argument_list|,
name|saddr
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_STAT_RSP
case|:
name|strsp_p
operator|=
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_stat_rsp
expr_stmt|;
name|strncpy
argument_list|(
name|daddr
argument_list|,
name|spans_addr_print
argument_list|(
operator|&
name|strsp_p
operator|->
name|strsp_es_addr
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|daddr
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"es_epoch=0x%lx, es_addr=%s"
argument_list|,
name|strsp_p
operator|->
name|strsp_es_epoch
argument_list|,
name|daddr
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_OPEN_REQ
case|:
name|opreq_p
operator|=
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_open_req
expr_stmt|;
name|strncpy
argument_list|(
name|daddr
argument_list|,
name|spans_addr_print
argument_list|(
operator|&
name|opreq_p
operator|->
name|opreq_conn
operator|.
name|con_dst
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|daddr
argument_list|)
argument_list|)
expr_stmt|;
name|strncpy
argument_list|(
name|saddr
argument_list|,
name|spans_addr_print
argument_list|(
operator|&
name|opreq_p
operator|->
name|opreq_conn
operator|.
name|con_src
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|saddr
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"daddr=%s, saddr=%s, dsap=%d, ssap=%d, aal=%d"
argument_list|,
name|daddr
argument_list|,
name|saddr
argument_list|,
name|opreq_p
operator|->
name|opreq_conn
operator|.
name|con_dsap
argument_list|,
name|opreq_p
operator|->
name|opreq_conn
operator|.
name|con_ssap
argument_list|,
name|opreq_p
operator|->
name|opreq_aal
argument_list|)
expr_stmt|;
if|if
condition|(
name|opreq_p
operator|->
name|opreq_vpvc
operator|.
name|vpf_valid
condition|)
name|printf
argument_list|(
literal|", vp.vc=%d.%d"
argument_list|,
name|SPANS_EXTRACT_VPI
argument_list|(
name|opreq_p
operator|->
name|opreq_vpvc
operator|.
name|vpf_vpvc
argument_list|)
argument_list|,
name|SPANS_EXTRACT_VCI
argument_list|(
name|opreq_p
operator|->
name|opreq_vpvc
operator|.
name|vpf_vpvc
argument_list|)
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_OPEN_IND
case|:
name|opind_p
operator|=
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_open_ind
expr_stmt|;
name|strncpy
argument_list|(
name|daddr
argument_list|,
name|spans_addr_print
argument_list|(
operator|&
name|opind_p
operator|->
name|opind_conn
operator|.
name|con_dst
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|daddr
argument_list|)
argument_list|)
expr_stmt|;
name|strncpy
argument_list|(
name|saddr
argument_list|,
name|spans_addr_print
argument_list|(
operator|&
name|opind_p
operator|->
name|opind_conn
operator|.
name|con_src
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|saddr
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"daddr=%s, saddr=%s, dsap=%d, ssap=%d, aal=%d"
argument_list|,
name|daddr
argument_list|,
name|saddr
argument_list|,
name|opind_p
operator|->
name|opind_conn
operator|.
name|con_dsap
argument_list|,
name|opind_p
operator|->
name|opind_conn
operator|.
name|con_ssap
argument_list|,
name|opind_p
operator|->
name|opind_aal
argument_list|)
expr_stmt|;
if|if
condition|(
name|opind_p
operator|->
name|opind_vpvc
operator|.
name|vpf_valid
condition|)
name|printf
argument_list|(
literal|", vp.vc=%d.%d"
argument_list|,
name|SPANS_EXTRACT_VPI
argument_list|(
name|opind_p
operator|->
name|opind_vpvc
operator|.
name|vpf_vpvc
argument_list|)
argument_list|,
name|SPANS_EXTRACT_VCI
argument_list|(
name|opind_p
operator|->
name|opind_vpvc
operator|.
name|vpf_vpvc
argument_list|)
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_OPEN_RSP
case|:
name|oprsp_p
operator|=
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_open_rsp
expr_stmt|;
name|strncpy
argument_list|(
name|daddr
argument_list|,
name|spans_addr_print
argument_list|(
operator|&
name|oprsp_p
operator|->
name|oprsp_conn
operator|.
name|con_dst
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|daddr
argument_list|)
argument_list|)
expr_stmt|;
name|strncpy
argument_list|(
name|saddr
argument_list|,
name|spans_addr_print
argument_list|(
operator|&
name|oprsp_p
operator|->
name|oprsp_conn
operator|.
name|con_src
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|saddr
argument_list|)
argument_list|)
expr_stmt|;
name|spans_result_str
argument_list|(
operator|&
name|oprsp_p
operator|->
name|oprsp_result
argument_list|,
name|result_str
argument_list|,
sizeof|sizeof
argument_list|(
name|result_str
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"result=%s, daddr=%s, saddr=%s, dsap=%d, ssap=%d, vp.vc=%d.%d"
argument_list|,
name|result_str
argument_list|,
name|daddr
argument_list|,
name|saddr
argument_list|,
name|oprsp_p
operator|->
name|oprsp_conn
operator|.
name|con_dsap
argument_list|,
name|oprsp_p
operator|->
name|oprsp_conn
operator|.
name|con_ssap
argument_list|,
name|SPANS_EXTRACT_VPI
argument_list|(
name|oprsp_p
operator|->
name|oprsp_vpvc
argument_list|)
argument_list|,
name|SPANS_EXTRACT_VCI
argument_list|(
name|oprsp_p
operator|->
name|oprsp_vpvc
argument_list|)
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_OPEN_CNF
case|:
name|opcnf_p
operator|=
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_open_cnf
expr_stmt|;
name|strncpy
argument_list|(
name|daddr
argument_list|,
name|spans_addr_print
argument_list|(
operator|&
name|opcnf_p
operator|->
name|opcnf_conn
operator|.
name|con_dst
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|daddr
argument_list|)
argument_list|)
expr_stmt|;
name|strncpy
argument_list|(
name|saddr
argument_list|,
name|spans_addr_print
argument_list|(
operator|&
name|opcnf_p
operator|->
name|opcnf_conn
operator|.
name|con_src
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|saddr
argument_list|)
argument_list|)
expr_stmt|;
name|spans_result_str
argument_list|(
operator|&
name|opcnf_p
operator|->
name|opcnf_result
argument_list|,
name|result_str
argument_list|,
sizeof|sizeof
argument_list|(
name|result_str
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"result=%s, daddr=%s, saddr=%s, dsap=%d, ssap=%d, vp.vc=%d.%d"
argument_list|,
name|result_str
argument_list|,
name|daddr
argument_list|,
name|saddr
argument_list|,
name|opcnf_p
operator|->
name|opcnf_conn
operator|.
name|con_dsap
argument_list|,
name|opcnf_p
operator|->
name|opcnf_conn
operator|.
name|con_ssap
argument_list|,
name|SPANS_EXTRACT_VPI
argument_list|(
name|opcnf_p
operator|->
name|opcnf_vpvc
argument_list|)
argument_list|,
name|SPANS_EXTRACT_VCI
argument_list|(
name|opcnf_p
operator|->
name|opcnf_vpvc
argument_list|)
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_CLOSE_REQ
case|:
name|clreq_p
operator|=
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_close_req
expr_stmt|;
name|strncpy
argument_list|(
name|daddr
argument_list|,
name|spans_addr_print
argument_list|(
operator|&
name|clreq_p
operator|->
name|clreq_conn
operator|.
name|con_dst
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|daddr
argument_list|)
argument_list|)
expr_stmt|;
name|strncpy
argument_list|(
name|saddr
argument_list|,
name|spans_addr_print
argument_list|(
operator|&
name|clreq_p
operator|->
name|clreq_conn
operator|.
name|con_src
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|saddr
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"daddr=%s, saddr=%s, dsap=%d, ssap=%d"
argument_list|,
name|daddr
argument_list|,
name|saddr
argument_list|,
name|clreq_p
operator|->
name|clreq_conn
operator|.
name|con_dsap
argument_list|,
name|clreq_p
operator|->
name|clreq_conn
operator|.
name|con_ssap
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_CLOSE_IND
case|:
name|clind_p
operator|=
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_close_ind
expr_stmt|;
name|strncpy
argument_list|(
name|daddr
argument_list|,
name|spans_addr_print
argument_list|(
operator|&
name|clind_p
operator|->
name|clind_conn
operator|.
name|con_dst
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|daddr
argument_list|)
argument_list|)
expr_stmt|;
name|strncpy
argument_list|(
name|saddr
argument_list|,
name|spans_addr_print
argument_list|(
operator|&
name|clind_p
operator|->
name|clind_conn
operator|.
name|con_src
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|saddr
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"daddr=%s, saddr=%s, dsap=%d, ssap=%d"
argument_list|,
name|daddr
argument_list|,
name|saddr
argument_list|,
name|clind_p
operator|->
name|clind_conn
operator|.
name|con_dsap
argument_list|,
name|clind_p
operator|->
name|clind_conn
operator|.
name|con_ssap
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_CLOSE_RSP
case|:
name|clrsp_p
operator|=
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_close_rsp
expr_stmt|;
name|strncpy
argument_list|(
name|daddr
argument_list|,
name|spans_addr_print
argument_list|(
operator|&
name|clrsp_p
operator|->
name|clrsp_conn
operator|.
name|con_dst
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|daddr
argument_list|)
argument_list|)
expr_stmt|;
name|strncpy
argument_list|(
name|saddr
argument_list|,
name|spans_addr_print
argument_list|(
operator|&
name|clrsp_p
operator|->
name|clrsp_conn
operator|.
name|con_src
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|saddr
argument_list|)
argument_list|)
expr_stmt|;
name|spans_result_str
argument_list|(
operator|&
name|clrsp_p
operator|->
name|clrsp_result
argument_list|,
name|result_str
argument_list|,
sizeof|sizeof
argument_list|(
name|result_str
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"result=%s, daddr=%s, saddr=%s, dsap=%d, ssap=%d"
argument_list|,
name|result_str
argument_list|,
name|daddr
argument_list|,
name|saddr
argument_list|,
name|clrsp_p
operator|->
name|clrsp_conn
operator|.
name|con_dsap
argument_list|,
name|clrsp_p
operator|->
name|clrsp_conn
operator|.
name|con_ssap
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_CLOSE_CNF
case|:
name|clcnf_p
operator|=
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_close_cnf
expr_stmt|;
name|strncpy
argument_list|(
name|daddr
argument_list|,
name|spans_addr_print
argument_list|(
operator|&
name|clcnf_p
operator|->
name|clcnf_conn
operator|.
name|con_dst
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|daddr
argument_list|)
argument_list|)
expr_stmt|;
name|strncpy
argument_list|(
name|saddr
argument_list|,
name|spans_addr_print
argument_list|(
operator|&
name|clcnf_p
operator|->
name|clcnf_conn
operator|.
name|con_src
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|saddr
argument_list|)
argument_list|)
expr_stmt|;
name|spans_result_str
argument_list|(
operator|&
name|clcnf_p
operator|->
name|clcnf_result
argument_list|,
name|result_str
argument_list|,
sizeof|sizeof
argument_list|(
name|result_str
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"result=%s, daddr=%s, saddr=%s, dsap=%d, ssap=%d"
argument_list|,
name|result_str
argument_list|,
name|daddr
argument_list|,
name|saddr
argument_list|,
name|clcnf_p
operator|->
name|clcnf_conn
operator|.
name|con_dsap
argument_list|,
name|clcnf_p
operator|->
name|clcnf_conn
operator|.
name|con_ssap
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_RCLOSE_REQ
case|:
name|rcreq_p
operator|=
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_rclose_req
expr_stmt|;
name|strncpy
argument_list|(
name|daddr
argument_list|,
name|spans_addr_print
argument_list|(
operator|&
name|rcreq_p
operator|->
name|rcreq_conn
operator|.
name|con_dst
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|daddr
argument_list|)
argument_list|)
expr_stmt|;
name|strncpy
argument_list|(
name|saddr
argument_list|,
name|spans_addr_print
argument_list|(
operator|&
name|rcreq_p
operator|->
name|rcreq_conn
operator|.
name|con_src
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|saddr
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"daddr=%s, saddr=%s, dsap=%d, ssap=%d"
argument_list|,
name|daddr
argument_list|,
name|saddr
argument_list|,
name|rcreq_p
operator|->
name|rcreq_conn
operator|.
name|con_dsap
argument_list|,
name|rcreq_p
operator|->
name|rcreq_conn
operator|.
name|con_ssap
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_RCLOSE_IND
case|:
name|rcind_p
operator|=
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_rclose_ind
expr_stmt|;
name|strncpy
argument_list|(
name|daddr
argument_list|,
name|spans_addr_print
argument_list|(
operator|&
name|rcind_p
operator|->
name|rcind_conn
operator|.
name|con_dst
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|daddr
argument_list|)
argument_list|)
expr_stmt|;
name|strncpy
argument_list|(
name|saddr
argument_list|,
name|spans_addr_print
argument_list|(
operator|&
name|rcind_p
operator|->
name|rcind_conn
operator|.
name|con_src
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|saddr
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"daddr=%s, saddr=%s, dsap=%d, ssap=%d"
argument_list|,
name|daddr
argument_list|,
name|saddr
argument_list|,
name|rcind_p
operator|->
name|rcind_conn
operator|.
name|con_dsap
argument_list|,
name|rcind_p
operator|->
name|rcind_conn
operator|.
name|con_ssap
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_RCLOSE_RSP
case|:
name|rcrsp_p
operator|=
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_rclose_rsp
expr_stmt|;
name|strncpy
argument_list|(
name|daddr
argument_list|,
name|spans_addr_print
argument_list|(
operator|&
name|rcrsp_p
operator|->
name|rcrsp_conn
operator|.
name|con_dst
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|daddr
argument_list|)
argument_list|)
expr_stmt|;
name|strncpy
argument_list|(
name|saddr
argument_list|,
name|spans_addr_print
argument_list|(
operator|&
name|rcrsp_p
operator|->
name|rcrsp_conn
operator|.
name|con_src
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|saddr
argument_list|)
argument_list|)
expr_stmt|;
name|spans_result_str
argument_list|(
operator|&
name|rcrsp_p
operator|->
name|rcrsp_result
argument_list|,
name|result_str
argument_list|,
sizeof|sizeof
argument_list|(
name|result_str
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"result=%s, daddr=%s, saddr=%s, dsap=%d, ssap=%d"
argument_list|,
name|result_str
argument_list|,
name|daddr
argument_list|,
name|saddr
argument_list|,
name|rcrsp_p
operator|->
name|rcrsp_conn
operator|.
name|con_dsap
argument_list|,
name|rcrsp_p
operator|->
name|rcrsp_conn
operator|.
name|con_ssap
argument_list|)
expr_stmt|;
break|break;
case|case
name|SPANS_RCLOSE_CNF
case|:
name|rccnf_p
operator|=
operator|&
name|objp
operator|->
name|spans_msgbody_u
operator|.
name|mb_rclose_cnf
expr_stmt|;
name|strncpy
argument_list|(
name|daddr
argument_list|,
name|spans_addr_print
argument_list|(
operator|&
name|rccnf_p
operator|->
name|rccnf_conn
operator|.
name|con_dst
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|daddr
argument_list|)
argument_list|)
expr_stmt|;
name|strncpy
argument_list|(
name|saddr
argument_list|,
name|spans_addr_print
argument_list|(
operator|&
name|rccnf_p
operator|->
name|rccnf_conn
operator|.
name|con_src
argument_list|)
argument_list|,
sizeof|sizeof
argument_list|(
name|saddr
argument_list|)
argument_list|)
expr_stmt|;
name|spans_result_str
argument_list|(
operator|&
name|rccnf_p
operator|->
name|rccnf_result
argument_list|,
name|result_str
argument_list|,
sizeof|sizeof
argument_list|(
name|result_str
argument_list|)
argument_list|)
expr_stmt|;
name|printf
argument_list|(
literal|"result=%s, daddr=%s, saddr=%s, dsap=%d, ssap=%d"
argument_list|,
name|result_str
argument_list|,
name|daddr
argument_list|,
name|saddr
argument_list|,
name|rccnf_p
operator|->
name|rccnf_conn
operator|.
name|con_dsap
argument_list|,
name|rccnf_p
operator|->
name|rccnf_conn
operator|.
name|con_ssap
argument_list|)
expr_stmt|;
break|break;
default|default:
break|break;
block|}
name|printf
argument_list|(
literal|"\n"
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|void
name|spans_print_msg
parameter_list|(
name|objp
parameter_list|)
name|spans_msg
modifier|*
name|objp
decl_stmt|;
block|{
ifdef|#
directive|ifdef
name|LONGPRINT
name|spans_indent
operator|=
name|INIT_INDENT
expr_stmt|;
endif|#
directive|endif
name|spans_print_msgbody
argument_list|(
operator|&
name|objp
operator|->
name|sm_body
argument_list|)
expr_stmt|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* ifdef LONGPRINT */
end_comment

end_unit

