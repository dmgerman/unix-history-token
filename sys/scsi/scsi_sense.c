begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_include
include|#
directive|include
file|<sys/param.h>
end_include

begin_include
include|#
directive|include
file|<scsi/scsiconf.h>
end_include

begin_comment
comment|/* XXX There should be a way for a type driver to have its own  *     private senses and add them when it is added.  */
end_comment

begin_if
if|#
directive|if
operator|!
name|defined
argument_list|(
name|NO_SCSI_SENSE
argument_list|)
end_if

begin_include
include|#
directive|include
file|"sd.h"
end_include

begin_include
include|#
directive|include
file|"st.h"
end_include

begin_define
define|#
directive|define
name|NSPRINT
value|0
end_define

begin_include
include|#
directive|include
file|"pt.h"
end_include

begin_include
include|#
directive|include
file|"worm.h"
end_include

begin_include
include|#
directive|include
file|"cd.h"
end_include

begin_define
define|#
directive|define
name|NSCAN
value|0
end_define

begin_include
include|#
directive|include
file|"od.h"
end_include

begin_include
include|#
directive|include
file|"ch.h"
end_include

begin_define
define|#
directive|define
name|NCOMM
value|0
end_define

begin_struct
specifier|static
struct|struct
block|{
name|u_char
name|asc
decl_stmt|;
name|u_char
name|ascq
decl_stmt|;
name|char
modifier|*
name|desc
decl_stmt|;
block|}
name|tab
index|[]
init|=
block|{
if|#
directive|if
operator|(
name|NCH
operator|>
literal|0
operator|)
block|{
literal|0x28
block|,
literal|0x01
block|,
literal|"Import or export element accessed"
block|}
block|,
block|{
literal|0x21
block|,
literal|0x01
block|,
literal|"Invalid element address"
block|}
block|,
block|{
literal|0x3b
block|,
literal|0x0d
block|,
literal|"Medium destination element full"
block|}
block|,
block|{
literal|0x3b
block|,
literal|0x0e
block|,
literal|"Medium source element empty"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NOD
operator|>
literal|0
operator|)
block|{
literal|0x58
block|,
literal|0x00
block|,
literal|"Generation does not exist"
block|}
block|,
block|{
literal|0x59
block|,
literal|0x00
block|,
literal|"Updated block read"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NSCAN
operator|>
literal|0
operator|)
block|{
literal|0x2c
block|,
literal|0x02
block|,
literal|"Invalid combination of windows specified"
block|}
block|,
block|{
literal|0x60
block|,
literal|0x00
block|,
literal|"Lamp failure"
block|}
block|,
block|{
literal|0x61
block|,
literal|0x02
block|,
literal|"Out of focus"
block|}
block|,
block|{
literal|0x3b
block|,
literal|0x0c
block|,
literal|"Position past beginning of medium"
block|}
block|,
block|{
literal|0x3b
block|,
literal|0x0b
block|,
literal|"Position past end of medium"
block|}
block|,
block|{
literal|0x3b
block|,
literal|0x0a
block|,
literal|"Read past beginning of medium"
block|}
block|,
block|{
literal|0x3b
block|,
literal|0x09
block|,
literal|"Read past end of medium"
block|}
block|,
block|{
literal|0x62
block|,
literal|0x00
block|,
literal|"Scan head positioning error"
block|}
block|,
block|{
literal|0x2c
block|,
literal|0x01
block|,
literal|"Too many windows specified"
block|}
block|,
block|{
literal|0x61
block|,
literal|0x01
block|,
literal|"Unable to acquire video"
block|}
block|,
block|{
literal|0x61
block|,
literal|0x00
block|,
literal|"Video acquisition error"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NCD
operator|>
literal|0
operator|)
block|{
literal|0x00
block|,
literal|0x11
block|,
literal|"Audio play operation in progress"
block|}
block|,
block|{
literal|0x00
block|,
literal|0x12
block|,
literal|"Audio play operation paused"
block|}
block|,
block|{
literal|0x00
block|,
literal|0x14
block|,
literal|"Audio play operation stopped due to error"
block|}
block|,
block|{
literal|0x00
block|,
literal|0x13
block|,
literal|"Audio play operation successfully completed"
block|}
block|,
block|{
literal|0x63
block|,
literal|0x00
block|,
literal|"End of user area encountered on this track"
block|}
block|,
block|{
literal|0x64
block|,
literal|0x00
block|,
literal|"Illegal mode for this track"
block|}
block|,
block|{
literal|0x00
block|,
literal|0x15
block|,
literal|"No current audio status to return"
block|}
block|,
block|{
literal|0x18
block|,
literal|0x03
block|,
literal|"Recovered data with CIRC"
block|}
block|,
block|{
literal|0x18
block|,
literal|0x04
block|,
literal|"Recovered data with L-EC"
block|}
block|,
block|{
literal|0x57
block|,
literal|0x00
block|,
literal|"Unable to recover table-of-contents"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NWORM
operator|>
literal|0
operator|)
operator|||
operator|(
name|NOD
operator|>
literal|0
operator|)
block|{
literal|0x11
block|,
literal|0x07
block|,
literal|"Data resynchronization error"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NWORM
operator|>
literal|0
operator|)
operator|||
operator|(
name|NCD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NOD
operator|>
literal|0
operator|)
block|{
literal|0x11
block|,
literal|0x06
block|,
literal|"Circ unrecovered error"
block|}
block|,
block|{
literal|0x09
block|,
literal|0x02
block|,
literal|"Focus servo failure"
block|}
block|,
block|{
literal|0x11
block|,
literal|0x05
block|,
literal|"L-EC uncorrectable error"
block|}
block|,
block|{
literal|0x17
block|,
literal|0x04
block|,
literal|"Recovered data with retries and/or CIRC applied"
block|}
block|,
block|{
literal|0x09
block|,
literal|0x03
block|,
literal|"Spindle servo failure"
block|}
block|,
block|{
literal|0x09
block|,
literal|0x01
block|,
literal|"Tracking servo failure"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NPT
operator|>
literal|0
operator|)
block|{
literal|0x54
block|,
literal|0x00
block|,
literal|"SCSI to host system interface failure"
block|}
block|,
block|{
literal|0x55
block|,
literal|0x00
block|,
literal|"System resource failure"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NSPRINT
operator|>
literal|0
operator|)
block|{
literal|0x3b
block|,
literal|0x07
block|,
literal|"Failed to sense bottom-of-form"
block|}
block|,
block|{
literal|0x3b
block|,
literal|0x06
block|,
literal|"Failed to sense top-of-form"
block|}
block|,
block|{
literal|0x3b
block|,
literal|0x05
block|,
literal|"Paper jam"
block|}
block|,
block|{
literal|0x36
block|,
literal|0x00
block|,
literal|"Ribbon, ink, or toner failure"
block|}
block|,
block|{
literal|0x3b
block|,
literal|0x04
block|,
literal|"Slew failure"
block|}
block|,
block|{
literal|0x3b
block|,
literal|0x03
block|,
literal|"Tape or electronic vertical forms unit not ready"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NST
operator|>
literal|0
operator|)
block|{
literal|0x14
block|,
literal|0x04
block|,
literal|"Block sequence error"
block|}
block|,
block|{
literal|0x52
block|,
literal|0x00
block|,
literal|"Cartridge fault"
block|}
block|,
block|{
literal|0x14
block|,
literal|0x03
block|,
literal|"End-of-data not found"
block|}
block|,
block|{
literal|0x03
block|,
literal|0x02
block|,
literal|"Excessive write errors"
block|}
block|,
block|{
literal|0x00
block|,
literal|0x01
block|,
literal|"Filemark detected"
block|}
block|,
block|{
literal|0x14
block|,
literal|0x02
block|,
literal|"Filemark or setmark not found"
block|}
block|,
block|{
literal|0x11
block|,
literal|0x08
block|,
literal|"Incomplete block read"
block|}
block|,
block|{
literal|0x11
block|,
literal|0x09
block|,
literal|"No gap found"
block|}
block|,
block|{
literal|0x03
block|,
literal|0x01
block|,
literal|"No write current"
block|}
block|,
block|{
literal|0x2d
block|,
literal|0x00
block|,
literal|"Overwrite error on update in place"
block|}
block|,
block|{
literal|0x50
block|,
literal|0x02
block|,
literal|"Position error related to timing"
block|}
block|,
block|{
literal|0x3b
block|,
literal|0x08
block|,
literal|"Reposition error"
block|}
block|,
block|{
literal|0x00
block|,
literal|0x03
block|,
literal|"Setmark detected"
block|}
block|,
block|{
literal|0x33
block|,
literal|0x00
block|,
literal|"Tape length error"
block|}
block|,
block|{
literal|0x3b
block|,
literal|0x01
block|,
literal|"Tape position error at beginning-of-medium"
block|}
block|,
block|{
literal|0x3b
block|,
literal|0x02
block|,
literal|"Tape position error at end-of-medium"
block|}
block|,
block|{
literal|0x53
block|,
literal|0x01
block|,
literal|"Unload tape failure"
block|}
block|,
block|{
literal|0x50
block|,
literal|0x00
block|,
literal|"Write append error"
block|}
block|,
block|{
literal|0x50
block|,
literal|0x01
block|,
literal|"Write append position error"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NST
operator|>
literal|0
operator|)
operator|||
operator|(
name|NOD
operator|>
literal|0
operator|)
block|{
literal|0x51
block|,
literal|0x00
block|,
literal|"Erase failure"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NST
operator|>
literal|0
operator|)
operator|||
operator|(
name|NSCAN
operator|>
literal|0
operator|)
block|{
literal|0x00
block|,
literal|0x04
block|,
literal|"Beginning-of-partition/medium detected"
block|}
block|,
block|{
literal|0x00
block|,
literal|0x05
block|,
literal|"End-of-data detected"
block|}
block|,
block|{
literal|0x00
block|,
literal|0x02
block|,
literal|"End-of-partition/medium detected"
block|}
block|,
block|{
literal|0x0c
block|,
literal|0x00
block|,
literal|"Write error"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NST
operator|>
literal|0
operator|)
operator|||
operator|(
name|NSPRINT
operator|>
literal|0
operator|)
block|{
literal|0x3b
block|,
literal|0x00
block|,
literal|"Sequential positioning error"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NSD
operator|>
literal|0
operator|)
block|{
literal|0x41
block|,
literal|0x00
block|,
literal|"Data path failure (should use 40 nn)"
block|}
block|,
block|{
literal|0x22
block|,
literal|0x00
block|,
literal|"Illegal function (should use 20 00, 24 00, or 26 00)"
block|}
block|,
block|{
literal|0x42
block|,
literal|0x00
block|,
literal|"Power-on or self-test failure (should use 40 nn)"
block|}
block|,
block|{
literal|0x40
block|,
literal|0x00
block|,
literal|"Ram failure (should use 40 nn)"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NSD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NOD
operator|>
literal|0
operator|)
block|{
literal|0x19
block|,
literal|0x00
block|,
literal|"Defect list error"
block|}
block|,
block|{
literal|0x19
block|,
literal|0x03
block|,
literal|"Defect list error in grown list"
block|}
block|,
block|{
literal|0x19
block|,
literal|0x02
block|,
literal|"Defect list error in primary list"
block|}
block|,
block|{
literal|0x19
block|,
literal|0x01
block|,
literal|"Defect list not available"
block|}
block|,
block|{
literal|0x1c
block|,
literal|0x00
block|,
literal|"Defect list not found"
block|}
block|,
block|{
literal|0x1c
block|,
literal|0x02
block|,
literal|"Grown defect list not found"
block|}
block|,
block|{
literal|0x1c
block|,
literal|0x01
block|,
literal|"Primary defect list not found"
block|}
block|,
block|{
literal|0x5c
block|,
literal|0x00
block|,
literal|"RPL status change"
block|}
block|,
block|{
literal|0x5c
block|,
literal|0x02
block|,
literal|"Spindles not synchronized"
block|}
block|,
block|{
literal|0x5c
block|,
literal|0x01
block|,
literal|"Spindles synchronized"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NSD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NWORM
operator|>
literal|0
operator|)
operator|||
operator|(
name|NOD
operator|>
literal|0
operator|)
block|{
literal|0x13
block|,
literal|0x00
block|,
literal|"Address mark not found for data field"
block|}
block|,
block|{
literal|0x12
block|,
literal|0x00
block|,
literal|"Address mark not found for id field"
block|}
block|,
block|{
literal|0x16
block|,
literal|0x00
block|,
literal|"Data synchronization mark error"
block|}
block|,
block|{
literal|0x32
block|,
literal|0x01
block|,
literal|"Defect list update failure"
block|}
block|,
block|{
literal|0x10
block|,
literal|0x00
block|,
literal|"Id CRC or ECC error"
block|}
block|,
block|{
literal|0x1d
block|,
literal|0x00
block|,
literal|"Miscompare during verify operation"
block|}
block|,
block|{
literal|0x32
block|,
literal|0x00
block|,
literal|"No defect spare location available"
block|}
block|,
block|{
literal|0x01
block|,
literal|0x00
block|,
literal|"No index/sector signal"
block|}
block|,
block|{
literal|0x17
block|,
literal|0x06
block|,
literal|"Recovered data without ECC - data auto-reallocated"
block|}
block|,
block|{
literal|0x17
block|,
literal|0x07
block|,
literal|"Recovered data without ECC - recommend reassignment"
block|}
block|,
block|{
literal|0x17
block|,
literal|0x08
block|,
literal|"Recovered data without ECC - recommend rewrite"
block|}
block|,
block|{
literal|0x1e
block|,
literal|0x00
block|,
literal|"Recovered ID with ECC correction"
block|}
block|,
block|{
literal|0x11
block|,
literal|0x04
block|,
literal|"Unrecovered read error - auto reallocate failed"
block|}
block|,
block|{
literal|0x11
block|,
literal|0x0b
block|,
literal|"Unrecovered read error - recommend reassignment"
block|}
block|,
block|{
literal|0x11
block|,
literal|0x0c
block|,
literal|"Unrecovered read error - recommend rewrite the data"
block|}
block|,
block|{
literal|0x0c
block|,
literal|0x02
block|,
literal|"Write error - auto reallocation failed"
block|}
block|,
block|{
literal|0x0c
block|,
literal|0x01
block|,
literal|"Write error recovered with auto reallocation"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NSD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NWORM
operator|>
literal|0
operator|)
operator|||
operator|(
name|NCD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NOD
operator|>
literal|0
operator|)
block|{
literal|0x18
block|,
literal|0x02
block|,
literal|"Recovered data - data auto-reallocated"
block|}
block|,
block|{
literal|0x18
block|,
literal|0x05
block|,
literal|"Recovered data - recommend reassignment"
block|}
block|,
block|{
literal|0x18
block|,
literal|0x06
block|,
literal|"Recovered data - recommend rewrite"
block|}
block|,
block|{
literal|0x17
block|,
literal|0x05
block|,
literal|"Recovered data using previous sector id"
block|}
block|,
block|{
literal|0x18
block|,
literal|0x01
block|,
literal|"Recovered data with error correction& retries applied"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NSD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NWORM
operator|>
literal|0
operator|)
operator|||
operator|(
name|NCD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NOD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NCH
operator|>
literal|0
operator|)
block|{
literal|0x06
block|,
literal|0x00
block|,
literal|"No reference position found"
block|}
block|,
block|{
literal|0x02
block|,
literal|0x00
block|,
literal|"No seek complete"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NSD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NSPRINT
operator|>
literal|0
operator|)
operator|||
operator|(
name|NOD
operator|>
literal|0
operator|)
block|{
literal|0x31
block|,
literal|0x01
block|,
literal|"Format command failed"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NSD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NST
operator|>
literal|0
operator|)
block|{
literal|0x30
block|,
literal|0x03
block|,
literal|"Cleaning cartridge installed"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NSD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NST
operator|>
literal|0
operator|)
operator|||
operator|(
name|NOD
operator|>
literal|0
operator|)
block|{
literal|0x11
block|,
literal|0x0a
block|,
literal|"Miscorrected error"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NSD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NST
operator|>
literal|0
operator|)
operator|||
operator|(
name|NWORM
operator|>
literal|0
operator|)
operator|||
operator|(
name|NOD
operator|>
literal|0
operator|)
block|{
literal|0x31
block|,
literal|0x00
block|,
literal|"Medium format corrupted"
block|}
block|,
block|{
literal|0x5a
block|,
literal|0x03
block|,
literal|"Operator selected write permit"
block|}
block|,
block|{
literal|0x5a
block|,
literal|0x02
block|,
literal|"Operator selected write protect"
block|}
block|,
block|{
literal|0x27
block|,
literal|0x00
block|,
literal|"Write protected"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NSD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NST
operator|>
literal|0
operator|)
operator|||
operator|(
name|NWORM
operator|>
literal|0
operator|)
operator|||
operator|(
name|NSCAN
operator|>
literal|0
operator|)
operator|||
operator|(
name|NOD
operator|>
literal|0
operator|)
block|{
literal|0x11
block|,
literal|0x02
block|,
literal|"Error too long to correct"
block|}
block|,
block|{
literal|0x11
block|,
literal|0x03
block|,
literal|"Multiple read errors"
block|}
block|,
block|{
literal|0x11
block|,
literal|0x01
block|,
literal|"Read retries exhausted"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NSD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NST
operator|>
literal|0
operator|)
operator|||
operator|(
name|NWORM
operator|>
literal|0
operator|)
operator|||
operator|(
name|NCD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NOD
operator|>
literal|0
operator|)
block|{
literal|0x30
block|,
literal|0x02
block|,
literal|"Cannot read medium - incompatible format"
block|}
block|,
block|{
literal|0x30
block|,
literal|0x01
block|,
literal|"Cannot read medium - unknown format"
block|}
block|,
block|{
literal|0x15
block|,
literal|0x02
block|,
literal|"Positioning error detected by read of medium"
block|}
block|,
block|{
literal|0x14
block|,
literal|0x01
block|,
literal|"Record not found"
block|}
block|,
block|{
literal|0x18
block|,
literal|0x00
block|,
literal|"Recovered data with error correction applied"
block|}
block|,
block|{
literal|0x17
block|,
literal|0x03
block|,
literal|"Recovered data with negative head offset"
block|}
block|,
block|{
literal|0x17
block|,
literal|0x02
block|,
literal|"Recovered data with positive head offset"
block|}
block|,
block|{
literal|0x09
block|,
literal|0x00
block|,
literal|"Track following error"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NSD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NST
operator|>
literal|0
operator|)
operator|||
operator|(
name|NWORM
operator|>
literal|0
operator|)
operator|||
operator|(
name|NCD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NOD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NCH
operator|>
literal|0
operator|)
block|{
literal|0x30
block|,
literal|0x00
block|,
literal|"Incompatible medium installed"
block|}
block|,
block|{
literal|0x21
block|,
literal|0x00
block|,
literal|"Logical block address out of range"
block|}
block|,
block|{
literal|0x53
block|,
literal|0x02
block|,
literal|"Medium removal prevented"
block|}
block|,
block|{
literal|0x5a
block|,
literal|0x01
block|,
literal|"Operator medium removal request"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NSD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NST
operator|>
literal|0
operator|)
operator|||
operator|(
name|NWORM
operator|>
literal|0
operator|)
operator|||
operator|(
name|NCD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NSCAN
operator|>
literal|0
operator|)
operator|||
operator|(
name|NOD
operator|>
literal|0
operator|)
block|{
literal|0x17
block|,
literal|0x00
block|,
literal|"Recovered data with no error correction applied"
block|}
block|,
block|{
literal|0x17
block|,
literal|0x01
block|,
literal|"Recovered data with retries"
block|}
block|,
block|{
literal|0x11
block|,
literal|0x00
block|,
literal|"Unrecovered read error"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NSD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NST
operator|>
literal|0
operator|)
operator|||
operator|(
name|NSPRINT
operator|>
literal|0
operator|)
operator|||
operator|(
name|NOD
operator|>
literal|0
operator|)
block|{
literal|0x04
block|,
literal|0x04
block|,
literal|"Logical unit not ready, format in progress"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NSD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NST
operator|>
literal|0
operator|)
operator|||
operator|(
name|NSPRINT
operator|>
literal|0
operator|)
operator|||
operator|(
name|NWORM
operator|>
literal|0
operator|)
operator|||
operator|(
name|NSCAN
operator|>
literal|0
operator|)
operator|||
operator|(
name|NOD
operator|>
literal|0
operator|)
block|{
literal|0x03
block|,
literal|0x00
block|,
literal|"Peripheral device write fault"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NSD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NST
operator|>
literal|0
operator|)
operator|||
operator|(
name|NSPRINT
operator|>
literal|0
operator|)
operator|||
operator|(
name|NWORM
operator|>
literal|0
operator|)
operator|||
operator|(
name|NCD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NSCAN
operator|>
literal|0
operator|)
operator|||
operator|(
name|NOD
operator|>
literal|0
operator|)
block|{
literal|0x14
block|,
literal|0x00
block|,
literal|"Recorded entity not found"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NSD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NST
operator|>
literal|0
operator|)
operator|||
operator|(
name|NSPRINT
operator|>
literal|0
operator|)
operator|||
operator|(
name|NWORM
operator|>
literal|0
operator|)
operator|||
operator|(
name|NCD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NSCAN
operator|>
literal|0
operator|)
operator|||
operator|(
name|NOD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NCH
operator|>
literal|0
operator|)
block|{
literal|0x15
block|,
literal|0x01
block|,
literal|"Mechanical positioning error"
block|}
block|,
block|{
literal|0x53
block|,
literal|0x00
block|,
literal|"Media load or eject failed"
block|}
block|,
block|{
literal|0x3a
block|,
literal|0x00
block|,
literal|"Medium not present"
block|}
block|,
block|{
literal|0x07
block|,
literal|0x00
block|,
literal|"Multiple peripheral devices selected"
block|}
block|,
block|{
literal|0x15
block|,
literal|0x00
block|,
literal|"Random positioning error"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NSD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NST
operator|>
literal|0
operator|)
operator|||
operator|(
name|NSPRINT
operator|>
literal|0
operator|)
operator|||
operator|(
name|NWORM
operator|>
literal|0
operator|)
operator|||
operator|(
name|NCD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NSCAN
operator|>
literal|0
operator|)
operator|||
operator|(
name|NOD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NCH
operator|>
literal|0
operator|)
operator|||
operator|(
name|ncomm
operator|>
literal|0
operator|)
block|{
literal|0x2a
block|,
literal|0x02
block|,
literal|"Log parameters changed"
block|}
block|,
block|{
literal|0x08
block|,
literal|0x00
block|,
literal|"Logical unit communication failure"
block|}
block|,
block|{
literal|0x08
block|,
literal|0x02
block|,
literal|"Logical unit communication parity error"
block|}
block|,
block|{
literal|0x08
block|,
literal|0x01
block|,
literal|"Logical unit communication time-out"
block|}
block|,
block|{
literal|0x2a
block|,
literal|0x01
block|,
literal|"Mode parameters changed"
block|}
block|,
block|{
literal|0x2a
block|,
literal|0x00
block|,
literal|"Parameters changed"
block|}
block|,
block|{
literal|0x37
block|,
literal|0x00
block|,
literal|"Rounded parameter"
block|}
block|,
block|{
literal|0x39
block|,
literal|0x00
block|,
literal|"Saving parameters not supported"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NSD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NST
operator|>
literal|0
operator|)
operator|||
operator|(
name|NSPRINT
operator|>
literal|0
operator|)
operator|||
operator|(
name|NPT
operator|>
literal|0
operator|)
operator|||
operator|(
name|NWORM
operator|>
literal|0
operator|)
operator|||
operator|(
name|NCD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NSCAN
operator|>
literal|0
operator|)
operator|||
operator|(
name|NOD
operator|>
literal|0
operator|)
operator|||
operator|(
name|ncomm
operator|>
literal|0
operator|)
block|{
literal|0x2b
block|,
literal|0x00
block|,
literal|"Copy cannot execute since host cannot disconnect"
block|}
block|,
endif|#
directive|endif
if|#
directive|if
operator|(
name|NSD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NST
operator|>
literal|0
operator|)
operator|||
operator|(
name|NSPRINT
operator|>
literal|0
operator|)
operator|||
operator|(
name|NPT
operator|>
literal|0
operator|)
operator|||
operator|(
name|NWORM
operator|>
literal|0
operator|)
operator|||
operator|(
name|NCD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NSCAN
operator|>
literal|0
operator|)
operator|||
operator|(
name|NOD
operator|>
literal|0
operator|)
operator|||
operator|(
name|NCH
operator|>
literal|0
operator|)
block|{
literal|0x5b
block|,
literal|0x02
block|,
literal|"Log counter at maximum"
block|}
block|,
block|{
literal|0x5b
block|,
literal|0x00
block|,
literal|"Log exception"
block|}
block|,
block|{
literal|0x5b
block|,
literal|0x03
block|,
literal|"Log list codes exhausted"
block|}
block|,
block|{
literal|0x5a
block|,
literal|0x00
block|,
literal|"Operator request or state change input (unspecified)"
block|}
block|,
block|{
literal|0x5b
block|,
literal|0x01
block|,
literal|"Threshold condition met"
block|}
block|,
endif|#
directive|endif
block|{
literal|0x3f
block|,
literal|0x02
block|,
literal|"Changed operating definition"
block|}
block|,
block|{
literal|0x4a
block|,
literal|0x00
block|,
literal|"Command phase error"
block|}
block|,
block|{
literal|0x2c
block|,
literal|0x00
block|,
literal|"Command sequence error"
block|}
block|,
block|{
literal|0x2f
block|,
literal|0x00
block|,
literal|"Commands cleared by another initiator"
block|}
block|,
block|{
literal|0x4b
block|,
literal|0x00
block|,
literal|"Data phase error"
block|}
block|,
comment|/*	{0x40, 0xnn, "Diagnostic failure on component nn (80h-ffh)" }, */
block|{
literal|0x0a
block|,
literal|0x00
block|,
literal|"Error log overflow"
block|}
block|,
block|{
literal|0x00
block|,
literal|0x06
block|,
literal|"I/O process terminated"
block|}
block|,
block|{
literal|0x48
block|,
literal|0x00
block|,
literal|"Initiator detected error message received"
block|}
block|,
block|{
literal|0x3f
block|,
literal|0x03
block|,
literal|"Inquiry data has changed"
block|}
block|,
block|{
literal|0x44
block|,
literal|0x00
block|,
literal|"Internal target failure"
block|}
block|,
block|{
literal|0x3d
block|,
literal|0x00
block|,
literal|"Invalid bits in identify message"
block|}
block|,
block|{
literal|0x20
block|,
literal|0x00
block|,
literal|"Invalid command operation code"
block|}
block|,
block|{
literal|0x24
block|,
literal|0x00
block|,
literal|"Invalid field in CDB"
block|}
block|,
block|{
literal|0x26
block|,
literal|0x00
block|,
literal|"Invalid field in parameter list"
block|}
block|,
block|{
literal|0x49
block|,
literal|0x00
block|,
literal|"Invalid message error"
block|}
block|,
block|{
literal|0x05
block|,
literal|0x00
block|,
literal|"Logical unit does not respond to selection"
block|}
block|,
block|{
literal|0x4c
block|,
literal|0x00
block|,
literal|"Logical unit failed self-configuration"
block|}
block|,
block|{
literal|0x3e
block|,
literal|0x00
block|,
literal|"Logical unit has not self-configured yet"
block|}
block|,
block|{
literal|0x04
block|,
literal|0x01
block|,
literal|"Logical unit is in process of becoming ready"
block|}
block|,
block|{
literal|0x04
block|,
literal|0x00
block|,
literal|"Logical unit not ready, cause not reportable"
block|}
block|,
block|{
literal|0x04
block|,
literal|0x02
block|,
literal|"Logical unit not ready, initializing command required"
block|}
block|,
block|{
literal|0x04
block|,
literal|0x03
block|,
literal|"Logical unit not ready, manual intervention required"
block|}
block|,
block|{
literal|0x25
block|,
literal|0x00
block|,
literal|"Logical unit not supported"
block|}
block|,
block|{
literal|0x43
block|,
literal|0x00
block|,
literal|"Message error"
block|}
block|,
block|{
literal|0x3f
block|,
literal|0x01
block|,
literal|"Microcode has been changed"
block|}
block|,
block|{
literal|0x00
block|,
literal|0x00
block|,
literal|"No additional sense information"
block|}
block|,
block|{
literal|0x28
block|,
literal|0x00
block|,
literal|"Not ready to ready transition, medium may have changed"
block|}
block|,
block|{
literal|0x4e
block|,
literal|0x00
block|,
literal|"Overlapped commands attempted"
block|}
block|,
block|{
literal|0x1a
block|,
literal|0x00
block|,
literal|"Parameter list length error"
block|}
block|,
block|{
literal|0x26
block|,
literal|0x01
block|,
literal|"Parameter not supported"
block|}
block|,
block|{
literal|0x26
block|,
literal|0x02
block|,
literal|"Parameter value invalid"
block|}
block|,
block|{
literal|0x29
block|,
literal|0x00
block|,
literal|"Power on, reset, or bus device reset occurred"
block|}
block|,
block|{
literal|0x47
block|,
literal|0x00
block|,
literal|"SCSI parity error"
block|}
block|,
block|{
literal|0x45
block|,
literal|0x00
block|,
literal|"Select or reselect failure"
block|}
block|,
block|{
literal|0x1b
block|,
literal|0x00
block|,
literal|"Synchronous data transfer error"
block|}
block|,
block|{
literal|0x3f
block|,
literal|0x00
block|,
literal|"Target operating conditions have changed"
block|}
block|,
block|{
literal|0x26
block|,
literal|0x03
block|,
literal|"Threshold parameters not supported"
block|}
block|,
block|{
literal|0x46
block|,
literal|0x00
block|,
literal|"Unsuccessful soft reset"
block|}
block|, }
struct|;
end_struct

begin_function
name|char
modifier|*
name|scsi_sense_desc
parameter_list|(
name|int
name|asc
parameter_list|,
name|int
name|ascq
parameter_list|)
block|{
name|int
name|i
decl_stmt|;
if|if
condition|(
name|asc
operator|>=
literal|0x80
operator|&&
name|asc
operator|<=
literal|0xff
condition|)
return|return
literal|"Vendor Specific ASC"
return|;
if|if
condition|(
name|ascq
operator|>=
literal|0x80
operator|&&
name|ascq
operator|<=
literal|0xff
condition|)
return|return
literal|"Vendor Specific ASCQ"
return|;
for|for
control|(
name|i
operator|=
literal|0
init|;
name|i
operator|<
sizeof|sizeof
argument_list|(
name|tab
argument_list|)
operator|/
sizeof|sizeof
argument_list|(
name|tab
index|[
literal|0
index|]
argument_list|)
condition|;
name|i
operator|++
control|)
if|if
condition|(
name|tab
index|[
name|i
index|]
operator|.
name|asc
operator|==
name|asc
operator|&&
name|tab
index|[
name|i
index|]
operator|.
name|ascq
operator|==
name|ascq
condition|)
return|return
name|tab
index|[
name|i
index|]
operator|.
name|desc
return|;
return|return
literal|""
return|;
block|}
end_function

begin_else
else|#
directive|else
end_else

begin_comment
comment|/* NO_SCSI_SENSE */
end_comment

begin_function
name|char
modifier|*
name|scsi_sense_desc
parameter_list|(
name|int
name|asc
parameter_list|,
name|int
name|ascq
parameter_list|)
block|{
return|return
literal|""
return|;
block|}
end_function

begin_endif
endif|#
directive|endif
end_endif

end_unit

