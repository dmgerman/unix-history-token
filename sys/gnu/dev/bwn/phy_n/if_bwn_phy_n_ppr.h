begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*    Broadcom B43 wireless driver   IEEE 802.11n PHY data tables    Copyright (c) 2008 Michael Buesch<m@bues.ch>   Copyright (c) 2010 RafaÅ MiÅecki<zajec5@gmail.com>    This program is free software; you can redistribute it and/or modify   it under the terms of the GNU General Public License as published by   the Free Software Foundation; either version 2 of the License, or   (at your option) any later version.    This program is distributed in the hope that it will be useful,   but WITHOUT ANY WARRANTY; without even the implied warranty of   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the   GNU General Public License for more details.    You should have received a copy of the GNU General Public License   along with this program; see the file COPYING.  If not, write to   the Free Software Foundation, Inc., 51 Franklin Steet, Fifth Floor,   Boston, MA 02110-1301, USA.  */
end_comment

begin_comment
comment|/*  * $FreeBSD$  */
end_comment

begin_ifndef
ifndef|#
directive|ifndef
name|__IF_BWN_PHY_PPR_H__
end_ifndef

begin_define
define|#
directive|define
name|__IF_BWN_PHY_PPR_H__
end_define

begin_define
define|#
directive|define
name|BWN_PPR_CCK_RATES_NUM
value|4
end_define

begin_define
define|#
directive|define
name|BWN_PPR_OFDM_RATES_NUM
value|8
end_define

begin_define
define|#
directive|define
name|BWN_PPR_MCS_RATES_NUM
value|8
end_define

begin_define
define|#
directive|define
name|BWN_PPR_RATES_NUM
value|(BWN_PPR_CCK_RATES_NUM +	\ 				 BWN_PPR_OFDM_RATES_NUM * 2 +	\ 				 BWN_PPR_MCS_RATES_NUM * 4)
end_define

begin_struct
struct|struct
name|bwn_ppr_rates
block|{
name|uint8_t
name|cck
index|[
name|BWN_PPR_CCK_RATES_NUM
index|]
decl_stmt|;
name|uint8_t
name|ofdm
index|[
name|BWN_PPR_OFDM_RATES_NUM
index|]
decl_stmt|;
name|uint8_t
name|ofdm_20_cdd
index|[
name|BWN_PPR_OFDM_RATES_NUM
index|]
decl_stmt|;
name|uint8_t
name|mcs_20
index|[
name|BWN_PPR_MCS_RATES_NUM
index|]
decl_stmt|;
comment|/* single stream rates */
name|uint8_t
name|mcs_20_cdd
index|[
name|BWN_PPR_MCS_RATES_NUM
index|]
decl_stmt|;
name|uint8_t
name|mcs_20_stbc
index|[
name|BWN_PPR_MCS_RATES_NUM
index|]
decl_stmt|;
name|uint8_t
name|mcs_20_sdm
index|[
name|BWN_PPR_MCS_RATES_NUM
index|]
decl_stmt|;
block|}
struct|;
end_struct

begin_struct
struct|struct
name|bwn_ppr
block|{
comment|/* All powers are in 1/4 dBm (Q5.2) */
union|union
block|{
name|uint8_t
name|__all_rates
index|[
name|BWN_PPR_RATES_NUM
index|]
decl_stmt|;
name|struct
name|bwn_ppr_rates
name|rates
decl_stmt|;
block|}
union|;
block|}
struct|;
end_struct

begin_function_decl
specifier|extern
name|void
name|bwn_ppr_clear
parameter_list|(
name|struct
name|bwn_mac
modifier|*
name|mac
parameter_list|,
name|struct
name|bwn_ppr
modifier|*
name|ppr
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|void
name|bwn_ppr_add
parameter_list|(
name|struct
name|bwn_mac
modifier|*
name|mac
parameter_list|,
name|struct
name|bwn_ppr
modifier|*
name|ppr
parameter_list|,
name|int
name|diff
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|void
name|bwn_ppr_apply_max
parameter_list|(
name|struct
name|bwn_mac
modifier|*
name|mac
parameter_list|,
name|struct
name|bwn_ppr
modifier|*
name|ppr
parameter_list|,
name|uint8_t
name|max
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|void
name|bwn_ppr_apply_min
parameter_list|(
name|struct
name|bwn_mac
modifier|*
name|mac
parameter_list|,
name|struct
name|bwn_ppr
modifier|*
name|ppr
parameter_list|,
name|uint8_t
name|min
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|uint8_t
name|bwn_ppr_get_max
parameter_list|(
name|struct
name|bwn_mac
modifier|*
name|mac
parameter_list|,
name|struct
name|bwn_ppr
modifier|*
name|ppr
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
specifier|extern
name|bool
name|bwn_ppr_load_max_from_sprom
parameter_list|(
name|struct
name|bwn_mac
modifier|*
name|mac
parameter_list|,
name|struct
name|bwn_ppr
modifier|*
name|ppr
parameter_list|,
name|bwn_phy_band_t
name|band
parameter_list|)
function_decl|;
end_function_decl

begin_endif
endif|#
directive|endif
end_endif

end_unit

