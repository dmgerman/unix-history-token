begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*-  * Copyright (c) 1980, 1991, 1993  *	The Regents of the University of California.  All rights reserved.  *  * Redistribution and use in source and binary forms, with or without  * modification, are permitted provided that the following conditions  * are met:  * 1. Redistributions of source code must retain the above copyright  *    notice, this list of conditions and the following disclaimer.  * 2. Redistributions in binary form must reproduce the above copyright  *    notice, this list of conditions and the following disclaimer in the  *    documentation and/or other materials provided with the distribution.  * 3. All advertising materials mentioning features or use of this software  *    must display the following acknowledgement:  *	This product includes software developed by the University of  *	California, Berkeley and its contributors.  * 4. Neither the name of the University nor the names of its contributors  *    may be used to endorse or promote products derived from this software  *    without specific prior written permission.  *  * THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND  * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE  * ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE  * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS  * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)  * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT  * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY  * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF  * SUCH DAMAGE.  */
end_comment

begin_ifndef
ifndef|#
directive|ifndef
name|lint
end_ifndef

begin_if
if|#
directive|if
literal|0
end_if

begin_else
unit|static char sccsid[] = "@(#)init.c	8.1 (Berkeley) 5/31/93";
else|#
directive|else
end_else

begin_decl_stmt
specifier|static
specifier|const
name|char
name|rcsid
index|[]
init|=
literal|"$FreeBSD$"
decl_stmt|;
end_decl_stmt

begin_endif
endif|#
directive|endif
end_endif

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* not lint */
end_comment

begin_if
if|#
directive|if
name|__STDC__
end_if

begin_include
include|#
directive|include
file|<stdarg.h>
end_include

begin_else
else|#
directive|else
end_else

begin_include
include|#
directive|include
file|<varargs.h>
end_include

begin_endif
endif|#
directive|endif
end_endif

begin_include
include|#
directive|include
file|"csh.h"
end_include

begin_include
include|#
directive|include
file|"extern.h"
end_include

begin_define
define|#
directive|define
name|INF
value|1000
end_define

begin_decl_stmt
name|struct
name|biltins
name|bfunc
index|[]
init|=
block|{
block|{
literal|"@"
block|,
name|dolet
block|,
literal|0
block|,
name|INF
block|}
block|,
block|{
literal|"alias"
block|,
name|doalias
block|,
literal|0
block|,
name|INF
block|}
block|,
block|{
literal|"alloc"
block|,
name|showall
block|,
literal|0
block|,
literal|1
block|}
block|,
block|{
literal|"bg"
block|,
name|dobg
block|,
literal|0
block|,
name|INF
block|}
block|,
block|{
literal|"break"
block|,
name|dobreak
block|,
literal|0
block|,
literal|0
block|}
block|,
block|{
literal|"breaksw"
block|,
name|doswbrk
block|,
literal|0
block|,
literal|0
block|}
block|,
block|{
literal|"case"
block|,
name|dozip
block|,
literal|0
block|,
literal|1
block|}
block|,
block|{
literal|"cd"
block|,
name|dochngd
block|,
literal|0
block|,
name|INF
block|}
block|,
block|{
literal|"chdir"
block|,
name|dochngd
block|,
literal|0
block|,
name|INF
block|}
block|,
block|{
literal|"continue"
block|,
name|docontin
block|,
literal|0
block|,
literal|0
block|}
block|,
block|{
literal|"default"
block|,
name|dozip
block|,
literal|0
block|,
literal|0
block|}
block|,
block|{
literal|"dirs"
block|,
name|dodirs
block|,
literal|0
block|,
name|INF
block|}
block|,
block|{
literal|"echo"
block|,
name|doecho
block|,
literal|0
block|,
name|INF
block|}
block|,
block|{
literal|"else"
block|,
name|doelse
block|,
literal|0
block|,
name|INF
block|}
block|,
block|{
literal|"end"
block|,
name|doend
block|,
literal|0
block|,
literal|0
block|}
block|,
block|{
literal|"endif"
block|,
name|dozip
block|,
literal|0
block|,
literal|0
block|}
block|,
block|{
literal|"endsw"
block|,
name|dozip
block|,
literal|0
block|,
literal|0
block|}
block|,
block|{
literal|"eval"
block|,
name|doeval
block|,
literal|0
block|,
name|INF
block|}
block|,
block|{
literal|"exec"
block|,
name|execash
block|,
literal|1
block|,
name|INF
block|}
block|,
block|{
literal|"exit"
block|,
name|doexit
block|,
literal|0
block|,
name|INF
block|}
block|,
block|{
literal|"fg"
block|,
name|dofg
block|,
literal|0
block|,
name|INF
block|}
block|,
block|{
literal|"foreach"
block|,
name|doforeach
block|,
literal|3
block|,
name|INF
block|}
block|,
block|{
literal|"glob"
block|,
name|doglob
block|,
literal|0
block|,
name|INF
block|}
block|,
block|{
literal|"goto"
block|,
name|dogoto
block|,
literal|1
block|,
literal|1
block|}
block|,
block|{
literal|"hashstat"
block|,
name|hashstat
block|,
literal|0
block|,
literal|0
block|}
block|,
block|{
literal|"history"
block|,
name|dohist
block|,
literal|0
block|,
literal|2
block|}
block|,
block|{
literal|"if"
block|,
name|doif
block|,
literal|1
block|,
name|INF
block|}
block|,
block|{
literal|"jobs"
block|,
name|dojobs
block|,
literal|0
block|,
literal|1
block|}
block|,
block|{
literal|"kill"
block|,
name|dokill
block|,
literal|1
block|,
name|INF
block|}
block|,
block|{
literal|"limit"
block|,
name|dolimit
block|,
literal|0
block|,
literal|3
block|}
block|,
block|{
literal|"linedit"
block|,
name|doecho
block|,
literal|0
block|,
name|INF
block|}
block|,
block|{
literal|"login"
block|,
name|dologin
block|,
literal|0
block|,
literal|1
block|}
block|,
block|{
literal|"logout"
block|,
name|dologout
block|,
literal|0
block|,
literal|0
block|}
block|,
block|{
literal|"nice"
block|,
name|donice
block|,
literal|0
block|,
name|INF
block|}
block|,
block|{
literal|"nohup"
block|,
name|donohup
block|,
literal|0
block|,
name|INF
block|}
block|,
block|{
literal|"notify"
block|,
name|donotify
block|,
literal|0
block|,
name|INF
block|}
block|,
block|{
literal|"onintr"
block|,
name|doonintr
block|,
literal|0
block|,
literal|2
block|}
block|,
block|{
literal|"popd"
block|,
name|dopopd
block|,
literal|0
block|,
name|INF
block|}
block|,
block|{
literal|"printf"
block|,
name|doprintf
block|,
literal|1
block|,
name|INF
block|}
block|,
block|{
literal|"pushd"
block|,
name|dopushd
block|,
literal|0
block|,
name|INF
block|}
block|,
block|{
literal|"rehash"
block|,
name|dohash
block|,
literal|0
block|,
literal|0
block|}
block|,
block|{
literal|"repeat"
block|,
name|dorepeat
block|,
literal|2
block|,
name|INF
block|}
block|,
block|{
literal|"set"
block|,
name|doset
block|,
literal|0
block|,
name|INF
block|}
block|,
block|{
literal|"setenv"
block|,
name|dosetenv
block|,
literal|0
block|,
literal|2
block|}
block|,
block|{
literal|"shift"
block|,
name|shift
block|,
literal|0
block|,
literal|1
block|}
block|,
block|{
literal|"source"
block|,
name|dosource
block|,
literal|1
block|,
literal|2
block|}
block|,
block|{
literal|"stop"
block|,
name|dostop
block|,
literal|1
block|,
name|INF
block|}
block|,
block|{
literal|"suspend"
block|,
name|dosuspend
block|,
literal|0
block|,
literal|0
block|}
block|,
block|{
literal|"switch"
block|,
name|doswitch
block|,
literal|1
block|,
name|INF
block|}
block|,
block|{
literal|"time"
block|,
name|dotime
block|,
literal|0
block|,
name|INF
block|}
block|,
block|{
literal|"umask"
block|,
name|doumask
block|,
literal|0
block|,
literal|1
block|}
block|,
block|{
literal|"unalias"
block|,
name|unalias
block|,
literal|1
block|,
name|INF
block|}
block|,
block|{
literal|"unhash"
block|,
name|dounhash
block|,
literal|0
block|,
literal|0
block|}
block|,
block|{
literal|"unlimit"
block|,
name|dounlimit
block|,
literal|0
block|,
name|INF
block|}
block|,
block|{
literal|"unset"
block|,
name|unset
block|,
literal|1
block|,
name|INF
block|}
block|,
block|{
literal|"unsetenv"
block|,
name|dounsetenv
block|,
literal|1
block|,
name|INF
block|}
block|,
block|{
literal|"wait"
block|,
name|dowait
block|,
literal|0
block|,
literal|0
block|}
block|,
block|{
literal|"which"
block|,
name|dowhich
block|,
literal|1
block|,
name|INF
block|}
block|,
block|{
literal|"while"
block|,
name|dowhile
block|,
literal|1
block|,
name|INF
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|nbfunc
init|=
sizeof|sizeof
name|bfunc
operator|/
sizeof|sizeof
expr|*
name|bfunc
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|struct
name|srch
name|srchn
index|[]
init|=
block|{
block|{
literal|"@"
block|,
name|T_LET
block|}
block|,
block|{
literal|"break"
block|,
name|T_BREAK
block|}
block|,
block|{
literal|"breaksw"
block|,
name|T_BRKSW
block|}
block|,
block|{
literal|"case"
block|,
name|T_CASE
block|}
block|,
block|{
literal|"default"
block|,
name|T_DEFAULT
block|}
block|,
block|{
literal|"else"
block|,
name|T_ELSE
block|}
block|,
block|{
literal|"end"
block|,
name|T_END
block|}
block|,
block|{
literal|"endif"
block|,
name|T_ENDIF
block|}
block|,
block|{
literal|"endsw"
block|,
name|T_ENDSW
block|}
block|,
block|{
literal|"exit"
block|,
name|T_EXIT
block|}
block|,
block|{
literal|"foreach"
block|,
name|T_FOREACH
block|}
block|,
block|{
literal|"goto"
block|,
name|T_GOTO
block|}
block|,
block|{
literal|"if"
block|,
name|T_IF
block|}
block|,
block|{
literal|"label"
block|,
name|T_LABEL
block|}
block|,
block|{
literal|"set"
block|,
name|T_SET
block|}
block|,
block|{
literal|"switch"
block|,
name|T_SWITCH
block|}
block|,
block|{
literal|"while"
block|,
name|T_WHILE
block|}
block|}
decl_stmt|;
end_decl_stmt

begin_decl_stmt
name|int
name|nsrchn
init|=
sizeof|sizeof
name|srchn
operator|/
sizeof|sizeof
expr|*
name|srchn
decl_stmt|;
end_decl_stmt

end_unit

