begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* Copyright (c) 1979 Regents of the University of California */
end_comment

begin_comment
comment|/*  * clock - continually print the time of day  */
end_comment

begin_function
name|main
parameter_list|()
block|{
specifier|register
name|char
modifier|*
name|tp
decl_stmt|;
name|int
name|tim
index|[
literal|2
index|]
decl_stmt|;
specifier|extern
name|int
name|stop
parameter_list|()
function_decl|;
name|setexit
argument_list|()
expr_stmt|;
name|signal
argument_list|(
literal|3
argument_list|,
operator|&
name|stop
argument_list|)
expr_stmt|;
name|time
argument_list|(
name|tim
argument_list|)
expr_stmt|;
name|tp
operator|=
name|ctime
argument_list|(
name|tim
argument_list|)
operator|+
literal|11
expr_stmt|;
name|printf
argument_list|(
literal|"\n\t%8.8s\t"
argument_list|,
name|tp
argument_list|)
expr_stmt|;
while|while
condition|(
literal|1
condition|)
block|{
name|time
argument_list|(
name|tim
argument_list|)
expr_stmt|;
name|tp
operator|=
name|ctime
argument_list|(
name|tim
argument_list|)
operator|+
literal|11
expr_stmt|;
name|printf
argument_list|(
literal|"%8.8s\b\b\b\b\b\b\b\b"
argument_list|,
name|tp
argument_list|)
expr_stmt|;
name|sleep
argument_list|(
literal|1
argument_list|)
expr_stmt|;
block|}
block|}
end_function

begin_macro
name|stop
argument_list|()
end_macro

begin_block
block|{
specifier|extern
name|int
name|start
parameter_list|()
function_decl|;
name|signal
argument_list|(
literal|3
argument_list|,
operator|&
name|start
argument_list|)
expr_stmt|;
while|while
condition|(
literal|1
condition|)
name|sleep
argument_list|(
literal|3600
argument_list|)
expr_stmt|;
block|}
end_block

begin_macro
name|start
argument_list|()
end_macro

begin_block
block|{
name|reset
argument_list|()
expr_stmt|;
block|}
end_block

end_unit

