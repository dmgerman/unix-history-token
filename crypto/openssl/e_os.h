begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/* e_os.h */
end_comment

begin_comment
comment|/* Copyright (C) 1995-1998 Eric Young (eay@cryptsoft.com)  * All rights reserved.  *  * This package is an SSL implementation written  * by Eric Young (eay@cryptsoft.com).  * The implementation was written so as to conform with Netscapes SSL.  *  * This library is free for commercial and non-commercial use as long as  * the following conditions are aheared to.  The following conditions  * apply to all code found in this distribution, be it the RC4, RSA,  * lhash, DES, etc., code; not just the SSL code.  The SSL documentation  * included with this distribution is covered by the same copyright terms  * except that the holder is Tim Hudson (tjh@cryptsoft.com).  *  * Copyright remains Eric Young's, and as such any Copyright notices in  * the code are not to be removed.  * If this package is used in a product, Eric Young should be given attribution  * as the author of the parts of the library used.  * This can be in the form of a textual message at program startup or  * in documentation (online or textual) provided with the package.  *  * Redistribution and use in source and binary forms, with or without  * modification, are permitted provided that the following conditions  * are met:  * 1. Redistributions of source code must retain the copyright  *    notice, this list of conditions and the following disclaimer.  * 2. Redistributions in binary form must reproduce the above copyright  *    notice, this list of conditions and the following disclaimer in the  *    documentation and/or other materials provided with the distribution.  * 3. All advertising materials mentioning features or use of this software  *    must display the following acknowledgement:  *    "This product includes cryptographic software written by  *     Eric Young (eay@cryptsoft.com)"  *    The word 'cryptographic' can be left out if the rouines from the library  *    being used are not cryptographic related :-).  * 4. If you include any Windows specific code (or a derivative thereof) from  *    the apps directory (application code) you must include an acknowledgement:  *    "This product includes software written by Tim Hudson (tjh@cryptsoft.com)"  *  * THIS SOFTWARE IS PROVIDED BY ERIC YOUNG ``AS IS'' AND  * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE  * ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE  * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS  * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)  * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT  * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY  * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF  * SUCH DAMAGE.  *  * The licence and distribution terms for any publically available version or  * derivative of this code cannot be changed.  i.e. this code cannot simply be  * copied and put under another distribution licence  * [including the GNU Public Licence.]  */
end_comment

begin_ifndef
ifndef|#
directive|ifndef
name|HEADER_E_OS_H
end_ifndef

begin_define
define|#
directive|define
name|HEADER_E_OS_H
end_define

begin_include
include|#
directive|include
file|<openssl/opensslconf.h>
end_include

begin_include
include|#
directive|include
file|<openssl/e_os2.h>
end_include

begin_comment
comment|/*  *<openssl/e_os2.h> contains what we can justify to make visible to the  * outside; this file e_os.h is not part of the exported interface.  */
end_comment

begin_ifdef
ifdef|#
directive|ifdef
name|__cplusplus
end_ifdef

begin_extern
extern|extern
literal|"C"
block|{
endif|#
directive|endif
comment|/* Used to checking reference counts, most while doing perl5 stuff :-) */
ifdef|#
directive|ifdef
name|REF_PRINT
undef|#
directive|undef
name|REF_PRINT
define|#
directive|define
name|REF_PRINT
parameter_list|(
name|a
parameter_list|,
name|b
parameter_list|)
value|fprintf(stderr,"%08X:%4d:%s\n",(int)b,b->references,a)
endif|#
directive|endif
ifndef|#
directive|ifndef
name|DEVRANDOM
comment|/*  * set this to a comma-separated list of 'random' device files to try out. My  * default, we will try to read at least one of these files  */
define|#
directive|define
name|DEVRANDOM
value|"/dev/urandom","/dev/random","/dev/srandom"
endif|#
directive|endif
ifndef|#
directive|ifndef
name|DEVRANDOM_EGD
comment|/*  * set this to a comma-seperated list of 'egd' sockets to try out. These  * sockets will be tried in the order listed in case accessing the device  * files listed in DEVRANDOM did not return enough entropy.  */
define|#
directive|define
name|DEVRANDOM_EGD
value|"/var/run/egd-pool","/dev/egd-pool","/etc/egd-pool","/etc/entropy"
endif|#
directive|endif
if|#
directive|if
name|defined
argument_list|(
name|OPENSSL_SYS_VXWORKS
argument_list|)
define|#
directive|define
name|NO_SYS_PARAM_H
define|#
directive|define
name|NO_CHMOD
define|#
directive|define
name|NO_SYSLOG
endif|#
directive|endif
if|#
directive|if
name|defined
argument_list|(
name|OPENSSL_SYS_MACINTOSH_CLASSIC
argument_list|)
if|#
directive|if
name|macintosh
operator|==
literal|1
ifndef|#
directive|ifndef
name|MAC_OS_GUSI_SOURCE
define|#
directive|define
name|MAC_OS_pre_X
define|#
directive|define
name|NO_SYS_TYPES_H
endif|#
directive|endif
define|#
directive|define
name|NO_SYS_PARAM_H
define|#
directive|define
name|NO_CHMOD
define|#
directive|define
name|NO_SYSLOG
undef|#
directive|undef
name|DEVRANDOM
define|#
directive|define
name|GETPID_IS_MEANINGLESS
endif|#
directive|endif
endif|#
directive|endif
comment|/********************************************************************  The Microsoft section  ********************************************************************/
comment|/*  * The following is used because of the small stack in some Microsoft  * operating systems  */
if|#
directive|if
name|defined
argument_list|(
name|OPENSSL_SYS_MSDOS
argument_list|)
operator|&&
operator|!
name|defined
argument_list|(
name|OPENSSL_SYSNAME_WIN32
argument_list|)
define|#
directive|define
name|MS_STATIC
value|static
else|#
directive|else
define|#
directive|define
name|MS_STATIC
endif|#
directive|endif
if|#
directive|if
name|defined
argument_list|(
name|OPENSSL_SYS_WIN32
argument_list|)
operator|&&
operator|!
name|defined
argument_list|(
name|WIN32
argument_list|)
define|#
directive|define
name|WIN32
endif|#
directive|endif
if|#
directive|if
name|defined
argument_list|(
name|OPENSSL_SYS_WINDOWS
argument_list|)
operator|&&
operator|!
name|defined
argument_list|(
name|WINDOWS
argument_list|)
define|#
directive|define
name|WINDOWS
endif|#
directive|endif
if|#
directive|if
name|defined
argument_list|(
name|OPENSSL_SYS_MSDOS
argument_list|)
operator|&&
operator|!
name|defined
argument_list|(
name|MSDOS
argument_list|)
define|#
directive|define
name|MSDOS
endif|#
directive|endif
if|#
directive|if
name|defined
argument_list|(
name|MSDOS
argument_list|)
operator|&&
operator|!
name|defined
argument_list|(
name|GETPID_IS_MEANINGLESS
argument_list|)
define|#
directive|define
name|GETPID_IS_MEANINGLESS
endif|#
directive|endif
ifdef|#
directive|ifdef
name|WIN32
define|#
directive|define
name|get_last_sys_error
parameter_list|()
value|GetLastError()
define|#
directive|define
name|clear_sys_error
parameter_list|()
value|SetLastError(0)
if|#
directive|if
operator|!
name|defined
argument_list|(
name|WINNT
argument_list|)
define|#
directive|define
name|WIN_CONSOLE_BUG
endif|#
directive|endif
else|#
directive|else
define|#
directive|define
name|get_last_sys_error
parameter_list|()
value|errno
define|#
directive|define
name|clear_sys_error
parameter_list|()
value|errno=0
endif|#
directive|endif
if|#
directive|if
name|defined
argument_list|(
name|WINDOWS
argument_list|)
define|#
directive|define
name|get_last_socket_error
parameter_list|()
value|WSAGetLastError()
define|#
directive|define
name|clear_socket_error
parameter_list|()
value|WSASetLastError(0)
define|#
directive|define
name|readsocket
parameter_list|(
name|s
parameter_list|,
name|b
parameter_list|,
name|n
parameter_list|)
value|recv((s),(b),(n),0)
define|#
directive|define
name|writesocket
parameter_list|(
name|s
parameter_list|,
name|b
parameter_list|,
name|n
parameter_list|)
value|send((s),(b),(n),0)
elif|#
directive|elif
name|defined
argument_list|(
name|__DJGPP__
argument_list|)
define|#
directive|define
name|WATT32
define|#
directive|define
name|get_last_socket_error
parameter_list|()
value|errno
define|#
directive|define
name|clear_socket_error
parameter_list|()
value|errno=0
define|#
directive|define
name|closesocket
parameter_list|(
name|s
parameter_list|)
value|close_s(s)
define|#
directive|define
name|readsocket
parameter_list|(
name|s
parameter_list|,
name|b
parameter_list|,
name|n
parameter_list|)
value|read_s(s,b,n)
define|#
directive|define
name|writesocket
parameter_list|(
name|s
parameter_list|,
name|b
parameter_list|,
name|n
parameter_list|)
value|send(s,b,n,0)
elif|#
directive|elif
name|defined
argument_list|(
name|MAC_OS_pre_X
argument_list|)
define|#
directive|define
name|get_last_socket_error
parameter_list|()
value|errno
define|#
directive|define
name|clear_socket_error
parameter_list|()
value|errno=0
define|#
directive|define
name|closesocket
parameter_list|(
name|s
parameter_list|)
value|MacSocket_close(s)
define|#
directive|define
name|readsocket
parameter_list|(
name|s
parameter_list|,
name|b
parameter_list|,
name|n
parameter_list|)
value|MacSocket_recv((s),(b),(n),true)
define|#
directive|define
name|writesocket
parameter_list|(
name|s
parameter_list|,
name|b
parameter_list|,
name|n
parameter_list|)
value|MacSocket_send((s),(b),(n))
elif|#
directive|elif
name|defined
argument_list|(
name|OPENSSL_SYS_VMS
argument_list|)
define|#
directive|define
name|get_last_socket_error
parameter_list|()
value|errno
define|#
directive|define
name|clear_socket_error
parameter_list|()
value|errno=0
define|#
directive|define
name|ioctlsocket
parameter_list|(
name|a
parameter_list|,
name|b
parameter_list|,
name|c
parameter_list|)
value|ioctl(a,b,c)
define|#
directive|define
name|closesocket
parameter_list|(
name|s
parameter_list|)
value|close(s)
define|#
directive|define
name|readsocket
parameter_list|(
name|s
parameter_list|,
name|b
parameter_list|,
name|n
parameter_list|)
value|recv((s),(b),(n),0)
define|#
directive|define
name|writesocket
parameter_list|(
name|s
parameter_list|,
name|b
parameter_list|,
name|n
parameter_list|)
value|send((s),(b),(n),0)
elif|#
directive|elif
name|defined
argument_list|(
name|OPENSSL_SYS_VXWORKS
argument_list|)
define|#
directive|define
name|get_last_socket_error
parameter_list|()
value|errno
define|#
directive|define
name|clear_socket_error
parameter_list|()
value|errno=0
define|#
directive|define
name|ioctlsocket
parameter_list|(
name|a
parameter_list|,
name|b
parameter_list|,
name|c
parameter_list|)
value|ioctl((a),(b),(int)(c))
define|#
directive|define
name|closesocket
parameter_list|(
name|s
parameter_list|)
value|close(s)
define|#
directive|define
name|readsocket
parameter_list|(
name|s
parameter_list|,
name|b
parameter_list|,
name|n
parameter_list|)
value|read((s),(b),(n))
define|#
directive|define
name|writesocket
parameter_list|(
name|s
parameter_list|,
name|b
parameter_list|,
name|n
parameter_list|)
value|write((s),(char *)(b),(n))
elif|#
directive|elif
name|defined
argument_list|(
name|OPENSSL_SYS_BEOS_R5
argument_list|)
define|#
directive|define
name|get_last_socket_error
parameter_list|()
value|errno
define|#
directive|define
name|clear_socket_error
parameter_list|()
value|errno=0
define|#
directive|define
name|FIONBIO
value|SO_NONBLOCK
define|#
directive|define
name|ioctlsocket
parameter_list|(
name|a
parameter_list|,
name|b
parameter_list|,
name|c
parameter_list|)
value|setsockopt((a),SOL_SOCKET,(b),(c),sizeof(*(c)))
define|#
directive|define
name|readsocket
parameter_list|(
name|s
parameter_list|,
name|b
parameter_list|,
name|n
parameter_list|)
value|recv((s),(b),(n),0)
define|#
directive|define
name|writesocket
parameter_list|(
name|s
parameter_list|,
name|b
parameter_list|,
name|n
parameter_list|)
value|send((s),(b),(n),0)
elif|#
directive|elif
name|defined
argument_list|(
name|OPENSSL_SYS_NETWARE
argument_list|)
if|#
directive|if
name|defined
argument_list|(
name|NETWARE_BSDSOCK
argument_list|)
define|#
directive|define
name|get_last_socket_error
parameter_list|()
value|errno
define|#
directive|define
name|clear_socket_error
parameter_list|()
value|errno=0
define|#
directive|define
name|closesocket
parameter_list|(
name|s
parameter_list|)
value|close(s)
define|#
directive|define
name|ioctlsocket
parameter_list|(
name|a
parameter_list|,
name|b
parameter_list|,
name|c
parameter_list|)
value|ioctl(a,b,c)
if|#
directive|if
name|defined
argument_list|(
name|NETWARE_LIBC
argument_list|)
define|#
directive|define
name|readsocket
parameter_list|(
name|s
parameter_list|,
name|b
parameter_list|,
name|n
parameter_list|)
value|recv((s),(b),(n),0)
define|#
directive|define
name|writesocket
parameter_list|(
name|s
parameter_list|,
name|b
parameter_list|,
name|n
parameter_list|)
value|send((s),(b),(n),0)
else|#
directive|else
define|#
directive|define
name|readsocket
parameter_list|(
name|s
parameter_list|,
name|b
parameter_list|,
name|n
parameter_list|)
value|recv((s),(char*)(b),(n),0)
define|#
directive|define
name|writesocket
parameter_list|(
name|s
parameter_list|,
name|b
parameter_list|,
name|n
parameter_list|)
value|send((s),(char*)(b),(n),0)
endif|#
directive|endif
else|#
directive|else
define|#
directive|define
name|get_last_socket_error
parameter_list|()
value|WSAGetLastError()
define|#
directive|define
name|clear_socket_error
parameter_list|()
value|WSASetLastError(0)
define|#
directive|define
name|readsocket
parameter_list|(
name|s
parameter_list|,
name|b
parameter_list|,
name|n
parameter_list|)
value|recv((s),(b),(n),0)
define|#
directive|define
name|writesocket
parameter_list|(
name|s
parameter_list|,
name|b
parameter_list|,
name|n
parameter_list|)
value|send((s),(b),(n),0)
endif|#
directive|endif
else|#
directive|else
define|#
directive|define
name|get_last_socket_error
parameter_list|()
value|errno
define|#
directive|define
name|clear_socket_error
parameter_list|()
value|errno=0
define|#
directive|define
name|ioctlsocket
parameter_list|(
name|a
parameter_list|,
name|b
parameter_list|,
name|c
parameter_list|)
value|ioctl(a,b,c)
define|#
directive|define
name|closesocket
parameter_list|(
name|s
parameter_list|)
value|close(s)
define|#
directive|define
name|readsocket
parameter_list|(
name|s
parameter_list|,
name|b
parameter_list|,
name|n
parameter_list|)
value|read((s),(b),(n))
define|#
directive|define
name|writesocket
parameter_list|(
name|s
parameter_list|,
name|b
parameter_list|,
name|n
parameter_list|)
value|write((s),(b),(n))
endif|#
directive|endif
ifdef|#
directive|ifdef
name|WIN16
comment|/* never the case */
define|#
directive|define
name|MS_CALLBACK
value|_far _loadds
define|#
directive|define
name|MS_FAR
value|_far
else|#
directive|else
define|#
directive|define
name|MS_CALLBACK
define|#
directive|define
name|MS_FAR
endif|#
directive|endif
ifdef|#
directive|ifdef
name|OPENSSL_NO_STDIO
undef|#
directive|undef
name|OPENSSL_NO_FP_API
define|#
directive|define
name|OPENSSL_NO_FP_API
endif|#
directive|endif
if|#
directive|if
operator|(
name|defined
argument_list|(
name|WINDOWS
argument_list|)
operator|||
name|defined
argument_list|(
name|MSDOS
argument_list|)
operator|)
ifdef|#
directive|ifdef
name|__DJGPP__
include|#
directive|include
file|<unistd.h>
include|#
directive|include
file|<sys/stat.h>
include|#
directive|include
file|<sys/socket.h>
include|#
directive|include
file|<tcp.h>
include|#
directive|include
file|<netdb.h>
define|#
directive|define
name|_setmode
value|setmode
define|#
directive|define
name|_O_TEXT
value|O_TEXT
define|#
directive|define
name|_O_BINARY
value|O_BINARY
undef|#
directive|undef
name|DEVRANDOM
define|#
directive|define
name|DEVRANDOM
value|"/dev/urandom\x24"
endif|#
directive|endif
comment|/* __DJGPP__ */
ifndef|#
directive|ifndef
name|S_IFDIR
define|#
directive|define
name|S_IFDIR
value|_S_IFDIR
endif|#
directive|endif
ifndef|#
directive|ifndef
name|S_IFMT
define|#
directive|define
name|S_IFMT
value|_S_IFMT
endif|#
directive|endif
if|#
directive|if
operator|!
name|defined
argument_list|(
name|WINNT
argument_list|)
operator|&&
operator|!
name|defined
argument_list|(
name|__DJGPP__
argument_list|)
define|#
directive|define
name|NO_SYSLOG
endif|#
directive|endif
define|#
directive|define
name|NO_DIRENT
ifdef|#
directive|ifdef
name|WINDOWS
if|#
directive|if
operator|!
name|defined
argument_list|(
name|_WIN32_WCE
argument_list|)
operator|&&
operator|!
name|defined
argument_list|(
name|_WIN32_WINNT
argument_list|)
comment|/*         * Defining _WIN32_WINNT here in e_os.h implies certain "discipline."         * Most notably we ought to check for availability of each specific         * routine with GetProcAddress() and/or guard NT-specific calls with         * GetVersion()< 0x80000000. One can argue that in latter "or" case         * we ought to /DELAYLOAD some .DLLs in order to protect ourselves         * against run-time link errors. This doesn't seem to be necessary,         * because it turned out that already Windows 95, first non-NT Win32         * implementation, is equipped with at least NT 3.51 stubs, dummy         * routines with same name, but which do nothing. Meaning that it's         * apparently sufficient to guard "vanilla" NT calls with GetVersion         * alone, while NT 4.0 and above interfaces ought to be linked with         * GetProcAddress at run-time.         */
define|#
directive|define
name|_WIN32_WINNT
value|0x0400
endif|#
directive|endif
if|#
directive|if
operator|!
name|defined
argument_list|(
name|OPENSSL_NO_SOCK
argument_list|)
operator|&&
name|defined
argument_list|(
name|_WIN32_WINNT
argument_list|)
comment|/*         * Just like defining _WIN32_WINNT including winsock2.h implies         * certain "discipline" for maintaining [broad] binary compatibility.         * As long as structures are invariant among Winsock versions,         * it's sufficient to check for specific Winsock2 API availability         * at run-time [DSO_global_lookup is recommended]...         */
include|#
directive|include
file|<winsock2.h>
include|#
directive|include
file|<ws2tcpip.h>
comment|/* yes, they have to be #included prior to<windows.h> */
endif|#
directive|endif
include|#
directive|include
file|<windows.h>
include|#
directive|include
file|<stdio.h>
include|#
directive|include
file|<stddef.h>
include|#
directive|include
file|<errno.h>
include|#
directive|include
file|<string.h>
ifdef|#
directive|ifdef
name|_WIN64
define|#
directive|define
name|strlen
parameter_list|(
name|s
parameter_list|)
value|_strlen31(s)
comment|/* cut strings to 2GB */
specifier|static
name|__inline
name|unsigned
name|int
name|_strlen31
parameter_list|(
specifier|const
name|char
modifier|*
name|str
parameter_list|)
block|{
name|unsigned
name|int
name|len
init|=
literal|0
decl_stmt|;
while|while
condition|(
operator|*
name|str
operator|&&
name|len
operator|<
literal|0x80000000U
condition|)
name|str
operator|++
operator|,
name|len
operator|++
expr_stmt|;
return|return
name|len
operator|&
literal|0x7FFFFFFF
return|;
block|}
endif|#
directive|endif
include|#
directive|include
file|<malloc.h>
if|#
directive|if
name|defined
argument_list|(
name|_MSC_VER
argument_list|)
operator|&&
name|_MSC_VER
operator|<=
literal|1200
operator|&&
name|defined
argument_list|(
name|_MT
argument_list|)
operator|&&
name|defined
argument_list|(
name|isspace
argument_list|)
comment|/* compensate for bug in VC6 ctype.h */
undef|#
directive|undef
name|isspace
undef|#
directive|undef
name|isdigit
undef|#
directive|undef
name|isalnum
undef|#
directive|undef
name|isupper
undef|#
directive|undef
name|isxdigit
endif|#
directive|endif
if|#
directive|if
name|defined
argument_list|(
name|_MSC_VER
argument_list|)
operator|&&
operator|!
name|defined
argument_list|(
name|_DLL
argument_list|)
operator|&&
name|defined
argument_list|(
name|stdin
argument_list|)
if|#
directive|if
name|_MSC_VER
operator|>=
literal|1300
operator|&&
name|_MSC_VER
operator|<
literal|1600
undef|#
directive|undef
name|stdin
undef|#
directive|undef
name|stdout
undef|#
directive|undef
name|stderr
name|FILE
modifier|*
name|__iob_func
parameter_list|()
function_decl|;
define|#
directive|define
name|stdin
value|(&__iob_func()[0])
define|#
directive|define
name|stdout
value|(&__iob_func()[1])
define|#
directive|define
name|stderr
value|(&__iob_func()[2])
elif|#
directive|elif
name|_MSC_VER
operator|<
literal|1300
operator|&&
name|defined
argument_list|(
name|I_CAN_LIVE_WITH_LNK4049
argument_list|)
undef|#
directive|undef
name|stdin
undef|#
directive|undef
name|stdout
undef|#
directive|undef
name|stderr
comment|/*           * pre-1300 has __p__iob(), but it's available only in msvcrt.lib,           * or in other words with /MD. Declaring implicit import, i.e. with           * _imp_ prefix, works correctly with all compiler options, but           * without /MD results in LINK warning LNK4049: 'locally defined           * symbol "__iob" imported'.           */
specifier|extern
name|FILE
modifier|*
name|_imp___iob
decl_stmt|;
define|#
directive|define
name|stdin
value|(&_imp___iob[0])
define|#
directive|define
name|stdout
value|(&_imp___iob[1])
define|#
directive|define
name|stderr
value|(&_imp___iob[2])
endif|#
directive|endif
endif|#
directive|endif
endif|#
directive|endif
include|#
directive|include
file|<io.h>
include|#
directive|include
file|<fcntl.h>
ifdef|#
directive|ifdef
name|OPENSSL_SYS_WINCE
define|#
directive|define
name|OPENSSL_NO_POSIX_IO
endif|#
directive|endif
if|#
directive|if
name|defined
argument_list|(
name|__BORLANDC__
argument_list|)
define|#
directive|define
name|_setmode
value|setmode
define|#
directive|define
name|_O_TEXT
value|O_TEXT
define|#
directive|define
name|_O_BINARY
value|O_BINARY
define|#
directive|define
name|_int64
value|__int64
define|#
directive|define
name|_kbhit
value|kbhit
endif|#
directive|endif
define|#
directive|define
name|EXIT
parameter_list|(
name|n
parameter_list|)
value|exit(n)
define|#
directive|define
name|LIST_SEPARATOR_CHAR
value|';'
ifndef|#
directive|ifndef
name|X_OK
define|#
directive|define
name|X_OK
value|0
endif|#
directive|endif
ifndef|#
directive|ifndef
name|W_OK
define|#
directive|define
name|W_OK
value|2
endif|#
directive|endif
ifndef|#
directive|ifndef
name|R_OK
define|#
directive|define
name|R_OK
value|4
endif|#
directive|endif
define|#
directive|define
name|OPENSSL_CONF
value|"openssl.cnf"
define|#
directive|define
name|SSLEAY_CONF
value|OPENSSL_CONF
define|#
directive|define
name|NUL_DEV
value|"nul"
define|#
directive|define
name|RFILE
value|".rnd"
ifdef|#
directive|ifdef
name|OPENSSL_SYS_WINCE
define|#
directive|define
name|DEFAULT_HOME
value|""
else|#
directive|else
define|#
directive|define
name|DEFAULT_HOME
value|"C:"
endif|#
directive|endif
comment|/* Avoid Visual Studio 13 GetVersion deprecated problems */
if|#
directive|if
name|defined
argument_list|(
name|_MSC_VER
argument_list|)
operator|&&
name|_MSC_VER
operator|>=
literal|1800
define|#
directive|define
name|check_winnt
parameter_list|()
value|(1)
define|#
directive|define
name|check_win_minplat
parameter_list|(
name|x
parameter_list|)
value|(1)
else|#
directive|else
define|#
directive|define
name|check_winnt
parameter_list|()
value|(GetVersion()< 0x80000000)
define|#
directive|define
name|check_win_minplat
parameter_list|(
name|x
parameter_list|)
value|(LOBYTE(LOWORD(GetVersion()))>= (x))
endif|#
directive|endif
else|#
directive|else
comment|/* The non-microsoft world */
ifdef|#
directive|ifdef
name|OPENSSL_SYS_VMS
define|#
directive|define
name|VMS
value|1
comment|/*    * some programs don't include stdlib, so exit() and others give implicit    * function warnings    */
include|#
directive|include
file|<stdlib.h>
if|#
directive|if
name|defined
argument_list|(
name|__DECC
argument_list|)
include|#
directive|include
file|<unistd.h>
else|#
directive|else
include|#
directive|include
file|<unixlib.h>
endif|#
directive|endif
define|#
directive|define
name|OPENSSL_CONF
value|"openssl.cnf"
define|#
directive|define
name|SSLEAY_CONF
value|OPENSSL_CONF
define|#
directive|define
name|RFILE
value|".rnd"
define|#
directive|define
name|LIST_SEPARATOR_CHAR
value|','
define|#
directive|define
name|NUL_DEV
value|"NLA0:"
comment|/* We don't have any well-defined random devices on VMS, yet... */
undef|#
directive|undef
name|DEVRANDOM
comment|/*-      We need to do this since VMS has the following coding on status codes:       Bits 0-2: status type: 0 = warning, 1 = success, 2 = error, 3 = info ...                The important thing to know is that odd numbers are considered                good, while even ones are considered errors.      Bits 3-15: actual status number      Bits 16-27: facility number.  0 is considered "unknown"      Bits 28-31: control bits.  If bit 28 is set, the shell won't try to                  output the message (which, for random codes, just looks ugly)       So, what we do here is to change 0 to 1 to get the default success status,      and everything else is shifted up to fit into the status number field, and      the status is tagged as an error, which I believe is what is wanted here.      -- Richard Levitte   */
define|#
directive|define
name|EXIT
parameter_list|(
name|n
parameter_list|)
value|do { int __VMS_EXIT = n; \                                      if (__VMS_EXIT == 0) \                                        __VMS_EXIT = 1; \                                      else \                                        __VMS_EXIT = (n<< 3) | 2; \                                      __VMS_EXIT |= 0x10000000; \                                      exit(__VMS_EXIT); } while(0)
define|#
directive|define
name|NO_SYS_PARAM_H
elif|#
directive|elif
name|defined
argument_list|(
name|OPENSSL_SYS_NETWARE
argument_list|)
include|#
directive|include
file|<fcntl.h>
include|#
directive|include
file|<unistd.h>
define|#
directive|define
name|NO_SYS_TYPES_H
undef|#
directive|undef
name|DEVRANDOM
ifdef|#
directive|ifdef
name|NETWARE_CLIB
define|#
directive|define
name|getpid
value|GetThreadID
specifier|extern
name|int
name|GetThreadID
parameter_list|(
name|void
parameter_list|)
function_decl|;
comment|/* #      include<conio.h> */
specifier|extern
name|int
name|kbhit
parameter_list|(
name|void
parameter_list|)
function_decl|;
else|#
directive|else
include|#
directive|include
file|<screen.h>
endif|#
directive|endif
define|#
directive|define
name|NO_SYSLOG
define|#
directive|define
name|_setmode
value|setmode
define|#
directive|define
name|_kbhit
value|kbhit
define|#
directive|define
name|_O_TEXT
value|O_TEXT
define|#
directive|define
name|_O_BINARY
value|O_BINARY
define|#
directive|define
name|OPENSSL_CONF
value|"openssl.cnf"
define|#
directive|define
name|SSLEAY_CONF
value|OPENSSL_CONF
define|#
directive|define
name|RFILE
value|".rnd"
define|#
directive|define
name|LIST_SEPARATOR_CHAR
value|';'
define|#
directive|define
name|EXIT
parameter_list|(
name|n
parameter_list|)
value|{ if (n) printf("ERROR: %d\n", (int)n); exit(n); }
else|#
directive|else
comment|/* !defined VMS */
ifdef|#
directive|ifdef
name|OPENSSL_SYS_MPE
define|#
directive|define
name|NO_SYS_PARAM_H
endif|#
directive|endif
ifdef|#
directive|ifdef
name|OPENSSL_UNISTD
include|#
directive|include
include|OPENSSL_UNISTD
else|#
directive|else
include|#
directive|include
file|<unistd.h>
endif|#
directive|endif
ifndef|#
directive|ifndef
name|NO_SYS_TYPES_H
include|#
directive|include
file|<sys/types.h>
endif|#
directive|endif
if|#
directive|if
name|defined
argument_list|(
name|NeXT
argument_list|)
operator|||
name|defined
argument_list|(
name|OPENSSL_SYS_NEWS4
argument_list|)
define|#
directive|define
name|pid_t
value|int
comment|/* pid_t is missing on NEXTSTEP/OPENSTEP                                  * (unless when compiling with                                  * -D_POSIX_SOURCE, which doesn't work for                                  * us) */
endif|#
directive|endif
ifdef|#
directive|ifdef
name|OPENSSL_SYS_NEWS4
comment|/* setvbuf is missing on mips-sony-bsd */
define|#
directive|define
name|setvbuf
parameter_list|(
name|a
parameter_list|,
name|b
parameter_list|,
name|c
parameter_list|,
name|d
parameter_list|)
value|setbuffer((a), (b), (d))
typedef|typedef
name|unsigned
name|long
name|clock_t
typedef|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|OPENSSL_SYS_WIN32_CYGWIN
include|#
directive|include
file|<io.h>
include|#
directive|include
file|<fcntl.h>
endif|#
directive|endif
define|#
directive|define
name|OPENSSL_CONF
value|"openssl.cnf"
define|#
directive|define
name|SSLEAY_CONF
value|OPENSSL_CONF
define|#
directive|define
name|RFILE
value|".rnd"
define|#
directive|define
name|LIST_SEPARATOR_CHAR
value|':'
define|#
directive|define
name|NUL_DEV
value|"/dev/null"
define|#
directive|define
name|EXIT
parameter_list|(
name|n
parameter_list|)
value|exit(n)
endif|#
directive|endif
define|#
directive|define
name|SSLeay_getpid
parameter_list|()
value|getpid()
endif|#
directive|endif
comment|/*************/
ifdef|#
directive|ifdef
name|USE_SOCKETS
if|#
directive|if
name|defined
argument_list|(
name|WINDOWS
argument_list|)
operator|||
name|defined
argument_list|(
name|MSDOS
argument_list|)
comment|/* windows world */
ifdef|#
directive|ifdef
name|OPENSSL_NO_SOCK
define|#
directive|define
name|SSLeay_Write
parameter_list|(
name|a
parameter_list|,
name|b
parameter_list|,
name|c
parameter_list|)
value|(-1)
define|#
directive|define
name|SSLeay_Read
parameter_list|(
name|a
parameter_list|,
name|b
parameter_list|,
name|c
parameter_list|)
value|(-1)
define|#
directive|define
name|SHUTDOWN
parameter_list|(
name|fd
parameter_list|)
value|close(fd)
define|#
directive|define
name|SHUTDOWN2
parameter_list|(
name|fd
parameter_list|)
value|close(fd)
elif|#
directive|elif
operator|!
name|defined
argument_list|(
name|__DJGPP__
argument_list|)
if|#
directive|if
name|defined
argument_list|(
name|_WIN32_WCE
argument_list|)
operator|&&
name|_WIN32_WCE
operator|<
literal|410
define|#
directive|define
name|getservbyname
value|_masked_declaration_getservbyname
endif|#
directive|endif
if|#
directive|if
operator|!
name|defined
argument_list|(
name|IPPROTO_IP
argument_list|)
comment|/* winsock[2].h was included already? */
include|#
directive|include
file|<winsock.h>
endif|#
directive|endif
ifdef|#
directive|ifdef
name|getservbyname
undef|#
directive|undef
name|getservbyname
comment|/* this is used to be wcecompat/include/winsock_extras.h */
name|struct
name|servent
modifier|*
name|PASCAL
name|getservbyname
parameter_list|(
specifier|const
name|char
modifier|*
parameter_list|,
specifier|const
name|char
modifier|*
parameter_list|)
function_decl|;
endif|#
directive|endif
ifdef|#
directive|ifdef
name|_WIN64
comment|/*  * Even though sizeof(SOCKET) is 8, it's safe to cast it to int, because  * the value constitutes an index in per-process table of limited size  * and not a real pointer.  */
define|#
directive|define
name|socket
parameter_list|(
name|d
parameter_list|,
name|t
parameter_list|,
name|p
parameter_list|)
value|((int)socket(d,t,p))
define|#
directive|define
name|accept
parameter_list|(
name|s
parameter_list|,
name|f
parameter_list|,
name|l
parameter_list|)
value|((int)accept(s,f,l))
endif|#
directive|endif
define|#
directive|define
name|SSLeay_Write
parameter_list|(
name|a
parameter_list|,
name|b
parameter_list|,
name|c
parameter_list|)
value|send((a),(b),(c),0)
define|#
directive|define
name|SSLeay_Read
parameter_list|(
name|a
parameter_list|,
name|b
parameter_list|,
name|c
parameter_list|)
value|recv((a),(b),(c),0)
define|#
directive|define
name|SHUTDOWN
parameter_list|(
name|fd
parameter_list|)
value|{ shutdown((fd),0); closesocket(fd); }
define|#
directive|define
name|SHUTDOWN2
parameter_list|(
name|fd
parameter_list|)
value|{ shutdown((fd),2); closesocket(fd); }
else|#
directive|else
define|#
directive|define
name|SSLeay_Write
parameter_list|(
name|a
parameter_list|,
name|b
parameter_list|,
name|c
parameter_list|)
value|write_s(a,b,c,0)
define|#
directive|define
name|SSLeay_Read
parameter_list|(
name|a
parameter_list|,
name|b
parameter_list|,
name|c
parameter_list|)
value|read_s(a,b,c)
define|#
directive|define
name|SHUTDOWN
parameter_list|(
name|fd
parameter_list|)
value|close_s(fd)
define|#
directive|define
name|SHUTDOWN2
parameter_list|(
name|fd
parameter_list|)
value|close_s(fd)
endif|#
directive|endif
elif|#
directive|elif
name|defined
argument_list|(
name|MAC_OS_pre_X
argument_list|)
include|#
directive|include
file|"MacSocket.h"
define|#
directive|define
name|SSLeay_Write
parameter_list|(
name|a
parameter_list|,
name|b
parameter_list|,
name|c
parameter_list|)
value|MacSocket_send((a),(b),(c))
define|#
directive|define
name|SSLeay_Read
parameter_list|(
name|a
parameter_list|,
name|b
parameter_list|,
name|c
parameter_list|)
value|MacSocket_recv((a),(b),(c),true)
define|#
directive|define
name|SHUTDOWN
parameter_list|(
name|fd
parameter_list|)
value|MacSocket_close(fd)
define|#
directive|define
name|SHUTDOWN2
parameter_list|(
name|fd
parameter_list|)
value|MacSocket_close(fd)
elif|#
directive|elif
name|defined
argument_list|(
name|OPENSSL_SYS_NETWARE
argument_list|)
comment|/*           * NetWare uses the WinSock2 interfaces by default, but can be           * configured for BSD           */
if|#
directive|if
name|defined
argument_list|(
name|NETWARE_BSDSOCK
argument_list|)
include|#
directive|include
file|<sys/socket.h>
include|#
directive|include
file|<netinet/in.h>
include|#
directive|include
file|<sys/time.h>
if|#
directive|if
name|defined
argument_list|(
name|NETWARE_CLIB
argument_list|)
include|#
directive|include
file|<sys/bsdskt.h>
else|#
directive|else
include|#
directive|include
file|<sys/select.h>
endif|#
directive|endif
define|#
directive|define
name|INVALID_SOCKET
value|(int)(~0)
else|#
directive|else
include|#
directive|include
file|<novsock2.h>
endif|#
directive|endif
define|#
directive|define
name|SSLeay_Write
parameter_list|(
name|a
parameter_list|,
name|b
parameter_list|,
name|c
parameter_list|)
value|send((a),(b),(c),0)
define|#
directive|define
name|SSLeay_Read
parameter_list|(
name|a
parameter_list|,
name|b
parameter_list|,
name|c
parameter_list|)
value|recv((a),(b),(c),0)
define|#
directive|define
name|SHUTDOWN
parameter_list|(
name|fd
parameter_list|)
value|{ shutdown((fd),0); closesocket(fd); }
define|#
directive|define
name|SHUTDOWN2
parameter_list|(
name|fd
parameter_list|)
value|{ shutdown((fd),2); closesocket(fd); }
else|#
directive|else
ifndef|#
directive|ifndef
name|NO_SYS_PARAM_H
include|#
directive|include
file|<sys/param.h>
endif|#
directive|endif
ifdef|#
directive|ifdef
name|OPENSSL_SYS_VXWORKS
include|#
directive|include
file|<time.h>
elif|#
directive|elif
operator|!
name|defined
argument_list|(
name|OPENSSL_SYS_MPE
argument_list|)
include|#
directive|include
file|<sys/time.h>
comment|/* Needed under linux for FD_XXX */
endif|#
directive|endif
include|#
directive|include
file|<netdb.h>
if|#
directive|if
name|defined
argument_list|(
name|OPENSSL_SYS_VMS_NODECC
argument_list|)
include|#
directive|include
file|<socket.h>
include|#
directive|include
file|<in.h>
include|#
directive|include
file|<inet.h>
else|#
directive|else
include|#
directive|include
file|<sys/socket.h>
ifdef|#
directive|ifdef
name|FILIO_H
include|#
directive|include
file|<sys/filio.h>
comment|/* Added for FIONBIO under unixware */
endif|#
directive|endif
include|#
directive|include
file|<netinet/in.h>
if|#
directive|if
operator|!
name|defined
argument_list|(
name|OPENSSL_SYS_BEOS_R5
argument_list|)
include|#
directive|include
file|<arpa/inet.h>
endif|#
directive|endif
endif|#
directive|endif
if|#
directive|if
name|defined
argument_list|(
name|NeXT
argument_list|)
operator|||
name|defined
argument_list|(
name|_NEXT_SOURCE
argument_list|)
include|#
directive|include
file|<sys/fcntl.h>
include|#
directive|include
file|<sys/types.h>
endif|#
directive|endif
ifdef|#
directive|ifdef
name|OPENSSL_SYS_AIX
include|#
directive|include
file|<sys/select.h>
endif|#
directive|endif
ifdef|#
directive|ifdef
name|__QNX__
include|#
directive|include
file|<sys/select.h>
endif|#
directive|endif
if|#
directive|if
name|defined
argument_list|(
name|__sun
argument_list|)
operator|||
name|defined
argument_list|(
name|sun
argument_list|)
include|#
directive|include
file|<sys/filio.h>
else|#
directive|else
ifndef|#
directive|ifndef
name|VMS
include|#
directive|include
file|<sys/ioctl.h>
else|#
directive|else
comment|/* ioctl is only in VMS> 7.0 and when socketshr is not used */
if|#
directive|if
operator|!
name|defined
argument_list|(
name|TCPIP_TYPE_SOCKETSHR
argument_list|)
operator|&&
name|defined
argument_list|(
name|__VMS_VER
argument_list|)
operator|&&
operator|(
name|__VMS_VER
operator|>
literal|70000000
operator|)
include|#
directive|include
file|<sys/ioctl.h>
endif|#
directive|endif
endif|#
directive|endif
endif|#
directive|endif
ifdef|#
directive|ifdef
name|VMS
include|#
directive|include
file|<unixio.h>
if|#
directive|if
name|defined
argument_list|(
name|TCPIP_TYPE_SOCKETSHR
argument_list|)
include|#
directive|include
file|<socketshr.h>
endif|#
directive|endif
endif|#
directive|endif
define|#
directive|define
name|SSLeay_Read
parameter_list|(
name|a
parameter_list|,
name|b
parameter_list|,
name|c
parameter_list|)
value|read((a),(b),(c))
define|#
directive|define
name|SSLeay_Write
parameter_list|(
name|a
parameter_list|,
name|b
parameter_list|,
name|c
parameter_list|)
value|write((a),(b),(c))
define|#
directive|define
name|SHUTDOWN
parameter_list|(
name|fd
parameter_list|)
value|{ shutdown((fd),0); closesocket((fd)); }
define|#
directive|define
name|SHUTDOWN2
parameter_list|(
name|fd
parameter_list|)
value|{ shutdown((fd),2); closesocket((fd)); }
ifndef|#
directive|ifndef
name|INVALID_SOCKET
define|#
directive|define
name|INVALID_SOCKET
value|(-1)
endif|#
directive|endif
comment|/* INVALID_SOCKET */
endif|#
directive|endif
comment|/*  * Some IPv6 implementations are broken, disable them in known bad versions.  */
if|#
directive|if
operator|!
name|defined
argument_list|(
name|OPENSSL_USE_IPV6
argument_list|)
if|#
directive|if
name|defined
argument_list|(
name|AF_INET6
argument_list|)
operator|&&
operator|!
name|defined
argument_list|(
name|OPENSSL_SYS_BEOS_BONE
argument_list|)
operator|&&
operator|!
name|defined
argument_list|(
name|NETWARE_CLIB
argument_list|)
define|#
directive|define
name|OPENSSL_USE_IPV6
value|1
else|#
directive|else
define|#
directive|define
name|OPENSSL_USE_IPV6
value|0
endif|#
directive|endif
endif|#
directive|endif
endif|#
directive|endif
if|#
directive|if
operator|(
name|defined
argument_list|(
name|__sun
argument_list|)
operator|||
name|defined
argument_list|(
name|sun
argument_list|)
operator|)
operator|&&
operator|!
name|defined
argument_list|(
name|__svr4__
argument_list|)
operator|&&
operator|!
name|defined
argument_list|(
name|__SVR4
argument_list|)
comment|/* include headers first, so our defines don't break it */
include|#
directive|include
file|<stdlib.h>
include|#
directive|include
file|<string.h>
comment|/* bcopy can handle overlapping moves according to SunOS 4.1.4 manpage */
define|#
directive|define
name|memmove
parameter_list|(
name|s1
parameter_list|,
name|s2
parameter_list|,
name|n
parameter_list|)
value|bcopy((s2),(s1),(n))
define|#
directive|define
name|strtoul
parameter_list|(
name|s
parameter_list|,
name|e
parameter_list|,
name|b
parameter_list|)
value|((unsigned long int)strtol((s),(e),(b)))
specifier|extern
name|char
modifier|*
name|sys_errlist
index|[]
decl_stmt|;
specifier|extern
name|int
name|sys_nerr
decl_stmt|;
define|#
directive|define
name|strerror
parameter_list|(
name|errnum
parameter_list|)
define|\
value|(((errnum)<0 || (errnum)>=sys_nerr) ? NULL : sys_errlist[errnum])
comment|/* Being signed SunOS 4.x memcpy breaks ASN1_OBJECT table lookup */
include|#
directive|include
file|"crypto/o_str.h"
define|#
directive|define
name|memcmp
value|OPENSSL_memcmp
endif|#
directive|endif
ifndef|#
directive|ifndef
name|OPENSSL_EXIT
if|#
directive|if
name|defined
argument_list|(
name|MONOLITH
argument_list|)
operator|&&
operator|!
name|defined
argument_list|(
name|OPENSSL_C
argument_list|)
define|#
directive|define
name|OPENSSL_EXIT
parameter_list|(
name|n
parameter_list|)
value|return(n)
else|#
directive|else
define|#
directive|define
name|OPENSSL_EXIT
parameter_list|(
name|n
parameter_list|)
value|do { EXIT(n); return(n); } while(0)
endif|#
directive|endif
endif|#
directive|endif
comment|/***********************************************/
define|#
directive|define
name|DG_GCC_BUG
comment|/* gcc< 2.6.3 on DGUX */
ifdef|#
directive|ifdef
name|sgi
define|#
directive|define
name|IRIX_CC_BUG
comment|/* all version of IRIX I've tested (4.* 5.*) */
endif|#
directive|endif
ifdef|#
directive|ifdef
name|OPENSSL_SYS_SNI
define|#
directive|define
name|IRIX_CC_BUG
comment|/* CDS++ up to V2.0Bsomething suffered from                                  * the same bug. */
endif|#
directive|endif
if|#
directive|if
name|defined
argument_list|(
name|OPENSSL_SYS_WINDOWS
argument_list|)
define|#
directive|define
name|strcasecmp
value|_stricmp
define|#
directive|define
name|strncasecmp
value|_strnicmp
elif|#
directive|elif
name|defined
argument_list|(
name|OPENSSL_SYS_VMS
argument_list|)
comment|/* VMS below version 7.0 doesn't have strcasecmp() */
include|#
directive|include
file|"o_str.h"
define|#
directive|define
name|strcasecmp
value|OPENSSL_strcasecmp
define|#
directive|define
name|strncasecmp
value|OPENSSL_strncasecmp
define|#
directive|define
name|OPENSSL_IMPLEMENTS_strncasecmp
elif|#
directive|elif
name|defined
argument_list|(
name|OPENSSL_SYS_OS2
argument_list|)
operator|&&
name|defined
argument_list|(
name|__EMX__
argument_list|)
define|#
directive|define
name|strcasecmp
value|stricmp
define|#
directive|define
name|strncasecmp
value|strnicmp
elif|#
directive|elif
name|defined
argument_list|(
name|OPENSSL_SYS_NETWARE
argument_list|)
include|#
directive|include
file|<string.h>
if|#
directive|if
name|defined
argument_list|(
name|NETWARE_CLIB
argument_list|)
define|#
directive|define
name|strcasecmp
value|stricmp
define|#
directive|define
name|strncasecmp
value|strnicmp
endif|#
directive|endif
comment|/* NETWARE_CLIB */
endif|#
directive|endif
if|#
directive|if
name|defined
argument_list|(
name|OPENSSL_SYS_OS2
argument_list|)
operator|&&
name|defined
argument_list|(
name|__EMX__
argument_list|)
include|#
directive|include
file|<io.h>
include|#
directive|include
file|<fcntl.h>
define|#
directive|define
name|NO_SYSLOG
endif|#
directive|endif
comment|/* vxworks */
if|#
directive|if
name|defined
argument_list|(
name|OPENSSL_SYS_VXWORKS
argument_list|)
include|#
directive|include
file|<ioLib.h>
include|#
directive|include
file|<tickLib.h>
include|#
directive|include
file|<sysLib.h>
define|#
directive|define
name|TTY_STRUCT
value|int
define|#
directive|define
name|sleep
parameter_list|(
name|a
parameter_list|)
value|taskDelay((a) * sysClkRateGet())
include|#
directive|include
file|<vxWorks.h>
include|#
directive|include
file|<sockLib.h>
include|#
directive|include
file|<taskLib.h>
define|#
directive|define
name|getpid
value|taskIdSelf
comment|/*  * NOTE: these are implemented by helpers in database app! if the database is  * not linked, we need to implement them elswhere  */
name|struct
name|hostent
modifier|*
name|gethostbyname
parameter_list|(
specifier|const
name|char
modifier|*
name|name
parameter_list|)
function_decl|;
name|struct
name|hostent
modifier|*
name|gethostbyaddr
parameter_list|(
specifier|const
name|char
modifier|*
name|addr
parameter_list|,
name|int
name|length
parameter_list|,
name|int
name|type
parameter_list|)
function_decl|;
name|struct
name|servent
modifier|*
name|getservbyname
parameter_list|(
specifier|const
name|char
modifier|*
name|name
parameter_list|,
specifier|const
name|char
modifier|*
name|proto
parameter_list|)
function_decl|;
endif|#
directive|endif
comment|/* end vxworks */
comment|/* beos */
if|#
directive|if
name|defined
argument_list|(
name|OPENSSL_SYS_BEOS_R5
argument_list|)
define|#
directive|define
name|SO_ERROR
value|0
define|#
directive|define
name|NO_SYS_UN
define|#
directive|define
name|IPPROTO_IP
value|0
include|#
directive|include
file|<OS.h>
endif|#
directive|endif
if|#
directive|if
operator|!
name|defined
argument_list|(
specifier|inline
argument_list|)
operator|&&
operator|!
name|defined
argument_list|(
name|__cplusplus
argument_list|)
if|#
directive|if
name|defined
argument_list|(
name|__STDC_VERSION__
argument_list|)
operator|&&
name|__STDC_VERSION__
operator|>=
literal|199901L
comment|/* do nothing, inline works */
elif|#
directive|elif
name|defined
argument_list|(
name|__GNUC__
argument_list|)
operator|&&
name|__GNUC__
operator|>=
literal|2
define|#
directive|define
name|inline
value|__inline__
elif|#
directive|elif
name|defined
argument_list|(
name|_MSC_VER
argument_list|)
comment|/*    * Visual Studio: inline is available in C++ only, however    * __inline is available for C, see    * http://msdn.microsoft.com/en-us/library/z8y1yy88.aspx    */
define|#
directive|define
name|inline
value|__inline
else|#
directive|else
define|#
directive|define
name|inline
endif|#
directive|endif
endif|#
directive|endif
ifdef|#
directive|ifdef
name|__cplusplus
block|}
end_extern

begin_endif
endif|#
directive|endif
end_endif

begin_endif
endif|#
directive|endif
end_endif

end_unit

