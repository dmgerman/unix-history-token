begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_include
include|#
directive|include
file|<stdio.h>
end_include

begin_comment
comment|/* This is a cc optimiser bug for ultrix 4.3, mips CPU.  * What happens is that the compiler, due to the (a)&7,  * does  * i=a&7;  * i--;  * i*=4;  * Then uses i as the offset into a jump table.  * The problem is that a value of 0 generates an offset of  * 0xfffffffc.  */
end_comment

begin_function
name|main
parameter_list|()
block|{
name|f
argument_list|(
literal|5
argument_list|)
expr_stmt|;
name|f
argument_list|(
literal|0
argument_list|)
expr_stmt|;
block|}
end_function

begin_function
name|int
name|f
parameter_list|(
name|a
parameter_list|)
name|int
name|a
decl_stmt|;
block|{
switch|switch
condition|(
name|a
operator|&
literal|7
condition|)
block|{
case|case
literal|7
case|:
name|printf
argument_list|(
literal|"7\n"
argument_list|)
expr_stmt|;
case|case
literal|6
case|:
name|printf
argument_list|(
literal|"6\n"
argument_list|)
expr_stmt|;
case|case
literal|5
case|:
name|printf
argument_list|(
literal|"5\n"
argument_list|)
expr_stmt|;
case|case
literal|4
case|:
name|printf
argument_list|(
literal|"4\n"
argument_list|)
expr_stmt|;
case|case
literal|3
case|:
name|printf
argument_list|(
literal|"3\n"
argument_list|)
expr_stmt|;
case|case
literal|2
case|:
name|printf
argument_list|(
literal|"2\n"
argument_list|)
expr_stmt|;
case|case
literal|1
case|:
name|printf
argument_list|(
literal|"1\n"
argument_list|)
expr_stmt|;
ifdef|#
directive|ifdef
name|FIX_BUG
case|case
literal|0
case|:
empty_stmt|;
endif|#
directive|endif
block|}
block|}
end_function

end_unit

