begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_ifndef
ifndef|#
directive|ifndef
name|_LIBFDT_ENV_H
end_ifndef

begin_define
define|#
directive|define
name|_LIBFDT_ENV_H
end_define

begin_ifdef
ifdef|#
directive|ifdef
name|_KERNEL
end_ifdef

begin_include
include|#
directive|include
file|<sys/cdefs.h>
end_include

begin_include
include|#
directive|include
file|<sys/param.h>
end_include

begin_include
include|#
directive|include
file|<sys/types.h>
end_include

begin_include
include|#
directive|include
file|<sys/systm.h>
end_include

begin_include
include|#
directive|include
file|<sys/stdint.h>
end_include

begin_else
else|#
directive|else
end_else

begin_include
include|#
directive|include
file|<stddef.h>
end_include

begin_include
include|#
directive|include
file|<stdint.h>
end_include

begin_include
include|#
directive|include
file|<string.h>
end_include

begin_endif
endif|#
directive|endif
end_endif

begin_define
define|#
directive|define
name|EXTRACT_BYTE
parameter_list|(
name|n
parameter_list|)
value|((unsigned long long)((uint8_t *)&x)[n])
end_define

begin_function
specifier|static
specifier|inline
name|uint16_t
name|fdt16_to_cpu
parameter_list|(
name|uint16_t
name|x
parameter_list|)
block|{
return|return
operator|(
name|EXTRACT_BYTE
argument_list|(
literal|0
argument_list|)
operator|<<
literal|8
operator|)
operator||
name|EXTRACT_BYTE
argument_list|(
literal|1
argument_list|)
return|;
block|}
end_function

begin_define
define|#
directive|define
name|cpu_to_fdt16
parameter_list|(
name|x
parameter_list|)
value|fdt16_to_cpu(x)
end_define

begin_function
specifier|static
specifier|inline
name|uint32_t
name|fdt32_to_cpu
parameter_list|(
name|uint32_t
name|x
parameter_list|)
block|{
return|return
operator|(
name|EXTRACT_BYTE
argument_list|(
literal|0
argument_list|)
operator|<<
literal|24
operator|)
operator||
operator|(
name|EXTRACT_BYTE
argument_list|(
literal|1
argument_list|)
operator|<<
literal|16
operator|)
operator||
operator|(
name|EXTRACT_BYTE
argument_list|(
literal|2
argument_list|)
operator|<<
literal|8
operator|)
operator||
name|EXTRACT_BYTE
argument_list|(
literal|3
argument_list|)
return|;
block|}
end_function

begin_define
define|#
directive|define
name|cpu_to_fdt32
parameter_list|(
name|x
parameter_list|)
value|fdt32_to_cpu(x)
end_define

begin_function
specifier|static
specifier|inline
name|uint64_t
name|fdt64_to_cpu
parameter_list|(
name|uint64_t
name|x
parameter_list|)
block|{
return|return
operator|(
name|EXTRACT_BYTE
argument_list|(
literal|0
argument_list|)
operator|<<
literal|56
operator|)
operator||
operator|(
name|EXTRACT_BYTE
argument_list|(
literal|1
argument_list|)
operator|<<
literal|48
operator|)
operator||
operator|(
name|EXTRACT_BYTE
argument_list|(
literal|2
argument_list|)
operator|<<
literal|40
operator|)
operator||
operator|(
name|EXTRACT_BYTE
argument_list|(
literal|3
argument_list|)
operator|<<
literal|32
operator|)
operator||
operator|(
name|EXTRACT_BYTE
argument_list|(
literal|4
argument_list|)
operator|<<
literal|24
operator|)
operator||
operator|(
name|EXTRACT_BYTE
argument_list|(
literal|5
argument_list|)
operator|<<
literal|16
operator|)
operator||
operator|(
name|EXTRACT_BYTE
argument_list|(
literal|6
argument_list|)
operator|<<
literal|8
operator|)
operator||
name|EXTRACT_BYTE
argument_list|(
literal|7
argument_list|)
return|;
block|}
end_function

begin_define
define|#
directive|define
name|cpu_to_fdt64
parameter_list|(
name|x
parameter_list|)
value|fdt64_to_cpu(x)
end_define

begin_undef
undef|#
directive|undef
name|EXTRACT_BYTE
end_undef

begin_endif
endif|#
directive|endif
end_endif

begin_comment
comment|/* _LIBFDT_ENV_H */
end_comment

end_unit

