begin_unit|revision:0.9.5;language:C;cregit-version:0.0.1
begin_comment
comment|/*  * Playstation 3 LV1 hypercall interface  *  * $FreeBSD$  */
end_comment

begin_include
include|#
directive|include
file|<sys/types.h>
end_include

begin_enum
enum|enum
name|lpar_id
block|{
name|PS3_LPAR_ID_CURRENT
init|=
literal|0x00
block|,
name|PS3_LPAR_ID_PME
init|=
literal|0x01
block|, }
enum|;
end_enum

begin_comment
comment|/* Return codes from hypercalls */
end_comment

begin_define
define|#
directive|define
name|LV1_SUCCESS
value|0
end_define

begin_define
define|#
directive|define
name|LV1_RESOURCE_SHORTAGE
value|-2
end_define

begin_define
define|#
directive|define
name|LV1_NO_PRIVILEGE
value|-3
end_define

begin_define
define|#
directive|define
name|LV1_DENIED_BY_POLICY
value|-4
end_define

begin_define
define|#
directive|define
name|LV1_ACCESS_VIOLATION
value|-5
end_define

begin_define
define|#
directive|define
name|LV1_NO_ENTRY
value|-6
end_define

begin_define
define|#
directive|define
name|LV1_DUPLICATE_ENTRY
value|-7
end_define

begin_define
define|#
directive|define
name|LV1_TYPE_MISMATCH
value|-8
end_define

begin_define
define|#
directive|define
name|LV1_BUSY
value|-9
end_define

begin_define
define|#
directive|define
name|LV1_EMPTY
value|-10
end_define

begin_define
define|#
directive|define
name|LV1_WRONG_STATE
value|-11
end_define

begin_define
define|#
directive|define
name|LV1_NO_MATCH
value|-13
end_define

begin_define
define|#
directive|define
name|LV1_ALREADY_CONNECTED
value|-14
end_define

begin_define
define|#
directive|define
name|LV1_UNSUPPORTED_PARAMETER_VALUE
value|-15
end_define

begin_define
define|#
directive|define
name|LV1_CONDITION_NOT_SATISFIED
value|-16
end_define

begin_define
define|#
directive|define
name|LV1_ILLEGAL_PARAMETER_VALUE
value|-17
end_define

begin_define
define|#
directive|define
name|LV1_BAD_OPTION
value|-18
end_define

begin_define
define|#
directive|define
name|LV1_IMPLEMENTATION_LIMITATION
value|-19
end_define

begin_define
define|#
directive|define
name|LV1_NOT_IMPLEMENTED
value|-20
end_define

begin_define
define|#
directive|define
name|LV1_INVALID_CLASS_ID
value|-21
end_define

begin_define
define|#
directive|define
name|LV1_CONSTRAINT_NOT_SATISFIED
value|-22
end_define

begin_define
define|#
directive|define
name|LV1_ALIGNMENT_ERROR
value|-23
end_define

begin_define
define|#
directive|define
name|LV1_HARDWARE_ERROR
value|-24
end_define

begin_define
define|#
directive|define
name|LV1_INVALID_DATA_FORMAT
value|-25
end_define

begin_define
define|#
directive|define
name|LV1_INVALID_OPERATION
value|-26
end_define

begin_define
define|#
directive|define
name|LV1_INTERNAL_ERROR
value|-32768
end_define

begin_function
specifier|static
specifier|inline
name|uint64_t
name|lv1_repository_string
parameter_list|(
specifier|const
name|char
modifier|*
name|str
parameter_list|)
block|{
name|uint64_t
name|ret
init|=
literal|0
decl_stmt|;
name|strncpy
argument_list|(
operator|(
name|char
operator|*
operator|)
operator|&
name|ret
argument_list|,
name|str
argument_list|,
sizeof|sizeof
argument_list|(
name|ret
argument_list|)
argument_list|)
expr_stmt|;
return|return
operator|(
name|ret
operator|)
return|;
block|}
end_function

begin_function_decl
name|int
name|lv1_allocate_memory
parameter_list|(
name|uint64_t
name|size
parameter_list|,
name|uint64_t
name|log_page_size
parameter_list|,
name|uint64_t
name|zero
parameter_list|,
name|uint64_t
name|flags
parameter_list|,
name|uint64_t
modifier|*
name|base_addr
parameter_list|,
name|uint64_t
modifier|*
name|muid
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_write_htab_entry
parameter_list|(
name|uint64_t
name|vas_id
parameter_list|,
name|uint64_t
name|slot
parameter_list|,
name|uint64_t
name|pte_hi
parameter_list|,
name|uint64_t
name|pte_lo
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_construct_virtual_address_space
parameter_list|(
name|uint64_t
name|log_pteg_count
parameter_list|,
name|uint64_t
name|n_sizes
parameter_list|,
name|uint64_t
name|page_sizes
parameter_list|,
name|uint64_t
modifier|*
name|vas_id
parameter_list|,
name|uint64_t
modifier|*
name|hv_pteg_count
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_get_virtual_address_space_id_of_ppe
parameter_list|(
name|uint64_t
name|ppe_id
parameter_list|,
name|uint64_t
modifier|*
name|vas_id
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_query_logical_partition_address_region_info
parameter_list|(
name|uint64_t
name|lpar_id
parameter_list|,
name|uint64_t
modifier|*
name|base_addr
parameter_list|,
name|uint64_t
modifier|*
name|size
parameter_list|,
name|uint64_t
modifier|*
name|access_right
parameter_list|,
name|uint64_t
modifier|*
name|max_page_size
parameter_list|,
name|uint64_t
modifier|*
name|flags
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_select_virtual_address_space
parameter_list|(
name|uint64_t
name|vas_id
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_pause
parameter_list|(
name|uint64_t
name|mode
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_destruct_virtual_address_space
parameter_list|(
name|uint64_t
name|vas_id
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_configure_irq_state_bitmap
parameter_list|(
name|uint64_t
name|ppe_id
parameter_list|,
name|uint64_t
name|cpu_id
parameter_list|,
name|uint64_t
name|bitmap_addr
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_connect_irq_plug_ext
parameter_list|(
name|uint64_t
name|ppe_id
parameter_list|,
name|uint64_t
name|cpu_id
parameter_list|,
name|uint64_t
name|virq
parameter_list|,
name|uint64_t
name|outlet
parameter_list|,
name|uint64_t
name|zero
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_release_memory
parameter_list|(
name|uint64_t
name|base_addr
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_put_iopte
parameter_list|(
name|uint64_t
name|ioas_id
parameter_list|,
name|uint64_t
name|ioif_addr
parameter_list|,
name|uint64_t
name|lpar_addr
parameter_list|,
name|uint64_t
name|io_id
parameter_list|,
name|uint64_t
name|flags
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_disconnect_irq_plug_ext
parameter_list|(
name|uint64_t
name|ppe_id
parameter_list|,
name|uint64_t
name|cpu_id
parameter_list|,
name|uint64_t
name|virq
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_construct_event_receive_port
parameter_list|(
name|uint64_t
modifier|*
name|outlet
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_destruct_event_receive_port
parameter_list|(
name|uint64_t
name|outlet
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_send_event_locally
parameter_list|(
name|uint64_t
name|outlet
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_end_of_interrupt
parameter_list|(
name|uint64_t
name|irq
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_connect_irq_plug
parameter_list|(
name|uint64_t
name|virq
parameter_list|,
name|uint64_t
name|irq
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_disconnect_irq_plus
parameter_list|(
name|uint64_t
name|virq
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_end_of_interrupt_ext
parameter_list|(
name|uint64_t
name|ppe_id
parameter_list|,
name|uint64_t
name|cpu_id
parameter_list|,
name|uint64_t
name|virq
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_did_update_interrupt_mask
parameter_list|(
name|uint64_t
name|ppe_id
parameter_list|,
name|uint64_t
name|cpu_id
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_shutdown_logical_partition
parameter_list|(
name|uint64_t
name|cmd
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_destruct_logical_spe
parameter_list|(
name|uint64_t
name|spe_id
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_construct_logical_spe
parameter_list|(
name|uint64_t
name|pshift1
parameter_list|,
name|uint64_t
name|pshift2
parameter_list|,
name|uint64_t
name|pshift3
parameter_list|,
name|uint64_t
name|pshift4
parameter_list|,
name|uint64_t
name|pshift5
parameter_list|,
name|uint64_t
name|vas_id
parameter_list|,
name|uint64_t
name|spe_type
parameter_list|,
name|uint64_t
modifier|*
name|priv2_addr
parameter_list|,
name|uint64_t
modifier|*
name|problem_phys
parameter_list|,
name|uint64_t
modifier|*
name|local_store_phys
parameter_list|,
name|uint64_t
modifier|*
name|unused
parameter_list|,
name|uint64_t
modifier|*
name|shadow_addr
parameter_list|,
name|uint64_t
modifier|*
name|spe_id
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_set_spe_interrupt_mask
parameter_list|(
name|uint64_t
name|spe_id
parameter_list|,
name|uint64_t
name|class
parameter_list|,
name|uint64_t
name|mask
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_disable_logical_spe
parameter_list|(
name|uint64_t
name|spe_id
parameter_list|,
name|uint64_t
name|zero
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_clear_spe_interrupt_status
parameter_list|(
name|uint64_t
name|spe_id
parameter_list|,
name|uint64_t
name|class
parameter_list|,
name|uint64_t
name|stat
parameter_list|,
name|uint64_t
name|zero
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_get_spe_interrupt_status
parameter_list|(
name|uint64_t
name|spe_id
parameter_list|,
name|uint64_t
name|class
parameter_list|,
name|uint64_t
modifier|*
name|stat
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_get_logical_ppe_id
parameter_list|(
name|uint64_t
modifier|*
name|ppe_id
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_get_logical_partition_id
parameter_list|(
name|uint64_t
modifier|*
name|lpar_id
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_get_spe_irq_outlet
parameter_list|(
name|uint64_t
name|spe_id
parameter_list|,
name|uint64_t
name|class
parameter_list|,
name|uint64_t
modifier|*
name|outlet
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_set_spe_privilege_state_area_1_register
parameter_list|(
name|uint64_t
name|spe_id
parameter_list|,
name|uint64_t
name|offset
parameter_list|,
name|uint64_t
name|value
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_get_repository_node_value
parameter_list|(
name|uint64_t
name|lpar_id
parameter_list|,
name|uint64_t
name|n1
parameter_list|,
name|uint64_t
name|n2
parameter_list|,
name|uint64_t
name|n3
parameter_list|,
name|uint64_t
name|n4
parameter_list|,
name|uint64_t
modifier|*
name|v1
parameter_list|,
name|uint64_t
modifier|*
name|v2
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_read_htab_entries
parameter_list|(
name|uint64_t
name|vas_id
parameter_list|,
name|uint64_t
name|slot
parameter_list|,
name|uint64_t
modifier|*
name|hi1
parameter_list|,
name|uint64_t
modifier|*
name|hi2
parameter_list|,
name|uint64_t
modifier|*
name|hi3
parameter_list|,
name|uint64_t
modifier|*
name|hi4
parameter_list|,
name|uint64_t
modifier|*
name|rcbits
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_set_dabr
parameter_list|(
name|uint64_t
name|dabr
parameter_list|,
name|uint64_t
name|flags
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_allocate_io_segment
parameter_list|(
name|uint64_t
name|ioas_id
parameter_list|,
name|uint64_t
name|seg_size
parameter_list|,
name|uint64_t
name|io_pagesize
parameter_list|,
name|uint64_t
modifier|*
name|ioif_addr
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_release_io_segment
parameter_list|(
name|uint64_t
name|ioas_id
parameter_list|,
name|uint64_t
name|ioif_addr
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_construct_io_irq_outlet
parameter_list|(
name|uint64_t
name|interrupt_id
parameter_list|,
name|uint64_t
modifier|*
name|outlet
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_destruct_io_irq_outlet
parameter_list|(
name|uint64_t
name|outlet
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_map_htab
parameter_list|(
name|uint64_t
name|lpar_id
parameter_list|,
name|uint64_t
modifier|*
name|htab_addr
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_unmap_htab
parameter_list|(
name|uint64_t
name|htab_addr
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_get_version_info
parameter_list|(
name|uint64_t
modifier|*
name|firm_vers
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_insert_htab_entry
parameter_list|(
name|uint64_t
name|vas_id
parameter_list|,
name|uint64_t
name|pteg
parameter_list|,
name|uint64_t
name|pte_hi
parameter_list|,
name|uint64_t
name|pte_lo
parameter_list|,
name|uint64_t
name|lockflags
parameter_list|,
name|uint64_t
name|flags
parameter_list|,
name|uint64_t
modifier|*
name|index
parameter_list|,
name|uint64_t
modifier|*
name|evicted_hi
parameter_list|,
name|uint64_t
modifier|*
name|evicted_lo
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_read_virtual_uart
parameter_list|(
name|uint64_t
name|port
parameter_list|,
name|uint64_t
name|buffer
parameter_list|,
name|uint64_t
name|bytes
parameter_list|,
name|uint64_t
modifier|*
name|bytes_read
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_write_virtual_uart
parameter_list|(
name|uint64_t
name|port
parameter_list|,
name|uint64_t
name|buffer
parameter_list|,
name|uint64_t
name|bytes
parameter_list|,
name|uint64_t
modifier|*
name|bytes_written
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_set_virtual_uart_param
parameter_list|(
name|uint64_t
name|port
parameter_list|,
name|uint64_t
name|param
parameter_list|,
name|uint64_t
name|value
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_get_virtual_uart_param
parameter_list|(
name|uint64_t
name|port
parameter_list|,
name|uint64_t
name|param
parameter_list|,
name|uint64_t
modifier|*
name|value
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_configure_virtual_uart
parameter_list|(
name|uint64_t
name|lpar_addr
parameter_list|,
name|uint64_t
modifier|*
name|outlet
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_open_device
parameter_list|(
name|uint64_t
name|bus
parameter_list|,
name|uint64_t
name|dev
parameter_list|,
name|uint64_t
name|zero
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_close_device
parameter_list|(
name|uint64_t
name|bus
parameter_list|,
name|uint64_t
name|dev
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_map_device_mmio_region
parameter_list|(
name|uint64_t
name|bus
parameter_list|,
name|uint64_t
name|dev
parameter_list|,
name|uint64_t
name|bus_addr
parameter_list|,
name|uint64_t
name|size
parameter_list|,
name|uint64_t
name|page_size
parameter_list|,
name|uint64_t
modifier|*
name|lpar_addr
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_unmap_device_mmio_region
parameter_list|(
name|uint64_t
name|bus
parameter_list|,
name|uint64_t
name|dev
parameter_list|,
name|uint64_t
name|lpar_addr
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_allocate_device_dma_region
parameter_list|(
name|uint64_t
name|bus
parameter_list|,
name|uint64_t
name|dev
parameter_list|,
name|uint64_t
name|io_size
parameter_list|,
name|uint64_t
name|io_pagesize
parameter_list|,
name|uint64_t
name|flag
parameter_list|,
name|uint64_t
modifier|*
name|dma_region
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_free_device_dma_region
parameter_list|(
name|uint64_t
name|bus
parameter_list|,
name|uint64_t
name|dev
parameter_list|,
name|uint64_t
name|dma_region
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_map_device_dma_region
parameter_list|(
name|uint64_t
name|bus
parameter_list|,
name|uint64_t
name|dev
parameter_list|,
name|uint64_t
name|lpar_addr
parameter_list|,
name|uint64_t
name|dma_region
parameter_list|,
name|uint64_t
name|size
parameter_list|,
name|uint64_t
name|flags
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_unmap_device_dma_region
parameter_list|(
name|uint64_t
name|bus
parameter_list|,
name|uint64_t
name|dev
parameter_list|,
name|uint64_t
name|dma_region
parameter_list|,
name|uint64_t
name|size
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_read_pci_config
parameter_list|(
name|uint64_t
name|ps3bus
parameter_list|,
name|uint64_t
name|bus
parameter_list|,
name|uint64_t
name|dev
parameter_list|,
name|uint64_t
name|func
parameter_list|,
name|uint64_t
name|offset
parameter_list|,
name|uint64_t
name|size
parameter_list|,
name|uint64_t
modifier|*
name|result
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_write_pci_config
parameter_list|(
name|uint64_t
name|ps3bus
parameter_list|,
name|uint64_t
name|bus
parameter_list|,
name|uint64_t
name|dev
parameter_list|,
name|uint64_t
name|func
parameter_list|,
name|uint64_t
name|offset
parameter_list|,
name|uint64_t
name|size
parameter_list|,
name|uint64_t
name|data
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_net_add_multicast_address
parameter_list|(
name|uint64_t
name|bus
parameter_list|,
name|uint64_t
name|dev
parameter_list|,
name|uint64_t
name|addr
parameter_list|,
name|uint64_t
name|flags
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_net_remove_multicast_address
parameter_list|(
name|uint64_t
name|bus
parameter_list|,
name|uint64_t
name|dev
parameter_list|,
name|uint64_t
name|zero
parameter_list|,
name|uint64_t
name|one
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_net_start_tx_dma
parameter_list|(
name|uint64_t
name|bus
parameter_list|,
name|uint64_t
name|dev
parameter_list|,
name|uint64_t
name|bus_addr
parameter_list|,
name|uint64_t
name|zero
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_net_stop_tx_dma
parameter_list|(
name|uint64_t
name|bus
parameter_list|,
name|uint64_t
name|dev
parameter_list|,
name|uint64_t
name|zero
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_net_start_rx_dma
parameter_list|(
name|uint64_t
name|bus
parameter_list|,
name|uint64_t
name|dev
parameter_list|,
name|uint64_t
name|bus_addr
parameter_list|,
name|uint64_t
name|zero
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_net_stop_rx_dma
parameter_list|(
name|uint64_t
name|bus
parameter_list|,
name|uint64_t
name|dev
parameter_list|,
name|uint64_t
name|zero
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_net_set_interrupt_status_indicator
parameter_list|(
name|uint64_t
name|bus
parameter_list|,
name|uint64_t
name|dev
parameter_list|,
name|uint64_t
name|irq_status_addr
parameter_list|,
name|uint64_t
name|zero
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_net_set_interrupt_mask
parameter_list|(
name|uint64_t
name|bus
parameter_list|,
name|uint64_t
name|dev
parameter_list|,
name|uint64_t
name|mask
parameter_list|,
name|uint64_t
name|zero
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_net_control
parameter_list|(
name|uint64_t
name|bus
parameter_list|,
name|uint64_t
name|dev
parameter_list|,
name|uint64_t
name|p1
parameter_list|,
name|uint64_t
name|p2
parameter_list|,
name|uint64_t
name|p3
parameter_list|,
name|uint64_t
name|p4
parameter_list|,
name|uint64_t
modifier|*
name|v1
parameter_list|,
name|uint64_t
modifier|*
name|v2
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_connect_interrupt_event_receive_port
parameter_list|(
name|uint64_t
name|bus
parameter_list|,
name|uint64_t
name|dev
parameter_list|,
name|uint64_t
name|outlet
parameter_list|,
name|uint64_t
name|irq
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_disconnect_interrupt_event_receive_port
parameter_list|(
name|uint64_t
name|bus
parameter_list|,
name|uint64_t
name|dev
parameter_list|,
name|uint64_t
name|outlet
parameter_list|,
name|uint64_t
name|irq
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_deconfigure_virtual_uart_irq
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_enable_logical_spe
parameter_list|(
name|uint64_t
name|spe_id
parameter_list|,
name|uint64_t
name|resource_id
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_gpu_open
parameter_list|(
name|uint64_t
name|zero
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_gpu_close
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_gpu_device_map
parameter_list|(
name|uint64_t
name|dev
parameter_list|,
name|uint64_t
modifier|*
name|lpar_addr
parameter_list|,
name|uint64_t
modifier|*
name|lpar_size
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_gpu_device_unmap
parameter_list|(
name|uint64_t
name|dev
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_gpu_memory_allocate
parameter_list|(
name|uint64_t
name|ddr_size
parameter_list|,
name|uint64_t
name|zero1
parameter_list|,
name|uint64_t
name|zero2
parameter_list|,
name|uint64_t
name|zero3
parameter_list|,
name|uint64_t
name|zero4
parameter_list|,
name|uint64_t
modifier|*
name|handle
parameter_list|,
name|uint64_t
modifier|*
name|ddr_lpar
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_gpu_memory_free
parameter_list|(
name|uint64_t
name|handle
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_gpu_context_allocate
parameter_list|(
name|uint64_t
name|handle
parameter_list|,
name|uint64_t
name|flags
parameter_list|,
name|uint64_t
modifier|*
name|chandle
parameter_list|,
name|uint64_t
modifier|*
name|lpar_dma_control
parameter_list|,
name|uint64_t
modifier|*
name|lpar_driver_info
parameter_list|,
name|uint64_t
modifier|*
name|lpar_reports
parameter_list|,
name|uint64_t
modifier|*
name|lpar_reports_size
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_gpu_context_free
parameter_list|(
name|uint64_t
name|chandle
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_gpu_context_iomap
parameter_list|(
name|uint64_t
name|changle
parameter_list|,
name|uint64_t
name|gpu_ioif
parameter_list|,
name|uint64_t
name|xdr_lpar
parameter_list|,
name|uint64_t
name|fbsize
parameter_list|,
name|uint64_t
name|ioflags
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_gpu_context_attribute
parameter_list|(
name|uint64_t
name|chandle
parameter_list|,
name|uint64_t
name|op
parameter_list|,
name|uint64_t
name|p1
parameter_list|,
name|uint64_t
name|p2
parameter_list|,
name|uint64_t
name|p3
parameter_list|,
name|uint64_t
name|p4
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_gpu_context_intr
parameter_list|(
name|uint64_t
name|chandle
parameter_list|,
name|uint64_t
modifier|*
name|v1
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_gpu_attribute
parameter_list|(
name|uint64_t
name|p1
parameter_list|,
name|uint64_t
name|p2
parameter_list|,
name|uint64_t
name|p3
parameter_list|,
name|uint64_t
name|p4
parameter_list|,
name|uint64_t
name|p5
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_get_rtc
parameter_list|(
name|uint64_t
modifier|*
name|rtc_val
parameter_list|,
name|uint64_t
modifier|*
name|timebase
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_storage_read
parameter_list|(
name|uint64_t
name|dev
parameter_list|,
name|uint64_t
name|region
parameter_list|,
name|uint64_t
name|sector
parameter_list|,
name|uint64_t
name|nsectors
parameter_list|,
name|uint64_t
name|flags
parameter_list|,
name|uint64_t
name|buf
parameter_list|,
name|uint64_t
modifier|*
name|dma_tag
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_storage_write
parameter_list|(
name|uint64_t
name|dev
parameter_list|,
name|uint64_t
name|region
parameter_list|,
name|uint64_t
name|sector
parameter_list|,
name|uint64_t
name|nsectors
parameter_list|,
name|uint64_t
name|flags
parameter_list|,
name|uint64_t
name|buf
parameter_list|,
name|uint64_t
modifier|*
name|dma_tag
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_storage_send_device_command
parameter_list|(
name|uint64_t
name|dev
parameter_list|,
name|uint64_t
name|cmd_id
parameter_list|,
name|uint64_t
name|cmd_block
parameter_list|,
name|uint64_t
name|cmd_size
parameter_list|,
name|uint64_t
name|data_buf
parameter_list|,
name|uint64_t
name|blocks
parameter_list|,
name|uint64_t
modifier|*
name|dma_tag
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_storage_get_async_status
parameter_list|(
name|uint64_t
name|dev
parameter_list|,
name|uint64_t
modifier|*
name|dma_tag
parameter_list|,
name|uint64_t
modifier|*
name|status
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_storage_check_async_status
parameter_list|(
name|uint64_t
name|dev
parameter_list|,
name|uint64_t
name|dma_tag
parameter_list|,
name|uint64_t
modifier|*
name|status
parameter_list|)
function_decl|;
end_function_decl

begin_function_decl
name|int
name|lv1_panic
parameter_list|(
name|uint64_t
name|howto
parameter_list|)
function_decl|;
end_function_decl

end_unit

